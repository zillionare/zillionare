{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Home","text":"<p>\u5927\u5bcc\u7fc1 (Zillionare)\u662f\u5f00\u6e90\u91cf\u5316\u6846\u67b6\uff0c\u63d0\u4f9b\u6570\u636e\u672c\u5730\u5316\u3001\u56de\u6d4b\u3001\u4ea4\u6613\u63a5\u5165\u548c\u91cf\u5316\u5206\u6790\u5e95\u5c42\u5e93\u652f\u6301\u7b49\u4e00\u7ad9\u5f0f\u670d\u52a1\u3002\u5927\u5bcc\u7fc1\u7684\u8d77\u540d\u6709\u4e24\u91cd\u5bd3\u610f\uff0c\u4e00\u662f\u5e0c\u671b\u5979\u7684\u4f7f\u7528\u8005\u4eec\u90fd\u80fd\u5b9e\u73b0\u8d22\u5bcc\u81ea\u7531\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5927\u5bcc\u7fc1\u4e5f\u662f\u4e00\u6b3e\u6295\u8d44\u6e38\u620f\u7684\u540d\u5b57 -- \u8d22\u5bcc\u7ec8\u7a76\u53ea\u662f\u4e00\u573a\u5927\u5bcc\u7fc1\u6e38\u620f\uff0c\u4ee5\u793a\u63d0\u9192\u5927\u5bb6\uff0c\u4e0d\u8981\u5ffd\u89c6\u8fd0\u6c14\u7684\u56e0\u7d20\u3002\u5728\u6295\u8d44\u4e2d\u7684\u8fd0\u6c14\uff0c\u5176\u5b9e\u5c31\u662f\u5468\u671f\u3002\u5343\u4e07\u4e0d\u8981\u505a\u9006\u5468\u671f\u7684\u6295\u8d44\u3002Zillionare \u6700\u65b0\u7248\u672c\u662f2.0\uff0c\u63d0\u4f9b\u4e86\u6d77\u91cf\u6570\u636e\u5b58\u50a8\uff08\u5728\u6211\u4eec\u7684\u751f\u4ea7\u73af\u5883\u4e0b\uff0c\u5b58\u50a8\u8d85\u8fc730\u4ebf\u6761\u8bb0\u5f55\uff09\u548c\u9ad8\u6027\u80fd\u8bbf\u95ee\u80fd\u529b\u3002Zillionare\u662f\u5f00\u6e90\u6846\u67b6\uff0c\u60a8\u53ef\u4ee5\u81ea\u884c\u7814\u7a76\u3001\u62d3\u5c55\u8be5\u6846\u67b6\u3002\u6211\u4eec\u4e5f\u63d0\u4f9b\u4ed8\u8d39\u670d\u52a1\u3002\u6bd4\u5982\uff0c2.0\u7684Docker-compse \u5b89\u88c5\u7248\u672c\u6211\u4eec\u76ee\u524d\u53ea\u5bf9\u5b66\u5458\u63d0\u4f9b\u3002\u5173\u4e8eZillionare\u7684\u66f4\u591a\u7ec6\u8282\u8bf7\u8bbf\u95ee\u94fe\u63a5</p>"},{"location":"#_1","title":"\u6700\u65b0\u6587\u7ae0","text":"<p>\u5b58\u4e8650TB\uff01pyarrow + parquet</p> <p>\u5728\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u6307\u51fa\uff0c\u5982\u679c\u6211\u4eec\u53ea\u5728\u65e5\u7ebf\u7ea7\u522b\u4e0a\u5b58\u50a8\u884c\u60c5\u6570\u636e\u548c\u56e0\u5b50\uff0cHDF5 \u65e0\u8bba\u5982\u4f55\u90fd\u662f\u591f\u7528\u4e86\u3002\u5373\u4f7f\u662f\u5728\u5b58\u50a8\u4e86 40 \u5e74\u5206\u949f\u7ebf\u7684\u5355\u4e2a\u80a1\u6570\u636e\u96c6\u4e0a\uff0c\u67e5\u8be2\u65f6\u95f4\u4e5f\u53ea\u82b1\u4e86 0.2 \u79d2 -- \u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u8db3\u591f\u5feb\u4e86\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u9700\u8981\u5728\u5206\u949f\u7ea7\u522b\u4e0a\u8fdb\u884c\u6a2a\u622a\u9762\u6570\u636e\u67e5\u8be2\u7684\u8bdd\u3002\u53d1\u8868\u4e8e 2024-01-03 \u9605\u8bfb</p> <p>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</p> <p>\u53bb\u5e74 15 \u65e5\u7684\u7b14\u8bb0\u6316\u4e86\u4e2a\u5751\uff0c\u7ed9\u51fa\u4e86\u91cf\u5316\u6570\u636e\u548c\u56e0\u5b50\u7684\u5b58\u50a8\u65b9\u6848\u6280\u672f\u5bfc\u56fe\u3002\u8fd9\u4e00\u7bc7\u7b14\u8bb0\u5c31\u5f00\u59cb\u586b\u5751\u3002\u5373\u4f7f\u6211\u4eec\u8d2d\u4e70\u4e86\u5728\u7ebf\u6570\u636e\u670d\u52a1\uff0c\u6bd4\u5982 tushare, \u805a\u5bbd\u7684\u8d26\u53f7\uff0c\u6211\u4eec\u4ecd\u7136\u8981\u6784\u5efa\u81ea\u5df1\u7684\u672c\u5730\u5b58\u50a8\uff0c\u4e3a\u4ec0\u4e48\uff1f\u53d1\u8868\u4e8e 2024-01-02 \u9605\u8bfb</p> <p>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</p> <p>\u5982\u679c\u8bf4\u5728\u591a\u56e0\u5b50\u65f6\u4ee3\uff0c\u6211\u4eec\u53ef\u4ee5\u4ec5\u51ed\u4e00\u4e2a\u56e0\u5b50\u5c31\u6784\u5efa\u51fa\u7b56\u7565\uff0c\u5e76\u4e14\u8fd8\u5f88\u6709\u53ef\u80fd\u8dd1\u8d62\u5e02\u573a\u7684\u8bdd\uff0c\u8fd9\u4e2a\u56e0\u5b50\u5c31\u662f\u4e0d\u4e8c\u4e4b\u9009\u3002\u53d1\u8868\u4e8e 2023-12-29 \u9605\u8bfb</p> <p>\u7f8a\u7fa4\u6548\u5e94\u53ca\u5176\u56e0\u5b50\u5316</p> <p>\u5728\u4e4b\u524d\u7684\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u591a\u6b21\u5c06\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u4e0eA\u80a1\u4e2d\u6d41\u884c\u7684\u80a1\u8c1a\u3001\u89c4\u5f8b\u548c\u5927V\u7684\u7ecf\u9a8c\u4e4b\u8c08\u7ed3\u5408\u8d77\u6765\uff0c\u6211\u4eec\u620f\u79f0\u4e3a\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u7684\u4e2d\u56fd\u5316\u3002\u672c\u7bc7\u7b14\u8bb0\u5c06\u7ee7\u7eed\u6cbf\u7740\u8fd9\u4e00\u601d\u8def\u5c55\u5f00\uff0c\u4ecb\u7ecd\u7f8a\u7fa4\u6548\u5e94\uff0c\u4ee5\u53ca\u5728A\u80a1\u4e2d\uff0c\u5b83\u6709\u54ea\u4e9b\u8868\u73b0\uff0c\u5982\u4f55\u5b9e\u73b0\u56e0\u5b50\u5316\uff0c\u7b49\u7b49\u3002\u4eca\u5929\u6211\u4eec\u8981\u4ecb\u7ecd\u7684\u80a1\u8c1a\uff0c\u662f\u517b\u5bb6\u5fc3\u6cd5\u91cc\u4e2d\u7684\u4e00\u6761\uff0c\u5f97\u6563\u6237\u8005\u5f97\u5929\u4e0b\u3002\u5b83\u5b9e\u9645\u4e0a\u8bb2\u7684\u662f\u8981\u5145\u5206\u5229\u7528\u7f8a\u7fa4\u6548\u5e94\u3002\u53d1\u8868\u4e8e 2023-12-28 \u9605\u8bfb</p> <p>xtquant \u4e2d\u7684\u677f\u5757\u6570\u636e</p> <p>!!! tip \u7b14\u8bb0\u8981\u70b91. xtquant \u4e2d\u6709\u54ea\u4e9b\u677f\u5757\u548c\u677f\u5757\u5206\u7c7b\uff1f    1. \u5982\u4f55\u83b7\u53d6\u677f\u5757\u7684\u6210\u4efd\u80a1\uff1f    2. \u5982\u4f55\u83b7\u53d6\u6307\u6570\u7684\u884c\u60c5\u6570\u636e\uff1f\u53d1\u8868\u4e8e 2023-12-27 \u9605\u8bfb</p> <p>Sharpe 5.5!\u9057\u61be\u89c4\u907f\u56e0\u5b50</p> <p>\u5982\u679c\u5728\u4f60\u4e70\u5165\u4e4b\u540e\uff0c\u80a1\u4ef7\u4e0b\u8dcc\uff0c\u4f60\u4f1a\u5728\u7b2c\u4e8c\u5929\u6025\u7740\u629b\u5417\uff1f\u53cd\u4e4b\uff0c\u5982\u679c\u5728\u4f60\u5356\u51fa\u4e4b\u540e\uff0c\u80a1\u4ef7\u4e0a\u6da8\uff0c\u4f60\u4f1a\u53cd\u624b\u8ffd\u5165\u5417\uff1f\u5148\u522b\u6025\u7740\u56de\u7b54\uff0c\u6211\u4eec\u6765\u770b\u770b\u79d1\u5b66\u7814\u7a76\u7684\u7ed3\u8bba\u662f\u600e\u6837\u7684\u3002\u5173\u4e8e\u8fd9\u7c7b\u95ee\u9898\uff0c\u90fd\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7814\u7a76\u7684\u8303\u7574\u3002\u5177\u4f53\u5230\u8fd9\u4e2a\u573a\u666f\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd0\u7528\u9057\u61be\u7406\u8bba\u6765\u89e3\u91ca\u3002\u9057\u61be\u7406\u8bba\uff0c\u53c8\u79f0\u9057\u61be\u89c4\u907f\u7406\u8bba\uff08 Fear of Regret Theory\uff09\uff0c\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u91cd\u8981\u7406\u8bba\u4e4b\u4e00\uff0c\u8be5\u7406\u8bba\u8ba4\u4e3a\uff0c\u975e\u7406\u6027\u7684\u6295\u8d44\u8005\u5728\u505a\u51b3\u7b56\u65f6\uff0c\u4f1a\u503e\u5411\u4e8e\u907f\u514d\u4ea7\u751f\u540e\u6094\u60c5\u7eea\u5e76\u8ffd\u6c42\u81ea\u8c6a\u611f\uff0c\u907f\u514d\u627f\u8ba4\u4e4b\u524d\u7684\u51b3\u7b56\u5931\u8bef\u3002\u53d1\u8868\u4e8e 2023-12-26 \u9605\u8bfb</p> <p>Santa Claus Rally</p> <p>\u6bcf\u5929\u575a\u6301\u53d1\u8d34 \u3002\u5343\u5b57\u5de6\u53f3\uff0c\u56fe\u6587\u5e76\u8302\u3002\u58f0\u660e\uff1a\u8fd9\u4e00\u5929\u6211\u4eec\u4e5f\u6ca1\u6709\u6f0f\u53d1\u3002---Santa Claus Rally \u662f\u6307 12 \u6708 25 \u65e5\u5723\u8bde\u8282\u524d\u540e\u80a1\u5e02\u7684\u6301\u7eed\u4e0a\u6da8\u8fd9\u6837\u4e00\u4e2a\u73b0\u8c61\u3002\u300a\u80a1\u7968\u4ea4\u6613\u5458\u5e74\u9274\u300b\u7684\u521b\u59cb\u4eba Yale Hirsch \u4e8e 1972 \u5e74\u521b\u9020\u4e86\u8fd9\u4e2a\u5b9a\u4e49\uff0c\u4ed6\u5c06\u5f53\u5e74\u6700\u540e\u4e94\u4e2a\u4ea4\u6613\u65e5\u548c\u6b21\u5e74\u524d\u4e24\u4e2a\u4ea4\u6613\u65e5\u7684\u65f6\u95f4\u8303\u56f4\u5b9a\u4e49\u4e3a\u53cd\u5f39\u65e5\u671f\u3002\u53d1\u8868\u4e8e 2023-12-25 \u9605\u8bfb</p> <p>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</p> <p>\u4e2a\u80a1\u7684\u9876\u5e95\u5f3a\u5f31\u6bd4\u8f83\u96be\u4ee5\u628a\u63e1\uff0c\u5b83\u4eec\u7684\u5076\u7136\u6027\u592a\u5f3a\u3002\u8463\u4e8b\u957f\u6709\u53ef\u80fd\u8dd1\u8def\uff0c\u4e2a\u80a1\u4e5f\u53ef\u80fd\u9047\u5230\u7a81\u53d1\u5229\u597d\uff08\u6bd4\u5982\u7ade\u4e89\u5bf9\u624b\u4ed3\u5e93\u5931\u706b\uff09\u3002\u5728\u4e2a\u80a1\u7684\u9876\u5e95\u5904\uff0c\u60c5\u7eea\u5360\u636e\u4e3b\u5bfc\u5730\u4f4d\uff0c\u7406\u6027\u9000\u907f\u6b21\u5e2d\uff0c\u6280\u672f\u6307\u6807\u51fa\u73b0\u949d\u5316\uff0c\u8fdb\u5165\u73b0\u72b6\u4e0d\u53ef\u63cf\u8ff0\uff0c\u4e00\u5207\u7686\u6709\u53ef\u80fd\u7684\u72b6\u6001\u3002\u4f46\u662f\uff0c\u884c\u4e1a\u6307\u6570\u4f5c\u4e3a\u591a\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u53e0\u52a0\uff0c\u5c31\u4f1a\u51fa\u73b0\u4e00\u5b9a\u7684\u89c4\u5f8b\u6027\uff08\u53d7A4\u7cfb\u7edf\u6027\u5f71\u54cd\u7684\u5076\u7136\u6027\u6211\u4eec\u5148\u6392\u9664\u5728\u5916\uff0c\u6bd5\u7adf\u4e5f\u4e0d\u662f\u5929\u5929\u6709A4\uff09\u3002\u8fd9\u662f\u56e0\u5b50\u5206\u6790\u548c\u6280\u672f\u5206\u6790\u53ef\u4ee5\u4e00\u5c55\u8eab\u624b\u7684\u5730\u65b9\u3002\u53d1\u8868\u4e8e 2023-12-24 \u9605\u8bfb</p> <p>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</p> <p>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50\u6700\u521d\u6765\u81ea\u4e8e\u8036\u9c81\u5927\u5b66 Tobias Moskowitz \u7684\u53d1\u8868\u4e8e 2021 \u5e74 9 \u6708\u7684\u4e00\u7bc7\u8bba\u6587\uff0c\u53d1\u5e03\u4ee5\u6765\uff0c\u5f97\u5230\u4e86\u8d85\u8fc7 14 \u6b21\u4ee5\u4e0a\u7684\u5f15\u7528\u3002\u8fd9\u7bc7\u8bba\u6587\u540d\u4e3a\u300aAsset Pricing and Sports Betting\u300b\u3002\u53d1\u8868\u4e8e 2023-12-23 \u9605\u8bfb</p> <p>QMT/XtQuant \u4e4b\u5f00\u53d1\u73af\u5883\u7bc7</p> <p>!!! tip \u7b14\u8bb0\u8981\u70b9    1. XtQuant \u83b7\u53d6\u53ca\u5b89\u88c5    2. XtQuant \u5de5\u4f5c\u539f\u7406 \uff08\u56fe2\uff09    3. \u7248\u672c\u548c\u6587\u6863\u4e00\u81f4\u6027\u95ee\u9898 \uff08\u56fe3\uff09    4. \u4f7f\u7528 VsCode \u8fdc\u7a0b\u5f00\u53d1\u53d1\u8868\u4e8e 2023-12-22 \u9605\u8bfb</p>"},{"location":"authors/","title":"Authors","text":""},{"location":"authors/#credits","title":"Credits","text":""},{"location":"authors/#development-lead","title":"Development Lead","text":"<ul> <li>Aaron Yang code@jieyu.ai</li> </ul>"},{"location":"authors/#contributors","title":"Contributors","text":"<p>None yet. Why not be the first?</p>"},{"location":"contact/","title":"Contact","text":""},{"location":"contact/#_1","title":"\u8054\u7cfb\u4eba","text":"<p>\u5927\u5bcc\u7fc1\u91cf\u5316\u793e\u533a\u63d0\u4f9b\u4e86\u91cf\u5316\u6846\u67b6\u3001\u5728\u7ebf\u91cf\u5316\u73af\u5883\u548c\u57f9\u8bad\u8bfe\u7a0b\u3002\u91cf\u5316\u6846\u67b6\u53ef\u901a\u8fc7github\u83b7\u53d6\uff0c\u57f9\u8bad\u548c\u6307\u5bfc\u8bf7\u8054\u7cfb</p> \u5bbd\u7c89\uff08\u8bfe\u7a0b\u54a8\u8be2\uff09 \u516c\u4f17\u53f7"},{"location":"contact/#qq","title":"\u5343\u4ebaQQ\u7fa4","text":"<p>1000\u591a\u91cf\u5316\u4eba\u6b63\u5728 QQ\u7fa4 \u91cc\u7b49\u4f60\uff01</p>"},{"location":"contact/#5","title":"\u91cf\u5316\u98ce\u4e91@\u5c0f\u7ea2\u4e66 \uff085\u4e07\u7c89\uff09","text":"<p>\u6211\u4eec\u5728\u5c0f\u7ea2\u4e66\u4e0a\u6709\u63a5\u8fd15\u4e07\u4eba\u5173\u6ce8\uff0c\u662f\u91cf\u5316\u9886\u57df\u7b2c\u4e00IP\u3002\u641c\u7d22\u91cf\u5316\u98ce\u4e91\uff0c\u6309\u7528\u6237\u6392\u5e8f\uff0c\u7b2c\u4e00\u4e2a\u5c31\u662f\u6211\u4eec\u3002\u6b22\u8fce\u70b9\u51fbFollow</p> <p></p>"},{"location":"contact/#_2","title":"\u91cf\u5316\u98ce\u4e91@\u77e5\u4e4e \uff08\u4e07\u7c89\uff09","text":"<p>\u6211\u4eec\u5728\u77e5\u4e4e\u4e0a\u67091.2\u4e07\u7c89\u4e1d\u3002\u6b22\u8fce\u70b9\u51fbFollow</p>"},{"location":"history/","title":"History","text":""},{"location":"history/#100a1-2020313","title":"1.0.0.a1 (2020/3/13)","text":"<ol> <li>A\u80a1\u884c\u60c5\u6570\u636e\u7684\u5b9e\u65f6\u83b7\u53d6\u53ca\u540c\u6b65\u4efb\u52a1\u3002</li> <li>\u63d0\u4f9b\u4ece2015\u5e74\u4ee5\u6765\u768430\u5206\u949f\u7ebf\u53ca\u4ee5\u4e0aK\u7ebf\u6570\u636e\u5bfc\u5165\u3002</li> <li>\u884c\u60c5\u6570\u636e\u7684\u672c\u5730\u5316\u5b58\u50a8\u53caSDK\u3002</li> <li>\u8d22\u52a1\u6570\u636e\u540c\u6b65\u3001\u672c\u5730\u5316\u5b58\u50a8\u53caSDK\u3002</li> <li>\u6570\u636e\u8bbf\u95eeSDK\u5305\u62ec\u4ee5\u4e0b\u529f\u80fd\uff1a     a. \u8bc1\u5238\u5217\u8868\u548c\u4ea4\u6613\u65e5\u5386     b. \u65f6\u95f4\u5e27\u7684\u8ba1\u7b97\u3001\u57fa\u4e8e\u65f6\u95f4\u5e27\u7684\u89e6\u53d1\u5668\uff08\u7528\u4ee5\u6839\u636e\u6536\u76d8\u65f6\u95f4\u81ea\u5b9a\u4e49\u4efb\u52a1\uff0c\u6bd4\u5982\u89e6\u53d1\u4ea4\u6613\u7b56\u7565\uff09     c. \u884c\u60c5\u6570\u636e\u8bbf\u95ee\uff1a\u5bf9\u4efb\u4f55\u4e00\u6bb5\u884c\u60c5\u6570\u636e\uff0c\u4ec5\u6709\u672a\u540c\u6b65\u5230\u672c\u5730\u7684\u6570\u636e\u624d\u4f1a\u5411\u4e0a\u6e38\u670d\u52a1\u5668\u8bf7\u6c42\uff0c\u5e76\u81ea\u52a8\u5c06\u5df2\u95ed\u5408\u7684\u6570\u636e\u5728\u672c\u5730\u7f13\u5b58\uff0c\u907f\u514d\u518d\u6b21\u5411\u4e0a\u6e38\u670d\u52a1\u5668\u8bf7\u6c42\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5bf9\u7528\u6237\u5b8c\u5168\u900f\u660e\uff0c\u65e0\u987b\u7528\u6237\u53c2\u4e0e\u3002     d. \u5e02\u503c\u6570\u636e\u8bbf\u95ee\u3002</li> <li>\u63d0\u4f9b\u5bb9\u5668\u5316\u90e8\u7f72\u7248\u672c</li> <li>\u91cf\u5316\u4ea4\u6613\u6559\u7a0b\uff080-9\uff09</li> </ol>"},{"location":"history/#010-2020-11-01","title":"0.1.0 (2020-11-01)","text":"<ul> <li>\u6587\u6863</li> </ul>"},{"location":"jupyter/","title":"Jupyter","text":"<p>\u6211\u4eec\u5f00\u653e\u4e86\u4e00\u4e2a\u5728\u7ebf\u91cf\u5316\u73af\u5883\uff0c\u4e5f\u662f\u6211\u4eec\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u91d1\u878d\u5b9e\u6218\u8bfe\u300b\u7684\u5b9e\u9a8c\u73af\u5883\u3002</p> <p>\u8fd9\u4e2a\u73af\u5883\u4e2d\uff0c\u63d0\u4f9b\u4e862005\u5e74\u4ee5\u6765\u8d85\u8fc730\u4ebf\u6761\u884c\u60c5\u6570\u636e\uff08\u5206\u949f\u7ea7\u8d77\uff09\uff0c\u5b9e\u65f6\u884c\u60c5\u6570\u636e\uff085\u79d2\u5ef6\u8fdf\uff09\uff0c\u5728\u7ebf\u56de\u6d4b\u548c\u6a21\u62df\u76d8\u63a5\u53e3\uff08\u5b9e\u76d8\u9700\u8981\u53e6\u5916\u5f00\u901a\uff09\u3002</p> <p>\u73af\u5883\u7531\u4e00\u4e2a256GB\u5185\u5b58\uff0c192\u6838cpu\u7684\u96c6\u7fa4\u8fd0\u884c\u3002</p> <p>\u73af\u5883\u4e2d\u63d0\u4f9b\u4e86\u793a\u4f8b\u4ee3\u7801\u548c\u793a\u4f8b\u7b56\u7565\uff0c\u5e76\u5728\u4e0d\u65ad\u66f4\u65b0\u4e2d\u3002</p> <p></p> <p>\u4e0a\u8ff0\u73af\u5883\u514d\u8d39\u63d0\u4f9b\u7ed9\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u91d1\u878d\u5b9e\u6218\u8bfe\u300b\u5b66\u5458\u4f7f\u7528\uff0c\u6709\u6761\u4ef6\u5f00\u653e\u7ed9\u5176\u5b83\u7533\u8bf7\u8005\u3002</p>"},{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2020, Aaron Yang</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"tags/","title":"\u6807\u7b7e","text":""},{"location":"tags/#algorithm","title":"algorithm","text":"<ul> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#algorithms","title":"algorithms","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#factor","title":"factor","text":"<ul> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>Sharpe 5.5!\u9057\u61be\u89c4\u907f\u56e0\u5b50</li> </ul>"},{"location":"tags/#h5py","title":"h5py","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#hdf5","title":"hdf5","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#machine-learning","title":"machine learning","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#parquet","title":"parquet","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#pyarrow","title":"pyarrow","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#python","title":"python","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quant","title":"quant","text":"<ul> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quantlib","title":"quantlib","text":"<ul> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> <li>QMT/XtQuant \u4e4b\u5f00\u53d1\u73af\u5883\u7bc7</li> </ul>"},{"location":"tags/#sklearn","title":"sklearn","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#strategy","title":"strategy","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> <li>\u7f8a\u7fa4\u6548\u5e94\u53ca\u5176\u56e0\u5b50\u5316</li> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>Santa Claus Rally</li> </ul>"},{"location":"tags/#tutorial","title":"tutorial","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#xtquant","title":"xtquant","text":"<ul> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>xtquant \u4e2d\u7684\u677f\u5757\u6570\u636e</li> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"},{"location":"tags/#_2","title":"\u6280\u672f\u6307\u6807","text":"<ul> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> </ul>"},{"location":"tags/#_3","title":"\u6570\u636e\u6e90","text":"<ul> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"},{"location":"articles/coursea/AI/unpickling%E6%89%BE%E4%B8%8D%E5%88%B0module/","title":"Unpickling\u627e\u4e0d\u5230module","text":"<p>\u5982\u679c\u6211\u4eec\u4f7f\u7528notebook\uff08\u6bd4\u5982kaggle.com)\u6765\u8bad\u7ec3\u6a21\u578b\u5e76\u4fdd\u5b58\u4e3apickle\u6587\u4ef6\uff0c\u5f88\u53ef\u80fd\u6a21\u578b\u5904\u5728top level\u540d\u5b57\u7a7a\u95f4\u4e0b\u3002\u5728\u5de5\u7a0b\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u6a21\u578b\u65f6\uff0c\u6211\u4eec\u5f80\u5f80\u4f1a\u8fdb\u884c\u4e00\u4e9b\u5305\u88c5\uff0c\u5728\u975e\u9876\u7ea7\u540d\u5b57\u7a7a\u95f4\u4e0bunpickling\u8fd9\u4e2a\u6a21\u578b\uff0c\u8fd9\u6837\u5c31\u4f1a\u51fa\u73b0\u627e\u4e0d\u5230\u6a21\u578b\u7c7b\u7684\u9519\u8bef\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u901a\u8fc7kaggle.com\u8bad\u7ec3\u5982\u4e0b\u6a21\u578b\uff1a</p> <p><pre><code>from math import sqrt\nfrom pathlib import Path\nfrom typing import List, Tuple, Callable\nimport numpy as np\nfrom fastai.vision.all import *\nfrom torch import nn\nimport tempfile\nimport logging\n\nlogger = logging.getLogger(__name__)\nlogging.basicConfig(level=logging.INFO)\n\nclass MyRandomSplitter:\n    def __init__(self, valid_pct:float=0.2, seed:int=None):\n        self.valid_pct = valid_pct\n        self.seed = seed\n\n    def __call__(self, o):\n        if self.seed is not None: torch.manual_seed(self.seed)\n        rand_idx = L(list(torch.randperm(len(o)).numpy()))\n        cut = int(self.valid_pct * len(o))\n        return rand_idx[cut:],rand_idx[:cut]\n\nclass HacktchaLoss(BaseLoss):\n    def __init__(self, nclasses:int, nletters:int, axis=-1, **kwargs):\n        self.func = None\n        self._nclasses = nclasses\n        self._nletters = nletters\n\n    def __call__(self, inp, *y):\n        preds = inp.split(self._nclasses, dim = 1)\n\n        _loss = nn.CrossEntropyLoss()(preds[0], y[0])\n        for i in range(self._nletters):\n            _loss += nn.CrossEntropyLoss()(preds[i], y[i])\n\n        return _loss\n\n    def decodes(self, x):\n        preds = x.split(self._nclasses, dim = 1)\n        return [preds[i].argmax(dim=1) for i in range(self._nletters)]\n\nclass LabellingWrapper():\n    def __init__(self, pos: int):\n        self._pos = pos\n\n    def __call__(self, filepath: Path):\n        \"\"\"get label from file name\n\n        It's assumed that the filename, or parts of it contains the label. The filename should be in either \"1234.jpg\" or \"1234_xxx.jpg\" format. The latter form is used when there's multiple image belongs to same label\n\n        Args:\n            filepath (Path): [description]\n\n        Returns:\n            [type]: [description]\n        \"\"\"\n        label = filepath.parts[-1].split(\".\")[0]\n\n        if label.find(\"_\"):\n            label = label.split(\"_\")[0]\n\n        return label[self._pos]\n\nclass HacktchaModel:\n    def __init__(self, vocab:str, nletters:int, arch: Callable=None, image_path:Tuple[str, str] = None):\n        self._nletters = nletters\n        self._vocab = vocab\n        self._bs = 64\n        self._nclasses = len(self._vocab)\n        self._arch = arch\n        self._lr = 3e-3\n\n        if image_path is not None:\n            if len(image_path) == 1:\n                self._fine_tune_images = image_path[0]\n                self._pretrain_images = None\n            else:\n                self._pretrain_images = image_path[0]\n                self._fine_tune_images = image_path[1]\n\n        self._dls = None\n        self._learner:Learner = None\n\n        blocks = (ImageBlock(cls=PILImageBW), *([CategoryBlock] * self._nletters))\n\n        self._datasets = DataBlock(\n            blocks=blocks, \n            n_inp=1, \n            get_items=get_image_files, \n            get_y= [LabellingWrapper(i) for i in range(self._nletters)],\n            batch_tfms=[*aug_transforms(do_flip=False, size=108), Normalize()],\n        splitter = MyRandomSplitter(seed=42))\n\n\n    def create_learner(self, image_path:str, has_pretrain:bool=False):\n        \"\"\"create a cnn_learner. \n\n        Args:\n            has_pretrain (bool): if True then loads pretrained model\n        \"\"\"\n        if has_pretrain: # this is fine tune stage\n            nfiles = len(os.listdir(image_path))\n            self._bs = min(self._bs, int((sqrt(nfiles))))\n\n        self._dls = self._datasets.dataloaders(source=image_path, bs=self._bs)\n\n        self._learner = cnn_learner(\n            self._dls, \n            self._arch, \n            n_out = (self._nclasses * self._nletters), \n            loss_func=HacktchaLoss(self._nclasses, self._nletters), \n            lr=self._lr,\n            metrics=self.accuracy,\n            cbs = [SaveModelCallback, EarlyStoppingCallback(patience=3)])\n\n        if has_pretrain:\n            self._learner.load(\"model\")\n\n    def accuracy(self, preds, *y):\n        \"\"\"calcualte accuracy of the prediction\n\n        Args:\n            preds ([type]): [description]\n        \"\"\"\n        preds = preds.split(self._nclasses, dim=1)\n\n        r0 = (preds[0].argmax(dim=1) == y[0]).float().mean()\n        for i in range(1, self._nletters):\n            r0 += (preds[i].argmax(dim=1) == y[i]).float().mean()\n\n        return r0/self._nletters\n\n    def train(self, save_to: str, epoch: int=100):\n        # do the training on general captcha images dataset\n        if self._pretrain_images is not None:\n            logger.info(\"pretrain with images at %s\", self._pretrain_images)\n            self.create_learner(self._pretrain_images)        \n            lr, _ = self._learner.lr_find()\n\n            self._learner.fine_tune(epoch, lr)\n\n            self._learner.save(\"tmp\", pickle_protocol = 4)\n\n        # fine_tune on specific images found on specific website\n        logger.info(\"fine tune with images at %s\", self._fine_tune_images)\n        self.create_learner(self._fine_tune_images, self._pretrain_images is not None)\n        lr, _ = self._learner.lr_find()\n\n        self._learner.fine_tune(epoch, lr)\n        loss, acc = self._learner.validate(ds_idx=1)\n\n        model_file = os.path.join(save_to, f\"hacktcha-{self._arch.__name__}-{self._nletters}-{self._nclasses}-{acc:.2f}.pkl\")\n        self._learner.export(model_file)\n\n    @staticmethod\n    def from_model(model: str, vocab:str, nletters: int):\n        hacktcha = HacktchaModel(vocab, nletters)\n        hacktcha._learner = load_learner(model)\n\n        return hacktcha\n\n    def predict(self, filepath:str):\n        letters, _, _ = self._learner.predict(filepath)\n\n        return ''.join(letters)\n\n    def test(self, test_images_dir:str):\n        missed = 0\n        test_images = Path(test_images_dir).ls()\n        for test_image in test_images:\n            letters = self.predict(str(test_image))\n\n            if letters != test_image.stem:\n                missed  += 1\n                print(f\"pred {letters}, actual: {test_image.stem}\")\n\n        return missed / len(test_images)\n        ```\n\n\u8fd9\u91cc\u7684\u6a21\u578b\u5305\u88c5\u5728\u7c7b`HacktchaModel`\u4e2d\uff0c\u8fd9\u4e2a\u7c7b\u53c8\u4f9d\u8d56\u4e8e`HacktchaLoss`\u548c`LabellingWrapper`\u3002\u5728\u8bad\u7ec3`train`\u7ed3\u675f\u65f6\uff0c\u6211\u4eec\u4f1a\u5c06\u6a21\u578b\u5bfc\u51fa\u4e3a.pkl\u6587\u4ef6\u3002\u6b64\u65f6\u7684HacktchaLoss, HacktchaModel\u90fd\u5904\u4e8e`__main__`\u540d\u5b57\u7a7a\u95f4\u4e0b\u3002\n\n\u5982\u679c\u6211\u4eec\u5728\u5de5\u7a0b\u4e2d\u52a0\u8f7d\u8fd9\u4e2a\u6a21\u578b\uff0c\u53ea\u8981\u52a0\u8f7d\u7684\u4f4d\u7f6e\u4e0d\u5904\u4e8e\u9876\u7ea7\u540d\u5b57\u7a7a\u95f4\u4e0b\uff0c\u5c31\u4f1a\u62a5\u9519\uff1a\n\n```text\nAttributeError: Can't get attribute 'LabellingWrapper' on &lt;module '__main__'\n</code></pre> \u8fd9\u91cc\u7684<code>LabellingWrapper</code>\u4e5f\u53ef\u80fd\u662f<code>HacktchaModel</code>\u4f9d\u8d56\u7684\u5176\u5b83\u7c7b\uff0c\u4e5f\u53ef\u80fd\u662f<code>HacktchaModel</code>\u672c\u8eab\u3002</p> <p>\u5982\u4f55\u7406\u89e3\u52a0\u8f7d\u4f4d\u7f6e\u4e0d\u5728\u9876\u7ea7\u540d\u5b57\u7a7a\u95f4\u4e0b\uff1f\u5177\u4f53\u5730\u8bf4\uff0c\u5982\u679c\u4f60\u7684\u5de5\u7a0b\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p><pre><code>myproject\n    |\n    myproject\n    |---cli.py\n    |---models\n        |----hacktcha.py\n</code></pre> \u5982\u679c\u7a0b\u5e8f\u901a\u8fc7<code>python cli.py</code>\u6765\u542f\u52a8\uff0c\u5219\u5728<code>cli.py</code>\u4e2d\u5f15\u5165\u548c\u58f0\u660e\u7684\u53d8\u91cf\u90fd\u5904\u4e8e\u9876\u7ea7\u540d\u5b57\u7a7a\u95f4\u4e0b\uff0c\u800c\u5728<code>models\\hacktcha.py</code>\u6587\u4ef6\u4e2d\u5f15\u5165\u7684\u53d8\u91cf\u5219\u4e0d\u662f\u3002</p> <p>\u51fa\u4e8e\u5c01\u88c5\u7684\u8003\u8651\uff0c\u6211\u4eec\u53ef\u80fd\u66f4\u5e0c\u671b<code>hacktcha.py</code>\u6765\u52a0\u622a\u6a21\u578b\uff0c\u5e76\u63d0\u4f9b\u670d\u52a1\uff0c\u7136\u540e\u5728<code>cli.py</code>\u4e2d\u8c03\u7528\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u4e0a\u8ff0unpickling\u9519\u8bef\u8fdb\u884c\u4fee\u590d\u3002\u4fee\u590d\u7684\u65b9\u6cd5\u5c31\u662f\u5c06\u4e0a\u8ff0\u7c7b\u7684\u5b9a\u4e49\u6ce8\u5165\u5230<code>__main__</code>\u6a21\u5757\u4e2d\uff08\u6ce8\u610f\uff0c\u9700\u8981\u4e0e\u8bad\u7ec3\u65f6\u7684top level\u540d\u5b57\u7a7a\u95f4\u5bf9\u5e94\u5373\u53ef\uff0c\u5e76\u4e0d\u4e00\u5b9a\u662f__main__)\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\uff1a <pre><code>def fix_unpickle_namespace():\n    mm = sys.modules[\"__main__\"]\n    setattr(mm, \"LabellingWrapper\", LabellingWrapper)\n    setattr(mm, \"HacktchaLoss\", HacktchaLoss)\n    setattr(mm, \"MyRandomSplitter\", MyRandomSplitter)\n    setattr(mm, \"HacktchaModel\", HacktchaModel)\n</code></pre> \u7136\u540e\u5728\u52a0\u8f7d\u6a21\u578b\u4e4b\u524d\u8c03\u7528\u4e0a\u8ff0\u51fd\u6570\u5373\u53ef\u3002</p>"},{"location":"articles/coursea/AI/%E5%9C%A8macbook%20pro%20m1%E4%B8%8A%E5%AE%89%E8%A3%85xgboost/","title":"\u5728apple m1\u4e0a\u5b89\u88c5xgboost","text":"<p>xgboost\u5728apple m1\u4e0a\u6ca1\u6709wheels\u53ef\u7528\uff0c\u9700\u8981\u81ea\u5df1\u7f16\u8bd1\u3002 xgboost\u4f9d\u8d56\u4e8enumpy,scipy\uff0c\u8fd9\u4e9bpackage\u6700\u597d\u4e5f\u4f7f\u7528native\u7684\uff0c\u56e0\u6b64\u9009\u7528miniforge\u6765\u5b89\u88c5\u3002 xgboost\u8fd8\u4f9d\u8d56libomp\u3002\u5f53\u524d\u7248\u672c12\uff0c\u6709\u517c\u5bb9\u6027\u95ee\u9898\uff08\u4f1a\u5bfc\u81f4segmentation fault\uff09\uff0c\u9700\u8981\u56de\u9000\u523011\u3002\u8fd9\u4e2a\u56de\u9000\u64cd\u4f5c\u6bd4\u8f83\u590d\u6742\uff0c\u6211\u4eec\u4f1a\u4e13\u95e8\u8bb2\u5230\u3002</p> <ol> <li> <p>\u5148\u5b89\u88c5miniforge, \u5728github\u4e0b\u627e\u5230Miniforge3-MacOSX-arm64\uff0c\u4e0b\u8f7d\u5b89\u88c5\u3002</p> </li> <li> <p>\u8fd0\u884cconda init\uff0c\u7136\u540e\u9000\u51fa\u91cd\u8fdbterminal\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u73af\u5883\uff1a <pre><code># python 3.9\u624d\u662fmac m1\u4e0b\u7684native\u7248\u672c\nconda create -n xgboost python=3.9\n</code></pre></p> </li> <li> <p>\u5b89\u88c5\u597dnumpy, scipy\u548csklearn: <pre><code>conda install numpy scipy scikit-learn\n</code></pre> \u7136\u540e\u8fdb\u5165\u865a\u62df\u73af\u5883\u3002</p> </li> <li> <p>clone xgboost\u6e90\u7801\u5230\u672c\u5730\uff1a <pre><code>git clone https://github.com/dmlc/xgboost.git\n</code></pre> \u7136\u540e\u8fdb\u5165xgboost\u76ee\u5f55\uff0c\u521b\u5efa\u4e00\u4e2abuild\u76ee\u5f55\uff0c\u8fdb\u5165build\u76ee\u5f55\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a <pre><code>cmake ..\nmake -j4 # \u540c\u65f6\u8fd0\u884c4\u4e2a\u4efb\u52a1\uff0c\u4e5f\u53ef\u4ee5\u8c03\u6574\u4e3a-j8\n</code></pre> \u8fd9\u91cc\u9700\u8981gcc, cmake\uff0c\u53ef\u4ee5\u901a\u8fc7brew\u5b89\u88c5\u3002</p> </li> <li> <p>\u8fdb\u5165xgboost\u4e0b\u7684python-packages\u76ee\u5f55\uff0c\u51c6\u5907\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a <pre><code>python setup.py bdist_wheel\n</code></pre></p> </li> </ol> <p>\u5728\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u524d\uff0c\u5148\u67e5\u770b\u4e00\u4e0bsetup.py\u6587\u4ef6\uff0c\u627e\u5230\"install_requires\"\u90a3\u4e00\u8282,\u5728\u5176\u4e2d\u6dfb\u52a0\u5df2\u5b89\u88c5\u597d\u7684numpy\u548cscipy\u7684\u7248\u672c\u3002\u5982\u679c\u4e0d\u8fd9\u6837\u505a\uff0c\u90a3\u4e48\u5b89\u88c5xgboost\u7684\u65f6\u5019\uff0c\u4f1a\u641c\u7d22pip\u5e93\uff0c\u4ece\u800c\u53ef\u80fd\u5b89\u88c5\u4e0a\u975enative\u7f16\u8bd1\u7684numpy\u548cscipy\u3002</p> <p>\u7136\u540e\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\uff0c\u8fd9\u6837\u5c31\u6784\u5efa\u597d\u4e86xgboost\u7684wheel\u5305\uff0c\u53ef\u4ee5\u5c06\u5176\u4fdd\u5b58\u8d77\u6765\u3002\u73b0\u5728\u6211\u4eec\u901a\u8fc7pip\u6765\u5b89\u88c5\u8fd9\u4e2a\u5305\u3002\u6ce8\u610f\u4e3a\u4e86\u80fd\u5c3d\u53ef\u80fd\u4f7f\u7528macos m1\u7684native\u6784\u5efa\u5e93\uff0c\u6211\u4eec\u5728\u5b89\u88c5python\u5e93\u65f6\uff0c\u4e00\u822c\u4f7f\u7528conda\u6765\u5b89\u88c5\uff0c\u800c\u4e0d\u662fpip, \u56e0\u4e3a\u6211\u4eec\u5b89\u88c5\u7684miniforge\u4f1a\u4f18\u5148\u5b89\u88c5m1 native\u7684\u5e93\u3002</p> <ol> <li>\u73b0\u5728\u68c0\u67e5\u4e00\u4e0blibomp\u7684\u7248\u672c\uff1a <pre><code>brew info libomp\n</code></pre> \u5982\u679c\u663e\u793a\u4e3a12.0\uff0c\u5219\u9700\u8981\u56de\u9000\u523011.1.0\uff0c\u5426\u5219\u5728\u8fd0\u884cxgboot\u65f6\uff0c\u53ef\u80fd\u51fa\u73b0segmentation fault\u3002</li> </ol> <p>\u5728brew\u91cc\u56de\u6eda\u662f\u4e00\u4e2a\u6bd4\u8f83\u70e6\u7410\u7684\u4e8b\u60c5\uff0c\u7279\u522b\u662f\u6709\u65f6\u5019brew\u4ed3\u5e93\u91cc\u4e0d\u4f1a\u5217\u51fa\u5386\u53f2\u7248\u672c\uff0c\u5728libomp\u4e0a\u6211\u4eec\u5c31\u521a\u597d\u9047\u5230\u6b64\u60c5\u51b5\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u8fdb\u884chomebrew core\u7684\u641c\u7d22\u9875\u9762\uff0c\u5728\u8fd9\u91cc\u8f93\u5165libomp:</p> <p></p> <p>\u70b9\u51fb\u641c\u7d22\u51fa\u6765\u7684\u6587\u4ef6(libomp.rb)\uff0c\u8fdb\u5165\u4ee5\u4e0b\u9875\u9762\uff0c\u7136\u540e\u518d\u70b9\u51fb\u201chistory\"\u6309\u94ae\uff1a </p> <p>\u7136\u540e\u6211\u4eec\u5c06\u8fdb\u5165\u4ee5\u4e0b\u9875\u9762\uff1a </p> <p>\u627e\u523011.1.0\u7684\u7248\u672c\uff0c\u70b9\u51fbraw\u6309\u94ae\uff0c\u5c06\u6587\u4ef6\u5185\u5bb9\u590d\u5236\u4e0b\u6765\u3002</p> <p>\u7136\u540e\u5728brew\u91cc\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u4ee5\u5b9a\u4f4drepo\u4e2d\u7684\u540c\u540d\u6587\u4ef6\uff1a <pre><code>find $(brew --repository) -name libomp.rb\n</code></pre> \u7136\u540e\u6211\u4eec\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5c06\u6587\u4ef6\u5185\u5bb9\u5b8c\u5168\u66ff\u6362\u4e3a\u4e4b\u524d\u4ecegit\u4e0a\u590d\u5236\u7684\u5185\u5bb9\uff0c\u518d\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\uff1a <pre><code>brew uninstall libomp # \u5220\u9664\u4e4b\u524d\u7684\u7248\u672c\nbrew install libomp\nbrew pin libomp # \u9632\u6b62\u610f\u5916\u66f4\u65b0\n</code></pre></p> <ol> <li>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u8fd0\u884cxgboost\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u4ee5\u8bc1\u660e\u5b89\u88c5\u6210\u529f\uff1a <pre><code>export PYTHONPATH=./python-package\npytest -v -s --fulltrace tests/python\n</code></pre> \u5982\u679c\u6ca1\u6709\u62a5\u9519\uff0c\u5219\u8bf4\u660exgboost\u7684python\u5305\u5b89\u88c5\u6210\u529f\u3002</li> </ol> <p>m1\u8fd0\u884c\u4e00\u76f4\u5f88\u5b89\u9759\uff0c\u4e00\u5ea6\u8ba9\u6211\u8ba4\u4e3a\u4ed6\u6ca1\u6709\u98ce\u6247\u3002\u8fd0\u884cXGBOOST\u4e4b\u540e\uff0c\u6211\u542c\u5230\u4e86m1\u4f4e\u4f4e\u7684\u5636\u543c\uff01\u6240\u4ee5\uff0c\u5f53\u8fd0\u884c\u4e00\u822c\u4efb\u52a1\u65f6\uff0cm1\u7684\u82af\u7247\u5341\u5206\u51fa\u8272\uff0c\u5b8c\u5168\u4e0d\u4f1a\u6709\u53d1\u70ed\u3002\u4e00\u65e6\u6d89\u53ca\u5230\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\uff0c\u4e0d\u7ed9\u7535\u8fd8\u662f\u4e0d\u884c\u7684\u3002</p>"},{"location":"articles/coursea/cheese/intro/","title":"\u8bfe\u7a0b\u7b80\u4ecb","text":"\u5927\u5bcc\u7fc1\u91cf\u5316\u8bfe\u7a0b"},{"location":"articles/coursea/cheese/intro/#1","title":"1. \u8bfe\u7a0b\u7b80\u4ecb","text":"<p>\u672c\u8bfe\u7a0b\u662f\u4e00\u95e8\u4e2d\u9ad8\u7ea7\u8bfe\u7a0b\uff0c\u5b83\u9762\u5411\u6253\u7b97\u8fdb\u5165\u91cf\u5316\u4ea4\u6613\u9886\u57df\u7684\u5b66\u751f\u3001\u7a0b\u5e8f\u5458\u548c\u6b63\u5728\u4ece\u4e8b\u4e3b\u89c2\u4ea4\u6613\u7684\u673a\u6784\u6295\u8d44\u8005\u548c\u4e2a\u4eba\u6295\u8d44\u8005\u3002</p> <p>\u8bfe\u7a0b\u6db5\u76d6\u4e86\u91cf\u5316\u4ea4\u6613\u7684\u5168\u6d41\u7a0b\uff0c\u5373\u5982\u4f55\u83b7\u53d6\u6570\u636e\uff0c\u5982\u4f55\u8003\u5bdf\u6570\u636e\u7684\u5206\u5e03\u3001\u5173\u8054\u6027\uff0c\u56e0\u5b50\u548c\u6a21\u5f0f\u7684\u53d1\u73b0\u548c\u63d0\u53d6\uff0c\u5982\u4f55\u7f16\u5199\u7b56\u7565\u3001\u8fdb\u884c\u56de\u6d4b\u548c\u8bc4\u4f30\uff0c\u6700\u7ec8\u5c06\u7b56\u7565\u63a5\u5165\u5b9e\u76d8\u3002</p> <p>\u5b66\u4e60\u5b8c\u6210\u672c\u8bfe\u7a0b\u4e4b\u540e\uff0c\u60a8\u5c06\u4f1a\u5bf9\u91cf\u5316\u4ea4\u6613\u6709\u5168\u9762\u548c\u7cfb\u7edf\u7684\u4e86\u89e3\uff0c\u80fd\u591f\u72ec\u7acb\u5b9e\u65bd\u91cf\u5316\u7b56\u7565\u7684\u5f00\u53d1\u3001\u8c03\u8bd5\u3001\u56de\u6d4b\u53ca\u5b9e\u76d8\u4ea4\u6613\uff0c\u5e76\u4e14\u80fd\u8bc4\u4f30\u548c\u6539\u8fdb\u81ea\u5df1\u7684\u7b56\u7565\u3002\u60a8\u5c06\u6709\u80fd\u529b\u590d\u73b0\u8bba\u6587\u3001\u7ecf\u5178\u91cf\u5316\u4ea4\u6613\u7b56\u7565\u6216\u8005\u5b9e\u73b0\u7b56\u7565\u601d\u60f3\u3002\u5982\u679c\u81ea\u5df1\u5df2\u7ecf\u6709\u4e86\u6210\u529f\u7684\u4ea4\u6613\u7ecf\u9a8c\uff0c\u5219\u5c06\u6709\u5982\u864e\u6dfb\u7ffc\u4e4b\u611f\u3002</p> <p>\u798f\u5229</p> <ol> <li>\u5b66\u5b8c\u672c\u8bfe\u7a0b\uff0c\u5c06\u9644\u8d60\u5927\u5bcc\u7fc1\u91cf\u5316\u8f6f\u4ef6\u3002\u5f00\u901a\u91cf\u5316\u4ea4\u6613\u6743\u9650\u540e\uff0c\u5373\u53ef\u5f00\u59cb\u4ea4\u6613\uff01</li> <li>\u672c\u8bfe\u7a0b\u9644\u9001\u5927\u91cf\u793a\u4f8b\u4ee3\u7801\u53ca\u7b56\u7565\uff0c\u540e\u7eed\u66f4\u65b0\u6c38\u4e45\u53ef\u5f97</li> <li>\u6bcf\u5468\u7b54\u7591\u8f85\u5bfc</li> </ol> <p>\u8bfe\u7a0b\u5a92\u4ecb\u4e3a\u5f55\u64ad\u89c6\u9891\u3001Notebook\u6587\u7a3f\u548c\u6bcf\u5468\u4e00\u6b21\u7b54\u7591\u8f85\u5bfc\u3002\u6587\u5b57\u7a3f\u90e8\u5206\u7ea640\u4e07\u5b57\u8282\u3002\u672c\u8bfe\u7a0b\u5c06\u4e3a\u5b66\u5458\u63d0\u4f9b\u53ef\u8fd0\u884c\u8fd9\u4e9bNotebook\u7684\u5b9e\u9a8c\u73af\u5883\uff0c\u5728\u8be5\u5b9e\u9a8c\u73af\u5883\u4e2d\uff1a</p> <ul> <li>192\u6838CPU\u548c256GB\u5185\u5b58\uff08\u5b66\u5458\u5171\u4eab\uff09</li> <li>Jupyter Lab\u7b56\u7565\u5f00\u53d1\u73af\u5883</li> <li>\u8d85\u8fc730\u4ebf\u6761\u5206\u949f\u7ea7\u884c\u60c5\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u76d8\u4e2d\u5b9e\u65f6\u6570\u636e</li> <li>\u56de\u6d4b\u670d\u52a1\u3002\u60a8\u53ef\u4ee5\u7acb\u5373\u7f16\u5199\u7b56\u7565\u5e76\u8fd0\u884c\u56de\u6d4b</li> <li>\u4eff\u771f\u4ea4\u6613\u3002\u672c\u73af\u5883\u4e2d\u53ef\u63d0\u4f9b\u4eff\u771f\u4ea4\u6613\uff0c\u4f9b\u60a8\u68c0\u9a8c\u81ea\u5df1\u7684\u7b56\u7565</li> </ul> <p>\u8fd9\u662f\u4e00\u95e8\u6bd4\u8f83\u786c\u6838\u7684\u8bfe\u7a0b\uff0c\u6211\u4eec\u5728\u5185\u5bb9\u7f16\u6392\u4e0a\u505a\u5230\u4e86\u987a\u5e8f\u8bb2\u8ff0\u3001\u5c42\u5c42\u9012\u8fdb\u3001\u524d\u540e\u7167\u5e94\u3001\u53d6\u820d\u5f97\u5f53\u3002\u5728\u5185\u5bb9\u4e0a\uff0c\u8fd8\u6709\u8bb8\u591a\u5176\u5b83\u5730\u65b9\u96be\u5f97\u4e00\u89c1\u7684\u77e5\u8bc6\u70b9\uff0c\u6211\u4eec\u5217\u4e3e\u4e00\u4e8c\uff1a</p> <p>Question</p> <ol> <li>A\u80a1\u62a5\u4ef7\u7684\u6700\u5c0f\u5355\u4f4d\u662f\u5206\u3002\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5c0f\u6570\u56db\u820d\u4e94\u5165\u5230\u767e\u5206\u4f4d\u30022\u5143\u4ee5\u4e0b\u7684\u4e2a\u80a1\u51fa\u73b0\u820d\u5165\u8bef\u5dee\u65f6\uff0c\u6211\u4eec\u5c06\u627f\u53d70.5%\u7684\u635f\u5931\u3002\u5982\u679c\u6bcf\u5929\u8fdb\u884c\u4e00\u6b21\u8fd9\u6837\u7684\u4ea4\u6613\uff0c\u5e74\u5316\u635f\u5931\u4f1a\u8fbe\u5230\u60ca\u4eba\u7684247%\uff01\u53ef\u662f\uff0c\u60a8\u4f7f\u7528\u7684\u56db\u820d\u4e94\u5165\u65b9\u6cd5\uff0c\u5b83\u662f\u6b63\u786e\u7684\u5417\uff1f</li> <li>\u6709\u4eba\u8bf4\u56de\u6d4b\u4e2d\u8981\u4f7f\u7528\u540e\u590d\u6743\uff0c\u8fd9\u4e2a\u7ed3\u8bba\u662f\u6b63\u786e\u7684\u5417\uff1f\u4f60\u5c06\u5982\u4f55\u8bc1\u660e\uff1f</li> <li>\u5982\u679c\u60a8\u7684\u7b56\u7565\u5728\u56de\u6d4b\u4e2d\u5f97\u5230\u590f\u666e\u662f2\uff0c\u4e00\u822c\u800c\u8a00\uff0c\u8fd9\u662f\u4e2a\u4e0d\u9519\u7684\u7b56\u7565\u3002\u4f46\u5728\u5b9e\u76d8\u4e2d\uff0c\u5b83\u5f00\u59cb\u56de\u64a4\u4e86\uff0c\u590f\u666e\u4e5f\u5728\u53d8\u5dee\u3002\u5f53\u56de\u64a4\u8fbe\u5230\u591a\u5c11\u65f6\uff0c\u53ef\u4ee5\u65ad\u5b9a\uff0c\u7b56\u7565\u7684\u8fd0\u884c\u73af\u5883\u5df2\u4e0d\u5b58\u5728\uff0c\u5fc5\u987b\u4e2d\u6b62\u5b9e\u76d8\uff08\u5176\u5b83\u4eba\u53ef\u80fd\u544a\u8bc9\u60a8\uff0c\u91cf\u5316\u7a0b\u5e8f\u4e00\u65e6\u8fd0\u884c\uff0c\u5c31\u5fc5\u987b\u625b\u8fc7\u53bb\uff09\uff1f</li> </ol>"},{"location":"articles/coursea/cheese/intro/#2","title":"2. \u8bfe\u7a0b\u5927\u7eb2\u53ca\u7f16\u6392\u8bf4\u660e","text":"<p>Tip</p> <p>\u66f4\u8be6\u7ec6\u7684\u8bfe\u7a0b\u5927\u7eb2\uff08\u5177\u4f53\u5230\u4e09\u7ea7\u6807\u9898\uff09\uff0c\u53ef\u8054\u7cfb\u52a9\u6559\u7d22\u53d6\u3002</p>"},{"location":"articles/coursea/cheese/intro/#3","title":"3. \u91cf\u5316\u77e5\u8bc6\u4f53\u7cfb\u4e0e\u672c\u8bfe\u7a0b\u5b9a\u4f4d","text":"<p>\u91cf\u5316\u4ea4\u6613\u4e0d\u4ec5\u5728\u56fd\u5185\u662f\u65b0\u751f\u4e8b\u7269\uff0c\u5c31\u8fde\u76f4\u5230\u5728\u534e\u5c14\u8857\u70b9\u636e\u4e3b\u6d41\u5730\u4f4d\uff0c\u4e5f\u4e0d\u8fc7 20 \u591a\u5e74\u5386\u53f2\u3002\u56e0\u6b64\uff0c\u5173\u4e8e\u91cf\u5316\u4ea4\u6613\uff0c\u5f88\u5c11\u770b\u5230\u4f53\u7cfb\u5316\u7684\u77e5\u8bc6\u7ed3\u6784\u68b3\u7406\u3002</p> <p>\u6211\u4eec\u6839\u636e\u81ea\u5df1\u7684\u7ecf\u9a8c\uff0c\u7ed3\u5408\u56fd\u5185\u5916\u540c\u7c7b\u8bfe\u7a0b\u3001\u540c\u884c\u4ea4\u6d41\u7684\u7ed3\u679c\uff0c\u901a\u8fc7\u5bf9\u4e3b\u6d41\u91cf\u5316\u6846\u67b6\u3001\u91cf\u5316\u5e38\u7528\u5e93\u7684\u68b3\u7406\u548c\u5bf9\u91cd\u8981\u8bba\u6587\u7684\u9605\u8bfb\u68b3\u7406\uff0c\u603b\u7ed3\u51fa\u5982\u4e0b\u5b66\u4e60\u8def\u7ebf\u56fe\uff1a</p> <p></p> <p>\u5728\u8fd9\u4e2a\u8def\u7ebf\u56fe\u4e2d\uff0c\u6700\u4e0b\u9762\u4e00\u5c42\u53ef\u4ee5\u770b\u4f5c\u662f\u5b66\u4e60\u91cf\u5316\u7684\u524d\u7f6e\u6761\u4ef6\u3002\u5173\u4e8e Python \u57fa\u7840\uff0c\u6211\u4eec\u6709\u8f83\u597d\u7684\u82f1\u6587\u6559\u6750\u53ef\u4ee5\u63d0\u4f9b\u3002\u8be5\u6559\u6750\u6bd4\u8f83\u7b80\u7ec3\uff0c\u4e0d\u9700\u8981\u82b1\u5f88\u591a\u65f6\u95f4\u5c31\u80fd\u5b66\u5b8c\uff0c\u5e76\u4e14\u4e0e\u6211\u4eec\u7684\u8bfe\u7a0b\u80fd\u5f88\u597d\u8854\u63a5\u3002\u5de5\u5177\u90e8\u5206\u53ef\u4ee5\u5728\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u8fb9\u7ec3\u8fb9\u5b66\u3002\u6570\u5b66\u90e8\u5206\u53ea\u8981\u8fbe\u5230\u8fc7\u8fd9\u4e2a\u57fa\u7840\u5373\u53ef\uff0c\u5728\u6211\u4eec\u7684\u8bfe\u7a0b\u4e2d\uff0c\u4f1a\u5e26\u9886\u5927\u5bb6\u590d\u4e60\u76f8\u5173\u7684\u5185\u5bb9\u3002</p> <p>\u6700\u4e0a\u9762\u4e00\u5c42\uff0c\u60a8\u53ef\u4ee5\u5728\u5165\u884c\u4e4b\u540e\uff0c\u6839\u636e\u81ea\u5df1\u7684\u76ee\u6807\uff0c\u6709\u9009\u62e9\u6027\u5730\u6df1\u5165\u5b66\u4e60\u3002</p> <p></p> <p></p>"},{"location":"articles/coursea/cheese/intro/#4","title":"4. \u9e23\u8c22","text":""},{"location":"articles/coursea/cheese/intro/#5","title":"5. \u8bfe\u7a0b\u6ce8\u518c\u6d41\u7a0b","text":"<p>\u6bcf\u6708\u4e00\u65e5\u5f00\u542f\u65b0\u4e00\u671f\u5b66\u4e60\u8425\u3002\u7b2c\u4e00\u5468\u5230\u7b2c\u4e09\u5468\u90fd\u5c06\u83b7\u5f97\u65e9\u9e1f\u4ef7\u6298\u6263\u3002</p> <ul> <li>\u8054\u7cfb quantfans_99 \uff08\u5bbd\u7c89\uff09 \u786e\u5b9a\u4f18\u60e0\u4ef7\u683c\uff0c\u83b7\u53d6\u8d2d\u4e70\u94fe\u63a5\u548c\u7528\u6237\u534f\u8bae</li> <li>\u901a\u8fc7\u5e73\u53f0\u8d2d\u4e70\u8bfe\u7a0b</li> <li>\u8d2d\u4e70\u5b8c\u6210\u5f53\u65e5\uff0c\u52a9\u6559\u5f00\u901a\u5b9e\u9a8c\u8d26\u53f7\uff0c\u5c06\u8bfe\u7a0b\u767b\u5f55\u7f51\u5740\u3001\u8d26\u53f7\u5bc6\u7801\u53d1\u9001\u7ed9\u5b66\u5458</li> <li>\u52a9\u6559\u5c06\u5b66\u5458\u52a0\u5165\u5f53\u671f\u5b66\u5458\u5fae\u4fe1\u7fa4\uff0c\u4ee5\u4fbf\u63a5\u53d7\u4f1a\u8bae\u901a\u77e5</li> <li>\u5b66\u5458\u5f00\u59cb\u5b66\u4e60\uff0c\u5e76\u5728\u5f00\u8425\u540e\u7684\u6bcf\u5468\u65e5\u665a\uff0c\u53c2\u52a0\u8bfe\u7a0b\u7b54\u7591</li> <li>4 \u4e2a\u6708\u540e\uff0c\u5b66\u5458\u7ed3\u675f\u8bfe\u7a0b\u5b66\u4e60\u3002\u6b64\u65f6\u53ef\u6839\u636e\u6211\u4eec\u63d0\u793a\u7684\u8def\u7ebf\u56fe\uff0c\u8fdb\u4e00\u6b65\u6df1\u9020</li> </ul> <p>\u8bfe\u7a0b\u5b9e\u9a8c\u73af\u5883\u5982\u4e0b\uff1a</p> <p> </p> <p>\u8fd1\u671f\u53c2\u8003\u4f18\u60e0\u4ef7\uff1a</p> <p></p> <p></p>"},{"location":"articles/coursea/cheese/outline/","title":"\u8bfe\u7a0b\u5927\u7eb2","text":""},{"location":"articles/coursea/cheese/outline/#1","title":"\u7b2c1\u8bfe \u5bfc\u8bba","text":"<ul> <li>1.1. \u91cf\u5316\u4ea4\u6613\u7b56\u7565\u5206\u7c7b<ul> <li>1.1.1. \u5bf9\u51b2\u7b56\u7565</li> <li>1.1.2. \u9ad8\u9891\u5957\u5229</li> <li>1.1.3. \u6280\u672f\u5206\u6790\u7c7b\u7b56\u7565</li> </ul> </li> <li>1.2. \u672c\u8bfe\u7a0b\u7684\u5b9a\u4f4d</li> <li>1.3. \u5982\u4f55\u5b66\u4e60\u672c\u8bfe\u7a0b<ul> <li>1.3.1. \u77e5\u8bc6\u50a8\u5907</li> <li>1.3.2. \u5728\u7ebf\u5b9e\u9a8c\u73af\u5883</li> </ul> </li> <li>1.4. \u5c0f\u7ed3</li> <li>1.5. \u53c2\u8003\u8d44\u6599</li> </ul>"},{"location":"articles/coursea/cheese/outline/#2-akshare","title":"\u7b2c2\u8bfe \u8bc1\u5238\u5e38\u8bc6\u53ca\u6570\u636e\u6e90\u4e4b Akshare","text":"<ul> <li>2.1. \u4ea4\u6613\u6240\u53ca\u8bc1\u5238\u4ee3\u7801</li> <li>2.2.1. Akshare<ul> <li>2.2.1.1. \u5728\u8bfe\u4ef6\u73af\u5883\u4e0b\u5b89\u88c5 akshare</li> <li>2.2.1.2. \u5b9e\u65f6\u80a1\u7968\u6570\u636e</li> <li>2.2.1.3. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>2.2.1.4. \u8bc1\u5238\u5217\u8868</li> <li>2.2.1.5. \u4ea4\u6613\u65e5\u5386</li> <li>2.2.1.6. \u5c01\u88c5\u548c\u6539\u8fdb\u5efa\u8bae</li> <li>2.2.1.7. \u7ec3\u4e60</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#3-tusharejqdatasdk","title":"\u7b2c3\u8bfe \u6570\u636e\u6e90\u4e4b Tushare\u3001JqDataSdk","text":"<ul> <li>3.1. TUSHARE<ul> <li>3.1.1. \u5728\u8bfe\u4ef6\u73af\u5883\u4e0b\u5b89\u88c5\u548c\u8bbe\u7f6e token</li> <li>3.1.2. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>3.1.3. \u8bc1\u5238\u5217\u8868</li> <li>3.1.4. \u4ea4\u6613\u65e5\u5386</li> </ul> </li> <li>3.2. \u805a\u5bbd\u672c\u5730\u6570\u636e<ul> <li>3.2.1. \u5728\u8bfe\u4ef6\u73af\u5883\u4e0b\u5b89\u88c5\u548c\u8bbe\u7f6e\u8d26\u53f7</li> <li>3.2.2. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>3.2.3. \u8bc1\u5238\u5217\u8868</li> <li>3.2.4. \u4ea4\u6613\u65e5\u5386</li> </ul> </li> <li>3.3. BAOSTOCK<ul> <li>3.3.1. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>3.3.2. \u8bc1\u5238\u5217\u8868</li> </ul> </li> <li>3.4. YFINANCE</li> </ul>"},{"location":"articles/coursea/cheese/outline/#4-zillionare","title":"\u7b2c4\u8bfe \u4f7f\u7528Zillionare\u6765\u83b7\u53d6\u6570\u636e","text":"<ul> <li>4.1. Omicron<ul> <li>4.1.1. \u521d\u59cb\u5316 omicron</li> <li>4.1.2. \u5b9e\u65f6\u80a1\u7968\u6570\u636e</li> <li>4.1.3. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>4.1.4. \u8bc1\u5238\u5217\u8868</li> <li>4.1.5. \u4ea4\u6613\u65e5\u5386</li> <li>4.1.6. \u677f\u5757\u6570\u636e</li> </ul> </li> <li>4.2. \u6570\u636e\u89e3\u8bfb A \u80a1: \u6295\u8d44\u8005\u4eba\u6570\u4e0e\u5e02\u573a\u8d70\u52bf\u5173\u7cfb</li> </ul>"},{"location":"articles/coursea/cheese/outline/#6","title":"\u7b2c6\u8bfe \u5c0f\u5e02\u503c\u7b56\u7565","text":"<ul> <li>6.1. \u5c0f\u5e02\u503c\u7b56\u7565\u7b80\u4ecb</li> <li>6.2. \u7b56\u7565\u5b9e\u73b0<ul> <li>6.2.1. \u521d\u59cb\u5316</li> <li>6.2.2. \u7ed8\u56fe</li> <li>6.2.3. \u7b56\u7565\u4e3b\u4f53\u4ee3\u7801</li> </ul> </li> <li>6.3. \u7b56\u7565\u4f18\u5316<ul> <li>6.3.1. \u62e9\u65f6\u4f18\u5316</li> <li>6.3.2. \u89c4\u5219\u4f18\u5316</li> <li>6.3.3. \u53c2\u6570\u4f18\u5316</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#7","title":"\u7b2c7\u8bfe \u5e03\u6797\u5e26\u7b56\u7565","text":"<ul> <li>7.1. \u4f7f\u7528coursea\u7684\u521d\u59cb\u5316</li> <li>7.2. \u57fa\u4e8e\u57fa\u7c7b\u7684\u5e03\u6797\u5e26\u7b56\u7565</li> <li>7.3. \u7b56\u7565\u4f18\u5316\u65b9\u5411\u8ba8\u8bba<ul> <li>7.3.1. \u53c2\u6570\u4f18\u5316</li> <li>7.3.2. \u8d8b\u52bf\u5224\u65ad</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#8","title":"\u7b2c8\u8bfe","text":"<ul> <li>8.1. \u4ec0\u4e48\u662f\u7f51\u683c\u4ea4\u6613\uff1f</li> <li>8.2. \u4ee3\u7801\u5b9e\u73b0<ul> <li>8.2.1. \u521d\u59cb\u5316</li> <li>8.2.2. \u8bc4\u4f30\u51fd\u6570</li> <li>8.2.3. \u7b56\u7565\u884c\u4e3a\u5206\u6790</li> </ul> </li> <li>8.3. \u6280\u672f\u5b9e\u73b0\u95ee\u9898<ul> <li>8.3.1. \u59d4\u6258\u4ef7\u683c\u548c\u4ea4\u6613\u65f6\u673a</li> <li>8.3.2. \u9001\u8f6c\u95ee\u9898</li> <li>8.3.3. \u4ea4\u6613\u5355\u4f4d</li> </ul> </li> <li>8.4. \u7b56\u7565\u4f18\u5316: \u4ece1.37%\u523079.8%!<ul> <li>8.4.1. \u9009\u62e9\u6709\u201c\u754c\u201d\u7684\u6807\u7684</li> <li>8.4.1.1. \u5927\u5e02\u503c\u80a1\u7968</li> <li>8.4.1.2. \u8d85\u8dcc\u80a1\u7968</li> <li>8.4.1.3. \u53ef\u8f6c\u503a</li> <li>8.4.2. \u57fa\u4e8e\u5386\u53f2\u6570\u636e\uff0c\u786e\u5b9a\u7f51\u683c\u53c2\u6570</li> <li>8.4.3. \u63d0\u9ad8\u8d44\u91d1\u5229\u7528\u7387</li> </ul> </li> <li>8.5. \u8d8b\u52bf\u8ddf\u8e2a\u7f51\u683c</li> </ul>"},{"location":"articles/coursea/cheese/outline/#9-numpy-pandas","title":"\u7b2c9\u8bfe Numpy \u548c Pandas","text":"<ul> <li>9.1. Numpy<ul> <li>9.1.1. \u521b\u5efa\u6570\u7ec4</li> <li>9.1.1.1. vanilla version</li> <li>9.1.1.2. \u9884\u7f6e\u7279\u6b8a\u6570\u7ec4</li> <li>9.1.1.3. \u901a\u8fc7\u5df2\u6709\u6570\u7ec4\u8f6c\u6362</li> <li>9.1.2. \u67e5\u770b (inspecting) \u6570\u7ec4\u7279\u6027</li> <li>9.1.3. \u6570\u7ec4\u64cd\u4f5c</li> <li>9.1.3.1. \u5347\u7ef4</li> <li>9.1.3.2. \u964d\u7ef4</li> <li>9.1.3.3. \u8f6c\u7f6e</li> <li>9.1.3.4. \u589e\u52a0/\u5220\u9664\u5143\u7d20</li> <li>9.1.4. \u903b\u8f91\u8fd0\u7b97\u548c\u6bd4\u8f83</li> <li>9.1.5. \u96c6\u5408\u8fd0\u7b97</li> <li>9.1.6. \u6570\u5b66\u8fd0\u7b97</li> <li>9.1.6.1. \u70b9\u4e58</li> <li>9.1.6.2. \u805a\u5408\u8fd0\u7b97\u548c\u7edf\u8ba1\u51fd\u6570</li> <li>9.1.7. \u8bfb\u53d6\u3001\u67e5\u627e\u548c\u641c\u7d22</li> <li>9.1.7.1. \u7d22\u5f15\u548c\u5207\u7247</li> <li>9.1.7.2. \u67e5\u627e\u3001\u66ff\u6362\u3001\u7b5b\u9009</li> <li>9.1.8. \u7c7b\u578b\u8f6c\u6362\u548c typing module</li> <li>9.1.9. Structured Array</li> <li>9.1.10. IO</li> <li>9.1.11. \u91cf\u5316\u4ea4\u6613\u4e2d\u5e38\u7528\u51fd\u6570\u793a\u4f8b</li> <li>9.1.11.1. REF(close, n)</li> <li>9.1.11.2. EVERY(cond, n)</li> <li>9.1.11.3. LAST(cond_list, n, m)</li> <li>9.1.11.4. BARSLAST</li> <li>9.1.11.5. CROSS</li> </ul> </li> <li>9.2. Pandas<ul> <li>9.2.1. creation</li> <li>9.2.2. \u6570\u636e\u8bbf\u95ee</li> <li>9.2.3. \u904d\u5386 dataframe</li> </ul> </li> <li>9.3. pandas vs numpy</li> </ul>"},{"location":"articles/coursea/cheese/outline/#10-ta-lib","title":"\u7b2c10\u8bfe Ta-Lib","text":"<ul> <li>10.1. \u5b89\u88c5talib<ul> <li>10.1.1. \u539f\u751f\u5e93\u7684\u5b89\u88c5</li> <li>10.1.1.1. Macos</li> <li>10.1.1.2. Linux</li> <li>10.1.1.3. Windows</li> <li>10.1.1.4. \u4f7f\u7528conda</li> <li>10.1.1.5. \u7b2c\u4e09\u65b9\u6784\u5efa\u7684wheel\u5305</li> <li>10.1.2. \u5b89\u88c5python wrapper</li> </ul> </li> <li>10.2. ta-lib\u6982\u89c8<ul> <li>10.2.1. \u5173\u4e8e\u5e2e\u52a9\u6587\u6863</li> <li>10.2.2. \u4e24\u7c7b\u63a5\u53e3</li> <li>10.2.3. \u65b9\u6cd5\u6982\u89c8</li> </ul> </li> <li>10.3. \u5e38\u7528\u6307\u6807\u51fd\u6570<ul> <li>10.3.1. ATR</li> <li>10.3.2. \u79fb\u52a8\u5e73\u5747\u7ebf</li> <li>10.3.2.1. SMA</li> <li>10.3.2.2. EMA</li> <li>10.3.2.3. WMA</li> <li>10.3.3. \u5e03\u6797\u5e26</li> <li>10.3.4. MACD</li> <li>10.3.5. RSI</li> <li>10.3.6. OBV \uff08on-balance volume)</li> </ul> </li> <li>10.4. \u6a21\u5f0f\u8bc6\u522b\u51fd\u6570<ul> <li>10.4.1. CDL3LINESTRIKE</li> <li>10.4.2. CDL3WHITESOLDIERS</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#11-python1","title":"\u7b2c11\u8bfe Python\u4e0e\u6570\u636e\u79d1\u5b66\uff081\uff09","text":"<ul> <li>11.1. \u8003\u5bdf\u6570\u636e\u5206\u5e03<ul> <li>11.1.1. \u5bfb\u627e\u6570\u636e\u7684\u4e2d\u5fc3</li> <li>11.1.1.1. \u5747\u503c\u548c\u8d28\u5fc3</li> <li>11.1.1.2. \u4e2d\u4f4d\u6570</li> <li>11.1.1.3. \u4f17\u6570</li> <li>11.1.2. \u91cf\u5316\u6570\u636e\u7684\u5206\u6563\u7a0b\u5ea6</li> <li>11.1.2.1. \u5206\u4f4d\u6570</li> <li>11.1.2.2. \u65b9\u5dee\u548c\u6807\u51c6\u5dee</li> <li>11.1.2.3. \u9891\u6570\u3001PMF\u3001PDF\u3001CDF\u3001PPF\u548c\u76f4\u65b9\u56fe</li> <li>11.1.2.4. \u6982\u7387\u5bc6\u5ea6\u548c\u6982\u7387\u5bc6\u5ea6\u51fd\u6570</li> <li>11.1.2.5. \u7d2f\u79ef\u6982\u7387\u548c\u7d2f\u79ef\u6982\u7387\u51fd\u6570CDF</li> <li>11.1.2.6. CDF\u4f30\u8ba1\u53ca\u5176\u5e94\u7528</li> <li>11.1.2.7. \u51e0\u4e2a\u6982\u5ff5\u4e4b\u95f4\u7684\u5173\u7cfb</li> <li>11.1.3. \u6570\u636e\u7684\u5206\u5e03\u5f62\u6001</li> <li>11.1.4. \u4e2d\u5fc3\u77e9\u7684\u6982\u5ff5</li> <li>11.1.5. \u504f\u5ea6\u3001\u5cf0\u5ea6\u5728\u6295\u8d44\u4e2d\u7684\u89e3\u91ca\u4e0e\u5e94\u7528</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#12-python2","title":"\u7b2c12\u8bfe \u6570\u636e\u5206\u6790\u4e0ePython\u5b9e\u73b0\uff082\uff09","text":"<ul> <li>12.1. \u7edf\u8ba1\u63a8\u65ad\u65b9\u6cd5<ul> <li>12.1.1. \u5206\u4f4d\u56fe</li> <li>12.1.3. \u5047\u8bbe\u68c0\u9a8c\u65b9\u6cd5</li> </ul> </li> <li>12.2. \u62df\u5408\u3001\u56de\u5f52\u548c\u6b8b\u5dee<ul> <li>12.2.1. \u6b8b\u5dee\u53ca\u5176\u5ea6\u91cf</li> <li>12.2.1.1. max_error</li> <li>12.2.1.2. mean_absolute_error</li> <li>12.2.1.3. mean_absolute_percentage_error</li> <li>12.2.1.4. mean_squared_error</li> <li>12.2.1.5. rooted mean squared error</li> <li>12.2.2. \u56de\u5f52\u5206\u6790</li> </ul> </li> <li>12.3. \u76f8\u5173\u6027<ul> <li>12.3.1. \u534f\u65b9\u5dee\u548c\u76f8\u5173\u7cfb\u6570</li> <li>12.3.2. \u76ae\u5c14\u900a\u76f8\u5173\u6027\u548c\u65af\u76ae\u5c14\u66fc\u76f8\u5173\u6027</li> <li>12.3.3. \u76f8\u5173\u6027\u5206\u6790\u793a\u4f8b</li> </ul> </li> <li>12.4. \u8ddd\u79bb\u548c\u76f8\u4f3c\u6027<ul> <li>12.4.1. \u5e38\u89c1\u8ddd\u79bb\u5b9a\u4e49\u5217\u4e3e</li> <li>12.4.2. \u5982\u4f55\u8ba1\u7b97\u8ddd\u79bb</li> </ul> </li> <li>12.5. \u5f52\u4e00\u5316</li> </ul>"},{"location":"articles/coursea/cheese/outline/#13","title":"\u7b2c13\u8bfe \u6280\u672f\u5206\u6790\u5b9e\u6218","text":"<ul> <li>13.1. \u7bb1\u4f53\u7684\u68c0\u6d4b<ul> <li>13.1.1. \u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u6cd5</li> <li>13.1.2. \u57fa\u4e8e\u805a\u7c7b\u7684\u7b97\u6cd5</li> </ul> </li> <li>13.2. \u5bfb\u627e\u5c71\u5cf0\u4e0e\u6ce2\u8c37<ul> <li>13.2.1. scipy\u4e2d\u7684\u5b9e\u73b0</li> <li>13.2.2. \u7b2c\u4e09\u65b9\u5e93\uff1azigzag</li> <li>13.2.3. \u5982\u4f55\u5e73\u6ed1\u66f2\u7ebf</li> <li>13.2.4. \u53cc\u9876\u6a21\u5f0f\u7684\u68c0\u6d4b</li> <li>13.2.5. \u5706\u5f27\u5e95\u7684\u68c0\u6d4b</li> </ul> </li> <li>13.3. \u51f9\u51f8\u6027\u68c0\u6d4b</li> </ul>"},{"location":"articles/coursea/cheese/outline/#14","title":"\u7b2c14\u8bfe \u56e0\u5b50\u5206\u6790","text":"<ul> <li>14.1. \u56e0\u5b50\u5206\u7c7b</li> <li>14.2. \u56e0\u5b50\u5206\u6790<ul> <li>14.2.1. \u9884\u5904\u7406</li> <li>14.2.1.1. \u5f02\u5e38\u503c\u5904\u7406</li> <li>14.2.1.2. \u7f3a\u5931\u503c\u5904\u7406</li> <li>14.2.1.3. \u5206\u5e03\u8c03\u6574</li> <li>14.2.1.4. \u6807\u51c6\u5316</li> <li>14.2.1.5. \u4e2d\u6027\u5316</li> </ul> </li> <li>14.3. \u5355\u56e0\u5b50\u6d4b\u8bd5<ul> <li>14.3.1. \u56de\u5f52\u6cd5</li> <li>14.3.1.1. \u56de\u5f52\u6cd5\u7684\u56e0\u5b50\u8bc4\u4ef7</li> <li>14.3.2. IC\u5206\u6790\u6cd5</li> <li>14.3.2.1. IC\u5206\u6790\u6cd5\u7684\u56e0\u5b50\u8bc4\u4ef7</li> <li>14.3.3. \u5206\u5c42\u56de\u6d4b\u6cd5</li> <li>14.\u4ee3\u7801\u5b9e\u73b0</li> <li>14.3.4. \u4e09\u79cd\u65b9\u6cd5\u7684\u533a\u522b\u4e0e\u8054\u7cfb</li> </ul> </li> <li>14.\u56e0\u5b50\u8bc4\u4ef7\u4f53\u7cfb</li> </ul>"},{"location":"articles/coursea/cheese/outline/#15-alphalens","title":"\u7b2c15\u8bfe Alphalens\u53ca\u5176\u5b83","text":"<ul> <li>15.1. Alphalens<ul> <li>15.1.1. Alphalens\u8c03\u7528\u6d41\u7a0b</li> <li>15.1.2. \u6570\u636e\u9884\u5904\u7406</li> <li>15.1.3. \u56e0\u5b50\u5206\u6790</li> <li>15.1.4. Alphalens\u5e38\u89c1\u9519\u8bef\u548c\u8b66\u544a</li> <li>15.1.4.1. \u65f6\u533a\u95ee\u9898</li> <li>15.1.4.2. MaxLossExceedError</li> <li>15.1.4.3. FutureWarning</li> </ul> </li> <li>15.2. JQFactor\u548cjqfactor-analyzer</li> <li>15.3. sympy</li> <li>15.4. statistics</li> <li>15.5. statsmodels<ul> <li>15.5.1. OLS\uff08\u666e\u901a\u6700\u5c0f\u4e8c\u4e58\u6cd5\uff09\u4f30\u8ba1</li> <li>15.5.2. \u6bd4\u8f83OLS\u4e0eRLM</li> <li>15.5.3. ARIMA\u6a21\u578b\u4e0e\u65f6\u95f4\u5e8f\u5217\u9884\u6d4b</li> </ul> </li> <li>15.6. zipline</li> <li>15.7. pyfolio</li> <li>15.8. ta</li> </ul>"},{"location":"articles/coursea/cheese/outline/#16-matplotlib","title":"\u7b2c16\u8bfe Matplotlib \u7ed8\u56fe","text":"<ul> <li>16.1. matplot \u7b80\u4ecb</li> <li>16.2. \u56fe\u662f\u5982\u4f55\u6784\u6210\u7684<ul> <li>16.2.1. \u6700\u9876\u5c42\u7684\u6982\u5ff5</li> <li>16.2.2. pyplot, Figure\u4e0eAxes\u4e4b\u95f4\u7684\u5173\u7cfb</li> <li>16.2.3. layout</li> <li>16.2.4. Figure Anatomy</li> </ul> </li> <li>16.3. \u9ad8\u9891\u4f7f\u7528\u5bf9\u8c61<ul> <li>16.3.1. Axis</li> <li>16.3.1.1. spine\u5b9a\u4f4d\u4e0e\u9690\u85cf</li> <li>16.3.1.2. \u5171\u4eabx\u8f74</li> <li>16.3.1.3. \u523b\u5ea6</li> <li>16.3.2. \u6587\u672c\u548c\u4e2d\u6587</li> <li>16.3.3. \u6837\u5f0f\u548c\u989c\u8272</li> <li>16.3.3.1. colormap</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#17-plotly","title":"\u7b2c17\u8bfe Plotly \u7ed8\u56fe","text":"<ul> <li>17.1. Plotly \u4e2d\u7684\u57fa\u672c\u6982\u5ff5</li> <li>17.2. Plotly \u6a21\u5757\u7ed3\u6784<ul> <li>17.2.1. Plotly Express</li> <li>17.2.2. Graph Objects</li> <li>17.2.3. \u5176\u5b83</li> </ul> </li> <li>17.3. \u6bd4\u8f83 plotly express \u4e0e go.Figure</li> <li>17.4. Plotly \u80a1\u7968\u5206\u6790\u56fe\u7ed8\u5236<ul> <li>17.4.1. K \u7ebf\u56fe\u7ed8\u5236</li> <li>17.4.2. \u53e0\u52a0\u6280\u672f\u6307\u6807</li> <li>17.4.3. \u5b50\u56fe</li> <li>17.4.4. \u663e\u793a\u533a\u57df</li> <li>17.4.5. \u4ea4\u4e92\u5f0f\u63d0\u793a</li> </ul> </li> <li>17.5. \u8272\u5f69<ul> <li>17.5.1. \u79bb\u6563\u8272\u5f69\u5e8f\u5217</li> <li>17.5.2. \u8fde\u7eed\u8272\u9636</li> </ul> </li> <li>17.6. \u4e3b\u9898\u548c\u6a21\u677f</li> <li>17.7. Dash \u7b80\u4ecb<ul> <li>17.7.1. Hellow World</li> <li>17.7.2. \u8fde\u63a5\u5230\u6570\u636e</li> <li>17.7.3. \u589e\u52a0\u4ea4\u4e92\u5f0f\u63a7\u4ef6</li> <li>17.7.4. \u7f8e\u5316\u5e94\u7528\u7a0b\u5e8f</li> <li>17.7.5. \u6df1\u5165Dash</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#18-seaborn-pyecharts","title":"\u7b2c18\u8bfe Seaborn \u4e0e PyEcharts \u7ed8\u56fe","text":"<ul> <li>18.1. Seaborn<ul> <li>18.1.1. Seaborn \u7ed8\u56fe\u6982\u89c8</li> <li>18.1.1.1. \u7edf\u8ba1\u5173\u7cfb\u7684\u53ef\u89c6\u5316</li> <li>18.1.1.2. \u6570\u636e\u5206\u5e03\u7684\u53ef\u89c6\u5316</li> <li>18.1.1.3. \u4e8c\u5143\u5206\u5e03\u7684\u53ef\u89c6\u5316</li> <li>18.1.1.4. \u8054\u5408\u5206\u5e03\u548c\u8fb9\u7f18\u5206\u5e03</li> <li>18.1.1.5. \u56de\u5f52\u62df\u5408</li> <li>18.1.2. \u4e3b\u9898</li> <li>18.1.3. \u8c03\u8272\u677f\u7684\u4f7f\u7528</li> <li>18.1.3.1. \u5b9a\u6027\u8c03\u8272\u677f</li> <li>18.1.3.2. \u8fde\u7eed\u8c03\u8272\u677f</li> <li>18.1.3.3. \u53d1\u6563\u8c03\u8272\u677f</li> </ul> </li> <li>18.2. PyEcharts<ul> <li>18.2.1. \u5728 Notebook/Jupyterlab \u4e2d\u8fd0\u884c</li> <li>18.2.2. \u8c03\u7528\u4e60\u60ef</li> <li>18.2.3. \u4f7f\u7528\u9009\u9879</li> <li>18.2.4. \u5b50\u56fe\u548c\u5e03\u5c40</li> <li>18.2.4.1. Grid \u5e03\u5c40</li> <li>18.2.4.2. Page \u5e03\u5c40</li> <li>18.2.4.3. tab \u5e03\u5c40</li> <li>18.2.4.4. Timeline</li> </ul> </li> <li>18.3. \u5173\u4e8e\u989c\u8272\u548c\u7f8e\u5b66</li> </ul>"},{"location":"articles/coursea/cheese/outline/#19-backtrader-1","title":"\u7b2c19\u8bfe backtrader \u56de\u6d4b\u6846\u67b6\uff081\uff09","text":"<ul> <li>19.1. \u5feb\u901f\u5f00\u59cb</li> <li>19.2. backtrader \u8bed\u6cd5\u7cd6<ul> <li>19.2.1. \u65f6\u95f4\u7ebf (Line)</li> <li>19.2.2. \u8fd0\u7b97\u7b26\u91cd\u8f7d</li> </ul> </li> <li>19.3. Data Feeds<ul> <li>19.3.1. GenericCSVData</li> <li>19.3.2. Pandas Feed</li> <li>19.3.3. \u81ea\u5b9a\u4e49\u4e00\u4e2a Feed</li> <li>19.3.4. \u589e\u52a0\u65b0\u7684\u6570\u636e\u5217</li> </ul> </li> <li>19.4. \u591a\u5468\u671f\u6570\u636e<ul> <li>19.4.1. \u591a\u5468\u671f\u6280\u672f\u6307\u6807\u6bd4\u8f83</li> </ul> </li> <li>19.5. \u6307\u6807<ul> <li>19.5.1. \u5185\u7f6e\u6307\u6807\u5e93</li> <li>19.5.2. \u81ea\u5b9a\u4e49\u6307\u6807</li> <li>19.5.2.1. \u6700\u5c0f\u5468\u671f</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#20-backtrader-2","title":"\u7b2c20\u8bfe backtrader \u56de\u6d4b\u6846\u67b6\uff082\uff09","text":"<ul> <li>20.1. Cerebro<ul> <li>20.1.1. \u589e\u52a0\u8bb0\u5f55\u5668\uff08\u65e5\u5fd7\uff09</li> <li>20.1.2. \u589e\u52a0\u89c2\u5bdf\u8005</li> <li>20.1.3. \u6267\u884c\u4e0e\u7ed8\u56fe</li> </ul> </li> <li>20.2. Order<ul> <li>20.2.1. notify_order</li> </ul> </li> <li>20.3. \u4ea4\u6613\u4ee3\u7406<ul> <li>20.3.1. \u8d44\u4ea7\u4e0e\u6301\u4ed3\u67e5\u8be2</li> <li>20.3.2. \u6210\u4ea4\u91cf\u9650\u5236</li> <li>20.3.2.1. FixedSize</li> <li>20.3.2.2. FixedBarPerc</li> <li>20.3.2.3. BarPointPerc</li> <li>20.3.3. \u4ea4\u6613\u65f6\u673a - Cheat-On-Open</li> <li>20.3.4. \u4ea4\u6613\u65f6\u673a - Cheat-on-Close</li> <li>20.3.5. \u4ea4\u6613\u51fd\u6570</li> <li>20.3.5.1. \u666e\u901a\u4ea4\u6613\u51fd\u6570</li> <li>20.3.5.2. order_target \u7cfb\u5217</li> <li>20.3.6. \u7ec4\u5408\u4ea4\u6613</li> <li>20.3.7. OCO \u8ba2\u5355</li> <li>20.3.8. \u6ed1\u70b9\u3001\u4ea4\u6613\u8d39\u7528</li> <li>20.3.8.1. \u56fa\u5b9a\u6ed1\u70b9</li> <li>20.3.8.2. \u767e\u5206\u6bd4\u6ed1\u70b9</li> <li>20.3.9. \u4ea4\u6613\u8d39\u7528</li> </ul> </li> <li>20.4. \u53ef\u89c6\u5316<ul> <li>20.4.1. \u89c2\u5bdf\u5668</li> <li>20.4.1.1. Broker \u89c2\u5bdf\u5668</li> <li>20.4.1.2. BuySell \u89c2\u5bdf\u5668</li> <li>20.4.1.3. Trade \u89c2\u5bdf\u5668</li> <li>20.4.1.4. TimeReturn \u89c2\u5bdf\u5668</li> <li>20.4.1.5. DrawDown \u89c2\u5bdf\u5668</li> <li>20.4.1.6. Benchmark \u89c2\u5bdf\u5668</li> <li>20.4.2. \u5b9a\u5236\u7ed8\u56fe</li> <li>20.4.3. \u6536\u96c6\u56de\u6d4b\u6570\u636e</li> </ul> </li> <li>20.5. \u4f18\u5316</li> <li>20.6. \u5c0f\u7ed3</li> </ul>"},{"location":"articles/coursea/cheese/outline/#21","title":"\u7b2c21\u8bfe \u7b56\u7565\u56de\u6d4b\u8bc4\u4f30","text":"<ul> <li>21.1. \u56de\u62a5\u7387<ul> <li>21.1.1. \u7b80\u5355\u56de\u62a5\u7387</li> <li>21.1.2. \u5bf9\u6570\u56de\u62a5\u7387</li> <li>21.1.3. Cumulative Returns</li> <li>21.1.4. Aggregate Returns</li> <li>21.1.5. Annual Return</li> </ul> </li> <li>21.2. \u98ce\u9669\u8c03\u6574\u6536\u76ca\u7387<ul> <li>21.2.1. sharpe ratio</li> <li>21.2.2. sharpe \u6bd4\u7387\u4e0e\u8d44\u4ea7\u66f2\u7ebf\u7684\u5173\u7cfb</li> <li>21.2.3. sortino \u6307\u6807</li> <li>21.2.4. Max DrawDown \uff08\u6700\u5927\u56de\u64a4\uff09</li> <li>21.2.5. Sharpe \u4e0e max drawdown \u7684\u5173\u7cfb</li> <li>21.2.6. \u5e74\u5316\u6ce2\u52a8\u7387</li> <li>21.2.7. Calmar Ratio</li> <li>21.2.8. Omega Ratio</li> </ul> </li> <li>21.3. \u57fa\u51c6\u5bf9\u7167\u7c7b\u6307\u6807<ul> <li>21.3.1. information ratio</li> <li>21.3.2. alpha/beta</li> </ul> </li> <li>21.4. \u7b56\u7565\u8bc4\u4f30\u7684\u53ef\u89c6\u5316<ul> <li>21.4.1. Metrics</li> <li>21.4.2. plots</li> <li>21.4.3. basic \u548c full</li> <li>21.4.4. html</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#22","title":"\u7b2c22\u8bfe \u56de\u6d4b\u9677\u9631","text":"<ul> <li>22.1. \u5e78\u5b58\u8005\u504f\u5dee</li> <li>22.2. Look-ahead bias<ul> <li>22.2.1. \u5f15\u7528\u9519\u8bef</li> <li>22.2.2. \u5077\u4ef7</li> <li>22.2.3. \u590d\u6743\u5f15\u8d77\u7684\u524d\u89c6\u504f\u5dee</li> <li>22.2.4. PIT\u6570\u636e</li> </ul> </li> <li>22.3. \u590d\u6743\u5f15\u8d77\u7684\u95ee\u9898<ul> <li>22.3.1. \u4f7f\u7528\u590d\u6743\u6570\u636e\u7684\u5fc5\u8981\u6027</li> <li>22.3.2. \u540e\u590d\u6743\u7684\u95ee\u9898</li> <li>22.3.3. \u590d\u6743\u76f8\u5173\u7684\u5176\u5b83\u95ee\u9898</li> </ul> </li> <li>22.4. \u4ea4\u6613\u89c4\u5219<ul> <li>22.4.1. T+1\u4ea4\u6613</li> <li>22.4.2. \u6da8\u3001\u8dcc\u9650\u5236</li> </ul> </li> <li>22.5. \u8fc7\u5ea6\u62df\u5408</li> <li>22.6. \u56de\u6d4b\u65f6\u957f</li> <li>22.7. \u56de\u6d4b\u4e0e\u5b9e\u76d8\u7684\u5dee\u5f02<ul> <li>22.7.1. \u4fe1\u53f7\u95ea\u70c1</li> <li>22.7.2. \u51b2\u51fb\u6210\u672c</li> <li>22.7.3. \u4e0d\u53ef\u80fd\u6210\u4ea4\u7684\u4ef7\u683c</li> <li>22.7.4. \u64ae\u5408\u95ee\u9898</li> </ul> </li> <li>22.8. \u5927\u5bcc\u7fc1\u56de\u6d4b\u6846\u67b6<ul> <li>22.8.1. \u56de\u6d4b\u529f\u80fd\u7b80\u4ecb</li> <li>22.8.1.1. \u67b6\u6784\u548c\u98ce\u683c</li> <li>22.8.2. \u7b56\u7565\u6846\u67b6</li> <li>22.8.2.1. \u6570\u636e\u548c\u6570\u636e\u683c\u5f0f</li> <li>22.8.2.2. \u8de8\u5468\u671f\u6570\u636e</li> <li>22.8.2.3. \u9a71\u52a8\u6a21\u5f0f\u4e0e\u6027\u80fd</li> <li>22.8.2.4. \u56de\u6d4b\u62a5\u544a</li> <li>22.8.3. \u4e00\u4e2a\u5b8c\u6574\u7684\u7b56\u7565\u793a\u4f8b</li> <li>22.8.4. \u53c2\u6570\u4f18\u5316</li> </ul> </li> <li>22.9. \u53c2\u8003\u6587\u732e</li> </ul>"},{"location":"articles/coursea/cheese/outline/#23-1","title":"\u7b2c23\u8bfe \u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3 (1)","text":"<ul> <li>23.1. easytrader<ul> <li>23.1.1. \u5b89\u88c5</li> <li>23.1.2. \u751f\u547d\u671f</li> <li>23.1.2.1. \u8fde\u63a5\u5ba2\u6237\u7aef</li> <li>23.1.2.2. \u83b7\u53d6\u8d26\u6237\u4fe1\u606f</li> <li>23.1.2.3. \u4ea4\u6613</li> <li>23.1.3. \u670d\u52a1\u5668\u6a21\u5f0f</li> <li>23.1.4. \u81ea\u52a8\u8ddf\u5355</li> </ul> </li> <li>23.2. \u4e1c\u65b9\u8d22\u5bcc EMC \u667a\u80fd\u4ea4\u6613\u7ec8\u7aef<ul> <li>23.2.1. \u5b89\u88c5</li> <li>23.2.1.1. \u914d\u7f6e\u6587\u4ef6\u5355\u76ee\u5f55</li> <li>23.2.2. \u8fd0\u884c\u548c\u7ef4\u62a4</li> <li>23.2.2.1. \u542f\u52a8</li> <li>23.2.2.2. \u6bcf\u65e5\u7ef4\u62a4</li> <li>23.2.3. \u6545\u969c\u6392\u9664\u4e0e\u5e2e\u52a9</li> <li>23.2.4. \u64ae\u5408\u914d\u7f6e\u89c4\u5219</li> </ul> </li> <li>23.3. Trader-gm-adaptor<ul> <li>23.3.1. \u5192\u70df\u6d4b\u8bd5</li> <li>23.3.2. \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4ea4\u4e92</li> <li>23.3.2.1. \u5ba2\u6237\u7aef\u8bf7\u6c42</li> <li>23.3.2.2. \u8fd4\u56de\u7ed3\u679c</li> <li>23.3.3. API \u793a\u4f8b</li> <li>23.3.3.1. \u8d44\u4ea7\u8868</li> <li>23.3.3.2. \u6301\u4ed3\u8868</li> <li>23.3.3.3. \u9650\u4ef7\u4e70\u5165</li> <li>23.3.3.4. \u5e02\u4ef7\u4e70\u5165</li> <li>23.3.3.5. \u9650\u4ef7\u5356\u51fa</li> <li>23.3.3.6. \u5e02\u4ef7\u5356\u51fa</li> <li>23.3.3.7. \u53d6\u6d88\u59d4\u6258</li> <li>23.3.3.8. \u67e5\u8be2\u5f53\u65e5\u59d4\u6258</li> </ul> </li> </ul>"},{"location":"articles/coursea/cheese/outline/#24-2","title":"\u7b2c24\u8bfe \u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3\uff082\uff09","text":"<ul> <li>24.1. ptrade<ul> <li>24.1.1. \u7533\u8bf7\u4e0e\u5b89\u88c5</li> <li>24.1.2. \u7b56\u7565\u6846\u67b6\u6982\u8ff0</li> <li>24.1.2.1. initialize</li> <li>24.1.2.2. before_trading_start</li> <li>24.1.2.3. handle_data</li> <li>24.1.2.4. after_trading_end</li> <li>24.1.3. \u4e00\u4e2a\u53cc\u5747\u7ebf\u7b56\u7565</li> <li>24.1.4. \u590d\u6743\u673a\u5236</li> </ul> </li> <li>24.2. QMT<ul> <li>24.2.1. \u5b89\u88c5\u548c\u7533\u8bf7\u91cf\u5316\u6743\u9650</li> <li>24.2.2. \u529f\u80fd\u6982\u89c8</li> <li>24.2.2.1. \u6211\u7684\u677f\u5757</li> <li>24.2.2.2. \u6a21\u578b\u7814\u7a76</li> <li>24.2.2.3. \u6a21\u578b\u4ea4\u6613</li> </ul> </li> <li>24.3. QMT-Mini</li> <li>24.4. XtData<ul> <li>24.4.1. \u83b7\u53d6\u8bc1\u5238\u5217\u8868</li> <li>24.4.2. \u83b7\u53d6\u4ea4\u6613\u65e5\u5386</li> <li>24.4.3. \u83b7\u53d6\u884c\u60c5\u6570\u636e</li> </ul> </li> <li>24.5. XtTrader<ul> <li>24.5.1. \u5c01\u88c5\u6210web\u670d\u52a1</li> </ul> </li> </ul>"},{"location":"articles/coursea/tools/how_to_run_app_as_service_in_wsl/","title":"How to run app as service in wsl","text":"<p>WSL\u662f\u4e0d\u4f1a\u968fWindows\u542f\u52a8\u800c\u542f\u52a8\u7684\u3002\u5982\u679c\u60a8\u542f\u7528\u7684\u662fWSL 1.0\uff0c\u90a3\u4e48\u5728WSL\u91cc\u5b89\u88c5\u4e86\u5e94\u7528\u7a0b\u5e8f\uff0c\u5b83\u4eec\u4e5f\u4e0d\u80fd\u4ee5\u670d\u52a1\u65b9\u5f0f\u8fd0\u884c\u3002\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\u65b9\u6848\uff0c\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u81ea\u52a8\u5316\u4f53\u9a8c\u3002</p> <p>\u6211\u4eec\u8fd9\u91cc\u7684\u65b9\u6848\u6765\u81ea\u4e8egh://wsl-autostart\u3002</p> <p>\u65b9\u6848\u603b\u5171\u5206\u56db\u6b65\uff1a</p> <ol> <li>\u5c06\u8be5\u9879\u76eeclone\u5230\u672c\u5730</li> <li>\u4fee\u6539commands.txt\u6587\u4ef6</li> <li>\u4fee\u6539wsl\u91cc\u7684sudoers\u6587\u4ef6</li> <li>\u6dfb\u52a0\u4efb\u52a1\u8ba1\u5212\uff0c\u5b9e\u73b0\u5f00\u673a\u81ea\u542f\u52a8</li> </ol> <p>\u6211\u4eec\u4ece\u7b2c\u4e8c\u6b65\u8bb2\u8d77\u3002</p>"},{"location":"articles/coursea/tools/how_to_run_app_as_service_in_wsl/#wsl","title":"\u914d\u7f6e\u8ddf\u968fWSL\u542f\u52a8\u7684\u670d\u52a1","text":"<p>commands.txt\u91cc\u662f\u6211\u4eec\u8981\u5728wsl\u91cc\uff0c\u81ea\u52a8\u542f\u52a8\u7684\u90a3\u4e9b\u5e94\u7528\uff0c\u6bd4\u5982\uff1a <pre><code>/etc/init.d/cron\n/etc/init.d/ssh\n/etc/init.d/mysql\n/etc/init.d/apache2\n</code></pre> \u8fd9\u91cc\u6839\u636e\u81ea\u5df1\u7684\u60c5\u51b5\u6765\u53d6\u820d\u3002</p>"},{"location":"articles/coursea/tools/how_to_run_app_as_service_in_wsl/#sudoer","title":"\u8bbe\u7f6esudoer\u6587\u4ef6","text":"<p>\u53ef\u80fd\u6709\u4e00\u4e9b\u670d\u52a1\u5fc5\u987b\u4ee5\u7279\u522b\u7684\u6743\u9650\u6765\u542f\u52a8\uff0c\u56e0\u6b64\u76f4\u63a5\u6267\u884c\u4e0a\u9762\u7684\u547d\u4ee4\u65f6\uff0c\u53ef\u80fd\u4f1a\u63d0\u793a\u8f93\u5165root\u5bc6\u7801\uff0c\u8fd9\u6837\u5c31\u5bfc\u81f4\u65e0\u6cd5\u81ea\u52a8\u542f\u52a8\u3002</p> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u8bbe\u7f6esudoer\u6587\u4ef6</p> <p><pre><code># /etc/sudoers\n%sudo ALL=NOPASSWD: /etc/init.d/cron\n%sudo ALL=NOPASSWD: /etc/init.d/ssh\n%sudo ALL=NOPASSWD: /etc/init.d/mysql\n%sudo ALL=NOPASSWD: /etc/init.d/apache2\n</code></pre> \u901a\u8fc7\u5982\u4e0a\u914d\u7f6e\uff0c\u542f\u52a8\u8fd9\u4e9b\u670d\u52a1\u65f6\uff0c\u5c31\u4e0d\u518d\u9700\u8981\u8f93\u5165\u5bc6\u7801\u4e86\u3002</p>"},{"location":"articles/coursea/tools/how_to_run_app_as_service_in_wsl/#_1","title":"\u914d\u7f6e\u5f00\u673a\u81ea\u542f\u52a8","text":"<p>\u8fd9\u91cc\u6211\u4eec\u91c7\u7528\u4efb\u52a1\u8ba1\u5212\u7684\u65b9\u6cd5\u3002</p> <ul> <li>step 1 </li> <li>step 2     \u914d\u7f6e\u4e3a\u968f\u673a\u542f\u52a8 </li> <li>step 3     \u8bbe\u7f6e\u4efb\u52a1\u811a\u672c\uff0c\u8fd9\u91cc\u6307\u5411\u524d\u9762clone\u5230\u672c\u5730\u7684start.vbs </li> <li>step 4     \u6700\u540e\uff0c\u8bbe\u7f6e\u4e3a\u201c\u52ff\u542f\u52a8\u65b0\u5b9e\u4f8b\"     </li> </ul> <p>\u4efb\u52a1\u8ba1\u5212\u8bbe\u7f6e\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728\u4efb\u52a1\u8ba1\u5212\u4e2d\u627e\u5230\u8be5\u4efb\u52a1\uff0c\u70b9\u51fb\"\u542f\u52a8\"\u6d4b\u8bd5\u4e00\u4e0b\u3002  \u7531\u4e8e\u5728\u670d\u52a1\u4e2d\u5f00\u542f\u4e86ssh\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528ssh\u8fde\u63a5\u4e00\u4e0b\u670d\u52a1\u5668\u3002</p>"},{"location":"articles/coursea/tools/%E5%A6%82%E4%BD%95%E8%AE%BE%E7%BD%AE%E7%A7%81%E6%9C%89pypi%E6%9C%8D%E5%8A%A1%E5%99%A8/","title":"\u5982\u4f55\u8bbe\u7f6e\u79c1\u6709pypi\u670d\u52a1\u5668","text":"<p>\u6709\u597d\u4e9b\u4e2a\u573a\u666f\u9700\u8981\u6211\u4eec\u8bbe\u7f6e\u81ea\u5df1\u7684\u79c1\u6709pypi\u670d\u52a1\u5668\uff0c\u6bd4\u5982\uff0c\u516c\u53f8\u8981\u5728\u5185\u90e8\u53d1\u5e03\u5177\u6709\u77e5\u8bc6\u4ea7\u6743\u7684python\u5e93\uff0c\u6240\u4ee5\u4e0d\u5e0c\u671b\u901a\u8fc7pypi\u6765\u53d1\u5e03\uff1b\u6709\u65f6\u5019\u6211\u4eec\u4e3a\u4e86\u8c03\u8bd5\u9700\u8981\uff0c\u9700\u8981\u4e34\u65f6\u9884\u53d1\u5e03\u67d0\u4e2a\u4f9d\u8d56\u5305\u4f9b\u5176\u5b83\u6a21\u5757\u4f7f\u7528\u7b49\u7b49\u3002\u6bd4\u5982\u6700\u8fd1\u5728apple m1\u673a\u5668\u4e0a\u9891\u7e41\u9047\u5230\u6b64\u7c7b\u95ee\u9898\uff0c\u4e00\u4e9bmacos arm64\u7684\u539f\u751f\u5e93\u53ea\u5728miniforge\u4e0a\u5b58\u5728\uff0cpypi\u53cd\u5e94\u8981\u6162\u5f88\u591a\u3002\u6211\u4eec\u5728\u672c\u5730\u7f16\u8bd1\u751f\u6210\u539f\u751f\u5305\u4e4b\u540e\uff0c\u7531\u4e8e\u65e0\u6cd5\u4e0a\u4f20\u5230pypi\uff0c\u50cfpoetry\u8fd9\u6837\u7684\u8f6f\u4ef6\u4ecd\u7136\u65e0\u6cd5\u4f7f\u7528\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u5f88\u591aCI/CD\u8fc7\u7a0b\u65e0\u6cd5\u6b63\u5e38\u6267\u884c\u3002</p> <p>\u6709\u597d\u51e0\u4e2a\u67b6\u8bbe\u79c1\u6709pypi\u670d\u52a1\u5668\u7684\u65b9\u6848\uff0c\u529f\u80fd\u6bd4\u8f83\u5f3a\u52b2\u7684\u6709devpi\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u517c\u5bb9pypi\u7684\u670d\u52a1\u5668\uff0c\u5e76\u4e14\u652f\u6301\u641c\u7d22\u3002\u4e0d\u8fc7\u5b83\u7684\u914d\u7f6e\u7565\u5fae\u590d\u6742\u4e00\u4e9b\uff0c\u6211\u4eec\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e2a\u66f4\u7b80\u5355\u7684\u65b9\u6848\uff1apython-pypi-mirror\u5e93\u3002\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u5f88\u7b80\u5355\uff0c\u5b83\u4e3b\u8981\u7528\u6765\u751f\u6210\u7b26\u5408pypi repo\u7ed3\u6784\u7684\u672c\u5730\u76ee\u5f55\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684web server\u6765\u53d1\u5e03\u8fd9\u4e2a\u76ee\u5f55\uff0c\u4f7f\u4e4b\u6a21\u62dfpypi\u670d\u52a1\u5668\u3002</p> <p>\u5b89\u88c5\u4e4b\u540e\uff0c\u5b83\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u547d\u4ee4\uff1a <pre><code>    list             list packages\n    download         download packages and their dependencies\n    create           create the mirror\n    delete           delete a package, use at your own risk!\n    write-metadata   create metadata files\n    query            query PyPI to retrieve the versions of a package\n</code></pre> \u8fd9\u91cc\u6700\u91cd\u8981\u7684\u662fcreate\u547d\u4ee4\uff1a <pre><code>pypi-mirror create -d /path/to/packages -m simple\n</code></pre> \u8fd9\u91cc\u201d-m simple\"\u5c06\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u540d\u4e3asimple\u7684\u76ee\u5f55\uff08\u540d\u5b57\u53ef\u4ee5\u4e3a\u4efb\u610f\uff09\uff0cpypi-mirror\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u6784\u5efa\u4e00\u4e9b\u5b50\u76ee\u5f55\uff0c\u751f\u6210index.html\u6587\u4ef6\uff0c\u4ee5\u53ca\u5efa\u7acb\u5230packages\u4e2d\u6587\u4ef6\u7684\u8fde\u63a5\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u5728\u4f7f\u7528pypi-mirror\u65f6\uff0c\u53ea\u8981\u628a\u79c1\u6709\u5305\u653e\u7f6e\u5728/path/to/packages\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\uff0c\u8fd9\u4e2a\u76ee\u5f55\u53ca\u76f8\u5e94\u7684\u7ed3\u6784\u5c31\u751f\u6210\u597d\u4e86\uff08\u6bcf\u6b21\u653e\u7f6e\u65b0\u5305\u540e\uff0c\u90fd\u9700\u8981\u91cd\u65b0\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\uff09\u3002</p> <p>\u7136\u540e\u6211\u4eec\u9700\u8981\u8fd0\u884cweb server\u6765\u901a\u8fc7http\u7684\u65b9\u5f0f\u6765\u63d0\u4f9b\u670d\u52a1\uff08\u6bd4\u5982python -m http.server)\u3002\u5047\u8bbeweb server\u5730\u5740\u5982\u4e0b\uff1a http://localhost/simple,\u90a3\u4e48\u6211\u4eec\u9700\u8981\u4e2a\u6027~/.conf/pip/pip.conf\u6587\u4ef6\u5982\u4e0b\uff1a</p> <p><pre><code>[global]\nindex-url = http://localhost/simple\ntrusted-host = mirrors.aliyun.com\n               pypi.org\n               localhost\nextra-index-url = https://pypi.org/simple\n                  https://mirrors.aliyun.com/pypi/simple\n</code></pre> pip\u76ee\u5f55\u8fd8\u80fd\u63a5\u53d7http\u670d\u52a1\uff0c\u4f46\u50cfpoetry\u8fd9\u6837\u7684\u5ba2\u6237\u7aef\uff0c\u53ea\u80fd\u63a5\u53d7https\u670d\u52a1\u4e86\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5bfb\u627e\u80fd\u63d0\u4f9bhttps\u670d\u52a1\u7684web server\uff0c\u6bd4\u5982nginx\u3002\u52a0\u5bc6\u8bc1\u4e66\u53ef\u4ee5\u5728letsencrypt\u4e0a\u7533\u8bf7\u3002letsencrypt\u63d0\u4f9b\u4e86\u597d\u7528\u7684\u5ba2\u6237\u7aef\u5de5\u5177,certbot\uff0c\u5b83\u4e0d\u4ec5\u80fd\u81ea\u52a8\u751f\u6210\u8bc1\u4e66\uff0c\u8fd8\u80fd\u5bf9\u5e94\u4fee\u6539\u670d\u52a1\u5668\u914d\u7f6e\uff08\u6bd4\u5982nginx.conf),\u7528\u6237\u4f53\u9a8c\u975e\u5e38\u597d\u3002</p> <p>\u5982\u679c\u8981mirror pypi, \u4f60\u9700\u8981\u4f7f\u7528\u5b83\u7684download\u547d\u4ee4\u6765\u4ecepypi\u4e0a\u4e0b\u8f7d\u5305\u3002\u4e0d\u8fc7\uff0c\u7ecf\u7531\u4e0a\u8ff0\u914d\u7f6e\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u5728\u672c\u5730\u62e5\u6709\u4e00\u4e2apypi\u7684\u955c\u50cf\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/","title":"\u8d44\u672c\u8d44\u4ea7\u5b9a\u4ef7\u6a21\u578b","text":"<p>\u8d44\u672c\u8d44\u4ea7\u5b9a\u4ef7\u6a21\u578b\uff08CAPM\uff09\u63cf\u8ff0\u4e86\u8d44\u4ea7\u7684\u9884\u671f\u56de\u62a5\u4e0e\u5e02\u573a\u7cfb\u7edf\u98ce\u9669\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5b83\u7531\u5a01\u5ec9. \u590f\u666e\u7b49\u4eba\u5728 1960 \u5e74\u4ee3\u63d0\u51fa\u3002\u5a01\u5ec9. \u590f\u666e\u83b7\u5f97\u4e86 1990 \u5e74\u7684\u8bfa\u8d1d\u5c14\u7ecf\u6d4e\u5b66\u5956\u3002CAPM \u88ab\u8ba4\u4e3a\u662f\u7ecf\u6d4e\u5b66\u7684\u4e03\u4e2a\u57fa\u672c\u7406\u8bba\u4e4b\u4e00\u3002</p> <p>CAPM \u8868\u793a\u8d44\u4ea7\u7684\u9884\u671f\u6536\u76ca\u7b49\u4e8e\u65e0\u98ce\u9669\u6536\u76ca\u52a0\u4e0a\u98ce\u9669\u6ea2\u4ef7\u3002 CAPM \u7684\u5047\u8bbe\u662f\u6295\u8d44\u8005\u662f\u7406\u6027\u7684\uff0c\u5e0c\u671b\u83b7\u5f97\u6700\u5927\u5316\u56de\u62a5\u5e76\u5c3d\u53ef\u80fd\u964d\u4f4e\u98ce\u9669\u3002\u56e0\u6b64\uff0cCAPM \u7684\u76ee\u6807\u662f\u8ba1\u7b97\u76f8\u5bf9\u4e8e\u65e0\u98ce\u9669\u5229\u7387\u7684\u7ed9\u5b9a\u98ce\u9669\u6ea2\u4ef7\uff0c\u6295\u8d44\u8005\u53ef\u4ee5\u9884\u671f\u83b7\u5f97\u7684\u56de\u62a5\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":""},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#risk-free-rate","title":"Risk-Free Rate\uff08\u65e0\u98ce\u9669\u5229\u7387\uff09","text":"<p>\u5f53\u6295\u8d44\u8005\u51b3\u5b9a\u4e70\u5165\u80a1\u7968\u7b49\u9ad8\u98ce\u9669\u8d44\u4ea7\u65f6\uff0c\u4ed6\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u83b7\u5f97\u9ad8\u4e8e\u65e0\u98ce\u9669\u8d44\u4ea7\u7684\u6536\u76ca\u3002\u4e00\u822c\u8ba4\u4e3a\uff0c\u94f6\u884c\u5b58\u6b3e\u5229\u7387\u548c\u56fd\u503a\u6536\u76ca\u7387\u90fd\u662f\u65e0\u98ce\u9669\u7684\u3002\u4e0d\u8fc7\uff0c\u4e00\u822c\u540c\u671f\u7684\u56fd\u503a\u6536\u76ca\u7387\u4f1a\u9ad8\u4e8e\u540c\u671f\u94f6\u884c\u5b58\u6b3e\uff0c\u6240\u4ee5\u6211\u4eec\u5e38\u628a\u56fd\u503a\u6536\u76ca\u7387\u5f53\u6210\u65e0\u98ce\u9669\u5229\u7387\u3002\u4e0d\u540c\u671f\u9650\u7684\u56fd\u503a\u5229\u7387\u6536\u76ca\u4e0d\u540c\uff0c\u4e00\u822c\u5bf9\u6807\u65f6\uff0c\u4f7f\u7528\u4e0e\u98ce\u9669\u8d44\u4ea7\u9884\u671f\u6295\u8d44\u65f6\u95f4\u76f8\u540c\u5c31\u597d\u3002\u6bd4\u5982\uff0c\u5982\u679c\u662f\u6d41\u52a8\u6027\u597d\u7684\u80a1\u7968\uff0c\u4e5f\u4e0d\u6253\u7b97\u957f\u671f\u6301\u6709\uff0c\u5219\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u5e74\u671f\u56fd\u503a\u5229\u7387\u4f5c\u4e3a\u65e0\u98ce\u9669\u5229\u7387\u3002\u5982\u679c\u662f\u4e0d\u52a8\u4ea7\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 5 \u5e74\u671f\u56fd\u503a\u5229\u7387\u4f5c\u4e3a\u5bf9\u6807\u7684\u65e0\u98ce\u9669\u5229\u7387\u3002</p> <p>\u5982\u4f55\u83b7\u53d6\u56fd\u503a\u5229\u7387\u5462\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 akshare:</p> <p><pre><code>import akshare as ak\nimport arrow\nimport numpy as np\nimport random\nimport pandas as pd\n\nrandom.seed(78)\n\nnow = arrow.now()\nstart = now.shift(years=-1)\nend = f\"{now.year}{now.month:02d}{now.day:02d}\"\nstart = f\"{start.year}{start.month:02d}{start.day:02d}\"\n\nbond = ak.bond_china_yield(start_date=start, end_date=end)\nbond.set_index(keys='\u66f2\u7ebf\u540d\u79f0', inplace=True)\nbond\n</code></pre> \u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u8fd1\u4e00\u5e74\u7684\u5404\u79cd\u503a\u5238\u6536\u76ca\u7387\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u201c\u4e2d\u503a\u56fd\u503a\u6536\u76ca\u7387\u66f2\u7ebf\u201d\u4e00\u5e74\u671f\u7684\u5e73\u5747\u503c\u5f53\u4f5c\u4e00\u5e74\u671f\u56fd\u503a\u6536\u76ca\uff1a</p> <p><pre><code>rf = bond[bond.index=='\u4e2d\u503a\u56fd\u503a\u6536\u76ca\u7387\u66f2\u7ebf']['1\u5e74'].mean()\nprint(rf)\n\nrf = rf / 100\n</code></pre> \u8f93\u51fa\u662f 2.06\u3002\u8fd9\u4e2a\u503c\u5e94\u8be5\u89e3\u8bfb\u4e3a 2.06%\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#r_m","title":"\u5e02\u573a\u56de\u62a5 \\(r_m\\)","text":"<p>\u5e02\u573a\u56de\u62a5\u7387\u8868\u793a\u4e3a\\(r_m\\) \uff0c\u5305\u62ec\u5e02\u573a\u4e0a\u7684\u6240\u6709\u8bc1\u5238\u3002\u4f46\u4e00\u822c\u6211\u4eec\u53ea\u4f7f\u7528\u67d0\u4e9b\u6307\u6570\uff0c\u6bd4\u5982\u4e0a\u8bc1 50\uff0c\u6caa\u6df1 300\u3002\u5982\u679c\u6295\u8d44\u504f\u597d\u6210\u957f\u80a1\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4e2d\u8bc1 1000\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_2","title":"\ud835\udefd \u8d1d\u5854","text":"<p>\ud835\udefd \u662f\u8861\u91cf\u80a1\u7968\u76f8\u5bf9\u4e8e\u6574\u4f53\u5e02\u573a\uff08\u4f8b\u5982\u6caa\u6df1 300 \u6307\u6570\uff09\u6ce2\u52a8\u6027\u7684\u6307\u6807\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\ud835\udefd \u4ee3\u8868\u56de\u5f52\u7ebf\u7684\u659c\u7387\uff0c\u5373\u5e02\u573a\u56de\u62a5\u4e0e\u4e2a\u80a1\u56de\u62a5\u7684\u5173\u7cfb\u3002</p> <p>CAPM \u4e2d\u4f7f\u7528 \ud835\udefd \u6765\u63cf\u8ff0\u7cfb\u7edf\u98ce\u9669\u6216\u5e02\u573a\u98ce\u9669\u4e0e\u8d44\u4ea7\u9884\u671f\u56de\u62a5\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u6839\u636e\u5b9a\u4e49\uff0c\u6211\u4eec\u8bf4\u6574\u4e2a\u5e02\u573a\u7684\u8d1d\u5854\u503c\u4e3a 1.0\uff0c\u4e2a\u80a1\u6839\u636e\u5176\u76f8\u5bf9\u4e8e\u5e02\u573a\u7684\u6ce2\u52a8\u7a0b\u5ea6\u8fdb\u884c\u6392\u540d\u3002</p> <ul> <li>\u5982\u679c\u4e2a\u80a1\u7684 Beta = 1.0\uff0c\u8fd9\u610f\u5473\u7740\u5176\u4ef7\u683c\u4e0e\u5e02\u573a\u5b8c\u5168\u76f8\u5173</li> <li>\u5982\u679c Beta &lt; 1.0\uff08\u79f0\u4e3a\u201c\u9632\u5fa1\u6027\u201d\uff09\uff0c\u8fd9\u8868\u660e\u8be5\u8bc1\u5238\u7406\u8bba\u4e0a\u7684\u6ce2\u52a8\u6027\u4f4e\u4e8e\u5e02\u573a</li> <li>\u5982\u679c Beta &gt; 1.0 \u6216\u201c\u6fc0\u8fdb\u201d\uff0c\u5219\u8868\u660e\u8d44\u4ea7\u4ef7\u683c\u6bd4\u5e02\u573a\u6ce2\u52a8\u66f4\u5927</li> </ul>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#capm","title":"CAPM \u516c\u5f0f","text":"<p>\u8be5\u516c\u5f0f\u5b9a\u4e49\u5982\u4e0b\uff1a</p> \\[ r_i = r_f + \\beta(r_m - r_f) \\] <p>\u8fd9\u91cc\uff1a * \\(r_i\\)\u662f\u8bc1\u5238\uff08\u4e2a\u80a1\uff09\u7684\u9884\u671f\u56de\u62a5 * \\(r_f\\)\u662f\u65e0\u98ce\u9669\u5229\u7387 * \\(\\beta_i\\)\u662f\u8bc1\u5238\u76f8\u5bf9\u4e8e\u5e02\u573a\u7684\ud835\udefd\u503c * \\(r_m - r_f\\)\u88ab\u79f0\u4e3a\u98ce\u9669\u6ea2\u4ef7</p> <p>\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u89e3\u8bfb\u8fd9\u4e2a\u516c\u5f0f\u3002\u5982\u679c\u6807\u666e 500 \u7684\u6574\u4f53\u56de\u62a5\u7387\u662f 12.4%\uff0c\u65e0\u98ce\u9669\u7387\u5229\u7387\u4e3a 0%\uff0c\u800c APPL \u7684\ud835\udefd\u4e3a 1.1 \u7684\u8bdd\uff0c\u5219\u6295\u8d44\u8005\u4e70\u5165 APPL\uff0c\u4ed6\u671f\u671b\u83b7\u5f97 13.7%\u7684\u56de\u62a5\uff0c\u4ee5\u8865\u507f\u627f\u62c5\u7684\u989d\u5916\u98ce\u9669\u3002</p> <p>\u8981\u4f7f\u7528 CAPM \u6a21\u578b\uff0c\u6838\u5fc3\u662f\u8ba1\u7b97\u4e2a\u80a1\u76f8\u5bf9\u4e8e\u5e02\u573a\u7ec4\u5408\uff08\u6307\u6570\uff09\u7684\ud835\udefd\u3002\u4e0b\u9762\u6211\u4eec\u5c31\u901a\u8fc7 Python \u6765\u8fdb\u884c\u5b9e\u73b0\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#python-capm","title":"\u57fa\u4e8e Python \u7684 CAPM \u5b9e\u73b0","text":"<p>\u6211\u4eec\u4f7f\u7528\u7684\u5e02\u573a\u7ec4\u5408\u662f\u6caa\u6df1 300\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u8981\u4ece\u4e2d\u62bd\u53d6\u4e2a\u80a1\u3002\u6211\u4eec\u5c06\u968f\u673a\u62bd\u53d6 10 \u652f\u4e2a\u80a1\u6765\u8fdb\u884c\u8ba1\u7b97\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_3","title":"\u83b7\u53d6\u6570\u636e","text":"<p>\u4e3a\u4e86\u786e\u4fdd\u6240\u6709\u4eba\u90fd\u80fd\u62ff\u5230\u6570\u636e\uff0c\u6211\u4eec\u4ecd\u7136\u4f7f\u7528 akshare\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u901a\u8fc7 akshare \u83b7\u53d6\u8fc7\u53bb\u4e00\u5e74\u7684\u6caa\u6df1 300 \u7684\u884c\u60c5\u6570\u636e\uff1a</p> <pre><code>import akshare as ak\n\nhs300 = ak.stock_zh_index_daily(symbol=\"sz399300\")\nhs300.index = pd.to_datetime(hs300[\"date\"])\nprint(hs300)\n</code></pre> <p>\u6211\u4eec\u5bf9\u8fc7\u53bb\u4e00\u5e74\u7684\u6caa\u6df1 300 \u7684\u6536\u76ca\u60c5\u51b5\u8fdb\u884c\u901f\u89c8\uff1a</p> <pre><code>now = arrow.now()\nyear_ago = now.shift(years = -1)\n\nyear_ago = hs300[hs300.index &gt;= np.datetime64(year_ago)].index[0]\n# PRINT(YEAR_AGO)\n\n# \u8ba1\u7b97\u4e70\u5165\u5e76\u6301\u6709\u7684\u6536\u76ca\uff08\u6700\u8fd1\u4e00\u5e74\uff09\nbuy_price = hs300[hs300.index == year_ago].iloc[0][\"close\"]\nbuy_and_hold = hs300[\"close\"][-1]/buy_price - 1\nprint(f\"\u4e70\u5165\u5e76\u6301\u6536\u76ca\uff1a{buy_and_hold:.2%}\")\n\n# \u901a\u8fc7\u5747\u503c\u63a8\u7b97\u5e74\u5316\u6536\u76ca\nmarket_returns = hs300[\"close\"].pct_change().dropna()\nmarket_annual = (1 + market_returns[market_returns.index &gt;= year_ago].mean()) ** 242 - 1\nprint(f\"\u5e74\u5316\u6536\u76ca\uff1a{market_annual:.2%}\")\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u8fc7\u53bb\u4e00\u5e74\u91cc\uff0c\u4ee5\u4e70\u5165\u5e76\u6301\u6709\u6cd5\u8ba1\uff0c\u6caa\u6df1300\u7684\u6536\u76ca\u662f-4.22%\uff1b\u5982\u679c\u6309\u6bcf\u65e5\u6536\u76ca\u53d6\u5747\u503c\uff0c\u518d\u5e74\u5316\uff0c\u5219\u5f97\u5230\u6536\u76ca\u662f-3.31%\uff0c\u4e24\u8005\u76f8\u5dee\u4e0d\u5927\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u83b7\u53d6\u6caa\u6df1 300 \u6210\u4efd\u80a1\uff0c\u4ee5\u4fbf\u4ece\u4e2d\u62bd\u53d6\u4e2a\u80a1\u8fdb\u884c\u68c0\u9a8c\uff1a</p> <pre><code>import akshare as ak\nindex_stock_cons_df = ak.index_stock_cons(symbol=\"399300\")\nprint(index_stock_cons_df)\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u968f\u673a\u53d6 10 \u652f\u80a1\u7968\uff0c\u83b7\u53d6\u884c\u60c5\uff0c\u5e76\u8ba1\u7b97\u6bcf\u65e5\u6536\u76ca\u7387\uff1a</p> <pre><code>np.random.seed(78)\n\nstocks = random.sample(index_stock_cons_df['\u54c1\u79cd\u4ee3\u7801'].to_list(), 10)\n\nframes = {}\n\nnow = arrow.now()\nstart = now.shift(years = -1)\nend = now.format(\"YYYYMMDD\")\nstart = start.format(\"YYYYMMDD\")\n\n# \u83b7\u53d6 10 \u652f\u80a1\u7968\u7684\u884c\u60c5\u6570\u636e\nfor code in stocks:\n    bars = ak.stock_zh_a_hist(symbol=code, period=\"daily\", start_date=start, end_date=end, adjust=\"qfq\")\n    bars.index = pd.to_datetime(bars[\"\u65e5\u671f\"])\n    frames[code] = bars[\"\u6536\u76d8\"]\n\n# \u4e0e\u6307\u6570\u884c\u60c5\u6570\u636e\u5408\u5e76\nstart = np.datetime64(now.shift(years = -1))\nframes[\"399300\"] = hs300[hs300.index &gt;= start][\"close\"]\n\ndf = pd.DataFrame(frames)\n\n# \u8ba1\u7b97\u6bcf\u65e5\u6536\u76ca\nreturns = df.pct_change()\n\n# \u5982\u679c\u5b58\u5728 NAN\uff0c\u5219\u540e\u9762\u7684\u56de\u5f52\u6cd5\u5c06\u65e0\u6cd5\u805a\u5408\nreturns.dropna(how='any', inplace=True)\nreturns.style.format('{:,.2%}')\n</code></pre>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_4","title":"\u8ba1\u7b97\ud835\udefd","text":"<p>\u6211\u4eec\u5c06\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u6765\u8ba1\u7b97\ud835\udefd\u3002\u4e00\u79cd\u662f\u56de\u5f52\u6cd5\uff0c\u4e00\u79cd\u662f\u534f\u65b9\u5dee\u6cd5\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_5","title":"\u56de\u5f52\u6cd5","text":"<p>\u5728 numpy \u4e2d\u6709\u4e00\u4e2a polyfit \u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u8fdb\u884c\u591a\u9879\u5f0f\u62df\u5408\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u4e00\u6b21\u9879\u62df\u5408\uff0c\u90a3\u4e48\u5f97\u5230\u7684\u7cfb\u6570\u5c31\u662f\u8981\u6c42\u7684\ud835\udefd\u3002</p> <pre><code>cols = df.columns\nbetas = {}\nfor name in cols:\n    beta, alpha = np.polyfit(returns[name], returns[\"399300\"], deg=1)\n    print(name, f\"{beta:.2%} {alpha:.2%}\")\n    betas[name] = beta\n</code></pre> <p>\u4ece\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u6709\u4e00\u652f\u80a1\u7968\u5b58\u5728\u6b63\u7684 alpha\uff0c\u540c\u65f6\u8fd8\u5b58\u5728 10%\u4ee5\u4e0a\u7684 beta \u6536\u76ca\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u6765\u770b\u770b\uff0c\u5982\u679c\u4e70\u5165\u8fd9\u652f\u80a1\u7968\uff0c\u5b83\u4eec\u7684\u9884\u671f\u6536\u76ca\u5e94\u8be5\u662f\u591a\u5c11\uff1a</p> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c\u6211\u4eec\u4f7f\u7528\u7684 risk_free \u662f\u5e74\u5316\u6536\u76ca\uff0c\u56e0\u6b64\u6211\u4eec\u6700\u7ec8\u8ba1\u7b97\u51fa\u6765\u7684\u9884\u671f\u6536\u76ca\uff0c\u4e5f\u5e94\u8be5\u662f\u5e74\u5316\uff08\u6216\u8005\u90fd\u7edf\u4e00\u5230\u65e5\u5316\uff09\uff1a</p> <pre><code>code = \"002756\"\nbeta = betas[code]\n\n# \u56de\u5f52\u6cd5\u5f97\u5230\u7684\u9884\u671f\u6536\u76ca\nexpected_return = rf + beta * (market_annual - rf)\nprint(f\"code beta: {beta:.2f}, Er: {expected_return:.2%}\")\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230 002756 \u7684 beta \u662f 0.11\uff0c\u4e00\u5e74\u671f\u7684\u9884\u671f\u6536\u76ca\u662f 1.51%\u5de6\u53f3\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_6","title":"\u534f\u65b9\u5dee\u6cd5","text":"<p><pre><code>params = {}\n\nfor name in cols:\n    cov = np.cov(returns[\"399300\"], returns[name])\n    beta = cov[0,1]/cov[1,1]\n\n    expected_return = rf + beta * (market_annual - rf)\n    print(f\"{name} beta: {beta:.2%}, Er: {expected_return:.2%}\")\n    params[name] = beta\n\nbeta = params[code]\n\n# \u56de\u5f52\u6cd5\u5f97\u5230\u7684\u9884\u671f\u6536\u76ca\nexpected_return = rf + beta * (market_annual - rf)\nprint(f\"code beta: {beta:.2f}, Er: {expected_return:.2%}\")\n</code></pre> \u8fd9\u6837\u5f97\u5230 002756 \u7684 beta \u662f0.11\uff0c\u5e74\u5316\u9884\u671f\u6536\u76ca\u662f1.51%\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_7","title":"\u53ef\u89c6\u5316","text":"<p>\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\uff0c\u5c06\u4e2a\u80a1\u4e0e\u6caa\u6df1300\u7684\u6da8\u8dcc\u76f8\u5173\u6027\u8fdb\u884c\u53ef\u89c6\u5316\uff0c\u4ece\u800c\u5f97\u5230\u66f4\u76f4\u89c2\u7684\u5370\u8c61\u3002</p> <pre><code>import plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\n\nci = sorted(set(returns[code].index).intersection(set(returns[\"399300\"].index)))\n\ny = returns[code][ci]\nx = returns[\"399300\"][ci]\n\ndf = pd.DataFrame({\n    \"\u6caa\u6df1300\": sorted(returns[\"399300\"][ci]),\n    \"\u6807\u7684\": sorted(returns[code][ci])\n})\n\nfig = make_subplots(\n    rows=1,\n    cols=2\n)\n\nfig.add_trace(go.Scatter(x=df[\"\u6caa\u6df1300\"], y=df[\"\u6807\u7684\"]))\nfig2 = px.line(df)\nfig.add_trace(fig2[\"data\"][0], row=1, col=2)\nfig.add_trace(fig2[\"data\"][1], row=1, col=2)\n\nfig['layout']['xaxis']['title']='\u6caa\u6df1300'\nfig['layout']['yaxis']['title']='\u6807\u7684'\n\nfig.show()\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u4e0b\u56fe\uff1a</p> <p></p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-1/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(1) - \u57fa\u672c\u6982\u5ff5","text":"<p>\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\uff08MPT\uff09\u662f\u7531\u9a6c\u79d1\u7ef4\u8328\u4e8e 1952 \u5e74\u63d0\u51fa\u7684\uff0c\u662f\u73b0\u4ee3\u91d1\u878d 7 \u4e2a\u57fa\u672c\u7406\u8bba\u4e4b\u4e00\u3002\u5b83\u7528\u6570\u5b66\u672f\u8bed\u63cf\u8ff0\u4e86\u591a\u5143\u5316\u548c\u98ce\u9669\u7ba1\u7406\u7b49\u6982\u5ff5\uff0c\u4e3a\u6295\u8d44\u8005\u63d0\u4f9b\u4e86\u6784\u5efa\u591a\u5143\u5316\u6295\u8d44\u7ec4\u5408\u7684\u5de5\u5177\u96c6\uff0c\u5373\u5047\u5b9a\u6295\u8d44\u8005\u6295\u8d44\u4e8e\u591a\u4e2a\u8d44\u4ea7\uff0c\u5728\u6ee1\u8db3\u7ed9\u5b9a\u9884\u671f\u56de\u62a5\u7387\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f18\u5316\u6c42\u89e3\u51fa\u98ce\u9669\u6700\u5c0f\u7684\u6295\u8d44\u7ec4\u5408\u3002</p> <p>\u6240\u6709\u7684\u8fd9\u4e9b\u8d44\u4ea7\u7ec4\u5408\u6784\u6210\u4e00\u6761\u66f2\u7ebf\uff08\u4ee5\u8d44\u4ea7\u7ec4\u5408\u7684\u6807\u51c6\u5dee\u4e3a\u6a2a\u8f74\uff0c\u9884\u671f\u56de\u62a5\u7387\u4e3a\u7eb5\u8f74\uff09\uff0c\u79f0\u4e3a\u524d\u6cbf\u8d44\u4ea7\u7ec4\u5408\u66f2\u7ebf\uff0c\u5176\u4e2d\u66f2\u7ebf\u7684\u4e0a\u534a\u90e8\u5206\u53c8\u88ab\u79f0\u4e3a\u6709\u6548\u524d\u6cbf\u3002</p> <p></p> <p>\u8fd9\u4e2a\u56fe\u662f\u4e00\u4e2a\u4e0a\u4e0b\u5bf9\u79f0\u56fe\uff0c\u5728\u56fe\u7684\u4e0b\u534a\u90e8\u5206\u4e0a\u7684\u6bcf\u4e00\u4e2a\u70b9\uff0c\u90fd\u53ef\u4ee5\u5728\u4e0a\u534a\u90e8\u5206\u627e\u5230\u4e00\u4e2a\u5bf9\u5e94\u70b9\uff0c\u5b83\u4eec\u5177\u6709\u76f8\u540c\u7684\u98ce\u9669\uff0c\u4f46\u6709\u6548\u524d\u6cbf\u4e0a\u7684\u70b9\u5177\u6709\u66f4\u5927\u7684\u9884\u671f\u6536\u76ca\u7387\u3002\u56e0\u6b64\u4e0b\u534a\u90e8\u5206\u6295\u8d44\u662f\u6ca1\u6709\u6295\u8d44\u8005\u613f\u610f\u6301\u6709\u7684\u3002</p> <p>\u6bcf\u4e2a\u6295\u8d44\u8005\u6839\u636e\u81ea\u5df1\u7684\u98ce\u9669\u627f\u53d7\u80fd\u529b\uff08\u6548\u7528\u51fd\u6570\uff09\uff0c\u5728\u6709\u6548\u524d\u6cbf\u4e0a\u9009\u62e9\u81ea\u5df1\u7684\u6295\u8d44\u7ec4\u5408\u3002</p> <p>\u9a6c\u79d1\u7ef4\u8328\u4e5f\u56e0\u4e3a\u5bf9 MPT \u7406\u8bba\u7684\u8d21\u732e\uff0c\u4ece\u800c\u83b7\u5f97\u4e86 1990 \u5e74\u8bfa\u8d1d\u5c14\u7ecf\u6d4e\u5b66\u5956\u3002\u4ed6\u672c\u4eba\u975e\u5e38\u770b\u597d\u901a\u8fc7\u8d44\u4ea7\u7ec4\u5408\u6765\u5206\u6563\u6295\u8d44\u98ce\u9669\u8fd9\u4e00\u7406\u5ff5\uff0c\u8ba4\u4e3a\u201c\u8d44\u4ea7\u7ec4\u5408\u662f\u6295\u8d44\u4e2d\u60df\u4e00\u514d\u8d39\u53ef\u5f97\u7684\u5348\u9910\u201d\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-1/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u6211\u4eec\u4ee5\u6700\u7b80\u5355\u7684\u4e24\u4e2a\u98ce\u9669\u8d44\u4ea7\u7ec4\u5408\u4e3a\u4f8b\u6765\u89e3\u91ca\u6709\u6548\u524d\u6cbf\uff1a</p> \\[ R_p = w_1R_1 + (1-w_1)R_2 \\] <p>\u8fd9\u91cc\uff1a</p> <p>\\(R_p\\) \u662f\u7ec4\u5408\u7684\u6536\u76ca \\(W_1\\) \u662f\u8d44\u4ea7 1 \u7684\u914d\u6bd4\u6743\u91cd \\(R_1\\) \u662f\u8d44\u4ea7 1 \u7684\u6536\u76ca\u3002</p> <p>\u7ec4\u5408\u7684\u98ce\u9669\u7528\u65b9\u5dee\u6765\u8861\u91cf\uff1a</p> \\[ \\sigma_p = \\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 + 2w_1w_2Cov(R_1, R_2)}\\newline          =\\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 + 2w_1w_2\\rho_{1,2}\\sigma_1\\sigma_2} \\] <p>\u8fd9\u91cc\u7684\\(\\rho_{1,2}\\) \u662f\u8d44\u4ea7 1 \u4e0e\u8d44\u4ea7 2 \u4e4b\u95f4\u7684\u76f8\u5173\u7cfb\u6570\u3002</p> <p>\u5f53\u4e24\u4e2a\u8d44\u4ea7\u7684\u76f8\u5173\u7cfb\u6570\u4e3a 1 \u65f6\uff0c\u4e0a\u5f0f\u5c31\u5316\u7b80\u4e3a\uff1a</p> \\[ \\sigma_p =\\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 + 2w_1w_2\\sigma_1\\sigma_2}\\newline         =\\sqrt{(w_1\\sigma_1 + w_2\\sigma_2)^2}\\newline          = w_1\\sigma_1 + w_2\\sigma_2 \\] <p>\u5f53\u4e24\u4e2a\u8d44\u4ea7\u4e4b\u95f4\u7684\u76f8\u5173\u7cfb\u6570\u4e3a-1 \u65f6\uff0c</p> \\[ \\sigma_p =\\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 - 2w_1w_2\\sigma_1\\sigma_2}\\newline         =\\sqrt{(w_1\\sigma_1 - w_2\\sigma_2)^2}\\newline          = w_1\\sigma_1 - w_2\\sigma_2 \\] <p>\u4ece\u4e0a\u5f0f\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u4e24\u4e2a\u8d44\u4ea7\u5b8c\u5168\u8d1f\u76f8\u5173\uff0c\u90a3\u4e48\u7b49\u6743\u91cd\u914d\u7f6e\u4e24\u4e2a\u8d44\u4ea7\uff0c\u5219\u8d44\u4ea7\u6536\u76ca\u53d8\u4e3a\u96f6\uff0c\u4ece\u800c\u6784\u6210\u4e00\u4e2a\u65e0\u98ce\u9669\u7684\u7ec4\u5408\u3002\u6b64\u65f6\u7531\u4e8e \\(\\sigma_p\\)\u7b49\u4e8e\u96f6\uff0c\u6240\u4ee5\u5b83\u5c31\u6210\u4e3a\u56fe\u5f62\u4e0a\u6700\u5de6\u7aef\u7684\u70b9\u3002</p> <p>\u5f53\u5176\u4e2d\u4e00\u4e2a\u8d44\u4ea7\u4e3a 100%\u65f6\uff0c\u5219\u6784\u6210\u56fe\u5f62\u4e2d\u4e0a\u4e0b\u4e24\u4e2a\u70b9\u3002</p> <p>\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\uff0c\u6211\u4eec\u5c06\u9996\u5148\u7528 4 \u4e2a\u6807\u7684\u7684\u7ec4\u5408\uff0c\u5148\u540e\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u548c\u4f18\u5316\u7b97\u6cd5\u5206\u522b\u6f14\u793a\u5982\u4f55\u6c42\u5f97\u6700\u4f73\u8d44\u4ea7\u7ec4\u5408\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e95\u5c42\u7684\u65b9\u6cd5\uff0c\u5f53\u6211\u4eec\u638c\u63e1\u539f\u7406\u4e4b\u540e\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u6765\u5b8c\u6210\u8fd9\u9879\u5de5\u4f5c\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-1/#_2","title":"\u6536\u76ca\u7387\u3001\u590f\u666e\u548c\u6ce2\u52a8\u7387\u8ba1\u7b97","text":"<p>\u8ba9\u6211\u4eec\u9996\u5148\u4efb\u610f\u5206\u914d\u4e00\u7ec4\u6743\u91cd\uff0c\u770b\u770b\u8fd9\u6837\u5f97\u5230\u7684\u7ec4\u5408\u7684\u6536\u76ca\u7387\u3001\u590f\u666e\u7387\u7b49\u5404\u9879\u53c2\u6570\u5982\u4f55\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u662f\u4e86\u89e3\uff1a</p> <ol> <li>\u5982\u4f55\u83b7\u53d6\u6570\u636e</li> <li>\u5982\u4f55\u4ea7\u751f\u968f\u673a\u6743\u91cd\u5411\u91cf\uff08\u91cd\u70b9\u662f\u6ee1\u8db3\u6743\u91cd\u548c\u4e3a 1 \u7684\u7ea6\u675f\u6761\u4ef6\uff09</li> <li>\u5982\u4f55\u8ba1\u7b97\u590f\u666e\u7387\u3001\u6ce2\u52a8\u7387\u7b49\u6307\u6807\u3002</li> </ol> <p>\u5047\u5b9a\u6211\u4eec\u7684\u8d44\u4ea7\u7ec4\u5408\u662f\uff1a</p> <pre><code>600519 \u8d35\u5dde\u8305\u53f0\n300750 \u5b81\u5fb7\u65f6\u4ee3\n300059 \u4e1c\u65b9\u8d22\u5bcc\n601398 \u5de5\u5546\u94f6\u884c\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u83b7\u5f97\u5b83\u4eec\u8fd1\u4e00\u5e74\u7684\u6536\u76ca\uff0c\u4fdd\u5b58\u5728 returns dataframe \u4e2d\uff1a</p> <pre><code>import arrow\nimport akshare as ak\nimport pandas as pd\nimport numpy as np\nfrom IPython.display import display\n\n\nstocks = [\"600519\", \"300750\", \"300059\", \"601398\"]\n\nframes = {}\n\nnow = arrow.now()\nstart = now.shift(years = -1)\nend = now.format(\"YYYYMMDD\")\nstart = start.format(\"YYYYMMDD\")\n\nfor code in stocks:\n    bars = ak.stock_zh_a_hist(symbol=code, \n                              period=\"daily\", \n                              start_date=start, \n                              end_date=end, \n                              adjust=\"qfq\")\n\n    bars.index = pd.to_datetime(bars[\"\u65e5\u671f\"])\n    frames[code] = bars[\"\u6536\u76d8\"]\n\nprices = pd.DataFrame(frames)\nreturns = prices.pct_change()\n\nreturns.dropna(how='any', inplace=True)\ndisplay(returns.head().style.format('{:,.2%}'))\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u6211\u4eec\u5728\u524d\u4e00\u7bc7\u6587\u7ae0\u8bb2 CAPM \u65f6\u5df2\u7ecf\u89c1\u8fc7\u4e86\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5148\u968f\u673a\u5206\u914d\u4e00\u4e2a\u6743\u91cd\uff08\u8fd9\u662f\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u7684\u7b2c\u4e00\u6b65\uff09\uff0c\u8ba1\u7b97\u51fa\u5b83\u7684\u590f\u666e\u7387\uff1a</p> <pre><code>import numpy as np\nfrom empyrical import sharpe_ratio\n\nweights = np.array(np.random.random(4))\nprint('Random Weights:')\nprint(weights)\n\nprint('\\nRebalance')\nweights = weights/np.sum(weights)\nprint(weights)\n\n# \u751f\u6210\u6bcf\u65e5\u6bcf\u4e2a\u6807\u7684\u5bf9\u7ec4\u5408\u7684\u8d21\u732e\nweighted_returns = weights * returns\nweighted_returns.head()\n\n# \u628a\u6bcf\u4e00\u884c\u6309\u5217\u52a0\u603b\uff0c\u5c31\u5f97\u5230\u4e86\u6bcf\u65e5\u8d44\u4ea7\u6536\u76ca\nport_returns = weighted_returns.sum(axis=1)\n\n# \u7136\u540e\u8ba1\u7b97\u7ec4\u5408\u8d44\u4ea7\u7684\u6ce2\u52a8\ncov = np.cov(port_returns.T)\nport_vol = np.sqrt(np.dot(np.dot(weights, cov), weights.T)) # 0.01\n\n# \u4f7f\u7528 sharpe_ratio\u6765\u8ba1\u7b97\u590f\u666e\u7387\nsr = sharpe_ratio(port_returns) # 0.18\n\nprint(\"Sharpe Ratio and Vol\")\nprint(f\"{sr:.2f} {port_vol:.2f}\")\n</code></pre> <p>\u5728\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5148\u662f\u968f\u673a\u751f\u6210\u4e86\u4e00\u4e2a\u6743\u91cd\u77e9\u9635\uff0c\u7136\u540e\u5bf9\u5b83\u8fdb\u884c\u4e86\u5f52\u4e00\u5316\uff08\u6743\u91cd\u77e9\u9635\u5404\u9879\u4e4b\u548c\u5fc5\u987b\u4e3a 1\uff09\u3002</p> <p>\u4e00\u4e9b\u6587\u7ae0\u4f1a\u4f7f\u7528\u5bf9\u6570\u6536\u76ca\u7387\u3002\u4f46\u662f\uff0c\u5728\u8ba1\u7b97\u65b9\u5dee\u65f6\uff0c\u591a\u6570\u4eba\u503e\u5411\u4e8e\u51e0\u4f55\u65b9\u5dee\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff08\u4ece google \u641c\u7d22\u7ed3\u679c\u770b\uff09\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u4e86 empyrical \u4e2d\u7684 sharpe_ratio \u65b9\u6cd5\u6765\u8ba1\u7b97\u590f\u666e\u7387\uff0c\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5c06 risk_free \u5229\u7387\u8bbe\u7f6e\u4e3a 0\u3002 empyrical \u662f\u7528\u6765\u8ba1\u7b97\u7b56\u7565\u5404\u9879\u6307\u6807\uff0c\u5982\u590f\u666e\u7387\u3001sortino\u3001maxdrawdown \u7b49\u6307\u6807\u7684\u5de5\u5177\uff0c\u7531 quantpian \u5f00\u53d1\u5e76\u5f00\u6e90\u3002\u50cf\u8fd9\u6837\u7684\u5e38\u7528\u91cf\u5316\u5e93\uff0c\u5728\u5927\u5bcc\u7fc1\u91cf\u4ee3\u4ea4\u6613\u8bfe\u7a0b\u4e2d\u90fd\u6709\u4ecb\u7ecd\u3002</p> <p>\u6700\u7ec8\uff0c\u6211\u4eec\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <pre><code>Random Weights:\n[0.48349071 0.32903015 0.85308562 0.64038565]\n\nRebalance\n[0.20966711 0.14268485 0.36994299 0.27770505]\nSharpe Ratio and Vol\n0.72 0.01\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u4e86\u8be5\u8d44\u4ea7\u7ec4\u5408\u7684\u590f\u666e\u7387\u4e3a 0.72\u3002\u4e00\u822c\u8ba4\u4e3a\uff0c\u5982\u679c\u6211\u4eec\u6295\u8d44\u7684\u662f\u6307\u6570\u6216\u8005\u6743\u91cd\u80a1\uff0c\u90a3\u4e48\u590f\u666e\u8d85\u8fc7 1 \u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u6295\u8d44\uff1b\u5bf9\u5176\u5b83\u9ad8\u98ce\u9669\u6743\u76ca\u7c7b\u6295\u8d44\uff0c\u4e00\u822c\u8981\u8d85\u8fc7 1.8\uff0c\u4f46\u5f88\u5c11\u6709\u8d44\u4ea7\u80fd\u8d85\u8fc7 3\u3002\u5728\u5927\u5bcc\u7fc1\u91cf\u5316\u4ea4\u6613\u8bfe\u7a0b\u91cc\uff0c\u6211\u4eec\u901a\u8fc7\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u8ba8\u8bba\u4e86\u590f\u666e\u7387\u4e0e\u6700\u5927\u56de\u64a4\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5373\u590f\u666e\u7387\u4e3a 1 \u65f6\uff0c\u5bf9\u5e94\u7684\u6700\u5927\u56de\u64a4\u4e3a\u591a\u5c11\u662f\u53ef\u80fd\u51fa\u73b0\u7684\uff1b\u590f\u666e\u7387\u4e3a 2 \u65f6\uff0c\u5bf9\u5e94\u7684\u6700\u5927\u56de\u64a4\u4e3a\u591a\u5c11\u662f\u53ef\u80fd\u51fa\u73b0\u7684\uff0c\u7b49\u7b49\u3002</p> <p>\u4e00\u5207\u51c6\u5907\u5de5\u4f5c\u90fd\u5df2\u5c31\u7eea\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u6765\u6c42\u5f97\u4e0a\u8ff0\u8d44\u4ea7\u7ec4\u5408\u7684\u6700\u4f18\u914d\u7f6e\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-2/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(2) - \u8499\u7279\u5361\u6d1b\u65b9\u6cd5","text":"<p>\u6240\u8c13\u8499\u7279\u5361\u6d1b\u6a21\u62df\uff0c\u5c31\u662f\u968f\u673a\u4ea7\u751f\u5927\u91cf\u7684\u8d44\u4ea7\u5206\u914d\u65b9\u6848\uff0c\u7136\u540e\u518d\u8ba1\u7b97\u5404\u79cd\u5206\u914d\u65b9\u6848\u4e0b\uff0c\u6240\u5f97\u5230\u7684\u6ce2\u52a8\u7387\u3001\u590f\u666e\u7387\uff0c\u518d\u6839\u636e\u6700\u4f18\u7684\u590f\u666e\u7387\uff0c\u53cd\u67e5\u8d44\u4ea7\u5206\u914d\u65b9\u6848\u3002</p> <p>\u4e3b\u8981\u64cd\u4f5c\u6211\u4eec\u5728\u4e0a\u4e00\u8282\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u8fd9\u4e00\u6b65\u4e3b\u8981\u505a\u7684\u4e8b\u60c5\u662f\u4e0d\u65ad\u5730\u91cd\u590d\u3002\u6211\u4eec\u5148\u628a\u4ee3\u7801\u7ed9\u51fa\u6765\uff0c\u518d\u8fdb\u884c\u89e3\u91ca\uff1a</p> <pre><code>num_ports = 5000\n\nw = np.zeros((num_ports, len(stocks)))\nvol_arr = np.zeros(num_ports)\nsharpe_arr = np.zeros(num_ports)\nport_return_arr = np.zeros((num_ports, len(returns)))\ncov_arr = np.zeros(num_ports)\n\nfor i in range(num_ports):\n    weights = np.array(np.random.random(len(stocks)))\n    weights = weights/np.sum(weights)  \n\n    w[i,:] = weights\n\n    weighted_returns = weights * returns\n    port_return_i = weighted_returns.sum(axis=1)\n    port_return_arr[i,:] = port_return_i\n\n    cov = np.cov(port_return_i)\n    cov_arr[i] = cov\n    vol_arr[i] = np.sqrt(np.dot(weights.T, np.dot(cov, weights)))\n    sharpe_arr[i] = sharpe_ratio(port_return_i)\n</code></pre> <p>\u6211\u4eec\u4e3b\u8981\u5b9a\u4e49\u4e86\u8fd9\u6837\u56db\u4e2a\u6570\u7ec4\uff1a</p> <ol> <li>\u6743\u91cd\u77e9\u9635 all_weights\u3002\u6211\u4eec\u6253\u7b97\u91cd\u590d 5000 \u6b21\u91c7\u6837\uff0c\u7531\u4e8e\u8d44\u4ea7\u7ec4\u5408\u5171\u6709 4 \u4e2a\u6807\u7684\uff0c\u6240\u4ee5\uff0c\u5b83\u662f\u4e00\u4e2a 5000 * 4 \u7684\u77e9\u9635\u3002\u6bcf\u4e00\u884c\u5bf9\u5e94\u4e00\u6b21\u8d44\u4ea7\u7ec4\u5408\u5206\u914d\u3002</li> <li>\u590f\u666e\u7387\u6570\u7ec4\u3002\u5b83\u662f\u4e00\u4e2a size \u4e3a 5000 \u7684\u6570\u7ec4\uff0c\u8bb0\u5f55\u4e86\u6bcf\u4e00\u6b21\u8ba1\u7b97\u51fa\u6765\u7684 sharepe \u7387\u3002</li> <li>\u6ce2\u52a8\u7387\u6570\u7ec4\u3002\u5b83\u4e5f\u662f\u4e00\u4e2a size \u4e3a 5000 \u7684\u6570\u7ec4\uff0c\u8bb0\u5f55\u4e86\u6bcf\u4e00\u6b21\u8ba1\u7b97\u90ae\u6765\u7684\u6ce2\u52a8\u7387\u3002</li> <li>port_return_arr\uff0c\u5728\u793a\u4f8b\u4e2d\uff0c\u5b83\u662f\u4e00\u4e2a 5000 * 241 \u5927\u5c0f\u7684\u77e9\u9635\uff0c\u6bcf\u4e00\u884c\u8bb0\u5f55\u4e86\u7ec4\u5408\u5728\u8fc7\u53bb\u4e00\u5e74\u4e2d\u6bcf\u4e00\u5929\u7684\u6536\u76ca\u3002</li> </ol> <p>\u5f53\u4e0a\u8ff0\u4ee3\u7801\u8fd0\u884c\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u5f97\u5230\u4e86 5000 \u7ec4\u590f\u666e\u503c\u3002\u6839\u636e\u590f\u666e\u503c\u7684\u5b9a\u4e49\uff0c\u6211\u4eec\u76f4\u63a5\u627e\u5230\u590f\u666e\u503c\u6700\u5927\u7684\u90a3\u4e00\u7ec4\uff0c\u5c31\u662f\u98ce\u9669\u6700\u5c0f\u3001\u6536\u76ca\u6700\u9ad8\u7684\u8d44\u4ea7\u7ec4\u5408\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-2/#_1","title":"\u786e\u5b9a\u6700\u4f73\u6295\u8d44\u7ec4\u5408","text":"<p>\u6211\u4eec\u4f7f\u7528 np.argmax \u6765\u5bfb\u627e\u590f\u666e\u6700\u5927\u65f6\u7684\u4f4d\u7f6e\uff0c\u6b64\u70b9\u5373\u4e3a\u6700\u4f73\u6295\u8d44\u7ec4\u5408\uff1a</p> <pre><code># \u68c0\u67e5\u6700\u9ad8\u7684 SHARPE\npos = np.argmax(sharpe_arr)\nprint(pos, sharpe_arr[pos])\nprint(\"stocks\", stocks)\nprint(\"Portfolio Allocation:\", w[pos])\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u8d44\u4ea7\u5206\u914d\u65b9\u6848\u7c7b\u4f3c\u5982\u4e0b\uff1a</p> \u6807\u7684 1 \u6807\u7684 2 \u6807\u7684 3 \u6807\u7684 4 \u6bd4\u4f8b 35.3% 0.3% 0.8% 64% <p>\u6211\u4eec\u5c06\u4e0a\u8ff0\u8bd5\u9a8c\u7ed3\u679c\u7ed8\u5236\u6210\u56fe\u5f62\uff0c\u6765\u770b\u770b\u662f\u5426\u7b26\u5408\u6709\u6548\u524d\u6cbf\u7406\u8bba\uff1a</p> <pre><code>import matplotlib.pyplot as plt\n\nannual_return = np.prod((1 + port_return_arr), axis=1) - 1\nplt.scatter(vol_arr, annual_return, c=sharpe_arr, cmap='RdYlBu')\nplt.colorbar(label='Sharpe Ratio')\n\nplt.scatter(vol_arr[pos], annual_return[pos], c='red',s=80)\n</code></pre> <p>\u6211\u4eec\u4ee5\u6ce2\u52a8\u7387\u4e3a x \u8f74\uff0c\u5e74\u5316\u56de\u62a5\u4e3a y \u8f74\u3002\u5728\u6bcf\u4e00\u4e2a x \u4e0a\uff0c\u90fd\u5b58\u5728\u82e5\u5e72\u7ec4\u5e74\u5316\u56de\u62a5\u6570\u636e\uff0c\u6709\u6b63\u6709\u8d1f\u3002\u663e\u7136\uff0c\u5bf9\u4e8e\u540c\u4e00\u4e2a x\uff0c\u6b63\u597d\u662f\u90a3\u4e9b\u5904\u5728\u6709\u6548\u524d\u6cbf\u4e0a\u7684\u7ec4\u5408\uff0c\u6b63\u597d\u662f\u6536\u76ca\u6700\u5927\u6216\u8005\u4e8f\u635f\u6700\u5927\u7684\u7ec4\u5408\u3002</p> <p>\u6309\u7167 MPT \u7406\u8bba\uff0c\u53ea\u6709\u90a3\u4e9b\u5728 y \u8f74\u4e0a\u65b9\uff0c\u4e14\u5904\u4e8e\u6709\u6548\u524d\u6cbf\u4e0a\u7684\u624d\u662f\u503c\u5f97\u5173\u6ce8\u7684\u7ec4\u5408\uff0c\u7136\u540e\u6839\u636e\u6211\u4eec\u7684\u98ce\u9669\u627f\u53d7\u80fd\u529b\uff0c\u6765\u9009\u62e9\u8fd9\u6761\u7ebf\u4e0a\u5bf9\u5e94\u7684\u7ec4\u5408\u3002</p> <p>\u6211\u4eec\u628a\u590f\u666e\u7387\u6700\u9ad8\u7684\u90a3\u7ec4\u65b9\u6848\uff0c\u7528\u7ea2\u8272\u7684\u70b9\u6807\u6ce8\u51fa\u6765\u3002</p> <p></p> <p>\u4ece\u8d70\u52bf\u56fe\u6765\u770b\uff0c\u6211\u4eec\u8fd9\u6837\u6c42\u51fa\u6765\u7684\u8d44\u4ea7\u7ec4\u5408\u786e\u5b9e\u662f\u6700\u4f18\u7684\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u5c06\u5b83\u4e0e\u6587\u7ae0\u5f00\u5934\u7684\u90a3\u4e2a\u56fe\u76f8\u6bd4\uff0c\u6211\u4eec\u4f1a\u5f97\u51fa\u4ec0\u4e48\u7ed3\u8bba\uff1f</p> <ol> <li> <p>\u8fd9\u628a\u724c\u4e0d\u884c\u3002\u5982\u679c\u4f60\u613f\u610f\u627f\u62c5\u8f83\u5927\u98ce\u9669\uff0c\u8fd9\u628a\u724c\u4e5f\u4e0d\u80fd\u7ed9\u4f60\u60f3\u8981\u7684\u6536\u76ca\u3002\u6d6a\u5f97\u4e0d\u591f\u72e0\u3002</p> </li> <li> <p>\u8d44\u4ea7\u7ec4\u5408\u5e76\u6ca1\u6709\u5f62\u6210\u76f4\u89c2\u7684\u6709\u6548\u524d\u6cbf\uff0c\u539f\u56e0\u4e3b\u8981\u662f\u6295\u8d44\u7ec4\u5408\u6574\u4f53\u7684\u6536\u76ca\u7387\u53d7\u7ec4\u5408\u5185\u8d44\u4ea7\u7684\u6536\u76ca\u7387\u9650\u5236\uff0c\u5373min(\u7ec4\u5408\u5185\u8d44\u4ea7\u6536\u76ca\u7387)\u2264\u8d44\u4ea7\u7ec4\u5408\u6536\u76ca\u7387\u2264max(\u7ec4\u5408\u5185\u8d44\u4ea7\u6536\u76ca\u7387)\uff0c\u56e0\u6b64\u5e76\u4e0d\u662f\u80fd\u5b9e\u73b0\u6240\u6709\u6536\u76ca\u7387\u3002</p> </li> </ol> <p>\u56e0\u6b64\u6211\u4eec\u5f97\u5230\u7ed3\u8bba\uff1a\u4f60\u5f97\u91cd\u65b0\u9009\u6807\u7684\u3002</p> <p>\u53e6\u5916\uff0c\u5982\u679c\u4f60\u73b0\u5728\u5c31\u6025\u4e8e\u7528MPT\u6765\u8fdb\u884c\u6295\u8d44\u3002\u3002\u3002\u4f60\u8fd8\u5f97\u518d\u5b66\u70b9\u5565\u3002</p> <p>\u5386\u53f2\u5f53\u7136\u603b\u662f\u5728\u91cd\u590d\u81ea\u5df1\uff0c\u4e00\u5207\u5386\u53f2\u90fd\u662f\u5f53\u4ee3\u53f2\u3002\u4f46\u662f\u4ecd\u7136\u6709\u5f88\u591a\u4e1c\u897f\u8981\u8ba8\u8bba\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5e94\u8be5\u653e\u591a\u5c11\u652f\u6807\u7684\u5230\u8fd9\u4e2a\u7ec4\u5408\u91cc\u6765\uff1f\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\u53ea\u4f7f\u7528\u4e864\u652f\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u6caa\u6df1300\u6216\u8005\u4e2d\u8bc11000\u6765\u505a\u6307\u589e\uff0c\u4f1a\u4e0d\u4f1a\u66f4\u597d\u4e00\u70b9\uff1f</p> <p>\u5176\u6b21\uff0c\u4e0a\u8ff0\u4e24\u5e45\u56fe\u662f\u9488\u5bf9\u540c\u4e00\u8d44\u4ea7\u7ec4\u5408\uff0c\u4e0d\u540c\u65f6\u95f4\u6bb5\u60c5\u51b5\u6240\u5f62\u6210\uff0c\u5f88\u660e\u663e\u6536\u76ca\u53ca\u98ce\u9669\u90fd\u6709\u8f83\u5927\u5dee\u5f02\u3002\u5982\u679c\u6211\u4eec\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u70b9\u6765\u4f18\u5316\u6295\u8d44\u7ec4\u5408\uff0c\u6211\u4eec\u5f97\u5230\u7684\u4ed3\u4f4d\u663e\u7136\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u56e0\u6b64\u6211\u4eec\u63d0\u51fa\u95ee\u9898\uff1a\u6211\u4eec\u5e94\u8be5\u591a\u4e45\u8ba1\u7b97\u4e00\u6b21\u5e76\u6267\u884c\u8c03\u4ed3\uff1f\u4f1a\u4e0d\u4f1a\u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff0c\u6bcf\u6b21\u8c03\u4ed3\u662f\u5728\u7528\u8fc7\u53bb\u7684\u6700\u4f18\u89e3\uff0c\u800c\u5b83\u5f88\u5feb\u5c31\u53d8\u6210\u4e86\u6b21\u4f18\u6216\u8005\u6700\u52a3\u89e3\uff1f\u4e5f\u5c31\u662f\uff0c\u8fd9\u4e2a\u7ec4\u5408\u5b83\u7684\u52a8\u91cf\u5468\u671f\u662f\u591a\u4e45\uff1f</p> <p>\u663e\u7136\uff0c\u4efb\u4f55\u4e00\u4e2a\u6709\u4ef7\u503c\u7684\u65b9\u6848\uff0c\u5f80\u5f80\u90fd\u4e0d\u662f\u4e00\u7bc7\u77ed\u6587\u80fdcover\u7684\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u7684\u6587\u7ae0\u4e2d\u4e0d\u65ad\u6df1\u5165\u63a2\u8ba8\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u597d\uff0c\u6211\u4eec\u5148\u653e\u4e0b\u8fd9\u4e9b\u95ee\u9898\uff0c\u5148\u6765\u770b\u4e00\u4e2a\u6280\u672f\u95ee\u9898\uff1a</p> <p>\u6267\u884c\u4e0a\u8ff0\u5faa\u73af5000\u6b21\uff0c\u6211\u4eec\u82b1\u4e86\u5927\u7ea6 5.2 \u79d2\u3002</p> <p>\u8fd9\u662f\u53ea\u67094\u652f\u6807\u7684\u7684\u60c5\u51b5\u3002\u5f88\u663e\u7136\uff0c\u968f\u7740\u6807\u7684\u6570\u7684\u589e\u52a0\uff0c\u6211\u4eec\u9700\u8981\u66b4\u529b\u641c\u7d22\u7684\u7a7a\u95f4\u4e5f\u968f\u4e4b\u53d8\u5927\u3002\u8fd9\u79cd\u65b9\u6cd5\uff0c\u5728\u6807\u7684\u6570\u589e\u52a0\u523050\u652f\u3001100\u652f\u65f6\uff0c\u662f\u5426\u8fd8\u53ef\u884c\u5462\uff1f</p> <p>\u5728\u8ba8\u8bba\u53ef\u884c\u6027\u95ee\u9898\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u8fdb\u884c\u4e00\u4e9b\u901f\u5ea6\u4f18\u5316\u3002</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u7b97\u6cd5\uff0c\u628a\u90e8\u5206\u8ba1\u7b97\u79fb\u51fa\u4e86\u5faa\u73af\uff1a</p> <pre><code>from empyrical import sharpe_ratio\nimport time\nstart = time.time()\nnum_ports = 5000\nall_weights = np.random.rand(num_ports, len(stocks))\n\nshape = (len(all_weights), -1)\nall_weights = all_weights/all_weights.sum(axis=1).reshape(shape)\n\n# got 241 daily summed returns over 5000 iters\nall_port_returns = np.dot(all_weights,returns.T)\n\nall_cov = np.cov(all_port_returns).diagonal()\n\n# \u8ba1\u7b97\u6ce2\u52a8\u7387\nall_vol = []\nall_sharpe = []\n\nannual_return = np.prod((1 + all_port_returns), axis=1) - 1\n\nfor i in range(num_ports):\n    all_vol.append(np.sqrt(np.dot(all_weights[i].T, np.dot(all_cov[i], all_weights[i]))))\n    all_sharpe.append(sharpe_ratio(all_port_returns[i]))\n\nend = time.time()\nprint(\"\u8ba1\u7b97\u7528\u65f6\", end-start)\n\n# \u7ed8\u56fe\nall_vol = np.array(all_vol)\npos = np.argsort(all_vol)\n\nplt.scatter(all_vol, annual_return, c=all_sharpe, cmap='RdYlBu')\nplt.colorbar(label='Sharpe Ratio')\n\nmax_sharpe_pos = np.argmax(all_sharpe)\nplt.scatter(all_vol[max_sharpe_pos], annual_return[max_sharpe_pos], c='red',s=80)\n</code></pre> <p>\u4e0d\u8fc7\uff0c\u5728\u6309\u884c\u8ba1\u7b97\u6ce2\u52a8\u7387\u548c\u590f\u666e\u7387\u7684\u65f6\u5019\uff0c\u6211\u4e0d\u5f97\u4e0d\u505a\u51fa\u59a5\u534f\uff0c\u6539\u7528\u5faa\u73af\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff08\u6295\u8d44\u7ec4\u5408\u4e2d\u53ea\u67094\u53ea\u6807\u7684\uff09\uff0c\u6211\u4eec\u73b0\u5728\u7684\u6267\u884c\u65f6\u95f4\u9700\u89810.65\u79d2\u3002\u63d0\u5347\u4e86\u5927\u69828\u500d\u7684\u901f\u5ea6\uff08\u521d\u59cb\u4e3a5.2s\u5de6\u53f3\uff09\u3002</p> <p>PyPortfolioOpt\u7684\u4f5c\u8005\u66fe\u5728\u4e00\u4e2a\u793a\u4f8b\u4e2d\u7528\u5230\u4e86\u8fd9\u6837\u7684\u65b9\u6cd5\uff1a</p> <p><pre><code>n_samples = 10000\nw = np.random.dirichlet(np.ones(ef.n_assets), n_samples)\nrets = w.dot(ef.expected_returns)\nstds = np.sqrt(np.diag(w @ ef.cov_matrix @ w.T))\nsharpes = rets / stds\n</code></pre> \u8ba1\u7b97\u901f\u5ea6\u975e\u5e38\u4e4b\u5feb\uff08\u5c0f\u4e8e0.1\u79d2\uff09\uff0c\u4f46\u9700\u8981\u5bf9\u5176\u4e2d\u7684ef.cov_matrix\u8fdb\u884c\u66ff\u6362\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u7814\u7a76\u4e0b\u5b83\u7684\u6e90\u7801\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u4ec5\u67094\u652f\u6807\u7684\u7684\u7ec4\u5408\u6765\u8bf4\uff0c\u8fd9\u4e2a\u901f\u5ea6\uff08\u4e0d\u52301\u79d2\uff09\u663e\u7136\u53ef\u4ee5\u4ee4\u4eba\u6ee1\u610f\u4e86\u3002\u4f46\u6211\u4eec\u4e5f\u5728\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u63d0\u51fa\u4e00\u4e2a\u95ee\u9898\uff0c\u968f\u7740\u6807\u7684\u6570\u7684\u589e\u52a0\uff0c\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u6a21\u62df\u65b9\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u66b4\u529b\u641c\u7d22\u7684\u7a7a\u95f4\u4e5f\u968f\u4e4b\u53d8\u5927\u3002\u90a3\u4e48\uff0c\u7a76\u7adf\u4f1a\u589e\u5927\u591a\u5c11\u5462\uff0c\u6b64\u65f6\u8fd8\u53ef\u4e0d\u53ef\u884c\uff1f</p> <p>\u6211\u4eec\u5148\u6765\u770b\u53ea\u6709\u4e24\u652f\u6807\u7684\u60c5\u51b5\u3002\u5047\u8bbe\u8d44\u4ea7\u6743\u91cd\u7684\u95f4\u9694\u662f1%\uff0c\u5373\u67d0\u4e2a\u8d44\u4ea7\u8981\u4e48\u5206\u914d1%\uff0c\u8981\u4e48\u5206\u914d2%\uff0c\u800c\u4e0d\u4f1a\u5206\u914d1.05%\u8fd9\u6837\u7684\u975e\u6574\u6570\u6743\u91cd\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u7b97\u5f97\uff0c\u5982\u679c\u8981\u628a\u8fd9\u4e9b\u6743\u91cd\u5206\u5e03\u5168\u90e8\u6a21\u62df\u5230\uff0c\u641c\u7d22\u7a7a\u95f4\u5c06\u662f\uff1a</p> <p>A: 1-100 ~ 101\u4e2a\u9009\u62e9\u9879 B: 1\u4e2a\u9009\u62e9\u9879</p> <p>\u5f53A\u7684\u6743\u91cd\u9009\u5b9a\u4ee5\u540e\uff0c\u5728\u6743\u91cd\u548c\u4e3a1\u7684\u7ea6\u675f\u4e0b\uff0cB\u5c31\u53ea\u6709\u4e00\u4e2a\u9009\u62e9\u3002\u56e0\u6b64\uff0c\u603b\u5171\u662f101\u6b21\u641c\u7d22\u3002</p> <p>\u5f53\u5982\u679c\u6807\u7684\u6570\u91cf\u4e0a\u5347\uff0c\u6211\u4eec\u4e3a\u4e86\u6a21\u62df\u5c3d\u53ef\u80fd\u591a\u7684\u60c5\u51b5\uff0c\u4e00\u5b9a\u4f1a\u6269\u5927\u6a21\u62df\u6b21\u6570\uff0c\u56e0\u6b64\u603b\u7684\u8fd0\u884c\u65f6\u957f\u8fc5\u901f\u4e0a\u6da8\u3002\u540c\u65f6\u968f\u7740\u6807\u7684\u6570\u7684\u589e\u52a0\uff0c\u6211\u4eec\u8981\u641c\u7d22\u7684\u6b21\u6570\u9700\u8981\u5448\u6307\u6570\u7ea7\u589e\u52a0\uff0c\u800c\u4e0d\u662f\u6309\u6807\u7684\u6570\u7ebf\u6027\u589e\u52a0\u3002</p> <p>\u56e0\u6b64\uff0c\u641c\u7d22\u6b21\u6570\u662f\u4e00\u4e2a\u7ec4\u5408\u95ee\u9898\u3002\u5047\u8bbe\u5b58\u5728\u56db\u4e2a\u6807\u7684\uff0c\u5e76\u4e0d\u662f\u7b80\u5355\u76844\u00d7100\u5c31\u53ef\u4ee5\u6a21\u62df\u51fa\u6240\u6709\u7ec4\u5408\uff0c\u800c\u662f\u5b58\u5728\uff1a \\(C_{99}^3\\)\u79cd\u5206\u914d\u65b9\u6848\u3002</p> <p>\u5bf9\u4efb\u610fn\u4e2a\u6807\u7684\uff0c\u6bcf\u4e2a\u6807\u7684\u7684\u6743\u91cd\u95f4\u9694\u63091%\u8ba1\u7b97\u7684\u8bdd\uff0c\u8fd9\u4e2a\u641c\u7d22\u7a7a\u95f4\u5c06\u662f\uff1a</p> <p>\\(C_{101-(n-1)}^{n-1}\\)\u6b21\u3002\u5982\u679c\u6211\u4eec\u670950\u652f\u6807\u7684\uff0c\u5219\u9700\u8981\u641c\u7d22\u6700\u5c111.998e+21\u4ebf\u6b21\uff01</p> <p>Tip</p> <p>\u53ef\u4ee5\u4f7f\u7528 math.comb\u6765\u8ba1\u7b97\u7ec4\u5408\u6570\u3002</p> <p>\u6240\u4ee5\uff0c\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\uff0c\u4f1a\u5b58\u5728\u65e0\u6cd5\u7a77\u5c3d\u6240\u6709\u6837\u672c\u7a7a\u95f4\u7684\u53ef\u80fd\u6027\u3002\u6211\u4eec\u5fc5\u987b\u91c7\u7528\u6570\u5b66\u7684\u65b9\u6cd5\uff0c\u6765\u4f18\u5316\u8fd9\u4e2a\u6c42\u89e3\u8fc7\u7a0b\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(3) - \u4f18\u5316\u7b97\u6cd5","text":"<p>\u5bfb\u627e\u7ed9\u5b9a\u6536\u76ca\u7387\u4e0b\u7684\u6700\u5c0f\u6ce2\u52a8\u7387\uff0c\u6216\u8005\u7ed9\u5b9a\u6ce2\u52a8\u7387\u4e0b\u7684\u6700\u5927\u590f\u666e\u7387\uff0c\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u7c7b\u5e38\u89c1\u7684\u4f18\u5316\u95ee\u9898\uff0c\u5373\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Scipy.optimize\u5de5\u5177\u5e93\u6765\u6c42\u89e3\u7c7b\u4f3c\u95ee\u9898\u3002</p> <p>scipy.optimize\u5305\u7684\u4e3b\u8981\u529f\u80fd * SciPy Optimize\u63d0\u4f9b\u6700\u5c0f\u5316(\u6216\u6700\u5927\u5316)\u76ee\u6807\u51fd\u6570\u7684\u529f\u80fd\uff0c\u53ef\u80fd\u5b58\u5728\u7ea6\u675f\u3002 * \u5b83\u5305\u62ec\u89e3\u51b3\u975e\u7ebf\u6027\u95ee\u9898(\u652f\u6301\u5c40\u90e8\u548c\u5168\u5c40\u4f18\u5316\u7b97\u6cd5) \uff0c\u7ebf\u6027\u89c4\u5212\uff0c\u7ea6\u675f\u548c\u975e\u7ebf\u6027\u6700\u5c0f\u4e8c\u4e58\uff0c\u6839\u5bfb\u627e\u548c\u66f2\u7ebf\u62df\u5408\u3002 * \u5f53\u6211\u4eec\u9700\u8981\u4f18\u5316\u8f93\u5165\u51fd\u6570\u7684\u53c2\u6570\u65f6\uff0cscipy.optimize\u5305\u542b\u5f88\u591a\u6709\u7528\u7684\u65b9\u6cd5\uff0c\u5e76\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u79cd\u7c7b\u7684\u51fd\u6570</p> <p>\u5b83\u63d0\u4f9b\u4ee5\u4e0b\u65b9\u6cd5\uff1a * minimize_scalar( )\uff1a\u4f7f\u4e00\u4e2a\u53d8\u91cf\u6700\u5c0f\u5316 * minimize( )\uff1a\u4f7f\u591a\u4e2a\u53d8\u91cf\u6700\u5c0f\u5316 * curve_fit( )\uff1a\u5bfb\u627e\u6700\u4f18\u66f2\u7ebf\uff0c\u9002\u5408a set of data * root_scalar( )\uff1a\u6c42\u4e00\u4e2a\u53d8\u91cf\u7684\u96f6\u70b9 * root( )\uff1a\u6c42\u591a\u4e2a\u53d8\u91cf\u7684\u96f6\u70b9 * linprog( )\uff1a\u5728\u7ebf\u6027\u7b49\u5f0f\u548c\u4e0d\u7b49\u5f0f\u7684\u7ea6\u675f\u4e0b\uff0c\u6700\u5c0f\u5316\u7ebf\u6027\u76ee\u6807\u51fd\u6570</p> <p>\u5728\u8fd9\u4e9b\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecdminimize_scalar\u548cminimize\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#minimize_scalar","title":"minimize_scalar","text":"<p>\u6709\u4e00\u7c7b\u95ee\u9898\uff0c\u6bd4\u5982\u89e3\u65b9\u7a0b\uff0c\u5b83\u7684\u89e3\u662f\u4e00\u4e2a\u6570\u5b57\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u7528 minimize_scalar \u65b9\u6cd5\u6765\u6c42\u89e3\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u7684\u51fd\u6570\u4e3a\uff1a</p> <p>\\(y=3x^4-2x+1\\)</p> <p>minimize_scalar( )\u5c31\u662f\u5e2e\u52a9\u6211\u4eec\u627e\u5230\u51fd\u6570\u6700\u5c0f\u503c(y\u6700\u5c0f)\u65f6\u7cbe\u786e\u7684\u5750\u6807\u3002\u901a\u4fd7\u5730\u8bf4\uff0c\u5c31\u662f\u89e3\u65b9\u7a0b\u3002</p> <p><pre><code>from scipy.optimize import minimize_scalar\n\ndef objective_function(x):\n    return 3 * x ** 4 - 2 * x + 1\n# \u5b9a\u4e49\u9700\u8981\u6c42\u89e3\u7684\u51fd\u6570\n\nres = minimize_scalar(objective_function)\n# \u6c42\u51fa\u51fd\u6570\u7684\u6700\u5c0f\u503c\n\nprint(res)\n</code></pre> \u6211\u4eec\u91cd\u70b9\u89e3\u91ca\u4e00\u4e0b\u8f93\u51fa\u7ed3\u679c\uff0c\u8fd9\u5c06\u5728\u540e\u9762\u7ee7\u7eed\u4f7f\u7528\uff1a</p> <pre><code> message: \n          Optimization terminated successfully;\n          The returned value satisfies the termination criteria\n          (using xtol = 1.48e-08 )\n success: True\n     fun: 0.17451818777634331\n       x: 0.5503212087491959\n     nit: 12\n    nfev: 15\n</code></pre> <p>\u8fd9\u91cc\u7684fun\u662f\u51fd\u6570\u503c\uff0cx\u662f\u53d8\u91cf\u503c\uff0c\u5982\u679c\u6211\u4eec\u628ax\u7684\u503c\u4ee3\u5165\u5230\u516c\u5f0f \\(3*x^4-2*x+1\\)\uff0c\u6211\u4eec\u4f1a\u5f97\u5f97\u52300.17,\u5373fun\u7684\u503c\u3002</p> <p>\u8981\u6ce8\u610f\uff0c\u4e0d\u662f\u6240\u6709\u60c5\u51b5\u90fd\u80fd\u8fdb\u884c\u4f18\u5316\u6c42\u89e3\u7684\u3002\u6bd4\u5982\uff0c\\(y=x^3\\)\u6ca1\u6709\u6700\u5c0f\u503c\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u5b83\u6c42\u89e3\uff0c\u4f1a\u5bfc\u81f4overflowerror.</p> <p>\u53e6\u5916\u7684\u60c5\u51b5\u662f\uff0c\u5b58\u5728\u591a\u4e2a\u6700\u5c0f\u503c\u7684\u60c5\u51b5\uff0c\u6b64\u65f6minimize_scalar\u4e0d\u80fd\u4fdd\u8bc1\u627e\u5230\u51fd\u6570\u7684\u5168\u5c40\u6700\u5c0f\u503c\u3002</p> <p>\u6211\u4eec\u4ee5\\(y=x^4-x^2\\)\u4e3a\u4f8b\uff0c\u5b83\u5b58\u5728\u591a\u4e2a\u6700\u5c0f\u503c\uff0cminimize_scalar ()\u4e0d\u80fd\u4fdd\u8bc1\u627e\u5230\u51fd\u6570\u7684\u5168\u5c40\u6700\u5c0f\u503c\u3002\u6211\u4eec\u5c1d\u8bd5\u4e00\u4e0b\uff1a</p> <p><pre><code>from scipy.optimize import minimize_scalar\n# help(minimize)\n\ndef objective_function(x):\n    return x**4 - x**2\n\nres = minimize_scalar(objective_function)\nres\n</code></pre> \u6211\u4eec\u5c06\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a</p> <pre><code> message: \n          Optimization terminated successfully;\n          The returned value satisfies the termination criteria\n          (using xtol = 1.48e-08 )\n success: True\n     fun: -0.24999999999999994\n       x: 0.7071067853059209\n     nit: 11\n    nfev: 14\n</code></pre> <p>\u8fd9\u6837\u6c42\u89e3\u51fa\u6765\u7684\u65b9\u7a0b\u7684\u6839\u662f0.707\u3002\u4f46\u6211\u4eec\u77e5\u9053\uff0c\u8be5\u65b9\u7a0b\u81f3\u5c11\u8fd8\u6709\u4e00\u4e2a-0.707\u7684\u6839\uff0c\u56e0\u6b64\uff0c minimize_scalar\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u662f\u65e0\u6cd5\u627e\u51fa\u5168\u90e8\u7684\u6839\u7684\u3002\u4f46\u6211\u4eec\u53ef\u80fd\u901a\u8fc7\u8bbe\u5b9a\u53c2\u6570\uff0c\u6765\u63a7\u5236\u7528\u4e8e\u4f18\u5316\u7684\u6c42\u89e3\u5668\u3002\u4e00\u5171\u6709\u4e09\u79cd\u8bbe\u5b9a\u65b9\u5f0f\uff1a * brent:\u5e03\u4f26\u7279\u7b97\u6cd5\uff0c\u4e5f\u662f\u8be5\u51fd\u6570\u7684\u9ed8\u8ba4\u7b97\u6cd5 * golden:\u9ec4\u91d1\u5206\u5272\u7b97\u6cd5\uff0c\u6839\u636e\u5df2\u6709\u7814\u7a76\uff0c\u8be5\u65b9\u5f0f\u6548\u679c\u7565\u5dee\u4e8ebrent * bounded:\u5e03\u4f26\u7279\u7b97\u6cd5\u7684\u201c\u6709\u754c\u5b9e\u73b0\u201d</p> <p>brent\u548cgolden\u5c5e\u4e8ebracket\uff1a\u8fd9\u662f\u4e00\u4e2a\u7531\u4e24\u4e2a\u6216\u4e09\u4e2a\u5143\u7d20\u7ec4\u6210\u7684\u5e8f\u5217\uff0c\u5b83\u63d0\u4f9b\u4e86\u5bf9\u6700\u5c0f\u533a\u57df\u8fb9\u754c\u7684\u521d\u59cb\u731c\u6d4b\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u6c42\u89e3\u5668\u5e76\u4e0d\u4fdd\u8bc1\u6240\u627e\u5230\u7684\u6700\u5c0f\u503c\u5c06\u5728\u6b64\u8303\u56f4\u5185\u3002</p> <p>bounded\u5c5e\u4e8ebounds\uff1a\u8fd9\u662f\u4e00\u4e2a\u4e24\u4e2a\u5143\u7d20\u7684\u5e8f\u5217\uff0c\u4e25\u683c\u9650\u5236\u641c\u7d22\u533a\u57df\u7684\u6700\u5c0f\u503c\u3002\u56e0\u6b64\u5f53\u6700\u5c0f\u503c\u5728\u5df2\u77e5\u8303\u56f4\u5185\u65f6\uff0c\u9650\u5236\u641c\u7d22\u533a\u57df\u624d\u662f\u6709\u7528\u7684\u3002\u8fd9\u4e2a\u6982\u5ff5\u6211\u4eec\u5728\u540e\u9762\u8fd8\u5c06\u8fdb\u4e00\u6b65\u63a5\u89e6\u3002\u6211\u4eec\u6765\u770b\u4f7f\u7528bounds\u65b9\u5f0f\u7684\u4f8b\u5b50\uff1a</p> <pre><code># \u5f53\u6211\u4eec\u91c7\u7528bounds\u65b9\u5f0f\u9650\u5b9a\u65f6\nres = minimize_scalar(objective_function, method='bounded', bounds=(-1, 0))\nres\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6c42\u89e3\u7684x\u5c06\u843d\u5728\u533a\u95f4(-1,0)\u4e4b\u95f4\uff0c\u6211\u4eec\u56e0\u6b64\u5f97\u5230\uff1a</p> <pre><code> message: Solution found.\n success: True\n  status: 0\n     fun: -0.24999999999998732\n       x: -0.707106701474177\n     nit: 10\n    nfev: 10\n</code></pre> <p>\u8fd9\u6b21\u6211\u4eec\u5f97\u5230\u4e86\u671f\u671b\u4e2d\u7684\u8d1f\u6570\u89e3\u3002</p> <p>\u4e0d\u8fc7\uff0c\u6700\u4f73\u8d44\u4ea7\u7ec4\u5408\u7684\u6c42\u89e3\u8981\u6bd4\u8fd9\u4e2a\u590d\u6742\uff0c\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u53e6\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5373<code>minimize</code>\u65b9\u6cd5\uff0c\u5177\u4f53\u4f18\u5316\u7b97\u6cd5\u5219\u662f\u6700\u5c0f\u987a\u5e8f\u4e8c\u4e58\u6cd5\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#minimize","title":"\u4f7f\u7528 minimize \u65b9\u6cd5","text":"<p>\u5728\u524d\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4e86\u89e3\u4e86\u76ee\u6807\u51fd\u6570\u3001bounds\u9650\u5b9a\u65b9\u5f0f\u4ee5\u53ca\u6c42\u89e3\u7ed3\u679c OptimizeResults\u5bf9\u8c61\uff0c\u7279\u522b\u662f\u5b83\u7684<code>fun</code>\u5c5e\u6027\u548c<code>x</code>\u5c5e\u6027\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u8981\u4ecb\u7ecd\u7ea6\u675f\uff08constraints\uff09\u6982\u5ff5\u3002\u638c\u63e1\u8fd9\u4e9b\u6982\u5ff5\u4e4b\u540e\uff0c\u5c31\u57fa\u672c\u638c\u63e1\u4e86\u51f8\u4f18\u5316\u3002</p> <p>\u6211\u4eec\u5148\u6765\u770b<code>minimize</code>\u65b9\u6cd5\u7684\u7b7e\u540d\uff1a</p> <p><pre><code>scipy.optimize.minimize(fun, \n                        x0, \n                        args=(), \n                        method=None, \n                        jac=None, \n                        hess=None, \n                        hessp=None, \n                        bounds=None, \n                        constraints=(), \n                        tol=None, \n                        callback=None, \n                        options=None)\n</code></pre> \u6211\u4eec\u91cd\u70b9\u4ecb\u7ecd\u8ddf\u672c\u7ae0\u4e3b\u9898\u76f8\u5173\u7684\u53c2\u6570\uff0c\u4e3b\u8981\u662f<code>fun</code>, <code>x0</code>, <code>method</code>, <code>bounds</code>\u548c<code>constraints</code>\u3002</p> <p>\u8fd9\u91cc\u7684<code>fun</code>\u662f\u6307\u76ee\u6807\u51fd\u6570\uff0c\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u63a5\u89e6\u8fc7\u8fd9\u4e2a\u6982\u5ff5\u3002\u5982\u679c\u76ee\u6807\u51fd\u6570\u9700\u8981\u4f20\u5165\u53c2\u6570\uff0c\u5219\u5b83\u7684\u53c2\u6570\u5c06\u901a\u8fc7<code>args</code>\u6765\u4f20\u5165\u3002</p> <p>\u4f18\u5316\u65b9\u6cd5\u4f7f\u7528\u4e00\u7cfb\u5217\u8fed\u4ee3\u6765\u8fdb\u884c\u6c42\u89e3\u6ee1\u8db3\u76ee\u6807\u51fd\u6570\u7684\u7269\u7406\u91cf<code>x</code>\uff0c\u5b83\u9700\u8981\u4ece\u4e00\u7ec4\u521d\u59cb\u503c\u5f00\u59cb\u3002<code>x0</code>\u5c31\u662f\u6211\u4eec\u63d0\u4f9b\u7ed9\u4f18\u5316\u65b9\u6cd5\u7684\u521d\u59cb\u503c\u3002\u5b83\u7684\u6700\u7ec8\u7ed3\u679c\uff0c\u5c06\u901a\u8fc7OptimalResult.x\u6765\u4f20\u9012\u56de\u6765\u3002</p> <p>\u5bf9\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u6709\u4e0d\u540c\u7684\u4f18\u5316\u65b9\u6848\u3002<code>minimize</code>\u65b9\u6cd5\u652f\u6301\u4e86\u5927\u7ea614\u79cd\u4f18\u5316\u65b9\u6848\uff0c\u6b64\u5916\u8fd8\u5141\u8bb8\u4f60\u81ea\u5b9a\u4e49\u4f18\u5316\u7b97\u6cd5\u3002\u5728\u8fdb\u884c\u4f18\u5316\u6c42\u89e3\u4e4b\u524d\uff0c\u6211\u4eec\u4e00\u822c\u9700\u8981\u6307\u5b9a\u4e00\u79cd\u4f18\u5316\u7b97\u6cd5\u3002</p> <p><code>bound</code>\u548c<code>constraints</code>\u53c2\u6570\uff0c\u6211\u4eec\u5c06\u6211\u4eec\u7ed3\u5408\u6709\u6548\u524d\u6cbf\u6c42\u89e3\u95ee\u9898\uff0c\u6765\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u3002\u540c\u65f6\uff0c\u4e5f\u8bb2\u89e3\u5176\u5b83\u53c2\u6570\u7684\u4f7f\u7528\u3002</p> <p>\u6211\u4eec\u5148\u6765\u6784\u5efa\u4e00\u4e2a\u6700\u5c0f\u65b9\u5dee\u7684\u6295\u8d44\u7ec4\u5408\u3002\u6211\u4eec\u5148\u6765\u5b9a\u4e49\u76ee\u6807\u51fd\u6570\uff1a</p> <pre><code>def portfolio_sd(w):\n    return np.sqrt(np.transpose(w) @ (returns.cov() * 253) @ w)\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u7684\u5e38\u6570253\u3002\u6211\u4eec\u4f7f\u7528\u5b83\u6765\u5c06\u6536\u76ca\u8fdb\u884c\u5e74\u5316\u3002\u8fd9\u662f\u4e00\u79cd\u7c97\u7565\u4f46\u7b80\u5355\u7684\u65b9\u6cd5\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u7ea6\u675f\u6761\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u201c\u5728\u67d0\u4e2a\u6536\u76ca\u7387\u65f6\uff0c\u6ce2\u52a8\u6700\u5c0f\u201d\u8fd9\u4e2a\u9700\u6c42\u3002\u9996\u5148\uff0c\u6211\u4eec\u8981\u5b9a\u4e49\u5e74\u5316\u6536\u76ca\u7387\uff1a</p> <pre><code>def portfolio_returns(w):\n    return (np.sum(returns.mean() * w)) * 253\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u6765\u5b9a\u4e49\u7ea6\u675f\u3002minimize\u65b9\u6cd5\u8981\u6c42\u901a\u8fc7dict\u6765\u4f20\u5165\u7ea6\u675f\u6761\u4ef6\u3002\u5b83\u652f\u6301\u4e24\u79cd\u8868\u8fbe\u5f0f\uff0c\u5373'eq'\u548c'ineq'\u3002</p> <pre><code>constraints = ({'type': 'eq', 'fun': lambda x: np.sum(x) - 1})\n</code></pre> <p>\u8fd9\u91cc\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7ea6\u675f\u3002'eq'\u8868\u660e'fun'\u6307\u5411\u7684\u8868\u8fbe\u5f0f\u5fc5\u987b\u7b49\u4e8e\u96f6\u3002'fun'\u7684\u503c\u53ef\u4ee5\u662flambda\u8868\u8fbe\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u662f\u5e38\u89c4\u51fd\u6570\u3002\u8fd9\u4e2alambda\u8868\u8fbe\u5f0f\u7684\u542b\u4e49\u662f\uff0c\u6743\u91cdx\u7684\u5404\u9879\u4e4b\u548c\uff0c\u5fc5\u987b\u7b49\u4e8e1\uff08\u8fd9\u662f\u663e\u7136\u7684\uff01\uff09\u3002\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u8fd9\u91cc\u7684<code>fun</code>\u5e76\u4e0d\u662f<code>minimize</code>\u9996\u4e2a\u53c2\u6570\u7684<code>fun</code>\uff0c\u800c\u662f\u4e00\u79cd\u7ea6\u675f\u6761\u4ef6\u3002\u5b83\u7684\u53c2\u6570\u662f\u60df\u4e00\u7684\uff0c\u5373<code>minimize</code>\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570<code>x0</code>\u6240\u4ee3\u8868\u7684\u90a3\u4e2a\u7269\u7406\u91cf\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a'ineq'\u8868\u8fbe\u5f0f\uff0c\u8fd9\u610f\u5473\u7740<code>fun</code>\u6307\u5411\u7684\u8868\u8fbe\u5f0f\u6216\u8005\u51fd\u6570\uff0c\u5176\u8fd4\u56de\u503c\u5fc5\u987b\u5927\u4e8e\u96f6\u3002 <pre><code>constraints = ({\n    'type': 'ineq', 'fun': lambda x: x[0],\n})\n</code></pre> \u540c\u6837\u7684\uff0c\u8fd9\u91cc\u7684<code>x</code>\u662f\u4f20\u5165\u7684\u662f\u5728\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\u7684\u3001\u6211\u4eec\u8981\u6c42\u89e3\u7684\u6ee1\u8db3\u76ee\u6807\u51fd\u6570\u7684\u7269\u7406\u91cf\u3002\u5728\u6700\u4f73\u6295\u8d44\u7ec4\u5408\u6c42\u89e3\u793a\u4f8b\u4e2d\uff0c\u5b83\u662f\u5404\u9879\u8d44\u4ea7\u7684\u6743\u91cd\u3002\u56e0\u6b64\uff0cx[0]\u5c31\u8868\u793a\u7b2c0\u53f7\u8d44\u4ea7\u7684\u6743\u91cd\u5fc5\u987b\u5927\u4e8e0\u3002\u8fd9\u662f\u6211\u4eec\u5728\u672c\u4f8b\u4e2d\uff0c\u53e6\u5916\u4e00\u4e2a\u7ea6\u675f\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u5bf9\u8d44\u4ea7\u6743\u91cd\u7684\u7ea6\u675f\u662f[0,1]\uff0c\u4e0a\u8ff0\u8868\u8fbe\u5f0f\u53ea\u80fd\u5b8c\u6210\u4e00\u534a\u76ee\u6807\u3002\u6b63\u786e\u7684\u505a\u6cd5\u662f\u4f7f\u7528bounds\uff1a</p> <p><pre><code>x0 = np.ones(len(stocks)) / len(stocks)\nbounds = tuple((0,1) for _ in x0)\n</code></pre> \u6709\u591a\u5c11\u4e2a\u8d44\u4ea7\uff0c\u6211\u4eec\u5c31\u8981\u5efa\u7acb\u591a\u5c11\u4e2a\u8fd9\u6837\u7684\u6709\u754c\u7ea6\u675f\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u628a\u6240\u6709\u7684\u6750\u6599\u653e\u5728\u4e00\u8d77\u201c\u716e\u201d\uff1a</p> <p><pre><code>from scipy.optimize import minimize\n\nres = minimize(\n    fun = portfolio_sd,\n    x0 = x0,\n    method = 'SLSQP',\n    bounds = bounds,\n    constraints = constraints\n)\nres\n</code></pre> \u8fd9\u6837\u6211\u4eec\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <p><pre><code> message: Optimization terminated successfully\n success: True\n  status: 0\n     fun: 0.14842169691096224\n       x: [ 2.500e-01  2.500e-01  2.500e-01  2.500e-01]\n     nit: 1\n     jac: [ 0.000e+00  0.000e+00  0.000e+00  0.000e+00]\n    nfev: 5\n    njev: 1\n</code></pre> nit\u8868\u660e\u51fd\u6570\u8fd0\u884c\u7684\u6b21\u6570\uff0c\u7531\u4e8e\u6211\u4eec\u5e76\u6ca1\u6709\u52a0\u4e0a\u6536\u76ca\u7387\u7ea6\u675f\uff0c\u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u5b9e\u9645\u4e0a\u4ec0\u4e48\u4e5f\u6ca1\u5e72\uff0c\u6211\u4eec\u4ecex\u7684\u503c\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e00\u70b9\u3002</p> <p>\u6211\u4eec\u52a0\u4e0a\u6536\u76ca\u7387\u7ea6\u675f\u518d\u8bd5\u4e00\u6b21:</p> <pre><code>constraints = (\n    {'type': 'eq', 'fun': lambda x: np.sum(x) - 1},\n    {'type': 'eq', 'fun': lambda x: portfolio_returns(x) - 0.1}\n)\n\nres = minimize(\n    fun = portfolio_sd,\n    x0 = x0,\n    method = 'SLSQP',\n    bounds = bounds,\n    constraints = constraints,\n    options = dict(disp=True)\n)\nres\n</code></pre> <p>Info</p> <p>\u6ce8\u610f\u6211\u4eec\u5728\u8fd9\u91cc\u52a0\u4e86\u4e00\u4e2aoptions\u53c2\u6570\u3002\u901a\u8fc7\u5b83\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63ed\u793a\u8fed\u4ee3\u8fc7\u7a0b\u3002</p> <p>\u8fd9\u6b21\u4ecd\u7136\u53ea\u8fed\u4ee3\u4e00\u6b21\u5c31\u7ed3\u675f\u4e86\uff0c\u4f46\u6743\u91cdx\u7684\u503c\u53d8\u4e86\u3002\u6211\u4eec\u7528\u5b83\u6c42\u89e3\u51fa\u6765\u6743\u91cd\u503c\u770b\u4e00\u4e0b\uff0c\u5f97\u5230\u7684\u7ec4\u5408\u6536\u76ca\u662f\u5426\u4e3a0.1\uff1a</p> <p><pre><code>portfolio_returns(res.x)\n</code></pre> \u8fd4\u56de\u7ed3\u679c\u7684\u786e\u662f0.1\uff0c\u8bf4\u660e\u6c42\u89e3\u8fc7\u7a0b\u6b63\u786e\u3002\u540c\u65f6\uff0c\u53ea\u8fed\u4ee3\u4e00\u6b21\u5c31\u5f97\u5230\u6b63\u786e\u7ed3\u679c\uff0c\u8fd9\u4e2a\u6548\u7387\u4e5f\u4ee4\u4eba\u6ee1\u610f\u3002</p> <p>\u73b0\u5728\uff0c\u5982\u679c\u6211\u4eec\u518d\u6765\u6c42\u89e3\u6709\u6548\u524d\u6cbf\uff0c\u5e94\u8be5\u600e\u4e48\u505a\uff1f</p> <p>\u663e\u7136\uff0c\u6211\u4eec\u5e94\u8be5\u5148\u627e\u51fa\u8be5\u7ec4\u5408\u7684\u7406\u8bba\u6700\u5927\u3001\u6700\u5c0f\u6536\u76ca\uff0c\u7136\u540e\u5728\u8fd9\u4e2a\u533a\u95f4\u91cc\u8fdb\u884c\u7ebf\u6027\u5212\u5206\uff0c\u5c06\u6bcf\u4e00\u4e2a\u6536\u76ca\u70b9\u4f5c\u4e3a\u7ea6\u675f\u6761\u4ef6\uff0c\u6c42\u89e3\u51fa\u5bf9\u5e94\u7684\u8d44\u4ea7\u5206\u914d\u6743\u91cd\uff0c\u7136\u540e\u518d\u4f9d\u636e\u8fd9\u4e2a\u6743\u91cd\u5206\u914d\uff0c\u8ba1\u7b97\u5176\u5b83\u6307\u6807\uff0c\u6bd4\u5982sharpe\u3002</p> <p>\u7ec4\u5408\u7684\u7406\u8bba\u6700\u5927\u6536\u76ca\u662f\u628a\u6240\u6709\u7684\u4ed3\u4f4d\u90fd\u5206\u914d\u7ed9\u8868\u73b0\u6700\u597d\u7684\u80a1\u7968\u5f97\u5230\u7684\uff1b\u53cd\u4e4b\uff0c\u5982\u679c\u6240\u6709\u7684\u4ed3\u4f4d\u90fd\u5206\u914d\u7ed9\u8868\u73b0\u6700\u5dee\u7684\u8d44\u4ea7\uff0c\u5219\u6211\u4eec\u4f1a\u5f97\u5230\u6700\u5c0f\u6536\u76ca\u3002</p> <p>returns\u8868\u8bb0\u5f55\u4e86\u6bcf\u4e00\u4e2a\u6807\u7684\u7684daily return\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u6c42\u6bcf\u4e00\u4e2a\u6807\u7684\u7684\u5e74\u5316\uff1a</p> <pre><code>all_annual_returns = (1 + returns.mean()) ** 253 - 1\nbest = np.max(all_annual_returns)\nworst = np.min(all_annual_returns)\nprint(best, worst)\n</code></pre> <p>\u6211\u4eec\u5f97\u5230\u8d44\u4ea7\u7ec4\u5408\u7684\u6700\u5927\u6536\u76ca\u662f20%\uff0c\u6700\u5dee\u6536\u76ca\u662f-28%\u3002\u73b0\u5728\u6211\u4eec\u6765\u6c42\u89e3\u6709\u6548\u524d\u6cbf\uff0c\u8fd9\u4e00\u6b21\uff0c\u6211\u4eec\u7ed9\u8db3\u5b8c\u6574\u7684\u4ee3\u7801\uff1a</p> <p>```python {.line-numbers} sharpes = [] vols = [] weights = [] rets = []</p> <p>all_annual_returns = (1 + returns.mean()) ** 253 - 1 best = np.max(all_annual_returns) worst = np.min(all_annual_returns)</p> <p>x0 = np.ones(len(stocks)) / len(stocks) constraints = (     {'type': 'eq', 'fun': lambda x: np.sum(x) - 1},     {'type': 'eq', 'fun': lambda x: portfolio_returns(x) - target} )</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#1","title":"\u8fd9\u4e00\u6b21\uff0c\u6211\u4eec\u8981\u6c42\u6bcf\u4e2a\u6807\u7684\u81f3\u5c11\u5206\u914d1%\u7684\u6743\u91cd","text":"<p>bounds = tuple((0.01, 1) for _ in stocks)</p> <p>for target in np.linspace(worst, best, 100):     res = minimize(         fun = portfolio_sd,         x0 = x0,         method = 'SLSQP',         bounds = bounds,         constraints = constraints     )</p> <pre><code>vols.append(res.fun)\nweights.append(res.x)\nrets.append(target)\n\n# \u8ba1\u7b97sharpe\nsharpe = sharpe_ratio(returns.dot(res.x))\nsharpes.append(sharpe)\n</code></pre>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#_1","title":"\u7ed8\u5236\u56fe\u5f62","text":"<p>plt.scatter(vols, rets, c=sharpes, cmap='RdYlBu') pos = np.argmax(sharpes) plt.colorbar(label='Sharpe Ratio') plt.scatter(vols[pos], rets[pos], marker='*', s=80, color='red')</p> <pre><code>\u8fd0\u884c\u603b\u5171\u82b1\u4e8611\u79d2\u3002\u770b\u4e0a\u53bb\u6bd4\u8fd0\u884c5000\u6b21\u8499\u7279\u5361\u6d1b\u6a21\u62df\u8fd8\u8981\u6162\uff0c\u4f46\u662f\uff0c\u5b83\u662f\u51e0\u4e4e\u6db5\u76d6\u4e86\u53ef\u80fd\u7684\u6bcf\u4e00\u79cd\u7ec4\u5408\u3002\u8fd9\u662f5000\u6b21\u8499\u7279\u5361\u6d1b\u6a21\u62df\u505a\u4e0d\u5230\u7684\u3002\n\n\u4ee3\u7801\u4e2d\u6709\u4e00\u4e9b\u5730\u65b9\u9700\u8981\u8fdb\u4e00\u6b65\u89e3\u91ca\u3002\u6211\u4eec\u5728\u524d\u9762\u8bb2\u89e3\u8fc7lambda\u8868\u8fbe\u5f0f`np.sum(x) - 1`\u4e2dx\u7684\u6765\u6e90\u3002\u60a8\u5e94\u8be5\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u5e76\u6ca1\u6709\u5728\u4efb\u4f55\u5730\u65b9\u58f0\u660e\u5b83\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u5f62\u5f0f\u53c2\u6570\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u53d8\u91cf\u540d\uff0c`minimize`\u65b9\u6cd5\u90fd\u4f1a\u5c06\u8fed\u4ee3\u4e2d\u7684\u6839\u53d8\u91cf\u4f20\u9012\u7ed9\u5b83 -- \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5c31\u662f\u6c42\u89e3\u4e2d\u7684\u6743\u91cd\u77e9\u9635\u3002\u7136\u800c\uff0c\u53e6\u4e00\u4e2a\u7ea6\u675f\u6761\u4ef6\uff1a\n\n```markdown\n    lambda x: portfolio_returns(x) - target\n</code></pre> <p>\u8fd9\u91cc\u7684target\u6765\u81ea\u4f55\u5904\uff1f\u5b83\u7684\u503c\u53c8\u662f\u5982\u4f55\u4f20\u9012\u7684\u5462\uff1f\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u5fc5\u987b\u63d0\u524d\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u4f46\u53ea\u5230\u7b2c19\u884c\uff0c\u6211\u4eec\u624d\u5728for\u5faa\u73af\u4e2d\u58f0\u660e\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5e76\u4e14\u5c06\u6700\u65b0\u7684\u503c\u4f20\u9012\u7ed9\u4e86lambda\u8868\u8fbe\u5f0f\u3002</p> <p>\u8fd8\u6709\u4e00\u4e2a\u6d6e\u70b9\u6570\u95ee\u9898\u3002\u5373'eq'\u8868\u8fbe\u5f0f\uff0c\u5b83\u7684\u7ed3\u679c\u662f\u8981\u8ddf0\u76f8\u6bd4\u8f83\u7684\u3002\u4f46\u662f\u7531\u4e8e\u5404\u79cd\u6d6e\u70b9\u8bef\u5dee\uff0c\u7406\u8bba\u4e0a\u7b49\u4e8e\u96f6\u7684\u8868\u8fbe\u5f0f\uff0c\u5728\u8ba1\u7b97\u673a\u770b\u6765\u53ef\u80fd\u4e0d\u7b49\u4e8e0\u3002\u6bd4\u5982\uff0c \u5728 portfolio_returns(x) - target &lt; 0.001\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u4e2a\u4f18\u5316\u5230\u4f4d\u4e86\uff0c\u4f46minimize\u4f1a\u4e00\u76f4\u5bfb\u627e\u5230\u8fd9\u4e2a\u5dee\u503c\u5c0f\u4e8e1e-7\u4e3a\u6b62\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5bf9portfolio_returns\u7684\u8fd4\u56de\u503c\u548ctarget\u8fdb\u884c\u53d6\u6574\uff08\u6bd4\u5982\uff0c\u5c0f\u6570\u70b9\u540e3\u4f4d\uff09\u6765\u52a0\u5feb\u8ba1\u7b97\u901f\u5ea6\uff0c\u4f46\u5f53\u6211\u4eec\u8fd9\u6837\u505a\u7684\u65f6\u5019\uff0c\u8981\u6ce8\u610f\u7531\u4e8e\u4e0d\u77e5\u9053<code>minimize</code>\u5185\u90e8\u5b9e\u73b0\u65f6\u7684\u6b65\u957f\uff0c\u6709\u53ef\u80fd\u5bfc\u81f4\u4f18\u5316\u5931\u8d25\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6709\u8fdb\u4e00\u6b65\u52a0\u5feb\u901f\u5ea6\u7684\u9700\u8981\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528scipy.optimize\u5305\u4e2d\u7684\u53e6\u5916\u4e00\u4e2a\u65b9\u6cd5\uff0c<code>fmin_slsqp</code>:</p> <p><pre><code>    scipy.optimize.fmin_slsqp(\n        func, \n        x0, \n        eqcons=(), \n        bounds=(), \n        acc=1e-06, \n        iprint=1, \n        disp=None, \n        full_output=0, \n        epsilon=1.4901161193847656e-08, \n        callback=None)\n</code></pre> \u5b83\u63d0\u4f9b\u4e86<code>acc</code>\u548c<code>epsilon</code>\u8fd9\u4e24\u4e2a\u53c2\u6570\uff0c\u5e94\u8be5\u8ddf\u6211\u4eec\u8fd9\u91cc\u7684\u601d\u8def\u662f\u4e00\u81f4\u7684\u3002\u5b83\u7684\u9ed8\u8ba4\u503c\u4e5f\u53ef\u80fd\u5c31\u662f<code>minimize</code>\u5185\u90e8\u5b9e\u73b0\u65f6\u7684\u9ed8\u8ba4\u503c\u3002\u5b83\u4e5f\u662f\u987a\u5e8f\u6700\u5c0f\u4e8c\u4e58\u6cd5\u4f18\u5316\u65b9\u6cd5\u3002\u53ea\u4e0d\u8fc7\u6587\u6863\u6bd4\u8f83\u5c11\uff0c\u4e5f\u6ca1\u6709\u793a\u4f8b\u3002\u8fd9\u91cc\u5c31\u4e0d\u5c55\u5f00\u4e86\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u3002</p> <p>\u6211\u4eec\u5df2\u7ecf\u63a2\u8ba8\u4e86\u8d44\u4ea7\u7ec4\u5408\u7406\u8bba\u7684\u65b9\u65b9\u9762\u9762\uff0c\u5e76\u4e14\u5b66\u4f1a\u4e86\u5982\u4f55\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u548c\u51f8\u4f18\u5316\u65b9\u6cd5\u6765\u6c42\u89e3\u7ea6\u675f\u6761\u4ef6\u4e0b\u7684\u6700\u4f73\u8d44\u4ea7\u7ec4\u5408\u3002</p> <p>\u4f46\u662f\uff0c\u5728\u5b9e\u9645\u6295\u8d44\u4e2d\uff0c\u6211\u4eec\u9047\u5230\u7684\u60c5\u51b5\u4f1a\u66f4\u590d\u6742\uff0c\u5e76\u4e0d\u662f\u6211\u4eec\u4e0a\u9762\u4ecb\u7ecd\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\u5b8c\u5168 cover \u7684\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u9047\u5230\u4ee5\u4e0b\u60c5\u51b5\uff08\u9700\u6c42\uff09\uff1a</p> <ol> <li>\u5728\u5747\u503c\u3001\u65b9\u5dee\u6a21\u578b\u4e2d\uff0c\u6211\u4eec\u628a\u6536\u76ca\u7387\u4e3a\u6b63\u7684\u6ce2\u52a8\u4e5f\u8ba1\u5165\u8fdb\u6765\u4e86\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u53ef\u80fd\u53ea\u5173\u6ce8\u6536\u76ca\u7387\u4e3a\u8d1f\u7684\u90a3\u90e8\u5206\u6ce2\u52a8 -- \u8fd9\u6b63\u662f\u7b56\u7565\u8bc4\u4f30\u6307\u6807 - sortino \u6307\u6807\u88ab\u53d1\u660e\u51fa\u6765\u7684\u539f\u56e0\u3002\u8fd9\u53ea\u662f\u6211\u4eec\u4f18\u5316\u6a21\u578b\u7684\u8def\u5f84\u4e4b\u4e00\u3002\u6211\u4eec\u53ef\u80fd\u8fd8\u5e0c\u671b\u5b9e\u73b0\u5404\u79cd\u65b0\u7684\u53d1\u73b0\uff0c\u4f46\u65f6\u95f4\u548c\u80fd\u529b\u53ef\u80fd\u90fd\u4e0d\u5141\u8bb8\u3002</li> <li>\u8fc4\u4eca\u4e3a\u6b62\uff0c\u6211\u4eec\u53ea\u8003\u8651\u4e86\u6743\u91cd\u4e3a\u6b63\u7684\u60c5\u51b5\u3002\u4e5f\u5c31\u662f\uff0c\u6211\u4eec\u53ea\u5141\u8bb8\u505a\u591a\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u901a\u8fc7\u505a\u7a7a\u6765\u5bf9\u51b2\u98ce\u9669\u7684\u9700\u6c42\u4e5f\u662f\u5b58\u5728\u7684\u3002\u5982\u679c\u6211\u4eec\u8981\u5141\u8bb8\u505a\u7a7a\uff0c\u53c8\u8be5\u5982\u4f55\uff1f</li> <li>\u5c3d\u7ba1\u6211\u4eec\u7684\u6807\u7684\u6c60\u91cc\u6709 500 \u4e2a\u6807\u7684\uff0c\u4f46\u5982\u679c\u5fc5\u987b\u5c06\u6295\u8d44\u7ec4\u5408\u9650\u5236\u4e3a\u6700\u591a 10 \u9879\u8d44\u4ea7\uff0c\u53c8\u8be5\u5982\u4f55\u5904\u7406\uff1f\u8fd9\u53ef\u4e0d\u4ec5\u4ec5\u662f\u4ece\u4e2d\u6311\u9009 10 \u652f\u6807\u7684\u518d\u628a\u524d\u9762\u7684\u6d41\u7a0b\u8d70\u4e00\u904d\u90a3\u4e48\u7b80\u5355\u3002\u6bd5\u7adf\uff0c\u8be5\u5982\u4f55\u4ece 500 \u4e2a\u6807\u7684\u7684\u6807\u7684\u6c60\u91cc\uff0c\u9009\u51fa\u6700\u4f73\u7684 10 \u652f\u5462\uff1f</li> <li>\u5982\u679c\u6211\u4eec\u5e0c\u671b\u8fdb\u884c\u884c\u4e1a\u4e2d\u6027\u5316\u5462\uff08\u5373\u6bcf\u4e2a\u884c\u4e1a\u5747\u8861\u914d\u7f6e\u8d44\u4ea7\uff0c\u800c\u4e0d\u8981\u51fa\u73b0\u8d44\u4ea7\u4e3b\u8981\u914d\u7f6e\u5728\u67d0\u4e00\u4e2a\u884c\u4e1a\u5185\u7684\u60c5\u51b5\uff09\uff1f</li> </ol>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(4) - PyportfolioOpt\u5de5\u5177\u5e93","text":"<p>\u8fd9\u91cc\uff0c\u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u4e13\u95e8\u7528\u4e8e\u8d44\u4ea7\u7ec4\u5408\u4f18\u5316\u7684\u5de5\u5177\u5e93\u3002\u6ce8\u610f\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86 scipy.optimize \u5e93\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u7c7b\u4f3c\u7684\u5e93\u8fd8\u6709 cvxopt \u548c cvxpy\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u5e93\u90fd\u662f\u6bd4\u8f83\u5e95\u5c42\u7684\u5e93\uff0c\u5b83\u4eec\u4e3b\u8981\u7528\u4e8e\u63d0\u4f9b\u5404\u79cd\u51f8\u4f18\u5316\u7b97\u6cd5\uff0c\u4e0d\u4ec5\u4ec5\u7528\u4e8e\u6295\u8d44\u9886\u57df\u3002</p> <p>Pyportfolio \u5219\u662f\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u8d44\u4ea7\u7ec4\u5408\u4f18\u5316\u7684\u5e93\u3002\u8fd9\u4e2a\u5e93\u6700\u521d\u7531 Robert Martin \u5f00\u53d1\u3002\u4ed6\u662f\u4e00\u540d\u4ea4\u6613\u5458\uff0cPython \u7231\u597d\u8005\u548c\u5929\u4f53\u7269\u7406\u5b66\u5bb6\u3002\u8fd9\u4e2a\u5e93\u5728 github \u4e0a\u83b7\u5f97\u4e86\u63a5\u8fd1 4k \u7684 stars\u3002</p> <p></p> <p>Pyportfolio \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li> <p>\u591a\u79cd\u671f\u671b\u56de\u62a5\u6a21\u578b\u3002\u6bd4\u5982\uff0c\u5728\u6211\u4eec\u524d\u9762\u7684\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u7684 returns \u8ba1\u7b97\u65b9\u6cd5\u6bd4\u8f83\u7b80\u5355\uff0c\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u5e73\u5747\u5386\u53f2\u56de\u62a5\u3002\u6211\u4eec\u5728\u4e4b\u524d\u7684\u7cfb\u5217\u4e2d\uff0c\u4ecb\u7ecd\u4e86 CAPM\uff0c\u8fd9\u4e5f\u662f\u4e00\u79cd\u56de\u62a5\u7387\u3002pyportfolioopt \u5de5\u5177\u5e93\u9664\u4e86\u63d0\u4f9b\u5e73\u5747\u5386\u53f2\u56de\u62a5\u3001\u6307\u6570\u52a0\u6743\u5e73\u5747\u5386\u53f2\u56de\u62a5\u4e4b\u5916\uff0c\u5b83\u8fd8\u652f\u6301 CAPM \u56de\u62a5\u3002CAPM \u4e0e MPT \u53cc\u5251\u5408\u58c1\uff0c\u80fd\u4ea7\u751f\u4ec0\u4e48\u6837\u7684\u5316\u5b66\u53cd\u5e94\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u6295\u8d44\u4e2d\uff0c\u8f7b\u4ed3\u5c1d\u8bd5\u4e00\u4e0b\u3002</p> </li> <li> <p>\u5728\u98ce\u9669\u6a21\u578b\u65b9\u9762\uff0c\u4e4b\u524d\u4e3b\u8981\u4ecb\u7ecd\u4e86\u534f\u65b9\u5dee\u6a21\u578b\u3002\u800c pyportfolioopt \u8fd8\u652f\u6301\u534a\u534f\u65b9\u5dee\uff08Semicovariance\uff0c\u4ee5\u66f4\u5173\u6ce8\u4e0b\u884c\u53d8\u5316\u7684\u98ce\u9669\u5ea6\u91cf\uff0c\u547c\u5e94\u6211\u4eec\u7b2c 2 \u4e2a\u9700\u6c42\uff09\u3001\u6307\u6570\u534f\u65b9\u5dee\uff08\u4e3a\u6700\u8fd1\u7684\u6570\u636e\u8d4b\u4e88\u66f4\u591a\u7684\u6743\u91cd\uff09\u4ee5\u53ca\u534f\u65b9\u5dee\u6536\u7f29\u6280\u672f</p> </li> <li>\u5728\u76ee\u6807\u51fd\u6570\u4e0a\uff0cpyportfolioopt \u8fd8\u63d0\u4f9b\u4e86\u6700\u5927\u590f\u666e\u7387 (Maximum Sharpe Ratio)\u3001\u6700\u5c0f\u6ce2\u52a8\u7387\uff08\u524d\u9762\u7684\u4f8b\u5b50\u5df2\u4ecb\u7ecd\uff09\u3001\u6700\u5927\u4e8c\u6b21\u6548\u7528\uff08Maximum quadratic utility\uff09\u7b49\u3002</li> <li>\u5141\u8bb8\u6301\u6709\u7a7a\u5934\u5934\u5bf8\u3002</li> </ol> <p>\u4ee5\u4e0a\u8fd9\u4e9b\u53d8\u79cd\u7ec4\u5408\u8d77\u6765\uff0c\u5c31\u4e3a\u6211\u4eec\u62d3\u5c55 MPT \u7684\u5e94\u7528\u63d0\u4f9b\u4e86\u5f88\u591a\u82b1\u6837\u73a9\u6cd5\u3002\u4e5f\u8bb8\uff0c\u5176\u4e2d\u5c31\u4f1a\u6709\u4e00\u6b3e\uff0c\u6b63\u597d\u9002\u5408\u5f53\u4e0b\u7684\u5e02\u573a\u3002\u9664\u4e86\u8fd9\u4e9b\u4f18\u5316\u65b9\u6cd5\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u5e38\u7528\u529f\u80fd\u4e5f\u662f\u6211\u4eec\u975e\u5e38\u9700\u8981\u7684\uff1a</p> <ol> <li>\u53ef\u89c6\u5316\u3002\u663e\u7136\uff0c\u6211\u4eec\u9700\u8981\u7ed8\u5236\u534f\u65b9\u5dee\u77e9\u9635\u3001\u6709\u6548\u524d\u6cbf\u3001\u6743\u91cd\u77e9\u9635\uff08\u8fd9\u662f\u4f7f\u7528\u997c\u56fe\u7684\u6070\u5f53\u5730\u65b9\uff0c\u56e0\u4e3a\u6743\u91cd\u4e4b\u548c\u521a\u597d\u4e3a 1\uff09\u3002</li> <li>\u6570\u636e\u9884\u5904\u7406\uff0c\u4ee5\u53ca\u540e\u5904\u7406\u3002</li> </ol> <p>\u5728\u4e86\u89e3\u4e86 PyportfolioOpt \u7684\u57fa\u672c\u7279\u6027\u4e4b\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u770b\u5982\u4f55\u4f7f\u7528\u5b83\u3002</p> <p>\u5f53\u524d\u7684\u7248\u672c\u662f\u662f 1.5.4\uff0c\u5c3d\u7ba1\u5b83\u7684\u57fa\u672c\u67b6\u6784\u5df2\u7ecf\u7a33\u5b9a\uff0c\u4f46\u7ef4\u62a4\u8fd8\u662f\u5f88\u6d3b\u8dc3\uff0c\u5e76\u4e14\u652f\u6301\u4ece 3.8 \u5230 3.12 \u7684\u5404\u4e2a\u7248\u672c\u7684 Python\u3002\u5b83\u5df2\u7ecf\u4f7f\u7528\u4e86 Poetry \u6765\u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u3002</p> <p>\u5b89\u88c5PyportfolioOpt\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>pip install PyPortfolioOpt\n</code></pre> <p>\u5b83\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a Docker \u5bb9\u5668\uff08\u771f\u7684\u5f88\u8d34\u5fc3\u4e86\uff01\uff09\uff0c\u4f9b\u6211\u4eec\u7ec3\u4e60\u5b83\u63d0\u4f9b\u7684\u4e00\u4e9b\u793a\u4f8b\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u4e00\u4e2a\u793a\u4f8b\u6765\u6f14\u793a pyPortforlioOpt\u7684\u7528\u6cd5\u3002\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u6f14\u793a\uff1a 1. \u5982\u4f55\u5c06\u6570\u636e\u5904\u7406\u6210 PyPortfolioOpt \u9700\u8981\u7684\u8f93\u5165\u683c\u5f0f 2. \u8ba1\u7b97\u534f\u65b9\u5dee\u77e9\u9635\u3001\u4ee5\u53ca\u53ef\u89c6\u5316 3. \u4f18\u5316\u4e00\u4e2a\u591a\u7a7a\u7ec4\u5408\uff0c\u4f7f\u5f97\u65b9\u5dee\u6700\u5c0f\u5316 4. \u6700\u5927\u5316\u590f\u666e\u7387</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_1","title":"\u6570\u636e\u9884\u5904\u7406","text":"<p>\u6211\u4eec\u4ee5\u4f7f\u7528 zillionare-omicron\u4e3a\u4f8b\u6765\u83b7\u53d6\u521d\u59cb\u6570\u636e\uff0c\u5e76\u5c06\u5176\u5904\u7406\u4e3a PyPortfolioOpt \u9700\u8981\u7684\u8f93\u5165\u683c\u5f0f\u3002</p> <p>Tip</p> <p>\u63a8\u8350\u5728\u5927\u5bcc\u7fc1\u91cf\u5316\u4ea4\u6613\u8bfe\u7a0b\u8bfe\u4ef6\u73af\u5883\u4e2d\u8fd0\u884c\u672c\u793a\u4f8b\u3002</p> <pre><code>from coursea import *\n\nawait init()\n\n# \u4e0a\u8bc150\u6307\u6570\nSH50_CODE_LIST = [\"688599.XSHG\",\"688111.XSHG\",\"603986.XSHG\",\"603799.XSHG\",\"603501.XSHG\",\"603288.XSHG\",\n                  \"603260.XSHG\",\"603259.XSHG\",\"601919.XSHG\",\"601899.XSHG\",\"601888.XSHG\",\"601857.XSHG\",\n                  \"601728.XSHG\",\"601669.XSHG\",\"601668.XSHG\",\"601633.XSHG\",\"601628.XSHG\",\"601398.XSHG\",\n                  \"601390.XSHG\",\"601318.XSHG\",\"601288.XSHG\",\"601225.XSHG\",\"601166.XSHG\",\"601088.XSHG\",\n                  \"601066.XSHG\",\"601012.XSHG\",\"600905.XSHG\",\"600900.XSHG\",\"600893.XSHG\",\"600887.XSHG\",\n                  \"600809.XSHG\",\"600745.XSHG\",\"600690.XSHG\",\"600519.XSHG\",\"600438.XSHG\",\"600436.XSHG\",\n                  \"600406.XSHG\",\"600309.XSHG\",\"600276.XSHG\",\"600196.XSHG\",\"600111.XSHG\",\"600104.XSHG\",\n                  \"600089.XSHG\",\"600050.XSHG\",\"600048.XSHG\",\"600036.XSHG\",\"600031.XSHG\",\"600030.XSHG\",\n                  \"600028.XSHG\",\"600010.XSHG\"]\n\nasync def get_prices(stock_list, start_date, end_date):\n    frames = [tf.int2date(f) for f in tf.get_frames(start_date, end_date, FrameType.DAY)]\n    dfs = [pd.DataFrame([], index=frames)]\n    for code in stock_list:\n        bars = await Stock.get_bars_in_range(code, FrameType.DAY, frames[0], frames[-1])\n        index = [v.item().date() for v in bars[\"frame\"]]\n        dfs.append(pd.DataFrame(bars[\"close\"], columns=[code], index=index))\n\n    return pd.concat(dfs, axis=1)\n\n# \u6295\u8d44\u7ec4\u5408\u4e2a\u6570\nstart = datetime.date(2022, 1, 1)\nend = datetime.date(2023, 1, 1)\nprices = await get_prices(SH50_CODE_LIST, start, end)\nprices.tail()\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u5c06\u5404\u8d44\u4ea7\u8d70\u52bf\u7ed8\u5236\u6210\u4e0b\u56fe\uff1a</p> <p></p> <p>\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6280\u5de7\u53ef\u80fd\u5728\u7b2c24\u884c\uff0c\u5b83\u5c06\u591a\u4e2adataframe\u6309\u884c\u8fdb\u884c\u62fc\u63a5\uff0c\u6700\u7ec8\u6210\u4e3a\u4e00\u5f20\u5bbd\u8868\u3002\u8fd9\u79cd\u683c\u5f0f\uff0c\u5728\u4f7f\u7528pyfolio\u8fdb\u884c\u56e0\u5b50\u5206\u6790\u65f6\uff0c\u4e5f\u66fe\u4f7f\u7528\u8fc7\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_2","title":"\u8ba1\u7b97\u534f\u65b9\u5dee","text":"<p>\u5728\u524d\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u624b\u52a8\u8ba1\u7b97\u7684\u534f\u65b9\u5dee\u3002\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\uff0c\u4e00\u65b9\u9762\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528pandas\u7684DataFrame\u7684\u534f\u65b9\u5dee\u8ba1\u7b97\u51fd\u6570<code>cov</code>\uff1b\u5728 PyPortfolioOpt \u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684<code>sample_cov</code>\u65b9\u6cd5\uff1a</p> <p><pre><code>from pypfopt import risk_models\nfrom pypfopt import plotting\n\nsample_cov = risk_models.sample_cov(prices, frequency=252)\nsample_cov.head()\n</code></pre> \u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u533a\u522b\u5728\u4e8e\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528PyPortfolioOpt\u7684sample_cov\u65b9\u6cd5\uff0c\u5c31\u4e0d\u9700\u8981\u8fdb\u884c\u6536\u76ca\u7387\u8ba1\u7b97\u548c\u53bb\u65e0\u6548\u503c\u64cd\u4f5c\uff0c\u5373\u4e00\u6b65\u64cd\u4f5c\uff0c\u5b8c\u6210\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <pre><code>prices = ... # pd.DataFrame, price of each instrument\nreturns = prices.pct_change().dropna(how='any')\ncov = returns.cov()\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\uff0c\u6765\u53ef\u89c6\u5316\u8be5\u77e9\u9635\uff1a</p> <pre><code>plotting.plot_covariance(sample_cov, plot_correlation=True)\n</code></pre> <p></p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_3","title":"\u6c42\u89e3\u6700\u4f18\u8d44\u4ea7\u7ec4\u5408","text":"<p>\u6211\u4eec\u4ee5\u6700\u5927\u6536\u76ca\u3001\u6700\u4f4e\u6ce2\u52a8\u6765\u6761\u4ef6\u6765\u6c42\u89e3\u6700\u4f18\u8d44\u4ea7\u7ec4\u5408\uff1a</p> <pre><code>from pypfopt import EfficientFrontier\nfrom pypfopt import risk_models\nfrom pypfopt.expected_returns import mean_historical_return\n\nmu = mean_historical_return(prices)\nS = risk_models.sample_cov(prices)\n\nef = EfficientFrontier(mu, S, weight_bounds=(0, 1))\n\n# \u6c42\u89e3\u51fa\u6700\u5c0f\u6ce2\u52a8\u7387\u65f6\u7684\u6743\u91cd\nw = ef.min_volatility()\n\n# \u8f93\u51fa\u6700\u5c0f\u6ce2\u52a8\u7387\u65f6\u7684\u5e74\u5316\u6536\u76ca\u3001\u6ce2\u52a8\u7387\u548csharpe\nef.portfolio_performance(verbose=True)\ndf_w = pd.DataFrame(np.array([item for item in w.items()], dtype=[(\"code\", \"O\"), (\"w\", \"f4\")]))\n\n# \u663e\u793a\u6743\u91cd\ndf_w.head()\n</code></pre> <p>\u4f7f\u7528\u65b9\u6cd5\u5f88\u7b80\u5355\u3002\u9996\u5148\uff0c\u6211\u4eec\u6c42\u5f97\u56de\u62a5\u5747\u503c\uff0c\u6784\u5efarisk model\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u7684\u662f\u5747\u503c\u65b9\u5dee\u6a21\u578b\uff0c\u56e0\u6b64\uff0c\u901a\u8fc7sampe_cov\u6765\u8fd4\u56de\u8fd9\u4e2a\u6a21\u578b\u3002</p> <p>\u7136\u540e\u6211\u4eec\u5728\u7b2c8\u884c\uff0c\u5b9e\u4f8b\u5316\u6709\u6548\u524d\u6cbf\u5bf9\u8c61\u3002\u5b83\u63a5\u6536\u4e09\u4e2a\u53c2\u6570\uff0c\u5373\u5747\u503c\u3001risk model\u548c\u6743\u91cd\u7ea6\u675f\uff09\u3002</p> <p>\u7136\u540e\u5728\u7b2c11\u884c\uff0c\u6211\u4eec\u4ee5\u6700\u5c0f\u6ce2\u52a8\u7387\u4e3a\u76ee\u6807\u8fdb\u884c\u4f18\u5316\u6c42\u89e3\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u5373\u4e3a\u6743\u91cd\u5411\u91cf\uff08\u4ee5orderdict\u7c7b\u578b\u8868\u793a\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u5411\u91cf\u6765\u81ea\u884c\u8ba1\u7b97\u5bf9\u5e94\u7684\u7ec4\u5408\u5e74\u5316\u6536\u76ca\u3001\u590f\u666e\u7387\uff0c\u4f46\u4e5f\u53ef\u4ee5\u4f7f\u7528 pypfopt \u81ea\u5e26\u7684\u65b9\u6cd5 <code>portfolio_performance</code>\uff0c\u5982\u4ee3\u7801\u7b2c14\u884c\u6240\u793a\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u5c06\u6743\u91cd\u5411\u91cf\u8f6c\u6362\u4e3adataframe\u8fdb\u884c\u663e\u793a\uff0c\u8fd9\u7eaf\u7cb9\u662f\u4e3a\u4e86\u7f8e\u89c2\u3002</p> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u6c42\u5f97\u4e86\u6ce2\u52a8\u6700\u5c0f\u65f6\u7684\u671f\u671b\u6536\u76ca\u3001\u8d44\u4ea7\u7ec4\u5408\uff08\u5373\u6743\u91cd\uff09\uff0c\u4ee5\u53ca\u5b83\u4eec\u7684\u590f\u666e\u7b49\u6307\u6807\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_4","title":"\u53ef\u89c6\u5316\u4e0e\u6709\u6548\u524d\u6cbf","text":"<p>\u6211\u4eec\u521a\u521a\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u4ec5\u751f\u6210\u4e86\u5355\u4e2a\u6700\u4f18\u6295\u8d44\u7ec4\u5408\u3002\u4f46\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u8fd8\u5e0c\u671b\u83b7\u5f97\u6574\u4e2a\u6709\u6548\u524d\u6cbf\u3002</p> <pre><code>fig, ax = plt.subplots()\nef = EfficientFrontier(mu, S, weight_bounds=(0, 1))\nef_max_sharpe = ef.deepcopy()\nplotting.plot_efficient_frontier(ef, ax=ax, show_assets=False)\n\n# Find the tangency portfolio\nef_max_sharpe.max_sharpe()\nret_tangent, std_tangent, _ = ef_max_sharpe.portfolio_performance()\nax.scatter(std_tangent, ret_tangent, marker=\"*\", s=100, c=\"r\", label=\"Max Sharpe\")\n\n# Generate random portfolios\nn_samples = 10000\nw = np.random.dirichlet(np.ones(ef.n_assets), n_samples)\nrets = w.dot(ef.expected_returns)\nstds = np.sqrt(np.diag(w @ ef.cov_matrix @ w.T))\nsharpes = rets / stds\nax.scatter(stds, rets, marker=\".\", c=sharpes, cmap=\"viridis_r\")\n\n# Output\nax.set_title(\"Efficient Frontier with random portfolios\")\nax.legend()\nplt.tight_layout()\nplt.show()\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u4f1a\u5f97\u5230\u4e0b\u56fe\uff1a</p> <p></p> <p>\u8fd9\u91cc\u6709\u51e0\u70b9\u9700\u8981\u8bf4\u660e\uff1a</p> <ol> <li> <p>\u6211\u4eec\u5171\u751f\u6210\u4e2a\u4e24\u6b21\u6709\u6548\u524d\u6cbf\u5b9e\u4f8b\u3002\u7b2c\u4e00\u4e2a\u4f7f\u7528\u7684\u662f\u5747\u503c\u65b9\u5dee\u6a21\u578b\uff08\u5373\u56de\u62a5\u4e0e\u6ce2\u52a8\u7387\uff09\u8fdb\u884c\u7684\u6c42\u89e3\uff0c\u7b2c\u4e8c\u4e2a\u5219\u662f\u5bf9\u6700\u4f18\u590f\u666e\u7387\u8fdb\u884c\u7684\u6c42\u89e3\u3002\u5bf9\u4efb\u4f55\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u53ea\u80fd\u8fdb\u884c\u4e00\u6b21\u6c42\u89e3\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u751f\u6210\u4e86\u4e24\u4e2a\u5b9e\u4f8b\u3002\u8fd9\u91cc\u4f7f\u7528\u7684\u662fdeepcopy\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u5b8c\u5168\u91cd\u65b0\u521d\u59cb\u5316\u3002</p> </li> <li> <p>\u7b2c13\u884c\u6211\u4eec\u4f7f\u7528\u4e86\u72c4\u5229\u514b\u96f7\u5206\u5e03\u3002\u5b83\u662f\u4e00\u4e2a\u5728(0,1)\u533a\u95f4\u5185\u5206\u5e03\uff0c\u4f46\u5206\u5e03\u603b\u548c\u4e3a1\u7684\u5206\u5e03\u3002\u6211\u4eec\u5728\u4e4b\u524d\u662f\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u7684\uff1a</p> </li> </ol> <p><pre><code>w = np.random.random(size=50)\nw = w/sum(w)\n</code></pre> \u4f7f\u7528\u72c4\u5229\u514b\u96f7\u5206\u5e03\u7684\u5199\u6cd5\u770b\u4e0a\u53bb\u66f4\u4f18\u96c5\u3002\u4e0d\u8fc7\u8981\u6ce8\u610f\uff0c\u4e24\u79cd\u65b9\u6cd5\u7684\u5206\u5e03\u7279\u5f81\u662f\u4e0d\u4e00\u6837\u7684\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#capmmpt","title":"CAPM\u4e0eMPT","text":"<p>\u524d\u9762\u4e00\u4e2a\u7cfb\u5217\u8bb2\u89e3\u4e86CAPM\u3002\u5b83\u4e0eMPT\u6709\u7740\u5343\u4e1d\u4e07\u7f15\u7684\u8054\u7cfb\u3002\u9996\u5148\uff0c\u6211\u4eec\u5728\u6c42\u89e3\u6700\u4f73\u590f\u666e\u7387\u65f6\uff0c\u4f7f\u7528\u4e86 tangency portfolio\uff0c\u5373\u5207\u7ebf\u6295\u8d44\u7ec4\u5408\u8fd9\u4e00\u8bf4\u6cd5\uff08\u6ce8\u91ca\u7b2c6\u884c\uff09\u3002\u5207\u7ebf\u6295\u8d44\u7ec4\u5408\u662f\u4e00\u79cd\u4f4d\u4e8e\u98ce\u9669\u56de\u62a5\u7a7a\u95f4\u4e2d\u6709\u6548\u524d\u6cbf\u4e0e\u6700\u9ad8\u53ef\u80fd\u8d44\u672c\u5e02\u573a\u7ebf (CML) \u76f8\u5207\u70b9\u7684\u6295\u8d44\u7ec4\u5408\u3002</p> <p></p> <p>\u8fd9\u91cc\u7684\u5207\u7ebf\u7684\u659c\u7387\uff0c\u5c31\u662f\u590f\u666e\u7387\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u5728\u4e4b\u524d\u7684\u8ba1\u7b97\u4e2d\uff0c\u4f7f\u7528\u7684\u90fd\u662f\u5747\u503c\u56de\u62a5\u7387\uff0c\u901a\u8fc7<code>mean_historical_return</code>\u6c42\u5f97\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u5747\u503c\u56de\u62a5\u7387\u53c2\u8003\u610f\u4e49\u5e76\u4e0d\u592a\u5927\u3002\u56e0\u4e3a\u6211\u4eec\u4e0d\u80fd\u7b80\u5355\u5730\u5047\u8bbe\u5386\u53f2\u4f1a\u91cd\u6f14\u3002\u4e00\u79cd\u53ef\u80fd\u7684\u529e\u6cd5\uff0c\u662f\u901a\u8fc7CAPM\u6c42\u5f97\u8d44\u4ea7\u7684alpha\uff0c\u4ee5\u6b64\u4f5c\u4e3a\u8d44\u4ea7\u56de\u62a5\u518d\u6765\u8ba1\u7b97\u6709\u6548\u524d\u6cbf\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0cCAPM\u4e0eMPT\u7406\u8bba\u6709\u673a\u5730\u7ed3\u5408\u5230\u4e86\u4e00\u8d77\u3002</p> <p>pyfolio\u652f\u6301\u4e86\u8fd9\u79cd\u505a\u6cd5\u3002\u6211\u4eec\u5728\u5b9e\u4f8b\u5316 EfficientFrontier\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u8fd9\u6837\uff1a</p> <pre><code>from pypfopt.expected_returns import capm_return\n\n# \u4e0d\u7528\u5386\u53f2\u56de\u62a5\uff0c\u800c\u6539\u4e3acapm_return\n\n#mu = mean_historical_return(prices)\nmu = capm_return(prices)\nS = risk_models.sample_cov(prices)\n\nef = EfficientFrontier(mu, S, weight_bounds=(0, 1))\n</code></pre> <p>\u4e0d\u8fc7\uff0c\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c\u4f7f\u7528capm return\u53ef\u80fd\u4f1a\u51fa\u9519\uff0c\u63d0\u793a\u6ca1\u6709\u4efb\u4f55\u4e00\u79cd\u8d44\u4ea7\u7684CAPM\u6536\u76ca\u4e3a\u6b63\u3002\u8fd9\u4e0d\u662fpyfolioopt\u7684\u9519\uff0c\u4e5f\u4e0d\u662f\u6211\u4eec\u7684\u9519\u3002</p> <p>\u8fd9\u4e2a\u5e02\u573a\u9519\u4e86\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_5","title":"\u7ed3\u675f\u8bed","text":"<p>\u8fd9\u4e00\u7cfb\u5217\u7684\u7406\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u5c31\u4ecb\u7ecd\u5230\u8fd9\u91cc\u3002\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\uff0c\u6211\u4eec\u9664\u4e86\u638c\u63e1\u4e86\u5982\u4f55\u8fd0\u7528\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u6765\u5b9e\u9645\u7ba1\u7406\u8d44\u4ea7\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u5b66\u5230\u4e86\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u3001\u51f8\u4f18\u5316\u65b9\u6cd5\uff0c\u638c\u63e1\u4e86sharpe\u7387\u7684\u8ba1\u7b97\u7b49\u91cd\u8981\u7684\u91cf\u5316\u5de5\u5177\u3002\u6211\u4eec\u8fd8\u4ecb\u7ecd\u4e86MPT\u4e0eCAPM\u662f\u5982\u4f55\u8fde\u63a5\u8d77\u6765\u7684\uff0c\u5982\u679c\u60a8\u5bf9\u7eaf\u7406\u8bba\u7814\u7a76\u6bd4\u8f83\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u987a\u7740\u8fd9\u90e8\u5206\u7ee7\u7eed\u6df1\u5165\u7814\u7a76\u3002\u6211\u4eec\u5728\u53c2\u8003\u6587\u732e\u91cc\u7ed9\u51fa\u4e86\u4e00\u4e9b\u9605\u8bfb\u8d44\u6599\u3002</p> <p>\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7684\u7406\u8bba\uff0c\u4ee5\u53ca\u5176\u5b83\u91cd\u8981\u7684\u91d1\u878d\u5b66\u7406\u8bba\uff0c\u5c3d\u7ba1\u5728\u5b66\u672f\u4e0a\u975e\u5e38\u6210\u529f\uff08\u83b7\u5f97\u4e86\u8bfa\u5956\uff09\uff0c\u4f46\u6211\u4eec\u4e5f\u8981\u6ce8\u610f\uff0c\u5b83\u4eec\u8fc7\u4e8e\u7cbe\u5de7\u7684\u7406\u8bba\u67b6\u6784\uff0c\u5f80\u5f80\u662f\u8131\u79bb\u5b9e\u9645\u7684\uff0c\u4e5f\u56e0\u800c\u4e0d\u88ab\u5728\u5b9e\u8df5\u4e2d\u83b7\u5f97\u4f1f\u5927\u6210\u529f\u7684\u90a3\u4e9b\u6295\u8d44\u5927\u5e08\u6240\u770b\u91cd -- \u6bd4\u5982\u67e5\u7406.\u8292\u683c\u5c31\u7279\u522b\u770b\u4e0d\u4e0a\u6709\u6548\u5e02\u573a\u5047\u8bf4\u548c\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u3002</p> <p>\u5728\u7a77\u67e5\u7406\u5b9d\u5178\u4e2d\uff0c\u4ed6\u8fd9\u6837\u5199\u5230\uff1a</p> <p>Quote</p> <p>Beta \u7cfb\u6570\u3001\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u7b49\u7b49\u2014\u2014\u8fd9\u4e9b\u5728\u6211\u770b\u6765\u90fd\u6ca1\u4ec0\u4e48\u9053\u7406\u3002\u6211\u4eec\u60f3\u8981\u505a\u5230\u7684\u662f\uff0c\u7528\u4f4e\u5ec9\u7684\u4ef7\u683c\uff0c\u751a\u81f3\u662f\u5408\u7406\u7684\u4ef7\u683c\uff0c\u6765\u8d2d\u4e70\u90a3\u4e9b\u62e5\u6709\u53ef\u6301\u7eed\u7ade\u4e89\u4f18\u52bf\u7684\u4f01\u4e1a\u3002</p> <p>\u5927\u5b66\u6559\u6388\u600e\u4e48\u53ef\u4ee5\u6563\u64ad\u8fd9\u79cd\u65e0\u7a3d\u4e4b\u8c08\uff08\u80a1\u4ef7\u6ce2\u52a8\u662f\u8861\u91cf\u98ce\u9669\u7684\u5c3a\u5ea6\uff09\u5462\uff1f\u51e0\u5341\u5e74\u6765\uff0c\u6211\u4e00\u76f4\u90fd\u5728\u7b49\u5f85\u8fd9\u79cd\u80e1\u8a00\u4e71\u8bed\u7ed3\u675f\u3002\u73b0\u5728\u8fd9\u6837\u4e71\u8bb2\u7684\u4eba\u5c11\u4e86\u4e00\u4e9b\uff0c\u4f46\u8fd8\u662f\u6709\u3002</p> <p>\u987a\u4fbf\u8bf4\u4e00\u58f0\uff0c\u6211\u7ed9\u90a3\u4e9b\u4fe1\u5949\u6781\u7aef\u7684\u6709\u6548\u5e02\u573a\u7406\u8bba\u7684\u4eba\u53d6\u4e86\u4e2a\u540d\u5b57 -- \u53eb\u505a\u201c\u795e\u7ecf\u75c5\u201d\u3002\u90a3\u662f\u4e00\u79cd\u903b\u8f91\u4e0a\u81ea\u6d3d\u7684\u7406\u8bba\uff0c\u8ba9\u4ed6\u4eec\u80fd\u591f\u505a\u51fa\u6f02\u4eae\u7684\u6570\u5b66\u9898\u3002\u6240\u4ee5\u6211\u60f3\uff0c\u8fd9\u79cd\u7406\u8bba\u5bf9\u90a3\u4e9b\u6709\u5f88\u9ad8\u6570\u5b66\u624d\u534e\u7684\u4eba\u975e\u5e38\u6709\u5438\u5f15\u529b\u3002\u53ef\u662f\u5b83\u7684\u57fa\u672c\u5047\u8bbe\u548c\u73b0\u5b9e\u751f\u6d3b\u5e76\u4e0d\u76f8\u7b26\u3002</p> <p>\u4ed6\u8fd8\u63d0\u5230\uff0c\u8fd9\u4f4d\u4e16\u754c\u4e0a\u6700\u4f1f\u5927\u7684\u7ecf\u6d4e\u5b66\u5bb6\u4e4b\u4e00\uff0c\u7adf\u7136\u662f\u4f2f\u514b\u5e0c\u5c14\u00b7\u54c8\u6492\u97e6\u7684\u5927\u80a1\u4e1c\uff0c\u81ea\u4ece\u5df4\u83f2\u7279\u638c\u7ba1\u4f2f\u514b\u5e0c\u5c14\u4e4b\u540e\u4e0d\u4e45\uff0c\u4ed6\u5c31\u5f00\u59cb\u6295\u94b1\u8fdb\u6765\u3002\u4ed6\u7684\u6559\u79d1\u4e66\u603b\u662f \u6559\u5bfc\u5b66\u751f\u8bf4\u80a1\u5e02\u662f\u6781\u5176\u6709\u6548\u7387\u7684\uff0c\u6ca1\u6709\u4eba\u80fd\u591f\u6253\u8d25\u5b83\u3002\u4f46\u4ed6\u81ea\u5df1\u7684\u94b1\u5374\u6d41\u8fdb\u4e86\u4f2f\u514b\u5e0c\u5c14\uff0c\u8fd9\u8ba9\u4ed6\u53d1\u4e86\u5927\u8d22\u3002</p> <p>\u5c3d\u7ba1\u5982\u6b64\uff0c\u5b66\u4e60\u8fd9\u4e9b\u7406\u8bba\uff0c\u638c\u63e1\u5b83\u80cc\u540e\u7684\u6570\u5b66\u65b9\u6cd5\u3001\u5de5\u5177\u548c\u601d\u60f3\uff0c\u5bf9\u589e\u5f3a\u6211\u4eec\u7684\u91cf\u5316\u57fa\u672c\u529f\uff0c\u8fd8\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002\u5728\u5b66\u4e60\u6295\u8d44\u7684\u9053\u8def\u4e0a\uff0c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u4e00\u4e2a\u7406\u8bba\u548c\u7cfb\u7edf\uff0c\u53ea\u8981\u4f60\u5b66\u4e60\u4e86\u5b83\u5c31\u80fd\u6218\u80dc\u5e02\u573a\u3002\u53ea\u8981\u4f60\u4e0d\u6253\u7b97\u505a\u8d44\u672c\u5e02\u573a\u91cc\u7684\u9a97\u5b50\uff0c\u4e00\u4e07\u5c0f\u65f6\u5b9a\u5f8b\u5c31\u4ecd\u7136\u5bf9\u4f60\u9002\u7528\u3002\u4ece\u57fa\u7840\u5165\u624b\uff0c\u6784\u5efa\u81ea\u5df1\u7684\u65b9\u6cd5\u8bba\u548c\u6d1e\u5bdf\u5e02\u573a\uff0c\u624d\u80fd\u6811\u7acb\u81ea\u5df1\u7684\u7ade\u4e89\u95e8\u69db\u3002</p> <p>\u8fd9\u4e5f\u662f\u5927\u5bcc\u7fc1\u91cf\u5316\u4ea4\u6613\u8bfe\u7a0b\u5728\u7f16\u64b0\u65f6\u79c9\u6301\u7684\u539f\u5219\u3002\u6211\u4eec\u4e0d\u627f\u8bfa\u6559\u4f1a\u4f60\u9a6c\u4e0a\u53ef\u4ee5\u4e00\u62db\u81f4\u80dc\u7684\u7b56\u7565\uff0c\u76f8\u53cd\u5730\uff0c\u6211\u4eec\u628a\u5e02\u573a\u4e0a\u6d41\u884c\u7684\u91cf\u5316\u5de5\u5177\u3001\u91d1\u878d\u7406\u8bba\u4e00\u4e00\u62c6\u89e3\uff0c\u8fd8\u539f\u6210\u4e00\u4e2a\u4e2a\u9ad8\u590d\u7528\u7684\u77e5\u8bc6\u70b9\uff0c\u7136\u540e\u6309\u7167\u91cf\u5316\u4ea4\u6613\u7684\u5929\u7136\u6d41\u7a0b\u91cd\u65b0\u7ec4\u7ec7\u8d77\u6765\uff0c\u4ece\u800c\u4f7f\u5f97\u5b66\u5458\u6253\u4e0b\u575a\u5b9e\u7684\u91cf\u5316\u57fa\u7840\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_6","title":"\u53c2\u8003\u6587\u732e","text":"<p>Yang (ken) Wu: \u4f7f\u7528Python\u548cR\u8fdb\u884c\u6295\u8d44\u7ec4\u5408\u4f18\u5316 Pyportfolio \u5de5\u5177\u5e93 Pyportfolio cookbook Investopedia: \u4e86\u89e3\u8d44\u672c\u5e02\u573a\u7ebf\u53ca\u5176\u8ba1\u7b97\u65b9\u6cd5 \u666e\u6797\u65af\u987f\u5927\u5b66: \u5747\u503c\u65b9\u5dee\u5206\u6790\u53caCAPM\u5b9a\u4ef7\u6a21\u578b CFA\u6c34\u5e73\u6d4b\u8bd5: The CAL and CML</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/%E5%85%B3%E4%BA%8E%E5%AF%BB%E6%89%BE%E9%A1%B6%E5%92%8C%E5%BA%95%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/","title":"\u5173\u4e8e\u5bfb\u627e\u9876\u548c\u5e95\u7684\u4e00\u4e9b\u601d\u8003","text":"<p>scipy\u5f53\u4e2d\u6709\u4e00\u4e9b\u4fe1\u53f7\u5904\u7406\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u53d1\u73b0\u9876\u548c\u5e95\uff0c\u6bd4\u5982<code>argrelextrema</code>\u3002 \u6bd4\u51fd\u6570\u540d\u4e0a\u770b\uff0c\u8fd9\u662f\u4e00\u4e2a\u5bfb\u627e\u76f8\u5bf9\u6781\u503c\u70b9\u5750\u6807\u7684\u51fd\u6570\u3002\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5b83\u7684\u7528\u6cd5\uff1a</p> <p><pre><code>def bs_signals(bars):\n    from scipy.signal import argrelextrema\n    ma = moving_average(bars[\"close\"], 5)\n\n    peak_indexes = argrelextrema(ma, np.greater)\n    peaks = peak_indexes[0]\n\n    # Find valleys(min).\n    valley_indexes = argrelextrema(ma, np.less)\n    valleys = valley_indexes[0]\n\n    assert abs(len(peaks) - len(valleys)) &lt;= 1\n\n    bars = bars[4:]\n    # Plot main graph.\n    (fig, ax) = plt.subplots()\n    ax.plot(np.arange(len(bars)), bars[\"close\"], color='c')\n    ax.plot(np.arange(len(bars)), ma, color='b')\n\n    # Plot peaks.\n    peak_x = peaks\n    peak_y = bars['close'][peak_x]\n    ax.plot(peak_x, peak_y, 'gv', label=\"Peaks\")\n\n    # Plot valleys.\n    valley_x = valleys\n    valley_y = bars['close'][valley_x]\n    ax.plot(valley_x, valley_y, 'r^', label=\"Valleys\")\n\n    trades = []\n    gains = 1\n    order = None\n\n    vertex = sorted([*peaks, *valleys])\n    for x in vertex:\n        buy = x in valleys\n        sell = x in peaks\n        if buy and order is None:\n            order = {\n                \"buy\": bars[\"close\"][x],\n                \"buy_at\": bars[\"frame\"][x]\n            }\n\n        elif sell and order:\n            buy = order[\"buy\"]\n            sell = bars[\"close\"][x]\n            gain = sell / buy\n            order.update({\n                \"sell\": sell,\n                \"sell_at\": bars[\"frame\"][x],\n                \"gain\": gain\n            })\n\n            gains *= gain\n            trades.append(order)\n            order = None\n\n    return gains - 1, trades\n</code></pre> \u4e0a\u9762\u7684\u51fd\u6570\u4f7f\u7528<code>argrelextrema</code>\u6765\u67e5\u627e\u5747\u7ebf\u7684\u9876\u548c\u5e95\u3002\u8fd9\u91cc\u4f7f\u7528\u5747\u7ebf\uff0c\u662f\u56e0\u4e3a\u5747\u7ebf\u76f8\u5bf9\u5e73\u6ed1\uff0c\u53bb\u9664\u4e86\u4e00\u4e9b\u566a\u97f3\u3002\u8fd9\u91cc\u7684<code>moving_average</code>\u5b9a\u4e49\u4e3a: <pre><code>import numpy as np\ndef moving_average(ts, win):\n    return np.convolve(ts, np.ones(win) / win, mode=\"valid\")\n</code></pre> \u5b83\u4f7f\u7528\u4e86\u5377\u79ef\u6765\u6c42\u7b80\u5355\u79fb\u52a8\u5e73\u5747\u503c\u3002numpy\u7684\u5377\u79ef\u8fd0\u7b97\u901f\u5ea6\u5f88\u5feb\uff0c\u4f46\u5982\u679c\u60f3\u8981\u66f4\u5feb\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u4f7f\u7528bottleneck\u7684<code>move_mean</code>\uff0c\u6700\u9ad8\u53ef\u4ee5\u5feb6000\u591a\u500d\uff08\u53d6\u81ea\u5b98\u65b9\u6587\u6863\uff0c\u4e0d\u4e00\u5b9a\u662f\u548cnp.convolve\u65b9\u6cd5\u6bd4\u8f83\uff09\u3002</p> <p>\u901a\u8fc7\u7ed9<code>argrelextrem</code>\u4f20\u5165\u4e0d\u540c\u7684\u6bd4\u8f83\u51fd\u6570\uff08\u4f8b\u5b50\u4e2d\u662f<code>np.less</code>\u548c<code>np.greater</code>)\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u67e5\u627e\u6781\u5927\u503c\u548c\u6781\u5c0f\u503c\uff0c\u8bb0\u4e3apeaks\u548cvalleys\u3002</p> <p>\u7136\u540e\u6211\u4eec\u628a\u5747\u7ebf\u3001\u6536\u76d8\u4ef7\u7ebf\u548c\u6781\u503c\u70b9\u753b\u5728\u540c\u4e00\u4e2a\u56fe\u4e0a\u3002\u6700\u540e\uff0c\u6211\u4eec\u5047\u8bbe\u5728\u4f4e\u70b9\u4e70\u5165\uff0c\u5728\u9ad8\u70b9\u5356\u51fa\uff0c\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u7b56\u7565\u7684\u6536\u76ca\u3002</p> <p>\u4e0b\u56fe\u662f\u6211\u4eec\u4ee5\u4e1c\u65b9\u7535\u6c142021\u5e7411\u67082\u65e5\u4e3a\u6b62\u70b9\uff0c\u5bf960\u4e2a\u4ea4\u6613\u65e5\u5185\u8fdb\u884c\u4fe1\u53f7\u53d1\u73b0\u7684\u7ed3\u679c\uff1a </p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u4ec5\u4ec5\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\uff0c<code>argrelextrem</code>\u5c31\u80fd\u8f83\u597d\u5730\u53d1\u73b0\u9876\u548c\u5e95\u3002\u6211\u4eec\u5f97\u5230\u7684\u6700\u7ec8\u6536\u76ca\u662f35%\uff0c\u800c\u540c\u671f\u8be5\u80a1\u5b9e\u9645\u4e0a\u662f\u4e0d\u6da8\u4e0d\u8dcc\u3002</p> <p>\u975e\u5e38\u60ca\u4eba\uff0cjust too good to be true.</p> <p>\u90a3\u4e48\u5012\u5e95\u54ea\u91cc\u9519\u4e86\uff1f</p> <p>\u539f\u56e0\u51fa\u5728<code>argrelextrem</code>\u7684\u5de5\u4f5c\u65b9\u5f0f\u3002\u5b83\u53ea\u6709\u5728\u80a1\u4ef7\u5df2\u7ecf\u5411\u4e0b\u8d70\u65f6\uff0c\u624d\u80fd\u68c0\u6d4b\u51fa\u4e00\u4e2a\u9876\u70b9\u5df2\u7ecf\u5b58\u5728\u3002\u8fd9\u662f\u4e00\u4e2a\u672a\u6765\u51fd\u6570\u3002\u5b83\u610f\u5473\u7740\uff0c\u53ea\u6709\u5728\u660e\u5929\u624d\u53ef\u80fd\u8bc6\u522b\u51fa\u4eca\u5929\u5e94\u8be5\u53d1\u51fa\u7684\u4fe1\u53f7\u3002\u4f46\u6211\u4eec\u4e0d\u53ef\u80fd\u8fd4\u56de\u6628\u5929\u6765\u5b8c\u6210\u4ea4\u6613\u3002</p> <p>\u4e3a\u4e86\u8fdb\u4e00\u6b65\u9a8c\u8bc1\u4e0a\u8ff0\u89c2\u70b9\uff0c\u6211\u4eec\u53d62021\u5e749\u67083\u65e5\u524d\u540e\u7684\u4e24\u5f20\u56fe\u6765\u5bf9\u6bd4\uff1a  \u4e0a\u56fe\u662f\u622a\u6b629\u67083\u65e5\u7684\u56fe\u3002\u4ece\u540e\u9762\u7684\u7ed3\u679c\u6765\u770b\uff0c<code>argrelextrem</code>\u5e94\u8be5\u5728\u8fd9\u4e00\u5929\u6807\u6ce8\u51fa\u4e00\u4e2a\u5e95\u70b9\u3002\u4f46\u662f\u5b83\u5e76\u6ca1\u6709\u3002  \u4e0a\u56fe\u7684\u65f6\u95f4\u662f9\u67086\u65e5\uff0c\u8fd9\u6b21\u5b83\u6807\u6ce8\u51fa\u6765\u4e00\u4e2a\u5e95\u70b9\uff0c\u4f46\u662f\u6807\u6ce8\u5728\u524d\u4e00\u5929\u3002</p> <p>\u7531\u4e8e\u5747\u503c\u7ebf\u4f7f\u7528\u7684\u662f\u6536\u76d8\u4ef7\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u53ea\u6709\u57289\u67086\u65e5\u6536\u76d8\u540e\uff0c\u6211\u4eec\u624d\u80fd\u8bc6\u522b9\u67083\u65e5\u662f\u4e00\u4e2a\u4f4e\u70b9\u3002\u5982\u679c\u8fd9\u65f6\u6211\u4eec\u63099\u67086\u65e5\u7684\u6536\u76d8\u4ef7\uff08\u5b9e\u9645\u4ea4\u6613\u8fd8\u8981\u665a\u4e00\u70b9\uff0c\u53ea\u80fd\u4f7f\u7528\u7b2c\u4e8c\u5929\u7684\u5f00\u76d8\u4ef7\uff09\u6765\u4e70\u5165\uff0c\u60c5\u51b5\u4f1a\u5982\u4f55\uff1f</p> <p>\u6211\u4eec\u628a\u4e0a\u9762\u7684\u65b9\u6cd5\u4e2d\uff0c\u4e70\u5356\u4ef7\u90fd\u987a\u5ef6\u4e00\u5929\uff0c\u5f97\u5230\u7684\u6536\u76ca\u7387\u662f-13%\u3002\u5982\u679c\u6211\u4eec\u5728\u8d77\u70b9\u65f6\uff0c\u4ee5\u5f00\u76d8\u4ef7\u4e70\u5165\uff0c\u5728\u7ec8\u70b9\u4ee5\u6536\u76d8\u4ef7\u5356\u51fa\uff0c\u5219\u8fd8\u53ef\u4ee5\u6536\u76ca8.4%\u3002\u5728\u52a8\u7528\u9ad8\u5927\u4e0a\u7684\u6570\u5b66\u65b9\u6cd5\u540e\uff0c\u6210\u529f\u5730\u4e8f\u6389\u4e8621%\u3002\u8fd9\u91cc\u6211\u4eec\u53d6\u5f97\u662f5\u65e5\u5747\u7ebf\u3002\u53d610\u65e5\u3001\u6216\u80053\u65e5\uff0c\u90fd\u9003\u4e0d\u6389\u4e8f\u635f\u7684\u547d\u8fd0\u3002</p> <p>\u7406\u60f3\u662f\u7f8e\u597d\u7684\uff0c\u73b0\u5b9e\u662f\u6b8b\u9177\u7684\u3002</p> <p>\u7136\u800c\u3002\u3002\u3002</p> <p>\u8001\u80a1\u6c11\u5f88\u5bb9\u6613\u89c2\u5bdf\u5230\uff0c\u5728\u4f4d\u7f6e5\u9644\u8fd1\uff0c\u80a1\u4ef7\u5df2\u7ecf\u6ede\u6da8\u597d\u51e0\u5929\u4e86\uff0c\u5747\u7ebf\u4e5f\u5728\u8d70\u5e73\u3002\u6709\u53e5\u80a1\u8c1a\uff0c\u4e09\u5929\u4e0d\u521b\u65b0\u9ad8\u5c31\u8981\u629b\uff08\u8fd9\u662f\u5bf9\u8fd0\u505a\u5f3a\u52bf\u80a1\u800c\u8a00\uff09\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u5982\u679c\u4e09\u5929\u4e0d\u521b\u65b0\u9ad8\uff0c\u5219\u5747\u7ebf\u5c31\u4f1a\u8c61\u4e0a\u56fe\u4e2d\u4f4d\u7f6e5\u9644\u8fd1\u4e00\u6837\u8d70\u5e73\uff0c\u63a5\u4e0b\u6765\u65e2\u53ef\u80fd\u7a81\u7834\u5e73\u53f0\u5f00\u542f\u7b2c\u4e8c\u6d6a\uff0c\u4e5f\u53ef\u80fd\u4e0b\u8dcc\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u7b56\u7565\u53ef\u4ee5\u662f\u8fd9\u6837\uff0c\u901a\u8fc7\u7b97\u6cd5\u68c0\u6d4b\u5230\u5747\u7ebf\u8d70\u5e73\uff0c\u53d1\u51fa\u9884\u8b66\uff08\u6b64\u65f6\u53ef\u4ee5\u90e8\u5206\u51cf\u4ed3\uff09\uff0c\u7b49\u5f85\u660e\u786e\u7684\u4fe1\u53f7\u518d\u51b3\u5b9a\u662f\u5426\u6e05\u4ed3\uff08\u53cd\u4e4b\u5219\u662f\u4e70\u5165\uff09\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u80fd\u5728<code>argrelextrem</code>\u524d\u4e00\u5929\u53d1\u73b0\u8d70\u5e73\u7684\u4fe1\u53f7\u3002\u5982\u679c\u6b64\u65f6\u5904\u4e8e\u9ad8\u4f4d\uff0c\u5219\u5356\u51fa\u4e00\u534a\uff0c\u5f85<code>argrelextrem</code>\u62a5\u51fa\u4fe1\u53f7\u540e\uff0c\u518d\u5356\u51fa\u5168\u90e8\u4ed3\u4f4d\u3002\u8fd9\u6837\uff0c\u4e0a\u9762\u51fd\u6570\u7684\u5f00\u4ed3\u3001\u5e73\u4ed3\u90e8\u5206\u5c31\u6539\u4e3a\uff1a <pre><code>if buy and order is None:\n    order = {\n        \"buy\": close[x] * 0.5 + close[x+1] * 0.5,\n        \"buy_at\": bars[\"frame\"][x+1]\n    }\n\nelif sell and order:\n    buy = order[\"buy\"]\n    sell = close[x+1] * 0.5 + close[x] * 0.5,\n    gain = sell / buy\n    order.update({\n        \"sell\": sell,\n        \"sell_at\": bars[\"frame\"][x+1],\n        \"gain\": gain\n    })\n</code></pre> \u8fd9\u6837\u6211\u4eec\u5f97\u5230\u7684\u6536\u76ca\u662f5%\u3002\u867d\u7136\u4e0d\u5982\u4e70\u5165\u5e76\u6301\u6709\u597d\uff0c\u4f46\u6bd5\u7adf\u8fd9\u662f\u6211\u4eec\u51ed\u5b9e\u529b\u6323\u7684\u94b1\uff0c\u800c\u4e0d\u662f\u9760\u8d4c\u8fd0\u6c14\u3002\u6240\u4ee5\u8fd9\u4e2a\u6536\u76ca\u53ef\u91cd\u590d\u3002</p> <p>\u73b0\u5728\uff0c\u95ee\u9898\u5c31\u53d8\u6210\u4e86\uff0c\u5982\u4f55\u68c0\u6d4b\u5747\u7ebf\u8d70\u5e73\uff1f\u8fd9\u4e2a\u95ee\u9898\u56de\u7b54\u8d77\u6765\u4e5f\u5e76\u4e0d\u90a3\u4e48\u5bb9\u6613\u3002\u4e0d\u8fc7\u6211\u4eec\u5148\u6765\u770b\u770b\u8fd9\u91cc\u7684\u68c0\u6d4b\u5cf0\u548c\u8c37\u7684\u65b9\u6cd5\u7684\u5b9e\u9645\u4f5c\u7528\u3002</p> <p>\u4ece\u4e0a\u9762\u7684\u5206\u6790\u53ef\u4ee5\u770b\u51fa\uff0c\u5cf0\u548c\u8c37\u7684\u68c0\u6d4b\u662f\u540e\u9a8c\u7684\uff0c\u5373\u53ea\u6709\u5f53\u5cf0\u548c\u8c37\u5df2\u7ecf\u8d70\u51fa\u6765\uff0c\u4e0a\u9762\u7684\u7b97\u6cd5\u624d\u80fd\u68c0\u6d4b\u5230\u3002\u867d\u7136\u5b83\u5bf9\u6295\u8d44\u53ef\u80fd\u6ca1\u6709\u76f4\u63a5\u7684\u6307\u5bfc\u610f\u4e49\uff0c\u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u5b83\u6765\u6807\u6ce8\u6570\u636e\uff0c\u4ee5\u4f9b\u673a\u5668\u5b66\u4e60\u4f7f\u7528\u3002</p> <p>\u4e0b\u56fe\u663e\u793a\u4e86\u4f7f\u7528\u4e0a\u8ff0\u65b9\u6cd5\uff0c\u5bf9\u4e0a\u8bc1\u6307\u6570\u4e00\u6bb5\u65f6\u95f4\u7684\u5cf0\u548c\u8c37\u8fdb\u884c\u6807\u6ce8\u7684\u7ed3\u679c\uff1a </p> <p>\u6211\u4eec\u5148\u662f\u4f7f\u7528\u5747\u7ebf\u5bf9\u6ce2\u52a8\u8fdb\u884c\u5e73\u6ed1\uff0c\u7136\u540e\u901a\u8fc7argrelextrem\u8fdb\u884c\u5cf0\u548c\u8c37\u7684\u68c0\u6d4b\uff0c\u7136\u540e\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u5bf9\u5cf0\u548c\u8c37\u8fdb\u884c\u4e00\u4e9b\u5c0f\u7684\u4fee\u6b63\uff0c\u4f7f\u4e4b\u4e0e\u80a1\u4ef7\u3001\u800c\u4e0d\u662f\u5747\u7ebf\u5bf9\u9f50\u3002\u6211\u4eec\u91c7\u7528\u6caa\u6307\u8fc7\u53bb6\u5e74\u768430\u5206\u949f\u7ebf\uff0c\u5171\u53d1\u73b0734\u4e2a\u9876\u70b9\u548c738\u4e2a\u5e95\u70b9\uff0c\u5236\u4f5c\u6210\u4e3a\u6807\u6ce8\u6570\u636e\u3002</p> <p>\u6709\u4e86\u8fd9\u4e9b\u6807\u6ce8\u6570\u636e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8bad\u7ec3\u548c\u68c0\u9a8c\u81ea\u5df1\u7684\u673a\u5668\u5b66\u4e60\u6a21\u578b\u4e86\u3002\u51fa\u4eba\u610f\u6599\u7684\u662f\uff0c\u6570\u636e\u91cf\u5e76\u4e0d\u5927\u3002\u8fd9\u4e5f\u8bf4\u660e\u5728A\u80a1\u5e02\u573a\u4e0a\uff0c\u8d8b\u52bf\u4e00\u65e6\u5f62\u6210\uff0c\u5f80\u5f80\u8fd8\u80fd\u6301\u7eed\u4e00\u6bb5\u65f6\u95f4\u3002\u8fd9\u4e5f\u662f\u91cf\u5316\u6a21\u578b\u80fd\u591f\u6709\u7528\u6b66\u4e4b\u5730\u7684\u4e00\u4e2a\u6ce8\u811a\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/","title":"\u91cf\u5316\u5b9e\u76d8\u63a5\u5165\u65b9\u5f0f","text":""},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#easytrader","title":"Easytrader","text":"<p>Easytrader\u662f\u4e00\u4e2a\u901a\u8fc7\u6a21\u62df\u952e\u9f20\u4e8b\u4ef6\uff0c\u64cd\u4f5c\u5238\u5546\u5ba2\u6237\u7aef\u6765\u5b9e\u73b0\u4ea4\u6613\u529f\u80fd\u7684\u4ea4\u6613\u4ee3\u7406\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e2d\uff0ceasytrader\u63d0\u4f9b\u4e86buy, sell\u7b49\u4ea4\u6613API\uff0c\u7b56\u7565\u8c03\u7528\u8fd9\u4e9bAPI\uff0ceasytrader\u628a\u5b83\u8f6c\u5316\u6210\u5bf9\u5238\u5546\u4ea4\u6613\u5ba2\u6237\u7aef\u7684\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6\uff0c\u6700\u7ec8\u5b8c\u6210\u4ea4\u6613\u3002 \u7279\u70b9\u662f\u63a5\u5165\u4e0d\u9700\u8981\u7533\u8bf7\uff0c\u652f\u6301\u7684\u5238\u5546\u8f83\u591a\uff08\u9664\u534e\u6cf0\u3001\u6d77\u901a\u3001\u56fd\u91d1\u5916\uff0c\u5176\u5b83\u7684\u53ef\u4ee5\u901a\u8fc7\u540c\u82b1\u987a\u6765\u63a5\u5165\uff09\u3002\u4f46\u7531\u4e8e\u662f\u6a21\u62df\u952e\u9f20\u4e8b\u4ef6\u6765\u64cd\u4f5cGUI\uff0c\u6240\u4ee5\u5b58\u5728\u7a33\u5b9a\u6027\u8f83\u5dee\u3001\u54cd\u5e94\u901f\u5ea6\u6162\u7684\u95ee\u9898\u3002 \u5982\u679c\u4e00\u5b9a\u8981\u901a\u8fc7\u5b83\u6765\u8fdb\u884c\u5b9e\u76d8\uff0c\u9700\u8981\u627e\u4e00\u53f0\u6027\u80fd\u8f83\u597d\u7684\u72ec\u7acb\u7684\u7269\u7406\u673a\uff0c\u53ea\u5b89\u88c5\u5238\u5546\u7684\u4ea4\u6613\u5ba2\u6237\u7aef\u548cEasytrader, Easytrader\u4ee5\u670d\u52a1\u5668\u6a21\u5f0f\u8fd0\u884c\uff0c\u518d\u5728\u7b56\u7565\u7aef\uff0c\u4f7f\u7528easytrader\u7684remote client\u8fde\u63a5\u8fc7\u53bb\uff0c\u5e73\u65f6\u4e0d\u64cd\u4f5c\u8fd9\u53f0\u7269\u7406\u673a\uff0c\u4ee5\u540d\u5bf9easytrader\u7684\u64cd\u4f5c\u9020\u6210\u5e72\u6270\u3002 \u6b64\u5916\uff0c\u8fd8\u5e94\u8be5\u5173\u95ed\u8be5\u673a\u5668\u4e0a\u7684\u81ea\u52a8\u66f4\u65b0\u7b49\u529f\u80fd\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#ptrade","title":"\u6052\u751f\u7535\u5b50Ptrade","text":"<p>Ptrade\u662f\u6052\u751f\u7535\u5b50\u5f00\u53d1\u7684\u91cf\u5316\u5e73\u53f0\u3002\u5b98\u65b9\u6709\u4e00\u4e2a\u89c6\u9891\u6559\u7a0b\uff0c\u514d\u8d39\u6ce8\u518c\u540e\u53ef\u6536\u770b\u3002\u5728\u6211\u7684\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u7f16\u7a0b\u5b9e\u6218\u300b\u8bfe\u7a0b\u4e2d\u4e5f\u6709\u4ecb\u7ecd\u3002 \u5b83\u7684\u8fd0\u884c\u65b9\u5f0f\u662f\u5238\u5546\u6258\u7ba1\u5f0f\u3002\u5238\u5546\u91c7\u8d2dPtrade\u8f6f\u4ef6\uff0c\u8fdb\u884c\u4e00\u4e9b\u5b9a\u5236\u5316\u540e\uff0c\u63d0\u4f9b\u7ed9\u81ea\u5df1\u7684\u5ba2\u6237\u4f7f\u7528\u3002 \u7528\u6237\u4f7f\u7528Ptrade\u7b56\u7565\u7f16\u8f91\u5668\u751f\u6210\u81ea\u5df1\u7684\u7b56\u7565\uff0c\u56de\u6d4b\u901a\u8fc7\u540e\uff0c\u4e0a\u4f20\u5230\u5238\u5546\u673a\u623f\u8fd0\u884c\u3002\u8fd9\u79cd\u63a5\u5165\u65b9\u5f0f\u4e2d\uff0c\u5238\u5546\u63d0\u4f9bpython\u7248\u672c\u7684sdk\uff0c\u901a\u8fc7sdk\u4e2d\u7684\u4ea4\u6613API\u6765\u8fdb\u884c\u4e0b\u5355\u3002 \u6258\u7ba1\u6a21\u5f0f\u4e0b\uff0c\u4e00\u822c\u4e0d\u80fd\u8bbf\u95ee\u4e92\u8054\u7f51\u3001\u65e0\u6cd5\u66f4\u65b0Python\u53ca\u4f9d\u8d56\u5e93\u7684\u7248\u672c\uff0c\u4e0d\u80fd\u81ea\u884c\u5b89\u88c5\u8f6f\u4ef6\u3002\u91cf\u5316\u7b56\u7565\u4e0e\u4ea4\u6613API\u3001\u6570\u636e\u83b7\u53d6API\u7b49\u7d27\u5bc6\u8026\u5408\uff0c\u5982\u679c\u540e\u671f\u60f3\u66f4\u6362\u5238\u5546\uff0c\u6210\u672c\u8f83\u9ad8\u3002\u56e0\u4e3a\u4e0d\u80fd\u81ea\u884c\u5b89\u88c5\u8f6f\u4ef6\u548c\u5e93\uff0c\u56e0\u6b64\u96be\u4ee5\u5229\u7528\u8f83\u65b0\u7684\u7b2c\u4e09\u65b9\u7b97\u6cd5\u3002\u5982\u679c\u4f7f\u7528\u4e86\u673a\u5668\u5b66\u4e60\u3001\u5f3a\u5316\u5b66\u4e60\u7b49\u4eba\u5de5\u667a\u80fd\u7b97\u6cd5\uff0c\u8fd9\u4e9b\u5e93\u4e0d\u4e00\u5b9a\u5728\u5238\u5546\u63d0\u4f9b\u7684\u73af\u5883\u4e0b\u6709\uff0c\u5373\u4f7f\u6709\u7684\u8bdd\uff0c\u7248\u672c\u5f88\u53ef\u80fd\u8ddf\u6211\u4eec\u5e38\u7528\u7684\u4e0d\u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u80fd\u6ca1\u6709GPU\u53ef\u7528\u3002 \u4f18\u70b9\u662f\u884c\u60c5\u901f\u5ea6\u66f4\u5feb\uff0c\u7701\u53bb\u4e86\u673a\u623f\u7ef4\u62a4\u5de5\u4f5c\u3002 Ptrade\u8f6f\u4ef6\u7f51\u4e0a\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u9700\u8981\u627e\u5238\u5546\u5de5\u4f5c\u4eba\u5458\u5f00\u6237\u540e\u83b7\u53d6\uff0c\u5e76\u4e14\u4e00\u822c\u8981\u6ee1\u8db330\u4e07\u8d44\u91d1\u95e8\u69db\u624d\u80fd\u5f00\u901a\u5b9e\u76d8\u3002\u76ee\u524d\u53ef\u4ee5\u5411\u56fd\u91d1\u3001\u56fd\u76db\u3001\u56fd\u5143\u3001\u5b89\u4fe1\u3001\u4e1c\u839e\u7b49\u5238\u5546\u7533\u8bf7\u5f00\u901aPtrade\u3002\u5982\u679c\u6709\u8c03\u4f63\uff08\u53ef\u4ee5\u505a\u5230\u4e07\u4e00\u514d\u4e94\uff09\u548c\u8d44\u91d1\u95e8\u69db\u8981\u6c42\uff08\u53ef\u4ee5\u505a\u5230\u6700\u4f4e\u4e24\u4e07\uff09\u7684\uff0c\u4e5f\u53ef\u4ee5\u627e\u6211\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#qmt","title":"QMT","text":"<p>\u8baf\u6295QMT\u7531\u5317\u4eac\u777f\u667a\u878d\u79d1\u5f00\u53d1\u3002\u4e0ePtrade\u4e00\u6837\uff0c\u5b83\u4e5f\u662f\u7531\u5238\u5546\u91c7\u8d2d\u5b9a\u5236\u540e\uff0c\u63d0\u4f9b\u7ed9\u81ea\u5df1\u7684\u5ba2\u6237\u4f7f\u7528\u7684\u3002\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u5b83\u662f\u672c\u5730\u8fd0\u884c\u6a21\u5f0f\uff0c\u7b56\u7565\u5b89\u5168\u6027\u66f4\u597d\u4e00\u70b9\u3002 QMT\u63d0\u4f9b\u4e86\u4e24\u79cd\u4ea4\u6613\u63a5\u5165\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u6587\u4ef6\u626b\u5355\u6a21\u5f0f\uff0c\u4e00\u79cd\u662fAPI\u5f0f\u3002\u540e\u8005\u9700\u8981\u5728QMT\u5e73\u53f0\u91cc\u7f16\u5199\u7b56\u7565\u5e76\u8fd0\u884c\uff0c\u5bf9Python\u7248\u672c\u548c\u53ef\u8fd0\u884c\u5e93\u6709\u4e00\u5b9a\u9650\u5236\uff08\u4f46\u53ef\u4ee5\u901a\u8fc7\u767d\u540d\u5355\u589e\u52a0\u65b0\u7684\u7b2c\u4e09\u65b9\u5e93\uff09\u3002 \u6587\u4ef6\u626b\u5355\u6a21\u5f0f\u5219\u6ca1\u6709\u4e0a\u8ff0\u9650\u5236\u3002 QMT\u8f6f\u4ef6\u7f51\u4e0a\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u9700\u8981\u627e\u5238\u5546\u5de5\u4f5c\u4eba\u5458\u5f00\u6237\u540e\u83b7\u53d6\uff0c\u76ee\u524d\u53ef\u4ee5\u5411\u56fd\u91d1\u3001\u56fd\u76db\u3001\u56fd\u5143\u3001\u5b89\u4fe1\u3001\u4e1c\u839e\u7b49\u5238\u5546\u7533\u8bf7\u5f00\u901a\u3002\u5982\u679c\u6709\u8c03\u4f63\uff08\u53ef\u4ee5\u505a\u5230\u4e07\u4e00\u514d\u4e94\uff09\u548c\u8d44\u91d1\u95e8\u69db\u8981\u6c42\uff08\u53ef\u4ee5\u505a\u5230\u6700\u4f4e\u4e24\u4e07\uff09\u7684\uff0c\u8bf7\u8054\u7cfb\u6211\u4eec\u3002\u8054\u7cfb\u65b9\u5f0f\u5728\u9875\u5c3e\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#emc","title":"\u4e1c\u8d22EMC","text":"<p>\u4e1c\u65b9\u8d22\u5bccEMC\uff0c\u5f00\u6237\u95e8\u69db\u4e3a100\u4e07\u8d44\u91d1\u3002\u9700\u8981\u52a0\u5165\u5b83\u7684\u5b98\u65b9\u91cf\u5316\u6280\u672f\u652f\u6301\u7fa4\u7533\u8bf7\u5f00\u901a\u3002\u5b83\u63d0\u4f9bAPI\u4ea4\u6613\u548c\u672c\u5730\u6587\u4ef6\u626b\u5355\u4e24\u79cd\u65b9\u5f0f\u3002 \u672c\u5730\u6587\u4ef6\u626b\u5355\u65b9\u5f0f\u54cd\u5e94\u901f\u5ea6\u572810ms\u4ee5\u5185\u3002\u4e0e\u91cf\u5316\u7a0b\u5e8f\u6ca1\u6709\u8026\u5408\uff0c\u56e0\u6b64\u91cf\u5316\u7a0b\u5e8f\u53ef\u4ee5\u8fd0\u884c\u5728\u4efb\u4f55\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7684Python\u7248\u672c\u548c\u7b2c\u4e09\u65b9\u5e93\u3002 \u4f46\u662f\u7528\u6237\u9700\u8981\u81ea\u5df1\u5c06\u4ea4\u6613\u6307\u4ee4\uff08\u6bd4\u5982buy, sell\u7b49\uff09\u8f6c\u6362\u6210\u4e3a\u6587\u4ef6\u5355\u683c\u5f0f\uff0c\u5e76\u4e14EMC\u5bf9\u59d4\u6258\u7684\u7ed3\u679c\u4e5f\u662f\u4ee5csv\u65b9\u5f0f\u8fd4\u56de\uff0c\u4e5f\u9700\u8981\u7528\u6237\u81ea\u5df1\u89e3\u6790\u3002 gmadaptor\u63d0\u4f9b\u4e86\u8fd9\u79cd\u5c01\u88c5\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u5b83\u8fd8\u5c06\u81ea\u5df1\u5c01\u88c5\u6210\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u56e0\u6b64\u91cf\u5316\u7b56\u7565\u53ef\u4ee5\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u673a\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff08EMC\u53ea\u80fd\u8fd0\u884c\u5728Windows\u4e0a\uff09\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#_1","title":"\u5176\u5b83\u63a5\u5165\u65b9\u5f0f","text":"<p>\u5176\u5b83\u8fd8\u6709\u534e\u6cf0MATIC\uff0c\u9700\u8981\u627e\u534e\u6cf0\u8bc1\u5238\u5f00\u901a\uff0c\u8fd9\u4e2a\u8d44\u91d1\u95e8\u69db\u6bd4\u8f83\u9ad8\uff0c\u9700\u89811000\u4e07\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#_2","title":"\u53c2\u8003\u8d44\u6e90","text":"<p>\u5982\u679c\u6709\u9700\u8981\u5b66\u4e60Easytrader, Ptrade, QMT\u548c\u4e1c\u8d22EMC\u7684\uff0c\u76f8\u5173\u5b66\u4e60\u8d44\u6599\uff0c\u8bf7\u89c1\u4e0b\u65b9\u8054\u7cfb\u65b9\u5f0f\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#_3","title":"\u8054\u7cfb\u65b9\u5f0f","text":"\u5bbd\u7c89\uff08\u8bfe\u7a0b\u54a8\u8be2\uff09 \u516c\u4f17\u53f7"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/","title":"\u91cf\u5316\u6570\u636e\u7684\u6301\u4e45\u5316\u65b9\u6848","text":"<p>\u56de\u6d4b\u9700\u8981\u8f83\u957f\u5468\u671f\u7684\u6570\u636e\u3002\u65e0\u8bba\u6211\u4eec\u4f7f\u7528\u54ea\u4e00\u5bb6\u6570\u636e\u6e90\uff0c\u90fd\u4e0d\u53ef\u80fd\u8ba9\u6211\u4eec\u8de8\u7f51\u7edc\u3001\u53cd\u590d\u591a\u6b21\u4f20\u8f93\u5927\u91cf\u6570\u636e\uff0c\u8fd8\u8981\u4fdd\u8bc1\u4f4e\u5ef6\u65f6\u3002\u6b64\u5916\uff0c\u6211\u4eec\u5728\u91cf\u5316\u7814\u7a76\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u4f1a\u9010\u6b65\u79ef\u7d2f\u81ea\u5df1\u7684\u56e0\u5b50\u5e93\u3002\u8fd9\u4e9b\u56e0\u5b50\u6570\u636e\uff0c\u751a\u81f3\u6bd4\u539f\u59cb\u6570\u636e\u7684\u91cf\u8fd8\u8981\u5927\u3002\u6bd4\u5982\uff0c\u901a\u8fc7TA\u8fd9\u4e2a\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u4e00\u6b21\u63d0\u53d6\u51fa86\u4e2a\u5de6\u53f3\u7684\u6280\u672f\u6307\u6807\u56e0\u5b50\uff0c\u8fd9\u5c06\u662f\u540c\u9891\u7387OHLC\u6570\u636e\u768410\u500d\u4e4b\u591a\u3002\u56e0\u6b64\uff0c\u5982\u4f55\u9ad8\u6548\u7387\u5730\u5b58\u50a8\u548c\u68c0\u7d22\uff0c\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u6709\u6311\u6218\u6027\u7684\u95ee\u9898\u3002</p> <p>\u672c\u7cfb\u5217\u6211\u4eec\u5c06\u8003\u5bdf\u4e00\u4e9b\u6d41\u884c\u7684\u6280\u672f\u65b9\u6848\uff0c\u6bd4\u5982\u5173\u7cfb\u578b\u6570\u636e\u5e93\u3001\u65f6\u5e8f\u6570\u636e\u5e93\u3001\u57fa\u4e8e\u6587\u4ef6\u5b58\u50a8\u7684\u65b9\u6848\u3001\u57fa\u4e8e\u5217\u7684\u6570\u636e\u5e93\u548c\u5206\u5e03\u5f0f\u65b9\u6848\u7b49\u3002\u5f88\u96be\u8bf4\u54ea\u4e00\u79cd\u6280\u672f\u4f1a\u7edd\u5bf9\u80dc\u51fa\uff0c\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u6211\u4eec\u7684\u8bc4\u4f30\u548c\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u9009\u62e9\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#_1","title":"\u6211\u4eec\u9700\u8981\u4ec0\u4e48\u6837\u7684\u6570\u636e\u5904\u7406\u80fd\u529b\uff1f","text":"<p>\u91cf\u5316\u6570\u636e\u4e3b\u8981\u662f\u884c\u60c5\u6570\u636e\uff08\u4ee5\u53ca\u7531\u6b64\u884d\u751f\u51fa\u6765\u7684\u56e0\u5b50\u6570\u636e\uff09\u3001\u8d22\u62a5\uff08\u4ee5\u53ca\u7531\u6b64\u884d\u751f\u51fa\u6765\u7684\u56e0\u5b50\u6570\u636e\uff09\u3001\u4ea4\u6613\u8bb0\u5f55\u7b49\u3002\u56e0\u6b64\uff0c\u5b83\u5177\u6709\u6d77\u91cf\u548cPIT\u7684\u4e3b\u8981\u7279\u6027\u3002\u540c\u65f6\uff0c\u4e00\u4e2a\u5b8c\u6574\u7684\u91cf\u5316\u7cfb\u7edf\u4e2d\uff0c\u8fd8\u5fc5\u7136\u5b58\u5728\u4ea4\u6613\u4fe1\u606f\u3001\u8d26\u53f7\u3001\u56de\u6d4b\u72b6\u6001\u7b49\u6570\u636e\u9700\u8981\u4fdd\u5b58\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#_2","title":"\u6d77\u91cf\u6570\u636e","text":"<p>\u5b58\u50a8\u91cf\u5316\u9700\u8981\u7684\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u5feb\u901f\u54cd\u5e94\u7684\u68c0\u7d22\uff0c\u53ef\u80fd\u6bd4\u6211\u4eec\u591a\u6570\u4eba\u60f3\u50cf\u7684\u8981\u96be\u5f88\u591a\u3002\u9996\u5148\u9047\u5230\u7684\u95ee\u9898\u5c31\u662f\u6d77\u91cf\u884c\u60c5\u6570\u636e\u7684\u95ee\u9898\u3002\u4ec5\u4ee5A\u80a1\u4e3a\u4f8b\uff0c\u4eca\u5929\uff082023\u5e7412\u6708\uff09A\u80a1\u5171\u67095000\u5bb6\u4e0a\u5e02\u516c\u53f8\u3002\u5982\u679c\u6211\u4eec\u8981\u4fdd\u5b58\u5206\u949f\u7ea7\u7684\u884c\u60c5\u6570\u636e\u7684\u8bdd\uff0c\u4e00\u5929\u5c31\u9700\u8981\u4fdd\u5b58 \\(5000 * 240 = 120\u4e07\\)\u8bb0\u5f55\u3002\u4e00\u5e74\u6309250\u5929\u7b97\uff0c\u8fd9\u4e2a\u8bb0\u5f55\u6570\u5c06\u8fbe\u52303000\u4e07\u6761\u3002\u5982\u679c\u6211\u4eec\u4ece\u80a1\u6743\u5206\u7f6e\u6539\u9769\u90a3\u4e00\u5e74\uff082005\u5e74\uff091000\u5bb6\u7b97\u8d77\uff0c\u5047\u5b9a\u6bcf\u5e74\u4e0a\u5e02\u516c\u53f8\u7684\u6570\u91cf\u662f\u5300\u901f\u589e\u52a0\u7684\uff0c\u5219\u4ece2005\u5e74\u5230\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u5b58\\(3000,0000 * 18 * 0.6 = 3.24\\)\u4ebf\u6761\u3002\u5982\u679c\u52a0\u4e0a5\u5206\u949f\u300130\u5206\u949f\u7b49\u5176\u5b83\u7ea7\u522b\u6570\u636e\u3001\u52a0\u4e0a\u6307\u6570\u6570\u636e\uff0c\u8fd9\u4e2a\u6570\u636e\u662f\u8f7b\u677e\u7a81\u78344\u4ebf\u6761\u7684\u3002</p> <p>\u5982\u679c\u6211\u4eec\u8981\u4fdd\u5b58tick\u7ea7\u522b\u7684\u6570\u636e\uff0c\u8fd8\u8981\u4fdd\u5b58\u59d4\u4e70\u3001\u59d4\u5356\uff085\u6863\uff09\u6570\u636e\uff0c\u6570\u636e\u91cf\u8fd8\u8981\u589e\u52a0\u4e24\u4e2a\u91cf\u7ea7\u3002</p> <p>\u663e\u7136\uff0c\u8fd9\u5df2\u7ecf\u8fdb\u5165\u4e86\u5927\u6570\u636e\u5904\u7406\u7684\u8303\u7574\u4e86\u3002\u4f46\u662f\uff0c\u5982\u679c\u7528\u6237\u53ea\u9700\u8981\u5b58\u50a8\u65e5\u7ebf\u6570\u636e\u53ca\u8fd9\u4e00\u7ea7\u522b\u7684\u56e0\u5b50\u6570\u636e\uff0c\u90a3\u4e48\uff0c\u6570\u636e\u91cf\u5219\u4f1a\u5c0f\u5f88\u591a\uff0c\u751a\u81f3\u5173\u7cfb\u578b\u6570\u636e\u5e93\u90fd\u80fd\u5904\u7406\u3002</p> <p>\u884c\u60c5\u6570\u636e\u5728\u8bfb\u5199\u4e0a\uff0c\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li>\u7edd\u5927\u591a\u6570\u662f\u8bfb\u8bf7\u6c42</li> <li>\u5199\u8bf7\u6c42\uff08\u53ef\u4ee5\uff09\u4ee5\u76f8\u5f53\u5927\u7684\u6279\u6b21\uff08&gt;1000\u884c\uff09\u8fdb\u884c\u66f4\u65b0\uff0c\u751a\u81f3\u6ca1\u6709\u66f4\u65b0</li> <li>\u5bf9\u5df2\u6dfb\u52a0\u5230\u6570\u636e\u5e93\u7684\u6570\u636e\u4e0d\u9700\u8981\u4fee\u6539\uff08\u9664\u975e\u6570\u636e\u51fa\u9519\uff09</li> <li>\u8bfb\u53d6\u65f6\uff0c\u5e38\u5e38\u4f1a\u8bfb\u53d6\u76f8\u5f53\u591a\u7684\u884c\uff0c\u4f46\u53ea\u63d0\u53d6\u5217\u7684\u4e00\u5c0f\u90e8\u5206</li> <li>\u5bbd\u8868\uff08\u8003\u8651\u5230\u884c\u60c5\u6570\u636e\u4e0e\u56e0\u5b50\u8fde\u63a5\u7684\u60c5\u51b5\uff09</li> <li>\u5217\u4e2d\u7684\u6570\u636e\u76f8\u5bf9\u8f83\u5c0f\uff0c\u8981\u4e48\u662f\u6570\u5b57\uff0c\u8981\u4e48\u662f\u5f88\u77ed\u7684\u5b57\u7b26\u4e32</li> <li>\u67e5\u8be2\u8981\u6c42\u5c3d\u53ef\u80fd\u5feb</li> </ol> <p>\u6211\u4eec\u5728\u540e\u9762\u53ef\u4ee5\u770b\u5230\uff0c\u6709\u4e00\u4e9b\u6570\u636e\u5b58\u50a8\u65b9\u6848\u51e0\u4e4e\u662f\u5b8c\u5168\u6309\u7167\u8fd9\u4e2a\u8981\u6c42\u6765\u5b9a\u5236\u7684\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#pit","title":"PIT\u7279\u6027","text":"<p>PIT\u662f\u6307Point-in-time Data\u3002\u6709\u4e00\u4e9b\u7ecf\u6d4e\u6570\u636e\uff0c\u5728\u53d1\u5e03\u4e4b\u540e\uff0c\u5f80\u5f80\u8fd8\u4f1a\u8fdb\u884c\u4fee\u6b63\u3002\u6bd4\u5982\u5b8f\u89c2\u6570\u636e\u4e2d\u7684GDP\uff0c\u516c\u53f8\u8d22\u52a1\u62a5\u8868\u7b49\u7b49\u3002\u6211\u4eec\u4ee5\u516c\u53f8\u8d22\u62a5\u4e3a\u4f8b\uff0c\u5982\u679c\u5b83\u57282021\u5e741\u5b63\u672b\u53d1\u5e03\u4e86\u8d22\u62a51.0\uff0c\u5728\u534a\u5e74\u62a5\u53d1\u5e03\u65f6\uff0c\u5bf91\u5b63\u5ea6\u7684\u8d22\u62a5\u8fdb\u884c\u4e86\u4fee\u6b63\uff0c\u6b64\u65f61\u5b63\u5ea6\u7684\u8d22\u62a5\u7684\u7248\u672c\u5e94\u8be5\u662f2.0\u3002\u5982\u679c\u6570\u636e\u6e90\u5728\u53d1\u5e03\u65f6\uff0c\u8bb0\u5f55\u4e86\u6570\u636e\u7248\u672c\u548c\u5b83\u751f\u6210\u7684\u65f6\u95f4\uff08\u800c\u4e0d\u4ec5\u4ec5\u662f\u5f52\u5c5e\u65f6\u95f4\uff09\uff0c\u8fd9\u79cd\u6570\u636e\u5c31\u79f0\u4e3aPoint-in-Time data (PIT)\u3002</p> <p>\u5982\u679c\u9009\u7528\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u53ea\u8981\u6570\u636e\u672c\u8eab\u5e26\u6709\u65f6\u95f4\uff0c\u5219\u5b83\u7684\u5b58\u50a8\u4e0d\u662f\u95ee\u9898\u3002\u5982\u679c\u662f\u57fa\u4e8e\u6587\u4ef6\u578b\u7684\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\uff0c\u5219\u9700\u8981\u8003\u8651\u6070\u5f53\u7684\u7d22\u5f15\u65b9\u5f0f\uff0c\u624d\u80fd\u4fdd\u5b58PIT\u5c5e\u6027\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#zillionare-20","title":"Zillionare 2.0\u7684\u6570\u636e\u5b58\u50a8\u65b9\u6848","text":"<p>\u65e0\u8bba\u91c7\u7528\u54ea\u79cd\u843d\u5730\u6280\u672f\uff0c\u6211\u4eec\u4e00\u822c\u90fd\u4f1a\u9009\u62e9\u7f13\u5b58+\u6301\u4e45\u5316\u7684\u65b9\u6848\u3002\u5728Zillionare 2.0\u4e2d\uff0c\u5f53\u5929\u7684\u884c\u60c5\u6570\u636e\u90fd\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u66f4\u65b0\u548c\u67e5\u8be2\u901f\u5ea6\u90fd\u5f88\u5feb\uff0c\u4f46\u5bb9\u91cf\u5c0f\uff1b\u53e6\u5916\uff0c\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u6570\u636e\u5408\u6210\u3002\u6bd4\u5982\uff0c\u8981\u67e5\u8be2\u67d0\u4e2a\u6807\u7684\u8fc7\u53bb250\u5929\u7684\u65e5\u7ebf\u6570\u636e\uff0c\u6211\u4eec\u9700\u8981\u5148\u4ece\u6301\u4e45\u5316\u5b58\u50a8\u4e2d\uff0c\u63d0\u53d6249\u5929\u7684\u884c\u60c5\u6570\u636e\uff0c\u518d\u52a0\u4e0a\u5b58\u50a8\u5728redis\u7684\u5f53\u5929\u7684\u6570\u636e -- \u8fd9\u4e2a\u6570\u636e\u6bcf\u5206\u6bcf\u79d2\u90fd\u5728\u66f4\u65b0 -- omicron\u5728\u8fd4\u56de\u6570\u636e\u4e4b\u524d\uff0c\u8fdb\u884c\u6570\u636e\u5408\u6210\uff0c\u4ece\u800c\u4fdd\u8bc1\u4ea4\u7ed9\u7528\u6237\u7684\u6570\u636e\u662f\u5b8c\u6574\u7684\u3002</p> <p>Zillionare 2.0\u4f7f\u7528\u7684\u7f13\u5b58\u662fRedis 7.0\uff0c\u4f7f\u7528\u7684\u6301\u4e45\u5316\u5b58\u50a8\u662finfluxdb -- \u8fd9\u662f\u6700\u4f18\u79c0\u7684\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u5e93\u3002</p> <p>Zillionare\u4ece\u4e0a\u6e38\u6570\u636e\u6e90\u83b7\u53d6\u5206\u949f\u6570\u636e\uff0c\u4ee5\u53ca\u63a5\u8fd15\u79d2\u5de6\u53f3\u7684\u4e00\u4e2a\u5b9e\u65f6\u4ef7\u683c\u6570\u636e\uff08\u4e0d\u542bopen, high, low\uff0c\u53ea\u6709\u5f53\u524d\u4ef7\u683c\uff09\u3002Omicron\u5bf9\u5916\u63d0\u4f9b5\u5206\u949f\uff0c15\u5206\u949f\uff0c30\u5206\u949f\uff0c60\u5206\u949f\u6570\u636e\u3002\u56e0\u6b64\uff0c\u5f53Zillionare\u4ece\u4e0a\u6e38\u6570\u636e\u6e90\u63a5\u6536\u5230\u5206\u949f\u6570\u636e\uff0c\u5e76\u4fdd\u5b58\u5230redis\u4e2d\u65f6\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5229\u7528\u6700\u65b0\u7684\u5206\u949f\u7ebf\u6570\u636e\uff0c\u5c06\u5176\u5408\u6210\u4e3a5\u5206\u949f\uff0c15\u5206\u949f\uff0c30\u5206\u949f\uff0c60\u5206\u949f\u6570\u636e\u53ca\u5f53\u65e5\u65e5\u7ebf\u6570\u636e\u3002\u8fd9\u4e2a\u4efb\u52a1\u91cf\u6bd4\u60f3\u50cf\u7684\u8981\u5927\u5f88\u591a\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u6bcf5\u5206\u949f\u90fd\u8981\u8fd0\u884c\u4e00\u6b21\uff0c\u8003\u8651\u5230\u6211\u4eec\u67096000\u4e2a\u6807\u7684\uff0c\u56e0\u6b64\uff0c\u57285\uff0c15\uff0c30\u548c60\u5206\u949f\u4f1a\u805a\u7684\u65f6\u523b\uff0c\u4e00\u6b21\u6027\u5730\u8981\u6267\u884c3\u4e07\u6b21\u7684\u91cd\u91c7\u6837\u4efb\u52a1 -- \u8fd8\u5fc5\u987b\u5728\u51e0\u79d2\u949f\u5185\u5b8c\u6210\u3002</p> <p>\u6211\u4eec\u5229\u7528\u4e86Redis 7.0\u7684\u4e00\u4e2a\u65b0\u6280\u672f\uff0c\u670d\u52a1\u7aeflua\u811a\u672c\uff0c\u6765\u6267\u884c\u8fd9\u4e2a\u5408\u6210\u4efb\u52a1\u3002\u4e0d\u4f9d\u9760python\u6765\u5b8c\u6210\u8fd9\u9879\u4efb\u52a1\uff0c\u662f\u8fd9\u9879\u4efb\u52a1\u80fd\u53ca\u65f6\u5b8c\u6210\u7684\u5173\u952e\u3002\u8fd9\u7701\u53bb\u4e86\u7f51\u683c\u4f20\u8f93\u65f6\u95f4\u3001\u540c\u65f6lua\u4e5f\u6bd4python\u5feb\u5f88\u591a -- \u5b83\u57fa\u672c\u4e0a\u662f\u4ee5c\u7684\u901f\u5ea6\u5728\u8fd0\u884c\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#_3","title":"\u9884\u544a","text":"<p>\u6211\u4eec\u5e76\u975e\u53ea\u8003\u5bdf\u6700\u5f3a\u5927\u7684\u50a8\u5b58\u65b9\u6848\u3002\u5b9e\u9645\u4e0a\uff0c\u6700\u597d\u7684\u6280\u672f\u65b9\u6848\uff0c\u662f\u80fd\u6ee1\u8db3\u9700\u6c42\u7684\u3001\u6027\u4ef7\u6bd4\u6700\u9ad8\u7684\u90a3\u4e2a\u65b9\u6848\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4f1a\u8003\u5bdf\u51e0\u4e4e\u6240\u6709\u53ef\u80fd\u7684\u65b9\u6848\uff0c\u4ee5\u4fbf\u8bfb\u8005\u6839\u636e\u7684\u9700\u8981\u6765\u8fdb\u884c\u9009\u62e9\u3002\u5f53\u7136\uff0cZillionare\u4f5c\u4e3a\u4e00\u4e2a\u901a\u7528\u7684\u91cf\u5316\u6846\u67b6\uff0c\u4f1a\u9009\u62e9\u6700\u5f3a\u5927\u7684\u65b9\u6848\uff0c\u540c\u65f6\u786e\u4fdd\u5373\u4f7f\u5728\u4e2a\u4eba\u673a\u5668\u4e0a\uff0c\u4e5f\u4f9d\u7136\u80fd\u591f\u8fd0\u884c\u3002</p> <p>\u8fd9\u4e9b\u65b9\u6848\u5305\u62ec\uff1a</p> <ul> <li>\u53ea\u9002\u5408\u5355\u4eba\u4f7f\u7528\u7684\u5b58\u50a8\u65b9\u6848</li> <li>HDF5</li> <li>ZARR</li> <li>XArray</li> <li>\u53ea\u9002\u5408\u5b58\u50a8\u65e5\u7ebf\u53ca\u4ee5\u4e0a\u7ea7\u522b\u7684\u5b58\u50a8\u65b9\u6848</li> <li>Postgres</li> <li>Mysql</li> <li>\u6d77\u91cf\u5b58\u50a8\u65b9\u6848</li> <li>influxdb</li> <li>clickhouse</li> <li>mongodb</li> <li>\u5206\u5e03\u5f0f\u8ba1\u7b97\u65b9\u6848</li> <li>Ray</li> <li>Dask</li> </ul>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/tulipmania/","title":"\u75af\u72c2\u7684\u90c1\u91d1\u9999\u5982\u4f55\u5f00\u542f\u4e86\u6700\u65e9\u7684\u671f\u6743\u4ea4\u6613","text":"<p>\u6295\u673a\u662f\u4eba\u7684\u5929\u6027\uff0c\u4e5f\u662f\u4eba\u7c7b\u6c38\u6052\u7684\u8bdd\u9898\u3002\u535a\u4e00\u535a\uff0c\u5355\u8f66\u53d8\u6469\u6258\u7684\u8bf1\u60d1\uff0c\u53ef\u4e0d\u662f\u6240\u6709\u4eba\u90fd\u80fd\u6297\u62d2\u7684\u3002\u6211\u4eec\u7684\u300a\u82b1\u5f00\u66fe\u503e\u56fd - \u89e3\u8bfb300\u5e74\u91cf\u5316\u91d1\u878d\u53f2\u300b\u7cfb\u5217\u6587\u7ae0\u4e5f\u5c06\u7531\u4eba\u7c7b\u5386\u53f2\u4e0a\u7b2c\u4e00\u6b21\u6709\u8bb0\u8f7d\u7684\u75af\u72c2\u6295\u673a\u5f00\u59cb\u3002</p> <p>\u8fd9\u4e2a\u7cfb\u5217\u7684\u6587\u7ae0\uff0c\u5c06\u4ee5\u300a\u5b9a\u4ef7\u672a\u6765 - \u64bc\u52a8\u534e\u5c14\u8857\u7684\u91cf\u5316\u91d1\u878d\u53f2\u300b\u4e3a\u4e3b\u7ebf\uff0c\u4e5f\u53c2\u8003\u4e86\u200b\u8bb8\u591a\u5176\u5b83\u810d\u7099\u4eba\u53e3\u7684\u540c\u7c7b\u7545\u9500\u4e66\u3002\u8fd9\u662f\u4f5c\u8005\u4e00\u5e74\u6765\u540c\u4e00\u7cfb\u5217\u7684\u7535\u5b50\u4e66\u8bfb\u5f97\u6700\u591a\u7684\u4e00\u6b21\u3002\u76f8\u5173\u53c2\u8003\u4e66\u76ee\u53ef\u4ee5\u5728\u6587\u672b\u627e\u5230\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/tulipmania/#_2","title":"\u75af\u72c2\u7684\u90c1\u91d1\u9999","text":"<p>17\u4e16\u7eaa30\u5e74\u4ee3\u7684\u8377\u5170\uff0c\u56fd\u529b\u53d1\u8fbe\uff0c\u4f4d\u5c45\u6b27\u6d32\u4e4b\u9996\u3002\u6709\u4e86\u94b1\u7684\u8377\u5170\u4eba\uff0c\u5f00\u59cb\u6363\u9f13\u70b9\u6295\u8d44\uff0c\u53d1\u73b0\u90c1\u91d1\u9999\u4e5f\u53ef\u4ee5\u6210\u4e3a\u5f70\u663e\u8eab\u4efd\uff0c\u70ab\u8000\u8d22\u5bcc\u7684\u5de5\u5177\u3002</p> <p>\u90c1\u91d1\u9999\u8fd9\u79cd\u690d\u7269\u636e\u8bf4\u53d1\u6e90\u4e8e\u5929\u5c71\u5c71\u8109\uff0c\u5965\u65af\u66fc\u571f\u8033\u5176\u5e1d\u56fd\u6269\u5f20\u4e4b\u540e\uff0c\u53d1\u73b0\u4e86\u5b83\u5e76\u5f00\u59cb\u4eba\u5de5\u79cd\u690d\u3002\u4e4b\u540e\u4eba\u5de5\u79cd\u690d\u7684\u54c1\u79cd\u611f\u67d3\u75c5\u6bd2\uff0c\u4ece\u800c\u51fa\u73b0\u4e86\u6742\u8272\u75c5\uff0c\u4f7f\u5f97\u5b83\u6108\u53d1\u5996\u5a06\u4e0e\u5a07\u8273\u3002</p> <p>\u8377\u5170\u4eba\u4e3a\u4e86\u8868\u8fbe\u4ed6\u4eec\u5bf9\u8fd9\u79cd\u690d\u7269\u7684\u559c\u7231\uff0c\u4f7f\u7528\u519b\u8854\u6765\u533a\u5206\u5404\u79cd\u54c1\u79cd\uff0c\u6bd4\u5982\uff0c\u90c1\u91d1\u9999\u6700\u9ad8\u8d35\u7684\u54c1\u79cd\u53eb\u505a\"\u6c38\u8fdc\u7684\u5965\u53e4\u65af\u90fd\"\uff0c\u56e0\u4e3a\u5176\u82b1\u74e3\u4e0a\u7684\u7d2b\u8272\u82b1\u7eb9\u900f\u9732\u51fa\u5e1d\u738b\u822c\u7684\u5c0a\u8d35\u3002\u5965\u53e4\u65af\u90fd\u7684\u4e0b\u4e00\u7ea7\u662f\"\u603b\u7763\"\uff0c\u63a5\u7740\u662f\"\u5143\u5e05\"\u3001\"\u5c06\u519b\"\u3002</p> <p></p> <p>\u6295\u673a\u8005\u7528\u90c1\u91d1\u9999\u7684\u79cd\u5b50 \u2014 \u4e00\u79cd\u7403\u830e\u6765\u8fdb\u884c\u4ea4\u6613\u3002\u6700\u8d35\u7684\u54c1\u79cd\u5965\u53e4\u65af\u90fd\uff0c\u4e70\u5165\u4ef7\u76f8\u5f53\u4e8e\u5360\u573050\u4e07\u5e73\u65b9\u7c73\u7684\u623f\u4ea7\uff08\u6bd4\u6545\u5bab\u7565\u5927\u4e00\u70b9\uff09\u7684\u4ef7\u683c\uff0c\u6216\u8005\u76f8\u5f53\u4e8e\u516b\u53ea\u80a5\u732a\u3001\u56db\u53ea\u80a5\u516c\u725b\u3001\u4e24\u5428\u5976\u6cb9\u3001\u4e00\u5343\u78c5\u4e73\u916a\u3001\u4e00\u4e2a\u94f6\u5236\u676f\u5b50\u3001\u4e00\u5305\u8863\u670d\u3001\u4e00\u5f20\u5e8a\u5916\u52a0\u4e00\u6761\u8239\u3002</p> <p>\u66fe\u7ecf\u6709\u4e00\u4e2a\u8fdc\u822a\u5f52\u6765\u7684\u6c34\u624b\uff0c\u5bf9\u5f53\u65f6\u7684\u90c1\u91d1\u9999\u70ed\u4e00\u65e0\u6240\u77e5\uff0c\u8bef\u628a\u4e00\u9897\u5965\u53e4\u65af\u90fd\u5f53\u6210\u6d0b\u8471\u714e\u9c7c\u5403\u4e86\uff0c\u7ed3\u679c\u88ab\u4e8b\u4e3b\u53d1\u73b0\uff0c\u9512\u94db\u5165\u72f1\uff0c\u8e72\u4e86\u597d\u51e0\u4e2a\u6708\u3002</p> <p>\u8fd9\u573a\u95f9\u5267\u6700\u7ec8\u57281637\u5e74\u672b\u8fbe\u5230\u72c2\u6b22\u7684\u5dc5\u5cf0\u3002\u5230\u4e86\u8fd9\u4e00\u5e74\u76842\u67083\u65e5\uff0c\u82b1\u5349\u4ea4\u6613\u4e2d\u5fc3\u54c8\u59c6\u52d2\u7a81\u7136\u8c23\u8a00\u56db\u8d77\uff0c\u8bf4\u4e0d\u4f1a\u518d\u6709\u4e70\u5bb6\uff08\u63a5\u76d8\u4fa0\uff09\u4e86\u3002</p> <p>\u4e00\u4e9b\u6e05\u9192\u7684\u6295\u673a\u8005\u5f00\u59cb\u8ba4\u8bc6\u5230\uff0c\u7f8e\u4e3d\u7684\u90c1\u91d1\u9999\u65e0\u8bba\u591a\u4e48\u8bf1\u4eba\uff0c\u5b83\u4e5f\u53ea\u662f\u6735\u82b1\u800c\u5df2\u3002\u4e00\u573a\u795e\u8bdd\u7ec8\u4e8e\u7834\u706d\u3002</p> <p>\u5f53\u97f3\u4e50\u7684\u9f13\u70b9\u505c\u6b62\uff0c\u6295\u673a\u8005\u4e0d\u5f97\u4e0d\u79bb\u573a\u65f6\uff0c\u4ed6\u4eec\u53d1\u73b0\u671f\u5f85\u4e2d\u7684\u4e30\u539a\u56de\u62a5\u8f6c\u77ac\u95f4\u5316\u4e3a\u4e4c\u6709\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u5de8\u989d\u7684\u91d1\u878d\u635f\u5931\uff0c\u751a\u81f3\u9762\u4e34\u7740\u65e0\u6cd5\u627f\u53d7\u7684\u8d22\u52a1\u56f0\u5883\u548c\u7834\u4ea7\u7684\u98ce\u9669\u3002</p> <p>\u6574\u4e2a\u56fd\u5bb6\u4e5f\u7ecf\u53d7\u4e86\u90c1\u91d1\u9999\u72c2\u70ed\u7684\u540e\u9057\u75c7\uff0c\u5168\u56fd\u7684\u5546\u4e1a\u906d\u5230\u4e25\u91cd\u7684\u51b2\u51fb\uff0c\u5728\u8bb8\u591a\u5e74\u4e4b\u540e\u624d\u5f97\u4ee5\u6062\u590d\u3002</p> <p>\u4e0d\u8fc7\uff0c\u4eba\u7c7b\u5e76\u4e0d\u4f1a\u4ece\u8fd9\u6b21\u6295\u673a\u4e2d\u5438\u53d6\u4efb\u4f55\u6559\u8bad\u3002\u9ed1\u683c\u5c14\uff1a\u4eba\u7c7b\u4ece\u5386\u53f2\u4e2d\u5b66\u5230\u7684\u552f\u4e00\u7684\u6559\u8bad\uff0c\u5c31\u662f\u6ca1\u6709\u4ece\u5386\u53f2\u4e2d\u5438\u53d6\u5230\u4efb\u4f55\u6559\u8bad\u3002\u7c7b\u4f3c\u7684\u82b1\u5349\u7092\u4f5c\uff0c\u5728\u6211\u56fd80\u5e74\u4ee3\u4e5f\u66fe\u53d1\u751f\u8fc7\u4e00\u6b21\uff0c\u6807\u7684\u662f\u541b\u5b50\u5170\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/tulipmania/#_3","title":"\u671f\u6743\u4ea4\u6613\u7684\u53d1\u7aef","text":"<p>\u4e0d\u8fc7\uff0c\u5728\u8fd9\u573a\u7092\u4f5c\u4e2d\uff0c\u4e5f\u840c\u53d1\u4e86\u671f\u8d27\u4e0e\u671f\u6743\u4ea4\u6613\uff0c\u8fd9\u5bf9\u91d1\u878d\u5e02\u573a\u7684\u53d1\u5c55\u53ef\u8c13\u610f\u4e49\u6df1\u8fdc\u3002</p> <p>\u90c1\u91d1\u9999\u7403\u830e\u5fc5\u987b\u5728\u590f\u672b\u79cd\u690d\uff0c\u800c\u5728\u6765\u5e74\u7684\u56db\u4e94\u6708\u5f00\u82b1\uff0c\u82b1\u671f\u4e00\u822c\u4e3a\u4e00\u5230\u4e24\u5468\u3002\u968f\u540e\uff0c\u539f\u6765\u7684\u7403\u830e\u4f1a\u6d88\u5931\uff0c\u65b0\u7684\u7403\u830e\u4f1a\u957f\u51fa\u6765\uff0c\u6709\u65f6\u4f1a\u51fa\u73b0\u4e00\u4e9b\u65b0\u7684\u82bd\u3002</p> <p>\u90c1\u91d1\u9999\u7403\u830e\u53ef\u57286\u6708\u521d\u88ab\u6316\u51fa\uff0c\u5fc5\u987b\u57289\u6708\u4efd\u53c8\u91cd\u65b0\u79cd\u4e0b\u53bb\u3002\u56e0\u6b64\uff0c\u90c1\u91d1\u9999\u79cd\u5b50\u7684\u73b0\u8d27\u4ea4\u6613\u53ea\u80fd\u5728\u590f\u5b63\u7684\u56db\u4e2a\u6708\u4e2d\u5b8c\u6210\uff0c\u4f46\u91d1\u94b1\u5e76\u4e0d\u613f\u610f\u5728\u5176\u4f59\u7684\u516b\u4e2a\u6708\u91cc\u4f11\u606f\u3002</p> <p></p> <p>\u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u91cc\uff0c\u4e70\u5bb6\u548c\u5356\u5bb6\u4f1a\u8fbe\u6210\u5728\u590f\u5b63\u4ea4\u5272\u90c1\u91d1\u9999\u7403\u830e\u7684\u534f\u8bae\uff1a\u534f\u8bae\u5c06\u6d89\u53ca\u5230\u79cd\u7c7b\u3001\u6570\u91cf\uff08\u6216\u8005\u91cd\u91cf\uff09\u3001\u4ef7\u683c\u3001\u8d27\u7269\u4ea4\u5272\u548c\u8d27\u6b3e\u652f\u4ed8\u7684\u65e5\u671f\u3002\u8fd9\u79cd\u4e8b\u5148\u8fbe\u6210\u534f\u8bae\uff0c\u4f46\u5728\u672a\u6765\u6267\u884c\u7684\u4ea4\u6613\uff0c\u5c31\u662f\u671f\u8d27\u4ea4\u6613\u3002</p> <p>\u5230\u4e861637\u5e742\u67083\u65e5\uff0c\u6ce1\u6cab\u7834\u706d\uff0c\u4e70\u5bb6\u62d2\u7edd\u5c65\u884c\u5408\u7ea6\u3002\u7ea0\u7eb7\u8fc5\u901f\u7531\u5c11\u6570\u4f20\u5bfc\u6240\u6709\u4eba\uff0c\u5f88\u591a\u4eba\u9677\u5165\u4e86\u7edd\u671b\u548c\u6124\u6012\u4e4b\u4e2d\u3002</p> <p>\u5356\u5bb6\u8bd5\u56fe\u5bfb\u6c42\u53f8\u6cd5\u6551\u6d4e\uff0c\u4f46\u6cd5\u9662\u62d2\u7edd\u7275\u6d89\u5176\u4e2d\u3002\u6700\u7ec8\uff0c\u7531\u8377\u5170\u82b1\u5546\u534f\u4f1a\u63d0\u51fa\u4e86\u4e00\u9879\u63d0\u6848\uff0c\u4f7f\u5f97\u57281636\u5e7411\u670830\u65e5~1637\u5e74\u6625\u5b63\u4e4b\u95f4\u7684\u4e70\u5bb6\u5728\u5411\u5356\u5bb6\u652f\u4ed8\u4e00\u7b14\u8d39\u7528\uff08\u5f53\u65f6\u88ab\u79f0\u4e3a\u7f5a\u91d1\uff09\u4e4b\u540e\uff0c\u53ef\u4ee5\u514d\u9664\u5176\u8d2d\u4e70\u4e49\u52a1\u3002</p> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u4e70\u5bb6\u6700\u521d\u6709\u4e49\u52a1\u6309\u5408\u540c\u8d2d\u4e70\u7403\u830e\uff0c\u73b0\u5728\u4ed6\u4eec\u8fd8\u6709\u4e86\u53e6\u5916\u4e00\u4e2a\u9009\u62e9\u3002\u5982\u679c\u7403\u830e\u4ef7\u683c\u5728\u4ea4\u5272\u65e5\u4f4e\u4e8e\u5408\u540c\u4ef7\u683c\uff0c\u4e70\u5bb6\u53ef\u4ee5\u9000\u51fa\u4ea4\u6613\uff0c\u4ed6\u6240\u9700\u8981\u505a\u7684\uff0c\u5c31\u662f\u5411\u5356\u5bb6\u652f\u4ed8\u4e00\u7b14\u91d1\u989d\u76f8\u5bf9\u8f83\u5c0f\u7684\u6743\u5229\u91d1\u3002</p> <p>\u8fd9\u6837\uff0c\u4f20\u7edf\u7684\u8fdc\u671f\u534f\u8bae\uff08\u5373\u671f\u8d27\u4ea4\u6613\u534f\u8bae\uff09\u5c31\u6f14\u53d8\u4e3a\u6240\u8c13\u7684\u671f\u6743\u534f\u8bae\u3002\u8377\u5170\u8bae\u4f1a\u53ca\u65f6\u6279\u51c6\u4e86\u8fd9\u4e2a\u8bae\u6848\uff0c\u4f7f\u4e4b\u6210\u4e3a\u6cd5\u4ee4\u3002\u8fd9\u5b9e\u9645\u4e0a\u662f\u5168\u7403\u6700\u65e9\u7684\u5173\u4e8e\u671f\u6743\u7684\u6cd5\u5f8b\uff0c\u4e5f\u4e3a\u6b64\u540e\u7684300\u591a\u5e74\u671f\u6743\u4ea4\u6613\u3001\u4ee5\u53ca\u540e\u6765\u7684\u91cf\u5316\u91d1\u878d\u5f00\u8f9f\u4e86\u9053\u8def\u3002</p> <p></p> <p>\u671f\u6743\u662f\u4e00\u4e2a\u4f1f\u5927\u7684\u53d1\u660e\u3002\u5b83\u4e3a\u4f9b\u9700\u53cc\u65b9\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7a33\u5b9a\u7684\u4ef7\u683c\u9884\u671f\uff0c\u4ece\u800c\u8ba9\u751f\u4ea7\u4f01\u4e1a\u53ef\u4ee5\u636e\u6b64\u5236\u5b9a\u6709\u6548\u7684\u751f\u4ea7\u8ba1\u5212\u3002</p> <p>\u5047\u8bbe\u6709\u4e00\u4e2a\u519c\u592b\uff0c\u9700\u8981\u57286\u4e2a\u6708\u4e4b\u540e\u8d2d\u4e70\u80a5\u6599\u3002\u4ed6\u5f53\u4e0b\u4e0d\u613f\u610f\u8d2d\u4e70\uff0c\u662f\u56e0\u4e3a\u4fdd\u5b58\u80a5\u6599\u4e0d\u4ec5\u9700\u8981\u4ed3\u50a8\u8bbe\u5907\uff0c\u800c\u4e14\u80a5\u6599\u8fd8\u4f1a\u56e0\u6325\u53d1\u9020\u6210\u6d6a\u8d39\u548c\u5371\u9669\u3002</p> <p>\u4f46\u662f\u80a5\u6599\u7684\u4ef7\u683c\u662f\u6ce2\u52a8\u7684\uff0c\u5982\u679c\u5927\u5bb6\u90fd\u7b49\u52306\u4e2a\u6708\u4ee5\u540e\u53bb\u4e70\uff0c\u5219\u4ef7\u683c\u53ef\u80fd\u663e\u8457\u62ac\u5347\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u80a5\u6599\u751f\u4ea7\u5382\u5bb6\u4e5f\u4e0d\u613f\u610f\u5728\u6ca1\u6709\u6301\u7eed\u8ba2\u5355\u63a5\u5165\u7684\u60c5\u51b5\u4e0b\uff0c\u5927\u91cf\u751f\u4ea7\u80a5\u6599\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u9020\u6210\u79ef\u538b\u3002\u800c\u63a7\u5236\u751f\u4ea7\u53c8\u4f1a\u5bfc\u81f46\u4e2a\u6708\u540e\uff0c\u4f9b\u9700\u66f4\u52a0\u7d27\u5f20\u3002</p> <p>\u4e8e\u662f\u4e00\u4e2a\u4e2d\u95f4\u4eba\u51fa\u73b0\u4e86\uff0c\u4ed6\u5411\u519c\u592b\u4fdd\u8bc1\uff1a\u53ea\u8981\u9884\u5148\u652f\u4ed8\u4e00\u7b14\u56fa\u5b9a\u8d39\u7528\uff08\u6743\u5229\u91d1\uff09\uff0c\u516d\u4e2a\u6708\u540e\uff0c\u6211\u5c06\u4ee5\u6bcf\u78c560\u7f8e\u5206\u7684\u4ef7\u683c\u5411\u4f60\u51fa\u552e300\u78c5\u80a5\u6599\uff0c\u65e0\u8bba\u5230\u65f6\u5019\u5b9e\u9645\u4ef7\u683c\u4e3a\u591a\u5c11\u3002</p> <p>\u519c\u592b\u540c\u610f\u4e86\uff0c\u4e24\u4e2a\u4eba\u8fbe\u6210\u4e86\u5408\u7ea6\u30026\u4e2a\u6708\u4e4b\u540e\uff0c\u80a5\u6599\u4ef7\u683c\u4e0b\u8dcc\u5230\u6bcf\u78c550\u7f8e\u5206\uff0c\u4e8e\u662f\u519c\u6c11\u6ca1\u6709\u9009\u62e9\u5c65\u7ea6\uff0c\u800c\u662f\u4ece\u516c\u5f00\u5e02\u573a\u4e0a\u4ee5\u66f4\u4f4e\u7684\u4ef7\u683c\u4e70\u5230\u4e86\u80a5\u6599\uff0c\u800c\u4e2d\u95f4\u4eba\u4e5f\u5f97\u5230\u4e86\u4ed6\u7684\u4f63\u91d1\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u671f\u6743\u8d77\u5230\u4e86\u8c03\u8282\u751f\u4ea7\uff0c\u5e73\u6291\u6ce2\u52a8\u7684\u4f5c\u7528\uff0c\u4ece\u800c\u4f7f\u5f97\u751f\u4ea7\u4e0e\u6d88\u8d39\u5f97\u4ee5\u7528\u4e00\u79cd\u8fde\u7eed\u3001\u53ef\u9884\u6d4b\u7684\u65b9\u5f0f\u8fdb\u884c\u3002\u671f\u6743\u56fa\u7136\u662f\u4e00\u79cd\u6295\u673a\u5de5\u5177\uff0c\u4f46\u6211\u4eec\u4e0d\u5e94\u8be5\u5fd8\u8bb0\u5b83\u7684\u672c\u6765\u4f5c\u7528\u3002</p> <p></p> <p>\u671f\u6743\u4ea4\u6613\u4e00\u65e6\u8bde\u751f\uff0c\u4e00\u4e2a\u95ee\u9898\u4e5f\u5c31\u968f\u4e4b\u800c\u6765\uff0c\u519c\u592b\u7ed9\u4e2d\u95f4\u4eba\u652f\u4ed8\u7684\u6743\u5229\u91d1\uff0c\u5e94\u8be5\u600e\u4e48\u5b9a\u4ef7\u5462\uff1f</p> <p>\u8fd9\u4e2a\u770b\u4f3c\u7b80\u5355\u7684\u95ee\u9898\uff0c\u5ef6\u7eed\u4e86\u51e0\u4e2a\u4e16\u7eaa\u90fd\u6ca1\u80fd\u5f97\u5230\u79d1\u5b66\u7684\u56de\u7b54\u3002\u76f4\u52301973\u5e74\uff0c\u4e00\u9879\u53ef\u4ee5\u5ab2\u7f8e\u725b\u987f\u8fd0\u52a8\u5b9a\u5f8b\u7684\u516c\u5f0f\u88ab\u53d1\u73b0\uff0c\u624d\u7b97\u5f97\u5230\u4e86\u5b8c\u7f8e\u7684\u56de\u7b54\u3002\u662f\u8c01\u63ed\u793a\u4e86\u8fd9\u4e2a\u79d8\u5bc6\uff0c\u53c8\u5c06\u5f97\u5230\u4ec0\u4e48\u6837\u7684\u6b8a\u8363\u5462\uff1f\u6211\u4eec\u5c06\u5728\u540e\u9762\u7684\u6587\u7ae0\u4e2d\u8fdb\u884c\u89e3\u7b54\u3002</p> <p>\u672c\u7cfb\u5217\u6587\u7ae0\u53c2\u8003\u4e86\u4ee5\u4e0b\u4e66\u76ee\u7684\u7535\u5b50\u4e66\u8d44\u6e90\uff1a</p> <ul> <li>\u300a\u539f\u5219\u300b\u6865\u6c34\u57fa\u91d1\u7684\u745e.\u8fbe\u5229\u6b27\u65b0\u4f5c</li> <li>\u300a\u6253\u5f00\u91cf\u5316\u6295\u8d44\u7684\u9ed1\u7bb1\u300b</li> <li>\u300a\u89e3\u8bfb\u91cf\u5316\u6295\u8d44\uff1a\u897f\u8499\u65af\u7528\u516c\u5f0f\u6253\u8d25\u5e02\u573a\u7684\u6545\u4e8b\u300b</li> <li>\u300a\u5bbd\u5ba2\uff1a\u534e\u5c14\u8857\u9876\u7ea7\u6570\u91cf\u91d1\u878d\u5927\u5e08\u7684\u53e6\u7c7b\u4eba\u751f\u300b</li> <li>\u300a\u9ad8\u9891\u4ea4\u6613\u5458 : \u534e\u5c14\u8857\u7684\u901f\u5ea6\u6e38\u620f\u300b</li> <li>\u300a\u8bf4\u8c0e\u8005\u7684\u6251\u514b\u724c\u300b</li> <li>\u300a\u5927\u7a7a\u5934\u300b</li> </ul> <p>\u8fd9\u4e9b\u4e66\u90fd\u5199\u7684\u751f\u52a8\u6709\u8da3\uff0c\u4e0d\u4e60\u60ef\u770b\u7535\u5b50\u7248\u7684\uff0c\u4e5f\u53ef\u4ee5\u770b\u770b\u6b63\u7248\u3002</p> <p>\u5982\u679c\u60a8\u559c\u6b22\u300a\u5b9a\u4ef7\u672a\u6765 - \u64bc\u52a8\u534e\u5c14\u8857\u7684\u91cf\u5316\u91d1\u878d\u53f2\u300b\u8fd9\u672c\u4e66\uff0c\u53ef\u4ee5\u5728\u70b9\u51fb\u8fd9\u91cc\u8d2d\u4e70\u3002</p> <p></p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/","title":"\u4e1c\u5370\u5ea6\u516c\u53f8","text":"<p>\u9ec4\u6d66\u6c5f\u7554\uff0c\u5916\u767d\u6e21\u6865\u8fb9\uff0c\u6709\u4e00\u5e62\u62e5\u6709\u767e\u4f59\u5e74\u5386\u53f2\u7684\u82f1\u56fd\u65b0\u53e4\u5178\u4e3b\u4e49\u98ce\u683c\u5efa\u7b51\u3002\u8fd9\u91cc\u66fe\u662f\u8457\u540d\u7684\u6d66\u6c5f\u996d\u5e97\uff0c\u66f4\u56e0\u662f\u65b0\u4e2d\u56fd\u9996\u5bb6\u8bc1\u5238\u4ea4\u6613\u6240\u7684\u65e7\u5740\u800c\u95fb\u540d\uff0c\u5982\u4eca\u4ee5\u4e2d\u56fd\u8bc1\u5238\u535a\u7269\u9986\u8eab\u4efd\u6210\u4e3a\u7f51\u7ea2\u6253\u5361\u5730\u3002</p> <p> \u4e2d\u56fd\u8bc1\u5238\u535a\u7269\u9986</p> <p>1990\u5e74\u5e95\uff0c\u4e0a\u6d77\u8bc1\u5238\u4ea4\u6613\u6240\u6b63\u5f0f\u6210\u7acb\uff0c\u8fd9\u662f\u5efa\u56fd\u4ee5\u6765\u5185\u5730\u7684\u7b2c\u4e00\u5bb6\u8bc1\u5238\u4ea4\u6613\u6240\uff0c\u5f53\u65f6\u53ea\u67098\u652f\u80a1\u7968\u4e0a\u5e02\uff0c12.34\u4ebf\u5143\u5e02\u503c\uff0c\u662f\u201c\u5168\u7403\u6700\u5c0f\u201d\u7684\u8bc1\u5238\u5e02\u573a\u3002\u4eca\u5929\uff0c\u4e2d\u56fdA\u80a1\u4e0a\u5e02\u516c\u53f8\u5df2\u7ecf\u7a81\u78345000\u5bb6^milestone1\uff0c\u6210\u4e3a\u4ec5\u6b21\u4e8e\u7f8e\u56fd\u7684\u7b2c\u4e8c\u5927\u80a1\u7968\u73b0\u8d27\u5e02\u573a\uff0c\u4e3a\u4e2d\u56fd\u7ecf\u6d4e\u505a\u51fa\u4e86\u91cd\u8981\u8d21\u732e\u3002</p> <p>\u7d27\u63a5\u4e0a\u4ea4\u6240\u4e4b\u540e\uff0c\u56fd\u5bb6\u53c8\u6210\u7acb\u4e86\u6df1\u4ea4\u6240\uff0c2021\u5e74\u8fd8\u6210\u7acb\u4e86\u5317\u4ea4\u6240\uff0c\u8bc1\u5238\u4ea4\u6613\u65e9\u5df2\u8d70\u5165\u5bfb\u5e38\u767e\u59d3\u5bb6\uff0c\u6210\u4e3a\u7a00\u677e\u5e73\u5e38\u7684\u4e00\u4ef6\u4e8b\u3002\u4f46\u5728\u5f53\u5e74\uff0c\u5efa\u7acb\u8bc1\u5238\u4ea4\u6613\u6240\u8fd8\u662f\u6709\u5f88\u5927\u7684\u4e89\u8bae\u7684\u3002\u56e0\u4e3a\u4ece\u5386\u53f2\u4e0a\u770b\uff0c\u8bc1\u5238\u4ea4\u6613\u6240\u7684\u51fa\u73b0\uff0c\u88ab\u8ba4\u4e3a\u662f\u8d44\u672c\u4e3b\u4e49\u53d1\u5c55\u7684\u4e00\u4e2a\u91cd\u8981\u91cc\u7a0b\u7891\u3002\u4eca\u5929\u6211\u4eec\u5c31\u6765\u8bf4\u8bf4\u8fd9\u4e2a\u91cc\u7a0b\u7891\u3002</p> <p>\u8fd9\u4e2a\u91cc\u7a0b\u7891\u6700\u65e9\u7684\u4e00\u5757\u57fa\u77f3\uff0c\u662f\u57281602\u5e74\u524d\u540e\u7684\u8377\u5170\u94fa\u5c31\u7684\u3002\u719f\u6089\u660e\u53f2\u7684\u4eba\u53ef\u80fd\u77e5\u9053\uff0c\u8fd9\u4e00\u65f6\u671f\u5bf9\u5e94\u7740\u660e\u4e07\u538627\u5e74\u524d\u540e\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_1","title":"\u9999\u6599","text":"<p>\u4e00\u5207\u8fd8\u5f97\u4ece\u9999\u6599\u8bf4\u8d77\u3002\u5728\u4e2d\u4e16\u7eaa\u7684\u6b27\u6d32\uff0c\u9999\u6599\u7684\u4ef7\u683c\u5341\u5206\u6602\u8d35\u3002\u8fd9\u91cc\u8bf4\u7684\u9999\u6599\uff0c\u5e76\u4e0d\u662f\u6211\u4eec\u4eca\u5929\u6240\u8bf4\u7684\u9999\u6c34\u3001\u9999\u7cbe\u4e00\u7c7b\u7684\u4e1c\u897f\uff0c\u800c\u662f\u6307\u53ef\u7528\u4ee5\u70f9\u5236\u98df\u7269\u7684\u9999\u8f9b\u6599\uff0c\u6bd4\u5982\u80e1\u6912\u3001\u4e01\u9999\u3001\u8089\u6842\u3001\u8089\u853b\u3001\u751f\u59dc\u7b49\u3002</p> <p></p> <p>\u6b27\u6d32\u8d35\u65cf\u4eec\u5bf9\u9999\u6599\u70f9\u5236\u7684\u98df\u7269\u6781\u4e3a\u63a8\u5d07\uff0c\u7528\u4eca\u5929\u7684\u8bdd\u6765\u8bf4\uff0c\u6ca1\u6709\u7528\u9999\u6599\u70f9\u5236\u8fc7\u7684\u8089\u7c7b\uff0c\u662f\u6ca1\u6709\u7075\u9b42\u7684\u3002\u8fd9\u79cd\u72c2\u70ed\u7684\u8ffd\u6367\uff0c\u4f7f\u9999\u6599\u6210\u4e3a\u793e\u4f1a\u4e2d\u7684\u5962\u4f88\u54c1\uff0c\u751a\u81f3\u4e00\u5ea6\u548c\u9ec4\u91d1\u7b49\u4ef7\uff0c\u5176\u4e2d\uff0c\u80e1\u6912\u5c31\u88ab\u79f0\u4e3a\u201c\u9ed1\u8272\u9ec4\u91d1\u201d\u3002</p> <p>\u7531\u4e8e\u6c14\u5019\u7684\u539f\u56e0\uff0c\u591a\u6570\u9999\u6599\u5e76\u4e0d\u9002\u5408\u5728\u6b27\u6d32\u79cd\u690d\uff0c\u4f46\u9999\u6599\u7684\u5e72\u8d27\u5374\u8010\u8d2e\u85cf\uff0c\u9002\u5408\u8fdc\u8ddd\u79bb\u8fd0\u8f93\u3002\u800c\u6b64\u65f6\u4eba\u7c7b\u5df2\u8fdb\u5165\u5927\u822a\u6d77\u65f6\u4ee3\uff0c\u4e8e\u662f\u8de8\u5927\u9646\u7684\u9999\u6599\u8d38\u6613\u5c31\u5f00\u5c55\u8d77\u6765\u4e86\u3002\u8fd9\u79cd\u8fd0\u8f93\u5bb9\u6613\u9047\u5230\u6d77\u96be\u3001\u6d77\u76d7\u7b49\u6bc1\u706d\u6027\u707e\u96be\uff0c\u56e0\u6b64\u98ce\u9669\u6781\u9ad8\u3002\u8377\u5170\u4eba\u6700\u65e9\u610f\u8bc6\u5230\uff0c\u5355\u4e2a\u5546\u4eba\u8d22\u529b\u6709\u9650\uff0c\u5f88\u96be\u652f\u6301\u8239\u961f\u5b8c\u6210\u4ed6\u4eec\u7684\u822a\u884c\u3002\u4e8e\u662f\uff0c\u57281602\u5e74\uff0c\u753117\u4f4d\u5546\u4eba\u7ec4\u6210\u4e86\u4eba\u7c7b\u5386\u53f2\u4e0a\u9996\u5bb6\u80a1\u4efd\u516c\u53f8\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_2","title":"\u4e1c\u5370\u5ea6\u516c\u53f8","text":"<p>\u8fd9\u5bb6\u516c\u53f8\u5c31\u53eb\u8377\u5170\u4e1c\u5370\u5ea6\u516c\u53f8\u3002\u5386\u53f2\u4e0a\u81f3\u5c11\u6709\u4e24\u4e2a\u6709\u540d\u7684\u4e1c\u5370\u5ea6\u516c\u53f8\u3002\u53e6\u4e00\u5bb6\u662f\u4e0d\u5217\u98a0\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u6210\u7acb\u4e8e1600\u5e74\uff0c\u5784\u65ad\u4e86\u5370\u5ea6\u8d38\u6613\u7684\u7279\u6743\u8fbe\u4e24\u4e2a\u4e16\u7eaa\uff0c\u4e00\u822c\u6211\u4eec\u8bf4\u7684\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u90fd\u662f\u6307\u4e0d\u5217\u98a0\u4e1c\u5370\u5ea6\u516c\u53f8\u3002\u4e0d\u8fc7\uff0c\u5728\u672c\u6587\u540e\u9762\uff0c\u6211\u4eec\u63d0\u5230\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u5219\u662f\u6307\u8377\u5170\u4e1c\u5370\u5ea6\u516c\u53f8\u3002</p> <p> \u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u8239</p> <p>\u4e1c\u5370\u5ea6\u516c\u53f8\u6210\u7acb\u4e4b\u540e\uff0c\u7acb\u5373\u516c\u5f00\u53d1\u884c\u4e86\u80a1\u7968\uff0c\u4ec5\u9996\u90fd\u5c31\u67091000\u4eba\u8d2d\u4e70\u8be5\u516c\u53f8\u7684\u80a1\u7968\uff0c\u5171\u878d\u5f97650\u4e07\u8377\u5170\u76fe\u7684\u521d\u59cb\u8d44\u91d1\u3002\u540c\u671f\u7684\u4e0d\u5217\u98a0\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u5176\u521d\u59cb\u8d44\u91d1\u5219\u53ea\u67097.2\u4e07\u9551\uff0c\u4ec5\u76f8\u5f53\u4e8e\u524d\u8005\u7684\u5341\u5206\u4e4b\u4e00\u3002</p> <p>\u96c4\u539a\u7684\u521d\u59cb\u8d44\u91d1\u4f7f\u5f97\u4e1c\u5370\u5ea6\u516c\u53f8\u5728\u4e0e\u540c\u884c\u7684\u7ade\u4e89\u4e2d\uff0c\u5360\u636e\u4e86\u6709\u5229\u5730\u4f4d\u3002\u5982\u6b64\u4e00\u6765\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u5f97\u4ee5\u8fc5\u901f\u5d1b\u8d77\uff0c\u593a\u53d6\u4e86\u5f53\u65f6\u897f\u73ed\u7259\u548c\u8461\u8404\u7259\u5bf9\u6d77\u4e0a\u8d38\u6613\u7684\u5784\u65ad\u3002\u8fd9\u5bb6\u516c\u53f8\u5728\u524d50\u5e74\u7ecf\u8425\u5f97\u975e\u5e38\u597d\uff0c\u6bcf\u5e74\u90fd\u80fd\u63d0\u4f9b\u8d85\u8fc716%\u7684\u7ea2\u5229\u3002\u5b83\u62e5\u6709150\u6761\u5546\u8239\uff0c\u8fd8\u63a7\u5236\u4e8640\u6761\u6218\u8239\uff0c\u5171\u6709\u8d85\u8fc72\u4e07\u540d\u6c34\u624b\u30015\u4e07\u540d\u5e73\u6c11\u548c\u8d85\u8fc71\u4e07\u540d\u58eb\u5175^soldiers\u4e3a\u5b83\u670d\u52a1\u3002</p> <p>\u8fd9\u4e2a\u89c4\u6a21\u662f\u975e\u5e38\u60ca\u4eba\u7684\uff0c\u60f3\u60f3\u770b\uff0c\u4eca\u5929\u7684\u4e00\u4e9bIT\u5168\u7403\u5de8\u5934\uff0c\u62e5\u6709\u5458\u5de5\u6570\u6700\u591a\u7684\uff0c\u4e5f\u4e0d\u8fc740\u4e07\u4eba\u5de6\u53f3\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_3","title":"\u6d41\u52a8\u6027\u95ee\u9898\u548c\u89e3\u51b3\u4e4b\u9053","text":"<p>\u4e00\u5f00\u59cb\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u80a1\u7968\u5c31\u662f\u901a\u8fc7\u4ea4\u6613\u53d1\u884c\u7684\u3002\u963f\u59c6\u65af\u7279\u4e39\u8bc1\u5238\u4ea4\u6613\u6240\uff0c\u662f\u5386\u53f2\u4e0a\u7b2c\u4e00\u4e2a\u8bc1\u5238\u4ea4\u6613\u6240\u3002</p> <p>\u6700\u521d\u7684\u6cd5\u5f8b\u89c4\u5b9a\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u80a1\u7968\u53ef\u4ee5\u5728\u6301\u6709\u4eba\u613f\u610f\u7684\u65f6\u5019\uff0c\u9000\u56de\u7ed9\u516c\u53f8\u5e76\u8fd4\u8fd8\u672c\u91d1\u3002\u8fd9\u610f\u5473\u7740\u516c\u53f8\u5fc5\u987b\u59cb\u7ec8\u51c6\u5907\u4e00\u7b14\u8d44\u91d1\uff0c\u7528\u4ee5\u652f\u4ed8\u53ef\u80fd\u4ea7\u751f\u7684\u56de\u8d2d\uff0c\u8fd9\u4f1a\u4f7f\u5f97\u8d44\u91d1\u6548\u7387\u53d8\u4f4e\uff0c\u5e76\u4e14\u53ef\u80fd\u6709\u6324\u5151\u7684\u98ce\u9669\u3002</p> <p>1609\u5e74\uff0c\u8463\u4e8b\u4f1a\u51b3\u5b9a\u4e0d\u518d\u8fd4\u56de\u672c\u91d1\u3002\u5982\u679c\u80a1\u4e1c\u9047\u5230\u6025\u7528\u94b1\u7684\u65f6\u5019\uff0c\u6216\u8005\u80a1\u4e1c\u5bf9\u516c\u53f8\u7684\u4e1a\u7ee9\u4e0d\u592a\u6ee1\u610f\u7684\u65f6\u5019\uff0c\u4ed6\u4eec\u8981\u5982\u4f55\u9000\u51fa\u53d8\u73b0\u5462\uff1f\u4e8e\u662f\u4ece\u90a3\u65f6\u8d77\uff0c\u4ea4\u6613\u6240\u65b0\u589e\u4e86\u4e8c\u7ea7\u5e02\u573a\u4ea4\u6613\u7684\u529f\u80fd\u3002\u81f3\u6b64\uff0c\u963f\u59c6\u65af\u7279\u4e39\u4ea4\u6613\u6240\u5c31\u6210\u4e3a\u4e86\u7b2c\u4e00\u4e2a\u73b0\u4ee3\u610f\u4e49\u4e0a\u7684\u5b8c\u5168\u7684\u8bc1\u5238\u4ea4\u6613\u6240\u3002</p> <p> \u963f\u59c6\u65af\u7279\u4e39\u8bc1\u4ea4\u6240</p> <p>\u8fd9\u4e2a\u4ea4\u6613\u6240\u4ea4\u6295\u6d3b\u8dc3\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u5e73\u5747\u5e74\u6362\u624b\u7387\u57287%\u5de6\u53f3\uff0c\u5230\u4e861607\u5e74\uff0c\u5c31\u53ea\u67092/3\u7684\u521d\u59cb\u6240\u6709\u8005\u8fd8\u5728\u7ee7\u7eed\u6301\u6709\u3002\u6b63\u662f\u57fa\u4e8e\u8fd9\u79cd\u826f\u597d\u7684\u6d41\u52a8\u6027\u3001\u4ee5\u53ca\u4e1c\u5370\u5ea6\u516c\u53f8\u6bcf\u5e74\u7684\u9ad8\u989d\u5206\u7ea2\uff0c\u516c\u53f8\u7684\u80a1\u7968\u5c31\u6210\u4e3a\u4f18\u8d28\u7684\u62b5\u62bc\u54c1\u3002\u56e0\u6b64\uff0c\u5728\u516c\u53f8\u7684\u5b58\u7eed\u671f\u5185\uff0c\u518d\u4e5f\u6ca1\u6709\u901a\u8fc7\u53d1\u884c\u80a1\u7968\u8fdb\u884c\u8fc7\u878d\u8d44\u3002\u516c\u53f8\u5982\u679c\u9700\u8981\u878d\u8d44\uff0c\u4ed6\u4eec\u5c06\u53d1\u884c\u4e3a\u671f12\u4e2a\u6708\u7684\u503a\u5238\u6765\u6ee1\u8db3\u8d44\u91d1\u9700\u6c42\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_4","title":"\u91d1\u878d\u5de5\u5177\u7684\u672c\u8d28","text":"<p>\u91d1\u878d\u5de5\u5177\u4ece\u4e00\u8bde\u751f\u5f00\u59cb\uff0c\u5c31\u548c\u8d2a\u5a6a\u3001\u98ce\u9669\u3001\u535a\u5f08\u76f8\u4f34\u76f8\u751f\u3002\u91d1\u878d\u4ece\u4e1a\u8005\u6709\u65f6\u4e5f\u88ab\u9a82\u6210\u72e1\u733e\u7684\u5546\u4eba\u3001\u65e0\u803b\u7684\u6295\u673a\u8005\u548c\u75af\u72c2\u7684\u8d4c\u5f92\u3002\u4f46\u662f\uff0c\u5982\u679c\u653e\u5f03\u60c5\u7eea\u5316\u7684\u89c6\u89d2\uff0c\u62e8\u5f00\u5386\u53f2\u7684\u8ff7\u96fe\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\u91d1\u878d\u5de5\u5177\u5728\u7ec4\u7ec7\u751f\u4ea7\u8d44\u91d1\u3001\u5e73\u6291\u5e02\u573a\u5468\u671f\u65b9\u9762\uff0c\u53d1\u6325\u4e86\u5de8\u5927\u4f5c\u7528\u3002</p> <p>\u5728\u7b2c1\u96c6\u5316\u80a5\u671f\u6743\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u770b\u5230\uff0c\u4e2d\u95f4\u4eba\u662f\u7eaf\u7cb9\u7684\u98df\u5229\u65cf\u3002\u4f46\u4e2d\u95f4\u4eba\u7684\u81ea\u79c1\u4e0e\u8d2a\u5a6a\uff0c\u4e3a\u519c\u592b\u548c\u5316\u80a5\u751f\u4ea7\u5546\u5e73\u6291\u4e86\u4ef7\u683c\u6ce2\u52a8\uff0c\u4f7f\u5f97\u751f\u4ea7\u4ee5\u4e00\u79cd\u6709\u8ba1\u5212\u548c\u53ef\u6301\u7eed\u7684\u65b9\u5f0f\u8fdb\u884c\uff0c\u4ece\u800c\u793e\u4f1a\u8d22\u5bcc\u88ab\u6e90\u6e90\u4e0d\u65ad\u5730\u88ab\u521b\u9020\u51fa\u6765\u3002</p> <p>\u8fd9\u5c31\u662f\u5e02\u573a\u7684\u529b\u91cf\u548c\u7279\u70b9\uff1a\u6240\u6709\u4eba\u90fd\u4ee5\u5b9e\u73b0\u81ea\u5df1\u7684\u5229\u76ca\u4e3a\u76ee\u6807\uff0c\u4f46\u6700\u7ec8\u63a8\u52a8\u4e86\u793e\u4f1a\u7684\u521b\u65b0\u548c\u8fdb\u6b65\u3002</p> <p>\u5728\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u4f8b\u5b50\u4e2d\uff0c\u80a1\u7968\u8d77\u5230\u4e86\u52df\u96c6\u521d\u59cb\u8d44\u91d1\u7684\u4f5c\u7528\uff1b\u800c\u8bc1\u5238\u4ea4\u6613\u5e02\u573a\u5219\u901a\u8fc7\u63d0\u4f9b\u6d41\u52a8\u6027\uff0c\u4f7f\u5f97\u516c\u53f8\u53ef\u4ee5\u6301\u7eed\u3001\u7a33\u5b9a\u548c\u9ad8\u6548\u7387\uff08\u516c\u53f8\u4e0d\u518d\u9700\u8981\u4e3a\u5e94\u4ed8\u80a1\u7968\u56de\u5151\u800c\u4fdd\u7559\u73b0\u91d1\uff09\u5730\u4f7f\u7528\u4ed6\u4eec\u52df\u96c6\u6765\u7684\u8d44\u91d1\u3002\u5728\u8d44\u672c\u7684\u63a8\u52a8\u4e0b\uff0c\u8377\u5170\u7684\u6d77\u4e0a\u8d38\u6613\u548c\u56fd\u529b\u65e5\u76ca\u53d1\u5c55\uff0c\u83b7\u5f97\u4e86\u6d77\u4e0a\u9a6c\u8f66\u592b\u4e4b\u79f0\uff0c\u6210\u4e3a\u51e0\u4e2a\u4e16\u7eaa\u4ee5\u6765\u6b27\u6d32\u6700\u5f3a\u76db\u548c\u5bcc\u88d5\u7684\u56fd\u5bb6\u3002</p> <p></p> <p>\u56fe\u7247\u6765\u6e90\uff1a\u745e.\u8fbe\u5229\u6b27\u300a\u539f\u5219\u300b</p> <p>\u4e0d\u4ec5\u5982\u6b64\u3002\u516c\u53f8\u7684\u6210\u957f\u548c\u878d\u8d44\u662f\u4e00\u4e2a\u9010\u7ea7\u9012\u8fdb\u7684\u8fc7\u7a0b\u3002\u5929\u4f7f\u6295\u8d44\u4eba\u6700\u65e9\u53d1\u73b0\u5546\u4e1a\u7684\u840c\u82bd\u5e76\u6295\u5165\uff0c\u5e76\u5728\u968f\u540e\u7684A\u8f6e\u878d\u8d44\u4e2d\uff0c\u83b7\u5f97\u4e86\u8d44\u672c\u7684\u589e\u503c\uff1bA\u8f6e\u6295\u8d44\u4eba\u7684\u8d44\u672c\u589e\u503c\u901a\u8fc7B\u8f6e\u878d\u8d44\u6765\u5b9e\u73b0\uff1b\u5982\u6b64\u9012\u8fdb\uff0c\u76f4\u5230\u516c\u53f8\u6700\u7ec8IPO\u6210\u529f\uff0c\u80a1\u6743\u8fdb\u5165\u4e8c\u7ea7\u5e02\u573a\u4ea4\u6613\u3002</p> <p>\u56fa\u7136\u4e0d\u662f\u6bcf\u4e00\u5bb6\u516c\u53f8\u90fd\u80fd\u6210\u529f\u4e0a\u5e02\uff0c\u4f46\u90a3\u4e9b\u6210\u529f\u4e0a\u5e02\u7684\u516c\u53f8\uff0c\u4ed6\u4eec\u805a\u96c6\u7684\u5de8\u5927\u8d22\u5bcc\u6548\u5e94\uff0c\u8c61\u78c1\u77f3\u548c\u6f29\u6da1\u4e00\u6837\u5438\u5f15\u7740\u4e00\u7ea7\u5e02\u573a\u7684\u6700\u672b\u8f6e\u6295\u8d44\u8005\u53c2\u4e0e\uff0c\u53c8\u4e00\u7ea7\u4e00\u7ea7\u5730\u5012\u63a8\u56de\u5929\u4f7f\u8f6e\uff0c\u4ece\u800c\u5e26\u52a8\u5de8\u5927\u7684\u8d44\u91d1\u6765\u63a8\u52a8\u521b\u65b0\u548c\u521b\u9020\u3002</p> <p>\u8fd9\u6b63\u662f\u5f53\u521d\u56fd\u5bb6\u8bbe\u7acb\u4e0a\u4ea4\u6240\u7684\u521d\u8877\u3002\u6211\u4eec\u5df2\u7ecf\u770b\u5230\u4e86\u8d44\u672c\u5e02\u573a\u7684\u5de8\u5927\u6210\u5c31\uff0c\u548c\u5b83\u5e26\u6765\u7684\u78c5\u7934\u52a8\u529b\u3002\u968f\u7740\u4eca\u5e74\u5168\u9762\u6ce8\u518c\u5236\u7684\u63a8\u884c\uff0c\u8fd9\u79cd\u52a8\u529b\u5c06\u7ef5\u6e90\u4e0d\u7edd\uff0c\u66f4\u52a0\u5f3a\u5927\u3002</p> <p>\u5982\u679c\u60a8\u559c\u6b22\u8fd9\u672c\u4e66\uff0c\u53ef\u4ee5\u5728\u70b9\u51fb\u8fd9\u91cc\u8d2d\u4e70\u3002</p> <p></p>"},{"location":"articles/products/","title":"\u5927\u5bcc\u7fc1\u4ea7\u54c1\u7cfb\u5217","text":"\u5927\u5bcc\u7fc1\u5f00\u6e90\u4ea7\u54c1\u7cfb\u5217"},{"location":"articles/products/#zillionare","title":"\u5927\u5bcc\u7fc1 (Zillionare )","text":"<p>\u5927\u5bcc\u7fc1\u662f\u53ef\u4ee5\u672c\u5730\u90e8\u7f72\u7684\u5f00\u6e90\u91cf\u5316\u6846\u67b6\uff0c\u529f\u80fd\u9f50\u5168\uff0c\u80fd\u5bb9\u7eb3\u8d85\u5927\u89c4\u6a21\u6570\u636e\uff08\u76ee\u524d\u5728\u751f\u4ea7\u73af\u5883\u5df2\u5b58\u50a8\u8d8535\u4ebf\u6761\u884c\u60c5\u6570\u636e\uff09\u3002</p>"},{"location":"articles/products/#_1","title":"\u529f\u80fd\u548c\u7279\u6027","text":"<ol> <li>\u5206\u4f53\u5f0f\u56de\u6d4b\u7cfb\u7edf\u8bbe\u8ba1\uff0c\u7b56\u7565\u56de\u6d4b\u4e0e\u5b9e\u76d8\u4ea4\u6613\u4f7f\u7528\u5b8c\u5168\u4e00\u81f4\u7684API\uff0c\u65e0\u987b\u66f4\u6539</li> <li>\u66f4\u7cbe\u51c6\u7684\u6210\u4ea4\u91cf\u5339\u914d\u7b97\u6cd5\uff08\u9700\u8981\u5206\u949f\u7ea7\u6570\u636e\uff09</li> <li>\u57fa\u4e8eInfluxDB\u7684\u9ad8\u6027\u80fd\u672c\u5730\u91cf\u5316\u5e73\u53f0\uff0c\u80fd\u5bb9\u7eb3\u6d77\u91cf\u6570\u636e<ul> <li>\u901a\u8fc7\u805a\u5bbdjqdatasdk\u6301\u7eed\u540c\u6b65\u884c\u60c5\u6570\u636e\uff08\u5ef6\u65f61\u5206\u949f\uff09</li> <li>\u57fa\u4e8eakshare\u83b7\u5f97\u5ef6\u65f6\u5c0f\u4e8e5\u79d2\u7684\u5b9e\u65f6\u884c\u60c5\u6570\u636e</li> </ul> </li> <li>\u57fa\u4e8e\u5bb9\u5668\u6280\u672f\u6784\u5efa\u548c\u90e8\u7f72\uff0c\u8fd0\u884c\u7a33\u5b9a</li> <li>\u57fa\u4e8eJupyter Lab\u7684\u7814\u7a76\u73af\u5883</li> <li>\u63d0\u4f9b\u5927\u91cf\u91cf\u5316\u5fc5\u7528API\uff1a<ul> <li>\u65f6\u95f4\u8fd0\u7b97\u5e93\uff0c\u6bd4\u5982\u4e24\u4e2a\u4ea4\u6613\u65f6\u95f4\u5e27(frame)\u4e4b\u95f4\u6709\u591a\u5c11\u4e2a\u5e27\uff1f\u4ece\u67d0\u4e2a\u65f6\u95f4\u5e27\u8d77\uff0c\u5411\u524d\u79fb\u52a8n\u4e2a\u5e27\uff0c\u5f97\u5230\u7684\u65f6\u95f4\u662f\uff1f</li> <li>\u8bc1\u5238\u5217\u8868\u8fd0\u7b97\u5e93\u3002\u6bd4\u5982\u6309\u540d\u5b57\u6a21\u7cca\u67e5\u627e\uff0c\u6309\u677f\u5757\u63d0\u53d6\u5217\u8868\u7b49\uff0c\u652f\u6301include/exclude\u8fd0\u7b97\u3002</li> <li>\u65f6\u95f4\u5e8f\u5217\u7279\u5f81\u8fd0\u7b97\u5e93\u3002\u6bd4\u5982cross\uff08\u91d1\u53c9\uff09\uff0cfind_runs\uff08\u5bfb\u627e\u8fde\u7eed\u503c\uff09\u3001low_range\uff08n\u5468\u671f\u4ee5\u6765\u6700\u5c0f\u503c\uff09\u7b49</li> <li>\u7ed8\u56fe\u3002\u63d0\u4f9b\u4ea4\u4e92\u5f0fk\u7ebf\u56fe\u3001\u7b56\u7565\u62a5\u544a\u3002</li> <li>\u7b56\u7565\u57fa\u7c7b\u3002\u57fa\u4e8e\u8be5\u57fa\u7c7b\uff0c\u5b9e\u73b0\u81ea\u5df1\u7684\u7b56\u7565\u6700\u7b80\u5355\u53ea\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570</li> </ul> </li> <li>Trader client\u63d0\u4f9b\u56de\u6d4b\u4e0e\u5b9e\u76d8\u4e00\u81f4\u7684\u4ea4\u6613API</li> <li>\u5927\u91cf\u8be6\u5b9e\u3001\u7cbe\u51c6\u7684\u6587\u6863</li> <li>\u9879\u76ee\u57fa\u4e8ePython Project Wizard\u642d\u5efa\u8d28\u91cf\u4fdd\u8bc1\u53caCI/CD\u4f53\u7cfb\uff0c\u7b26\u5408\u793e\u533a\u6700\u4f73\u5b9e\u8df5\u3002</li> </ol>"},{"location":"articles/products/#_2","title":"\u67b6\u6784\u548c\u7ec4\u4ef6","text":"<p>\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u7531\u4ee5\u4e0b\u4e3b\u8981\u7ec4\u4ef6\uff08\u670d\u52a1\uff09\u6784\u6210\uff1a</p> <p></p> <ul> <li> <p>Omega\u662f\u5927\u5bcc\u7fc1\u7684\u6570\u636e\u670d\u52a1\u5668\uff0c\u5c06\u4e0a\u6e38\u6570\u636e\u6e90\u63d0\u4f9b\u7684\u6570\u636e\u5b9e\u65f6\u672c\u5730\u5316\u3002</p> </li> <li> <p>Omicron\u662f\u5927\u5bcc\u7fc1\u7684\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u6570\u636e\u8bbf\u95eeAPI\uff0c\u7b56\u7565\u57fa\u7c7b\uff0cK\u7ebf\u56fe\u7ed8\u5236\u3001\u65e5\u5386\u548c\u8bc1\u5238\u5217\u8868\u8fd0\u7b97\u3001\u56de\u6d4b\u6536\u76ca\u56fe\u7ed8\u5236\u7b49\u529f\u80fd\u3002</p> </li> <li>Backtesting Backtesting\u662f\u5927\u5bcc\u7fc1\u7684\u56de\u6d4b\u670d\u52a1\u5668\uff0c\u63d0\u4f9b\u4e86\u56de\u6d4b\u65f6\u7684\u64ae\u5408\u529f\u80fd\u3002</li> <li>Trader-Client \u5927\u5bcc\u7fc1\u4ea4\u6613\u5ba2\u6237\u7aef\u3002\u4e00\u5957API\uff0c\u63d0\u4f9b\u56de\u6d4b\u3001\u6a21\u62df\u548c\u5b9e\u76d8\u63a5\u53e3\u3002</li> <li>gm-adaptor \u5927\u5bcc\u7fc1\u4ea4\u6613\u7f51\u5173\uff0c\u63d0\u4f9b\u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3\uff08\u9700\u8981\u5f00\u901a\u4e1c\u8d22\u91cf\u5316\u6743\u9650\uff09\u3002</li> </ul> <p>\u9664\u5927\u5bcc\u7fc1\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e86\u5176\u5b83\u5f00\u6e90\u5e93\uff0c\u6bd4\u8f83\u91cd\u8981\u7684\u6709\uff1a</p>"},{"location":"articles/products/#_3","title":"\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":"<p>Python Project Wizard\u662f\u4e00\u4e2aPython\u9879\u76ee\u6a21\u677f\u521b\u5efa\u5de5\u5177\u3002\u901a\u8fc7Wizard\uff0c\u53ef\u4ee5\u5feb\u901f\u521b\u5efa\u4e00\u4e2aPython\u9879\u76ee\u7684\u6846\u67b6\uff0c\u5e76\u5177\u6709\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>[Poetry]  \u901a\u8fc7Poetry\u6765\u7ba1\u7406\u7248\u672c\u3001\u4f9d\u8d56\u3001\u6784\u5efa\u548c\u53d1\u5e03</li> <li>[Mkdocs] \u64b0\u5199\u57fa\u4e8eMarkdown\u7684\u6587\u6863\uff0c\u5e38\u89c1\u6269\u5c55\u4e5f\u5df2\u7ecf\u914d\u7f6e</li> <li>[Pytest] \u4f7f\u7528Pytest\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff08unittest\u4ecd\u7136\u652f\u6301\uff0c\u5e76\u4e14\u76f4\u63a5\u53ef\u7528\uff09</li> <li>[Codecov] \u751f\u6210coverage report\uff0c\u5e76\u4e14\u7531[Codecov]\u80cc\u4e66\uff0c\u5f00\u6e90\u9879\u76ee\u5fc5\u5907</li> <li>[Tox] \u5bf9\u4ee3\u7801\u8fdb\u884c\u77e9\u9635\u5316\u6d4b\u8bd5\uff08\u5305\u542b\u98ce\u683c\u68c0\u67e5\u548c\u8bed\u6cd5\u68c0\u67e5\uff09</li> <li>\u4f7f\u7528[Black] \u548c [Isort]\u683c\u5f0f\u5316\u4ee3\u7801</li> <li>\u4f7f\u7528[Flake8] \u548c [Flake8-docstrings]\u5bf9\u4ee3\u7801\u548cdocstrings\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5</li> <li>[Pre-commit hooks] \u4ee3\u7801\u63d0\u4ea4\u524d\u5f3a\u5236\u8fdb\u884c\u98ce\u683c\u548c\u8bed\u6cd5\u68c0\u67e5\uff0c\u4ee5\u53ca\u683c\u5f0f\u5316</li> <li>[Mkdocstrings] \u81ea\u52a8\u751f\u6210API\u6587\u6863</li> <li>\u751f\u6210\u57fa\u4e8e[Python Fire]\u7684\u547d\u4ee4\u884c\u63a5\u53e3</li> <li>\u5df2\u914d\u7f6e\u597dGithub\u6301\u7eed\u96c6\u6210\uff0c\u5305\u62ec\u4ee5\u4e0b\u529f\u80fd\uff1a<ul> <li>\u96c6\u6210\u6d4b\u8bd5</li> <li>\u96c6\u6210\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u53d1\u5e03dev build\u5230testpypi\uff0c\u4f9b\u6d4b\u8bd5</li> <li>\u68c0\u6d4b\u5230\u65b0\u7684tag\uff08\u4ee5\u5b57\u6bcdv\u5f00\u5934\uff09\u540e\uff0c\u4ecerelease\u5206\u652f\u4e0a\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u548cwheels\u5305</li> <li>\u81ea\u52a8\u63d0\u53d6change log\u5230release Notes</li> <li>\u81ea\u52a8\u53d1\u5e03github release</li> </ul> </li> <li>\u4f7f\u7528git pages\u6765\u6258\u7ba1\u6587\u6863</li> </ul> <p>\u5b89\u88c5\uff1a <pre><code>pip install ppw\n</code></pre></p>"},{"location":"articles/products/#_4","title":"\u914d\u7f6e\u7ba1\u7406","text":"<p>Cfg4Py\u662f\u4e00\u4e2aPython\u5e93\uff0c\u7528\u4e8e\u89e3\u6790\u548c\u7ba1\u7406\u60a8\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5b83\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li>\u5c06yaml\u683c\u5f0f\u7684\u914d\u7f6e\u6587\u4ef6\u89e3\u6790\u6210\u4e3a\u4e00\u4e2aPython\u5bf9\u8c61\uff0c\u4ece\u800c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027\u8bbf\u95ee\u8bed\u6cd5\uff0c\u800c\u4e0d\u662f\u7e41\u7410\u6613\u9519\u7684\u5b57\u5178\u8bbf\u95ee\u8bed\u6cd5\u6765\u4f7f\u7528\u914d\u7f6e\u9879\u3002\u5e76\u4e14\u7531\u4e8e\u8fd9\u4e00\u7279\u6027\uff0c\u4f7f\u5f97IDE\u4ee3\u7801\u63d0\u793a\u548c\u81ea\u52a8\u5b8c\u6210\u6210\u4e3a\u53ef\u80fd\u3002\u8fd9\u6837\uff0c\u60a8\u4e0d\u518d\u9700\u8981\u8bb0\u5fc6\u4f17\u591a\u914d\u7f6e\u9879\u4e86\u3002</li> <li>\u81ea\u9002\u5e94\u5b89\u88c5\u73af\u5883\u652f\u6301\u3002\u652f\u6301\u60a8\u4e3a\u751f\u4ea7\u73af\u5883\u3001\u5f00\u53d1\u73af\u5883\u548c\u6d4b\u8bd5\u73af\u5883\u751f\u6210\u72ec\u7acb\u7684\u914d\u7f6e\u6587\u4ef6\u3002</li> <li>\u5c42\u6b21\u5f0f\u914d\u7f6e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u4e2d\u592e\u914d\u7f6e\u6e90\uff08\u6bd4\u5982redis\u7f13\u5b58\uff09\uff0c\u7136\u540e\u7528\u672c\u5730\u6587\u4ef6\u6765\u8986\u76d6\u67d0\u4e9b\u9009\u9879\u3002\u8fd9\u5728\u67e5\u9519\u548c\u7ef4\u62a4\u65f6\u975e\u5e38\u6709\u7528\u3002</li> <li>\u914d\u7f6e\u6a21\u677f\u3002\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u4e0d\u77e5\u9053\u8fde\u63a5\u4e32\u5e94\u8be5\u5982\u4f55\u5199\uff1fCfg4Py\u53ef\u4ee5\u5e2e\u60a8\u3002Cfg4Py\u4e3a\u5e38\u7528\u7684\u6846\u67b6\u63d0\u4f9b\u4e86\u914d\u7f6e\u6a21\u677f\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7<code>cfg4py scaffold</code>\u6765\u9009\u62e9\u751f\u6210\u54ea\u4e9b\u914d\u7f6e\u9879\u3002</li> <li>\u70ed\u66f4\u65b0\u3002\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u540e\uff0c\u65e0\u9700\u91cd\u542f\u670d\u52a1\uff0c\u81ea\u52a8\u66f4\u65b0\u3002</li> <li>\u5b8f\u529f\u80fd\u3002\u81ea\u52a8\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6765\u66ff\u6362\u914d\u7f6e\u9879\u4e2d\u7684\u5b8f\u3002</li> </ol> <p>\u5b89\u88c5: <pre><code>pip install cfg4py\n</code></pre></p>"},{"location":"articles/products/#_5","title":"\u5f00\u53d1\u73af\u5883\u6784\u5efa","text":"<p>Python\u5f00\u53d1\u73af\u5883Docker\u955c\u50cf</p> <p>\u60a8\u7684\u5f00\u53d1\u73af\u5883\u6700\u597d\u6784\u5efa\u5728\u5bb9\u5668\u4e4b\u4e2d\u3002\u8fd9\u6837\u505a\u6709\u4ee5\u4e0b\u597d\u5904\uff1a</p> <ol> <li>\u59cb\u7ec8\u4f7f\u7528\u4e00\u81f4\u7684\u5f00\u53d1\u73af\u5883\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002</li> <li>\u6d4b\u8bd5\u65f6\u5f80\u5f80\u9700\u8981\u5e72\u51c0\u7684\u73af\u5883\uff0c\u901a\u8fc7\u4f7f\u7528\u955c\u50cf\uff0c\u6211\u4eec\u53ef\u4ee5\u968f\u65f6\u6784\u5efa\u4e00\u4e2a\u65b0\u7684\u3001\u5e72\u51c0\u7684\u5bb9\u5668\u6765\u6267\u884c\u6d4b\u8bd5\u3002</li> <li>\u9632\u6b62\u5f00\u53d1\u4e2d\u8bef\u5220\u9664\u6587\u4ef6\u3002\u5982\u679c\u662f\u5728\u5bb9\u5668\u4e2d\u53d1\u751f\u8bef\u5220\u9664\u6587\u4ef6\u7684\u64cd\u4f5c\uff0c\u6700\u591a\u4e5f\u5c31\u635f\u574f\u4e86\u5bb9\u5668\u672c\u8eab\uff0c\u4e0d\u81f3\u4e8e\u8981\u91cd\u88c5\u7cfb\u7edf\u3002</li> </ol> <p>\u8fd9\u4e2a\u955c\u50cf\u5305\u62ec\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li>ssh\u670d\u52a1\u5668</li> <li>git, python3, wget, vim, miniconda</li> <li>\u5b89\u88c5\u4e86redis\u548cpostgres</li> </ol> <p>\u5b89\u88c5 <pre><code>    docker pull zillionare/python-dev-machine\n</code></pre></p>"},{"location":"articles/products/#_6","title":"\u8fdb\u7a0b\u95f4\u6d88\u606f","text":"<p>Pyemit \u63d0\u4f9b\u4e86\u57fa\u4e8eredis\u7684\u7b80\u5355\u6613\u7528\u7684\u8fdb\u7a0b\u95f4\u6d88\u606f\u901a\u8baf\u673a\u5236\u548c\u7b80\u6613RPC\u670d\u52a1\u3002</p>"},{"location":"articles/products/1.0/","title":"1.0","text":"<p>Zillionare\uff08\u5927\u5bcc\u7fc1\uff09\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u9ad8\u901f\u91cf\u5316\u4ea4\u6613\u6846\u67b6\u3002\u5b83\u57fa\u4e8ePython 3.8\u4ee5\u4e0a\u7248\u672c\u6784\u5efa\uff0c\u4f7f\u7528\u4e86\u5f02\u6b65IO\u548c\u5fae\u670d\u52a1\u6280\u672f\uff0c\u5176\u76ee\u6807\u662f\uff1a</p> <ul> <li>\u5206\u5e03\u5f0f\u9ad8\u901f\u91cf\u5316\u8ba1\u7b97\u5e73\u53f0\uff0c\u7b97\u529b\u53ef\u6839\u636e\u9700\u8981\u65e0\u7f1d\u6269\u5c55</li> <li>\u884c\u60c5\u6570\u636e\u672c\u5730\u5316\u5b58\u50a8\uff0c\u4f4e\u5ef6\u65f6\u540c\u6b65\uff0c\u8f7b\u677e\u652f\u6301\u5b9e\u65f6\u89e6\u53d1\u5206\u949f\u7ea7\u522b\u4ee5\u4e0a\u4ea4\u6613\u4fe1\u53f7</li> <li>\u652f\u6301\u79c1\u6709\u5316\u90e8\u7f72\uff0c\u4fdd\u62a4\u60a8\u7684\u7b56\u7565</li> <li>\u865a\u62df\u5316\u90e8\u7f72\uff0c\u66f4\u6613\u7ef4\u62a4</li> <li>\u8bf8\u591a\u91cf\u5316\u56e0\u5b50</li> <li>\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u7684\u4ea4\u6613\u7b56\u7565</li> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u4ea4\u6613\u7b56\u7565</li> <li>\u9ad8\u901f\u56de\u6d4b\u6846\u67b6</li> </ul> <p>\u5982\u679c\u60a8\u4e0d\u662f\u4ece\u89e3\u8bed\u79d1\u6280\u5b98\u65b9\u7f51\u7ad9\u6253\u5f00\u7684\u672c\u6587\u6863\uff0c\u8bf7\u70b9\u51fb\u94fe\u63a5\u89e3\u8bed\u79d1\u6280\uff0c\u8df3\u8f6c\u5230\u5b98\u7f51\u9605\u8bfb\u672c\u6587\u3002\u6211\u4eec\u5728\u7f51\u7ad9\u4e0a\u63d0\u4f9b\u4e86\u66f4\u591a\u6587\u6863\u548c\u6559\u7a0b\uff0c\u5e76\u4e14\u6392\u7248\u66f4\u9002\u5408\u9605\u8bfb\u3002</p>"},{"location":"articles/products/1.0/#_1","title":"\u4e3a\u4ec0\u4e48\u8981\u5f00\u53d1\u5927\u5bcc\u7fc1\uff1f","text":"<p>\u4f5c\u8005\u4ece2019\u5e74\u8d77\u5f00\u59cb\u5173\u6ce8\u91cf\u5316\u4ea4\u6613\u3002\u5728\u8bd5\u7528\u4e86\u4e00\u4e9b\u5546\u4e1a\u548c\u5f00\u6e90\u7684\u4ea7\u54c1\u540e\uff0c\u4f5c\u8005\u53d1\u73b0\uff0c\u8fd8\u6ca1\u6709\u4e00\u4e2a\u4ea7\u54c1\u80fd\u591f\u4ee5\u53ef\u8d1f\u62c5\u7684\u6210\u672c\u63d0\u4f9b\u4f4e\u5ef6\u65f6\u3001\u51c6\u786e\u7684\u6570\u636e\uff0c\u5728\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u7684\u4ea4\u6613\u7b56\u7565\u65b9\u9762\u66f4\u662f\u5b8c\u5168\u6ca1\u6709\u3002</p> <p>\u4e00\u4e9b\u4ea7\u54c1\u5728\u6570\u636e\u6e90\u7ec4\u7ec7\u4e0a\u505a\u7684\u6bd4\u8f83\u597d\uff0c\u6570\u636e\u53ef\u9760\u6027\u9ad8\uff0c\u4f46\u662f\u4e0d\u63d0\u4f9b\u79bb\u7ebf\u5b58\u50a8\u3002\u5982\u679c\u6bcf\u4e00\u7b14\u6570\u636e\u90fd\u8981\u5728\u7ebf\u83b7\u53d6\u7684\u8bdd\uff0c\u8fd9\u6837\u4ea7\u751f\u4e86\u6570\u636e\u8bf7\u6c42\u54cd\u5e94\u901f\u5ea6\u548c\u8d39\u7528\u95ee\u9898\u3002</p> <p>\u6570\u636e\u8bf7\u6c42\u54cd\u5e94\u901f\u5ea6\u6162</p> Info <p>\u6211\u4eec\u7684\u7b56\u7565\u5e38\u5e38\u662f\u8981\u5bf9\u5168\u5e02\u573a\u8fdb\u884c\u626b\u63cf\uff0c\u4ee5\u5c3d\u53ef\u80fd\u5730\u53d1\u73b0\u4ea4\u6613\u4fe1\u53f7\u3002\u4f46\u662f\u8fd9\u6837\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u6570\u636e\u8bf7\u6c42\u3002</p> <p>\u6211\u4eec\u4ee5\u4e00\u4e2a\u5747\u7ebf\u7b56\u7565\u4e3a\u4f8b\uff0c\u5047\u8bbe\u8be5\u7b56\u7565\u7528\u5230\u4e86\u5e74\u7ebf\u6570\u636e\uff0c\u5219\u5728\u5bf9\u5168\u5e02\u573a\u8fdb\u884c\u626b\u63cf\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u6b21\u626b\u63cf\u9700\u8981\u4ece\u670d\u52a1\u5668\u4e0a\u53d6\u5f971\u767e\u4e07\u6761\u6570\u636e\uff08\u6309A\u80a1\u5168\u5e02\u573a4000\u652f\u6807\u7684\uff0c\u6bcf\u652f\u6700\u5927\u53d6\u5e74\u7ebf250\u65e5\u8ba1\u7b97\uff09\u3002</p> <p>\u8981\u53d6\u5f97\u8fd9\u4e48\u591a\u6570\u636e\uff0c\u7f51\u7edc\u8bf7\u6c42\u6570\u91cf\u548c\u8017\u65f6\u90fd\u662f\u60ca\u4eba\u7684\u3002\u4ee5\u67d0sdk\u4e3a\u4f8b\uff0c\u5355\u4f1a\u8bdd\u53d6100\u4e07\u6761\u6570\u636e\uff0c\u4e00\u822c\u5927\u6982\u9700\u89817-10\u5c0f\u65f6\u5de6\u53f3\u3002\u5982\u6b64\u4e00\u6765\uff0c\u5c31\u4e0d\u53ef\u80fd\u5b9e\u73b0\u4efb\u4f55\u5b9e\u65f6\u6216\u8005\u51c6\u5b9e\u65f6\u7684\u4ea4\u6613\u7b56\u7565\u3002\u5373\u4f7f\u5728\u4e00\u4e9b\u975e\u5b9e\u65f6\u7684\u573a\u5408\uff0c\u6bd4\u5982\u521d\u6b21\u5b89\u88c5\u5b8c\u6210\u540e\u7684\u6570\u636e\u5e93\u521d\u59cb\u5316\uff0c\u67d0\u5f00\u6e90\u9879\u76ee\u7684\u521d\u59cb\u5316\u7b49\u5f85\u65f6\u95f4\u4ee5\u5929\u8ba1\uff08\u5f53\u7136\u652f\u6301\u65ad\u70b9\uff09\uff0c\u8fd9\u4e5f\u4f3c\u4e4e\u662f\u96be\u4ee5\u63a5\u53d7\u7684\u3002</p> <p>\u8d39\u7528</p> Info <p>\u6240\u6709\u6570\u636e\u90fd\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u7684\u8bdd\uff0c\u4e5f\u7ed9\u670d\u52a1\u5668\u5e26\u6765\u8f83\u5927\u7684\u8d1f\u8377\uff0c\u56e0\u6b64\u670d\u52a1\u4e0d\u53ef\u80fd\u514d\u8d39\u63d0\u4f9b\u3002</p> <p>\u6bd4\u5982\u805a\u5bbd\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7684\u6570\u636e\u63d0\u4f9b\u8005\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u7533\u8bf7\u4e00\u5e74\u671f\u7684\u514d\u8d39\u8bd5\u7528\u6743\u9650\uff0c\u8bd5\u7528\u671f\u95f4\uff0c\u6bcf\u5929\u63d0\u4f9b100\u4e07\u7b14\uff08\u6b21\uff09\u6570\u636e\u3002\u5c3d\u7ba1\u8fd9\u4e2a\u65b9\u6848\u5df2\u7ecf\u5341\u5206\u6177\u6168\u4e86\uff0c\u4f46\u4e0d\u8981\u8bf4\u5bf9\u4e8e\u5b9e\u9645\u751f\u4ea7\u73af\u5883\uff0c\u5c31\u662f\u81ea\u884c\u8fdb\u884c\u7814\u7a76\u4e5f\u662f\u6349\u895f\u89c1\u8098\u3002\u4f5c\u8005\u81ea\u5df1\u4e5f\u5e38\u5e38\u9047\u5230\u4e00\u8f6e\u5355\u5143\u6d4b\u8bd5\u6ca1\u8dd1\u5b8c\uff0cQuota\u5c31\u4e0d\u591f\u7684\u60c5\u51b5\u3002</p> <p>\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\u7684\u6839\u672c\uff0c\u662f\u5e94\u8be5\u5c06\u5df2\u6536\u76d8\u7684k\u7ebf\u6570\u636e\uff0c\u5728\u672c\u5730\u5b58\u50a8\u8d77\u6765\uff0c\u7136\u540e\u5b9e\u65f6\u540c\u6b65\u672c\u5730\u4e0e\u4e0a\u6e38\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5dee\u5206\u6570\u636e\u3002</p> <p>\u4e00\u4e9b\u4ea7\u54c1\u63d0\u4f9b\u4e86\u7c7b\u4f3c\u7684\u6570\u636e\u672c\u5730\u5316\u5b58\u50a8\u65b9\u6848\uff0c\u4f46\u4e5f\u6709\u4e00\u4e9b\u9650\u5236\u548c\u7f3a\u9677\u3002</p> <p>\u6bd4\u5982\u4e00\u4e9b\u4ea7\u54c1\u628a\u83b7\u53d6\u6570\u636e\u7684API\u5206\u4e3a\u79bb\u7ebf\u548c\u5728\u7ebf\u4e24\u7c7b\u3002\u4f7f\u7528\u79bb\u7ebfAPI\u53ef\u4ee5\u4ece\u672c\u5730\u5b58\u50a8\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u6570\u636e\u4e0d\u662f\u5b9e\u65f6\u7684\uff0c\u65e0\u6cd5\u7528\u4e8e\u6307\u5bfc\u5b9e\u65f6\u4ea4\u6613\uff1b\u8981\u5f97\u5230\u5b9e\u65f6\u6570\u636e\u4ecd\u7136\u5fc5\u987b\u4f7f\u7528\u5728\u7ebfAPI\uff0c\u8981\u4e48\u4e00\u6b21\u6027\u83b7\u53d6\u5168\u90e8\u9700\u8981\u7684\u6570\u636e\uff08\u8fd9\u5c31\u629b\u5f00\u4e86\u672c\u5730\u5b58\u50a8\u7684\u4f18\u52bf\uff09\uff0c\u8981\u4e48\u901a\u8fc7\u5728\u7ebfAPI\u83b7\u53d6\u5dee\u5206\u6570\u636e\uff0c\u81ea\u5df1\u518d\u8bfb\u53d6\u6570\u636e\u5e93\u4e2d\u7684\u79bb\u7ebf\u6570\u636e\uff0c\u81ea\u884c\u5408\u5e76\u3002\u5b9e\u9645\u4e0a\u4ea7\u54c1\u5e94\u8be5\u80fd\u591f\u900f\u660e\u5730\u63d0\u4f9b\u7528\u6237\u9700\u8981\u7684\u6570\u636e\uff0c\u628a\u8fd9\u4e9b\u6280\u672f\u7ec6\u8282\u9690\u85cf\u5728\u5185\u90e8\uff0c\u8fd9\u6837\u4f7f\u7528\u8005\u53ef\u4ee5\u5c06\u66f4\u591a\u7cbe\u529b\u653e\u5728\u7b56\u7565\u5f00\u53d1\u4e0a\u3002</p> <p>\u6280\u672f\u503a\u52a1</p> Info <p>\u4ece\u6280\u672f\u4e0a\u770b\uff0cPython\u793e\u533a\u4e00\u76f4\u5728\u8fdb\u6b65\uff0c\u4e00\u4e9b\u4ea7\u54c1\u8d77\u6b65\u65e9\uff0c\u67b6\u6784\u9501\u5b9a\u5728\u4e86\u4e00\u4e9b\u9648\u65e7\u7684\u6280\u672f\u6808\u4e0a\uff0c\u4ea7\u751f\u4e86\u6280\u672f\u503a\u52a1\u3002</p> <p>\u91cf\u5316\u4ea4\u6613\u6846\u67b6\u7684\u4f7f\u7528\u8005\u5f80\u5f80\u90fd\u8981\u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\u3002\u5728\u4e8c\u6b21\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u65e0\u5f62\u4e2d\u5c06\u81ea\u5df1\u7684\u6280\u672f\u6808\u9501\u5b9a\u5728\u4e86\u8fd9\u4e9b\u8001\u65e7\u7684\u6280\u672f\u4e0a\u3002\u8fd9\u5bf9\u4e8c\u6b21\u5f00\u53d1\u8005\u6765\u8bf4\u4e5f\u662f\u4e0d\u516c\u5e73\u7684\u3002</p> <p>\u5982\u4e00\u4e9b\u4ea7\u54c1\u65e0\u8bba\u662f\u8bfb\u672c\u5730\u6570\u636e\uff08\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\uff09\u8fd8\u662f\u8bfb\u8fdc\u7a0b\u6570\u636e\uff0c\u90fd\u5728\u4f7f\u7528\u540c\u6b65IO\uff0c\u8fd9\u5bf9\u4e8e\u4f7f\u7528Python\u4f5c\u4e3a\u5f00\u53d1\u8bed\u8a00\u7684\u5e94\u7528\u6765\u8bf4\uff0c\u8fd9\u662f\u4e25\u91cd\u7684\u6027\u80fd\u8bbe\u8ba1\u7f3a\u9677\u3002Python\u80fd\u5229\u7528\u7684\u4e3a\u6570\u4e0d\u591a\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u5f80\u5f80\u88ab\u6d88\u8017\u5728IO\u7b49\u5f85\u4e0a\u4e86\u3002</p> <p>\u54c1\u63a7</p> Info <p>\u4e00\u4e9b\u5546\u4e1a\u9879\u76ee\u7684\u54c1\u63a7\u65e0\u6cd5\u8bc4\u4f30\uff0c\u4f46\u5982\u679c\u5f00\u6e90\u9879\u76ee\u672a\u4f7f\u7528CI\uff0c\u6ca1\u6709\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\uff0c\u5c3d\u7ba1\u5f00\u6e90\u4e86\uff0c\u4e5f\u5f88\u96be\u8bc4\u4f30\u5176\u54c1\u63a7\u3002</p> <p>\u56e0\u6b64\uff0c\u4f5c\u8005\u51b3\u5b9a\u81ea\u884c\u5f00\u53d1\u4e00\u4e2a\u6846\u67b6\uff0c\u81f4\u529b\u4e8e\u89e3\u51b3\u4e0a\u8ff0\u51e0\u4e2a\u65b9\u9762\u7684\u95ee\u9898\uff0c\u5e76\u4e14\u5728\u4ea4\u6613\u7b56\u7565\u4e0a\u5f15\u5165\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u3002</p> <p>\u5f53\u7136\uff0c\u7531\u4e8e\u4e2a\u4eba\u6280\u672f\u80fd\u529b\u548c\u773c\u754c\u6240\u9650\uff0c\u5927\u5bcc\u7fc1\u4e5f\u80af\u5b9a\u5b58\u5728\u5404\u79cd\u4e0d\u8db3\u3002\u662f\u5426\u8fbe\u5230\u4e86\u4f5c\u8005\u7684\u9884\u671f\uff0c\u4e5f\u9700\u8981\u7528\u6237\u7684\u8bc4\u4ef7\u3002</p>"},{"location":"articles/products/1.0/#_2","title":"\u5927\u5bcc\u7fc1\u6709\u54ea\u4e9b\u6280\u672f\u7279\u70b9\uff1f","text":"<p>\u9ad8\u6027\u80fd     \u4e3a\u4e86\u786e\u4fdd\u5927\u5bcc\u7fc1\u7684\u9ad8\u6027\u80fd\uff0c\u4f5c\u8005\u4ece\u67b6\u6784\u3001\u7ec4\u4ef6\u9009\u578b\u5230\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u505a\u4e86\u8f83\u6df1\u5165\u7684\u601d\u8003\uff0c\u5e76\u4ece\u4ea7\u54c1\u5b9a\u4f4d\u89d2\u5ea6\u4e0a\u505a\u4e86\u53d6\u820d\u3002</p> Info <p>\u5927\u5bcc\u7fc1\u67b6\u6784\u5728\u591a\u8fdb\u7a0b\u3001\u5206\u5e03\u5f0f\u5fae\u670d\u52a1\u57fa\u7840\u4e4b\u4e0a\uff0c\u4f7f\u7528\u4e86\u6d88\u606f\u961f\u5217\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u7f13\u5b58\uff08\u5185\u5b58\uff09\u6570\u636e\u5e93\u7b49\u6280\u672f\u3002\u5728\u884c\u60c5\u540c\u6b65\uff08\u5b9e\u65f6\u548c\u975e\u5b9e\u65f6\uff09\u65f6\uff0c\u90fd\u4f7f\u7528\u4e86\u591a\u8fdb\u7a0b\u534f\u4f5c\u6a21\u5f0f\uff0c\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u7f51\u7edc\u5e76\u53d1\u91cf\u3002\u5728\u8fdb\u7a0b\u534f\u4f5c\u65b9\u9762\uff0c\u65e2\u6709\u8d1f\u8f7d\u5747\u8861\u6a21\u5f0f\uff08\u901a\u8fc7nginx)\uff0c\u4e5f\u6709\u5e76\u884c\u6a21\u5f0f(\u5185\u7f6e\u6d88\u606f\u673a\u5236\u652f\u6301\uff09\u3002</p> <p>\u5728\u7f51\u7edc\u7ec4\u4ef6\u65b9\u9762\u5c3d\u53ef\u80fd\u4f7f\u7528\u652f\u6301\u5f02\u6b65IO\u7684\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u3002\u6bd4\u5982\u8bbf\u95eeRedis\u6570\u636e\u5e93\u65f6\uff0c\u4f7f\u7528\u4e86aioredis\uff1b\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u4f7f\u7528\u4e86asyncpg\u3002</p> <p>\u5728\u5bf9\u4e3b\u8981\u7684\u6570\u636e\u79cd\u7c7b--\u884c\u60c5\u6570\u636e\u7684\u6df1\u5165\u7814\u7a76\u540e\uff0c\u6839\u636e\u6570\u636e\u7684\u5206\u5e03\u548c\u5904\u7406\u52a0\u5de5\u7279\u70b9\uff0c\u51b3\u5b9a\u4f7f\u7528Redis\u6765\u6301\u4e45\u5316\u4fdd\u5b58\u884c\u60c5\u6570\u636e\uff1b\u4f7f\u7528Numpy\u7684\u7ed3\u6784\u5316\u6570\u7ec4\u6765\u4f5c\u4e3a\u884c\u60c5\u6570\u636e\u7684\u5185\u5b58\u8868\u793a--\u5176\u5b83\u6846\u67b6\u4e00\u822c\u4f7f\u7528\u7684\u662fPandas\u3002\u5173\u4e8e\u4e3a\u4f55\u8fd9\u6837\u7684\u9009\u62e9\uff0c\u8bf7\u53c2\u8003[[TODO]]\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u4ece\u8fd0\u8425\u7684\u89d2\u5ea6\u4e0d\u65ad\u8fdb\u884c\u4f18\u5316\u3002\u6bd4\u5982\u521d\u6b21\u5b89\u88c5\u540e\u7684\u6570\u636e\u5bfc\u5165\uff0c\u7531\u4e8e\u6211\u4eec\u4f7f\u7528\u4e86CDN\u52a0\u901f\u548c\u591a\u8fdb\u7a0b\u6a21\u5f0f\uff0c\u5728\u5927\u5bcc\u7fc1\u4e2d\u5bfc\u5165\u4e00\u5e74A\u80a1\u7684\u6570\u636e\uff08\u542b30\u5206\u949f\u53ca\u4ee5\u4e0aK\u7ebf\uff09\uff0c\u53ea\u9700\u8981170 ~ 240\u79d2\u4e4b\u95f4\uff08\u53d6\u51b3\u4e8e\u4f60\u7684CPU\u6838\u5fc3\u6570\u548c\u7f51\u7edc\u5e26\u5bbd\uff09\u3002\u5982\u679cCPU\u6838\u6570\u8db3\u591f\u591a\uff0c\u5219\u5bfc\u5165\u51e0\u5e74\u7684\u6570\u636e\uff0c\u4e5f\u5927\u6982\u572815~20\u5206\u949f\u4ee5\u5185\uff08\u5b9e\u6d4b\u4e2d\u5bfc\u516570\u4e2a\u6708\u7684\u6570\u636e\uff0c\u4e5f\u53ea\u7528\u4e86776\u79d2\u3002\u5171\u4f7f\u7528\u4e8632\u4e2a\u8fdb\u7a0b\uff09\u3002\u8fd9\u4e9b\u6570\u636e\u4eca\u540e\u8fd8\u4f1a\u6301\u7eed\u4f18\u5316\uff0c\u4ee5\u4f7f\u5f97\u5b83\u4eec\u5728\u8f83\u4f4e\u914d\u7f6e\u7684\u7535\u8111\u4e0a\u4e5f\u53ef\u4ee5\u53d6\u5f97\u8f83\u597d\u7684\u901f\u5ea6\u3002\u5173\u4e8e\u5927\u5bcc\u7fc1\u7684\u901f\u5ea6\uff0c\u5bf9\u6bd4\u4f7f\u7528\u8fc7\u5176\u5b83\u4ea7\u54c1\u7684\u7528\u6237\u53ef\u80fd\u6709\u8f83\u6df1\u7684\u611f\u89e6\u3002</p> <p>\u6613\u7528\u6027\u548c\u54c1\u63a7      \u57281.0\u53d1\u5e03\u4e4b\u524d\uff0c\u5927\u5bcc\u7fc1\u65e9\u671f\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u7ec4\u4ef6\u90fd\u7ecf\u8fc7\u4e86\u591a\u6b21\u91cd\u5199\uff0c\u4ee5\u786e\u4fdd\u529f\u80fd\u5f97\u5230\u6070\u5f53\u89e3\u8026\u548c\u805a\u5408\uff0c\u4ee5\u4fdd\u8bc1API\u7684\u7a33\u5b9a\u6027\u548c\u6613\u8bfb\u6027\u3002</p> Info <p>\u5982\u679c\u60a8\u6709\u673a\u4f1a\u6df1\u5165\u7814\u7a76\u4e00\u4e0b\u5927\u5bcc\u7fc1\u7684\u5f00\u53d1\u5de5\u5177\u94fe\uff0c\u60a8\u4f1a\u53d1\u73b0\u54c1\u63a7\u53d1\u751f\u5728\u4ece\u4ee3\u7801\u63d0\u4ea4\u3001\u5355\u5143\u6d4b\u8bd5\u5230\u6301\u7eed\u96c6\u6210\u7684\u5404\u4e2a\u73af\u3002</p> <p>\u4e3a\u4fc3\u8fdb\u5927\u5bcc\u7fc1\u5f00\u6e90\u793e\u533a\u7684\u6d3b\u8dc3\uff0c\u4f5c\u8005\u53d1\u5e03\u4e86\u4e00\u7cfb\u5217\u6587\u7ae0\u6765\u4ecb\u7ecdPython\u5f00\u53d1\u7684\u5de5\u5177\u94fe\uff0c\u8bf7\u53c2\u8003[[TODO]]</p> <p>\u5728\u90e8\u7f72\u65b9\u9762\uff0c\u6211\u4eec\u652f\u6301\u865a\u62df\u5316\u90e8\u7f72\u548cpip\u5b89\u88c5\u4e24\u79cd\u6a21\u5f0f\u3002\u865a\u62df\u5316\u90e8\u7f72\u4e00\u952e\u5168\u81ea\u52a8\uff0cpip\u5b89\u88c5\u6a21\u5f0f\u5219\u5728\u5b89\u88c5\u4e4b\u540e\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5b89\u88c5\u5411\u5bfc\u6765\u5f15\u5bfc\u7528\u6237\u8fdb\u884c\u914d\u7f6e\uff0c\u6574\u4e2a\u8fc7\u7a0b\u90fd\u6bd4\u8f83\u7b80\u5355\u3002</p> <p>\u4e0e\u793e\u533a\u6700\u65b0\u6280\u672f\u4fdd\u6301\u540c\u6b65</p> Info <p>\u6700\u521dZillionare\u4f7f\u7528\u4e86cookie-cutter\u7684pyproject\u6a21\u677f\u6765\u642d\u5efa\u5f00\u53d1\u6846\u67b6\u3002\u8fd9\u4e2a\u6a21\u677f\u4f7f\u7528\u4e86makefile, pip\u548crequirements\u6587\u4ef6\u6765\u7ba1\u7406\u4f9d\u8d56\u548c\u6784\u5efa\u5de5\u7a0b\uff0c\u4f7f\u7528twine\u6765\u53d1\u5e03\uff1b\u4f7f\u7528tox, pytest\u7b49\u51e0\u79cdlint tools\u7b49\u5de5\u5177\u6765\u8fdb\u884c\u54c1\u63a7\uff0c\u4f7f\u7528sphinx\u6765\u6784\u5efa\u6587\u6863\u3002</p> <p>\u5728\u4f9d\u8d56\u7ba1\u7406\u4e0a\uff0c\u6211\u4eec\u53d1\u73b0\u793e\u533a\u6b63\u5728\u5f80\u65b0\u7684\u6807\u51c6\u548c\u5de5\u5177\u4e0a\u8fc1\u79fb\u3002\u6bd4\u5982\u5b8c\u5168\u9075\u5faaPEP517\u7684\u6807\u51c6\u7684Poetry\u5df2\u7ecf\u6210\u4e3a\u4e86\u5f53\u524d\u793e\u533a\u9009\u62e9\u7684\u4f9d\u8d56\u3001\u6784\u5efa\u53ca\u7248\u672c\u7ba1\u7406\u5de5\u5177\u3002\u56e0\u6b64\uff0cZillionare\u5728\u53bb\u5e7411\u6708\u5b8c\u5168\u6362\u6389\u4e86\u6784\u5efa\u6846\u67b6\u3002</p> <p>\u6587\u6863\u5de5\u5177\u4e5f\u66ff\u6362\u6210\u4e86mkdocs,\u4ee5\u53cd\u6620markdown\u683c\u5f0f\u66f4\u53d7\u4f5c\u8005\u3001\u8bfb\u8005\u559c\u6b22\u7684\u73b0\u5b9e\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u52a0\u5165\u4e86Travis CI\u548cCodecov\u6765\u8fdb\u884c\u6301\u7eed\u96c6\u6210\u3002\u4f7f\u7528\u4e86pre-commit-hooks\u6765\u4fdd\u8bc1\u7b7e\u5165\u4ee3\u7801\u7684\u8d28\u91cf\u3002\u57281.0\u53d1\u5e03\u4e4b\u524d\uff0c\u8fd9\u4e2a\u6d4b\u8bd5\u8986\u76d6\u7387\u5df2\u7ecf\u8fbe\u5230\u4e8693%\u3002</p> <p>\u4eca\u540e\u5927\u5bcc\u7fc1\u5c06\u7ee7\u7eed\u575a\u6301\u8fd9\u6837\u7684\u6280\u672f\u5b9a\u4f4d\uff0c\u540c\u65f6\u5728\u9879\u76ee\u53d1\u5e03\u4e0a\u529b\u6c42\u66f4\u52a0\u89c4\u8303\u3002\u6211\u4eec\u4f1a\u901a\u8fc7RFC\u7684\u65b9\u5f0f\u6765\u786e\u5b9a\u9879\u76ee\u7684\u65b9\u5411\uff0c\u7ea6\u5b9aAPI\u63a5\u53e3\uff0c\u5e76\u6280\u672f\u901a\u8fc7\u6d4b\u8bd5\u8986\u76d6\u6765\u4fdd\u8bc1\u63a5\u53e3\u7684\u53ef\u7528\u6027\u3002</p> <p>\u4eba\u5de5\u667a\u80fd\u5bfc\u5411 </p> Info <p>\u5c3d\u7ba1\u5927\u5bcc\u7fc1\u7684\u4eba\u5de5\u667a\u80fd\u529f\u80fd\u76ee\u524d\u8fd8\u5728\u5b9e\u73b0\u4e2d\uff0c\u4f46\u6211\u4eec\u7684\u5404\u9879\u8bbe\u8ba1\u5145\u5206\u53cd\u6620\u4e86\u4eba\u5de5\u667a\u80fd\u4f18\u5148\u7684\u5bfc\u5411\u3002\u6bd4\u5982\u6211\u4eec\u8bbe\u8ba1\u4e2d\u66f4\u4f18\u5148\u52a8\u91cf\u7b56\u7565\uff0c\u5bf9\u6587\u672c\u548c\u8d22\u52a1\u6570\u636e\u5219\u5173\u6ce8\u5ea6\u4e0d\u591f\u3002\u539f\u56e0\u662f\uff0c\u76ee\u524d\u4eba\u5de5\u667a\u80fd\u5728\u6587\u672c\u5206\u6790\u4e0a\u8fd8\u4e0d\u662f\u7279\u522b\u6709\u628a\u63e1\uff0c\u540c\u65f6\u4f9d\u9760\u6d88\u606f\u7092\u80a1\uff0c\u786e\u5b9a\u6027\u4e5f\u4e0d\u9ad8\u3002\u8d22\u52a1\u6570\u636e\u4e5f\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002\u76ee\u524d\u4eba\u5de5\u667a\u80fd\u8868\u73b0\u6700\u597d\u7684\uff0c\u5c31\u662f\u5728\u52a8\u91cf\u7b56\u7565\u8fd9\u4e00\u5757\uff0c\u6240\u4ee5\u8fd9\u4e5f\u662f\u5927\u5bcc\u7fc1\u7684\u91cd\u70b9\u3002</p> <p>\u5bf9\u4e8e\u91cf\u5316\u56e0\u5b50\uff0c\u6211\u4eec\u4e0d\u8c61\u4f20\u7edf\u7684\u91d1\u878d\u5de5\u7a0b\u90a3\u6837\uff0c\u628a\u5b83\u770b\u6210\u80fd\u901a\u8fc7\u7b80\u5355\u7ec4\u5408\u5c31\u80fd\u4e0b\u91d1\u86cb\u7684\u6bcd\u9e21\uff0c\u800c\u662f\u628a\u66f4\u591a\u5730\u628a\u5b83\u5f53\u6210\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u7684\u6570\u636e\u9884\u5904\u7406\u548c\u7279\u5f81\u63d0\u53d6\u5de5\u4f5c\u3002\u8fd9\u4e5f\u53cd\u6620\u4e86\u6211\u4eec\u5728\u8bbe\u8ba1\u4e0a\u7684\u4eba\u5de5\u667a\u80fd\u5bfc\u5411\u3002\u6211\u60f3\u8fd9\u4e5f\u662f\u4e00\u4e2a\u6b63\u786e\u7684\u5bfc\u5411\u3002</p> <p>\u5b8c\u5584\u548c\u8be6\u5c3d\u7684\u5e2e\u52a9\u6587\u6863</p> Info <p>\u5927\u5bcc\u7fc1\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6587\u6863\uff0c\u5305\u62ec\u65b0\u624b\u6307\u5357\uff0c\u6559\u7a0b\u548c\u8be6\u5c3d\u7684API\u6587\u6863\u3002</p> <p>\u9664\u4e86\u8fd9\u4e24\u4e2a\u7279\u70b9\u4ee5\u5916\uff0c\u4f5c\u8005\u8fd8\u529b\u6c42\u5728\u6587\u6863\u4e2d\u65e2\u8bb2\u662f\u4ec0\u4e48\uff0c\u66f4\u8bb2\u4e3a\u4ec0\u4e48\uff0c\u591a\u8bb2\u4e00\u4e9b\u6280\u672f\u51b3\u5b9a\u80cc\u540e\u7684\u601d\u8003\uff0c\u8fd9\u6837\u8bfb\u8005\u4f1a\u66f4\u5bb9\u6613\u7406\u89e3\u548c\u53d8\u901a\u3002</p>"},{"location":"articles/products/1.0/#_3","title":"\u5927\u5bcc\u7fc1\u9002\u5408\u54ea\u4e9b\u7528\u6237\uff1f","text":"<ol> <li>\u5927\u5bcc\u7fc1\u7684\u5b9a\u4f4d\u662f\u4e3aA\u80a1\u5e02\u573a\u63d0\u4f9b\u91cf\u5316\u4ea4\u6613\u5de5\u5177\u548c\u7b56\u7565\uff0c\u91cd\u70b9\u662f\u52a8\u91cf\u7c7b\u7b56\u7565\u3002\u5927\u5bcc\u7fc1\u76ee\u524d\u6ca1\u6709\u63a5\u5165\u671f\u8d27\u548c\u6570\u5b57\u8d27\u5e01\u7684\u8003\u8651\u3002</li> <li>\u9ad8\u9891\u5957\u5229\u4ea4\u6613\u4e5f\u4e0d\u662f\u5927\u5bcc\u7fc1\u7684\u5173\u6ce8\u9886\u57df--\u8fd9\u4e2a\u9886\u57df\u66f4\u591a\u5730\u7684\u662f\u62fc\u786c\u4ef6\u548c\u7f51\u901f\uff0c\u6216\u8005\u4ece\u6839\u672c\u4e0a\u8bf4\uff0c\u662f\u62fc\u8d44\u672c\uff0c\u7b97\u6cd5\u548c\u7b56\u7565\u53ef\u80fd\u5728\u8fd9\u4e2a\u9886\u57df\u4e0d\u5360\u4e3b\u5bfc\u5730\u4f4d\u3002\u5927\u5bcc\u7fc1\u5b9a\u4f4d\u4e8e\u670d\u52a1\u590d\u6742\u7684A\u80a1\u5e02\u573a\uff0c\u4e3aA\u80a1\u5e02\u573a\u5e26\u6765\u5f00\u6e90\u7684\u4eba\u5de5\u667a\u80fd\u6280\u672f\u3002\u5927\u5bcc\u7fc1\u7684\u67b6\u6784\u8bbe\u8ba1\u4e3a\u5904\u7406\u5206\u949f\u7ea7\u522b\u4ee5\u4e0a\u7684\u884c\u60c5\u6570\u636e\u3002\u6211\u4eec\u8ba4\u4e3a\uff0c\u5bf9Tick\u7ea7\u522b\u7684\u6570\u636e\u8fdb\u884c\u6df1\u5ea6\u5b66\u4e60\u56fa\u7136\u6709\u5176\u610f\u4e49\uff0c\u4f46\u8fd9\u4e00\u9886\u57df\u5e94\u8be5\u8fd8\u662f\u5957\u5229\u4ea4\u6613\u4e3a\u4e3b\u3002</li> <li>\u5927\u5bcc\u7fc1\u63d0\u4f9b\u7684\u5386\u53f2\u884c\u60c5\u6570\u636e\u4ece2015\u5e74\u5f00\u59cb\uff0c\u76ee\u524d\u5305\u62ec\u4e86\u6240\u6709\u7684\u80a1\u796830\u5206\u949f\u53ca\u4ee5\u4e0a\u7684\u884c\u60c5\u6570\u636e\u3002</li> <li>\u91cf\u5316\u4ea4\u6613\u6846\u67b6\u7684\u7528\u6237\u5f80\u5f80\u90fd\u6709\u81ea\u5df1\u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\u7684\u9700\u6c42\u3002\u5927\u5bcc\u7fc1\u7684\u6280\u672f\u9009\u578b\u7684\u5148\u8fdb\u6027\u548c\u89c4\u8303\u6027\uff0c\u4fdd\u8bc1\u4e86\u7528\u6237\u7684\u6295\u5165\u5728\u672a\u6765\u8f83\u957f\u7684\u65f6\u95f4\u5185\u90fd\u4f1a\u6709\u6548\u3002</li> <li>\u4ece\u6280\u672f\u6808\u89d2\u5ea6\u6765\u8bf4\uff0c\u5927\u5bcc\u7fc1\u4f7f\u7528\u7eafPython\u5f00\u53d1\u3002\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u9650\u5b9a\u4e3aUbuntu &gt; 18\u3002\u5982\u679c\u5bf9\u8fd9\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u592a\u719f\u6089\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u63d0\u4f9b\u7684\u5bb9\u5668\u5316\u90e8\u7f72\u65b9\u5f0f\u6765\u90e8\u7f72\u3002</li> </ol> <p>\u76f8\u5bf9\u4e8e\u5176\u5b83\u4ea7\u54c1\u800c\u8a00\uff0c\u5927\u5bcc\u7fc1\u7684\u529f\u80fd\u9762\u6536\u5f97\u6bd4\u8f83\u7d27\uff0c\u6211\u4eec\u66f4\u5e0c\u671b\u4fdd\u6301\u4e13\u6ce8\uff0c\u96c6\u4e2d\u7cbe\u529b\u628a\u4e8b\u60c5\u505a\u597d\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/","title":"\u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3","text":"<p>\u3010\u76ee\u5f55\u3011</p> <ul> <li>1.1. \u5b89\u88c5</li> <li>1.2. \u7533\u8bf7\u6743\u9650</li> <li>1.3. \u6a21\u62df\u548c\u6d4b\u8bd5</li> <li>1.3.1. \u914d\u7f6e\u8d26\u53f7<ul> <li>1.3.1.1. gmadaptor\u7684\u914d\u7f6e\u6587\u4ef6</li> <li>1.3.1.2. \u914d\u7f6eEMC</li> </ul> </li> <li>1.3.2. \u6a21\u62df\u8fd0\u884c</li> <li>1.4. \u8fd0\u884c\u548c\u7ef4\u62a4</li> <li>1.4.1. \u542f\u52a8</li> <li>1.4.2. \u6bcf\u65e5\u7ef4\u62a4</li> <li>2.1. \u5ba2\u6237\u7aef\u8bf7\u6c42</li> <li>2.2. \u8fd4\u56de\u7ed3\u679c</li> <li>2.3. \u8d44\u4ea7\u8868</li> <li>2.4. \u6301\u4ed3\u8868</li> <li>2.5. \u9650\u4ef7\u4e70\u5165</li> <li>2.6. \u5e02\u4ef7\u4e70\u5165</li> <li>2.7. \u9650\u4ef7\u5356\u51fa</li> <li>2.8. \u5e02\u4ef7\u5356\u51fa</li> <li>2.9. \u53d6\u6d88\u59d4\u6258</li> <li>2.10. \u67e5\u8be2\u5f53\u65e5\u59d4\u6258</li> <li>\u64ae\u5408\u914d\u7f6e\u89c4\u5219</li> <li>\u8054\u7cfb\u65b9\u5f0f</li> </ul>"},{"location":"articles/products/gm-adaptor-installation/#1","title":"1. \u5b89\u88c5\u4e0e\u914d\u7f6e","text":""},{"location":"articles/products/gm-adaptor-installation/#11","title":"1.1. \u5b89\u88c5","text":"<ol> <li> <p>\u5728windows\u673a\u5668\u4e0a\u5b89\u88c5https://emt.eastmoneysec.com/down\uff0c\u4e0b\u8f7d\u5e76\u5b89\u88c5\u7b2c\u4e8c\u4e2a\u8f6f\u4ef6\uff1a </p> </li> <li> <p>\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u5b89\u88c5conda\uff0c\u63a8\u8350\u5b89\u88c5miniconda\uff0c\u5e76\u521b\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\uff08python\u7248\u672c3.8\uff09\uff1a    <pre><code>conda create -n gmclient python=3.8\n</code></pre></p> </li> <li>\u5b89\u88c5gmadaptor:     <pre><code>pip install gmadaptor-1.1.3-py3-none-any.whl\n</code></pre></li> </ol>"},{"location":"articles/products/gm-adaptor-installation/#12","title":"1.2. \u7533\u8bf7\u6743\u9650","text":"<p>\u8bf7\u52a0\u5165\u4e1c\u65b9\u8d22\u5bcc\u91cf\u5316\u4eff\u771f\u4ea4\u6d41\u7fa4\uff1a971584613 \uff0c\u627e\u7ba1\u7406\u5458\u7533\u8bf7\u5f00\u901a\u91cf\u5316\u5b9e\u76d8\u6743\u9650\u3002\u8bf7\u5148\u770b\u7fa4\u7f6e\u9876\u6587\u4ef6\u3002 \u5f00\u901a\u7684\u4e3b\u8981\u95e8\u69db\u662f\u8981\u6c42100\u4e07\u521d\u59cb\u8d44\u91d1\u3002\u5f00\u901a\u540e\u53ef\u4ee5\u64a4\u8d44\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#13","title":"1.3. \u6a21\u62df\u548c\u6d4b\u8bd5","text":"<p>\u5728\u7b49\u5f85\u5b9e\u76d8\u6743\u9650\u5f00\u901a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 https://emt.18.cn/apply/test-apply-client \u5f00\u901a\u6a21\u62df\u8d26\u53f7\uff0c\u5148\u628a\u7a0b\u5e8f\u548c\u914d\u7f6e\u8c03\u901a\u3002</p> <p>\u7533\u8bf7\u540e\uff0c\u8bb0\u5f55\u666e\u901a\u8d44\u91d1\u8d26\u53f7\u548c\u5bc6\u7801\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5728\u767b\u5f55\u754c\u9762\u4e2d\uff0c\u9009\u62e9\u4eff\u771f\u4ea4\u6613\uff1a</p> <p></p> <p>\u767b\u5f55\u540e\uff0c\u754c\u9762\u663e\u793a\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"articles/products/gm-adaptor-installation/#131","title":"1.3.1. \u914d\u7f6e\u8d26\u53f7","text":"<p>\u4ee5\u4e0b\u6b65\u9aa4\u5bf9\u5b9e\u76d8\u548c\u6a21\u62df\u76d8\u5747\u6709\u6548\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#1311-gmadaptor","title":"1.3.1.1. gmadaptor\u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>\u9700\u8981\u5c06\u91cf\u5316\u8f6f\u4ef6\u4e2d\u7684\u5b9e\u76d8\u8d26\u53f7\u914d\u7f6e\u5230gmadaptor\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u5728\u7528\u6237\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa<code>gmadaptor/config</code>\u76ee\u5f55\uff0c\u653e\u7f6e\u4ee5\u4e0b\u6587\u4ef6\uff1a <pre><code># defaults.yaml\nlog_level: INFO\n\nserver_info:\n    port: 9000\n    # client \u4f7f\u7528\u8fd9\u4e00token\u6765\u8bbf\u95ee gmadaptor \u63d0\u4f9b\u7684\u670d\u52a1\n    access_token : \"84ae0899-7a8d-44ff-9983-4fa7cbbc424b\"\n\ngm_info:\n    fake: false\n    # \u6587\u4ef6\u5355\u8f93\u51fa\u76ee\u5f55\n    gm_output: \"~/gmadaptor/FileOrders/out\"\n    trade_fees:\n        commission: 2.5\n        stamp_duty: 10.0\n        transfer_fee: 0.1\n        minimum_cost: 5.0\n    accounts:\n        # \u8d26\u53f7\u540d\n        - name: fileorder_s01\n          acct_id: 1a66e81c-ae5d-11ec-aef5-00163e0a4100\n          # \u6587\u4ef6\u5355\u8f93\u5165\u76ee\u5f55\u3002\u4e1c\u8d22\u91cf\u5316\u7ec8\u7aef\u5c06\u4ece\u8fd9\u91cc\u8bfb\u53d6\u6587\u4ef6\u5355\n          acct_input: \"~/gmadaptor/FileOrders/inputs/fileorder_s01\"\n</code></pre> \u4e0a\u8ff0\u914d\u7f6e\u4e2d\uff0caccess_token \u53ef\u4efb\u610f\u6307\u5b9a\uff0c\u4efb\u4f55\u8981\u8bbf\u95ee\u6b64\u670d\u52a1\u7684\u5ba2\u6237\u7aef\uff0c\u5fc5\u987b\u6301\u6709\u6b64 token\u3002</p> <p>gm_output/acct_input \u6587\u4ef6\u8bbe\u7f6e\u540e\uff0c\u5982\u679c\u672a\u521b\u5efa\uff0cgmadaptor \u5c06\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u521b\u5efa\uff0c\u8bf7\u786e\u4fdd gmadaptor \u6709\u6743\u9650\u8bfb\u5199\u8fd9\u4e9b\u6587\u4ef6\u5939\u3002</p> <p>accounts &gt; name \u4e2d\u7684\u503c\u6765\u81ea\u4e8e\u5728 EMC \u7ec8\u7aef\u4e2d\uff0c\u60a8\u521b\u5efa\u6587\u4ef6\u5355\u8f93\u5165\u65f6\uff0c\u6307\u5b9a\u7684\u540d\u79f0\uff0c\u89c1\u4e0b\u56fe\u4e2d\u7684\u5e8f\u53f72\uff1a</p> <p></p> <p>accounts &gt; acct_id \u6765\u81ea\u4e8e\u4e0b\u9762\u5e8f\u53f73\u7684\u4f4d\u7f6e\uff0c\u70b9\u51fb<code>ID</code>\u5373\u53ef\u590d\u5236\uff1a</p> <p></p>"},{"location":"articles/products/gm-adaptor-installation/#1312-emc","title":"1.3.1.2. \u914d\u7f6eEMC","text":"<p>\u5728 \u91cf\u5316 &gt; \u6587\u4ef6\u5355 &gt; \u6587\u4ef6\u5355\u8f93\u51fa \u4e2d\uff0c\u5bf9\u4e0b\u56fe\u4e2d\u7684 4\uff0c5\uff0c6\uff0c7 \u8fdb\u884c\u914d\u7f6e\u3002\u5176\u4e2d4\u9009\u62e9\u6211\u4eec\u5728\u4e0a\u9762\u914d\u7f6e\u6587\u4ef6\u4e2dgm_output\u4e2d\u8bbe\u7f6e\u7684\u8def\u5f84\uff1b5\u9009\u62e9<code>csv</code>\u4f5c\u4e3a\u8f93\u51fa\u683c\u5f0f\uff1b6\u9009\u62e9\u81ea\u52a8\u542f\u52a8\uff1b7\u5c06\u6240\u6709\u9879\u76ee\u5168\u9009\u4e2d\u3002</p> <p></p> <p>\u5728 \u91cf\u5316 &gt; \u6587\u4ef6\u5355 &gt; \u6587\u4ef6\u5355\u8f93\u5165 \u4e2d\uff0c\u5bf9\u4e0b\u56fe\u4e2d\u7684 3\u548c4\u8fdb\u884c\u914d\u7f6e\u3002\u5176\u4e2d3\u9009\u62e9\u6211\u4eec\u5728\u4e0a\u9762\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684 acct_input \u8def\u5f84\uff0c4\u9009\u62e9\u81ea\u52a8\u542f\u52a8\u3002</p> <p></p>"},{"location":"articles/products/gm-adaptor-installation/#132","title":"1.3.2. \u6a21\u62df\u8fd0\u884c","text":"<p>\u5728\u524d\u9762\u751f\u6210\u7684gmclient\u865a\u62df\u73af\u5883\u4e2d\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4ee5\u542f\u52a8gmadaptor\u670d\u52a1\u5668\uff1a <pre><code>python -m gmadaptor.server\n</code></pre> \u5982\u679c\u51fa\u73b0\u5982\u4e0b\u754c\u9762\uff0c\u8868\u660e\u670d\u52a1\u5668\u542f\u52a8\u6210\u529f\uff1a</p> <p></p> <p>\u6b64\u65f6\u6211\u4eec\u53e6\u5f00\u4e00\u4e2a<code>conda</code>\u7a97\u53e3\uff0c\u540c\u6837\u4f7f\u7528<code>gmclient</code>\u7684\u865a\u62df\u73af\u5883\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u6d4b\u8bd5: <pre><code>python -m gmtest %account %token %server %port\n</code></pre></p> <p>\u8fd9\u91cc\u7684account\u5373 gmadaptor\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 gm_info &gt; accounts &gt; account_id, token \u5373server_info &gt; access_token</p> <p>\u8fd9\u91cc\u7684 server \u5373gmadaptor \u6240\u5728\u7684\u673a\u5668IP\uff0c port\u4e3a\u7aef\u53e3\u3002\u5982\u679c\u4e0d\u63d0\u4f9b\uff0c\u9ed8\u8ba4\u5730\uff0c\u8fd9\u4e24\u9879\u5206\u522b\u4e3alocalhost\u548c9000\u3002</p> <p>\u5982\u679c\u914d\u7f6e\u6b63\u5e38\uff0c\u8fd9\u5c06\u6253\u5370\u51fa\u521d\u59cb\u8d26\u53f7\u8d44\u91d1\uff0c\u5f53\u524d\u6301\u4ed3\uff0c\u548c\u4e00\u7b14\u4e70\u3001\u5356\u7684\u4fe1\u606f\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#14","title":"1.4. \u8fd0\u884c\u548c\u7ef4\u62a4","text":"<p>\u53e6\u5916\u542f\u52a8\u4e00\u4e2a\u8ba1\u5212\u4efb\u52a1\uff0c\u5728\u6bcf\u5929\u65e9\u4e0a8:45\u5de6\u53f3\u542f\u52a8EMC\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#141","title":"1.4.1. \u542f\u52a8","text":"<p>\u4f7f\u7528\u4e0b\u9762\u7684\u811a\u672c\u6765\u542f\u52a8\uff1a <pre><code>@echo off\ncall C:\\ProgramData\\Anaconda3\\Scripts\\activate.bat C:\\ProgramData\\anaconda3\ncall conda activate gmclient\npython -m gmadaptor.server\npause\n</code></pre></p>"},{"location":"articles/products/gm-adaptor-installation/#142","title":"1.4.2. \u6bcf\u65e5\u7ef4\u62a4","text":"<p>EMC\u91cf\u5316\u7ec8\u7aef\u6709\u65f6\u5019\u4e0d\u7a33\u5b9a\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b9a\u65f6\u91cd\u542f\u6765\u63d0\u9ad8\u8d77\u7a33\u5b9a\u6027\u3002\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\uff0c\u5728\u76d8\u540e\u9000\u51faEMC\uff1a <pre><code>REM kill process\nTASKKILL /F /IM EMCTrade.exe\n\nREM sleep 5 seconds\nTIMEOUT  /T 5\n\nREM remove all file orders after process killed\n\nDEL /Q C:\\zillionare\\FileOrders\\real_input\\*.csv\n</code></pre></p> <p>Warning</p> <p>\u5982\u679c\u5728\u8f93\u5165\u8f93\u51fa\u76ee\u5f55\u4e2d\u8fd8\u6709\u672a\u5f52\u6863\u7684\u6587\u4ef6\uff0c\u5219\u91cf\u5316\u4ea4\u6613\u5c06\u65e0\u6cd5\u81ea\u52a8\u542f\u52a8\u3002\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u6700\u540e\u4e00\u884c\u7684\u4f5c\u7528\u5c31\u662f\u6e05\u7406\u672a\u5f52\u6863\u6587\u4ef6\u3002 \u8fd9\u4e5f\u8981\u6c42\u4f7f\u7528\u8005\u81ea\u884c\u5bf9\u59d4\u6258\u8fdb\u884c\u6838\u9a8c\uff0c\u786e\u4fdd\u8fd9\u4e9b\u6587\u4ef6\u53ef\u4ee5\u88ab\u81ea\u52a8\u5220\u9664\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#2","title":"2. \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4ea4\u4e92","text":""},{"location":"articles/products/gm-adaptor-installation/#21","title":"2.1. \u5ba2\u6237\u7aef\u8bf7\u6c42","text":"<p>\u5ba2\u6237\u7aef\u901a\u8fc7 http request\u6765\u8bf7\u6c42gmadaptor\u3002\u4ee5\u4e0b\u793a\u4f8b\u5747\u4ee5\u540c\u6b65\u8bf7\u6c42\u5b9e\u73b0\uff0c\u4f46\u60a8\u4e5f\u53ef\u4ee5\u6839\u636e\u9700\u8981\uff0c\u6539\u4e3a\u5f02\u6b65\u8bf7\u6c42\u3002\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u7684\u9274\u6743\u662f\u901a\u8fc7<code>headers</code>\u6765\u5b9e\u73b0\u7684\uff0c\u5177\u4f53\u8bf7\u770b\u793a\u4f8b\uff08\u4efb\u610f\u4e00\u793a\u4f8b\u5747\u53ef\uff09\u3002\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff0c\u90fd\u4f7f\u7528\u7684\u662fpost\u65b9\u6cd5\uff0cgmadaptor\u6240\u6709\u7684\u65b9\u6cd5\u90fd\u53ea\u54cd\u5e94post\u8bf7\u6c42\u3002\u5982\u679c\u8bf7\u6c42\u6210\u529f\u5b8c\u6210\uff0c\u5219\u8fd4\u56de\u4ee3\u7801\u662f200\u3002</p> <p>\u5728\u6240\u6709\u7684\u64cd\u4f5c\u4e2d\uff0c\u80a1\u7968\u4ee3\u7801\u90fd\u5fc5\u987b\u4ee5\u7b80\u7801+\u4ea4\u6613\u6240\u540e\u7f00\u65b9\u5f0f\u51fa\u73b0\uff0c\u5176\u4e2d\u4e0a\u4ea4\u6240\u4e3a.XSHG\uff0c\u6df1\u4ea4\u6240\u4e3a.XSHE\u3002\u5728\u4eff\u771f\u6d4b\u8bd5\u65f6\uff0c\u5bf9\u80a1\u7968\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c\u90fd\u6709\u7279\u5b9a\u7684\u54cd\u5e94\uff08\u6bd4\u5982\u5bf9\u67d0\u652f\u80a1\u7968\uff0c\u8fdb\u884c\u4e70\u5165\u65f6\uff0c\u65e0\u8bba\u7ed9\u7684\u53c2\u6570\u662f\u591a\u5c11\uff0c\u8fd4\u56de\u90fd\u4f1a\u662f\u90e8\u5206\u6210\u4ea4\uff1b\u5bf9\u53e6\u4e00\u652f\u80a1\u7968\uff0c\u5219\u6c38\u8fdc\u8fd4\u56de\u9650\u5236\u4e70\u5165\u7b49\u7b49\uff09\uff0c\u5177\u4f53\u54cd\u5e94\u6587\u6863\u8bf7\u5728\u4e1c\u8d22\u91cf\u5316Q\u7fa4\u4e2d\uff0c\u627e\u7ba1\u7406\u5458\u8981\u6587\u6863\u3002</p> <p>\u5728\u4e00\u4e9b\u4f1a\u6539\u53d8\u72b6\u6001\u7684\u8bf7\u6c42\u4e2d\uff08\u6bd4\u5982\u4e70\u5165\u64cd\u4f5c\uff09\uff0c\u5f80\u5f80\u4f1a\u9700\u8981<code>cid</code>\u53c2\u6570\u548c<code>timeout</code>\u53c2\u6570\uff0c\u5176\u4f5c\u7528\u662f\uff0c\u8c03\u7528\u4f1a\u5728\u6307\u5b9a\u7684timeout\u671f\u95f4\u7b49\u5f85EMC\u5904\u7406\u8bf7\u6c42\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\uff1b\u4f46EMC\u4e5f\u53ef\u80fd\u65e0\u6cd5\u5728\u6307\u5b9a\u7684timeout\u671f\u95f4\u8fd4\u56de\u7ed3\u679c\uff0c\u6bd4\u5982\u59d4\u4e70\u5355\u62a5\u4ef7\u8fc7\u4f4e\uff0c\u4e00\u76f4\u4e0d\u80fd\u6210\u4ea4\uff0c\u6b64\u65f6\u5c06\u65e0\u6cd5\u4ea7\u751f\u56de\u62a5\u7ed3\u679c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8c03\u7528\u4f1a\u5728timeout\u4e4b\u540e\u8fd4\u56de\u3002\u4e4b\u540e\u7684\u59d4\u4e70\u7ed3\u679c\u67e5\u8be2\uff0c\u5c31\u9700\u8981\u4f9d\u8d56<code>cid</code>\u53c2\u6570\u3002\u6ce8\u610f<code>cid</code>\u662f\u5fc5\u9009\u53c2\u6570\uff0c<code>timeout</code>\u662f\u53ef\u9009\u53c2\u6570\u3002</p> <p><code>cid</code>\u53c2\u6570\uff08\u5373client entrust id\uff09\u7531\u5ba2\u6237\u7aef\u81ea\u884c\u4ea7\u751f\uff0c\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>import uuid\n\ncid = str(uuid.uuid4())\n</code></pre> <code>cid</code>\u4ea7\u751f\u4e4b\u540e\uff0c\u8bf7\u5728\u5ba2\u6237\u7aef\u4fdd\u5b58\uff0c\u76f4\u5230\u4e8b\u52a1\u7ed3\u675f\uff0c\u4e0d\u518d\u9700\u8981\u4e3a\u6b62\u3002</p> <p>\u4e3a\u7b80\u7ec3\u8d77\u89c1\uff0c\u4ee5\u4e0b\u793a\u4f8b\u4e2d\uff0c\u53ef\u80fd\u5220\u9664\u4e86\u8fd9\u4e9b\u4ee3\u7801\uff1a <pre><code>import httpx\nheaders = {\n    \"Authorization\": \"84ae0899-7a8d-44ff-9983-4fa7cbbc424b\",\n    \"Account-ID\": \"780dc4fda3d0af8a2d3ab0279bfa48c9\"\n}\n\n_url_prefix = \"http://192.168.100.100:9000/\"\n\nbuy_entrust_no = None\nsell_entrust_no = None\n</code></pre></p>"},{"location":"articles/products/gm-adaptor-installation/#22","title":"2.2. \u8fd4\u56de\u7ed3\u679c","text":"<p>\u8fd4\u56de\u9519\u8bef\u53ef\u80fd\u53d1\u751f\u5728\u4e09\u4e2a\u5c42\u9762\u3002\u4e00\u662fhttp\u5c42\uff08\u5305\u62ec bad request \u6216\u8005 Internal server error); \u4e8c\u662f gmadaptor\u5c42\uff0c\u4e09\u662f emc\u53ef\u80fd\u8fd4\u56de\u9519\u8bef\u3002</p> <p>\u7b2c\u4e00\u5c42\u7684\u9519\u8bef\uff0c\u6211\u4eec\u901a\u8fc7 http status code\u6765\u68c0\u67e5\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u662fhttpx\uff0c\u5219\u53ef\u4ee5\u68c0\u67e5 <code>response.status_code</code>\u662f\u5426\u4e3a200\u3002</p> <p>gmadaptor\u59cb\u7ec8\u901a\u8fc7<code>json</code>\u6765\u8fd4\u56de\u54cd\u5e94\uff0c\u54cd\u5e94\u5305\u62ec\u4e09\u4e2a\u5b57\u6bb5\uff0c\u5373\uff1a <pre><code>status: int,\u5982\u679c\u4e3a\u96f6\uff0c\u5219\u8868\u660e\u5728\u6b64\u5c42\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u5373gmadaptor\u5df2\u7ecf\u5c06\u8bf7\u6c42\u6b63\u786e\u4e0a\u62a5\nmsg: str, human readable message\ndata: dict \u5982\u679c\u4e00\u5207\u987a\u5229\uff0c\u5219\u8fd4\u56de\u6570\u636e\u5728\u6b64\u9879\u4e2d\n</code></pre> \u7b2c\u4e09\u5c42\u7684\u9519\u8bef\u7531 emc trader\u7ed9\u51fa\u3002\u5373\u4f7fgmadaptor\u6b63\u786e\u4e0a\u62a5\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u80fdemc trader\u65e0\u6cd5\u6267\u884c\uff0c\u6b64\u65f6\u5b83\u4e5f\u4f1a\u901a\u8fc7<code>status</code>\u548c<code>reason</code>\u6765\u7ed9\u51fa\u9519\u8bef\u4fe1\u606f\u3002</p> <p>\u4e0b\u9762\u7684\u793a\u4f8b\u7ed9\u51fa\u4e86\u4e00\u4e2a<code>response.json()</code>\u7684\u8f93\u51fa\uff1a <pre><code>{\n    \"status\": 0,\n    \"msg\": \"OK\",\n    \"data\": {\n        \"code\": \"000001.XSHE\",\n        \"price\": 0.0,\n        \"volume\": 100,\n        \"order_side\": 1,\n        \"bid_type\": 2,\n        \"time\": \"2023-04-04 15:27:38.921555\",\n        \"entrust_no\": \"0d23bb4e-d81e-4ef2-ab21-c58e0fe6814f\",\n        \"status\": -1,\n        \"average_price\": 0.0,\n        \"filled\": 0,\n        \"filled_amount\": 0,\n        \"eid\": \"\",\n        \"trade_fees\": 0,\n        \"reason\": \"[Counter] [EMC_PC]\u4e0d\u652f\u6301\u8be5\u4e0b\u5355\u7c7b\u578b\",\n        \"recv_at\": \"2023-04-04 15:27:38.924565\"\n    }\n}\n</code></pre> \u56e0\u6b64\uff0c\u5373\u4f7f\u5728gmadator\u5c42\u9762\u7ed9\u51fa\u7684\u72b6\u6001\u662f\u6210\u529f\uff0c\u4e5f\u5e76\u4e0d\u610f\u5473\u7740\u8be5\u7b14\u59d4\u6258\u6210\u529f\u3002\u53e6\u4e00\u4e2a\u4f8b\u5b50\u662f\uff0c\u4ee5\u8fc7\u4f4e\u7684\u4ef7\u683c\u59d4\u4e70\uff0c\u53ea\u8981\u53c2\u6570\u5408\u6cd5\u4e14\u88abEMC\u63a5\u6536\uff0cgmadaptor\u90fd\u4f1a\u8fd4\u56de\u6210\u529f\uff0c\u4f46\u8be5\u59d4\u6258\u662f\u5426\u771f\u6b63\u6210\u4ea4\uff0c\u8fd8\u5f97\u901a\u8fc7entrust_no\u6765\u67e5\u8be2\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#23","title":"2.3. \u8d44\u4ea7\u8868","text":"<pre><code># \u8bf7\u6c42\u8d44\u91d1\u4fe1\u606f\nimport httpx\nheaders = {\n    \"Authorization\": \"84ae0899-7a8d-44ff-9983-4fa7cbbc424b\",\n    \"Account-ID\": \"780dc4fda3d0af8a2d3ab0279bfa48c9\"\n}\n\n_url_prefix = \"http://192.168.100.100:9000/\"\n\ndef get_balance():\n    r = httpx.post(_url_prefix + \"balance\", headers=headers)\n    resp = r.json()\n    if r.status_code == 200 and resp['status'] == 0:\n        print(\"\\n------ \u8d26\u6237\u8d44\u91d1\u4fe1\u606f ------\")\n        print(resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#24","title":"2.4. \u6301\u4ed3\u8868","text":"<pre><code>def get_positions():\n    r = httpx.post(_url_prefix + \"positions\", headers=headers)\n\n    resp = r.json()\n    if r.status_code == 200 and resp['status'] == 0:\n        print(\"\\n----- \u6301\u4ed3\u4fe1\u606f ------\")\n        print(resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#25","title":"2.5. \u9650\u4ef7\u4e70\u5165","text":"<pre><code>    r = httpx.post(_url_prefix + \"buy\", headers=headers, json={\n        \"security\": \"000001.XSHE\",\n        \"price\": 13,\n        \"volume\": 100,\n        \"cid\": str(uuid.uuid4()),\n        \"timeout\": 1\n    })\n\n    print(r.json())\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#26","title":"2.6. \u5e02\u4ef7\u4e70\u5165","text":"<pre><code>def market_buy():\n    global buy_entrust_no\n    r = httpx.post(_url_prefix + \"market_buy\", headers=headers, json={\n        \"security\": \"000001.XSHE\",\n        \"volume\": 100,\n        \"cid\": cid,\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    if r.status_code == 200 and resp[\"status\"] == 0:\n        print(\"\\n ------ \u59d4\u4e70\u6210\u529f ------\")\n        print(resp[\"status\"], resp[\"msg\"], resp[\"data\"])\n        buy_entrust_no = resp[\"data\"][\"entrust_no\"]\n    else:\n        print(\"\u59d4\u4e70\u5931\u8d25:\", r.status_code, resp)\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#27","title":"2.7. \u9650\u4ef7\u5356\u51fa","text":"<pre><code>def sell():\n    global sell_entrust_no\n\n    r = httpx.post(_url_prefix + \"sell\", headers=headers, json={\n        \"security\": \"000001.XSHE\",\n        \"price\": 10,\n        \"volume\": 100,\n        \"cid\": cid,\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    if r.status_code == 200 and resp[\"status\"] == 0:\n        print(\"\\n ------ \u9650\u4ef7\u59d4\u5356\u6210\u529f ------\")\n        data = resp[\"data\"]\n        print(data)\n        sell_entrust_no = data[\"entrust_no\"]\n    else:\n        print(\"\u5356\u51fa\u5931\u8d25:\", r.status_code, resp)\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#28","title":"2.8. \u5e02\u4ef7\u5356\u51fa","text":"<pre><code>def market_sell():\n    r = httpx.post(_url_prefix + \"market_sell\", headers=headers, json = {\n        \"security\": \"000001.XSHE\",\n        \"volume\": 100,\n        \"cid\": cid\n    })\n\n    resp = r.json()\n    if r.status_code == 200 and resp[\"status\"] == 0:\n        print(\"\\n ------ \u5e02\u4ef7\u59d4\u5356\u6210\u529f ------\")\n        print(resp[\"data\"])\n    else:\n        print(resp)\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#29","title":"2.9. \u53d6\u6d88\u59d4\u6258","text":"<pre><code>def cancel_entrust():\n    global buy_entrust_no\n\n    r = httpx.post(_url_prefix + \"cancel_entrust\", headers=headers, json = {\n        \"entrust_no\": buy_entrust_no,\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    print(resp[\"status\"], resp[\"msg\"], resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#210","title":"2.10. \u67e5\u8be2\u5f53\u65e5\u59d4\u6258","text":"<pre><code>def today_entrusts():\n    r = httpx.post(_url_prefix + \"today_entrusts\", headers=headers, json = {\n        # \u6b64\u5904\u53ef\u4ee5\u4f20\u5165\u8bb0\u5f55\u7684\u59d4\u6258\u53f7\u3002\u4f20\u5165\u7a7a\u6570\u7ec4\u65f6\uff0c\u8868\u660e\u53d6\u5f53\u5929\u6240\u6709\u59d4\u6258\u3002\n        \"entrust_no\": [],\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    print(resp[\"status\"], resp[\"msg\"], resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#3","title":"3. \u6545\u969c\u6392\u9664\u4e0e\u5e2e\u52a9","text":"<p>\u5173\u4e8e\u4e1c\u8d22\u6587\u4ef6\u5355\uff0c\u8bf7\u53c2\u8003\uff1ahttps://emquant.18.cn/file-help/?doc=file_order \u4e1c\u8d22\u91cf\u5316Q\u7fa4\uff1a971584613</p> <p>\u5373\u4f7f\u5b9e\u73b0\u4e86EMC\u7684\u6bcf\u65e5\u81ea\u52a8\u91cd\u542f\uff0c\u4e5f\u6709\u53ef\u80fd\u5076\u53d1\u8fde\u63a5\u5f02\u5e38\u6216\u8005\u5176\u5b83\u9519\u8bef\u3002\u6b64\u65f6\u53ef\u80fd\u9700\u8981\u624b\u52a8\u6267\u884c\uff1a 1. \u91cd\u65b0\u8fde\u63a5 2. \u6e05\u9664\u6587\u4ef6\u5355\uff0c\u91cd\u65b0\u542f\u52a8</p>"},{"location":"articles/products/gm-adaptor-installation/#_1","title":"\u64ae\u5408\u914d\u7f6e\u89c4\u5219","text":"<p>\u5728\u4eff\u771f\u4ea4\u6613\u6d4b\u8bd5\u4e2d\uff0cEMTrader\u5bf9\u6bcf\u4e2a\u54c1\u79cd\uff0c\u90fd\u6307\u5b9a\u4e86\u5bf9\u5e94\u7684\u54cd\u5e94\u3002\u6bd4\u5982\uff0c\u5bf9000572\u8fd9\u4e2a\u54c1\u79cd\uff0c\u4e70\u5165\u4e00\u5b9a\u4f1a\u5168\u90e8\u6210\u4ea4\uff0c\u5bf9000010\u8fd9\u4e2a\u54c1\u79cd\uff0c\u5219\u4e00\u5b9a\u4f1a\u62d2\u7edd\u3002\u8fd9\u662f\u4e3a\u4e86\u65b9\u4fbf\u6d4b\u8bd5\u7684\u9700\u8981\u3002\u4e1c\u8d22\u63d0\u4f9b\u4e86\u540d\u4e3a\u300a\u64ae\u5408\u914d\u7f6e\u89c4\u5219\u300b\u7684\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u53ef\u80fd\u968f\u65f6\u66f4\u65b0\uff0c\u6240\u4ee5\uff0c\u9700\u8981\u5728\u6d4b\u8bd5\u524d\uff0c\u52a0\u4ed6\u4eec\u6280\u672f\u4eba\u5458QQ\u9886\u53d6\u3002</p> <p>\u8be5\u6587\u4ef62023\u5e743\u6708\u4efd\u90e8\u5206\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>[\u5168\u90e8\u6210\u4ea4]\n000572  full\n000725  full\n\n[\u5206\u7b14\u6210\u4ea4] \n\u5206\u6210\u4e24\u7b14\uff1a\n000002  lot         2\n\n[\u90e8\u5206\u6210\u4ea4] \u6210\u4ea4\u4e00\u534a\n000001  part\n000004  part\n...\n[\u6302\u5355]    \u53ea\u6709\u54cd\u5e94\uff0c\u6ca1\u6709\u6210\u4ea4\n018014  pending\n020417  pending\n...\n\n[\u62d2\u5355]    \n000010  reject\n010609  reject\n\n[\u62d2\u7edd\u64a4\u5355] \u90e8\u5206\u6210\u4ea4\uff0c\u4e0d\u53ef\u64a4\u5355\n000008  cancel_reject\n000151  cancel_reject\n</code></pre></p>"},{"location":"articles/products/gm-adaptor-installation/#_2","title":"\u8054\u7cfb\u65b9\u5f0f","text":"<p>\u5982\u679c\u60a8\u5728\u4f7f\u7528\u672c\u6a21\u5757\u4e2d\u9700\u8981\u5e2e\u52a9\uff0c\u6216\u8005\u9700\u8981\u53c2\u52a0\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u7f16\u7a0b\u5b9e\u6218\u8bfe\u300b\u5b66\u4e60\uff0c\u8bf7\u6dfb\u52a0 \u5bbd\u7c89 \u7684\u5fae\u4fe1\uff1a</p> <p></p>"},{"location":"articles/products/zillionare_installation/","title":"\u5927\u5bcc\u7fc1\u5b89\u88c5\u6307\u5357","text":"\u5927\u5bcc\u7fc12.0\u5b89\u88c5\u6307\u5357 <p>Tip</p> <p>\u5b89\u88c5\u6587\u4ef6\u76ee\u524d\u4ec5\u5bf9\u5927\u5bcc\u7fc1\u91cf\u5316\u8bfe\u7a0b\u5b66\u5458\u53ca\u91cd\u8981\u5ba2\u6237\u5f00\u653e\u3002\u8054\u7cfb\u8bf7\u52a0 quantfans_99 (\u5bbd\u7c89) \u5fae\u4fe1</p> <p>\u6211\u4eec\u901a\u8fc7docker\u96c6\u7fa4\u5411\u5927\u5bb6\u63d0\u4f9bzillionare 2.0\u3002\u8be5\u96c6\u7fa4\u5305\u542b\u4ee5\u4e0b\u5bb9\u5668\uff1a</p> NAMES IMAGE PORTS zillionare-omega zillionare/omega:2.0.1 0.0.0.0:3180-&gt;3180/tcp :::3180-&gt;3180/tcp zillionare-influxdb influxdb:2.4.0 0.0.0.0:58086-&gt;8086/tcp :::58086-&gt;8086/tcp zillionare-backtesting zillionare/backtest:0.5.1 0.0.0.0:7080-&gt;7080/tcp :::7080-&gt;7080/tcp zillionare-redis redis:7.0.4-alpine 0.0.0.0:56379-&gt;6379/tcp :::56379-&gt;6379/tcp zillionare-lab zillionare/lab 0.0.0.0:8888-&gt;8888/tcp :::8888-&gt;8888/tcp <p>\u8be5\u7cfb\u7edf\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7814\u7a76\u73af\u5883\uff0c\u81ea\u5e26\u4e86\u4e24\u5e74\u7684\u65e5\u7ebf\u6570\u636e\u548c30\u5206\u949f\u6570\u636e\uff08\u7ea61.3G\uff09\u3002\u542f\u52a8\u540e\uff0c\u901a\u8fc78888\u7aef\u53e3\u8bbf\u95ee\u7814\u7a76\u73af\u5883\u3002\u6bd4\u5982\uff0c\u5982\u679c\u5b89\u88c5\u8be5\u96c6\u7fa4\u7684\u673a\u5668IP\u4e3a192.168.100.100\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 http://192.168.100.100:8888/zillionare \u6765\u8bbf\u95ee\u7814\u7a76\u73af\u5883\uff1a</p> <p></p> <p>Info</p> <p>\u767b\u5f55\u5bc6\u7801\u9ed8\u8ba4\u4e3a1234\u3002\u5982\u679c\u60a8\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u4fee\u6539docker-compose\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684.omega_env\u6587\u4ef6\u4e2d\u7684LAB_PASSWORD\u9009\u9879\u3002</p> <p>\u5b9e\u76d8\u4ea4\u6613\u5b89\u88c5\u4e1c\u8d22\u91cf\u5316\u4ea4\u6613\u5ba2\u6237\u7aef\u53cagm-adaptor\u5e93\uff0c\u8bf7\u60c5\u53c2\u89c1\u5b9e\u76d8\u4ea4\u6613</p>"},{"location":"articles/products/zillionare_installation/#_1","title":"\u5b89\u88c5\u6b65\u9aa4","text":"<p>Info</p> <p>Zillionare 2.0\u57fa\u4e8edocker\u5bb9\u5668\u6280\u672f\u6784\u5efa\uff0c\u7406\u8bba\u4e0a\u53ef\u4ee5\u8fd0\u884c\u4e8e\u4efb\u4f55\u652f\u6301\u5bb9\u5668\u6280\u672f\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u3002\u4f46\u6211\u4eec\u53ea\u6d4b\u8bd5\u4e86Ubunut Focal\u548cUbuntu Focal on WSL 2.0\uff08\u5373Windows\uff09\u3002 \u5982\u679c\u60a8\u6253\u7b97\u6b63\u5f0f\u4f7f\u7528\uff0c\u5efa\u8bae\u786c\u4ef6\u89c4\u683c\uff1a</p> <ol> <li>8\u6838CPU\u4ee5\u4e0a</li> <li>32GB\u5185\u5b58\u4ee5\u4e0a\uff08\u5927\u5bb6\u7684\u8bfe\u4ef6\u73af\u5883\u662f\u96c6\u7fa4\uff0c\u5355\u673a96GB\uff09</li> <li>\u786c\u76d81T\u4ee5\u4e0a\uff08\u5f88\u5360\u7a7a\u95f4\uff09</li> </ol> <ol> <li> <p>\u5148\u5b89\u88c5docker\u548cdocker-compose\u5de5\u5177\u3002\u5982\u679c\u53ea\u6709windows\u673a\u5668\uff0c\u5efa\u8bae\u5148\u5b89\u88c5 wsl2\uff0c\u518d\u5728wsl2\u4e0b\u7684ubunut\u73af\u5883\u4e2d\uff0c\u5b89\u88c5docker/docker-compose</p> </li> <li> <p>\u5c06zillionare.tar\u89e3\u538b\u7f29\u5230\u5b89\u88c5\u76ee\u5f55\uff08\u81ea\u5b9a\uff09\uff0c\u4fee\u6539\u5176\u4e2d\u7684 .omega.env\uff0c\u8be5\u6587\u4ef6\u4e2d\uff0cjqdata\u76f8\u5173\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u662f\u9700\u8981\u63d0\u4f9b\u7684\uff0c\u5176\u5b83\u7684\u53ef\u4ee5\u4e0d\u53d8</p> </li> <li> <p>\u901a\u8fc7docker-compose up -D \u542f\u52a8\u96c6\u7fa4\u3002\u542f\u52a8\u65f6\u4f1a\u8fdb\u884c\u4e0b\u8f7d\u548c\u6570\u636e\u5bfc\u5165\u3002\u89c6\u60a8\u7684\u7f51\u7edc\u5b9a\uff0c\u5e94\u8be5\u572810\u5206\u949f\u4ee5\u5185\u5b8c\u6210\u3002</p> </li> </ol> <p>\u6b64\u540e\u5982\u679c\u9700\u8981\u505c\u6b62\u670d\u52a1\uff0c\u8fd0\u884cdocker-compose stop; \u91cd\u65b0\u542f\u52a8 docker-compose start\uff1b\u90fd\u9700\u8981\u5728\u5b89\u88c5\u76ee\u5f55\u4e0b\u8fd0\u884c\u3002</p>"},{"location":"articles/products/zillionare_installation/#_2","title":"\u6570\u636e\u52a0\u8f7d","text":"<p>\u8be5\u73af\u5883\u81ea\u5e26\u7684\u6570\u636e\u4ec5\u9650\u4e8e\u884c\u60c5\u7814\u7a76\u3002\u5982\u679c\u9700\u8981\u4f7f\u7528\u56de\u6d4b\u670d\u52a1\uff0c\u9700\u8981\u8865\u9f50\u5206\u949f\u7ebf\u6570\u636e\u3002</p> <p>Zillionare\u5b98\u65b9\u63d0\u4f9b\u5bf9\u805a\u5bbd\u6570\u636e\u670d\u52a1\u7684\u96c6\u6210\u652f\u6301\u3002\u60a8\u9700\u8981\u8d2d\u4e70\u805a\u5bbd\u7684\u6570\u636e\u670d\u52a1\u3002\u6bcf\u5929\u8981\u81f3\u5c11\u6709500\u4e07\u4ee5\u4e0a\u7684quota\u3002\u8fd9\u6837\u624d\u80fd\u5b9e\u73b0\u6570\u636e\u6b63\u5e38\u540c\u6b65\uff0c\u5e76\u5c06\u7f3a\u5931\u6570\u636e\u9010\u6b65\u8ffd\u8d76\u8d77\u6765\uff08\u5230\u5206\u949f\u7ea7\uff09\u3002</p> <p>Info</p> <p>\u5f53\u524dA\u80a1\u4ec5\u80a1\u7968\u5c31\u6709\u63a5\u8fd16000\u652f\uff0c\u6bcf\u5929\u7684\u5206\u949f\u7ebf\u6570\u636e\u63a5\u8fd1140\u4e07\u6761\u3002Zillionare\u4f1a\u5728\u76d8\u4e2d\u5b9e\u65f6\u8bf7\u6c42\u6240\u6709\u80a1\u7968\u548c\u5e38\u7528\u6307\u6570\u7684\u5206\u949f\u7ebf\u6570\u636e\uff0c\u6b64\u5916\uff0c\u8fd8\u4f1a\u5728\u6bcf\u665a2\uff1a00\u5de6\u53f3\uff0c\u518d\u6b21\u8bf7\u6c42\u524d\u4e00\u4ea4\u6613\u65e5\u7684\u5206\u949f\u7ebf\u3001\u65e5\u7ebf\u7b49\u6570\u636e\uff0c\u5e76\u4e14\u51fa\u4e8e\u7ea0\u9519\u7684\u76ee\u7684\uff0c\u4f1a\u8fdb\u884c\u4e24\u6b21\u8bf7\u6c42\u5e76\u8fdb\u884c\u6570\u636e\u6821\u9a8c\u3002\u56e0\u6b64\uff0c\u6bcf\u5929\u4f1a\u6d88\u8017quota 500\u4e07\u6761\u4ee5\u4e0a\u3002\u4f46\u5982\u679c\u8981\u8865\u9f50\u5386\u53f2\u5206\u949f\u7ebf\u6570\u636e\uff0c\u5efa\u8bae\u8d2d\u4e702\u4ebf\u6761quota\u7ea7\u522b\u7684\u6570\u636e\u3002\u8fd9\u6837\u4e00\u5929\u5927\u6982\u80fd\u5411\u524d\u8ffd\u8d76\u4e00\u4e2a\u6708\u7684\u884c\u60c5\u6570\u636e\u3002</p>"},{"location":"articles/products/zillionare_installation/#_3","title":"\u5b9e\u76d8\u4ea4\u6613","text":"<p>\u8be5\u73af\u5883\u652f\u6301\u5b9e\u76d8\u4ea4\u6613\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7lab\u7f16\u5199\u7b56\u7565\uff0c\u901a\u8fc7zillionare-trader-client\u6267\u884c\u4e0b\u5355\u3002\u76ee\u524dzillionare\u53ea\u63d0\u4f9b\u4e86\u4e1c\u8d22\u7684\u91cf\u5316\u63a5\u53e3\u3002\u5b89\u88c5\u65b9\u5f0f\u5982\u4e0b\uff1a</p> <ol> <li>\u5411\u4e1c\u8d22\u7533\u8bf7\u5f00\u901a\u91cf\u5316\u63a5\u53e3</li> <li>\u5728Windows\u673a\u5668\u4e0a\u5b89\u88c5\u4e1c\u8d22EMC\u5ba2\u6237\u7aef\uff0c\u5e76\u8fdb\u884c\u914d\u7f6e\u3002</li> <li>\u5728\u540c\u4e00\u53f0Windows\u673a\u5668\u4e0a\u5b89\u88c5 gmadaptor</li> <li>\u901a\u8fc7trader-client\u4e0b\u5355\u65f6\uff0c\u5c06url\u6307\u5411windows\u673a\u5668\u3002</li> </ol> <p>\u5b89\u88c5\u548c\u914d\u7f6e\u8be6\u60c5\uff0c\u8bf7\u89c1\u4e1c\u8d22\u5b9e\u76d8\u4ea4\u6613\u90e8\u7f72\u6307\u5357</p>"},{"location":"articles/products/zillionare_installation/#_4","title":"\u914d\u7f6e","text":""},{"location":"articles/products/zillionare_installation/#_5","title":"\u805a\u5bbd\u8d26\u53f7","text":"<pre><code>JQ_ACCOUNT=notset\nJQ_PASSWORD=passwd\n</code></pre>"},{"location":"articles/products/zillionare_installation/#_6","title":"\u90ae\u4ef6\u901a\u77e5","text":"<p>\u914d\u7f6e\u90ae\u4ef6\u901a\u77e5\u540e\uff0c\u7cfb\u7edf\u81ea\u5e26\u7684\u4e00\u4e9b\u62a5\u8b66\u6d88\u606f\u4f1a\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u51fa\u6765\u3002\u4f60\u53ef\u4ee5\u5c06\u90ae\u4ef6\u914d\u7f6e\u6210\u90ae\u4ef6\u5217\u8868\uff0c\u4ee5\u4fbf\u8fd0\u7ef4\u4eba\u5458\u53ef\u4ee5\u6536\u5230\u901a\u77e5\u3002\u914d\u7f6e\u540e\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728\u7b56\u7565\u4e2d\uff0c\u4f7f\u7528<code>omicron.notify</code>\u91cc\u7684\u65b9\u6cd5\uff0c\u53d1\u51fa\u90ae\u4ef6\u901a\u77e5\u3002\u6587\u6863 <pre><code>MAIL_FROM=user@example.com\nMAIL_TO=user@example.com\nMAIL_PASSWORD=passwd\nMAIL_SERVER=127.0.0.1\n</code></pre></p>"},{"location":"articles/products/zillionare_installation/#_7","title":"\u9489\u9489\u901a\u77e5","text":"<p>\u90ae\u4ef6\u901a\u77e5\u7684\u5b9e\u65f6\u6027\u4e0d\u592a\u5f3a\uff0c\u5982\u679c\u5bf9\u5b9e\u65f6\u6027\u6709\u8981\u6c42\uff0c\u53ef\u4ee5\u521b\u5efa\u9489\u9489\u7fa4\uff0c\u5728\u7fa4\u91cc\u914d\u7f6e\u673a\u5668\u4eba\uff0c\u7136\u540e\u5c06token\u548csecret\u8bbe\u7f6e\u5728\u4e0b\u9762\u7684\u914d\u7f6e\u4e2d\uff1a</p> <pre><code>DINGTALK_TOKEN=notset\nDINGTALK_SECRET=notset\n</code></pre> <p>\u540c\u6837\u5730\uff0c\u8be5\u65b9\u6cd5\u4e5f\u5b58\u5728\u4e8e<code>omicron.notify</code>\u4e0b\u3002\u6587\u6863</p>"},{"location":"articles/products/zillionare_installation/#_8","title":"\u7814\u7a76\u754c\u9762","text":"<p>\u5982\u679c\u9700\u8981\u66f4\u6539\u7814\u7a76\u754c\u9762\u5730\u5740\u7684\u524d\u7f00\uff0c\u8bf7\u66f4\u6539LAB_USER\u3002\u5982\u679c\u8981\u53d8\u66f4\u5bc6\u7801\uff0c\u8bf7\u66f4\u6539LAB_PASSWORD\u3002 <pre><code>LAB_PASSWORD=1234\nLAB_USER=zillionare\n</code></pre></p>"},{"location":"articles/products/zillionare_installation/#_9","title":"\u4ece\u8fd9\u91cc\u5f00\u59cb\uff01","text":"<p>\u53ef\u4ee5\u5728\u7814\u7a76\u754c\u9762\u4e0b\u65b0\u5efa\u4e00\u4e2anotebook\uff0c\u4e0a\u4f20\u4ee5\u4e0bnotebook\uff0c\u5f00\u59cb\u8fd0\u884c\u3002</p>"},{"location":"articles/python/best-practice-python/chap01/","title":"01 \u4e3a\u4ec0\u4e48\u8981\u5b66 Python","text":"<p>2020 \u5e74\uff0c\u6b27\u6d32\u592a\u7a7a\u7f72\uff08European Space Agency\uff09\u6253\u7b97\u5411\u706b\u661f\u6d3e\u51fa\u4e00\u4e2a\u63a2\u6d4b\u5668\uff0c\u628a\u4e00\u4e9b\u5ca9\u77f3\u6837\u54c1\u5e26\u56de\u5730\u7403\uff0c\u4ee5\u68c0\u6d4b\u706b\u661f\u4e0a\u662f\u5426\u5b58\u5728\u751f\u547d\u3002\u53d7\u71c3\u6599\u9650\u5236\uff0c\u63a2\u6d4b\u5668\u53ea\u80fd\u5e26\u56de 500g \u7684\u706b\u661f\u5ca9\u77f3\u3002\u56e0\u6b64\uff0c\u53ea\u6709\u7cbe\u5fc3\u6311\u9009\u7684\u6837\u672c\u624d\u80fd\u88ab\u5e26\u56de\u5730\u7403\u3002\u79d1\u5b66\u5bb6\u4eec\u51c6\u5907\u6784\u5efa\u4e00\u4e2a\u73b0\u573a\u6311\u9009\u5668\uff0c\u8fd9\u4e2a\u6311\u9009\u5668\u5fc5\u987b\u6709\u89c6\u89c9\u91cd\u5efa\u80fd\u529b\uff0c\u4e3a\u6b64\u4ed6\u4eec\u6784\u5efa\u4e86\u4e00\u4e2a\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u3002\u5728\u8fd9\u9879\u4efb\u52a1\u4e2d\uff0c\u65e0\u8bba\u662f\u6784\u5efa\u795e\u7ecf\u7f51\u7edc\u548c\u591a CPU \u96c6\u7fa4\uff0c\u8fd8\u662f\u901a\u8fc7 PyCUDA \u6765\u4f7f\u7528 NVida \u7684 CUDA \u5e93\uff0c\u90fd\u91cd\u5ea6\u4f9d\u8d56 Python\u3002</p> <p></p> <p>\u56fe\u7247\u6765\u6e90\uff1amars-rover-space-traveler</p> <p>\u7b2c\u4e00\u4e2a\u767b\u9646\u706b\u661f\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u662f Java\u3002\u5b83\u4f5c\u4e3a\u52c7\u6c14\u53f7\uff08Spirit\uff09\u63a2\u6d4b\u5668\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\uff0c\u4e8e 2004 \u5e74 1 \u6708 4 \u53f7\u7740\u9646\u5728\u706b\u661f\u4e0a\u3002\u800c\u8fd9\u4e00\u6b21\uff0c\u4e3a\u4e86\u5b8c\u6210\u66f4\u590d\u6742\u3001\u66f4\u667a\u6167\u7684\u4efb\u52a1\uff0c\u79d1\u5b66\u5bb6\u4eec\u9009\u62e9\u4e86 Python\u3002</p> <p>\u505a\u51fa\u8fd9\u4e2a\u9009\u62e9\u5e76\u4e0d\u5947\u602a\u3002\u5b9e\u9645\u4e0a\uff0c\u968f\u7740\u4eba\u5de5\u667a\u80fd\u7684\u5174\u8d77\uff0cPython \u5df2\u6210\u4e3a\u5f53\u524d\u6700\u7099\u624b\u53ef\u70ed\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5176\u6392\u540d\u5728\u7f16\u7a0b\u8bed\u8a00\u6700\u91cd\u8981\u7684\u6392\u884c\u699c TIOBE^TIOBE \u4e0a\u9010\u5e74\u6500\u5347\uff1a</p> <p></p> <p>\u4e0d\u4ec5\u5982\u6b64\uff0c\u81ea\u4ece TIOBE \u5f00\u59cb\u7f16\u5236\u5404\u79cd\u5f00\u53d1\u8bed\u8a00\u7684\u6392\u884c\u699c\u4ee5\u6765\uff0cPython \u8fd8\u5206\u522b\u4e8e 2021 \u5e74\u30012020 \u5e74\u30012018 \u5e74\u30012010 \u5e74\u548c 2007 \u5e74\u4e94\u593a\u5e74\u5ea6\u4e4b\u661f\u79f0\u53f7\uff0c\u8fd9\u4e5f\u662f\u552f\u4e00\u4e94\u6b21\u83b7\u5f97\u8be5\u79f0\u53f7\u7684\u5f00\u53d1\u8bed\u8a00\uff1a</p> <p></p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4ece VS Code \u4e2d Python \u8bed\u8a00\u6269\u5c55\u7684\u4e0b\u8f7d\u6b21\u6570\uff08\u8d85\u8fc7 7500 \u4e07\u6b21\uff0c\u5bf9\u5e94 C/C++\u662f 4200 \u4e07\u6b21\uff09\uff0cDocker Hub \u4e0b Python \u955c\u50cf\u7684\u4e0b\u8f7d\u6b21\u6570\uff08\u8d85\u8fc7 10 \u4ebf\u6b21\uff0c\u5bf9\u5e94 Java \u5219\u53ea\u6709 1 \u4ebf\u6b21\uff09\u4e0a\u770b\u51fa\u6765 Python \u7684\u53d7\u6b22\u8fce\u7a0b\u5ea6\u3002</p> <p></p> <p>\u90a3\u4e48\uff0cPython \u662f\u4e00\u95e8\u4ec0\u4e48\u6837\u7684\u8bed\u8a00\uff1f\u5b83\u5728\u5f00\u53d1\u4e0a\u7a76\u7adf\u6709\u4f55\u4f18\u52bf\uff0c\u4ee5\u81f3\u4e8e\u80fd\u5f97\u5230\u5982\u6b64\u8fd9\u822c\u540d\u58f0\u5462\uff1f\u6211\u4eec\u5e38\u5e38\u542c\u4eba\u8bf4\uff08\u5c24\u5176\u662f\u5728\u4e2d\u6587\u793e\u533a\uff09\uff0cPython \u4e0d\u9002\u5408\u5f00\u53d1\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u662f\u771f\u7684\u5417\uff1f\u8fd9\u672c\u4e66\u5c06\u5c1d\u8bd5\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\uff0c\u7279\u522b\u662f\u4ece\u8f6f\u4ef6\u5de5\u7a0b\u7684\u89d2\u5ea6\uff0c\u9610\u8ff0\u5e94\u8be5\u9075\u5faa\u4ec0\u4e48\u6837\u7684\u5f00\u53d1\u6d41\u7a0b\u548c\u89c4\u8303\uff0c\u53c8\u8981\u4f7f\u7528\u54ea\u4e9b\u5de5\u5177\u548c\u6280\u5de7\uff0c\u624d\u80fd\u5feb\u901f\u5f00\u53d1\u51fa\u590d\u6742\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>Python \u662f\u4e00\u95e8\u6709\u7740\u60a0\u4e45\u5386\u53f2\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5b83\u7531\u51fa\u751f\u4e8e\u8377\u5170\u7684\u7a0b\u5e8f\u5458 Guido Van Rossum \u5f00\u53d1\u3002Guido Van Rossum \u5728\u56fd\u5185\u88ab\u7c89\u4e1d\u4eb2\u5207\u5730\u79f0\u4f5c\u201c\u9f9f\u53d4\u201d\u3002\u4ece\u521b\u7acb\u8fd9\u95e8\u8bed\u8a00\u8d77\u7684\u957f\u8fbe 30 \u5e74\u65f6\u95f4\u91cc\uff0cGuido Van Rossum \u4e00\u76f4\u4ee5\u4ed6\u7684\u70ed\u60c5\u548c\u70ed\u7231\u6307\u5f15\u7740\u8fd9\u95e8\u8bed\u8a00\u7684\u672a\u6765\u53d1\u5c55\u65b9\u5411\uff0c\u88ab\u79f0\u4f5c\u201c\u4ec1\u6148\u7684\u7ec8\u8eab\u72ec\u88c1\u8005\u201d\uff08the benevolent dictator for life\uff09\u3002\u5927\u7ea6\u5728 2018 \u5e74\u4ed6\u6709\u8fc7\u4e00\u6bb5\u77ed\u6682\u7684\u9000\u4f11\uff0c\u4e0d\u8fc7\u5f88\u5feb\u4e8e 2020 \u5e74\u91cd\u65b0\u56de\u5f52\u793e\u533a\uff0c\u52a0\u5165\u5fae\u8f6f\u5e76\u7ee7\u7eed\u9886\u5bfc Python \u7684\u5f00\u53d1\u3002</p> <p>Python \u7684\u6700\u521d\u7248\u672c\u4e8e 1994 \u5e74 1 \u6708\u53d1\u5e03\uff0c\u751a\u81f3\u8fd8\u8981\u65e9\u4e8e Java[^Java]\u3002\u4e00\u5f00\u59cb\u5b83\u5438\u6536\u4e86\u5f88\u591a Lisp \u8bed\u8a00\u7684\u7279\u6027\uff0c\u6bd4\u5982\u5f15\u5165\u4e86\u51fd\u6570\u5f0f\u7f16\u7a0b\u5de5\u5177\uff0c\u5176\u75d5\u8ff9\u4e00\u76f4\u9057\u7559\u5230\u4eca\u5929 -- \u8fd9\u5c31\u662f\u73b0\u5728\u4ecd\u7136\u5728\u5e7f\u6cdb\u4f7f\u7528\u7684<code>reduce</code>\uff0c <code>filter</code>\uff0c <code>map</code>\u7b49\u51fd\u6570\u7684\u51fa\u5904\u3002\u5728\u90a3\u65f6\uff0cPerl \u8fd8\u662f\u4e00\u79cd\u975e\u5e38\u6d41\u884c\u7684\u811a\u672c\u8bed\u8a00\uff0c Python \u4e5f\u4ece\u4e2d\u5438\u6536\u4e86\u5f88\u591a\u6210\u719f\u6a21\u5757\u7684\u529f\u80fd\uff0c\u8fd9\u6837\u5c31\u6210\u529f\u5730\u7559\u4f4f\u4e86\u4e00\u6279\u5bfb\u627e Perl \u7684\u66ff\u6362\u8bed\u8a00\u7684\u7528\u6237\u3002</p> <p>Python 2.0 \u53d1\u5e03\u4e8e\u5343\u79a7\u5e74\uff082000 \u5e74\uff09\u3002\u6700\u91cd\u8981\u7684\u6539\u53d8\uff0c\u4e0d\u662f 2.0 \u65b0\u589e\u4e86\u54ea\u4e9b\u529f\u80fd\uff0c\u800c\u662f\u6d41\u7a0b\u548c\u89c4\u8303\u4e0a\u7684\u6539\u53d8\uff1a\u9996\u5148\uff0cPython \u7684\u5f00\u53d1\u8005\u4eec\u8fc1\u79fb\u5230\u4e86\u65b0\u7684\u4ee3\u7801\u7ba1\u7406\u5de5\u5177\uff0c\u4e4b\u524d\u4ed6\u4eec\u4f7f\u7528\u7684\u662f CVS\u3002\u8fd9\u4e00\u5de5\u5177\u56e0\u65e0\u6cd5\u652f\u6301\u56e2\u961f\u5408\u4f5c\u5f00\u53d1\uff0c\u5df2\u7ecf\u4e25\u91cd\u964d\u4f4e\u4e86\u56e2\u961f\u5f00\u53d1\u6548\u7387\uff1b\u5176\u6b21\uff0c\u4ed6\u4eec\u4eff\u7167 RFC\uff0c\u505a\u4e86\u4e00\u4e2a PEP\uff08Python \u6539\u8fdb\u63d0\u6848\uff09\u8ba1\u5212\uff0c\u4efb\u4f55\u65b0\u589e\u7684\u529f\u80fd\u548c\u53d8\u52a8\uff0c\u90fd\u5fc5\u987b\u5148\u7ecf\u8fc7 PEP \u63d0\u51fa\u3001\u8bc4\u8bba\u548c\u786e\u8ba4\u4e4b\u540e\uff0c\u624d\u4f1a\u6b63\u5f0f\u7eb3\u5165\u5f00\u53d1\u8ba1\u5212\u3002\u6b63\u662f\u8fd9\u4e9b\u6539\u53d8\uff0c\u4f7f\u5f97 Python \u7684\u53d1\u5c55\u8d70\u4e0a\u4e86\u6210\u529f\u4e4b\u8def\u3002</p> <p>\u8fd9\u4e00\u7248\u5728\u529f\u80fd\u4e0a\u7684\u91cd\u5927\u53d8\u5316\uff0c\u662f\u5f00\u59cb\u4f7f\u7528 16 \u4f4d\u7684 Unicode \u5b57\u7b26\u4e32\uff08\u6ce8\u610f\u8fd9\u5e76\u4e0d\u662f\u6211\u4eec\u73b0\u5728\u5e38\u7528\u7684 UTF-8 \u7f16\u7801\uff09\uff0c\u8fd9\u4f7f\u5f97 Python \u5f97\u4ee5\u8d70\u51fa\u82f1\u8bed\u6587\u5316\u5708\uff0c\u5f00\u59cb\u4e86\u56fd\u9645\u5316\u4e4b\u8def\u3002</p> <p>2001 \u5e74\u5e95\uff0cPython 2.2 \u53d1\u5e03\uff0c\u4ece\u800c\u4f7f\u5f97 Python \u6210\u4e3a\u4e00\u95e8\u7eaf\u7cb9\u7684\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u8fd9\u4e00\u6bb5\u65f6\u95f4\uff0cJava \u5728\u4f01\u4e1a\u5e94\u7528\u7aef\u5f00\u679d\u6563\u53f6\uff0c\u800c Python \u5219\u5728\u6570\u636e\u548c\u57fa\u7840\u8bbe\u65bd\u7ba1\u7406\u65b9\u9762\u627e\u5230\u7528\u6b66\u4e4b\u5730\u3002</p> <p>2008 \u5e74\uff0cPython 3.0 \u7248\u672c\u53d1\u5e03\uff0c\u56e0\u5176\u4e0e 2.x \u5b8c\u5168\u4e0d\u517c\u5bb9\uff08Python 2.7 \u6210\u4e3a Python 2.x \u7684\u6700\u7ec8\u7248\uff09\uff0c\u6210\u4e3a Python \u5386\u53f2\u4e0a\u6700\u5177\u4e89\u8bae\u7684\u4e00\u4e2a\u7248\u672c\uff0c\u4f46\u4e5f\u5c31\u6b64\u7529\u6389\u4e86\u957f\u671f\u4ee5\u6765\u79ef\u7d2f\u7684\u6c89\u91cd\u5305\u88b1\u3002\u6b64\u540e Python \u8f7b\u88c5\u4e0a\u9635\uff0c\u76f4\u5230 3.6 \u7248\u672c\u5f00\u59cb\uff0c\u6210\u4e3a Python 3 \u7cfb\u5217\u7b2c\u4e00\u4e2a\u6bd4\u8f83\u7a33\u5b9a\u53ef\u9760\u7684\u7248\u672c\u3002\u4e5f\u662f\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u968f\u7740\u5927\u6570\u636e\u3001\u673a\u5668\u5b66\u4e60\u4e0e\u4eba\u5de5\u667a\u80fd\u7684\u5feb\u901f\u6f14\u8fdb\uff0cPython \u8fdb\u4e00\u6b65\u53d1\u6325\u51fa\u5b83\u7684\u4f18\u52bf\uff0c\u88ab\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\u8ba4\u8bc6\u548c\u4f7f\u7528\u3002</p> <p>Python \u662f\u4e00\u95e8\u4f18\u96c5\u8ff7\u4eba\u3001\u6613\u4e8e\u5b66\u4e60\u548c\u9ad8\u6548\u7684\u5f00\u53d1\u8bed\u8a00\u3002\u4ece\u4e00\u5f00\u59cb\u8d77\uff0c\u5b83\u5c31\u628a\u4f18\u7f8e\u6613\u8bfb\uff0c\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\u548c\u6613\u4e8e\u5f00\u53d1\u4f5c\u4e3a\u7b2c\u4e00\u76ee\u6807\uff0c\u628a\u7f16\u7a0b\u7684\u5feb\u4e50\u91cd\u65b0\u8fd8\u7ed9\u5f00\u53d1\u8005\u3002\u5728 1999 \u5e74\uff0c\u521b\u59cb\u4eba Guido Van Rossum \u53d1\u8d77\u4e86\u4e00\u9879\u540d\u4e3a CP4E(Computer Programming for Everybody) \u7684\u8fd0\u52a8\uff0c\u65e8\u5728\u8ba9\u51e0\u4e4e\u6240\u6709\u4eba\u90fd\u80fd\u7f16\u5199\u548c\u6539\u8fdb\u8ba1\u7b97\u673a\u7a0b\u5e8f\u3002\u8fd9\u9879\u8fd0\u52a8\u7684\u53d1\u8d77\u5ba3\u8a00\u5728\u8fd9\u91cc[^CP4E]\u3002\u5b83\u5199\u9053\uff0c\u82e5\u5e72\u5e74\u524d\uff0c\u65bd\u4e50\u516c\u53f8\u66fe\u7ecf\u63d0\u51fa\u4e86\u8ba9\u6bcf\u4e2a\u684c\u9762\u90fd\u6446\u4e0a\u4e00\u53f0\u8ba1\u7b97\u673a\u7684\u5b8f\u5927\u613f\u666f\uff0c\u8fd9\u4e2a\u613f\u666f\u73b0\u5728\u65e9\u5df2\u5b9e\u73b0\u3002\u4f46\u662f\uff0c\u8ba1\u7b97\u673a\u8fd8\u4e0d\u591f\u7075\u6d3b\u3002\u5982\u679c\u8ba9\u6bcf\u4e00\u4e2a\u4eba\u90fd\u6709\u80fd\u529b\u4e3a\u4ed6\u4eec\u7684\u8ba1\u7b97\u673a\u7f16\u7a0b\uff0c\u4f1a\u600e\u6837\uff1f</p> <p>\u8fd9\u9879\u8fd0\u52a8\u7684\u76ee\u6807\u4e4b\u4e00\uff0c\u5c31\u662f\u4e3a\u4e2d\u5b66\u751f\u8bbe\u8ba1\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00\u8bfe\u3002\u6211\u4eec\u770b\u5230\uff0c\u56fd\u5185\u5f88\u591a\u7701\u5df2\u7ecf\u5f00\u59cb\u8981\u6c42\u4e2d\u5b66\u751f\u5f00\u59cb\u5b66\u4e60 Python \u7f16\u7a0b\uff0c\u53ef\u4ee5\u8bf4\uff0c\u8fd9\u9879\u8fd0\u52a8\u7684\u7406\u5ff5\uff0c\u6f5c\u79fb\u9ed8\u5316\u5730\uff0c\u5728\u4e16\u754c\u8303\u56f4\u5185\u5f97\u5230\u4e86\u8ba4\u540c\u3002\u5b9e\u9645\u4e0a\uff0c\u6b63\u662f\u7531\u4e8e Python \u8bed\u8a00\u7684\u7b80\u6d01\u4f18\u7f8e\uff0c\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\u3001\u65e0\u987b\u7f16\u8bd1\u7684\u7279\u6027\uff0c\u624d\u4f7f\u5f97 CP4E \u7684\u76ee\u6807\u6709\u53ef\u80fd\u5b9e\u73b0\u3002</p> <p>\u5982\u679c\u8bf4\u4f18\u96c5\u8ff7\u4eba\u8fd8\u6709\u4e9b\u4e3b\u89c2\u7684\u6210\u5206\uff0c\u6bd5\u7adf\u6bcf\u4e2a\u4eba\u5fc3\u4e2d\u7684\u5973\u795e\u53ef\u80fd\u4e0d\u5c3d\u76f8\u540c\u3002\u4f46\u5f88\u5c11\u4f1a\u6709\u4eba\u4e0d\u627f\u8ba4 Python \u7684\u7b80\u6d01\u9ad8\u6548\u3002\u201c\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528 Python\u201d\u4e0d\u4ec5\u662f\u4e00\u53e5\u53e3\u53f7\uff0c\u4e5f\u662f Python \u7a0b\u5e8f\u5f00\u53d1\u9ad8\u6548\u7387\u7684\u4e00\u4e2a\u771f\u5b9e\u5199\u7167\u3002</p> <p>\u4e0e\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\u76f8\u6bd4\uff0c\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\uff0c\u5728\u4e0d\u501f\u52a9\u4e8e\u51fd\u6570\u5e93\u7684\u524d\u63d0\u4e0b\uff0cPython \u4ee3\u7801\u59cb\u7ec8\u662f\u6700\u7b80\u5355\u3001\u6700\u6613\u8bfb\u7684\u3002\u5982\u679c\u5728 C\u3001Java \u548c Python \u4e09\u8005\u95f4\u8fdb\u884c\u6bd4\u8f83\u7684\u8bdd\uff0cJava \u662f\u4ee3\u7801\u91cf\u6700\u5927\u7684\u8bed\u8a00\uff0c\u8981\u6bd4 C \u8bed\u8a00\u957f 1.5 \u500d\uff0c\u800c\u6bd4 Python \u5219\u957f 3~4 \u500d\u3002\u6211\u4eec\u4ee5\u8f93\u51fa\u4e00\u4e2a\u6570\u7ec4\u7684\u5143\u7d20\u4e3a\u4f8b\u6765\u4f53\u9a8c\u4e00\u4e0b\u3002</p> <p>\u8fd9\u662fPython\u7684\u4f8b\u5b50\uff1a</p> <pre><code>arr = [\"Hello, World!\", \"Hi there, Everyone!\", 6]\nfor i in arr:\n    print(i)\n</code></pre> <p>\u8fd9\u662fJava\u7684\u4f8b\u5b50\uff1a</p> <pre><code>public class Test {\n    public static void main(String args[]) {\n        String array[] = {\"Hello, World\", \"Hi there, Everyone\", \"6\"};\n        for (String i : array) {\n          System.out.println(i);\n        }\n    }\n}\n</code></pre> <p>\u4ec5\u770b\u5b9a\u4e49\u548c\u8f93\u51fa\u6570\u7ec4\u5143\u7d20\u503c\u7684\u90a3\u90e8\u5206\u3002\u4e24\u79cd\u8bed\u8a00\u90fd\u9700\u8981\u4e09\u884c\u4ee3\u7801\uff0c\u4f46\u662f Python \u7684\u4ee3\u7801\u660e\u663e\u66f4\u77ed\uff0c\u66f4\u4e0d\u8981\u8bf4 Python \u8fd8\u6709\u6240\u8c13\u7684\u201cpythonic\"\u7684\u5199\u6cd5\uff1a</p> <pre><code>[print(i) for i in [\"Hello, World!\", \"Hi there, Everyone!\", 6]]\n</code></pre> <p>\u5f53\u7136\u8fd9\u4e48\u5199\u8fd8\u662f\u6709\u4e89\u8bae\u7684\uff0c\u5bf9\u4e00\u4e9b\u4eba\u6765\u8bf4\uff0c\u5b83\u727a\u7272\u4e86\u53ef\u8bfb\u6027\u3002</p> <p>\u6211\u4eec\u518d\u770b\u4e00\u4e2a\u53d8\u91cf\u4ea4\u6362\u7684\u4f8b\u5b50\uff1a</p> <pre><code>// C program to swap two variables in single line\n#INCLUDE &lt;STDIO.H&gt;\nint main()\n{\n    int x = 5, y = 10;\n    //(x ^= y), (y ^= x), (x ^= y);\n    int c;\n    c = y;\n    y = x;\n    x = c;\n    printf(\"After Swapping values of x and y are %d %d\", x, y);\n    return 0;\n}\n</code></pre> <pre><code>class GFG {\n    public static void main(String[] args)\n    {\n        int x = 5, y = 10;\n        //x = x ^ y ^ (y = x);\n        int c;\n        c = y;\n        y = x;\n        x = c;\n        System.out.println(\"After Swapping values\"+\" of x and y are \" + x + \" \" + y);\n    }\n}\n</code></pre> <pre><code>x, y = 5, 10\nx, y = y, x\nprint(\"After Swapping values of x and y are\", x, y)\n</code></pre> <p>Python \u7684\u8bed\u6cd5\u663e\u7136\u66f4\u7b80\u5355\uff0c\u5b83\u5c31\u50cf\u6211\u4eec\u6bcf\u5929\u4f7f\u7528\u7684\u81ea\u7136\u8bed\u8a00\u4e00\u6837\uff0c\u4f3c\u4e4e\u4e0d\u501f\u52a9\u4efb\u4f55\u590d\u6742\u7684\u6280\u5de7\u3001\u751a\u81f3\u4e0d\u9700\u8981\u61c2\u6240\u8c13\u7684\u7f16\u7a0b\u77e5\u8bc6\uff0c\u5c31\u80fd\u591f\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u3002C \u548c Java \u867d\u7136\u4e5f\u90fd\u80fd\u4e0d\u501f\u52a9\u7b2c\u4e09\u4e2a\u53d8\u91cf\uff0c\u5b9e\u73b0\u4e00\u884c\u4ee3\u7801\u5b8c\u6210\u53d8\u91cf\u7684\u503c\u4ea4\u6362\uff0c\u4f46\u8fd9\u6837\u7684\u4ee3\u7801\u9700\u8981\u4e00\u5b9a\u7684\u6280\u5de7\uff0c\u56e0\u800c\u5bb9\u6613\u51fa\u9519\u3002</p> <p>\u7b80\u6d01\uff08\u4f46\u4e0d\u9700\u8981\u501f\u52a9\u4e8e\u590d\u6742\u7684\u6280\u5de7\uff09\u7684\u4ee3\u7801\u663e\u7136\u66f4\u52a0\u5bb9\u6613\u9605\u8bfb\u548c\u7406\u89e3\uff0c\u4ece\u800c\u5927\u5927\u52a0\u5feb\u4e86\u5f00\u53d1\u7684\u901f\u5ea6\u3002\u7684\u786e\uff0c\u5728\u8fd9\u4e2a\u4fe1\u606f\u8fc7\u8f7d\u7684\u65f6\u4ee3\uff0c\u7b80\u6d01\u8d8a\u6765\u8d8a\u663e\u793a\u51fa\u5f3a\u5927\u7684\u529b\u91cf\uff1ajson \u53d6\u4ee3 xml \u6210\u4e3a\u66f4\u591a\u4eba\u7528\u6765\u4f20\u9012\u6570\u636e\u7684\u5de5\u5177\uff1bMarkdown \u5219\u53d6\u4ee3\u4e86 Html\u3001reStructuredText \u548c Word \u6210\u4e3a\u6211\u4eec\u7684\u6587\u6863\u683c\u5f0f\u3002</p> <p>\u5220\u7e41\u5c31\u7b80\u4e09\u79cb\u6811\uff0c\u6807\u65b0\u7acb\u5f02\u4e8c\u6708\u82b1\u3002\u7e41\u7410\u3001\u5938\u5f20\u7684\u5df4\u6d1b\u514b\u827a\u672f\uff0c\u65e0\u8bba\u5176\u591a\u4e48\u7cbe\u81f4\u3001\u591a\u4e48\u5438\u5f15\u773c\u7403\uff0c\u90fd\u65e0\u6cd5\u5728\u8fd9\u4e2a\u9ad8\u5ea6\u5185\u5377\u7684\u5e74\u4ee3\u9003\u8131\u6279\u5224\u3002\u6211\u4eec\u9700\u8981\u90a3\u4e9b\u80fd\u591f\u6210\u4e3a\u6211\u4eec\u76f4\u89c9\u7684\u5de5\u5177\u3001\u7b26\u53f7\u548c\u601d\u60f3\uff0c\u4ee5\u4fbf\u8ba9\u6211\u4eec\u80fd\u591f\u5feb\u901f\u54cd\u5e94\u8fd9\u65e5\u76ca\u590d\u6742\u7684\u4e16\u754c\u3002</p> <p>::: note     \u7b80\u5355\u5373\u662f\u7f8e\u3002\u8fd9\u79cd\u54f2\u5b66\u601d\u60f3\u5927\u81f4\u8d77\u6e90\u4e8e\u5965\u5361\u59c6\u3002\u8fbe\u82ac\u5947\u4e5f\u6709\u7c7b\u4f3c\u7684\u601d\u60f3\uff1a\u201c\u7b80\u5355\u662f\u6781\u81f4\u7684\u7cbe\u5de7\u201d\uff0c\u5c3d\u7ba1\u7cbe\u5de7\u624d\u662f\u90a3\u4e2a\u65f6\u4ee3\u7684\u5ba1\u7f8e\u3002\u5982\u679c\u4f60\u5bf9\u8fd9\u4e9b\u601d\u60f3\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u9605\u8bfb John Maeda \u64b0\u5199\u7684\u4e66\u7c4d\u300aThe Laws of Simplicity\u300b\u3002 :::</p> <p>\u8bed\u8a00\u7684\u7b80\u6d01\u3001\u4f18\u7f8e\u5728 Python \u4e2d\u7684\u5730\u4f4d\u662f\u5982\u6b64\u91cd\u8981\uff0c\u4ee5\u81f3\u4e8e\u5b83\u88ab\u5199\u8fdb\u4e86 Python\u201c\u5baa\u7ae0\u201d -- PEP20[^PEP20]\uff1a </p> <p>Cite</p> <p>\"Zen of Python -  by Tim Peters[^Tim_Peters]\"   </p> <p>Beautiful is better than ugly. \u4f18\u7f8e\u80dc\u4e8e\u4e11\u964b</p> <p>Explicit is better than implicit. \u660e\u4e86\u80dc\u4e8e\u6666\u6da9</p> <p>Simple is better than complex. \u7b80\u5355\u4f18\u4e8e\u590d\u6742</p> <p>Complex is better than complicated. \u590d\u6742\u4f18\u4e8e\u51cc\u4e71</p> <p>Flat is better than nested. \u6241\u5e73\u597d\u8fc7\u5d4c\u5957</p> <p>Sparse is better than dense. \u7a00\u758f\u5f3a\u4e8e\u7a20\u5bc6</p> <p>Readability counts. \u53ef\u8bfb\u6027\u5f88\u91cd\u8981\uff01</p> <p>Special cases aren't special enough to break the rules. \u7279\u4f8b\u4ea6\u4e0d\u53ef\u8fdd\u80cc\u539f\u5219</p> <p>Although practicality beats purity. \u5373\u4f7f\u5b9e\u7528\u6218\u80dc\u4e86\u7eaf\u7cb9</p> <p>Errors should never pass silently. \u9519\u8bef\u7edd\u4e0d\u80fd\u6084\u6084\u5ffd\u7565</p> <p>Unless explicitly silenced. \u9664\u975e\u6211\u4eec\u786e\u5b9a\u9700\u8981\u5982\u6b64</p> <p>In the face of ambiguity, refuse the temptation to guess. \u9762\u5bf9\u4e0d\u786e\u5b9a\u6027\uff0c\u62d2\u7edd\u5984\u52a0\u731c\u6d4b</p> <p>There should be one -- and preferably only one -- obvious way to do it. \u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053</p> <p>Although that way may not be obvious at first unless you're Dutch. \u5373\u4fbf\u89e3\u51b3\u4e4b\u9053\u8d77\u521d\u770b\u8d77\u6765\u5e76\u4e0d\u663e\u800c\u6613\u89c1</p> <p>Now is better than never. \u505a\u603b\u6bd4\u4e0d\u505a\u5f3a</p> <p>Although never is often better than right now. \u7136\u800c\u4e0d\u5047\u601d\u7d22\u8fd8\u4e0d\u5982\u4e0d\u505a</p> <p>If the implementation is hard to explain, it's a bad idea. \u96be\u4ee5\u540d\u72b6\u7684\uff0c\u5fc5\u7136\u662f\u574f\u7684</p> <p>If the implementation is easy to explain, it may be a good idea. \u6613\u4ee5\u8a00\u4f20\u7684\uff0c\u53ef\u80fd\u662f\u597d\u7684</p> <p>Namespaces are one honking great idea -- let's do more of those! \u540d\u5b57\u7a7a\u95f4\u662f\u4e2a\u7edd\u5999\u7684\u4e3b\u610f\uff0c\u8bf7\u597d\u597d\u4f7f\u7528\uff01</p> <p>\u8fd9\u6bb5\u6587\u5b57\u751a\u81f3\u8fd8\u4ee5\u5f69\u86cb\u7684\u65b9\u5f0f\u51fa\u73b0\u3002\u5982\u679c\u6267\u884c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a</p> <pre><code>python -c 'import this'\n</code></pre> <p>\u5c31\u4f1a\u8f93\u51fa\u4e0a\u9762\u7684\u6587\u5b57\u3002\u4efb\u4f55\u65f6\u5019\uff0c\u5982\u679c\u6211\u9700\u8981\u5f15\u7528\u300aZen of Python\u300b\uff0c\u6211\u90fd\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002</p> <p>PEP20 \u8fd8\u85cf\u7740\u53e6\u4e00\u4e2a\u5f69\u86cb\u3002\u6211\u4eec\u8bf4\u5b83\u5e94\u8be5\u6709 20 \u6761\u89c4\u5219\uff0c\u4f46\u5b9e\u9645\u4e0a\u6211\u4eec\u53ea\u80fd\u770b\u5230 19 \u6761\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u7b2c 20 \u6761\u89c4\u5219\uff0c\u662f\u7559\u7ed9 Guido \u7684\u7279\u6743\uff0c\u591a\u5e74\u6765\uff0c\u793e\u533a\u4e00\u76f4\u5728\u7b49\u5f85\u4ed6\u6765\u6dfb\u52a0\u8fd9\u4e00\u6761\u89c4\u5219\u3002\u8fd9\u4e5f\u53cd\u6620\u4e86\u793e\u533a\u5bf9 Guido \u7684\u5c0a\u656c\u4e0e\u70ed\u7231\u3002\u4e0d\u8fc7\uff0c10 \u591a\u5e74\u8fc7\u53bb\u4e86\uff0c\u8fc4\u4eca\u4e3a\u6b62\uff0cGuido \u90fd\u6ca1\u6709\u4f7f\u7528\u8fd9\u4e00\u7279\u6743\uff0c\u8fd9\u7b2c 20 \u6761\"\u519b\u89c4\"\uff0c\u4e5f\u5c31\u4e00\u76f4\u7a7a\u7f3a\u5230\u73b0\u5728\u3002</p> <p>\u5176\u6b21\uff0cPython \u7684\u9ad8\u6548\uff0c\u8fd8\u4f53\u73b0\u5728\u5b83\u65e0\u9700\u7f16\u8bd1\u5373\u53ef\u8fd0\u884c\u4e0a\u3002\u8c61 C\uff0cJava \u8fd9\u6837\u7684\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u5199\u5b8c\u4e00\u5c0f\u6bb5\u7a0b\u5e8f\uff0c\u60f3\u770b\u770b\u5b83\u662f\u5982\u4f55\u8fd0\u884c\u7684\uff0c\u4f60\u5fc5\u987b\u7b49\u5f85\u5b83\u5b8c\u6210\u7f16\u8bd1 -- \u8fd9\u4e2a\u65f6\u95f4\u53ef\u80fd\u662f\u51e0\u5341\u79d2\u6216\u8005\u4ee5\u5206\u949f\u3001\u751a\u81f3\u5c0f\u65f6\u8ba1 \u2014 \u8fd9\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u5458\u7684\u5de5\u4f5c\u88ab\u6253\u65ad\u3002\u4e0b\u9762\u7684\u8bbd\u523a\u6f2b\u753b\u53cd\u6620\u4e86\u8fd9\u79cd\u60c5\u51b5\uff1a</p> <p></p> <p>\u800c\u5728 Python \u4e2d\uff0c\u4f60\u968f\u65f6\u53ef\u4ee5\u6253\u5f00\u5b83\u7684\u4ea4\u4e92\u5f0f\u754c\u9762\uff08\u5373 IPython)\uff0c\u8f93\u5165\u4e00\u5c0f\u6bb5\u4ee3\u7801\uff0c\u9a6c\u4e0a\u5c31\u770b\u5230\u5b83\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u4e0b\u56fe\u663e\u793a\u4e86\u5982\u4f55\u5728 ipython \u754c\u9762\u4e0b\u8ba1\u7b97\u6570\u5b66\u95ee\u9898\uff1a</p> <p></p> <p>\u5982\u679c\u4f60\u4e0d\u559c\u6b22\u4f7f\u7528 IPython \u8fd9\u79cd\u547d\u4ee4\u884c\u5f0f\u7684\u63a5\u53e3\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5\u4e00\u4e2a Jupyter Notebook \u6765\u7f16\u5199\u548c\u8fd0\u884c\u4e00\u4e9b Python \u4ee3\u7801\u7247\u6bb5\u3002\u5173\u4e8e Jupyter Notebook\uff0c\u6211\u4eec\u8fd8\u4f1a\u5728\u4ecb\u7ecd IDE \u65f6\u8fdb\u4e00\u6b65\u4ecb\u7ecd\u3002\u6b64\u5916\uff0c\u968f\u624b\u5199\u4e00\u4e2a Unittest\uff0c\u901a\u8fc7 Unittest \u6765\u6d4b\u8bd5\u4f60\u521a\u5199\u7684\u65b9\u6cd5\u4e5f\u4f1a\u6bd4\u5176\u5b83\u8bed\u8a00\u6765\u5f97\u66f4\u5bb9\u6613\u3002\u56e0\u6b64\uff0c\u4f7f\u7528 Python\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b66\u4e60\u548c\u6210\u957f\u662f\u5982\u6b64\u5bb9\u6613\uff01</p> <p>\u6700\u540e\uff0cPython \u80fd\u6210\u4e3a\u4e00\u95e8\u9ad8\u6548\u5f00\u53d1\u8bed\u8a00\uff0c\u8fd8\u5f97\u76ca\u4e8e\u5b83\u5e9e\u5927\u548c\u6d3b\u8dc3\u7684\u793e\u533a\u3002\u5728 Python \u4e16\u754c\u91cc\uff0c\u4f60\u5f88\u5bb9\u6613\u53d1\u73b0\u4e00\u4e9b\u9020\u597d\u7684\u201c\u8f6e\u5b50\u201d\uff0c\u56e0\u6b64\u6784\u5efa\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c31\u8c61\u642d\u79ef\u6728\u4e00\u6837\u7b80\u5355\u3002\u6bd4\u5982\uff0c\u6709\u65f6\u5019\u9700\u8981\u663e\u793a\u4e00\u4e9b Html \u683c\u5f0f\u7684\u6587\u6863\uff0c\u6216\u8005\u4ee5 Web \u7684\u65b9\u5f0f\u5c55\u73b0\u672c\u5730\u6587\u4ef6\u4ee5\u4f9b\u4e0b\u8f7d\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8c61\u4e0b\u9762\u4e00\u6837\u7b80\u5355\u5730\u542f\u52a8\u4e00\u4e2a HTTP \u670d\u52a1\u5668\uff1a</p> <pre><code>python -m http.server\n</code></pre> <p>\u8fd9\u6837\u5c31\u542f\u52a8\u4e86\u4e00\u4e2a web \u670d\u52a1\u5668\uff0c\u5b83\u4f1a\u5217\u51fa\u547d\u4ee4\u542f\u52a8\u65f6\u7684\u6587\u4ef6\u5939\u76ee\u5f55\uff0c\u800c\u4f60\u4e0d\u9700\u8981\u5b89\u88c5\u548c\u8bbe\u7f6e\u4efb\u4f55\u8f6f\u4ef6\uff01</p> <p>\u540d\u6ee1\u5929\u4e0b\uff0c\u8c24\u4ea6\u968f\u4e4b\u3002\u4f5c\u4e3a\u4e00\u79cd\u9002\u5408\u6240\u6709\u4eba\u4f7f\u7528\u7684\u7f16\u7a0b\u8bed\u8a00\uff0cPython \u5728\u627f\u8f7d\u5e0c\u671b\u7684\u540c\u65f6\uff0c\u4e5f\u627f\u62c5\u4e86\u8bb8\u591a\u8d28\u7591\u3002\u8fd9\u4e9b\u8d28\u7591\u4e2d\u58f0\u91cf\u6700\u5927\u7684\uff0c\u5f53\u5c5e\u5bf9 Python \u6027\u80fd\u548c\u6784\u5efa\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u80fd\u529b\u7684\u8d28\u7591\u3002</p> <p>\u8bda\u7136\uff0cPython \u4e0e\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\u76f8\u6bd4\uff0c\u5728\u8fd0\u884c\u901f\u5ea6\u4e0a\u786e\u5b9e\u8981\u843d\u540e\u4e0d\u5c11\u3002\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u8fd9\u79cd\u843d\u540e\u751a\u81f3\u662f\u6709\u610f\u4e3a\u4e4b\uff0c\u56e0\u4e3a\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u4ee5\u6765\uff0cPython \u4e4b\u7236\u5e76\u4e0d\u8ba4\u4e3a\u9700\u8981\u8fc7\u591a\u5730\u5173\u6ce8 Python \u7684\u6027\u80fd\u95ee\u9898\uff0c\u5b83\u5df2\u7ecf\u8db3\u591f\u5feb\u4e86\u3002\u786e\u5b9e\uff0c\u5bf9 99%\u4ee5\u4e0a\u7684\u4efb\u52a1\u6765\u8bf4\uff0cPython \u7684\u6027\u80fd\u662f\u8db3\u591f\u7684\uff0c\u5feb\u5230\u8db3\u591f\u652f\u6491\u65e9\u671f\u7684 Google \u548c Dropbox[^Dropbox] \u2014 \u8fd9\u662f\u5f88\u591a\u7a0b\u5e8f\u5458\u4e00\u751f\u90fd\u96be\u4ee5\u9047\u5230\u7684\u5e94\u7528\u573a\u666f\u3002\u4ece\u90a3\u4e2a\u65f6\u5019\u8d77\uff0cPython \u5728\u6027\u80fd\u4e0a\u53c8\u6709\u4e86\u957f\u8db3\u7684\u8fdb\u6b65\u3002\u4e0d\u4e45\u524d ChatGPT \u7684\u95ee\u4e16\uff0c\u4e0d\u4ec5\u544a\u8bc9\u6211\u4eec\u4eba\u5de5\u667a\u80fd\u7684\u8bed\u8a00\u6a21\u578b\u53ef\u4ee5\u6709\u591a\u5148\u8fdb\uff0c\u800c\u4e14\u8fd8\u544a\u8bc9\u6211\u4eec\uff0cPython \u4e5f\u53ef\u4ee5\u5199\u51fa\u6765\u9ad8\u6027\u80fd\u3001\u9ad8\u53ef\u6269\u5c55\u6027\u7684\u5927\u578b\u5206\u5e03\u5f0f\u8ba1\u7b97\u5e73\u53f0 \u2014 Ray[^ray]\u3002\u76ee\u524d\uff0c\u8fd9\u4e2a\u5e73\u53f0\u5df2\u7ecf\u652f\u6491\u4e86\u8d85\u8fc7 1 \u4ebf\u6708\u6d3b\u8dc3\u7528\u6237\uff0c\u6211\u4eec\u8fd8\u4e0d\u77e5\u9053\u8fd9\u4e2a\u5e73\u53f0\u7684\u74f6\u9888\u5728\u54ea\u91cc\u3002\u65e0\u8bba\u5982\u4f55\uff0c\u6211\u4eec\u6050\u6015\u518d\u4e5f\u4e0d\u80fd\u8bf4\uff0cPython \u4e0d\u9002\u5408\u6784\u5efa\u5927\u578b\u5e94\u7528\u4e86\u5427\uff1f</p> <p>\u4f46\u662f\u4eba\u4eec\u4e5f\u6709\u7406\u7531\u8981\u6c42 Python \u8fd0\u884c\u5f97\u66f4\u5feb\u3002\u6bd5\u7adf\uff0c\u65e0\u8bba\u4eba\u4eec\u5df2\u7ecf\u4f7f\u7528 Python \u6784\u5efa\u51fa\u4e86\u7b97\u529b\u591a\u4e48\u60ca\u4eba\u7684\u8ba1\u7b97\u5e73\u53f0\uff0c\u4f46 Python \u7684\u5355\u8fdb\u7a0b\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u8bb8\u591a\u573a\u666f\u4e0b\u4ecd\u7136\u8f83\u591a\u6570\u8bed\u8a00\u6765\u5f97\u6162\u3002\u5982\u679c Python \u672c\u8eab\u8fd0\u884c\u8f83\u6162\uff0c\u5982\u679c\u518d\u52a0\u4e0a\u5e94\u7528\u7a0b\u5e8f\u7684\u67b6\u6784\u8bbe\u8ba1\u5f88\u7cdf\u7cd5\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd8\u662f\u53ef\u80fd\u51fa\u73b0\u6027\u80fd\u74f6\u9888\u7684 \u2014 \u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u7cdf\u7cd5\u7684\u5e94\u7528\u7a0b\u5e8f\u67b6\u6784\u662f\u7edd\u5927\u591a\u6570\u5e94\u7528\u4ea7\u751f\u6027\u80fd\u74f6\u9888\u7684\u539f\u56e0\uff0c\u800c\u4e0d\u5e94\u8be5\u7531\u5f00\u53d1\u8bed\u8a00\u6765\u80cc\u9ed1\u9505\u3002\u6bd4\u5982\uff0c\u5f88\u591a\u4eba\u8bdf\u75c5 Python \u7684 GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\u4f7f\u5f97 Python \u4e2d\u65e0\u6cd5\u5145\u5206\u5229\u7528\u591a\u7ebf\u7a0b\u7684\u4f18\u52bf\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u591a\u7ebf\u7a0b\u5f88\u591a\u65f6\u5019\u662f\u4e2a\u574f\u4e3b\u610f\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528 Coroutine \u548c\u591a\u8fdb\u7a0b\u6765\u4ee3\u66ff\u5b83\uff0c\u8fd9\u6837\u5f80\u5f80\u80fd\u8fbe\u5230\u66f4\u597d\u7684\u6027\u80fd\u3002</p> <p>\u4e0d\u8fc7\uff0c\u5728\u4e0d\u8fdc\u7684\u5c06\u6765\uff0c\u6211\u4eec\u5c06\u518d\u4e5f\u4e0d\u7528\u4e3a Python \u7684\u6027\u80fd\u95ee\u9898\u62c5\u5fe7\uff1a\u5728 2021 \u5e74 5 \u6708\u7684 Python \u5f00\u53d1\u8005\u5cf0\u4f1a\u4e0a\uff0cGuido \u5df2\u7ecf\u5ba3\u5e03\u4e86\u4e00\u4e2a\u8ba1\u5212\uff0c\u8981\u5728\u672a\u6765\u56db\u5e74\u91cc\uff0c\u5c06 Python \u7684\u6027\u80fd\u63d0\u5347 5 \u500d\u751a\u81f3\u66f4\u591a\u3002\u6211\u4eec\u4e0d\u59a8\u7545\u60f3\u4e00\u4e0b\uff0c\u5230\u90a3\u65f6\uff0cRay \u4f1a\u4e0d\u4f1a\u6210\u4e3a\u4e16\u754c\u4e0a\u7b97\u529b\u6700\u5f3a\u7684\u8ba1\u7b97\u5e73\u53f0\u4e4b\u4e00\u5462\uff1f</p> <p>\u53e6\u4e00\u4e2a\u95ee\u9898\uff0c\u662f\u5173\u4e8e Python \u662f\u5426\u9002\u5408\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u3002\u5982\u679c\u8bf4\u5bf9 Python \u6027\u80fd\u7684\u8d28\u7591\u8fd8\u6709\u5176\u4e8b\u5b9e\u4f9d\u636e\uff0c\u8fd9\u4e2a\u8d28\u7591\u5219\u53ea\u80fd\u53cd\u6620\u63d0\u95ee\u8005\u5bf9 Python \u7684\u5f00\u53d1\u7f3a\u4e4f\u4e86\u89e3\u3002\u8fd9\u4e9b\u8d28\u7591\u5177\u4f53\u5730\u8bf4\uff0c\u4e00\u662f Python \u7684\u52a8\u6001\u7c7b\u578b\u7279\u6027\uff0c\u4f7f\u5f97\u7c7b\u578b\u63a8\u65ad\u53d8\u5f97\u56f0\u96be\uff0c\u8fd9\u5bf9\u4ee3\u7801\u7684\u9759\u6001\u68c0\u67e5\u548c\u91cd\u6784\u5341\u5206\u4e0d\u5229\uff1b\u4e8c\u662f\u7531\u4e8e Python \u4ee3\u7801\u6ca1\u6709\u7f16\u8bd1\u8fc7\u7a0b\uff0c\u56e0\u6b64\u5c31\u7f3a\u5c11\u4e86\u7f16\u8bd1\u65f6\u68c0\u67e5\u8fd9\u4e00\u53d1\u73b0\u9519\u8bef\u7684\u673a\u5236\u3002</p> <p>\u5173\u4e8e\u7b2c\u4e00\u4e2a\u8d28\u7591\uff0cPython \u4ece 3.3 \u8d77\u5c31\u5f15\u5165\u4e86\u7c7b\u578b\u58f0\u660e\uff0c\u56e0\u6b64\u53ea\u8981\u4ee3\u7801\u9075\u5faa\u89c4\u8303\u6765\u7f16\u5199\uff0c\u7c7b\u578b\u63a8\u65ad\u548c\u4ee3\u7801\u91cd\u6784\u5c31\u4e0d\u662f\u95ee\u9898\u3002Javascript \u5c31\u662f\u660e\u663e\u7684\u4e00\u4f8b\uff0c\u5b83\u540c\u6837\u662f\u52a8\u6001\u8bed\u8a00\uff0c\u4f46\u5f15\u5165\u7c7b\u578b\u63d0\u793a\u4e4b\u540e\u5347\u7ea7\u4e3a TypedScript \u8bed\u8a00\uff0c\u73b0\u5728\u4e5f\u975e\u5e38\u6210\u529f\u3002\u5173\u4e8e\u7b2c\u4e8c\u70b9\uff0c\u7f16\u8bd1\u65f6\u68c0\u67e5\u53ea\u662f\u589e\u5f3a\u4ee3\u7801\u8d28\u91cf\u7684\u4e00\u79cd\u65b9\u6848\uff0c\u800c\u4e0d\u662f\u60df\u4e00\u7684\u65b9\u6848\u3002\u68c0\u9a8c\u4ee3\u7801\u8d28\u91cf\u7684\u60df\u4e00\u6807\u51c6\uff0c\u5c31\u662f\u5b83\u8fd0\u884c\u65f6\u80fd\u5426\u6ee1\u8db3\u4f60\u7684\u671f\u671b\u3002\u8fd9\u6b63\u662f\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u6240\u8981\u505a\u7684\u4e8b\u3002\u7531\u4e8e Python \u7684\u52a8\u6001\u7c7b\u578b\u7279\u5f81\uff0c\u4f7f\u5f97\u6784\u5efa Mock \u5bf9\u8c61\u5341\u5206\u7b80\u5355\uff0c\u56e0\u6b64\u5355\u5143\u6d4b\u8bd5\u4e5f\u53d8\u5f97\u683c\u5916\u5bb9\u6613\u3002\u8fd9\u6837\u4f1a\u9f13\u52b1\u7a0b\u5e8f\u5458\u66f4\u591a\u5730\u8fdb\u884c\u5145\u5206\u548c\u5168\u9762\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u4ece\u800c\u6781\u5927\u5730\u63d0\u9ad8\u4ee3\u7801\u8d28\u91cf\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u4f5c\u8005\u770b\u6765\uff0c\u4e00\u4e9b\u4eba\u4e4b\u6240\u4ee5\u8d28\u7591 Python \u80fd\u5426\u7528\u4ee5\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\uff0c\u66f4\u591a\u5730\u662f\u56e0\u4e3a\u4ed6\u4eec\u5e76\u4e0d\u4e86\u89e3\u548c\u719f\u6089 Python \u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u3001\u89c4\u8303\u548c\u5de5\u5177\u3002\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u9075\u5faa Python \u8f6f\u4ef6\u5f00\u53d1\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u7528\u597d\u89c4\u8303\u548c\u5de5\u5177\uff0c\u4f7f\u7528 Python \u5f00\u53d1\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u76f8\u5f53\u60ca\u4eba\u5730\u7f29\u77ed\u5f00\u53d1\u65f6\u95f4\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff0c\u4e5f\u66f4\u5bb9\u6613\u53d6\u5f97\u5546\u4e1a\u4e0a\u7684\u6210\u529f\u3002</p> <p>[^Java]: Java 1.0 \u7248\u672c\u53d1\u5e03\u4e8e 1996 \u5e74 1 \u6708\u3002Python \u521b\u5efa\u4e8e 1991 \u5e74\u7684 2 \u6708\u3002 [^PEP20]: PEP \u662f Python Ehancement Proposals \u7684\u9996\u5b57\u6bcd\u7f29\u5199\u3002\u5b83\u662f\u5c06\u65b0\u7279\u6027\u5f15\u5165 Python \u7684\u91cd\u8981\u65b9\u5f0f\u3002 [^Tim_Peters]: Tim Peters \u662f Python \u7684\u91cd\u8981\u8d21\u732e\u8005\u4e4b\u4e00\uff0c\u4e5f\u662f Timsort \u6392\u5e8f\u7b97\u6cd5\u7684\u53d1\u660e\u4eba\uff0c\u8fd9\u79cd\u7b97\u6cd5\u88ab\u5e7f\u6cdb\u4f7f\u7528\u4e8e\u5305\u62ec Python \u5728\u5185\u7684\u5404\u79cd\u8bed\u8a00\uff0c\u6bd4\u5982 Chrome v8 \u5f15\u64ce\u548c nodejs\u3002 [^Dropbox]: Dropbox \u5f53\u65f6\u4f7f\u7528\u7684\u662f Python 2.x\u3002Dropbox \u6700\u7ec8\u4f7f\u7528\u4e86\u5176\u5b83\u8bed\u8a00\u6539\u5199\u4e86\u90e8\u5206\u529f\u80fd\uff0c\u539f\u56e0\u662f\u8bb8\u591a\u4eba\u8ba4\u4e3a\uff0c\u7531 Python 2 \u5347\u7ea7\u5230 Python 3\uff0c\u4e0d\u4e9a\u4e8e\u6362\u4e86\u4e00\u79cd\u8bed\u8a00\u3002 [^CP4E]: CP4E \u8fd0\u52a8\uff1ahttps://www.python.org/doc/essays/cp4e/</p> <p>[^ray]: ChatGTP \u5bf9\u7b97\u529b\u7684\u9700\u6c42\u662f\u60ca\u4eba\u7684\u3002\u56e0\u6b64\uff0c\u4ed6\u4eec\u4f7f\u7528\u4e86 Ray \u8fd9\u4e2a Python \u5199\u6210\u7684\u5171\u4eab\u5185\u5b58\u5f0f\u5206\u5e03\u5f0f\u8ba1\u7b97\u5e73\u53f0\u3002Ray \u7684\u5f00\u53d1\u8005\u662f Anyscale \u516c\u53f8\uff0c\u7531 UC Berkeley \u7684\u51e0\u4f4d\u6559\u6388\u3001\u4ee5\u53ca Databricks \u7684\u8054\u5408\u521b\u59cb\u4eba\u5171\u540c\u6210\u7acb\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/","title":"02 \u7f16\u7a0b\u5f00\u53d1\u73af\u5883","text":"<p>\u5c3d\u7ba1\u6761\u6761\u9053\u8def\u901a\u7f57\u9a6c\uff0c\u4f46\u6bd5\u7adf\u6709\u7684\u8def\u8d70\u5f97\u66f4\u5e73\u7a33\u66f4\u5feb\u6377\uff0c\u66f4\u4e0d\u8981\u8bf4\u6709\u7684\u4eba\u751a\u81f3\u5c31\u4f4f\u5728\u7f57\u9a6c\u3002\u5bf9\u4e8e Python \u5f00\u53d1\u800c\u8a00\uff0c\u4f60\u7684\u5f00\u53d1\u73af\u5883\u6709\u591a\u597d\u7528\uff0c\u4f60\u79bb\u7f57\u9a6c\u5c31\u6709\u591a\u8fd1\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u65c5\u7a0b\u4ece\u8fd9\u91cc\u5f00\u59cb\u3002</p> <p>\u672c\u7ae0\u9996\u5148\u4ecb\u7ecd Python \u5f00\u53d1\u7684\u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\uff0c\u7136\u540e\u4ecb\u7ecd\u51e0\u4e2a\u6700\u6d41\u884c\u7684\u96c6\u6210 IDE\uff0c\u5e76\u5bf9\u4ed6\u4eec\u7684\u7279\u70b9\u8fdb\u884c\u4e86\u6bd4\u8f83\uff0c\u4f9b\u8bfb\u8005\u9009\u62e9\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#1","title":"1. \u9009\u62e9\u54ea\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\uff1f","text":"<p>\u770b\u4e0a\u53bb\u64cd\u4f5c\u7cfb\u7edf\u662f\u4e00\u4e2a\u4e0e\u7f16\u7a0b\u8bed\u8a00\u65e0\u5173\u7684\u8bdd\u9898\uff0c\u7279\u522b\u662f\u50cf Python \u8fd9\u6837\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5b83\u7f16\u5199\u7684\u7a0b\u5e8f\u51e0\u4e4e\u53ef\u4ee5\u8fd0\u884c\u5728\u4efb\u4f55\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u5fae\u5999\u7684\u5dee\u5f02\u9700\u8981\u6211\u4eec\u53bb\u8003\u8651\u3002\u9996\u5148\uff0cPython \u66f4\u9002\u5408\u4e8e\u6570\u636e\u5206\u6790\u3001\u4eba\u5de5\u667a\u80fd\u548c\u540e\u53f0\u5f00\u53d1\uff0c\u800c\u4e0d\u662f\u7528\u4e8e\u5f00\u53d1\u684c\u9762\u548c\u79fb\u52a8\u7aef\u5e94\u7528\u3002\u800c\u65e0\u8bba\u662f\u5927\u6570\u636e\u5206\u6790\u548c\u4eba\u5de5\u667a\u80fd\uff0c\u8fd8\u662f\u540e\u53f0\u5f00\u53d1\uff0c\u5f80\u5f80\u90fd\u90e8\u7f72\u5728 Linux \u670d\u52a1\u5668\u73af\u5883\u4e0b\u3002\u800c\u4e14\uff0c\u8fd9\u4e9b\u5e94\u7528\u6240\u4f9d\u8d56\u7684\u751f\u6001\uff0c\u4e5f\u5f80\u5f80\u6784\u5efa\u5728 Linux \u4e0b\uff08\u6bd4\u5982\u5927\u6570\u636e\u5e73\u53f0\u548c\u5206\u5e03\u5f0f\u8ba1\u7b97\u5e73\u53f0\uff09\u3002\u4e00\u4e9b\u91cd\u8981\u7684\u7684\u7a0b\u5e8f\u5e93\uff0c\u5c3d\u7ba1\u6700\u7ec8\u53ef\u80fd\u90fd\u4f1a\u517c\u5bb9\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f46\u7531\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u5b83\u4eec\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u7684\u7248\u672c\u53d1\u5e03\u8ba1\u5212\u5f80\u5f80\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4e00\u4e9b\u5f00\u6e90\u7684\u7a0b\u5e8f\u548c\u7c7b\u5e93\u5f80\u5f80\u4f1a\u4f18\u5148\u8003\u8651 Linux \u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u4eec\u5728 Linux \u4e0a\u7684\u6d4b\u8bd5\u4f3c\u4e4e\u4e5f\u66f4\u5145\u5206\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4e3e\u51fa\u5f88\u591a\u8fd9\u6837\u7684\u4f8b\u5b50\uff0c\u6bd4\u5982\uff0c\u91cf\u5316\u4ea4\u6613\u662f Python \u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u9886\u57df\u4e4b\u4e00\u3002\u800c pytalib \u5219\u662f\u5176\u4e2d\u5e38\u7528\u7684\u4e00\u4e2a\u6280\u672f\u5206\u6790\u5e93\u3002\u8be5\u5e93\u4f7f\u7528\u4e86\u4e00\u4e2a C \u7684\u6a21\u5757\uff0c\u9700\u8981\u5728\u5b89\u88c5\u65f6\u8fdb\u884c\u7f16\u8bd1\u3002\u5728 Windows \u4e0b\u8fdb\u884c\u7f16\u8bd1\uff0c\u9700\u8981\u4e0b\u8f7d\u548c\u914d\u7f6e\u4e00\u7cfb\u5217\u7684 Visual C++\u7684\u7f16\u8bd1\u5de5\u5177\uff0c\u5bf9 Python \u7a0b\u5e8f\u5458\u800c\u8a00\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u6709\u4e00\u5b9a\u96be\u5ea6\uff0c\u56e0\u4e3a\u5f88\u591a\u6982\u5ff5\u90fd\u662f Python \u7a0b\u5e8f\u5458\u5e76\u4e0d\u719f\u6089\u7684\u3002\u800c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Linux \u64cd\u4f5c\u7cfb\u7edf\uff0c\u5c3d\u7ba1\u7f16\u8bd1\u4ecd\u7136\u662f\u5fc5\u987b\u7684\uff0c\u4f46\u5b89\u88c5\u548c\u7f16\u8bd1\u53ea\u9700\u8981\u8fd0\u884c\u4e00\u4e2a\u811a\u672c\u5373\u53ef\u3002</p> <p>\u4e0d\u4ec5\u4ec5\u662f Python \u7a0b\u5e8f\u5e93\u5982\u6b64\u3002\u6211\u4eec\u9700\u8981\u4f9d\u8d56\u7684\u5404\u79cd\u670d\u52a1\u53ef\u80fd\u4e5f\u662f\u5982\u6b64\u3002\u6bd4\u5982\uff0c\u5c3d\u7ba1\u4f60\u53ef\u4ee5\u5728 Windows \u673a\u5668\u4e0a\u5b89\u88c5\u684c\u9762\u7248\u7684 Docker\uff0c\u7136\u540e\u8fd0\u884c\u4e00\u4e9b Linux \u5bb9\u5668\uff0c\u4f46 Windows \u4e0b Docker \u5bf9\u8d44\u6e90\u7684\u5229\u7528\u8fdc\u4e0d\u5982\u5728 Linux \u4e0b\u6765\u5f97\u5145\u5206 \u2014  \u5b83\u4eec\u662f\u5728 Docker \u670d\u52a1\u542f\u52a8\u65f6\u5c31\u4ece\u7cfb\u7edf\u4e2d\u5212\u8d70\u7684\uff0c\u65e0\u8bba\u5f53\u4e0b\u662f\u5426\u6709\u5bb9\u5668\u5728\u8fd0\u884c\uff0c\u8fd9\u4e9b\u8d44\u6e90\u90fd\u65e0\u6cd5\u88ab\u5176\u5b83 Windows \u7a0b\u5e8f\u4f7f\u7528\u3002\u4ece\u6839\u672c\u4e0a\u8bb2\uff0c\u8fd9\u79cd\u5dee\u5f02\u662f Windows \u4e0d\u80fd\u63d0\u4f9b\u5bb9\u5668\u7ea7\u522b\u7684\u8d44\u6e90\u9694\u79bb\u9020\u6210\u7684\u3002</p> <p>\u5728\u672c\u4e66\u7684\u540e\u9762\uff0c\u6211\u4eec\u5c06\u8bb2\u5230 CI/CD\uff0c\u8fd9\u4e9b\u90fd\u9700\u8981\u4f7f\u7528\u5bb9\u5668\u6280\u672f\u3002\u90a3\u65f6\uff0c\u60a8\u5c06\u66f4\u52a0\u4f53\u4f1a\u5230\u4f7f\u7528 Linux \u7684\u79cd\u79cd\u65b9\u4fbf\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528 Github Actions \u63d0\u4f9b\u7684\u5bb9\u5668\u6765\u8fd0\u884c\u6d4b\u8bd5\uff0c\u4f46\u662f\uff0c\u56e0\u4e3a\u6388\u6743\u7684\u95ee\u9898\uff0c\u514d\u8d39\u7248\u7684 Github CI \u63d0\u4f9b\u7684\u5bb9\u5668\u5c06\u4e0d\u5305\u62ec Windows\u3002</p> <p>\u5982\u679c\u8fd9\u4e9b\u7406\u7531\u8fd8\u4e0d\u80fd\u8bf4\u670d\u60a8\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u770b\u770b\u591a\u6570\u8d44\u6df1\u7a0b\u5e8f\u5458\u662f\u5982\u4f55\u9009\u62e9\u64cd\u4f5c\u7cfb\u7edf\u7684\u3002\u4e0b\u56fe\u662f StackOverflow[^stackoverflow] \u7f51\u7ad9\u5728 2022 \u5e74\u7684\u4e00\u4e2a\u8c03\u67e5\uff1a</p> <p></p> <p>\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u628a Linux \u81ea\u8eab\u7684\u4f7f\u7528\u91cf\u4e0e WSL \u7684\u4f7f\u7528\u91cf\uff08WSL \u662f\u4e00\u79cd Linux\uff09\u52a0\u5728\u4e00\u8d77\uff0cLinux \u5df2\u7ecf\u662f\u6392\u540d\u7b2c\u4e00\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u539f\u56e0\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 Linux \u4f5c\u4e3a\u60a8\u5f00\u53d1 Python \u9879\u76ee\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u672c\u4e66\u4e2d\u63d0\u5230\u7684\u5de5\u5177\u3001\u793a\u4f8b\u548c\u7a0b\u5e8f\u5e93\uff0c\u5982\u975e\u7279\u522b\u63d0\u5230\uff0c\u4e5f\u90fd\u9ed8\u8ba4\u5730\u4f7f\u7528 Linux \u4f5c\u4e3a\u8fd0\u884c\u73af\u5883\uff0c\u5e76\u5728 Linux \u4e0b\u6d4b\u8bd5\u901a\u8fc7\u3002</p> <p>\u4f46\u662f\uff0c\u60a8\u5f88\u53ef\u80fd\u5e76\u4e0d\u4f1a\u559c\u6b22\u8fd9\u4e2a\u5efa\u8bae\uff0c\u56e0\u4e3a\u5f88\u53ef\u80fd\u60a8\u7684\u7535\u8111\u5c31\u662f MacOS \u6216\u8005 Windows\u3002</p> <p>\u597d\u6d88\u606f\u662f\uff0cMacOS \u548c Linux \u90fd\u662f\u6240\u8c13\u7684\u201c\u7c7b Unix\u201d\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u6781\u9ad8\u7684\u76f8\u4f3c\u5ea6\u3002\u6240\u4ee5\uff0c\u5982\u679c\u60a8\u7684\u7535\u8111\u662f MacOS \u64cd\u4f5c\u7cfb\u7edf\uff0c\u60a8\u5927\u53ef\u4e0d\u5fc5\u53e6\u5916\u5b89\u88c5\u4e00\u4e2a Linux\u3002\u5982\u679c\u60a8\u7684\u7535\u8111\u662f Windows \u64cd\u4f5c\u7cfb\u7edf\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u4e5f\u63d0\u4f9b\u4e86\u4e09\u79cd\u65b9\u6848\uff0c\u8ba9\u60a8\u7684\u673a\u5668\u4e5f\u80fd\u8fd0\u884c\u4e00\u4e2a\u865a\u62df\u7684 Linux \u64cd\u4f5c\u7cfb\u7edf\u7528\u4e8e\u5f00\u53d1\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#2-windows-linux","title":"2. Windows \u4e0b\u7684 Linux \u73af\u5883","text":"<p>\u5728 Windows \u4e0b\u6709\u4e09\u79cd\u6784\u5efa Linux \u865a\u62df\u73af\u5883\u7684\u65b9\u5f0f\u3002\u5176\u4e2d\u4e4b\u4e00\u662f Windows \u7684\u539f\u751f\u65b9\u6848\uff0c\u5373\u4f7f\u7528 Windows Subsystem for Linux\uff08\u4ee5\u4e0b\u7b80\u79f0 WSL\uff09\uff0c\u5176\u5b83\u4e24\u79cd\u65b9\u6848\u5219\u5206\u522b\u662f Docker \u548c\u865a\u62df\u673a\u65b9\u6848\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#21-wsl","title":"2.1. WSL \u65b9\u6848","text":"<p>WSL \u662f Windows 10 \u7684\u4e00\u4e2a\u65b0\u529f\u80fd\u3002\u901a\u8fc7 WSL\uff0c\u5728 Windows \u4e4b\u4e0a\uff0c\u8fd0\u884c\u4e86\u4e00\u4e2a GNU/Linux \u73af\u5883\u3002\u5728\u8fd9\u4e2a\u73af\u5883\u91cc\uff0c\u7edd\u5927\u591a\u6570 Linux \u547d\u4ee4\u884c\u5de5\u5177\u548c\u670d\u52a1\u90fd\u53ef\u4ee5\u8fd0\u884c\uff0c\u800c\u4e0d\u9700\u8981\u8bbe\u7f6e\u53cc\u7cfb\u7edf\uff0c\u6216\u8005\u627f\u62c5\u865a\u62df\u673a\u5e26\u6765\u7684\u989d\u5916\u4ee3\u4ef7\u3002</p> <p>\u5f53\u524d\u6709\u4e24\u4e2a\u7248\u672c\u53ef\u7528\uff0c\u5373 v1 \u548c v2, \u4f5c\u8005\u66f4\u63a8\u8350\u4f7f\u7528 v1\u3002WSL v2 \u7684\u4f53\u9a8c\u66f4\u8c61\u4e00\u53f0\u771f\u6b63\u7684\u865a\u62df\u673a\uff0c\u56e0\u6b64\u4e0e windows \u96c6\u6210\u6027\u53cd\u800c\u66f4\u5dee\u4e00\u4e9b\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#211-wsl","title":"2.1.1. \u5b89\u88c5 WSL","text":"<p>\u5982\u679c\u60a8\u7684 windows 10 \u662f 2004 \u53ca\u66f4\u9ad8\u7248\u672c\uff0c\u6216\u8005\u662f Windows 11\uff0c\u5219\u5b89\u88c5\u53ea\u9700\u8981\u4e00\u6761\u547d\u4ee4\u5373\u53ef\u5b8c\u6210\uff1a</p> <pre><code>wsl --install --set-defalut-version=1\n</code></pre> <p>\u8fd9\u5c06\u5b89\u88c5 WSL v1 \u7248\u5230\u60a8\u7684\u673a\u5668\u4e0a\u3002\u5982\u679c\u662f\u7a0d\u65e9\u4e00\u70b9\u7684\u7cfb\u7edf\uff0c\u5219\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u542f\u7528\u201c\u9002\u7528\u4e8e Linux \u7684 Windows \u5b50\u7cfb\u7edf\u201d\u529f\u80fd\uff1a</li> </ol> <p></p> <ol> <li>\u8bbe\u7f6e\u540e\uff0c\u9700\u8981\u91cd\u542f\u4e00\u6b21\u7535\u8111\u3002</li> <li>\u4ece Windows \u5e94\u7528\u5546\u5e97\u641c\u7d22\u5b89\u88c5\u4e00\u4e2a Linux \u53d1\u884c\u7248\uff0c\u8fd9\u91cc\u7684\u793a\u4f8b\u4e2d\u6211\u4eec\u4f7f\u7528 Ubuntu:</li> </ol> <p></p> <p>\u73b0\u5728\uff0c\u5728\u641c\u7d22\u680f\u8f93\u5165 Ubuntu\uff0c\u5c31\u4f1a\u6253\u5f00 Ubuntu shell\u3002\u7531\u4e8e\u662f\u7b2c\u4e00\u6b21\u8fd0\u884c\uff0c\u6b64\u65f6\u4f1a\u63d0\u793a\u6211\u4eec\u8f93\u5165\u7528\u6237\u540d\u548c\u53e3\u4ee4\u3002\u8fd9\u6837 WSL \u5c31\u5b89\u88c5\u6210\u529f\u4e86\u3002\u6b64\u540e\uff0c\u4e5f\u53ef\u4ee5\u4ece\u641c\u7d22\u6846\u8f93\u5165<code>wsl</code>\u547d\u4ee4\u6765\u542f\u52a8\u8fd9\u4e2a\u7cfb\u7edf\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#212-wsl","title":"2.1.2. \u5b9a\u5236 WSL","text":"<p>\u4f7f\u7528 WSL v1 \u7248\u672c\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u4f53\u9a8c\u3002\u5b83\u65e2\u8c61\u4e00\u4e2a\u865a\u62df\u673a\uff0c\u4f46\u53c8\u7f3a\u4e4f\u90e8\u5206\u529f\u80fd\uff0c\u6bd4\u5982\uff0c\u5b83\u6ca1\u6709\u540e\u53f0\u670d\u52a1 [^wsl] \u8fd9\u4e2a\u6982\u5ff5\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u5176\u4e2d\u5b89\u88c5\u4e00\u4e9b\u670d\u52a1\uff0c\u6bd4\u5982 Redis \u6216\u8005\u6570\u636e\u5e93\uff0c\u4f46\u8fd9\u4e9b\u540e\u53f0\u670d\u52a1\u5e76\u4e0d\u4f1a\u968f WSL \u4e00\u540c\u542f\u52a8\uff0c\u5fc5\u987b\u5f97\u7ecf\u7531\u6211\u4eec\u624b\u52a8\u542f\u52a8\u3002\u4f46\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u5b9a\u5236\uff0c\u6765\u4f7f\u5f97 WSL \u7684\u4f7f\u7528\u4f53\u9a8c\u66f4\u63a5\u8fd1\u4e00\u53f0\u865a\u62df\u673a\u3002</p> <p>\u6211\u4eec\u7684\u5b9a\u5236\u5c06\u5b9e\u73b0\u4e24\u4e2a\u529f\u80fd\uff0c\u4e00\u662f\u8ba9 WSL \u865a\u62df\u673a\u968f Windows \u81ea\u52a8\u542f\u52a8\u3002\u4e8c\u662f\u5f53 WSL \u542f\u52a8\u540e\uff0c\u5b83\u80fd\u81ea\u52a8\u8fd0\u884c\u4e00\u4e2a ssh \u670d\u52a1\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u968f\u65f6\u8fde\u63a5\u4f7f\u7528\u8fd9\u53f0 WSL \u865a\u62df\u673a\u3002\u5b66\u4f1a\u8fd9\u4e2a\u5b9a\u5236\u4e4b\u540e\uff0c\u8bfb\u8005\u5f53\u7136\u4e5f\u53ef\u4ee5\u8ba9 WSL \u542f\u52a8\u4e4b\u540e\uff0c\u81ea\u52a8\u8fd0\u884c\u66f4\u591a\u7684\u540e\u53f0\u670d\u52a1\u3002</p> <p>\u6211\u4eec\u9700\u8981\u5199\u4e09\u4e2a\u811a\u672c\uff0c\u4e00\u4e2a start.vbs\uff0c\u4e00\u4e2a control.bat \u548c\u4e00\u4e2a commands.txt\uff0c\u5e76\u4e14\u589e\u52a0\u4e00\u4e2a\u5f00\u673a\u81ea\u52a8\u6267\u884c\u7684\u8ba1\u5212\u4efb\u52a1\u3002\u5f53 Windows \u5f00\u673a\u540e\uff0c\u8fd9\u4e2a\u8ba1\u5212\u4efb\u52a1\u81ea\u52a8\u6267\u884c\uff0c\u8c03\u7528 start.vbs \u6765\u6267\u884c control.bat, \u800c control.bat \u5219\u4f1a\u542f\u52a8 WSL\uff08\u53ca\u5176\u4f9d\u8d56\u7684 Windows \u670d\u52a1\uff09\uff0c\u5e76\u5728 WSL \u73af\u5883\u4e0b\u6267\u884c\u5b9a\u4e49\u5728 commands.txt \u4e2d\u7684\u90a3\u4e9b\u547d\u4ee4--\u5373\u8981\u5728 WSL \u4e2d\u8fd0\u884c\u7684\u670d\u52a1\uff0c\u6bd4\u5982 ssh server\u3002\u6574\u4e2a\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5728 commands.txt \u6587\u4ef6\u4e2d\u5b9a\u4e49\u8981\u5728 WSL \u4e2d\u8fd0\u884c\u7684\u540e\u53f0\u670d\u52a1\uff1a</p> <pre><code>/etc/init.d/cron\n/etc/init.d/ssh\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u6279\u5904\u7406\u811a\u672c\uff0c\u7528\u4ee5\u542f\u52a8 WSL\uff0c\u5e76\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\uff1a</p> <pre><code>REM \u811a\u672c\u6765\u6e90\u4e8e https://github.com/troytse/wsl-autostart/\n@echo off\nREM Goto the detect section.\ngoto lxssDetect\n\n:lxssRestart\n    REM ReStart the LxssManager service\n    net stop LxssManager\n\n:lxssStart\n    REM Start the LxssManager service\n    net start LxssManager\n\n:lxssDetect\n    REM Detect the LxssManager service status\n    for /f \"skip=3 tokens=4\" %%i in ('sc query LxssManager') do set \"state=%%i\" &amp;goto lxssStatus\n\n:lxssStatus\n    REM If the LxssManager service is stopped, start it.\n    if /i \"%state%\"==\"STOPPED\" (goto lxssStart)\n    REM If the LxssManager service is starting, wait for it to finish start.\n    if /i \"%state%\"==\"STARTING\" (goto lxssDetect)\n    REM If the LxssManager service is running, start the linux service.\n    if /i \"%state%\"==\"RUNNING\" (goto next)\n    REM If the LxssManager service is stopping, nothing to do.\n    if /i \"%state%\"==\"STOPPING\" (goto end)\n\n:next\n    REM Check the LxssManager service is started correctly.\n    wsl echo OK &gt;nul 2&gt;nul\n    if not %errorlevel% == 0 (goto lxssRestart)\n\n    REM Start services in the WSL\n    REM Define the service commands in commands.txt.\n    for /f %%i in (%~dp0commands.txt) do (wsl sudo %%i %*)\n\n:end\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u7f16\u5199\u4e00\u4e2a start.vbs \u811a\u672c\uff0c\u6765\u6267\u884c control.bat\uff1a</p> start.vbs<pre><code>' \u811a\u672c\u6765\u6e90\u4e8e https://github.com/troytse/wsl-autostart/\n' Start services\nSet UAC = CreateObject(\"Shell.Application\")\ncommand = \"/c \"\"\" + CreateObject(\"Scripting.FileSystemObject\").\n                GetParentFolderName(WScript.ScriptFullName) + \"\\control.bat\"\" start\"\nUAC.ShellExecute \"C:\\Windows\\System32\\cmd.exe\", command, \"\", \"runas\", 0\nSet UAC = Nothing\n</code></pre> <p>\u6700\u540e\uff0c\u6211\u4eec\u5411\u8ba1\u5212\u4efb\u52a1\u7a0b\u5e8f\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5f00\u673a\u542f\u52a8\u4efb\u52a1\uff1a</p> <p></p> <p></p> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u901a\u8fc7 Windows \u5e94\u7528\u5546\u5e97\u5b89\u88c5\u7684 Ubuntu \u5b50\u7cfb\u7edf\uff0c\u5b83\u5e94\u8be5\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86 ssh-server\uff0c\u6211\u4eec\u5728\u4e0a\u8ff0\u64cd\u4f5c\u4e2d\u6240\u505a\u7684\u4e8b\uff0c\u53ea\u4e0d\u8fc7\u662f\u8ba9\u5b83\u968f WSL \u4e00\u8d77\u542f\u52a8\u800c\u5df2\u3002\u4f46\u662f\uff0c\u5982\u679c\u60a8\u53d1\u73b0\u60a8\u7684 WSL \u4e2d\u5e76\u6ca1\u6709\u5b89\u88c5 ssh-server\uff0c\u60a8\u4e5f\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5\u3002\u6bd5\u7adf\uff0c\u8fd9\u5c31\u662f\u4e00\u53f0 Linux \u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u5728\u4e0a\u9762\u5b89\u88c5 Linux \u4e0a\u7684\u7edd\u5927\u591a\u6570\u8f6f\u4ef6\u3002</p> <p>\u901a\u8fc7\u5e94\u7528\u4e0a\u8ff0\u65b9\u6848\uff0c\u60a8\u5c31\u5728 Windows \u4e0a\u62e5\u6709\u4e86\u4e24\u4e2a\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u7279\u522b\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5728\u60a8\u4e0d\u4f7f\u7528 WSL \u7684\u65f6\u5019\uff0c\u5b83\u53ea\u5360\u7528\u5f88\u5c11\u7684 CPU \u548c\u5185\u5b58\u8d44\u6e90\uff08\u4ec5\u9650 WSL 1.0\uff09\u3002\u8fd9\u662f\u5176\u5b83\u865a\u62df\u5316\u65b9\u6848\u6240\u65e0\u6cd5\u6bd4\u62df\u7684\u3002</p> <p>\u5728\u672c\u4e66\u5199\u4f5c\u65f6\uff0cWSL 2.0 \u5df2\u7ecf\u6709\u4e86\u652f\u6301\u56fe\u5f62\u5316\u754c\u9762\u7684\u9884\u89c8\u7248\uff0c\u79f0\u4e4b\u4e3a wslg\u3002\u672a\u6765\u8fd9\u4e2a\u7248\u672c\u5c06\u5408\u5e76\u5230 WSL \u4e2d\uff0c\u968f Windows \u4e00\u8d77\u53d1\u884c\u7684\u6b63\u5f0f\u7248\u53d1\u884c\u3002\u4e0b\u56fe\u662f wslg \u56fe\u5f62\u5316\u754c\u9762\u7684\u4e00\u4e2a\u6548\u679c\u56fe\uff1a</p> <p></p> <p>\u867d\u7136\u8fd9\u4e0e\u672c\u4e66\u7684\u4e3b\u65e8\u65e0\u5173\uff0c\u4f46\u81f3\u5c11\u4e5f\u7ed9\u4e86\u6211\u4eec\u4e00\u4e2a\u7ee7\u7eed\u4f7f\u7528 Linux \u7684\u7406\u7531\uff0c\u5c31\u8fde\u5fae\u8f6f\u90fd\u8fd9\u4e48\u8ba4\u771f\u5730\u505a Linux[^Linux] \u4e86\uff0c\u60a8\u8fd8\u8981\u7ee7\u7eed\u4f7f\u7528 Windows \u6765\u505a\u5f00\u53d1\u5417\uff1f</p>"},{"location":"articles/python/best-practice-python/chap02/#22-docker","title":"2.2. Docker \u65b9\u6848","text":"<p>WSL \u7684\u51fa\u73b0\u8981\u6bd4 Docker \u665a\u3002\u5982\u679c\u60a8\u8d2d\u673a\u65f6\u95f4\u8f83\u65e9\uff0c\u90a3\u4e48\u60a8\u7684 Windows \u53ef\u80fd\u4e0d\u652f\u6301 WSL\uff0c\u4f46\u53ef\u4ee5\u5b89\u88c5 Docker\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u5b89\u88c5\u684c\u9762\u7248\u7684 Docker\uff0c\u7136\u540e\u901a\u8fc7 Docker \u6765\u8fd0\u884c\u4e00\u4e2a Linux \u865a\u62df\u673a\u3002</p> <p>\u5b89\u88c5 Docker \u53ef\u4ee5\u4ece\u5176\u5b98\u65b9\u7f51\u7ad9 [^docker] \u4e0b\u8f7d\uff0c\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9996\u6b21\u8fd0\u884c\u9700\u8981\u624b\u52a8\u542f\u52a8\u3002\u53ef\u4ee5\u4ece\u641c\u7d22\u6846\u4e2d\u641c\u7d22\"Docker\"\uff0c\u7136\u540e\u9009\u62e9\"Docker Desktop\"\u6765\u542f\u52a8\uff0c\u89c1\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5f53 Docker \u542f\u52a8\u540e\uff0c\u5c31\u4f1a\u5728\u7cfb\u7edf\u6258\u76d8\u533a\u663e\u793a\u4e00\u4e2a\u901a\u77e5\u56fe\u6807\uff1a</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u7b2c\u4e09\u4e2a\uff0c\u9cb8\u9c7c\u56fe\u6807\uff0c\u5373\u662f Docker \u6b63\u5728\u8fd0\u884c\u7684\u6807\u5fd7\u3002\u70b9\u51fb\u5b83\u53ef\u4ee5\u8fdb\u5165\u7ba1\u7406\u754c\u9762\u3002\u9996\u6b21\u8fd0\u884c\u65f6\u9700\u8981\u505a\u4e00\u4e9b\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p> <p>\u5728 Windows \u4e0a\u8fd0\u884c Docker\uff0c\u7531\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u5f02\u6784\u7684\u539f\u56e0\uff0c\u9996\u5148\u9700\u8981\u542f\u7528 Hyper-V \u865a\u62df\u673a\uff0c\u7136\u540e\u5c06 Docker \u5b89\u88c5\u5230\u8fd9\u4e2a\u865a\u62df\u673a\u4e2d\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5728 Windows \u4e0b\u5b89\u88c5\u8fd0\u884c Docker\uff0c\u65e0\u8bba\u5f53\u524d\u662f\u5426\u6709\u5bb9\u5668\u5728\u8fd0\u884c\uff0c\u7cfb\u7edf\u8d44\u6e90\u4e5f\u88ab\u9759\u6001\u5206\u914d\u5207\u5272\u7684\u539f\u56e0\u3002\u4f46\u662f\u5927\u6982\u4ece 2020 \u5e74 3 \u6708\u8d77\uff0cDocker \u5f00\u59cb\u652f\u6301\u8fd0\u884c\u57fa\u4e8e WSL2 \u7684\u684c\u9762\u7248\u3002\u57fa\u4e8e WSL2 \u7684\u684c\u9762\u7248 Docker\uff0cDocker \u540e\u53f0\u670d\u52a1\u542f\u52a8\u66f4\u5feb\uff0c\u8d44\u6e90\u4e5f\u4ec5\u5728\u9700\u8981\u65f6\u624d\u8fdb\u884c\u5206\u914d\uff0c\u56e0\u6b64\u5728\u8d44\u6e90\u8c03\u5ea6\u4e0a\u66f4\u52a0\u7075\u6d3b\u9ad8\u6548\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#23","title":"2.3. \u865a\u62df\u673a\u65b9\u6848","text":"<p>\u4e5f\u6709\u53ef\u80fd\u60a8\u7684\u673a\u5668\u65e2\u4e0d\u652f\u6301\u5b89\u88c5 WSL\uff0c\u4e5f\u4e0d\u652f\u6301\u5b89\u88c5 Docker\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5 VirtualBox[^virtualbox] \u7b49\u865a\u62df\u673a\u6765\u8fd0\u884c Linux\u3002\u8fd9\u65b9\u9762\u7684\u6280\u672f\u5927\u5bb6\u5e94\u8be5\u5f88\u719f\u6089\u4e86\uff0c\u56e0\u6b64\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#24","title":"2.4. \u5c0f\u7ed3","text":"<p>\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e09\u79cd\u5728 Windows \u4e0a\u6784\u5efa Linux \u5f00\u53d1\u73af\u5883\u7684\u65b9\u6848\u3002\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u60a8\u9996\u5148\u5e94\u8be5\u5b89\u88c5\u7684\u662f WSL\u3002WSL \u53ef\u4ee5\u5728\u8fd0\u884c\u5728\u51e0\u4e4e\u6240\u6709\u7684 Windows 10 \u4ee5\u4e0a\u7684\u53d1\u884c\u7248\u4e0a\uff0c\u5305\u62ec Win10 Home\u3002</p> <p>\u5982\u679c\u60a8\u7684\u673a\u5668\u4e0d\u652f\u6301\u5b89\u88c5 WSL\uff0c\u4e5f\u53ef\u4ee5\u8003\u8651\u5b89\u88c5 Docker\u3002\u5373\u4f7f\u60a8\u7684\u673a\u5668\u652f\u6301 WSL\uff0c\u51fa\u4e8e\u7ec3\u4e60 CI/CD \u7684\u8003\u8651\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5 Docker\uff0c\u4ee5\u4fbf\u4f53\u9a8c\u5bb9\u5668\u5316\u6784\u5efa\u548c\u90e8\u7f72\u3002\u5f53\u7136\uff0c\u8fd9\u9700\u8981\u60a8\u7684\u673a\u5668\u6709\u66f4\u5f3a\u52b2\u7684 CPU \u548c\u5185\u5b58\u3002</p> <p>\u5bf9\u4e8e\u8f83\u65e9\u7684\u673a\u578b\uff0c\u5728\u65e0\u6cd5\u5347\u7ea7\u5230\u8f83\u65b0\u7248\u672c\u7684 Windows \u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u865a\u62df\u673a\uff0c\u6bd4\u5982\u514d\u8d39\u7248\u7684 VirtualBox\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#3-ide","title":"3. \u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09","text":"<p>\u4f5c\u4e3a\u4e00\u79cd\u811a\u672c\u8bed\u8a00\uff0cPython \u53ef\u4ee5\u65e0\u987b\u7f16\u8bd1\u5373\u53ef\u8fd0\u884c\uff0c\u56e0\u6b64\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u6587\u672c\u7f16\u8f91\u5668\u90fd\u53ef\u4ee5\u4f5c\u4e3a Python \u5f00\u53d1\u5de5\u5177\u3002\u7136\u800c\uff0c\u8981\u8fdb\u884c\u771f\u6b63\u4e25\u8083\u7684\u5f00\u53d1\uff0c\u8981\u5728\u5f00\u53d1\u8fdb\u5ea6\u548c\u5f00\u53d1\u8d28\u91cf\u4e4b\u95f4\u53d6\u5f97\u6700\u4f73\u5e73\u8861\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u66f4\u4e13\u4e1a\u7684\u5de5\u5177\u3002</p> <p>\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\u662f\u4e00\u79cd\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u7684\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u5728\u7f16\u5199\u4ee3\u7801\u65f6\uff0c\u5f97\u5230\u5404\u79cd\u4ee3\u7801\u63d0\u793a\uff0c\u66f4\u65e9\u53d1\u73b0\u8bed\u6cd5\u9519\u8bef\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u5728\u7f16\u8f91\u5668\u4e2d\u8fdb\u884c\u8c03\u8bd5\u3002</p> <p>Pycharm \u548c VS Code \u662f\u8fdb\u884c Python \u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u7684\u4e24\u4e2a\u9996\u9009\u5de5\u5177\u3002\u5bf9\u4e8e\u4ece\u4e8b\u6570\u636e\u5206\u6790\u548c\u4eba\u5de5\u667a\u80fd\u9886\u57df\u7684\u5f00\u53d1\u8005\uff0c\u8fd8\u53ef\u4ee5\u8003\u8651 Jupyter Lab\uff08\u5347\u7ea7\u7248\u7684 Notebook\uff09\u548c Anaconda \u7684 Spyder\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#31-vs-code-vs-pycharm-ide","title":"3.1. VS Code vs Pycharm\uff1a\u4f7f\u7528\u54ea\u4e00\u4e2a IDE\uff1f","text":"<p>Pycharm \u662f\u7528\u4e8e\u5f00\u53d1 Python \u7684\u8001\u724c IDE\uff0cVisual Studio Code\uff08\u901a\u5e38\u88ab\u79f0\u4e3a VS Code\uff09\u5219\u662f\u8fd1\u51e0\u5e74\u7684\u540e\u8d77\u4e4b\u79c0\u3002VS Code \u5b8c\u5168\u514d\u8d39\uff0cPycharm \u5219\u63d0\u4f9b\u4e86\u793e\u533a\u7248\u548c\u4e13\u4e1a\u7248\u4e24\u4e2a\u7248\u672c\uff0c\u4e13\u4e1a\u7248\u672c\u529f\u80fd\u66f4\u5f3a\u5927\uff0c\u4f46\u9700\u8981\u4ed8\u8d39\u3002\u4e0b\u8868\u7b80\u8981\u8bf4\u660e\u4e86\u4e24\u4e2a IDE \u6700\u91cd\u8981\u7684\u5dee\u5f02\uff1a</p> \u7279\u6027 Pycharm VS Code \u8bf4\u660e \u8fdc\u7a0b\u5f00\u53d1 \u4ec5\u4e13\u4e1a\u7248\u652f\u6301 \u652f\u6301 \u4e13\u4e1a\u7248\u7684 Pycharm \u4e2d\uff0c\u6587\u4ef6\u5728\u672c\u5730\u7f16\u8f91\uff0c\u8c03\u8bd5\u524d\u5c06\u6587\u4ef6\u540c\u6b65\u5230\u8fdc\u7a0b\u673a\u5668\u4e0a\u8fdb\u884c\u8c03\u8bd5\uff1bVS Code \u901a\u8fc7\u6587\u4ef6\u5171\u4eab\u534f\u8bae\uff0c\u76f4\u63a5\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u7f16\u8f91\u548c\u8c03\u8bd5 \u4e09\u8def\u5f52\u5e76 \u652f\u6301 \u652f\u6301 VS Code \u4ece 2022 \u5e74 7 \u6708\u8d77\u63d0\u4f9b\u4e86\u4e09\u8def\u5f52\u5e76\u7f16\u8f91\u5668\u3002\u4e09\u8def\u5f52\u5e76\u7f16\u8f91\u662f\u5728\u4ee3\u7801\u53d1\u751f\u51b2\u7a81\u65f6\u89e3\u51b3\u51b2\u7a81\u7684\u4e00\u79cd\u4fbf\u6377\u65b9\u5f0f \u6570\u636e\u89c6\u56fe \u652f\u6301 \u4e0d\u652f\u6301 PyCharm \u4e2d\u53ef\u4ee5\u5728\u56fe\u5f62\u5316\u754c\u9762\u91cc\u67e5\u770b\u6570\u636e\u5e93\u548c\u6765\u81ea DataFrame \u7684\u6570\u636e\uff1bVS Code \u9700\u8981\u63d2\u4ef6\u652f\u6301\uff0c\u4f46\u529f\u80fd\u8f83\u5f31\u3002\u4e00\u822c\u53ef\u4ee5\u901a\u8fc7\u7b2c\u4e09\u65b9\u6570\u636e\u5e93\u5de5\u5177\u67e5\u884c\u6570\u636e\u67e5\u770b\u548c\u7ba1\u7406 \u542f\u52a8\u901f\u5ea6 \u6162 \u5f88\u5feb VS Code \u542f\u52a8\u901f\u5ea6\u5341\u5206\u4f18\u5f02\uff0c\u8fd9\u4e5f\u4f7f\u5f97\u5b83\u9664\u4e86\u7528\u4f5c\u5f00\u53d1\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u4f5c\u6587\u6863\u64b0\u5199\u3001\u65e5\u8bb0\u7b49\u9700\u8981\u5feb\u901f\u6253\u5f00\u7684\u529f\u80fd\u3002 \u591a\u5f00\u53d1\u8bed\u8a00 Python \u4e3a\u4e3b \u652f\u6301\u591a\u79cd\u5f00\u53d1\u8bed\u8a00 VS Code \u53ef\u4ee5\u652f\u6301\u5f88\u591a\u79cd\u8bed\u8a00\u7684\u5f00\u53d1\uff0c\u56e0\u6b64\u7279\u522b\u9002\u5408\u4e13\u4e1a\u5f00\u53d1\u8005 <p>\u8fd8\u6709\u4e00\u4e9b\u5c0f\u7684\u5dee\u5f02\uff0c\u6bd4\u5982 VS Code \u5f88\u591a\u529f\u80fd\u662f\u901a\u8fc7\u63d2\u4ef6\u5b9e\u73b0\u7684\uff0c\u6bcf\u4e2a\u63d2\u4ef6\u90fd\u6709\u81ea\u5df1\u7684\u65e5\u5fd7\u8f93\u51fa\u7a97\u53e3\u3002\u5f53\u4f60\u4f7f\u7528 VS Code \u65f6\uff0c\u5982\u679c\u67d0\u4e2a\u529f\u80fd\u4e0d\u80fd\u7528\uff0c\u6709\u53ef\u80fd\u662f\u7531\u63d2\u4ef6\u5f15\u8d77\u7684\u3002\u8fd9\u4e2a\u9519\u8bef\u53ef\u80fd\u53ea\u4f1a\u9759\u6084\u6084\u5730\u5728\u63d2\u4ef6\u7684\u65e5\u5fd7\u7a97\u53e3\u4e2d\u8f93\u51fa\uff0c\u800c\u4e0d\u662f\u8f93\u51fa\u5728\u4f60\u719f\u6089\u7684\u90a3\u4e9b\u754c\u9762\u7a97\u53e3\u4e2d\u3002\u8fd9\u53ef\u80fd\u4f1a\u8ba9\u521d\u5b66\u8005\u611f\u5230\u56f0\u60d1\u3002\u800c\u5728 Pycharm \u4e2d\uff0c\u8fd9\u4e9b\u7a97\u53e3\u3001\u63d0\u793a\u754c\u9762\u7684\u5b89\u6392\u4f3c\u4e4e\u66f4\u7b26\u5408\u6211\u4eec\u7684\u76f4\u89c9\u3002</p> <p>\u603b\u4e4b\uff0cPycharm \u662f\u4e00\u4e2a\u5f00\u7bb1\u5373\u7528\u7684 IDE\uff0c\u800c VS Code \u5b89\u88c5\u4e4b\u540e\uff0c\u5728\u6b63\u5f0f\u5f00\u53d1\u4e4b\u524d\uff0c\u8fd8\u5f97\u5b89\u88c5\u4e00\u7cfb\u5217\u63d2\u4ef6\uff0c\u8fd9\u53ef\u80fd\u8981\u82b1\u8d39\u4f60\u4e00\u5b9a\u7684\u65f6\u95f4\u53bb\u6bd4\u8f83\u3001\u914d\u7f6e\u548c\u5b66\u4e60\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u6253\u7b97\u957f\u671f\u4ece\u4e8b\u5f00\u53d1\u5de5\u4f5c\uff0c\u90a3\u4e48\u5728 VS Code \u4e0a\u6295\u5165\u4e00\u4e9b\u65f6\u95f4\u5219\u662f\u503c\u5f97\u7684\u3002VS Code \u662f\u4e00\u4e2a\u514d\u8d39\u4ea7\u54c1\uff0c\u5b83\u7684\u8bb8\u53ef\u8bc1\u5141\u8bb8\u60a8\u4f7f\u7528 VS Code \u6765\u8fdb\u884c\u4efb\u4f55\u5546\u4e1a\u5f00\u53d1\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u60a8\u662f\u4e2a\u4eba\u5f00\u53d1\u8005\uff0c\u8fd8\u662f\u53d7\u96c7\u4e8e\u67d0\u4e2a\u7ec4\u7ec7\uff0c\u60a8\u90fd\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002</p> <p>\u7531\u4e8e\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u4f7f\u7528 VS Code\uff0c\u4e5f\u7531\u4e8e Pycharm \u7b80\u5355\u6613\u4e0a\u624b\uff0c\u57fa\u672c\u4e0a\u65e0\u9700\u6559\u5b66\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u7565\u8fc7\u5bf9 Pycharm \u7684\u4ecb\u7ecd\uff0c\u91cd\u70b9\u8bb2\u8ff0\u5982\u4f55\u914d\u7f6e VS Code \u5f00\u53d1\u73af\u5883\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#32-vs-code","title":"3.2. VS Code \u53ca\u6269\u5c55","text":"<p>VS Code \u662f\u4e00\u4e2a\u652f\u6301\u591a\u8bed\u8a00\u7f16\u8f91\u5f00\u53d1\u7684\u5e73\u53f0\uff0c\u5b83\u672c\u8eab\u53ea\u63d0\u4f9b\u4e86\u6587\u672c\u7f16\u8f91\u5668\u3001\u4ee3\u7801\u7ba1\u7406\uff08Git\uff09\u3001\u6269\u5c55\u7ba1\u7406\u7b49\u57fa\u7840\u529f\u80fd\u3002\u5177\u4f53\u5230\u67d0\u4e2a\u8bed\u8a00\u7684\u5f00\u53d1\uff0c\u5219\u662f\u901a\u8fc7\u52a0\u8f7d\u8be5\u8bed\u8a00\u7684\u6269\u5c55\u6765\u5b8c\u6210\u7684\u3002\u56e0\u6b64\uff0c\u5b89\u88c5 VS Code \u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u914d\u7f6e\u4e00\u7cfb\u5217\u7684\u6269\u5c55\u3002</p> <p>\u5b89\u88c5\u597d VS Code \u4e4b\u540e\uff0c\u5728\u4fa7\u8fb9\u680f\u4e0a\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u56fe\u6240\u793a\u5de5\u5177\u680f\uff1a</p> <p></p> <p>\u88ab\u5706\u5f62\u6846\u6846\u4f4f\u7684\u56fe\u6807\u5bf9\u5e94\u7740\u6269\u5c55\u7ba1\u7406\u3002\u4e0a\u90e8\u7684\u77e9\u5f62\u6846\u53ef\u4ee5\u7528\u6765\u641c\u7d22\u67d0\u4e2a\u6269\u5c55\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u6269\u5c55\u5e76\u70b9\u51fb\uff0c\u5c31\u53ef\u4ee5\u5728\u53f3\u8fb9\u7684\u7a97\u53e3\u4e2d\u770b\u5230\u8be5\u6269\u5c55\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5728\u8fd9\u4e2a\u8be6\u7ec6\u4fe1\u606f\u9875\uff0c\u63d0\u4f9b\u4e86\u5b89\u88c5\u6309\u94ae\u3002</p> <p>VS Code \u6269\u5c55\u7ba1\u7406\u9664\u4e86\u641c\u7d22\u4e4b\u5916\uff0c\u8fd8\u63d0\u4f9b\u4e86\u8fc7\u6ee4\u3001\u6392\u5e8f\u7b49\u529f\u80fd\uff0c\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u63a2\u7d22\u3002\u5982\u679c\u8bfb\u8005\u8981\u5728\u591a\u4e2a\u5f00\u53d1\u73af\u5883\u4e0b\u4f7f\u7528 VS Code\uff0c\u53ef\u80fd\u5e0c\u671b\u8fd9\u4e9b\u6269\u5c55\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\u90fd\u80fd\u4f7f\u7528\uff0c\u9488\u5bf9\u8fd9\u4e2a\u9700\u6c42\uff0cVS Code \u8fd8\u63d0\u4f9b\u4e86\u6269\u5c55\u540c\u6b65\u673a\u5236\u3002\u5728\u4e0a\u56fe\u4e2d\uff0c\u5728\u6269\u5c55\u8be6\u60c5\u9875\u7684\"Uninstall\"\u6309\u952e\u53f3\u4fa7\uff0c\u6709\u4e00\u4e2a\u540c\u6b65\u56fe\u6807\uff0c\u70b9\u51fb\u540e\uff0cVS Code \u4f1a\u81ea\u52a8\u5c06\u8be5\u6269\u5c55\u540c\u6b65\u5230\u5176\u4ed6\u73af\u5883\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u4e00\u4e9b\u6700\u5e38\u7528\u3001\u6700\u91cd\u8981\u7684 VS Code \u6269\u5c55\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u6269\u5c55\u6b66\u88c5 VS Code \u4e4b\u540e\uff0c\u60a8\u7684\u5f00\u53d1\u6548\u7387\u5c06\u5927\u5927\u63d0\u9ad8\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#321-python","title":"3.2.1. Python \u6269\u5c55","text":"<p>\u8981\u5728 VS Code \u4e2d\u5f00\u53d1 Python \u5e94\u7528\u7a0b\u5e8f\uff0c\u5c31\u9700\u8981\u5b89\u88c5 Python \u6269\u5c55\u3002\u8be5\u6269\u5c55\u5982\u524d\u56fe\u6240\u793a\u3002</p> <p>Python \u6269\u5c55\u7531\u5fae\u8f6f\u5f00\u53d1\uff0c\u76ee\u524d\u6709\u8d85\u8fc7 7500 \u4e07\u6b21\u4e0b\u8f7d\u3002\u5b83\u63d0\u4f9b\u4e86 IntelliSense\u3001\u4ee3\u7801\u8bed\u6cd5\u68c0\u67e5\u3001\u8c03\u8bd5\u3001\u5bfc\u822a\u3001\u683c\u5f0f\u5316\u3001\u91cd\u6784\u548c\u5355\u5143\u6d4b\u8bd5\u529f\u80fd\u3002\u6b64\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e86 Jupyter Notebook \u96c6\u6210\u73af\u5883\u3002</p> <p>\u968f Python \u6269\u5c55\u4e00\u8d77\u5b89\u88c5\u7684\uff0c\u8fd8\u6709 Pylance\uff0cPython Test Explorer for Visual Studio Code\uff0cJupyter \u7b49\u6269\u5c55\u3002</p> <p>Pylance \u662f\u5fae\u8f6f\u57fa\u4e8e\u81ea\u8eab\u6536\u8d2d\u7684 Pyright \u9759\u6001\u68c0\u67e5\u5de5\u5177\u5f00\u53d1\u7684\u5177\u6709 IntelliSense \u529f\u80fd\u7684 Languange Server\u3002\u5b83\u63d0\u4f9b\u8bed\u6cd5\u9ad8\u4eae\u3001\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u53c2\u6570\u5efa\u8bae\u7b49\u529f\u80fd\u3002</p> <p>\u5c3d\u7ba1 Pylance \u63d0\u4f9b\u4e86\u8fd9\u4e9b\u529f\u80fd\uff0c\u4f46\u5728\u4f7f\u7528\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u628a Pylance \u770b\u6210\u662f\u4e00\u4e2a Language Server\uff0c\u4e0a\u8ff0\u529f\u80fd\u4e2d\u7684\u8bed\u6cd5\u68c0\u67e5\u3001\u4ee3\u7801\u63d0\u793a\u548c\u81ea\u52a8\u5b8c\u6210\u7b49\u529f\u80fd\uff0c\u8fd8\u662f\u5e94\u8be5\u901a\u8fc7\u66f4\u4e13\u4e1a\u7684\u4e13\u95e8\u6269\u5c55\uff08\u6216\u8005\u7b2c\u4e09\u65b9\u670d\u52a1\uff09\u6765\u5b8c\u6210\u3002\u5728\u8fd9\u91cc\uff0cPylance \u53ef\u4ee5\u4f5c\u4e3a\u8fd9\u4e9b\u529f\u80fd\u7684\u4e00\u4e2a\u6269\u5c55\u5e73\u53f0\u3002</p> <p>Test Explorer \u7684\u4e3b\u8981\u4f5c\u7528\u662f\u53d1\u73b0\u548c\u641c\u96c6\u9879\u76ee\u4e2d\u5b9a\u4e49\u7684\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6784\u5efa TestSuite\uff0c\u63d0\u4f9b\u6d4b\u8bd5\u6267\u884c\u5165\u53e3\uff0c\u5e76\u5728\u6d4b\u8bd5\u5b8c\u6210\u4e4b\u540e\uff0c\u62a5\u544a\u6d4b\u8bd5\u6267\u884c\u60c5\u51b5\u3002</p> <p>Jupyter \u662f\u4e00\u4e2a\u5141\u8bb8\u4f60\u5728 VS Code \u4e2d\u9605\u8bfb\u3001\u5f00\u53d1 notebook \u7684\u6269\u5c55\u3002\u4e0e\u5355\u72ec\u5b89\u88c5\u7684 Jupyter notebook \u76f8\u6bd4\uff0c\u5b83\u80fd\u63d0\u4f9b\u66f4\u5f3a\u5927\u7684\u4ee3\u7801\u63d0\u793a\u3001\u53d8\u91cf\u67e5\u770b\u548c\u6570\u636e\u67e5\u770b\u3002\u6b64\u5916\uff0c\u8c03\u8bd5 notebook \u4e00\u76f4\u662f\u4e2a\u6bd4\u8f83\u9ebb\u70e6\u7684\u4e8b\u3002\u5728 VS Code \u4e2d\uff0c\u4f60\u53ef\u4ee5\u8c61\u8c03\u8bd5 Python \u4ee3\u7801\u4e00\u6837\uff0c\u9010\u884c\u8fd0\u884c\u548c\u8c03\u8bd5 notebook\u3002</p> <p>\u5728 Python \u6269\u5c55\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c Python \u5f00\u53d1\u4e86\u3002\u5728\u5f00\u53d1\u4e4b\u524d\uff0c\u9700\u8981\u4e3a\u5de5\u7a0b\u9009\u62e9 Python \u89e3\u91ca\u5668\u3002\u53ef\u4ee5\u4ece\u547d\u4ee4\u9762\u677f\u4e2d\u8f93\u5165 Python: Select Interpreter \u6765\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u70b9\u51fb\u72b6\u6001\u680f\u4e2d\u7684\u9009\u62e9\u56fe\u6807\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap02/#322-remote-ssh","title":"3.2.2. Remote - SSH","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u6269\u5c55\uff0c\u662f\u5fae\u8f6f\u5b98\u65b9\u5f00\u53d1\u7684\u6269\u5c55\u4e4b\u4e00\u3002\u5b83\u53ef\u4ee5\u8ba9\u4f60\u5728 VS Code \u4e2d\u76f4\u63a5\u6253\u5f00\u8fdc\u7a0b\u673a\u4e0a\u7684\u6587\u4ef6\u5939\uff0c\u7f16\u8f91\u5e76\u8c03\u8bd5\u8fd0\u884c\u3002\u5982\u679c\u60a8\u4f7f\u7528\u8fc7 Pycharm \u7b49 IDE\uff0c\u5c31\u4f1a\u77e5\u9053\uff0c\u5c3d\u7ba1\u8fd9\u4e9b IDE \u4e5f\u652f\u6301\u8fdc\u7a0b\u5f00\u53d1\uff0c\u4f46\u5b83\u4eec\u662f\u5728\u672c\u5730\u521b\u5efa\u6587\u4ef6\uff0c\u8c03\u8bd5\u8fd0\u884c\u524d\u5148\u8981\u4e0a\u4f20\u540c\u6b65\u5230\u8fdc\u7a0b\u673a\u5668\u4e0a\u3002\u9891\u7e41\u540c\u6b65\u4e0d\u4ec5\u964d\u4f4e\u4e86\u6548\u7387\uff0c\u800c\u4e14\u4e5f\u5e38\u5e38\u51fa\u73b0\u672a\u80fd\u540c\u6b65\uff0c\u5bfc\u81f4\u884c\u4e3a\u4e0e\u9884\u671f\u4e0d\u4e00\u81f4\uff0c\u6d6a\u8d39\u65f6\u95f4\u67e5\u627e\u95ee\u9898\u7684\u60c5\u51b5\u3002\u8fd9\u4e5f\u662f\u4e5f\u662f VS Code \u4f18\u4e8e Pycharm \u7684\u4e00\u4e2a\u91cd\u8981\u7279\u6027\u3002</p> <p></p> <p>\u5b89\u88c5\u597d\u8fd9\u4e2a\u6269\u5c55\u4e4b\u540e\uff0c\u5728\u4fa7\u8fb9\u680f\u4f1a\u51fa\u73b0\u4e00\u4e2a\u8fdc\u7a0b\u8fde\u63a5\u56fe\u6807\u3002\u540c\u65f6\uff0c\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u8fde\u63a5\u5230\u8fdc\u7a0b\u673a\u5668\uff0c\u5219\u5728\u72b6\u6001\u680f\u6700\u5de6\u4fa7\uff0c\u8fd8\u4f1a\u663e\u793a\u8be5\u8fde\u63a5\u7684\u6982\u8981\u4fe1\u606f\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#323","title":"3.2.3. \u7248\u672c\u7ba1\u7406\u76f8\u5173\u6269\u5c55","text":"<p>VS Code \u867d\u7136\u63d0\u4f9b\u4e86 git \u7684\u96c6\u6210\uff0c\u4f46\u662f\u8bb8\u591a\u529f\u80fd\u5e76\u672a\u901a\u8fc7 GUI \u63d0\u4f9b\uff0c\u6211\u4eec\u8fd8\u5fc5\u987b\u719f\u8bb0 git \u547d\u4ee4\u3002\u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u529f\u80fd\u662f git \u4e5f\u6ca1\u6709\u7684\uff0c\u6bd4\u5982\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li>\u4ee3\u7801\u63d0\u4ea4\u65f6\uff0c\u9075\u7167\u6307\u5b9a\u7684\u683c\u5f0f\u89c4\u8303\uff0c\u4ee5\u56fe\u5f62\u5316\u7684\u65b9\u5f0f\u7f16\u8f91 commit message</li> <li>.gitignore \u6587\u4ef6\u7684\u7ba1\u7406</li> <li>local history \u7684\u7ba1\u7406</li> </ol> <p>\u4e3a\u5b9e\u73b0\u4e0a\u8ff0\u529f\u80fd\uff0c\u6211\u4eec\u9700\u8981\u7ee7\u7eed\u5b89\u88c5\u6269\u5c55\u3002\u9996\u5148\u662f GitLens\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#3231-gitlens","title":"3.2.3.1. GitLens","text":"<p>Gitlens \u7684\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u662f\u56e2\u961f\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u4e00\u4e2a\u6269\u5c55\u3002\u5b83\u7684\u529f\u80fd\u5305\u62ec\uff1a</p> <ol> <li>\u5728\u6587\u4ef6\u4fee\u6539\u5386\u53f2\u4e2d\u5feb\u901f\u5bfc\u822a</li> <li>\u5728\u4ee3\u7801\u884c\u4e2d\u63d0\u793a blame \u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</li> </ol> <p></p> <ol> <li>gutter change\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</li> </ol> <p></p> <pre><code>gutter change \u662f\u6307\u5728\u4e0a\u56fe\u4e2d\uff0c\u5728\u7f16\u8f91\u533a\u884c\u53f7\u6307\u793a\u7684\u53f3\u4fa7\uff0c\u901a\u8fc7\u4e00\u4e2a\u7ebf\u6761\u6765\u6307\u793a\u5f53\u524d\u533a\u57df\u5b58\u5728\u53d8\u66f4\uff0c\u5f53\u4f60\u70b9\u51fb\u8fd9\u4e2a\u7ebf\u6761\u65f6\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u663e\u793a\u5f53\u524d\u533a\u57df\u7684\u53d8\u66f4\u5386\u53f2\uff0c\u5e76\u4e14\u5141\u8bb8\u4f60\u56de\u6eda\u53d8\u66f4\u3001\u6216\u8005\u63d0\u4ea4\u53d8\u66f4\u3002\u8fd9\u4e2a\u529f\u80fd\u5b9e\u9645\u4e0a\u662f git \u7684 interactive staging \u529f\u80fd\uff0c\u53ea\u4e0d\u8fc7\u5728\u547d\u4ee4\u884c\u4e0b\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\u65f6\uff0c\u5b83\u7684\u6613\u7528\u6027\u4e0d\u592a\u597d\u3002\n\n\u5982\u679c\u4f60\u5728\u7f16\u8f91\u6587\u4ef6\u4e4b\u524d\u6ca1\u6709\u505a\u597d\u89c4\u5212\uff0c\u5f15\u5165\u4e86\u672c\u5e94\u8be5\u96b6\u5c5e\u4e8e\u591a\u4e2a\u63d0\u4ea4\u7684\u4fee\u6539\uff0cgutter change \u662f\u6700\u597d\u7684\u8865\u6551\u65b9\u6848\u3002\u5b83\u5141\u8bb8\u4f60\u9010\u5757\u3001\u800c\u4e0d\u662f\u6309\u6587\u4ef6\u63d0\u4ea4\u4fee\u6539\u3002\u56e0\u6b64\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6587\u4ef6\u91cc\u7684\u4e0d\u540c\u5757\u5206\u51e0\u6b21\u8fdb\u884c\u63d0\u4ea4\u3002\n</code></pre> <ol> <li> <p>GitLens \u5728\u4fa7\u8fb9\u680f\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5de5\u5177\u6761\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> </li> </ol> <p>\u901a\u8fc7\u8fd9\u4e9b\u5de5\u5177\u6761\uff0c\u4f60\u4e0d\u518d\u9700\u8981\u8bb0\u5fc6\u592a\u591a\u7684 git \u547d\u4ee4\uff0c\u5e76\u4e14\u8fd9\u4e9b\u547d\u4ee4\u7684\u7ed3\u679c\u4e5f\u4ee5\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u5c55\u793a\uff0c\u8fd9\u4e5f\u4f1a\u6bd4\u63a7\u5236\u53f0\u754c\u9762\u6548\u7387\u9ad8\u4e0d\u5c11\u3002\u5728\u8fd9\u4e9b\u5de5\u5177\u680f\u91cc\uff0c\u63d0\u4f9b\u4e86\u63d0\u4ea4\u89c6\u56fe\u3001\u4ed3\u5e93\u89c6\u56fe\u3001\u5206\u652f\u89c6\u56fe\u3001\u6587\u4ef6\u5386\u53f2\u89c6\u56fe\u3001\u6807\u7b7e\u89c6\u56fe\u7b49\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0cGitLens \u5c06\u51e0\u4e4e\u6240\u6709\u7684 Git \u529f\u80fd\u8fdb\u884c\u4e86\u56fe\u5f62\u5316\u5c55\u793a\u548c\u91cd\u6784\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e30\u5bcc\u7684\u64cd\u4f5c\u754c\u9762\uff0c\u8ba9\u4f60\u53ef\u4ee5\u66f4\u52a0\u65b9\u4fbf\u5730\u64cd\u4f5c Git \u548c\u7406\u89e3\u4ee3\u7801\u53d8\u66f4\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#3232","title":"3.2.3.2. \u7f16\u8f91\u63d0\u4ea4\u4fe1\u606f\u7684\u6269\u5c55","text":"<p>\u5e38\u7528 PyCharm \u7684\u7a0b\u5e8f\u5458\u4e0d\u4f1a\u4e0d\u8bb0\u5f97\u5b83\u7684 git commit \u5bf9\u8bdd\u6846\u3002\u9057\u61be\u7684\u662f\uff0c\u5230\u76ee\u524d\u4e3a\u6b62\uff0cVS Code \u53ca\u5176\u6269\u5c55\u90fd\u6ca1\u80fd\u8865\u5145\u8fd9\u4e00\u77ed\u677f\u3002\u4e0d\u8fc7\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u5c0f\u4f17\u4f46\u597d\u7528\u7684\u6269\u5c55\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u56fe\u5f62\u5316\u754c\u9762\u4e0b\u7684 commit \u6d88\u606f\u7f16\u8f91\uff0c\u8fd8\u80fd\u5e2e\u52a9\u6211\u4eec\u89c4\u8303\u5316\u5730\u7ba1\u7406 commit message\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u63a8\u8350\u4e00\u4e2a\u540d\u4e3a git-commit-plugin \u7684\u6269\u5c55\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u6269\u5c55\u4f1a\u5c06 commit message \u8fdb\u884c\u5206\u7c7b\uff0c\u5e76\u4e14\u7ed9\u6bcf\u4e2a\u7c7b\u522b\u52a0\u4e0a emoji \u56fe\u6807\uff0c\u4ee5\u4fbf\u6211\u4eec\u66f4\u5feb\u6377\u5730\u8bc6\u522b\u7c7b\u522b\uff1a</p> <p></p> <p>\u7ed9\u4ee3\u7801\u6b63\u786e\u5730\u5206\u7c7b\u662f\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u4efb\u52a1\u3002\u5982\u679c\u6211\u4eec\u5728\u6bcf\u4e00\u6b21\u4ee3\u7801\u63d0\u4ea4\u65f6\u90fd\u8fdb\u884c\u4e86\u6b63\u786e\u5730\u5206\u7c7b\uff0c\u90a3\u4e48\u5728\u53d1\u884c\u65b0\u7684\u7248\u672c\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b\u5386\u53f2\u63d0\u4ea4\u4fe1\u606f\uff0c\u81ea\u52a8\u751f\u6210 release notes\u3002\u8fd9\u6837\u751f\u6210\u7684 release notes \u4e5f\u8bb8\u8fd8\u9700\u8981\u7a0d\u5fae\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4f46\u7edd\u5bf9\u53ef\u4ee5\u907f\u514d\u9057\u6f0f\u91cd\u8981\u7684\u4fee\u6539\u3002</p> <p>\u5f88\u663e\u7136\uff0c\u4e0d\u662f\u6240\u6709\u7684\u63d0\u4ea4\u4fe1\u606f\u90fd\u5e94\u8be5\u51fa\u73b0\u5728 release notes \u4e2d\uff0c\u7279\u522b\u662f\u50cf\u4ee3\u7801\u98ce\u683c\u3001\u6587\u6863\u4fee\u8ba2\u3001\u589e\u52a0\u6d4b\u8bd5\u7528\u4f8b\u3001\u4ee5\u53ca\u6784\u5efa\u76f8\u5173\u7684\u63d0\u4ea4\uff0c\u5f80\u5f80\u90fd\u4e0d\u662f\u6700\u7ec8\u7528\u6237\u5173\u5fc3\u7684\uff0c\u56e0\u6b64\u5728 release notes \u4e2d\u4e0d\u5e94\u8be5\u653e\u5165\u8fd9\u4e9b\u5185\u5bb9\u3002\u5982\u679c\u6211\u4eec\u5bf9\u6bcf\u4e00\u6b21\u63d0\u4ea4\u90fd\u8fdb\u884c\u4e86\u6b63\u786e\u7684\u5206\u7c7b\uff0c\u90a3\u4e48\uff0c\u81ea\u52a8\u751f\u6210 release notes \u7684\u5de5\u5177\u5c31\u53ef\u4ee5\u6309\u7167\u6211\u4eec\u6307\u5b9a\u7684\u7c7b\u522b\uff0c\u53ea\u63d0\u53d6\u6709\u6548\u7684\u4fe1\u606f\u5230 release notes \u4e2d\u3002</p> <p>\u5728\u540e\u9762\uff0c\u6211\u4eec\u8fd8\u4f1a\u63d0\u53ca\u81ea\u52a8\u5316\u751f\u6210 Release notes \u7684\u5de5\u5177\u3002\u6211\u4eec\u901a\u8fc7\u5de5\u5177\u6765\u4fdd\u8bc1 Commit Message \u683c\u5f0f\u7684\u89c4\u8303\u6027\uff0c\u800c Release notes \u4e5f\u662f\u901a\u8fc7\u5de5\u5177\u6765\u63d0\u53d6\u548c\u5206\u6790\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6574\u4e2a\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u5c31\u4f1a\u8c61\u6d41\u6c34\u7ebf\u4e00\u6837\u7cbe\u786e\u5de5\u4f5c\u3002</p> <p>\u8fd9\u6b63\u662f\u672c\u4e66\u7684\u4e3b\u65e8\u6240\u5728\uff1a\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u4e0d\u5e94\u8be5\u662f\u4e00\u4e9b\u62bd\u8c61\u7684\u7406\u5ff5\uff0c\u800c\u5e94\u8be5\u662f\u901a\u8fc7\u4e00\u7cfb\u5217\u5de5\u5177\uff0c\u5f97\u4ee5\u5f3a\u5236\u6267\u884c\u7684\u8f6f\u4ef6\u751f\u4ea7\u6d41\u6c34\u7ebf\u3002\u4e00\u65e6\u6d41\u6c34\u7ebf\u88ab\u8c03\u6821\u597d\uff0c\u751f\u4ea7\u51fa\u6765\u7684\u4ea7\u54c1\u5c31\u80fd\u901a\u8fc7 6 sigma \u7684\u54c1\u8d28\u8ba4\u8bc1 [^6-sigma]\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#3233-gitigore","title":"3.2.3.3. gitigore \u6269\u5c55","text":"<p>\u4ee3\u7801\u4ed3\u5e93\u53ea\u5e94\u8be5\u4fdd\u7559\u6709\u7528\u7684\u6587\u4ef6\u3002\u7136\u800c\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5de5\u4f5c\u533a\u6709\u65f6\u5019\u4e0d\u53ef\u907f\u514d\u5730\u4f1a\u4ea7\u751f\u4e00\u4e9b\u4e34\u65f6\u6587\u4ef6\u3001\u5783\u573e\u6587\u4ef6\u548c\u4e0d\u9002\u5408\u901a\u8fc7\u4ee3\u7801\u4ed3\u5e93\u4fdd\u7ba1\u7684\u6587\u4ef6\u7c7b\u578b\uff0c\u6bd4\u5982\u8c03\u8bd5\u65f6\u4ea7\u751f\u7684\u65e5\u5fd7\uff0c\u7f16\u8bd1\u540e\u4ea7\u751f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u7b49\u3002\u8fd9\u4e9b\u4e34\u65f6\u6587\u4ef6\u5982\u679c\u53cd\u590d\u88ab\u4e0a\u4f20\uff0c\u5c31\u4f1a\u6781\u5927\u5730\u6d6a\u8d39\u4ed3\u5e93\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u964d\u4f4e\u6027\u80fd\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u4e9b\u6587\u4ef6\u88ab\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4ee3\u7801\u4ed3\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a.gitignore \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u8fd9\u4e9b\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\u6216\u8005\u5339\u914d\u6a21\u5f0f\u5b57\u7b26\u4e32\u3002\u5982\u6b64\u4e00\u6765\uff0cgit \u5728\u63d0\u4ea4\u4ee3\u7801\u65f6\uff0c\u5c31\u4f1a\u81ea\u52a8\u8fc7\u6ee4\u6389\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>.gitignore \u6587\u4ef6\u7684\u683c\u5f0f\u975e\u5e38\u7b80\u5355\uff0c\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\u3002\u56e0\u6b64\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u624b\u52a8\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\u3002\u4f46\u662f\uff0cgitignore \u6269\u5c55\u80fd\u63d0\u4f9b\u66f4\u591a\u7684\u529f\u80fd\uff1a</p> <ol> <li>\u6839\u636e\u6a21\u677f\u751f\u6210.gitignore \u6587\u4ef6\u3002\u6bd5\u7adf\uff0c\u4e00\u4e2a.gitignore \u6587\u4ef6\u53ef\u80fd\u6709\u51e0\u5341\u884c\u4e4b\u591a\uff0c\u5176\u4e2d\u6709\u5927\u91cf\u5728\u4e0d\u540c\u9879\u76ee\u4e4b\u95f4\u901a\u7528\u7684\u90e8\u5206\uff0c\u8fd9\u4e9b\u90fd\u6ca1\u6709\u5fc5\u8981\u8bb0\u5fc6\u3002</li> <li>\u65b9\u4fbf\u60a8\u4ece\u5de5\u4f5c\u533a\u4e2d\u9009\u62e9\u6587\u4ef6\u5e76\u81ea\u52a8\u52a0\u5165\u5230.gitignore \u6587\u4ef6\u4e2d\u3002\u8fd9\u6837\u76f8\u5bf9\u4e8e\u624b\u52a8\u7f16\u8f91.gitignore \u6587\u4ef6\uff0c\u53ef\u4ee5\u907f\u514d\u51fa\u73b0\u8def\u5f84\u9519\u8bef\uff0c\u4e5f\u66f4\u52a0\u5feb\u6377\u3002</li> </ol>"},{"location":"articles/python/best-practice-python/chap02/#3234","title":"3.2.3.4. \u672c\u5730\u6587\u4ef6\u5386\u53f2","text":"<p>\u5c3d\u7ba1 git \u63d0\u4f9b\u4e86\u6587\u4ef6\u7248\u672c\u5386\u53f2\u7684\u7ba1\u7406\uff0c\u4f46\u5bf9\u672a\u63d0\u4ea4\u7684\u4fee\u6539\uff0cgit \u662f\u65e0\u6cd5\u8ffd\u8e2a\u7684\u3002\u7136\u800c\uff0c\u5728\u4ee3\u7801\u63d0\u4ea4\u4e4b\u524d\uff0c\u6211\u4eec\u4e5f\u53ef\u80fd\u5bf9\u540c\u4e00\u6587\u4ef6\u8fdb\u884c\u591a\u6b21\u4fee\u6539\uff0c\u5e76\u5728\u67d0\u4e2a\u65f6\u5019\uff0c\u5e0c\u671b\u80fd\u67e5\u770b\u548c\u53c2\u8003\u8fd9\u4e9b\u53d8\u52a8\u60c5\u51b5\u3002\u8fd9\u5c31\u9700\u8981\u6709\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\u5386\u53f2\u7ba1\u7406\u7cfb\u7edf\u3002</p> <p>Pycharm \u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e\u5e38\u597d\u7528\u7684\u672c\u5730\u6587\u4ef6\u5386\u53f2\u7684\u529f\u80fd\u3002\u5728 VS Code \u4e2d\uff0c\u5fc5\u987b\u901a\u8fc7\u6269\u5c55\u6765\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002</p> <p>\u8bfb\u8005\u53ef\u4ee5\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55\uff1a</p> <p></p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u6269\u5c55\u4f1a\u5728\u5de5\u4f5c\u533a\u751f\u6210\u4e00\u4e2a\u540d\u4e3a.history \u7684\u6587\u4ef6\u5939\uff0c\u4ee5\u5b58\u653e\u672c\u5730\u6587\u4ef6\u5386\u53f2\u3002\u8fd9\u4e2a\u6587\u4ef6\u5939\u5fc5\u987b\u88ab\u52a0\u5165\u5230.gitignore \u6587\u4ef6\u4e2d\uff0c\u5426\u5219\uff0c\u60a8\u5f88\u53ef\u80fd\u4f1a\u628a\u8fd9\u4e2a\u6587\u4ef6\u5939\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\u3002\u8fd9\u53ef\u662f\u4e00\u5927\u5806\u5783\u573e\u6587\u4ef6\uff01</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86\u8fd9\u4e2a\u6269\u5c55\u5bf9\u4ee3\u7801\u53d8\u52a8\u7684\u8ddf\u8e2a\u60c5\u51b5\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap02/#324","title":"3.2.4. \u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210","text":"<p>\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210\u662f\u6211\u4eec\u4f7f\u7528 IDE\uff0c\u800c\u4e0d\u662f\u6587\u672c\u7f16\u8f91\u5668\u6765\u7f16\u5199\u4ee3\u7801\u6700\u91cd\u8981\u7684\u539f\u56e0\u3002\u6839\u636e Kite^kite \u7684\u7edf\u8ba1\uff0c\u4f7f\u7528 kite \u6765\u8fdb\u884c\u8f85\u52a9\u7f16\u7a0b\uff0c\u53ef\u4ee5\u7701\u53bb\u6700\u591a 47%\u7684\u4ee3\u7801\u952e\u5165\uff0c\u4ece\u800c\u4f7f\u5f97\u4ee3\u7801\u7f16\u5199\u66f4\u52a0\u8f7b\u677e\u548c\u66f4\u4e3a\u5feb\u901f\u3002</p> <p>\u5f53\u7136\uff0c\u60a8\u53ef\u80fd\u5e76\u4e0d\u540c\u610f\u952e\u5165\u901f\u5ea6\u4f1a\u5de6\u53f3\u7f16\u7a0b\u6548\u7387\u8fd9\u4e00\u89c2\u70b9\uff0c\u6bd5\u7adf\uff0c\u5728\u7f16\u7a0b\u4e2d\uff0c\u6211\u4eec\u5927\u91cf\u7684\u65f6\u95f4\u90fd\u662f\u5728\u601d\u8003\u7b97\u6cd5\u548c\u529f\u80fd\u5982\u4f55\u5b9e\u73b0\u3001\u56de\u5fc6\u67d0\u4e2a\u5e93\u51fd\u6570\u5e94\u8be5\u5982\u4f55\u8c03\u7528\u3001\u4ee5\u53ca\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u53d8\u91cf\u3001\u5e38\u91cf\u540d\u7b49\u3002\u4ee4\u4eba\u5403\u60ca\u7684\u662f\uff0c\u968f\u7740\u4eba\u5de5\u667a\u80fd\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u73b0\u5728\u8fd9\u7c7b\u5de5\u4f5c\u7684\u5f88\u5927\u90e8\u5206\uff0c\u90fd\u53ef\u4ee5\u7531\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210\u5de5\u5177\u6765\u5b8c\u6210\u4e86\u3002</p> <p>Info</p> <p>\u516c\u53f8\u66fe\u7ecf\u6709\u4f4d\u5973\u7a0b\u5e8f\u5458\u3002\u5979\u5986\u5bb9\u7cbe\u81f4\uff0c\u957f\u957f\u7684\u6307\u7532\u4e0a\u954c\u523b\u7740\u4e00\u4e9b\u7f8e\u4e3d\u7684\u56fe\u6848\uff0c\u6d41\u5149\u6ea2\u5f69\uff0c\u6572\u8d77\u952e\u76d8\u6765\uff0c\u6307\u7532\u4e0a\u7684\u56fe\u6848\uff0c\u5c31\u8c61\u8774\u8776\u4e00\u6837\u7fe9\u7fe9\u8d77\u821e\u3002\u6211\u81ea\u5df1\u77e5\u9053\u6307\u7532\u522e\u8e6d\u5728\u952e\u76d8\u5e3d\u4e0a\u7684\u58f0\u97f3\u591a\u8ba9\u4eba\u96be\u53d7\uff0c\u56e0\u6b64\u81ea\u5df1\u603b\u662f\u4fdd\u6301\u526a\u6307\u7532\u7684\u4e60\u60ef\uff0c\u4ee5\u4fdd\u8bc1\u952e\u5165\u65f6\u4e0d\u53d7\u5e72\u6270\uff0c\u4e5f\u56e0\u6b64\u4f1a\u62c5\u5fc3\u957f\u6307\u7532\u5bf9\u952e\u5165\u901f\u5ea6\u7684\u5f71\u54cd\u3002\u4f46\u63a5\u89e6\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u6211\u53d1\u73b0\u5979\u7684\u5de5\u4f5c\u6548\u7387\u4e00\u70b9\u4e5f\u4e0d\u4f4e \u2014 \u5c3d\u7ba1\u5728\u952e\u5165\u901f\u5ea6\u4e0a\uff0c\u53ef\u80fd\u8fd8\u662f\u4f1a\u53d7\u5230\u957f\u6307\u7532\u7684\u5f71\u54cd\u3002</p> <p>\u5c3d\u7ba1 Kite \u7684\u6570\u636e\u8868\u660e\u4ed6\u4eec\u5e2e\u7801\u519c\u7701\u53bb\u4e86 47%\u7684\u952e\u5165\u65f6\u95f4\uff0c\u4f46\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\uff0c\u7531\u6b64\u5e26\u6765\u7684\u6548\u7387\u7684\u63d0\u5347\uff0c\u53ef\u80fd\u5e76\u6ca1\u6709 Kite \u60f3\u50cf\u7684\u90a3\u4e48\u5927\u3002\u540e\u9762\u6211\u4eec\u8fd8\u4f1a\u6709\u673a\u4f1a\u56de\u987e Kite \u8fd9\u5bb6\u516c\u53f8\u7684\u6545\u4e8b\uff1a\u5982\u679c\u52aa\u529b\u7684\u65b9\u5411\u9519\u4e86\uff0c\u90a3\u4e48\u518d\u52e4\u594b\u4e5f\u662f\u65e0\u6d4e\u4e8e\u4e8b\u3002</p> <p>\u5c31\u8c61\u6211\u4eec\u53ef\u4ee5\u628a\u81ea\u52a8\u9a7e\u9a76\u6309\u81ea\u52a8\u5316\u7a0b\u5ea6\u5b9a\u4e49\u4e3a 5 \u4e2a\u7ea7\u522b\u4e00\u6837\uff0c\u4ee3\u7801\u8f85\u52a9\u4e5f\u53ef\u4ee5\u5206\u4e3a\u597d\u591a\u4e2a\u7ea7\u522b\u3002</p> <p>\u6700\u4f4e\u7ea7\u7684\u7ea7\u522b\uff0c\u53ef\u80fd\u662f\u666e\u901a\u6587\u672c\u7f16\u8f91\u5668\u6240\u505a\u5230\u7684\u90a3\u6837\uff0c\u5728\u5355\u8bcd\u7ea7\u522b\u4e0a\u8fdb\u884c\u63d0\u793a\u3002\u53ea\u8981\u4f60\u66fe\u7ecf\u8f93\u5165\u8fc7\u4e00\u4e2a\u5355\u8bcd\u6216\u8005\u4e00\u4e2a\u53e5\u5b50\uff0c\u90a3\u4e48\u4e0b\u6b21\u5f53\u4f60\u8f93\u5165\u8fd9\u4e2a\u5355\u8bcd\u6216\u8005\u53e5\u5b50\u7684\u524d\u9762\u90e8\u5206\uff0cIDE \u5c31\u4f1a\u81ea\u52a8\u63d0\u793a\u8fd9\u4e2a\u5355\u8bcd\u6216\u8005\u53e5\u5b50\u3002\u5982\u679c\u4f60\u5e38\u7528 Excel\uff0c\u4f60\u5c31\u5f88\u5bb9\u6613\u660e\u767d\u8fd9\u662f\u4e00\u79cd\u4ec0\u4e48\u6837\u7684\u8f85\u52a9\u3002\u4f46\u8fd9\u79cd\u63d0\u793a\u8fdc\u8fdc\u4e0d\u591f\u7cbe\u786e\uff0c\u5f88\u591a\u65f6\u5019\uff0c\u5b83\u4e0d\u80fd\u63d0\u4f9b\u6211\u4eec\u771f\u6b63\u60f3\u8981\u7684\u8f93\u5165\u3002</p> <p>\u5bf9\u4e8e\u7a0b\u5e8f\u5f00\u53d1\u6765\u8bf4\uff0c\u7531\u4e8e\u6709\u8bed\u6cd5\u89c4\u5219\u53ef\u4ee5\u501f\u52a9\uff0c\u56e0\u6b64\u8fd9\u79cd\u63d0\u793a\u53ef\u4ee5\u505a\u5f97\u66f4\u7cbe\u786e\u4e00\u4e9b\u3002\u6bd4\u5982\uff0c\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\uff0c\u90a3\u4e48\u4e0b\u6b21\u5982\u679c\u4f60\u8f93\u5165\u4e86\u4e00\u4e2a\u7c7b\uff08\u6216\u8005\u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u53d8\u91cf\uff09\u7684\u540d\u5b57\uff0c\u5e76\u4e14\u952e\u5165\u4e00\u4e2a\u63d0\u793a\u7b26\uff08\u53ef\u80fd\u662f\".\", \u6216\u8005\"-&gt;\", \u4f9d\u8d56\u4e8e\u7a0b\u5e8f\u8bed\u8a00\uff09\uff0c\u90a3\u4e48 IDE \u5c31\u53ef\u4ee5\u63d0\u793a\u7c7b\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u6216\u8005\u5c5e\u6027\uff0c\u4f9b\u6211\u4eec\u9009\u53d6\u3002\u6b64\u5916\uff0c\u5982\u679c\u5bfc\u5165\u4e86\u67d0\u4e2a\u540d\u5b57\u7a7a\u95f4\uff0cIDE \u4e5f\u53ef\u4ee5\u57fa\u4e8e\u540c\u6837\u7684\u903b\u8f91\uff0c\u6765\u63d0\u793a\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7c7b\u7b49\u3002\u8fd9\u4e9b\u90fd\u662f\u4e25\u683c\u4f9d\u8d56\u4e8e\u8bed\u6cd5\u7684\uff0c\u6240\u4ee5\uff0c\u5bf9\u9759\u6001\u8bed\u8a00\uff0cIDE \u7684\u4ee3\u7801\u63d0\u793a\u53ef\u4ee5\u505a\u5f97\u5f88\u68d2\u3002\u5bf9\u4e8e Python \u8fd9\u6837\u7684\u52a8\u6001\u8bed\u8a00\uff0c\u5728\u6ca1\u6709\u4f7f\u7528\u7c7b\u578b\u6807\u6ce8\u65f6\uff0c\u8981\u51c6\u786e\u63d0\u793a\u6210\u5458\u53d8\u91cf\u8fd8\u662f\u6709\u4e00\u5b9a\u56f0\u96be\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u6709\u4e86\u4eba\u5de5\u667a\u80fd\u7684\u52a0\u6301\uff0c\u4ee3\u7801\u8f85\u52a9\u5df2\u8fdb\u5316\u5230\u4e86\u4ee4\u4eba\u60ca\u53f9\u7684\u7a0b\u5ea6\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u672c\u4e66\u5c31\u662f\u5728 Github Copilot^Github Copilot \u7684\u5e2e\u52a9\u4e0b\u5b8c\u6210\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u4e00\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> <p></p> <p>Copilot \u6839\u636e\u524d\u9762\u7684\u8f93\u5165\uff0c\u81ea\u52a8\u751f\u6210\u4e86\u4e00\u4e2a\u8bed\u6cd5\u901a\u987a\u7684\u53e5\u5b50\uff08\u8fd9\u4e2a\u53e5\u5b50\u5728\u4e0a\u56fe\u4e2d\u663e\u793a\u4e3a\u7070\u8272\uff09\uff0c\u5e76\u4e14\u4e0e\u4e0a\u4e0b\u6587\u76f8\u5f53\u534f\u8c03\u3002\u8fd9\u91cc\u6211\u5e76\u4e0d\u60f3\u4f7f\u7528\u5b83\u63d0\u793a\u7684\u7528\u8bcd\uff08\u4e3b\u8981\u662f\u62c5\u5fc3\u8bfb\u8005\u5e76\u4e0d\u613f\u610f\u770b\u4e00\u672c\u673a\u5668\u5199\u7684\u4e66\uff09\uff0c\u4f46\u662f\uff0c\u5fc5\u987b\u627f\u8ba4\uff0c\u9664\u975e\u662f\u5199\u8bd7\uff0c\u6211\u4eec\u4e0d\u5fc5\u50cf\u8c61\u53e4\u4eba\u4e00\u6837\uff0c\u541f\u5b89\u4e00\u4e2a\u5b57\uff0c\u62c8\u65ad\u6570\u6839\u987b\uff0c\u6587\u7ae0\u5e76\u4e0d\u662f\u6bcf\u4e00\u53e5\u90fd\u9700\u8981\u7cbe\u96d5\u7ec6\u7422\uff0c\u6709\u65f6\u5019\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528 Copilot \u63d0\u793a\u7684\u5b57\u53e5\u6765\u8fdb\u884c\u8fc7\u6e21\u3002\u66f4\u591a\u7684\u65f6\u5019\uff0c\u5728\u5199\u6587\u7ae0\u65f6\uff0cCopilot \u53ef\u4ee5\u8d77\u5230\u5f00\u62d3\u601d\u8def\u7684\u4f5c\u7528\uff0c\u8fd9\u65e0\u7591\u662f\u5927\u6709\u88e8\u76ca\u7684\u3002</p> <p>\u4e0a\u9762\u53ea\u662f\u4eba\u5de5\u667a\u80fd\u5728\u666e\u901a\u6587\u672c\u8f85\u52a9\u5199\u4f5c\u4e0a\u7684\u4e00\u4f8b\u3002\u5f53\u6211\u4eec\u628a\u9886\u57df\u9650\u5236\u5728\u7f16\u7a0b\u9886\u57df\u65f6\uff0c\u5176\u7ed3\u679c\u5c31\u66f4\u52a0\u4ee4\u4eba\u53f9\u670d\u3002\u5f88\u591a\u65f6\u5019\uff0c\u53ea\u8981\u4f60\u5199\u4e0b\u4e00\u884c\u6ce8\u91ca\uff0cCopilot \u5c31\u4f1a\u80fd\u5e2e\u4f60\u5b8c\u6210\u4ee3\u7801\uff0c\u5b9e\u73b0\u8fd9\u884c\u6ce8\u91ca\u7684\u529f\u80fd\u3002\u7279\u522b\u662f\u5f53\u6211\u4eec\u8981\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u5df2\u7ecf\u5728\u67d0\u4e2a\u5e93\u51fd\u6570\u4e2d\u5b9e\u73b0\u4e86\uff0c\u6216\u8005\u5b58\u5728\u67d0\u4e2a\u8457\u540d\u7684\u7b97\u6cd5\u65f6\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u529f\u80fd\u975e\u5e38\u597d\u7528\u3002</p> <p>\u5173\u4e8e VS Code \u7684\u6269\u5c55\u8fd8\u5f88\u591a\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u7684\u5de5\u7a0b\u4e2d\u53ef\u80fd\u4f7f\u7528\u4e86 json, ymal \u7b49\u6587\u4ef6\uff0c\u6216\u8005\u4f7f\u7528\u4e86 markdown/rst \u6765\u7f16\u5199\u6587\u6863\u3002\u5728\u7f16\u8f91\u8fd9\u4e9b\u6587\u4ef6\u65f6\uff0c\u8fd8\u6709\u4e00\u4e9b\u5f88\u597d\u7684\u5de5\u5177\u6765\u8fdb\u884c\u8f85\u52a9\u548c\u529f\u80fd\u589e\u5f3a\u3002\u6bd4\u5982 Markdown \u5bf9\u8868\u683c\u7684\u652f\u6301\u6bd4\u8f83\u5dee\uff0c\u624b\u52a8\u7f16\u8f91 Markdown \u8868\u683c\u662f\u6bd4\u8f83\u7e41\u7410\u7684\u4e8b\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u6269\u5c55\uff0c\u901a\u8fc7\u5b83\u4eec\u5c06\u6587\u6863\u5185\u7684 csv \u5757\u5185\u5bb9\u8f6c\u6362\u6210\u4e3a Markdown \u8868\u683c\u3002</p> <p>\u9664\u4e86\u6269\u5c55\u5916\uff0cVS Code \u8fd8\u6709\u5176\u5b83\u4e00\u4e9b\u5b9a\u5236\u9879\uff0c\u6bd4\u5982\u4e3b\u9898\u3002\u5982\u679c\u60a8\u957f\u671f\u5bf9\u7740\u7535\u8111\u5de5\u4f5c\uff0c\u63a8\u8350\u60a8\u5b89\u88c5\u4e00\u4e9b\u6240\u8c13\u591c\u95f4\u6a21\u5f0f\u7684\u4e3b\u9898\u3002\u8fd9\u4e9b\u4e3b\u9898\u5f53\u4e2d\uff0cDracula Pycharm Theme \u662f\u6bd4\u8f83\u6709\u610f\u601d\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u8fd9\u4e2a\u4e3b\u9898\u7684\u540d\u5b57\u6765\u6e90\u4e8e\u5fb7\u53e4\u62c9\u4f2f\u7235\u3002\u5fb7\u53e4\u62c9\u4f2f\u7235\u662f\u7231\u5c14\u5170\u4f5c\u5bb6\u5e03\u83b1\u59c6\u00b7\u65af\u6258\u514b\u540c\u540d\u5c0f\u8bf4\u4e2d\u7684\u4eba\u7269 \u2014\u2014 \u4e00\u4e2a\u55dc\u8840\u3001\u4e13\u6311\u5e74\u8f7b\u7f8e\u5973\u4e0b\u624b\u7684\u5438\u8840\u9b3c\u3002\u8fd9\u90e8\u5c0f\u8bf4\u540e\u6765\u88ab\u591a\u6b21\u6539\u7f16\u6210\u7535\u5f71\u3002\u8003\u8651\u5230\u5438\u8840\u9b3c\u53ea\u5728\u591c\u95f4\u51fa\u6765\u6d3b\u52a8\uff0c\u4e00\u6b3e\u6697\u591c\u6a21\u5f0f\u7684\u4e3b\u9898\u4f7f\u7528\u8fd9\u4e2a\u540d\u5b57\u5012\u4e5f\u6070\u5982\u5176\u5206\u3002</p> <p>\u9650\u4e8e\u7bc7\u5e45\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u4e00\u4e00\u4ecb\u7ecd\u8fd9\u4e9b\u6269\u5c55\u3002\u9664\u4e86\u90a3\u4e9b\u4e0b\u8f7d\u91cf\u6781\u5927\u7684\u6d41\u884c\u6269\u5c55\uff0c\u672c\u7ae0\u4e5f\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u6bd4\u8f83\u5c0f\u4f17\u7684\u6269\u5c55\u3002\u8fd9\u4e9b\u5c0f\u4f17\u6269\u5c55\u5728\u672a\u6765\u53ef\u80fd\u4f1a\u6d88\u5931\uff08\u6bd4\u5982 VS Code \u76f4\u63a5\u5b9e\u73b0\u4e86\u5176\u529f\u80fd\uff09\uff0c\u6216\u8005\u88ab\u53d6\u4ee3\u3002\u91cd\u8981\u7684\u662f\uff0c\u5b83\u4eec\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u751f\u4ea7\u6548\u7387\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u548c\u529f\u80fd\uff0c\u662f\u6211\u4eec\u5e94\u8be5\u719f\u77e5\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#4","title":"4. \u5176\u4ed6\u5f00\u53d1\u73af\u5883","text":""},{"location":"articles/python/best-practice-python/chap02/#41-jupyter-notebook","title":"4.1. Jupyter Notebook","text":"<p>Pycharm \u548c VS Code \u90fd\u662f\u5927\u578b\u5f00\u53d1\u5de5\u5177\uff0c\u9002\u5408\u5f00\u53d1\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u5728 Python \u9886\u57df\u4e2d\uff0c\u6709\u4e00\u7c7b\u95ee\u9898\u66f4\u9002\u5408\u63a2\u7d22\u5f0f\u7f16\u7a0b\uff0c\u6bd4\u5982\u6570\u636e\u5206\u6790\u4efb\u52a1\u3002\u6211\u4eec\u62ff\u5230\u4e00\u4e9b\u6570\u636e\uff0c\u901a\u8fc7\u7edf\u8ba1\u65b9\u6cd5\u67e5\u770b\u5b83\u4eec\u7684\u7279\u6027\uff0c\u8fdb\u884c\u4e00\u4e9b\u53ef\u89c6\u5316\u7684\u5206\u6790\u3002\u7136\u540e\u5bf9\u6570\u636e\u8fdb\u884c\u9884\u5904\u7406\uff0c\u8fdb\u800c\u7f16\u5199\u4e00\u4e9b\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\uff0c\u5982\u679c\u7ed3\u679c\u4e0d\u7406\u60f3\uff0c\u5219\u63a8\u5012\u91cd\u6765\uff0c\u63a2\u7d22\u65b0\u7684\u7b97\u6cd5\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u88ab\u79f0\u4e3a\u63a2\u7d22\u5f0f\u7f16\u7a0b\uff1a\u63a2\u7d22\u5f0f\u7684\u5de5\u4f5c\u91cd\u4e8e\u9075\u5faa\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4ee3\u7801\u4e2d\u5939\u6742\u7740\u5927\u91cf\u7684\u89e3\u91ca\u6027\u6587\u6863\u548c\u8f93\u51fa\u7ed3\u679c\uff08\u5305\u542b\u56fe\u8868\u548c\u56fe\u50cf\uff09\uff0c\u5b83\u4eec\u90fd\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u7684\u4e00\u90e8\u5206\uff0c\u800c\u4e0d\u662f\u8c61\u4f20\u7edf\u7684\u7f16\u7a0b\u4e00\u6837\uff0c\u4ee3\u7801\u3001\u6587\u6863\u548c\u8f93\u51fa\u7ed3\u679c\u662f\u5206\u79bb\u7684\u3002</p> <p>Jupyter Notebook \u662f\u63a2\u7d22\u5f0f\u7f16\u7a0b\u7684\u5229\u5668\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u4e8e\u7f51\u9875\u7684\u7f16\u8f91\u5668\u548c\u8fd0\u884c\u73af\u5883\uff0c\u7528\u6237\u8f93\u5165\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u4e2a\u5355\u5143\u683c\uff0c\u6bcf\u4e2a\u5355\u5143\u683c\u53ef\u4ee5\u662f\u4ee3\u7801\u5355\u5143\uff0c\u4e5f\u53ef\u4ee5\u662f\u6587\u672c\u5355\u5143\uff1b\u4ee3\u7801\u5355\u5143\u8fd8\u5141\u8bb8\u6709\u8f93\u51fa\u7ed3\u679c\uff0c\u8f93\u51fa\u7ed3\u679c\u53ef\u4ee5\u662f\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u56fe\u8868\u6216\u56fe\u50cf\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 Notebook \u53ef\u4ee5\u770b\u6210\u662f\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5728\u6b64 Notebook \u4e2d\u7684\u4ee3\u7801\u5355\u5143\u683c\u91cc\u5b9a\u4e49\u7684\u53d8\u91cf\u548c\u51fd\u6570\u90fd\u5177\u6709\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u6bcf\u4e2a\u4ee3\u7801\u5355\u5143\u683c\u90fd\u53ef\u4ee5\u5355\u72ec\u6267\u884c\u3002\u8fd9\u79cd\u6a21\u5f0f\u6709\u5b83\u6781\u5176\u65b9\u4fbf\u7684\u4e00\u9762\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u968f\u5730\u5728 Notebook \u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u5355\u5143\u683c\u4e2d\u8fdb\u884c\u5207\u6362--\u65e0\u8bba\u662f\u63a2\u7d22\u6570\u636e\u7684\u7279\u6027\uff0c\u8fd8\u662f\u63a2\u7d22\u4e00\u4e2a\u65b0\u7684\u7a0b\u5e8f\u5e93\u7684\u529f\u80fd\uff0c\u90fd\u53d8\u5f97\u975e\u5e38\u5bb9\u6613\u3002</p> <p>\u5f53\u524d\uff0cJupyter Notebook \u7684\u5f00\u53d1\u8005\u5728\u529b\u63a8 Jupyter Lab\uff0c\u4ee5\u66ff\u4ee3 Jupyter Notebook\u3002\u4e0d\u8fc7\uff0c\u7531\u4e8e VS Code \u548c Pycharm \u5bf9 Jupyter Notebook \u7684\u96c6\u6210\uff0c\u56e0\u6b64 Notebook \u8fd8\u5c06\u5b58\u5728\u76f8\u5f53\u957f\u7684\u65f6\u95f4\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#42-spyder","title":"4.2. Spyder","text":"<p>Spyder^spyder \u662f\u4e13\u95e8\u4e3a\u79d1\u5b66\u5bb6\u3001\u6570\u636e\u5206\u6790\u5e08\u3001\u5de5\u7a0b\u5e08\u6253\u9020\u7684\u4e00\u6b3e\u5f00\u6e90\u7684\u7f16\u7a0b\u73af\u5883\u3002\u5b83\u5177\u6709\u96c6\u6210\u5f00\u53d1\u73af\u5883\u7684\u9ad8\u7ea7\u7f16\u8f91\u3001\u5206\u6790\u3001\u8c03\u8bd5\u548c profiling \u529f\u80fd\u4e0e\u79d1\u5b66\u5e93\u7684\u6570\u636e\u63a2\u7d22\u3001\u4ea4\u4e92\u5f0f\u6267\u884c\u3001\u6df1\u5ea6\u68c0\u67e5\u548c\u7cbe\u7f8e\u53ef\u89c6\u5316\u529f\u80fd\u7684\u72ec\u7279\u7ec4\u5408\u3002 \u6211\u4eec\u5f88\u5bb9\u6613\u4ece\u5b83\u7684\u754c\u9762\u4e0a\u770b\u51fa\u8fd9\u4e00\u70b9\uff1a</p> <p></p> <p>Spyder \u5305\u542b\u5728 Anaconda \u53d1\u884c\u7248\u4e4b\u5185\uff0c\u6240\u4ee5\u4e00\u65e6\u5b89\u88c5\u4e86 Anaconda\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 Spyder \u6765\u7f16\u5199 Python \u4ee3\u7801\u3002\u5728\u5b83\u7684\u5b98\u7f51\u4e0a\u4e5f\u63d0\u4f9b\u4e86\u5355\u72ec\u7684\u5b89\u88c5\u5305\u4f9b\u4e0b\u8f7d\u3002</p> <p>\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u4e86\u4e09\u79cd\u7c7b\u578b\u7684 Python \u5f00\u53d1\u73af\u5883\uff1a\u9002\u7528\u4e8e\u5927\u578b\u5de5\u7a0b\u5316\u5f00\u53d1\u7684 Pycharm/VS Code\uff0c\u9002\u7528\u4e8e\u63a2\u7d22\u5f0f\u7f16\u7a0b\u7684 Jupyter Notebook\uff0c\u8fd8\u6709\u878d\u5408\u4e86\u4e24\u8005\u7279\u70b9\u7684 Spyder\u3002\u5f53\u7136\uff0c\u5728 Pycharm/VS Code \u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u6253\u5f00\u548c\u8fd0\u884c Jupyter Notebook\uff0c\u8fd9\u9879\u529f\u80fd\u96c6\u6210\u5230\u8fd9\u4e24\u79cd IDE \u4e2d\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\u3002</p> <p>\u5982\u679c\u6211\u4eec\u7ecf\u5e38\u6027\u7684\u5f00\u53d1\u5de5\u4f5c\u662f\u6784\u5efa\u9ad8\u590d\u7528\u7684\u7ec4\u4ef6\u5e93\u3001\u6216\u8005\u590d\u6742\u7684\u5e94\u7528\u7a0b\u5e8f\uff0cPycharm/VS Code \u662f\u7edd\u5bf9\u7684\u4e0d\u4e8c\u4e4b\u9009\u3002\u8fd9\u4e24\u79cd\u5de5\u5177\u90fd\u8fd1\u4e4e\u5b8c\u7f8e\u5730\u4e0e\u8d1f\u8d23\u6d4b\u8bd5\u3001\u6301\u7eed\u96c6\u6210\u4ee5\u53ca\u4ee3\u7801\u7ba1\u7406\u3001\u6587\u6863\u6784\u5efa\u7684\u5de5\u5177\u96c6\u6210\u5728\u4e00\u8d77\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u4f60\u7684\u5de5\u4f5c\u66f4\u591a\u7684\u662f\u63a2\u7d22\u6027\u7684\uff0c\u4f3c\u4e4e\u53ea\u4f7f\u7528 Jupyter Notebook \u5c31\u591f\u4e86\u3002\u800c Spyder \u5219\u4e3a\u4e24\u65b9\u9762\u9700\u6c42\u90fd\u8981\u517c\u987e\u7684\u7528\u6237\uff0c\u63d0\u4f9b\u4e86\u4e00\u79cd\u9009\u62e9\u3002</p> <p>[^stackoverflow]: stackoverflow.com \u662f\u5168\u7403\u6700\u77e5\u540d\u7684\u6280\u672f\u5206\u4eab\u793e\u533a\u3002\u7a0b\u5e8f\u5458\u5e38\u5e38\u901a\u8fc7\u8fd9\u4e2a\u793e\u533a\u5411\u4ed6\u4eba\u8bf7\u6559\u81ea\u5df1\u9047\u5230\u7684\u6280\u672f\u95ee\u9898\u3002 [^Linux]: \u6709\u4e00\u79cd\u8bf4\u6cd5\uff0cMac Os \u662f\u6700\u597d\u7684 Linux\uff0c Windows \u4e5f\u662f\u6700\u597d\u7684 Linux\uff0c\u53ea\u6709 Linux \u505a\u4e0d\u597d Linux\u3002 [^wsl]: \u622a\u6b62\u672c\u4e66\u6210\u7a3f\u65f6\uff0c\u8fd9\u4e2a\u6982\u5ff5\u53ef\u80fd\u5df2\u7ecf\u53d1\u751f\u4e86\u53d8\u5316\u3002\u5728 WSL \u4e0b\u5b89\u88c5\u7684 Ubuntu 20 \u4ee5\u4e0a\u7684\u7248\u672c\uff0c\u53ef\u80fd\u5df2\u7ecf\u6709\u4e86\u670d\u52a1\u7684\u6982\u5ff5\uff0c\u8bf7\u8bfb\u8005\u81ea\u884c\u9a8c\u8bc1\u3002 [^docker]: docker \u7684\u5b98\u65b9\u7f51\u7ad9\u662f\uff1ahttps://desktop.docker.com/ [^virtualbox]: Virutalbox \u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u684c\u9762\u7ea7\u865a\u62df\u673a\u3002\u5b83\u7684\u4f7f\u7528\u5b8c\u5168\u514d\u8d39\u3002\u7f51\u7ad9\u5730\u5740\uff1ahttps://www.virtualbox.org/ [^6-sigma]: \u5728\u7edf\u8ba1\u5b66\u4e2d\uff0c6 sigma \u610f\u5473\u7740\u7f6e\u4fe1\u5ea6\u662f 99.99966%\uff0c\u5728\u8d28\u91cf\u68c0\u9a8c\u573a\u666f\u4e0b\uff0c\u8868\u660e\u4ea7\u54c1\u8fbe\u5230\u4e86\u5f88\u9ad8\u7684\u8d28\u91cf\u6807\u51c6\u3002\u4ece 1970 \u5e74\u4ee3\u5f00\u59cb\uff0c\u6469\u6258\u7f57\u62c9\u53d1\u73b0\u4e86\u63d0\u9ad8\u8d28\u91cf\u4e0e\u964d\u4f4e\u751f\u4ea7\u6210\u672c\u4e4b\u95f4\u7684\u6b63\u76f8\u5173\u5173\u7cfb\uff0c\u4e8e\u662f\u53d1\u5c55\u51fa\u4e00\u6574\u5957\u6539\u5584\u5de5\u4e1a\u6d41\u7a0b\u3001\u6d88\u9664\u6b8b\u75b5\u7684\u65b9\u6cd5\u30021986 \u5e74\uff0c\u6469\u6258\u7f57\u62c9\u6b63\u5f0f\u5c06\u5176\u547d\u540d\u4e3a 6-sigma\u3002\u5b83\u5f3a\u8c03\u6301\u7eed\u6539\u8fdb\uff0c\u7a33\u5b9a\u548c\u9884\u6d4b\u6027\u5730\u63d0\u9ad8\u6d41\u7a0b\u7ed3\u679c\uff1b\u751f\u4ea7\u548c\u5546\u4e1a\u6d41\u7a0b\u53ef\u4ee5\u900f\u8fc7\u6d4b\u91cf\u3001\u5206\u6790\u3001\u63d0\u9ad8\u548c\u63a7\u5236\u8fdb\u884c\u6539\u5584\u7b49\u7b49\u3002\u968f\u7740\u6469\u6258\u7f57\u62c9\u5f71\u54cd\u529b\u7684\u8870\u843d\uff0c6-sigma \u7684\u5f71\u54cd\u529b\u4e5f\u65e5\u6e10\u5f0f\u5fae\uff0c\u4f46\u5b83\u7684\u6838\u5fc3\u89c2\u70b9\u548c\u65b9\u6cd5\uff0c\u6bd4\u5982\u6301\u7eed\u6539\u8fdb\u7b49\uff0c\u4ecd\u7136\u5f97\u5230\u5e7f\u6cdb\u8ba4\u540c\u548c\u4f20\u64ad\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/","title":"03 \u6784\u5efaPython\u865a\u62df\u73af\u5883","text":"<p>\u5728\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u8ba8\u8bba\u4e86\u6784\u5efa\u5f00\u53d1\u73af\u5883\u7684\u57fa\u672c\u6b65\u9aa4\uff0c\u5982\u9009\u62e9\u64cd\u4f5c\u7cfb\u7edf\u3001\u9009\u62e9\u96c6\u6210\u5f00\u53d1\u73af\u5883\u7b49\u3002\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u7740\u624b\u7f16\u5199\u4ee3\u7801\u4e86\uff0c\u4f46\u8981\u80fd\u8fd0\u884c\u548c\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u8fd8\u9700\u8981\u6307\u5b9aPython\u8fd0\u884c\u65f6\uff08\u6216\u8005\u79f0\u4e4b\u4e3a\u89e3\u91ca\u5668\uff09\u3002\u7279\u522b\u5730\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u5f00\u53d1\u5de5\u5177\u662fVS Code\uff0c\u90a3\u4e48\u8fd9\u4e00\u6b65\u662f\u5fc5\u987b\u7684\uff1a\u56e0\u4e3aVS Code\u5e76\u4e0d\u662f\u53ea\u4e3a\u5f00\u53d1Python\u5e94\u7528\u7a0b\u5e8f\u800c\u8bbe\u8ba1\u7684\uff0c\u5b83\u652f\u6301\u597d\u591a\u79cd\u5f00\u53d1\u8bed\u8a00\u3002\u56e0\u6b64\uff0c\u8981\u4f7f\u5f97VS Code\u77e5\u9053\u4f60\u7684\u5de5\u7a0b\u9879\u76ee\u662f\u57fa\u4e8ePython\u7684\uff0c\u5c31\u5fc5\u987b\u4e3a\u5b83\u6307\u5b9aPython\u8fd0\u884c\u65f6\u3002</p> <p>Python\u6709\u4e24\u4e2a\u4e3b\u8981\u7684\u8fd0\u884c\u65f6\u7248\u672c\uff0cPython 2.x\u548cPython 3.x\u3002Python 3.x\u662f\u5bf92.x\u7248\u672c\u7684\u7834\u574f\u6027\u5347\u7ea7\u3002\u5f53\u524d\uff0c\u9700\u8981\u57283.x\u7248\u672c\u4e0b\u8fd0\u884c\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u7ec4\u4ef6\u8d8a\u6765\u8d8a\u591a\u4e86\uff0c\u7136\u800c\uff0c\u50cfMacOs\u6216\u8005Ubuntu\u8fd9\u6837\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u7684\u4e00\u4e9b\u8001\u65e7\u7248\u672c\u4ecd\u7136\u4f9d\u8d56Python 2.x\u6765\u8fd0\u884c\u4e00\u4e9b\u6838\u5fc3\u529f\u80fd\uff0c\u6bd4\u5982\u5305\u7ba1\u7406\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u4e9b\u7cfb\u7edf\u4e0a\uff0cPython 2.x\u4ecd\u7136\u662f\u7f3a\u7701\u5b89\u88c5\u7684Python\u8fd0\u884c\u65f6\u7248\u672c\u3002</p> <p>Info</p> <p>Python 2.7\u662fPython 2.x\u7cfb\u5217\u7684\u6700\u540e\u4e00\u4e2a\u7248\u672c\uff0c\u5df2\u4e8e2020\u5e741\u67081\u65e5\u7ec8\u6b62\u7ef4\u62a4\uff1bPython 3.7\u5219\u4e8e2023\u5e746\u670827\u65e5\u7ec8\u6b62\u7ef4\u62a4\u3002\u56e0\u6b64\uff0c\u5f53\u60a8\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u907f\u5f00\u8fd9\u4e9b\u8001\u65e7\u7684Python\u7248\u672c\u3002</p> <p>\u8fd9\u4f1a\u662f\u4f60\u5728\u5f00\u53d1Python\u5e94\u7528\u65f6\u7684\u5c06\u4f1a\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a\u4f60\u60f3\u8981\u5f00\u53d1\u4e00\u4e2aPython\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f7f\u7528\u4e86\u6700\u65b0\u7684Python\u7248\u672c\uff0c\u6709\u7740\u5927\u91cf\u9177\u70ab\u7684\u65b0\u7279\u5f81\u548c\u65b0\u529f\u80fd\u3002\u4f46\u5f53\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u90e8\u7f72\u65f6\uff0c\u53ef\u80fd\u88ab\u90e8\u7f72\u5230\u5404\u79cd\u5404\u6837\u7684\u673a\u5668\u4e0a\uff0c\u8fd9\u4e9b\u673a\u5668\u4e0a\u7f3a\u7701\u5b89\u88c5\u7684Python\u7248\u672c\uff0c\u5e76\u4e0d\u662f\u4f60\u5f00\u53d1\u65f6\u6307\u5b9a\u7684\u7248\u672c\u3002\u5982\u679c\u5f3a\u884c\u5347\u7ea7\u7cfb\u7edf\u7f3a\u7701\u5b89\u88c5\u7684Python\u7248\u672c\uff0c\u5219\u53ef\u80fd\u4f1a\u7834\u574f\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\uff1b\u800c\u5982\u679c\u4e0d\u8fdb\u884c\u5347\u7ea7\uff0c\u5219\u53c8\u6ca1\u529e\u6cd5\u8fd0\u884c\u4f60\u7684\u7a0b\u5e8f\u3002</p> <p>\u5373\u4f7f\u76ee\u6807\u673a\u5668\u548c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u4e86\u540c\u6837\u7684Python\u7248\u672c\uff0c\u7c7b\u4f3c\u7684\u51b2\u7a81\u8fd8\u53ef\u80fd\u53d1\u751f\u5728\u5176\u5b83\u7ec4\u4ef6\u4e0a\u3002\u6bd4\u5982Django\u662fPython\u793e\u533a\u4e2d\u6700\u8d1f\u76db\u540d\u7684web\u5f00\u53d1\u6846\u67b6\u3002\u5b83\u4f9d\u8d56\u4e8eSQLAlchemy -- Python\u793e\u533a\u4e2d\u53e6\u4e00\u4e2a\u540c\u6837\u9887\u8d1f\u76db\u540d\u7684\u5f00\u6e90orm\u6846\u67b6\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e5f\u4f9d\u8d56\u4e8eSQLAlchemy\uff0c\u5e76\u4e14\u4f60\u4f7f\u7528\u4e86SQLAlchemy 1.4\u4ee5\u4e0a\u7684\u7248\u672c\uff0c\u800cDjango\u4f7f\u7528\u4e86\u5b83\u7684\u65e9\u671f\u7248\u672c\uff0c\u90a3\u4e48\u5f88\u4e0d\u5e78\uff0c\u8fd9\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5c06\u65e0\u6cd5\u5171\u7528\u540c\u4e00\u4e2aPython\u73af\u5883\uff1a SQLAlchemy 1.4\u76f8\u5bf9\u4e8e\u4e4b\u524d\u7684\u7248\u672c\uff0c\u662f\u5b8c\u5168\u4e0d\u517c\u5bb9\u7684\u7834\u574f\u6027\u66f4\u65b0\u3002</p> <p>\u8fd9\u7c7b\u95ee\u9898\u88ab\u79f0\u4e4b\u4e3a\u4f9d\u8d56\u5730\u72f1\u3002\u4f9d\u8d56\u5730\u72f1\u5e76\u4e0d\u662fPython\u72ec\u6709\u7684\u95ee\u9898\uff0c\u5b83\u662f\u6240\u6709\u7684\u8f6f\u4ef6\u7cfb\u7edf\u90fd\u4f1a\u9762\u4e34\u7684\u95ee\u9898\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#1","title":"1. \u4f9d\u8d56\u5730\u72f1","text":"<p>\u5728\u6784\u5efa\u8f6f\u4ef6\u7cfb\u7edf\u65f6\uff0c\u901a\u5e38\u90fd\u4f1a\u6d89\u53ca\u529f\u80fd\u590d\u7528\u7684\u95ee\u9898\u3002\u6bd5\u7adf\uff0c\u201c\u91cd\u65b0\u53d1\u660e\u8f6e\u5b50\u201d\u662f\u4e00\u79cd\u4e0d\u5fc5\u8981\u7684\u6d6a\u8d39\u3002\u529f\u80fd\u590d\u7528\u53ef\u80fd\u53d1\u751f\u5728\u6e90\u4ee3\u7801\u7ea7\u522b\u3001\u4e8c\u8fdb\u5236\u7ea7\u522b\u6216\u8005\u670d\u52a1\u7ea7\u522b\u3002\u6e90\u4ee3\u7801\u7ea7\u522b\u5c31\u662f\u5728\u6211\u4eec\u7684\u5de5\u7a0b\u4e2d\uff0c\u76f4\u63a5\u4f7f\u7528\u4ed6\u4eba\u7684\u4ee3\u7801\u6e90\u7801\uff1b\u4e8c\u8fdb\u5236\u7ea7\u522b\u662f\u6307\u5728\u6211\u4eec\u7684\u5e94\u7528\u4e2d\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff1b\u670d\u52a1\u7ea7\u522b\u7684\u590d\u7528\uff0c\u5219\u662f\u7a0b\u5e8f\u529f\u80fd\u4ee5\u670d\u52a1\u7684\u65b9\u5f0f\u72ec\u7acb\u8fd0\u884c\uff0c\u5176\u5b83\u5e94\u7528\u901a\u8fc7\u7f51\u7edc\u8bf7\u6c42\u6765\u4f7f\u7528\u8fd9\u79cd\u529f\u80fd\u3002</p> <p>\u5f53\u6211\u4eec\u4f7f\u7528\u4e8c\u8fdb\u5236\u7ea7\u522b\u7684\u590d\u7528\u65f6\uff0c\u5c31\u5e38\u5e38\u4f1a\u9047\u5230\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u3002\u6bd4\u5982\u5728\u4e0a\u9762Django\u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5411Django\u548c\u4f60\u7684\u5e94\u7528\u5206\u522b\u63d0\u4f9b\u4e0d\u540c\u7248\u672c\u7684SQLAlchemy\uff0c\u5219\u8fd9\u4e24\u4e2a\u5e94\u7528\u5c06\u65e0\u6cd5\u540c\u65f6\u8fd0\u884c\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u3002</p> <p>\u4f9d\u8d56\u5730\u72f1\u5e76\u4e0d\u662fPython\u72ec\u6709\u7684\u95ee\u9898\u3002\u6240\u6709\u7684\u7a0b\u5e8f\u5f00\u53d1\u8bed\u8a00\u90fd\u4f1a\u9047\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\u3002\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u5c31\u662f\u5c06\u7a0b\u5e8f\u7684\u8fd0\u884c\u73af\u5883\u5f7c\u6b64\u9694\u79bb\u8d77\u6765\u3002\u6bd4\u5982\uff0c\u5e94\u7528\u7a0b\u5e8f\u6240\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4e0d\u662f\u5b89\u88c5\u5230\u7cfb\u7edf\u76ee\u5f55\u4e2d\uff0c\u800c\u662f\u5b89\u88c5\u5230\u5355\u72ec\u7684\u76ee\u5f55\u4e2d\uff1a\u6bd4\u5982\uff0c\u968f\u7740\u8be5\u5e94\u7528\u7a0b\u5e8f\u4e00\u8d77\u5b89\u88c5\u5230\u8be5\u5e94\u7528\u7a0b\u5e8f\u6240\u5360\u7684\u76ee\u5f55\u4e2d\uff0c\u5e76\u4e14\uff0c\u53ea\u4ece\u8fd9\u4e2a\u76ee\u5f55\u4e2d\u52a0\u8f7d\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\u3002</p> <p>Python\u89e3\u91ca\u5668\u672c\u8eab\u4e5f\u53ef\u4ee5\u770b\u6210\u4e00\u4e2a\u666e\u901a\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u5b89\u88c5\u4e00\u4e2aPython\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u53ef\u4ee5\u5c06\u8be5\u7a0b\u5e8f\u4f9d\u8d56\u7684Python\u8fd0\u884c\u65f6\uff0c\u53ca\u76f8\u5173\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u90fd\u5b89\u88c5\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u76ee\u5f55\u4e2d\u3002\u8fd9\u6837\uff0c\u5f53\u6211\u4eec\u8fd0\u884c\u8be5\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5c31\u4ece\u8be5\u76ee\u5f55\u4e2d\u542f\u52a8Python\uff0c\u5982\u679cPython\u53ea\u4ece\uff08\u6216\u8005\u4f18\u5148\uff09\u8be5\u76ee\u5f55\u52a0\u8f7d\u7b2c\u4e09\u65b9\u5e93\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u67d0\u79cd\u7a0b\u5ea6\u7684\u9694\u79bb\u3002\u8fd9\u79cd\u601d\u60f3\uff0c\u5c31\u662f\u865a\u62df\u8fd0\u884c\u73af\u5883\u7684\u601d\u60f3\uff0c\u5b83\u662f\u89e3\u51b3Python\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u7684\u4e00\u4e2a\u4e3b\u8981\u65b9\u6cd5\u3002</p> <p>\u65e2\u7136\u6211\u4eec\u63d0\u5230\u4e86\u201c\u9694\u79bb\u201d\u4e00\u8bcd\uff0c\u6211\u4eec\u4e0d\u59a8\u518d\u7a0d\u7a0d\u5f15\u7533\u4e00\u4e0b\u3002\u5728\u7b2c\u4e8c\u7ae0\u6211\u4eec\u63d0\u5230\u4e86\u865a\u62df\u673a\u548cDocker\u5bb9\u5668\uff0c\u8fd9\u4e9b\u662f\u89e3\u51b3\u8d44\u6e90\u51b2\u7a81\uff0c\u5bf9\u8d44\u6e90\u8fdb\u884c\u9694\u79bb\u7684\u65b9\u6cd5\u3002\u73b0\u5728\uff0c\u901a\u8fc7\u5bb9\u5668\u4ee5(\u5fae)\u670d\u52a1\u7684\u65b9\u5f0f\u6765\u90e8\u7f72Python\u5e94\u7528\u7a0b\u5e8f\u4e5f\u8d8a\u6765\u8d8a\u5e38\u89c1\uff0c\u5176\u4e2d\u4e5f\u6709\u7b80\u5316\u5b89\u88c5\u73af\u5883\u3001\u907f\u514d\u4f9d\u8d56\u5730\u72f1\u7b49\u65b9\u9762\u7684\u8003\u8651\u3002</p> <p>\u5728\u8fd9\u4e00\u7ae0\u6211\u4eec\u4e3b\u8981\u8bb2\u5982\u4f55\u6784\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u6837\u53ef\u4ee5\u5b8c\u5168\u89e3\u51b3\u8fd0\u884c\u65f6\u4e0e\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u53ef\u80fd\u53d1\u751f\u7684\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u3002\u7136\u800c\uff0c\u4f9d\u8d56\u5730\u72f1\u8fd8\u6709\u5176\u5b83\u591a\u79cd\u8868\u73b0\u5f62\u5f0f\uff0c\u6211\u4eec\u540e\u9762\u8fd8\u4f1a\u5728\u8bb2\u8ff0Poetry\u90a3\u4e00\u7ae0\u518d\u63a2\u8ba8\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#2","title":"2. \u4f7f\u7528\u865a\u62df\u73af\u5883\u9003\u51fa\u4f9d\u8d56\u5730\u72f1","text":"<p>Python\u7684\u865a\u62df\u73af\u5883\u65b9\u6848\u53ef\u8c13\u6e90\u8fdc\u6d41\u957f\uff0c\u79cd\u7c7b\u7e41\u591a\u3002\u5982\u679c\u4f60\u63a5\u89e6Python\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\uff0c\u90a3\u4e48\u4f60\u5f88\u53ef\u80fd\u542c\u8bf4\u8fc7annaconda, virutalenv, venv, pip, pipenv, poetry, pyenv, pyvenv, pyenv-virtualenv, virtualenvwrapper, pyenv-virtualenvwrapper\u7b49\u76f8\u4f3c\u6982\u5ff5\u3002   </p> <p>Info</p> <p>\u5728Zen of Python\u4e4b\u4e2d\u63d0\u5230\u7684\u4e00\u4e2a\u91cd\u8981\u539f\u5219\u5c31\u662f\uff1a There should be one -- and preferably only one -- obvious way to do it. \u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053</p> <p>\u4ecePython\u7684\u865a\u62df\u73af\u5883\u89e3\u51b3\u65b9\u6848\u4e4b\u591a\u6765\u770b\uff0c\u8981\u8fbe\u5230\u8fd9\u6837\u7684\u5883\u754c\u4f3c\u4e4e\u662f\u56f0\u96be\u7684\u3002\u4eba\u4eec\u8bd5\u56fe\u5efa\u9020\u5df4\u522b\u5854\uff0c\u4f46\u4e0a\u5e1d\u4f1a\u6bc1\u706d\u5b83\u3002\u4e0d\u8fc7\uff0c\u7c7b\u4f3c\u7684\u56f0\u5883\u5e76\u975e Python \u72ec\u6709\u3002\u6bd4\u5982\uff0c Javascript \u5728\u5176\u9ad8\u6b4c\u731b\u8fdb\u3001\u653b\u57ce\u63a0\u5be8\u5f0f\u7684\u884c\u8fdb\u4e2d\uff0c\u81ea\u8eab\u7684\u8bed\u6cd5\u4e5f\u5728\u53d1\u751f\u5267\u70c8\u7684\u6539\u53d8\uff0c\u4ee5\u81f3\u4e8e\u6709\u4eba\u4e0d\u5f97\u4e0d\u5f00\u53d1\u4e00\u4e2a\u6a21\u5757\u6765\u7ffb\u8bd1\u4e0d\u540c\u7248\u7684 Javascript \u8bed\u6cd5\uff0c\u8fd9\u4e2a\u6a21\u5757\u5c31\u53eb Babel \uff08\u5df4\u522b\u5854\uff09\uff0c\u5012\u4e5f\u6070\u5982\u5176\u5206\u3002</p> <p>\u5728\u4e0a\u9762\u8fd9\u4e9b\u4ee4\u4eba\u773c\u82b1\u7f2d\u4e71\u7684\u8bcd\u8bed\u4e2d\uff0cAnnaconda(\u4ee5\u4e0b\u7b80\u79f0conda)\u548cVirtualenv\u662f\u4e00\u5bf9\u513f\u5bf9\u624b\uff0cPipenv\u5219\u548cPoetry\u76f8\u4e92\u7ade\u4e89\u3002\u800cVenv\u5219\u662f\u5176\u4e2d\u8840\u7edf\u6700\u4e3a\u7eaf\u6b63\u7684\u4e00\u4e2a\uff0c\u5f97\u5230\u4e86Python\u5b98\u65b9\u7684\u795d\u798f\u3002</p> <p>pipenv\u548cpoetry\uff0c\u5c3d\u7ba1\u5e38\u5e38\u88ab\u4eba\u5728\u8ba8\u8bba\u865a\u62df\u73af\u5883\u7684\u573a\u5408\u4e0b\u63d0\u8d77\uff0c\u4e5f\u786e\u5b9e\u4e0e\u865a\u62df\u73af\u5883\u76f8\u5173\uff0c\u4f46\u4ed6\u4eec\u6240\u505a\u7684\u5de5\u4f5c\u90fd\u8fdc\u8fdc\u8d85\u8fc7\u4e86\u865a\u62df\u73af\u5883\u672c\u8eab\u2014\u2014\u5b83\u4eec\u7684\u4e3b\u8981\u529f\u80fd\u662f\u63d0\u4f9b\u4f9d\u8d56\u7ba1\u7406\uff0cpoetry\u8fd8\u63d0\u4f9b\u4e86\u6784\u5efa\u548c\u6253\u5305\u529f\u80fd\uff08\u6211\u4eec\u5c06\u5728\u7b2c\u4e94\u7ae0\u2014\u2014Poetry\u90a3\u4e00\u7ae0\u4e2d\u6765\u8be6\u7ec6\u4ecb\u7ecd\uff09\u3002</p> <p>venv\u4e0d\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5de5\u5177\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u6a21\u5757\u3002venv\u662f\u4ecePython 3.8\u8d77\uff0c\u6807\u51c6\u5e93\u91cc\u63d0\u4f9b\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528<code>python -m venv</code>\u6765\u8fd0\u884c\u5b83\u3002\u5b83\u7684\u76ee\u6807\u4e0evirtualenv\u6bd4\u8f83\u63a5\u8fd1\uff0c\u4f46\u53ea\u63d0\u4f9b\u4e86virutalenv\u7684\u4e00\u4e2a\u547d\u4ee4\u5b50\u96c6\u3002\u7531\u4e8e\u5b83\u662f\u6807\u51c6\u5e93\u63d0\u4f9b\u7684\uff0c\u56e0\u6b64\u8bb8\u591a\u5de5\u5177\uff0c\u6bd4\u5982poetry, pyenv\u73b0\u5728\u90fd\u662f\u57fa\u4e8e\u5b83\u6765\u6784\u5efa\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u662f\u67d0\u4e2a\u5de5\u5177\u7684\u5f00\u53d1\u8005\uff0c\u6211\u60f3\u4f60\u9700\u8981\u638c\u63e1\u5b83\uff1b\u5426\u5219\uff0c\u4f60\u5c06\u5728\u4f7f\u7528poetry\u7b49\u5de5\u5177\u65f6\uff0c\u81ea\u7136\u800c\u7136\u5730\u63a5\u89e6\u548c\u4f7f\u7528\u5230\u5b83\uff0c\u4f46\u53ef\u80fd\u5e76\u4e0d\u77e5\u9053\uff0c\u5e55\u540e\u82f1\u96c4\u5176\u5b9e\u662fvenv\u3002</p> <p>conda\u548cVirtualenv\u90fd\u662f\u7528\u6765\u521b\u5efa\u548c\u7ba1\u7406Python\u865a\u62df\u73af\u5883\u7684\u5de5\u5177\uff0c\u6709\u7740\u76f8\u4f3c\u7684\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff1a</p> <ol> <li>Conda\u662f\u4e00\u4e2a\u591a\u8bed\u8a00\u3001\u8de8\u5e73\u53f0\u7684\u865a\u62df\u73af\u5883\u7ba1\u7406\u5668\uff0c\u800cVirtualenv\u5219\u53ea\u7528\u4e8ePython\u3002</li> <li>\u901a\u8fc7Conda\u53ef\u4ee5\u7ba1\u7406\uff08\u5b89\u88c5\u3001\u5347\u7ea7\uff09Python\u7248\u672c\uff0c\u800cvirtualenv\u5219\u6ca1\u6709\u8fd9\u4e2a\u80fd\u529b\u3002</li> <li>\u7f3a\u7701\u5b89\u88c5\u4e0b\uff0cconda\u4f1a\u5360\u7528\u5927\u7ea6100MB\u7684\u78c1\u76d8\u7a7a\u95f4\uff0c\u800cvirtualenv\u5219\u53ea\u9700\u8981\u5360\u7528\u66f4\u5c11\u7684\u7a7a\u95f4\uff08\u7ea610MB\uff09\u3002\u8fd9\u53ef\u80fd\u65e2\u662f\u4f18\u52bf\uff0c\u4e5f\u662f\u7f3a\u70b9\u3002virtualenv\u901a\u8fc7\u4f7f\u7528\u5bf9\u539f\u751f\u5e93\u7684\u7b26\u53f7\u94fe\u63a5\u6765\u51cf\u5c11\u5bf9\u786c\u76d8\u7a7a\u95f4\u7684\u4f7f\u7528\uff0c\u8fd9\u4f7f\u5f97\u5bf9\u539f\u751f\u5e93\u7684\u9694\u79bb\u5e76\u672a\u771f\u6b63\u5b9e\u73b0--\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e0d\u4ec5\u4ec5\u4f9d\u8d56Python\u5e93\uff0c\u8fd8\u4f9d\u8d56\u4e8e\u539f\u751f\u5e93\uff0c\u5219\u4ecd\u7136\u53ef\u80fd\u4ea7\u751f\u4f9d\u8d56\u51b2\u7a81\uff0c\u5bfc\u81f4\u4f60\u7684\u7a0b\u5e8f\u51fa\u73b0\u4e00\u4e9b\u5f88\u96be\u67e5\u627e\u539f\u56e0\u7684\u9519\u8bef\u3002\u800c\u5728conda\u865a\u62df\u73af\u5883\u4e2d\uff0c\u6240\u6709\u7684\u4f9d\u8d56\u90fd\u662f\u5b8c\u5168\u9694\u79bb\u7684\u3002</li> <li>\u7f3a\u7701\u5730\uff0cconda\u5bf9\u865a\u62df\u73af\u5883\u8fdb\u884c\u96c6\u4e2d\u5f0f\u7ba1\u7406\uff0c\u6240\u6709\u7684\u865a\u62df\u73af\u5883\u90fd\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u800cvirtualenv\u5219\u503e\u5411\u4e8e\u5c06\u865a\u62df\u73af\u5883\u653e\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u3002\u957f\u671f\u6765\u770b\uff0c\u975e\u96c6\u4e2d\u5f0f\u7ba1\u7406\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u5448\u788e\u7247\u5316\u800c\u96be\u4e8e\u88ab\u8ffd\u8e2a\u3002</li> </ol> <p>\u4e0a\u8ff0\u7b2c3\u70b9\u53ef\u80fd\u662f\u6700\u91cd\u8981\u7684\u5dee\u5f02\u3002\u6211\u4eec\u5f88\u96be\u4fdd\u8bc1Python\u5e94\u7528\u7a0b\u5e8f\u6c38\u8fdc\u53ea\u4f9d\u8d56\u4e8e\u7eaf\u7684Python\u5e93\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4e00\u4e9b\u6027\u80fd\u76f8\u5173\u7684\u6a21\u5757\uff0c\u5f80\u5f80\u662f\u7528c++\u6216\u8005\u5176\u5b83\u8bed\u8a00\u6765\u5f00\u53d1\u7684\u3002Lapack\uff08\u4e00\u4e2a\u5e38\u7528\u7684\u7ebf\u6027\u4ee3\u6570\u5e93\uff0cPython\u4e2d\u6700\u8457\u540d\u7684\u79d1\u5b66\u8ba1\u7b97\u5e93Numpy\u548cscipy\u90fd\u4f9d\u8d56\u4e8e\u6b64\uff09\u6216\u8005OpenSSL\u90fd\u662f\u5e38\u89c1\u7684\u4f8b\u5b50\u3002</p> <p>\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u53ea\u63a8\u8350\u4f7f\u7528Annaconda\u3002\u4f46\u5bf9virtualenv\u548cvenv\uff0c\u8bfb\u8005\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u5982\u679c\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u751f\u6210\u548c\u6784\u5efa\u865a\u62df\u73af\u5883\u7684\u5de5\u5177\uff08\u6216\u8005\u6a21\u5757\uff09\u2014\u2014 \u6bd4\u5982\uff0c\u4e3a\u4e00\u4e2a\u5bb9\u5668\u6784\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u6216\u8005\u4e3a\u5206\u5e03\u5f0f\u7a0b\u5e8f\u52a8\u6001\u6784\u5efa\u4e00\u4e2a\u8fdc\u7a0b\u7684\u865a\u62df\u73af\u5883--\u90a3\u4e48venv\u6216\u8005virtualenv\u5c06\u662f\u4e0d\u4e8c\u4e4b\u9009\uff0c\u56e0\u4e3aconda\u5e76\u4e0d\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5de5\u5177\u3002</p> <p>\u5bf9\u4e0a\u9762\u6ca1\u6709\u63d0\u5230\u7684\u90a3\u4e9b\u6280\u672f\uff0c\u6211\u4eec\u5c06\u4e0d\u4f1a\u5728\u672c\u4e66\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u5b83\uff0c\u8fd9\u91cc\u4ec5\u5bf9\u5b83\u4eec\u505a\u4e00\u4e2a\u6982\u62ec\u6027\u7684\u63cf\u8ff0\uff1a</p> <ol> <li>pyenv\u662f\u4e00\u4e2a\u811a\u672c\uff0c\u4e0d\u80fd\u5728windows\u73af\u5883\u4e0b\u4f7f\u7528\u3002\u5b83\u7684\u4f5c\u7528\u662f\u62e6\u622a\u4f60\u5bf9python\u5de5\u5177\u94fe\u7684\u8c03\u7528\uff0c\u4e3a\u4f60\u9009\u62e9\u6b63\u786e\u7684python\u7248\u672c\u3002\u6b64\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u5b89\u88c5\u591a\u4e2a\u7248\u672c\u7684python\u3002\u5b83\u7684\u529f\u80fd\u5b8c\u5168\u53ef\u4ee5\u8bf8\u5982annaconda\u4e4b\u7c7b\u7684\u5de5\u5177\u66ff\u4ee3\u3002\u4f46\u5982\u679c\u4f60\u4f7f\u7528virtualenv\u7684\u8bdd\uff0c\u90a3\u4e48\u5f88\u6709\u53ef\u80fd\u4f60\u4ecd\u7136\u9700\u8981\u4f7f\u7528pyenv\u6765\u5b89\u88c5\u548c\u9009\u62e9python\u7248\u672c\u3002\u5b83\u76ee\u524d\u5728github\u4e0a\u6709\u8d85\u8fc728k\u7684star\u3002</li> <li>pyenv-virtualenv\u5219\u662fpyenv\u7684\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5b83\u5c06pyenv\u548cvirtualenv\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u4ece\u800c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u65b9\u4fbf\u5730\u4f7f\u7528\u4e24\u8005\u7684\u547d\u4ee4\u3002\u5982\u679c\u4e0d\u5728\u4e4e\u8fd9\u79cd\u4fbf\u5229\u6027\uff0c\u4e5f\u53ef\u4ee5\u5206\u522b\u4f7f\u7528pyenv\u548cvirtualenv\u3002</li> <li>Virtualenv wrapper\u662fvirtualenv\u7684\u4e00\u4e2a\u6269\u5c55\u96c6\uff0c\u63d0\u4f9b\u4e86\u8bf8\u5982mkvirtualenv, lssitepackages, workon\u7b49\u547d\u4ee4\u3002workon\u662f\u7528\u6765\u5728\u4e0d\u540c\u7684virtualenv\u76ee\u5f55\u4e2d\u8fdb\u884c\u5207\u6362\u7684\u547d\u4ee4\u3002</li> <li>pyenv-virutalenvwrapper\u5219\u662fpyenv\u7684\u53e6\u4e00\u4e2a\u63d2\u4ef6\uff0c\u7531pyenv\u7684\u4f5c\u8005\u5f00\u53d1\uff0c\u5b83\u5c06pyenv\u548cvirtualenvwrapper\u7684\u529f\u80fd\u96c6\u6210\u5728\u4e00\u8d77\u3002\u57fa\u4e8e\u8fd9\u4e9b\u6269\u5c55\uff0cvirtualenv\u5c31\u62e5\u6709\u4e86\u7c7b\u4f3cconda\u7684\u5168\u90e8\u529f\u80fd\u3002</li> <li>pyvenv\uff08\u8bf7\u4e0d\u8981\u4e0epyenv\u76f8\u6df7\u6dc6\uff09\u662f\u4ec5\u5728python3.3\u5230python3.7\u624d\u6709\u7684\u4e00\u4e2a\u5b98\u65b9\u811a\u672c\uff0c\u4f46\u4ecepython3.8\u5f00\u59cb\uff0c\u5b83\u5df2\u7ecf\u88ab\u6807\u51c6\u5e93venv\u4ee3\u66ff\u4e86\u3002</li> </ol> <p>\u5728\u8bfb\u8fc7\u4e0a\u9762\u8fd9\u6bb5\u6587\u5b57\u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u4e4b\u540e\u5b8c\u5168\u5ffd\u7565\u8fd9\u4e9b\u5947\u5947\u602a\u602a\u7684\u65b9\u8a00\u3002\u51e0\u4e4e\u4f60\u9700\u8981\u7684\u4efb\u4f55\u7ba1\u7406\u865a\u62df\u73af\u5883\u7684\u529f\u80fd\uff0c\u90fd\u53ef\u4ee5\u4ece\u672c\u4e66\u63a8\u8350\u7684\u65b9\u6848\u4e2d\u5f97\u5230\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#21-anaconda","title":"2.1. Anaconda\uff1a\u4e00\u7ad9\u5f0f\u7ba1\u7406\u7684\u865a\u62df\u73af\u5883","text":"<p>Anaconda\u5305\u63fd\u4e86\u4ece\u5b89\u88c5python\u7248\u672c\u3001\u521b\u5efa\u865a\u62df\u73af\u5883\u548c\u5207\u6362\u865a\u62df\u73af\u5883\u7684\u6240\u6709\u529f\u80fd\u3002\u5b83\u7684\u5b98\u65b9\u7f51\u7ad9\u662fAnaconda.org\u3002\u5b83\u662f\u6240\u6709\u4ece\u4e8b\u6570\u636e\u79d1\u5b66\u6216\u8005\u6df1\u5ea6\u5b66\u4e60\u7684\u4eba\u7684\u5f53\u7136\u4e4b\u9009\u3002\u5b83\u81ea\u5e26\u7684\u5305\u7ba1\u7406\u7cfb\u7edf\uff0c\u63d0\u4f9b\u4e86\u8bb8\u591a\u6d41\u884c\u7684\u673a\u5668\u5b66\u4e60\u5e93\u9884\u7f16\u8bd1\u7248\u672c\uff0c\u56e0\u6b64\u4f60\u4e0d\u7528\u81ea\u5df1\u53bb\u719f\u6089gcc\u548cc/c++\u4ee3\u7801\u7684\u7f16\u8bd1\u8fc7\u7a0b\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#211-anaconda","title":"2.1.1. \u5b89\u88c5Anaconda","text":"<p>\u5b89\u88c5Anaconda\u8bf7\u4ece\u8fd9\u91cc^anaconda\u9875\u9762\u4e0b\u8f7d\u5b89\u88c5\u5305\u3002\u9664\u975e\u60a8\u4f7f\u7528Anaconda\u8fdb\u884c\u79d1\u5b66\u8ba1\u7b97\uff0c\u5426\u5219\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684miniconda^miniconda\u5b89\u88c5\u5305\u3002</p> <p>\u4ee5Ubuntu\u4e3a\u4f8b\uff0c\u65e0\u8bba\u662fAnanconda\u8fd8\u662fMiniconda\uff0c\u5176\u5b89\u88c5\u6587\u4ef6\u90fd\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u5b89\u88c5\u6570\u636e\u6587\u4ef6\u7684shell\u811a\u672c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7wget\u6216\u8005curl\u5c06\u5176\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7136\u540e\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u9996\u5148\u8981\u6c42\u4f60\u9605\u8bfb\u5e76\u63a5\u53d7Anaconda\u7684\u670d\u52a1\u6761\u6b3e\uff0c\u7136\u540e\u9009\u62e9\u5c06\u8981\u5b89\u88c5\u7684\u76ee\u5f55\u3002\u5728\u5b8c\u6210\u6587\u4ef6\u62f7\u8d1d\u4e4b\u540e\uff0c\u4f1a\u8be2\u95ee\u4f60\u662f\u5426\u8981\u8fd0\u884cconda init\u4ee5\u521d\u59cb\u5316conda\u73af\u5883\uff0c\u63a8\u8350\u9009\u62e9yes\uff0c\u8fd9\u6837conda\u4f1a\u4fee\u6539\u4f60\u7684shell\u521d\u59cb\u5316\u811a\u672c\u3002\u8981\u4f7f\u7528conda\uff0c\u8fd9\u4e00\u6b65\u662f\u5fc5\u987b\u7684\u3002</p> <p>conda\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5c31\u4f1a\u5728\u4f60\u7684\u7cfb\u7edf\u4e0a\u751f\u6210\u7b2c\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u79f0\u4e3a<code>base</code>\u3002\u73b0\u5728\u53ef\u4ee5\u5217\u4e00\u4e0b\u521a\u521a\u5b89\u88c5\u4e86conda\u7684\u76ee\u5f55\uff0c\u8fd9\u91cc\u9762\u6700\u91cd\u8981\u7684\u76ee\u5f55\u662fenvs\uff0c\u540e\u9762\u521b\u5efa\u7684\u65b0\u7684python\u865a\u62df\u73af\u5883\u90fd\u4f1a\u5728\u8fd9\u91cc\u3002\u4f46\u73b0\u5728\u5b83\u662f\u7a7a\u7684\uff0c\u5c3d\u7ba1\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u540d\u4e3abase\u7684\u865a\u62df\u73af\u5883\uff0c\u4f46\u8fd9\u4e2a\u865a\u62df\u73af\u5883\uff0c\u6307\u5411\u7684\u662f\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684/bin\u76ee\u5f55\u4e0b\u7684python\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#212-conda","title":"2.1.2. \u914d\u7f6econda\u73af\u5883","text":"<p>conda\u5b89\u88c5\u540e\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u65e0\u987b\u914d\u7f6e\u5373\u53ef\u4f7f\u7528\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u6216\u8005\u53d8\u66f4conda\u6e90\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\uff0c\u5219\u9700\u8981\u914d\u7f6econda\u3002</p> <p>conda\u7684\u914d\u7f6e\u6587\u4ef6\u662f\u7528\u6237\u76ee\u5f55\u4e0b\u7684.condarc\uff0c\u5b83\u662f\u4e00\u4e2aYAML\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u76f4\u5230\u4f60\u7b2c\u4e00\u6b21\u8c03\u7528conda config\u65f6\u624d\u4f1a\u4ea7\u751f\uff0c\u6bd4\u5982\uff0c\u589e\u52a0\u4e00\u4e2aconda\u6e90\uff1a</p> <pre><code>conda config --add channels conda-forge\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7f16\u8f91.condarc\u6587\u4ef6: .condarc<pre><code>channels:\n  - https://mirrors.aliyun.com/anaconda/pkgs/free/\n  - https://mirrors.aliyun.com/anaconda/pkgs/main/\n  - file:///some/local/directory\n  - defaults\nproxy_servers:\n    http: http://user:pass@corp.com:8080\n    https: https://user:pass@corp.com:8080\n    ssl_verify: False\n</code></pre> \u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u9996\u5148\u914d\u7f6e\u4e86conda\u6e90\u3002\u6211\u4eec\u6dfb\u52a0\u4e86\u56fd\u5185\u5e38\u7528\u7684\u963f\u91cc\u955c\u50cf\uff0c\u5e76\u4e14\u6dfb\u52a0\u4e86\u4e00\u4e2a\u672c\u5730\u76ee\u5f55\u3002\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e9b\u5185\u90e8\u5b89\u88c5\u5305\uff0c\u5c31\u53ef\u4ee5\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u3002\u5f53conda\u65e0\u6cd5\u4ece\u963f\u91cc\u955c\u50cf\u670d\u52a1\u5668\u4e0a\u627e\u5230\u8fd9\u4e9b\u5305\u65f6\uff08\u663e\u7136\u4f1a\u627e\u4e0d\u5230\uff09\uff0c\u5c31\u4f1a\u641c\u7d22\u8fd9\u4e2a\u76ee\u5f55\u3002\u4e0a\u9762\u6240\u6709\u7684\u8def\u5f84\u90fd\u5931\u6548\u65f6\uff0cconda\u6700\u540e\u4f1a\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u7684\u6e90\u6765\u641c\u7d22\u3002\u8fd9\u79cd\u60c5\u51b5\u591a\u89c1\u4e8e\u67d0\u4e2a\u5305\u6709\u4e86\u6700\u65b0\u7684\u7248\u672c\uff0c\u4f46\u955c\u50cf\u670d\u52a1\u5668\u8fd8\u6ca1\u6709\u540c\u6b65\u8fc7\u53bb\u7684\u60c5\u5f62\u3002</p> <p>\u6709\u65f6\u5019\u8bbf\u95eeconda\u7684\u5b98\u65b9\u6e90\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u6765\u8fdb\u884c\u52a0\u901f\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86\u5982\u4f55\u8fdb\u884c\u8fd9\u4e9b\u914d\u7f6e\u3002\u6709\u4e00\u4e9b\u4ee3\u7406\u670d\u52a1\u5668\u5bf9ssl\u9a8c\u8bc1\u652f\u6301\u7684\u4e0d\u662f\u592a\u597d\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u9700\u8981\u8bbe\u7f6essl_verify\u4e3aFalse,\u6b63\u5982\u4ee5\u4e0a\u793a\u4f8b\u6240\u793a\u3002</p> <p>conda\u8fd8\u5141\u8bb8\u5176\u5b83\u4e00\u4e9b\u914d\u7f6e\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u63a8\u8350\u8bfb\u8005\u8fdb\u4e00\u6b65\u9605\u8bfb\u914d\u7f6econda^config\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#213","title":"2.1.3. \u521b\u5efa\u548c\u7ba1\u7406\u865a\u62df\u73af\u5883","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u901a\u8fc7conda\u7684\u4e00\u4e9b\u547d\u4ee4\u6765\u770b\u770b\u5982\u4f55\u7ba1\u7406\u5b83\u3002</p> <p><pre><code>$ conda create -n test python=3.8\n</code></pre> \u4e0a\u8ff0\u547d\u4ee4\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3atest\u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u5b89\u88c5python=3.8\u3002\u73b0\u5728\u6211\u4eec\u67e5\u770b\u4e00\u4e0b\uff0c\u5f53\u524d\u7cfb\u7edf\u4e2d\uff0c\u90fd\u5b58\u5728\u54ea\u4e9b\u865a\u62df\u73af\u5883\uff1a</p> <p><pre><code>$ conda env list\n\n# \u8f93\u51fa\u5e94\u8be5\u7c7b\u4f3c\u4e8e\uff1a\n# conda environments:\n#\nbase           /root/miniconda3\ntest           /root/miniconda3/envs/test\n</code></pre> \u4e0a\u9762\u7684\u8f93\u51fa\u8868\u660e\uff0c\u6211\u4eec\u5728/root\u4e0b\u5b89\u88c5\u4e86\u4e00\u4e2aminiconda\uff0c\u5e76\u4e14\u8fd8\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3atest\u7684\u865a\u62df\u73af\u5883\u3002\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u7684\u6587\u4ef6\u5939\u662f/root/miniconda3/envs/test\u3002</p> <p>\u73b0\u5728\u8ba9\u6211\u4eec\u5207\u6362\u5230\u65b0\u521b\u5efa\u7684\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\uff1a <pre><code>$ conda activate test\n</code></pre> \u73b0\u5728\uff0c\u4f60\u7684shell\u63d0\u793a\u7b26\u5e94\u8be5\u4fee\u6539\u4e3a\u7c7b\u4f3c\u4e8e\uff1a <pre><code>(test) root@ubuntu:~# \n</code></pre> \u6211\u4eec\u7684\u6d4b\u8bd5\u662f\u5728\u4e00\u4e2aubuntu\u865a\u62df\u673a\u4e0a\uff0c\u76f4\u63a5\u4f7f\u7528\u4e86root\u8d26\u6237\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002\u6240\u4ee5\uff0c\u4e0a\u9762\u7684\u63d0\u793a\u7b26\u4e2d\uff0croot\u662f\u5f53\u524d\u7528\u6237\u540d\u3002\u5728\u5f53\u524d\u7528\u6237\u540d\u4e4b\u524d\u7684(test)\uff0c\u8868\u660e\u6211\u4eec\u5f53\u524d\u5904\u5728test\u865a\u62df\u73af\u5883\u4e2d\u3002</p> <p>\u8981\u5f80\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u4e00\u4e2a\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528conda install\u547d\u4ee4\uff1a <pre><code>$ conda install PACKAGENAME\n</code></pre></p> <p>\u73b0\u5728\uff0c\u5047\u8bbe\u6211\u4eec\u8981\u79fb\u9664\u8fd9\u4e2a\u865a\u62df\u73af\u5883\uff1a <pre><code># \u9000\u51fa\u5f53\u524d\u7684\u865a\u62df\u73af\u5883test\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5220\u9664\u5b83\n$ conda deactivate\n$ conda env remove --name test\n</code></pre> \u4e0a\u8ff0\u547d\u4ee4\u4e0d\u4f1a\u7ed9\u4f60\u786e\u8ba4\u7684\u673a\u4f1a\uff0c\u6240\u4ee5\uff0c\u5728\u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u524d\uff0c\u5fc5\u987b\u5c0f\u5fc3\u3002\u5f53\u7136\uff0cconda\u8fd9\u6837\u8bbe\u8ba1\u5e76\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u865a\u62df\u73af\u5883\u672c\u8eab\u5c31\u5e94\u8be5\u662f\u53ef\u4ee5\u968f\u65f6\u521b\u5efa\u548c\u968f\u65f6\u9500\u6bc1\u7684\u3002\u5982\u679c\u4e0d\u5c0f\u5fc3\u5220\u9664\u9519\u8bef\uff0c\u90a3\u4e48\u91cd\u5efa\u4e00\u4e2a\u5c31\u597d\u4e86\u3002\u540e\u6094\u836f\u4e00\u76f4\u90fd\u5728\u3002</p> <p>\u5728\u7ed3\u675f\u8fd9\u4e00\u8282\u5185\u5bb9\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u60f3\u4ecb\u7ecd\u4e00\u4e9b\u9ad8\u7ea7\u4f7f\u7528\u65b9\u6cd5\uff0c\u638c\u63e1\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u4f1a\u5728\u51fa\u73b0\u7591\u96be\u95ee\u9898\u65f6\uff0c\u66f4\u52a0\u5bb9\u6613\u89e3\u51b3\u95ee\u9898\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7conda info\u547d\u4ee4\u6765\u68c0\u67e5conda\u5b89\u88c5\u7684\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff1a <pre><code>$ conda info\n\n     active environment : base\n    active env location : /root/miniconda3\n       user config file : /root/.condarc\n          conda version : 4.13.0\n         python version : 3.8.12.final.0\n       base environment : /root/miniconda3  (writable)\n      conda av data dir : /root/miniconda3/etc/conda\n           channel URLs : https://mirrors.aliyun.com/anaconda/pkgs/main/linux-64\n                          https://mirrors.aliyun.com/anaconda/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/main/linux-64\n                          https://repo.anaconda.com/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/r/linux-64\n                          https://repo.anaconda.com/pkgs/r/noarch\n          package cache : /root/miniconda3/pkgs\n                          /root/.conda/pkgs\n       envs directories : /root/miniconda3/envs\n                          /root/.conda/envs\n</code></pre> \u4e0a\u9762\u7684\u5185\u5bb9\u662fconda info\u7684\u8f93\u51fa\uff08\u4e3a\u4e86\u7b80\u6d01\u8d77\u89c1\uff0c\u5220\u6389\u4e86\u4e00\u4e9b\u4e0d\u91cd\u8981\u7684\u5185\u5bb9\uff09\uff0c\u5b83\u63ed\u793a\u4e86\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff1a</p> <ol> <li>\u5f53\u524d\u6211\u4eec\u5904\u4e8ebase\u865a\u62df\u73af\u5883\u4e0b\u3002\u8fd9\u662f\u5f53\u4f60\u5b89\u88c5\u4e86conda\u4e4b\u540e\uff0c\u5c31\u9ed8\u8ba4\u5b58\u5728\u7684\u4e00\u4e2a\u865a\u62df\u73af\u5883\u3002\u5b83\u7684\u6587\u4ef6\u76ee\u5f55\u662f/root/miniconda3\u3002\u5982\u679c\u4f60\u662f\u5728test\u865a\u62df\u73af\u5883\u4e0b\uff0c\u5219active env location\u5e94\u8be5\u6307\u5411/root/miniconda3/envs/test</li> <li>\u914d\u7f6e\u6587\u4ef6\u5728/root/.condarc\u4e0b\u3002\u524d\u9762\u6211\u4eec\u4ecb\u7ecd\u914d\u7f6econda\u65f6\uff0c\u5df2\u7ecf\u7528\u8fc7\u8fd9\u4e2a\u6587\u4ef6\u4e86\uff0c\u4f46\u662f\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u5728\u90a3\u91cc\u5e76\u6ca1\u6709\u544a\u8bc9\u8bfb\u8005\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002\u73b0\u5728\u4f60\u5c31\u77e5\u9053\uff0c\u5982\u679c\u4e0d\u6e05\u695aconda\u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528conda info\u547d\u4ee4\u6765\u67e5\u770b\u3002</li> <li>\u4e0a\u8ff0\u8f93\u51fa\u8fd8\u663e\u793a\u4e86conda\u6e90\u7684\u914d\u7f6e\u3002</li> <li>conda\u4e0b\u8f7d\u5b89\u88c5\u5305\u65f6\uff0c\u4f1a\u5c06\u5176\u7f13\u5b58\u3002package cache\u544a\u8bc9\u6211\u4eecconda\u7f13\u5b58\u5b89\u88c5\u5305\u7684\u4f4d\u7f6e\u3002\u5f53\u6211\u4eec\u53d1\u73b0\u5b89\u88c5\u5305\u7684\u884c\u4e3a\u4e0d\u6b63\u5e38\u65f6\uff0c\u6709\u53ef\u80fd\u8981\u6e05\u9664\u8fd9\u4e2a\u7f13\u5b58\u3002</li> <li>\u6700\u540e\uff0cenvs directories\u544a\u8bc9\u6211\u4eec\uff0c\u6240\u6709\u865a\u62df\u73af\u5883\u7684\u6587\u4ef6\u76ee\u5f55\u4f4d\u7f6e\u4f55\u5728\u3002\u6211\u4eec\u53ef\u4ee5\u5217\u4e00\u4e0b/root/miniconda3/envs\u76ee\u5f55\uff1a <pre><code>ls /root/miniconda3/envs\n# \u8f93\u51fa\u4e2d\u5305\u542btest\nls /root/miniconda3/envs/test\n# \u8f93\u51fa\u4e2d\u5c06\u5305\u542b\u4ee5\u4e0b\u91cd\u8981\u76ee\u5f55\uff1a\nbin # \u5728bin\u76ee\u5f55\u4e0b\uff0c\u5b58\u653e\u6709python, pip\u7b49\u91cd\u8981\u547d\u4ee4\nlib # \u5728lib\u4e0b\uff0c\u5b58\u653e\u6709python3.x\u76ee\u5f55\uff0csite-packages\u7b49\u5b89\u88c5\u5305\u5c06\u6700\u7ec8\u5b89\u88c5\u5230\u8fd9\u91cc\u3002\n</code></pre></li> </ol> <p>\u53e6\u4e00\u4e2a\u5bf9\u67e5\u9519\u6709\u7528\u7684\u91cd\u8981\u547d\u4ee4\uff0c\u662fconda list\u3002\u5b83\u5c06\u5217\u51fa\u5f53\u524dconda\u73af\u5883\u4e0b\u5df2\u5b89\u88c5\u7684\u5e93\uff08package\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#214","title":"2.1.4. \u51e0\u4e2a\u5e38\u89c1\u95ee\u9898","text":"<ol> <li>\u53ef\u4ee5\u91cd\u547d\u540d\u4e00\u4e2a\u865a\u62df\u73af\u5883\u5417\uff1f \u4ececonda 4.14\u8d77\uff0cconda\u652f\u6301\u91cd\u547d\u540d\u865a\u62df\u73af\u5883\uff1a <pre><code>$ conda rename -n old_name -d new_name\n</code></pre> \u4e0d\u8fc7\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5176\u5b9e\u53ea\u662fconda create\u548cconda remove\u7684\u7b80\u5355\u7ec4\u5408\uff0c\u6240\u4ee5\uff0c\u5728\u65e7\u7684conda\u7248\u672c\u4e0b\uff0c\u4f60\u53ef\u4ee5\uff1a <pre><code>$ conda create --name new_name --clone old_name\n$ conda env remove --name old_name\n</code></pre></li> <li>\u5982\u4f55\u8ffd\u8e2a\u4e00\u4e2a\u865a\u62df\u73af\u5883\u7684\u53d8\u66f4\uff1f \u8fd9\u662fconda\u63d0\u4f9b\u7684\u4e00\u4e2a\u6709\u7528\u7684\u529f\u80fd\u4e4b\u4e00\uff0c\u5373\u53ef\u4ee5\u8ffd\u8e2a\u4e00\u4e2a\u865a\u62df\u73af\u5883\u7684\u53d8\u66f4\u5386\u53f2\uff1a <pre><code># \u5207\u6362\u5230\u5173\u6ce8\u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n$ conda list --revisions\n\n# \u6062\u590d\u53d8\u66f4\u5230\u67d0\u4e2a\u955c\u50cf\u70b9\n$ conda install --revision 2\n</code></pre> \u6ce8\u610f\u533a\u5206conda list\u4e0econda env list\u3002\u540e\u8005\u662f\u5217\u51fa\u865a\u62df\u73af\u5883\uff0c\u524d\u8005\u5219\u662f\u5217\u51fa\u5f53\u524d\u865a\u62df\u73af\u5883\u91cc\u5b89\u88c5\u7684packages\u548c\u7248\u672c\u3002</li> </ol> <p>\u5982\u679c\u60f3\u5168\u9762\u800c\u5feb\u901f\u5730\u4e86\u89e3conda\u547d\u4ee4\uff0c\u53ef\u4ee5\u53c2\u8003conda\u5c0f\u6284^cheatsheet\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#22-pythonpip","title":"2.2. \u8f7b\u91cf\u7684Python\u5305\u5b89\u88c5\u5de5\u5177Pip","text":"<p>\u5728\u4e0a\u4e00\u8282\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5982\u4f55\u5f80\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u7a0b\u5e8f\u5e93\uff1a <pre><code>$ conda install PACKAGENAME\n</code></pre> \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528pip\u6765\u5b89\u88c5\u7a0b\u5e8f\u5e93\uff1a <pre><code>$ pip install PACKAGENAME\n</code></pre> \u5b9e\u9645\u4e0a\uff0c\u4ee5\u60a8\u524d\u9762\u521b\u5efa\u7684test\u73af\u5883\u4e3a\u4f8b\uff0cconda\u5df2\u7ecf\u628apip\u5b89\u88c5\u5230\u4e86/root/miniconda3/test/bin\u76ee\u5f55\u4e0b\uff1a <pre><code>$ ls /root/miniconda3/envs/test/bin\n</code></pre></p> <p>Pip\u6709\u5f88\u591a\u6709\u7528\u7684\u529f\u80fd\uff0c\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e9b\uff1a 1.  \u4ecewheel\u6587\u4ef6\u6216\u8005github\u8fdb\u884c\u5b89\u88c5\u3002 2.  \u4ece\u672c\u5730\u6587\u4ef6\u76ee\u5f55\u8fdb\u884c\u5b89\u88c5\u3002\u8fd9\u5728\u5f00\u53d1\u8c03\u8bd5\u9636\u6bb5\u4e2d\u975e\u5e38\u6709\u7528\u3002\u5b83\u7684\u547d\u4ee4\u662f pip install -e path/to/your/source\u3002\u8fd9\u91cc\u7684 \u2018-e\u2019 \u662f\u5173\u952e\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u6211\u4eec\u6bcf\u4e00\u6b21\u5bf9\u6e90\u4ee3\u7801\u7684\u4fee\u6539\uff0c\u90fd\u4f1a\u81ea\u52a8\u751f\u6548\uff0c\u800c\u4e0d\u518d\u6b21\u5b89\u88c5\u3002 3.  \u4ec5\u4e0b\u8f7dwheel\u6587\u4ef6\uff0c\u800c\u4e0d\u8fdb\u884c\u5b89\u88c5\u3002 4.  \u5b89\u88c5\u975e\u6b63\u5f0f\u53d1\u5e03\u7684\u6587\u4ef6\uff0c\u6bd4\u5982\u67d0\u4e2aalpha\u7248\u672c\u3002\u9700\u8981\u4f7f\u7528\u9009\u9879\u2019--pre\u2019\u3002 \u5982\u679c\u6211\u4eec\u6267\u884cpip\u5b89\u88c5\u547d\u4ee4\u65f6\uff0c\u63d0\u793a\u627e\u4e0d\u5230\u67d0\u4e2a\u5305\uff0c\u5728\u6392\u9664\u4e86\u952e\u5165\u9519\u8bef\u4e4b\u540e\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u662f\u5728\u5f53\u524d\u4f7f\u7528\u7684Python\u7248\u672c\u4e0b\uff0c\u4e0d\u5b58\u5728\u8be5\u5305\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#23-vs-code","title":"2.3. \u914d\u7f6eVS Code\u4e2d\u7684\u89e3\u91ca\u5668","text":"<p>\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5\u4e86python\u3002\u4f46\u8981\u5728VS Code\u4e0b\u5f00\u53d1python\u5e94\u7528\u7a0b\u5e8f\uff0c\u6211\u4eec\u8fd8\u5f97\u5728VS Code\u4e2d\u5b8c\u6210\u76f8\u5173\u7684\u914d\u7f6e\u3002</p> <p>\u5728VS Code\u4e2d\uff0c\u6253\u5f00\u547d\u4ee4\u9762\u677f(\u5728mac\u4e0b\u662fcmd+shift+p, \u5176\u5b83\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u662fctrl + shift + p)\uff0c\u8f93\u5165 Python: select Interpreter\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u56fe\u6240\u793a\u7684\u5217\u8868\uff08\u60a8\u7684\u7535\u8111\u4e0a\u663e\u793a\u4f1a\u6709\u6240\u4e0d\u540c\uff09\uff1a</p> <p></p> <p>\u5982\u679c\u8981\u9009\u62e9\u524d\u9762\u521b\u5efa\u7684test\u73af\u5883\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u8fd9\u91cc\u8f93\u5165\uff1a <pre><code>/root/miniconda3/envs/test/bin/python\n</code></pre></p> <p>\u6b64\u5916\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728VS Code\u7684\u72b6\u6001\u680f\u4e2d\uff0c\u5bfb\u627e\u7c7b\u4f3c\u4e0b\u9762\u7684\u63d0\u793a\u6587\u5b57\uff1a</p> <p> \u7136\u540e\u70b9\u51fb\u5b83\uff0c\u4e5f\u53ef\u8fdb\u5165\"python: Select Interpreter\"\u83dc\u5355\u3002</p> <p>\u5927\u529f\u544a\u6210\uff01</p> <p>\u81f3\u6b64\uff0c\u60a8\u5c31\u5b8c\u6210\u4e86\u6700\u57fa\u7840\u7684\u5f00\u53d1\u73af\u5883\u8bbe\u7f6e\uff1aIDE\u5df2\u7ecf\u5b89\u88c5\u597d\uff0c\u5e76\u4e14\u8981\u4f7f\u7528\u7684python\u7248\u672c\u4e5f\u5df2\u7ecf\u6307\u5b9a\uff01\u73b0\u5728\uff0c\u60a8\u5c31\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6700\u7b80\u5355\u7684python\u7a0b\u5e8f\uff1a helloworld.py<pre><code>print(\"Hello World\")\n</code></pre> \u628a\u8fd9\u4e2a\u7a0b\u5e8f\u5b58\u4e3ahelloworld.py\uff0c\u7136\u540e\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e0b\uff0c\u901a\u8fc7<code>python helloworld.py</code>\u6765\u8fd0\u884c\u5b83\uff01</p>"},{"location":"articles/python/best-practice-python/chap04/","title":"1. \u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":"<p>\u901a\u8fc7\u524d\u4e09\u7ae0\u7684\u5b66\u4e60\uff0c\u6211\u4eec\u4e86\u89e3\u4e86\u5982\u4f55\u6784\u5efa\u5f00\u53d1\u73af\u5883\uff0c\u5e76\u4e14\u4e5f\u5b8c\u6210\u4e86\u4e00\u4e2a\u6700\u7b80\u5355\u7684 python \u7a0b\u5e8f \u2014\u2014 Hello World\u3002</p> <p>\u60a8\u53ef\u80fd\u5df2\u7ecf\u610f\u8bc6\u5230\uff0c\u5373\u4f7f\u6487\u5f00\u5176\u7b80\u964b\u7684\u529f\u80fd\u4e0d\u8bf4\uff0c\u5728\u5176\u5b83\u65b9\u9762\uff0c\u5b83\u4e5f\u6709\u660e\u663e\u7684\u4e0d\u8db3\uff1a</p> <ol> <li>\u4e00\u822c\u800c\u8a00\uff0c\u7a0b\u5e8f\u7684\u4f7f\u7528\u8005\u4f1a\u9700\u8981\u5e2e\u52a9\u6587\u6863\uff0c\u4e5f\u9700\u8981\u4e86\u89e3\u5173\u4e8e\u7248\u6743\u3001\u4f5c\u8005\u7b49\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5e94\u8be5\u5982\u4f55\u63d0\u4f9b\uff1f</li> <li>\u6ca1\u6709\u4efb\u4f55\u7a0b\u5e8f\u80fd\u591f\u907f\u514d bug\u3002\u60a8\u53ef\u80fd\u5df2\u7ecf\u542c\u8bf4\uff0c\u8981\u51cf\u5c11 bug\uff0c\u7a0b\u5e8f\u5c31\u5fc5\u987b\u7ecf\u8fc7\u7cfb\u7edf\u548c\u8be6\u5c3d\u7684\u6d4b\u8bd5\u3002\u90a3\u4e48\u6d4b\u8bd5\u4ee3\u7801\u5e94\u8be5\u5e94\u8be5\u5982\u4f55\u7f16\u5199\u548c\u7ec4\u7ec7\uff1f</li> <li>\u7a0b\u5e8f\u5e94\u8be5\u4ee5\u53ef\u5b89\u88c5\u5305\u7684\u5f62\u5f0f\u53d1\u5e03\u51fa\u53bb\uff0c\u800c\u4e0d\u662f\u4ee5\u6e90\u4ee3\u7801\u7684\u65b9\u5f0f\u4ea4\u4ed8\u3002Hello World \u5c0f\u7a0b\u5e8f\u663e\u7136\u4e5f\u6ca1\u6709\u6d89\u53ca\u5230\u8fd9\u4e00\u90e8\u5206\u3002</li> </ol> <p>Info</p> <p>\u5728 github \u4e0a\u6709\u4e00\u4e2a\u9ad8\u8fbe 50k stars \u7684\u9879\u76ee\uff0c\u540d\u4e3a nocode\u3002\u5b83\u786e\u5b9e\u505a\u5230\u4e86\u4e0d\u4ea7\u751f\u4efb\u4f55 bug\uff1a</p> <p>No code is the best way to write secure and reliable applications. Write nothing; deploy nowhere.</p> <p>\u4e0d\u5199\u4ee3\u7801\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f bug\uff0c\u8fd9\u771f\u662f\u6781\u9ad8\u7684\u4f5b\u5bb6\u667a\u6167\uff1a\u83e9\u63d0\u672c\u65e0\u6811\uff0c\u660e\u955c\u4ea6\u975e\u53f0\uff0c\u672c\u6765\u65e0\u4e00\u7269\uff0c\u4f55\u5904\u60f9\u5c18\u57c3\uff1f\u4e0d\u8fc7\uff0c\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u9879\u76ee\uff0c\u8fd8\u662f\u88ab\u4eba\u63d0\u4ea4\u4e86\u8d85\u8fc7 3k \u7684 issues\uff08\u5f53\u6211\u4eec\u8ba4\u4e3a\u9879\u76ee\u4e2d\u5b58\u5728 bug\uff0c\u6216\u8005\u6709\u65b0\u7684\u529f\u80fd\u9700\u6c42\uff0c\u5c31\u53ef\u4ee5\u63d0\u51fa\u4e00\u4e2a issue\uff09\uff0c\u8fdc\u8d85\u5e73\u5747\u6c34\u5e73\uff0c\u8fd9\u4e5f\u7b97\u662f\u7a0b\u5e8f\u5458\u7684\u5e7d\u9ed8\u5427\uff1f</p> <p>\u8fd8\u6709\u5f88\u591a\u5f88\u591a\u3002\u4e00\u4e2a\u5b8c\u6574\u7684\u9879\u76ee\uff0c\u9664\u4e86\u63d0\u4f9b\u6700\u6838\u5fc3\u7684\u7a0b\u5e8f\u529f\u80fd\u4e4b\u5916\uff0c\u8fd8\u5fc5\u7136\u6d89\u53ca\u5230\u4ea7\u54c1\u8d28\u91cf\u63a7\u5236\uff08\u5305\u62ec\u5355\u5143\u6d4b\u8bd5\u3001\u4ee3\u7801\u98ce\u683c\u63a7\u5236\u7b49\uff09\u3001\u7248\u6743\u3001\u53d1\u5e03\u5386\u53f2\u3001\u5236\u4f5c\u5206\u53d1\u5305\u7b49\u6742\u52a1\uff0c\u4ece\u800c\u4e5f\u5c31\u5728\u5b9e\u73b0\u529f\u80fd\u7684\u6e90\u4ee3\u7801\u4e4b\u5916\uff0c\u5f15\u5165\u4e86\u8bb8\u591a\u5176\u5b83\u6587\u4ef6\u3002\u8fd9\u4e9b\u6587\u4ef6\u5e94\u8be5\u5982\u4f55\u7ec4\u7ec7\uff1f\u6709\u6ca1\u6709\u57fa\u672c\u7684\u547d\u540d\u89c4\u8303\uff1f\u662f\u5426\u6709\u5de5\u7a0b\u6a21\u677f\u53ef\u4ee5\u5957\u7528\uff0c\u6216\u8005\u53ef\u4ee5\u901a\u8fc7\u5de5\u5177\u6765\u751f\u6210\uff1f\u8fd9\u4e00\u7ae0\u5c06\u4e3a\u60a8\u89e3\u7b54\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>\u8fd9\u4e00\u7ae0\u5c06\u4ecb\u7ecd\u89c4\u8303\u7684\u9879\u76ee\u5e03\u5c40\u5e94\u8be5\u5177\u6709\u4ec0\u4e48\u6837\u7684\u76ee\u5f55\u89c6\u56fe\uff0c\u5e76\u5728\u6700\u540e\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u9075\u5faa\u793e\u533a\u6700\u65b0\u89c4\u8303\u7684\u3001\u751f\u6210 Python \u5de5\u7a0b\u6846\u67b6\u7684\u5411\u5bfc\u5de5\u5177\u3002</p> <p>\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\u5fc5\u987b\u9075\u5faa\u4e00\u5b9a\u7684\u89c4\u8303\u3002\u8fd9\u6709\u4e24\u65b9\u9762\u7684\u8003\u8651\uff0c\u4e00\u662f\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\u662f\u9879\u76ee\u7ed9\u4eba\u7684\u7b2c\u4e00\u5370\u8c61\uff0c\u4e00\u4e2a\u5e03\u5c40\u6df7\u4e71\u7684\u9879\u76ee\uff0c\u4f1a\u5413\u8dd1\u6f5c\u5728\u7684\u7528\u6237\u548c\u8d21\u732e\u8005\uff1b\u9075\u5faa\u89c4\u8303\u7684\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\uff0c\u53ef\u4ee5\u8ba9\u4ed6\u4eba\u66f4\u5bb9\u6613\u4e0a\u624b\uff1b\u4e8c\u6765\uff0c\u6784\u5efa\u5de5\u5177\u3001\u6d4b\u8bd5\u5de5\u5177\u7b49\u5de5\u5177\u4e5f\u4f9d\u8d56\u4e8e\u4e00\u5b9a\u7684\u6587\u4ef6\u7ed3\u6784\u3002\u5982\u679c\u6587\u4ef6\u7ed3\u6784\u6ca1\u6709\u4e00\u5b9a\u7684\u89c4\u8303\uff0c\u5219\u5fc5\u7136\u8981\u5bf9\u6bcf\u4e2a\u5de5\u5177\u8fdb\u884c\u4e00\u5b9a\u7684\u914d\u7f6e\uff0c\u624d\u80fd\u4f7f\u5176\u5de5\u4f5c\u3002\u8fc7\u591a\u7684\u914d\u7f6e\u9879\u5f80\u5f80\u4f1a\u5f15\u8d77\u9519\u8bef\uff0c\u589e\u52a0\u5b66\u4e60\u6210\u672c\u3002</p> <p>Readmore</p> <p>\u4ee5\u4f9d\u8d56\u7ba1\u7406\u548c\u6784\u5efa\u5de5\u5177 Poetry \u4e3a\u4f8b\uff0c\u5b83\u4f1a\u9ed8\u8ba4\u628a\u6784\u5efa\u751f\u6210\u7684\u5305\u653e\u5728 dist \u76ee\u5f55\u4e0b\uff0ctox \u5728\u6784\u5efa\u6d4b\u8bd5\u73af\u5883\u65f6\uff0c\u5219\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u5bfb\u627e\u5b89\u88c5\u5305\u3002\u8fd9\u662f\u4e00\u79cd\u7ea6\u5b9a\u3002</p> <p>\u5728\u5de5\u7a0b\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u7ea6\u5b9a\u4fd7\u6210\u7684\u9879\u76ee\u6587\u4ef6\u7ed3\u6784\u548c\u89c4\u8303\u7684\u6587\u4ef6\u3001\u6587\u4ef6\u5939\u540d\u5b57\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u7e41\u7410\u7684\u914d\u7f6e\u9879\u76ee\u4ee5\u5141\u8bb8\u8fc7\u5ea6\u81ea\u5b9a\u4e49\uff0c\u8fd9\u79cd\u539f\u5219\u88ab\u79f0\u4e3a\u60ef\u4f8b\u4f18\u4e8e\u914d\u7f6e (convention over configuration)\uff0c\u8fd9\u4e0d\u4ec5\u4ec5\u662f Python, \u4e5f\u662f\u8bb8\u591a\u5176\u5b83\u8bed\u8a00\u9075\u5faa\u7684\u539f\u5219\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#11","title":"1.1. \u6807\u51c6\u9879\u76ee\u5e03\u5c40","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e2a\u7ecf\u5178\u7684 Python \u9879\u76ee\u5e03\u5c40\uff0c\u7531 Kenneth Reitz[^kenneth] \u63a8\u8350\u3002\u4ed6\u662f\u8457\u540d\u7684 Python http \u5e93<code>request</code>\u548c<code>pipenv</code>\u7684\u4f5c\u8005\u3002</p> <p>\u8fd9\u4e2a\u5e03\u5c40\u5982\u4e0b\u9762\u6240\u793a\uff1a <pre><code>\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 AUTHORS.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docs\n|   |   \u251c\u2500\u2500 conf.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 HISTORY.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 LICENSE\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 makefile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 MANIFEST.in\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 requirements.txt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sample\n|   |   \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 helper.py\n|   \u251c\u2500\u2500 setup.cfg\n|   \u251c\u2500\u2500 setup.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tests\n</code></pre> \u4e0b\u9762\u6211\u4eec\u6765\u9010\u4e00\u89e3\u91ca\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#111","title":"1.1.1. \u4e00\u822c\u6027\u6587\u6863","text":""},{"location":"articles/python/best-practice-python/chap04/#1111","title":"1.1.1.1. \u9879\u76ee\u8bf4\u660e\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 README \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u7528\u6765\u5411\u672c\u9879\u76ee\u7684\u4f7f\u7528\u8005\u6982\u62ec\u6027\u5730\u4ecb\u7ecd\u8fd9\u4e2a\u9879\u76ee\u7684\u57fa\u672c\u60c5\u51b5\uff0c\u6bd4\u5982\u4e3b\u8981\u529f\u80fd\u3001\u4f18\u52bf\u3001\u7248\u672c\u8ba1\u5212\u7b49\u3002\u8fd9\u91cc\u6587\u4ef6\u7684\u540e\u7f00\u662f.rst\uff0c\u8fd9\u662f\u4e00\u79cd\u6269\u5c55\u6807\u8bb0\u6587\u672c\u683c\u5f0f\uff0c\u901a\u8fc7\u6587\u6863\u6784\u5efa\u5de5\u5177\uff0c\u53ef\u4ee5\u751f\u6210\u5bcc\u6587\u672c\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u73b0\u5728\u66f4\u6d41\u884c\u7684\u683c\u5f0f\u53ef\u80fd\u662f markdown\uff0c\u4ee5.md \u4f5c\u4e3a\u6587\u4ef6\u540d\u540e\u7f00\u3002\u6211\u4eec\u4f1a\u5728\u6587\u6863\u6784\u5efa\u90a3\u4e00\u7ae0\u518d\u8be6\u7ec6\u4ecb\u7ecd\u4e24\u8005\u7684\u533a\u522b\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#1112","title":"1.1.1.2. \u8bb8\u53ef\u8bc1\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 LICENSE \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u5f00\u6e90\u9879\u76ee\u5fc5\u987b\u914d\u7f6e\u6b64\u6587\u6863\u3002\u6b64\u6587\u4ef6\u4e00\u822c\u4e3a\u7eaf\u6587\u672c\u683c\u5f0f\uff0c\u4e0d\u652f\u6301\u6269\u5c55\u6807\u8bb0\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#1113","title":"1.1.1.3. \u7248\u672c\u5386\u53f2\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 HISTORY \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002</p> <p>\u6bcf\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\uff0c\u90fd\u53ef\u80fd\u5f15\u5165\u65b0\u7684\u529f\u80fd\u3001\u4fee\u590d\u4e86\u4e00\u4e9b bug \u548c\u5b89\u5168\u6027\u95ee\u9898\uff0c\u4e5f\u53ef\u80fd\u5e26\u6765\u4e00\u4e9b\u884c\u4e3a\u53d8\u66f4\uff0c\u5bfc\u81f4\u4f7f\u7528\u8005\u5fc5\u987b\u4e5f\u8981\u505a\u76f8\u5e94\u7684\u4fee\u6539\u624d\u80fd\u4f7f\u7528\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u7248\u672c\u8bf4\u660e\uff0c\u7a0b\u5e8f\u5e93\u7684\u7528\u6237\u5c31\u4e0d\u77e5\u9053\u5e94\u8be5\u9009\u7528\u54ea\u4e00\u4e2a\u7248\u672c\uff0c\u6216\u8005\u662f\u5426\u5e94\u8be5\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u4e0a\u3002\u6211\u4eec\u5728\u4f7f\u7528\u5176\u5b83\u4eba\u5f00\u53d1\u7684\u7a0b\u5e8f\u5e93\u65f6\uff0c\u5e76\u4e0d\u4e00\u5b9a\u8981\u9009\u62e9\u6700\u65b0\u7684\uff0c\u6709\u65f6\u5019\u5347\u7ea7\u5230\u6700\u65b0\u7684\u7248\u672c\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u8fd0\u884c\u3002\u6bd4\u5982 SQLAlchemy \u662f\u4e00\u4e2a\u5e94\u7528\u5341\u5206\u5e7f\u6cdb\u7684 Python ORM \u6846\u67b6\uff0c\u5b83\u7684 1.4 \u7248\u672c\u4e0e\u524d\u9762\u7684\u7248\u672c\u6709\u8f83\u591a\u4e0d\u517c\u5bb9\u7684\u95ee\u9898\u3002\u5982\u679c\u60a8\u7684\u7a0b\u5e8f\u4e0d\u52a0\u4fee\u6539\u5c31\u76f4\u63a5\u5347\u7ea7\u5230 1.4\uff0c\u90a3\u4e48\u5927\u6982\u7387\u7a0b\u5e8f\u4f1a\u5d29\u6e83\u3002\u56e0\u6b64\uff0c\u4f7f\u7528\u65b0\u7684\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u76ca\u5904\uff0c\u4f46\u4e5f\u53ef\u80fd\u56e0\u4e3a\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u7834\u574f\u73b0\u6709\u7684\u5e94\u7528\uff0c\u6240\u4ee5\uff0c\u5728\u5347\u7ea7\u65b0\u7248\u672c\u4e4b\u524d\u9700\u8981\u505a\u5f88\u591a\u6d4b\u8bd5\u7684\u5de5\u4f5c\u3002</p> <p>\u540c README \u4e00\u6837\uff0c\u53ef\u4ee5\u4f7f\u7528.rst \u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528.md \u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u540e\u9762\u6211\u4eec\u4e0d\u518d\u7279\u522b\u63d0\u793a\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#1114","title":"1.1.1.4. \u5f00\u53d1\u8005\u4ecb\u7ecd\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 AUTHORS \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u5176\u76ee\u7684\u662f\u5411\u4ed6\u4eba\u4ecb\u7ecd\u9879\u76ee\u7684\u5f00\u53d1\u8005\u56e2\u961f\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#112","title":"1.1.2. \u5e2e\u52a9\u6587\u6863","text":"<p>\u4e00\u4e2a\u4f18\u79c0\u7684\u9879\u76ee\uff0c\u5f80\u5f80\u8fd8\u4f1a\u6709\u6bd4\u8f83\u8be6\u5c3d\u7684\u5e2e\u52a9\u6587\u6863\uff0c\u6765\u544a\u8bc9\u4f7f\u7528\u8005\u5982\u4f55\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u4f7f\u7528\uff0c\u751a\u81f3\u8fd8\u4f1a\u914d\u6709\u4e00\u4e9b\u6559\u7a0b\u3002\u8fd9\u4e9b\u6587\u6863\u5728\u547d\u540d\u4e0a\u5c31\u6ca1\u6709\u90a3\u4e48\u4e25\u683c\uff0c\u6700\u7ec8\uff0c\u5b83\u4eec\u5c06\u901a\u8fc7\u6587\u6863\u751f\u6210\u5de5\u5177\u8f6c\u6362\u6210\u683c\u5f0f\u7f8e\u89c2\u7684\u5728\u7ebf\u6587\u6863\uff0c\u4f9b\u4f7f\u7528\u8005\u9605\u8bfb\u3002\u4e00\u822c\u5730\uff0c\u8fd9\u4e9b\u6587\u6863\u90fd\u653e\u5728 docs \u76ee\u5f55\u4e0b\uff0c\u7531\u4e00\u4e2a\u4e3b\u63a7\u6587\u6863\u6765\u4e32\u8054\u3002\u5f53\u7136\uff0c\u5177\u4f53\u5982\u4f55\u505a\uff0c\u53d6\u51b3\u4e8e\u6587\u6863\u6784\u5efa\u5de5\u5177\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#1121-api","title":"1.1.2.1. API \u6587\u6863","text":"<p>\u8fd8\u6709\u4e00\u7c7b\u6bd4\u8f83\u7279\u6b8a\u7684\u6587\u6863\uff0c\u5b83\u4eec\u4e0d\u76f4\u63a5\u51fa\u73b0\u5728\u4e0a\u8ff0\u76ee\u5f55\u4e2d\uff0c\u800c\u662f\u6563\u843d\u5728\u6e90\u4ee3\u7801\u7684\u5404\u4e2a\u90e8\u5206\uff0c\u901a\u8fc7\u4e13\u95e8\u5de5\u5177\u751f\u6210\uff0c\u4e0e\u5e2e\u52a9\u6587\u6863\u4e00\u8d77\u4f7f\u7528\u3002\u5173\u4e8e\u5e2e\u52a9\u6587\u6863\u548c API \u6587\u6863\uff0c\u6211\u4eec\u5c06\u5728\u7b2c 10 \u7ae0\uff0c\u64b0\u5199\u6280\u672f\u6587\u6863\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#113","title":"1.1.3. \u5de5\u7a0b\u6784\u5efa\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4e0d\u540c\u7684\u6784\u5efa\u5de5\u5177\u9700\u8981\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728 Python \u5de5\u7a0b\u4e2d\uff0c\u4e3b\u8981\u6709\u4e24\u79cd\u4e3b\u6d41\u7684\u6784\u5efa\u5de5\u5177\uff0c\u4e00\u662f Python setup tools, \u53e6\u4e00\u79cd\u662f\u7b26\u5408 PEP517\uff0cPEP518 \u89c4\u8303\u7684\u65b0\u578b\u6784\u5efa\u5de5\u5177\uff0c\u5982 Poetry \u7b49\u3002</p> <p>\u5728\u4e0a\u8ff0\u76ee\u5f55\u793a\u4f8b\u4e2d\uff0c\u4f7f\u7528\u7684\u662f\u57fa\u4e8e python setup tools \u7684\u6784\u5efa\u5de5\u5177\uff0c\u5b83\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u6709 setup.py, MANIFEST.IN \u7b49\u6587\u4ef6\uff0c\u8fd8\u53ef\u80fd\u4f1a\u6709 requirements.txt \u548c makefile\uff1b\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u60a8\u4f1a\u770b\u5230 setup.py \u7b49\u6587\u4ef6\u7684\u539f\u56e0\u3002\u5982\u679c\u662f\u4f7f\u7528 Poetry, \u5219\u914d\u7f6e\u6587\u4ef6\u4f1a\u7b80\u5355\u8bb8\u591a\uff0c\u53ea\u9700\u8981\u4e00\u4e2a pyproject.toml \u5c31\u591f\u4e86\u3002</p> <p>\u5f53\u60a8\u5f00\u59cb\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5e94\u8be5\u53ea\u4f7f\u7528 Poetry\uff0c\u800c\u4e0d\u4f7f\u7528 python setup tools\u3002Poetry \u7684\u4f9d\u8d56\u7ba1\u7406\u53ef\u4ee5\u9501\u5b9a\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\uff0c\u907f\u514d\u5f88\u591a\u95ee\u9898\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u80fd\u4f9d\u7136\u8981\u80fd\u770b\u61c2\u57fa\u4e8e setup tools \u7684\u8001\u5f0f\u5de5\u7a0b\u914d\u7f6e\uff0c\u5b83\u4eec\u5c06\u53ef\u80fd\u5728\u672a\u6765\u7684\u4e00\u4e24\u5e74\u91cc\u8fd8\u7ee7\u7eed\u5b58\u5728\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#114","title":"1.1.4. \u4ee3\u7801\u76ee\u5f55","text":"<p>\u5728\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\uff0c\u7279\u522b\u662f\u7f16\u8bd1\u578b\u8bed\u8a00\u4e2d\uff0c\u4ee3\u7801\u76ee\u5f55\u5e38\u5e38\u88ab\u79f0\u4e3a\u6e90\u6587\u4ef6\u76ee\u5f55\u3002\u7531\u4e8e Python \u662f\u975e\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u4ee3\u7801\u6e90\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6240\u4ee5\u4e00\u822c\u6211\u4eec\u4e0d\u628a\u4ee3\u7801\u6587\u4ef6\u79f0\u4f5c\u6e90\u6587\u4ef6\u3002\u6211\u4eec\u901a\u5e38\u628a\u53d1\u884c\u7684\u76ee\u6807\u7269\u79f0\u4e4b\u4e3a\u4e00\u4e2a\"\u5305 (package)\"\u3002\u56e0\u6b64\uff0c\u5728\u4e0b\u9762\u7684\u53d9\u8ff0\u4e2d\uff0c\u6211\u4eec\u5c06\u4f1a\u628a\u4ee3\u7801\u76ee\u5f55\u79f0\u4e4b\u4e3a\u5305\u76ee\u5f55\uff0c\u6216\u8005 package \u76ee\u5f55\u3002</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u540d\u4e3a sample \u7684 package\uff0c\u90a3\u4e48\u60a8\u7684\u4ee3\u7801\u5c31\u5e94\u8be5\u653e\u5728\u4e00\u4e2a\u540d\u4e3a sample \u7684\u76ee\u5f55\u4e0b\uff0c\u6b63\u5982\u4e0a\u9762\u7684\u76ee\u5f55\u89c6\u56fe\u6240\u793a\u3002</p> <p>\u6709\u4e00\u4e2a\u5c0f\u5730\u65b9\u9700\u8981\u8bf4\u660e\uff0c\u8fd9\u91cc\u9876\u5c42\u7684 sample \u662f\u9879\u76ee\u540d\u5b57\uff0c\u5185\u5c42\u7684 sample \u662f\u5305\u540d\u5b57\u3002\u4e24\u7ea7\u76ee\u5f55\u5171\u7528\u4e00\u4e2a\u540d\u5b57\uff0c\u8fd9\u4f1a\u8ba9\u521d\u5b66\u8005\u591a\u591a\u5c11\u5c11\u6709\u4e00\u4e9b\u56f0\u60d1\u3002\u4f46\u662f\uff0c\u5728 Python \u4e2d\uff0c\u6211\u4eec\u4e0d\u80fd\u8c61\u5176\u5b83\u8bed\u8a00\u90a3\u6837\uff0c\u76f4\u63a5\u628a package \u76ee\u5f55\u6539\u4e3a src \u76ee\u5f55\uff0c\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bfc\u81f4\u751f\u6210\u7684 package \u540d\u5b57\u4e5f\u4f1a\u53eb src\uff0c\u8fd9\u6837\u4e0d\u4ec5\u5305\u540d\u5b57\u6ca1\u6709\u610f\u4e49\uff0c\u5e76\u4e14\u4f1a\u5bfc\u81f4\u6240\u6709\u4eba\u5f00\u53d1\u7684\u5e93\u90fd\u4f7f\u7528\u4e86\u540c\u4e00\u4e2a\u540d\u5b57\u3002</p> <p>Info</p> <p>\u66f4\u6709\u57fa\u8005\uff0c\u4e00\u4e9b\u9879\u76ee\uff08\u6216\u8005\u9879\u76ee\u751f\u6210\u5de5\u5177\uff09\u4f1a\u5c06\u7a0b\u5e8f\u7684\u4e3b\u5165\u53e3\u6587\u4ef6\u4e5f\u547d\u540d\u4e3a\u4e0e\u9879\u76ee\u540c\u540d\u7684\u6587\u4ef6\u3002\u5373\uff0c\u5982\u679c\u9879\u76ee\u540d\u5b57\u4e3a sample\uff0c\u5219\u4e3b\u5165\u53e3\u7a0b\u5e8f\u6587\u4ef6\u4e5f\u547d\u540d\u4e3a sample.py\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u63a8\u8350\u7684\u4e3b\u5165\u53e3\u7a0b\u5e8f\u6587\u4ef6\u540d\u4e3a app.py\u3002\u8fd9\u4e2a\u6587\u4ef6\u5e94\u8be5\u662f\u60a8\u7684\u7a0b\u5e8f\u5165\u53e3\uff0c\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u751f\u547d\u671f\uff0c\u6bd4\u5982\u521d\u59cb\u5316\u3001\u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af\u5e76\u54cd\u5e94\u9000\u51fa\u4fe1\u53f7\u7b49\u3002</p> <p>\u6309\u7167\u4e0a\u9762\u7684\u76ee\u5f55\u89c6\u56fe\u5236\u4f5c\u51fa\u6765\u7684\u53d1\u884c\u5305\uff0c\u5305\u540d\u5b57\u4f1a\u662f sample\u3002\u5f53\u6211\u4eec\u8981\u4f7f\u7528 sample \u4e2d\u6a21\u5757\u7684\u529f\u80fd\u65f6\uff0c\u53ef\u4ee5\u8fd9\u6837\u5bfc\u5165\uff1a</p> <pre><code># \u6ce8\u610f\uff0c `IMPORT *`\u4e00\u822c\u6765\u8bf4\u662f\u4e00\u79cd\u4e0d\u597d\u7684\u8bed\u6cd5\uff0c\u8fd9\u91cc\u8fd9\u6837\u4f7f\u7528\uff0c\u662f\u4e3a\u4e86\u65b9\u4fbf\u793a\u4f8b\u3002\nfrom sample.helper import *\n</code></pre> <p>Readmore</p> <p>Pypa \u5728 sampleproject \u4e2d\u7ed9\u51fa\u4e86\u53e6\u4e00\u79cd\u6587\u4ef6\u7ed3\u6784\uff0c\u5728\u8fd9\u91cc<code>sample</code>\u653e\u5728 src \u76ee\u5f55\u4e0b\u3002</p> <p>\u6211\u4eec\u5728\u4e0a\u4e00\u7ae0\u4e2d\u63d0\u5230\u8fc7\uff0cpypa \u5c31\u662f pypi \u7684\u5f00\u53d1\u8005\uff0cpython \u5206\u53d1\u5305\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u3002\u56e0\u6b64\u4ed6\u4eec\u7684\u8da3\u5411\u4e5f\u4f1a\u5f71\u54cd\u5230\u5176\u5b83\u5f00\u53d1\u8005\u3002</p> <p>\u53ef\u4ee5\u80af\u5b9a\u7684\u662f\uff0c\u65e0\u8bba\u5982\u4f55\uff0c\u4ee3\u7801\u76ee\u5f55\u540d\u5fc5\u987b\u662f package \u540d\u5b57\uff0c\u800c\u4e0d\u80fd\u4e3a\u5176\u5b83\u3002\u81f3\u4e8e\u8981\u4e0d\u8981\u5728\u5176\u4e0a\u518d\u52a0\u4e00\u5c42 src/\u76ee\u5f55\uff0c\u76ee\u524d\u8fd8\u5b58\u5728\u4e00\u4e9b\u4e89\u8bae\u3002\u4f46\u662f\uff0c\u4e00\u65e6\u60a8\u7684\u5de5\u7a0b\u786e\u5b9a\u4e86\u76ee\u5f55\u7ed3\u6784\uff0c\u6b64\u540e\u5c31\u4e0d\u8981\u4fee\u6539\uff0c\u5426\u5219\uff0c\u4f1a\u6d89\u53ca\u5230\u5927\u91cf\u6587\u4ef6\u9700\u8981\u4fee\u6539\uff0c\u56e0\u4e3a\u8fd9\u8ddf\u5bfc\u5165\u5bc6\u5207\u76f8\u5173\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#115","title":"1.1.5. \u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u76ee\u5f55","text":"<p>\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u7684\u76ee\u5f55\u540d\u4e00\u822c\u4e3a tests\u3002\u8fd9\u4e5f\u662f\u8bb8\u591a\u6d4b\u8bd5\u6846\u67b6\u548c\u5de5\u5177\u9ed8\u8ba4\u7684\u6587\u4ef6\u5939\u4f4d\u7f6e\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#116-makefile","title":"1.1.6. Makefile","text":"<p>\u5bf9 Python \u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u53ef\u80fd\u5e76\u4e0d\u592a\u559c\u6b22 Makefile\u3002\u5728\u5176\u5b83\u8bed\u8a00\u4e2d\uff0cmakefile \u548c\u5de5\u5177 make \u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5b9a\u4e49\u4f9d\u8d56\u5173\u7cfb\uff0c\u7f16\u8bd1\u751f\u6210\u6784\u5efa\u7269\u3002Python \u7a0b\u5e8f\u4e00\u822c\u800c\u8a00\u65e0\u987b\u7f16\u8bd1\uff0c\u5b83\u53ea\u9700\u8981\u8fdb\u884c\u6253\u5305\u3002\u6240\u4ee5\u5728\u6700\u65b0\u7684\u57fa\u4e8e Poetry \u7684\u9879\u76ee\u6a21\u677f\u4e2d\uff0c\u662f\u6ca1\u6709 Makefile \u7684\u3002\u4f46\u662f\u6709\u4e00\u4e9b\u5de5\u5177\uff0c\u6bd4\u5982 sphinx \u6587\u6863\u6784\u5efa\u4e2d\u8fd8\u9700\u8981 Makefile\uff1b\u6b64\u5916\uff0cMakefile \u7684\u591a target \u547d\u4ee4\u6a21\u5f0f\uff0c\u4e5f\u8fd8\u6709\u5b83\u7684\u7528\u5904\uff0c\u56e0\u6b64\uff0c\u662f\u5426\u4f7f\u7528 Makefile\uff0c\u53ef\u4ee5\u53d6\u51b3\u4e8e\u60a8\u9879\u76ee\u7684\u9700\u8981\u3002</p> <p>\u5728 Kenneth Reitz \u63a8\u8350\u7684\u9879\u76ee\u5e03\u5c40\u4e2d\uff0c\u8fd8\u7f3a\u5c11\u4e00\u4e9b\u91cd\u8981\u7684\u6587\u4ef6\uff08\u6216\u8005\u76ee\u5f55\uff09\u3002\u8fd9\u4e9b\u662f\u786e\u4fdd\u9879\u76ee\u8d28\u91cf\u4e0d\u53ef\u6216\u7f3a\u7684\u3002\u4e3b\u8981\u662f lint \u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0ctox \u914d\u7f6e\u6587\u4ef6\uff0ccodecoverage \u914d\u7f6e\u6587\u4ef6\uff0cCI \u914d\u7f6e\u6587\u4ef6\u7b49\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#117-lint","title":"1.1.7. lint \u76f8\u5173\u5de5\u5177\u914d\u7f6e\u6587\u4ef6","text":"<p>\u9879\u76ee\u53ef\u80fd\u4f7f\u7528 lint \u5de5\u5177\u5982 flake8 \u6765\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\uff0c\u4f7f\u7528 black \u6765\u8fdb\u884c\u683c\u5f0f\u5316\u3002\u8fd9\u4e9b\u5de5\u5177\u90fd\u4f1a\u5f15\u5165\u914d\u7f6e\u6587\u4ef6\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u7b7e\u5165\u670d\u52a1\u5668\u7684\u4ee3\u7801\u7684\u98ce\u683c\u548c\u8d28\u91cf\uff0c\u53ef\u80fd\u4f1a\u914d\u7f6e pre-commit hooks\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#118-tox","title":"1.1.8. tox","text":"<p>\u5982\u679c\u4e00\u4e2a\u9879\u76ee\u540c\u65f6\u652f\u6301\u591a\u4e2a Python \u7248\u672c\uff0c\u90a3\u4e48\u5728\u53d1\u5e03\u4e4b\u524d\uff0c\u5f80\u5f80\u9700\u8981\u5728\u5404\u4e2a Python \u73af\u5883\u4e0b\u90fd\u8fd0\u884c\u5355\u5143\u6d4b\u8bd5\u3002\u4e3a\u5355\u5143\u6d4b\u8bd5\u81ea\u52a8\u5316\u5730\u6784\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\u5e76\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u8fd9\u5c31\u662f tox \u8981\u505a\u7684\u5de5\u4f5c\u3002\u8fd9\u4e5f\u662f\u4e0a\u4e00\u7ae0\u8bb2\u7684\u865a\u62df\u8fd0\u884c\u73af\u5883\u7684\u4e00\u4e2a\u5b9e\u9645\u4f7f\u7528\u6848\u4f8b\u3002</p> <p>\u914d\u7f6e\u4e86 tox \u7684\u9879\u76ee\uff0c\u4f1a\u5728\u6839\u76ee\u5f55\u4e0b\u5f15\u5165 tox.ini \u6587\u4ef6\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#119-ci","title":"1.1.9. CI \uff08\u6301\u7eed\u96c6\u6210\uff09","text":"<p>\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 CI \u662f\u5c3d\u65e9\u66b4\u9732\u95ee\u9898\uff0c\u907f\u514d\u66f4\u5927\u7684\u635f\u5931\u7684\u6709\u6548\u65b9\u6cd5\u3002\u901a\u8fc7\u4f7f\u7528 CI\uff0c\u53ef\u4ee5\u786e\u4fdd\u7a0b\u5e8f\u5458\u7b7e\u5165\u7684\u4ee3\u7801\u5728\u5e76\u5165\u4e3b\u5206\u652f\u4e4b\u524d\uff0c\u662f\u80fd\u591f\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u7684\u3002</p> <p>\u6709\u4e00\u4e9b\u5728\u7ebf\u7684 CI \u670d\u52a1\uff0c\u6bd4\u5982 appVeyor, travis \u548c\u540e\u8d77\u4e4b\u79c0 github actions. \u4f5c\u8005\u6ca1\u6709\u4f7f\u7528\u8fc7 AppVeyor\u3002\u5982\u679c\u4f7f\u7528 travis \u7684\u8bdd\uff0c\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u653e\u7f6e travis.yml \u8fd9\u4e2a\u6587\u4ef6\u3002\u5982\u679c\u4f7f\u7528 github actions\uff0c\u5219\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u7684.github/workflows/\u4e2d\u653e\u7f6e\u914d\u7f6e\u6587\u4ef6\uff0cgithub \u5bf9\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57\u6ca1\u6709\u8981\u6c42\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#1110-codecoverage","title":"1.1.10. codecoverage","text":"<p>\u6211\u4eec\u9700\u8981\u901a\u8fc7 code coverage \u6765\u5ea6\u91cf\u5355\u5143\u6d4b\u8bd5\u7684\u5f3a\u5ea6\u3002\u4e00\u4e9b\u4f18\u79c0\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u5176 code coverage \u751a\u81f3\u53ef\u4ee5\u505a\u5230 100%\uff08\u5f53\u7136\u5141\u8bb8\u5408\u7406\u5730\u6392\u9664\u4e00\u4e9b\u4ee3\u7801\uff09\u3002\u5728 Python \u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 Coverage[^coverage] \u6765\u8fdb\u884c\u4ee3\u7801\u8986\u76d6\u6d4b\u8bd5\u3002\u6d4b\u8bd5\u6846\u67b6\u6bd4\u5982 pytest \u90fd\u4f1a\u96c6\u6210\u5b83\uff0c\u65e0\u987b\u5355\u72ec\u8c03\u7528\uff0c\u4f46\u4e00\u822c\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u914d\u7f6e.coveragerc\u3002</p> <p>\u4f5c\u4e3a\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u53d1\u5e03\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u62a5\u544a\uff0c\u4ee5\u4fbf\u7ed9\u4f7f\u7528\u8005\u66f4\u5f3a\u7684\u4fe1\u5fc3\u3002Codecov^codecov \u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u5e73\u53f0\u3002\u4e00\u822c\u6211\u4eec\u5728 CI \u4e2d\u914d\u7f6e\u5b83\u3002\u6240\u4ee5\u8fd9\u90e8\u5206\u914d\u7f6e\u4f1a\u4f53\u73b0\u5728 CI \u7684\u914d\u7f6e\u6587\u6863\u4e2d\u3002</p> <p>\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u8005\u4f1a\u53d1\u73b0\uff0c\u4e00\u4e2a\u6210\u719f\u7684\u9879\u76ee\uff0c\u5f80\u5f80\u8fd8\u5305\u62ec\u66f4\u591a\u914d\u7f6e\u6587\u4ef6\uff0c\u8fdc\u8fdc\u4e0d\u6b62 Kenneth Reitz \u63a8\u8350\u7684\u8fd9\u4e9b\u3002\u6bd4\u5982\uff0clint \u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0ctox \u914d\u7f6e\u6587\u4ef6\uff0ccodecoverage \u914d\u7f6e\u6587\u4ef6\uff0cCI \u914d\u7f6e\u6587\u4ef6\u7b49\u7b49\u3002\u5b9e\u9645\u4e0a\uff0c\u8981\u624b\u52a8\u751f\u6210\u4e00\u4e2a\u89c4\u8303\u7684\u9879\u76ee\u6846\u67b6\u5e76\u4e0d\u5bb9\u6613\u3002\u8981\u7406\u89e3\u6bcf\u79cd\u5de5\u5177\u7684\u4f5c\u7528\uff0c\u5e76\u4e14\u914d\u7f6e\u597d\u5b83\u4eec\u4f7f\u4e4b\u80fd\u534f\u540c\u5de5\u4f5c\uff0c\u9700\u8981\u4e00\u5b9a\u7684\u7ecf\u9a8c\uff0c\u5728\u8bb8\u591a\u5f00\u53d1\u7ec4\u91cc\uff0c\u642d\u67b6\u5b50\u7684\u5de5\u4f5c\u4e00\u822c\u7531 dev lead \u6765\u8fdb\u884c\uff0c\u8fd9\u4e5f\u662f\u6709\u5176\u4f9d\u636e\u7684\u3002\u56e0\u6b64\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u9879\u76ee\u751f\u6210\u5411\u5bfc\u6765\u751f\u6210\u9879\u76ee\u5e03\u5c40\u5e76\u5b8c\u6210\u914d\u7f6e\u3002</p> <p>Readmore</p> <p>\u4e00\u4e9b\u5de5\u5177\u7684\u9ed8\u8ba4\u914d\u7f6e\u53ef\u80fd\u4f1a\u76f8\u4e92\u51b2\u7a81\uff0c\u8fd9\u4e5f\u662f\u5f88\u5e38\u89c1\u7684\u73b0\u8c61\u3002\u56e0\u4e3a\u5927\u5bb6\u5bf9\u4ec0\u4e48\u662f\u6700\u4f18\u7684\u6280\u672f\u8def\u7ebf\u90fd\u6709\u81ea\u5df1\u7684\u7406\u89e3\u3002\u6bd4\u5982 flake8 \u4e0e black \u4e4b\u95f4\uff0c\u5bf9\u4ec0\u4e48\u662f\u6b63\u786e\u7684\u4ee3\u7801\u683c\u5f0f\uff0c\u6709\u4e00\u4e9b\u5730\u65b9\u770b\u6cd5\u5c31\u4e0d\u4e00\u81f4\uff0c\u4ece\u800c\u5bfc\u81f4\u6709\u65f6\u5019 black \u683c\u5f0f\u5316\u7684\u4ee3\u7801\uff0c\u603b\u662f\u901a\u4e0d\u8fc7 flake8 \u7684\u68c0\u67e5\u3002\u56e0\u6b64\uff0c\u5982\u4f55\u4f7f\u5f97\u5de5\u5177\u4e4b\u95f4\u76f8\u4e92\u534f\u8c03\uff0c\u4e5f\u662f\u65b0\u5efa\u9879\u76ee\u65f6\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\u7684\u4e8b\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u7ed3\u5408\u9879\u76ee\u751f\u6210\u5411\u5bfc\uff0c\u6765\u4ecb\u7ecd\u66f4\u591a\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#12-python-project-wizard","title":"1.2. \u9879\u76ee\u751f\u6210\u5411\u5bfc - Python Project Wizard","text":"<p>\u5982\u679c\u60a8\u6709\u5176\u5b83\u8bed\u8a00\u7684\u5f00\u53d1\u7ecf\u9a8c\uff0c\u60a8\u4f1a\u53d1\u73b0\u50cf visual studio\uff0c \u6216\u8005 IntelliJ \u8fd9\u6837\u7684\u5f00\u53d1\u5de5\u5177\u6709\u8f83\u597d\u7684\u5411\u5bfc\uff0c\u60a8\u53ea\u9700\u8981\u70b9\u51fb\u4e00\u4e9b\u6309\u94ae\uff0c\u586b\u5199\u4e00\u4e9b\u4fe1\u606f\uff0c\u5c31\u80fd\u7acb\u523b\u751f\u6210\u4e00\u4e2a\u80fd\u7f16\u8bd1\u7684\u9879\u76ee\u3002\u5728 Python \u4e16\u754c\u4e2d\uff0c\u5f88\u9057\u61be\u8fd8\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u5f00\u53d1\u5de5\u5177\uff08\u65e0\u8bba\u662f vscode \u8fd8\u662f pycharm) \u63d0\u4f9b\u8fd9\u6837\u7684\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#121-cookiecutter","title":"1.2.1. cookiecutter","text":"<p>\u5e78\u8fd0\u7684\u662f\uff0c\u6709\u4e00\u4e2a\u5f00\u6e90\u7684\u9879\u76ee\uff0ccookiecutter^cookiecutter\uff0c\u53ef\u4ee5\u5e2e\u6211\u4eec\u751f\u6210\u5404\u79cd\u9879\u76ee\u7684\u67b6\u5b50\u3002</p> <p>Readmore</p> <p>\u73b0\u5728\u7684\u8d8b\u52bf\u662f\uff0c\u9664\u4e86 IDE \u4e4b\u5916\uff0c\u4e00\u4e9b\u6846\u67b6\u548c\u5de5\u5177\u672c\u8eab\u4e5f\u5728\u63d0\u4f9b\u751f\u6210\u5411\u5bfc\u3002\u6bd4\u5982 js \u4e2d\u7684 vue\u3002\u672c\u6587\u4e2d\u591a\u6b21\u63d0\u5230\u7684 Poetry \u4e5f\u6709\u751f\u6210\u6846\u67b6\u7a0b\u5e8f\u7684\u529f\u80fd\uff0c\u4e0d\u8fc7\uff0c\u5b83\u5e76\u4e0d\u80fd\u63d0\u4f9b\u4e0a\u6587\u4ecb\u7ecd\u7684\u6240\u6709\u8fd9\u4e9b\u6587\u4ef6\u7684\u6a21\u677f\uff0c\u66f4\u4e0d\u8981\u63d0\u81ea\u5b9a\u4e49\u5b83\u4eec\u3002</p> <p>cookiecutter \u4e00\u8bcd\u7684\u672c\u610f\u662f\u997c\u5e72\u5236\u9020\u673a\u3002\u5728\u8fd9\u91cc\uff0ccookiecutter \u662f\u4e00\u4e2a\u751f\u4ea7\u9879\u76ee\u6a21\u677f\u7684\u57fa\u7840\u6846\u67b6\uff0c\u7406\u8bba\u4e0a\u53ef\u7528\u6765\u751f\u6210\u4efb\u4f55\u5f00\u53d1\u8bed\u8a00\u7684\u9879\u76ee\u6846\u67b6\u3002\u901a\u8fc7 cookiecutter, \u7ed3\u5408\u5404\u79cd\u4e8b\u5148\u5b9a\u4e49\u597d\u7684\u5de5\u7a0b\u6a21\u677f\uff0c\u5c31\u53ef\u4ee5\u5feb\u901f\u5b9a\u5236\u51fa\u81ea\u5df1\u60f3\u8981\u7684\u9879\u76ee\u6846\u67b6\u3002</p> <p>cookiecutter-pypackage^pypackage \u662f\u9075\u5faa cookiecutter \u89c4\u8303\u5f00\u53d1\u7684\u4e00\u4e2a\u751f\u6210 Python \u9879\u76ee\u7684\u6a21\u677f\uff0c\u5b83\u5728 github \u4e0a\u6709\u63a5\u8fd1 4k \u7684 stars\u3002</p> <p>\u5728<code>cookiecutter-pypackage</code>\u751f\u6210\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u8be2\u95ee\u5f00\u53d1\u8005\u7684\u540d\u5b57\u3001\u7535\u90ae\u3001\u9879\u76ee\u540d\u79f0\uff0c\u8bb8\u53ef\u8bc1\u7c7b\u578b\uff08\u4f1a\u8ba9\u4f60\u5728 MIT\uff0cBSD \u7b49\u597d\u51e0\u79cd\u77e5\u540d\u7684\u8bb8\u53ef\u8bc1\u6a21\u5f0f\u4e2d\u9009\u62e9\uff0c\u5e76\u63d0\u4f9b\u6807\u51c6\u7684 LICENSE \u6587\u672c\uff09\uff0c\u662f\u5426\u96c6\u6210 click \u8fd9\u4e2a\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u662f\u5426\u751f\u6210 console script \u7b49\u3002\u56de\u7b54\u5b8c\u6210\u8fd9\u4e9b\u95ee\u9898\u4e4b\u540e\uff0c\u60a8\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u6846\u67b6\u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u7acb\u523b\u7f16\u8bd1\u5e76\u53d1\u5e03\u5b83\uff0c\u5305\u62ec\u6587\u6863\u3002</p> <p>Info</p> <p>Click \u662f Pallets^Pallets \u9879\u76ee\u7ec4\u5f00\u6e90\u7684\u4e00\u6b3e\u547d\u4ee4\u884c\u5de5\u5177\u3002Pallets \u8fd8\u662f\u5927\u540d\u9f0e\u9f0e\u7684 Flask \u548c Jinja \u7684\u5f00\u53d1\u8005\u3002\u4f7f\u7528 Click \u4e4b\u540e\uff0c\u6211\u4eec\u521b\u5efa\u7684 Python \u5e93\u5c31\u53ef\u4ee5\u8f7b\u677e\u8f6c\u5316\u4e3a\u4e00\u4e2a\u547d\u4ee4\u884c\u5e94\u7528\uff0cClick \u4f1a\u5e2e\u6211\u4eec\u5904\u7406\u547d\u4ee4\u884c\u89e3\u6790\u8fd9\u6837\u4e00\u4e9b\u7e41\u7410\u7684\u5de5\u4f5c\u3002Click \u5728 Github \u4e0a\u6709\u8d85\u8fc7 14k \u7684 stars\uff0c\u662f Python \u5f00\u53d1\u8005\u5fc5\u987b\u4e86\u89e3\u7684 Python \u57fa\u7840\u5e93\u4e4b\u4e00\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#122-python-project-wizard","title":"1.2.2. python project wizard","text":"<p>cookiecutter-pypackage \u51fa\u73b0\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\u3002\u5b83\u8fed\u4ee3\u8f83\u6162\uff0c\u6240\u4f7f\u7528\u7684\u6280\u672f\u5e76\u4e0d\u5b8c\u5168\u7b26\u5408\u73b0\u5728\u7684\u793e\u533a\u89c4\u8303\uff0c\u6240\u4ee5\u672c\u4e66\u4f5c\u8005\u57fa\u4e8e cookiecutter-pypackage\uff0c\u5f00\u53d1\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u6a21\u677f\uff0c\u5b83\u5177\u6709\u8fd9\u4e9b\u529f\u80fd\uff1a</p> <ol> <li>\u63d0\u4f9b README\uff0cAUTHORS, LICENSE, HISTORY \u7b49\u6587\u4ef6\u7684\u6a21\u5757\uff0c\u5e76\u6839\u636e\u60a8\u63d0\u4f9b\u7684\u76f8\u5173\u4fe1\u606f\u8fdb\u884c\u5b9a\u5236\u5316\u3002</li> <li>\u901a\u8fc7 Poetry \u6765\u7ba1\u7406\u9879\u76ee\u7684\u7248\u672c\u548c\u4f9d\u8d56\uff0c\u8fdb\u884c\u6784\u5efa\u548c\u53d1\u5e03\u3002\u8fd9\u4e5f\u662f\u5f53\u524d\u7684\u4e3b\u6d41\u65b9\u6848\u3002</li> <li>\u96c6\u6210 Mkdocs \u548c Mkdocstrings\uff0c\u4f7f\u5f97\u60a8\u53ef\u4ee5\u4f7f\u7528\u7b80\u4fbf\u7684 Markdown \u8bed\u6cd5\u6765\u64b0\u5199\u5e2e\u52a9\u6587\u6863\uff0c\u5e76\u81ea\u52a8\u4ece\u4ee3\u7801\u4e2d\u63d0\u53d6\u6ce8\u91ca\u751f\u6210 API \u6587\u6863\u3002\u53e6\u4e00\u79cd\u65b9\u6848\u662f\u4f7f\u7528 Sphinx\uff0c\u5b83\u7684\u8bed\u6cd5\u5219\u8981\u7e41\u7410\u5f88\u591a\u3002</li> <li>\u901a\u8fc7 Tox \u548c Pytest \u6765\u5b9e\u73b0\u672c\u5730\u5355\u5143\u6d4b\u8bd5\u7684\u591a\u4e2a Python \u7248\u672c\u7684\u77e9\u9635\u5f0f\u8986\u76d6\u3002\u540c\u65f6\uff0c\u8fd9\u4e00\u9636\u6bb5\u8fd8\u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u6784\u5efa\u7269\u683c\u5f0f\u6d4b\u8bd5\uff0c\u786e\u4fdd\u4ee3\u7801\u98ce\u683c\u5b8c\u5168\u7b26\u5408\u9879\u76ee\u7ea6\u5b9a\uff0c\u4ee3\u7801\u8d28\u91cf\u7b26\u5408\u8981\u6c42\u3002</li> <li>\u5728\u4ee3\u7801\u98ce\u683c\u5f3a\u5316\u65b9\u9762\uff0c\u901a\u8fc7 Black \u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u4f7f\u7528 isort \u6765\u91cd\u65b0\u7ec4\u7ec7 import \u4ee3\u7801\u6bb5\uff0c\u4f7f\u7528 Flake8 \u548c Flake8-docstrings \u6765\u68c0\u67e5\u8bed\u6cd5\u548c\u6587\u6863\u683c\u5f0f\u3002</li> <li>\u901a\u8fc7 Pre-commit hooks^precommit \u5728\u4ee3\u7801\u7b7e\u5165\u65f6\uff0c\u5f3a\u5236\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\u548c\u683c\u5f0f\u5316\u3002</li> <li>\u4f7f\u7528 Python Fire^Python_fire \u6765\u751f\u6210\u547d\u4ee4\u884c\u63a5\u53e3\uff08console script\uff09\u3002Python Fire \u8981\u6bd4 Click \u66f4\u7b80\u5355\u6613\u7528\u3002\u60a8\u57fa\u672c\u4e0a\u65e0\u987b\u8fdb\u884c\u5b66\u4e60\u5373\u53ef\u4e0a\u624b\u3002</li> <li>\u4f7f\u7528 Github Actions \u6765\u8fdb\u884c\u6301\u7eed\u96c6\u6210\uff08CI\uff09\uff0c\u5b9e\u73b0\u5728\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u3001\u591a\u4e2a python \u7248\u672c\u4e0b\u7684\u77e9\u9635\u5f0f\u6d4b\u8bd5\u8986\u76d6\uff0c\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u548c\u6784\u5efa\u7269\uff08\u5373 Python \u5e93\uff09\uff0c\u751f\u6210 codecoverage report\uff0c\u5e76\u81ea\u52a8\u4e0a\u4f20\u5230 Codecov</li> <li>\u4f7f\u7528 Git Pages \u6765\u6258\u7ba1\u60a8\u7684\u6587\u6863</li> </ol> <p>Readmore</p> <p>\u8fd9\u91cc\u63d0\u5230\u4e86\u5f88\u591a\u6982\u5ff5\uff0c\u5f88\u53ef\u80fd\u6709\u4e00\u4e9b\u60a8\u8fd8\u662f\u7b2c\u4e00\u6b21\u63a5\u89e6\u3002\u6211\u4eec\u5148\u4ecb\u7ecd\u4e00\u5c0f\u90e8\u5206\u3002</p> <p>\u4ec0\u4e48\u662f\u6784\u5efa\u7269 (artifact) \u6d4b\u8bd5\uff1f\u5f53\u60a8\u53d1\u5e03\u6784\u5efa\u597d\u7684\u7a0b\u5e8f\u5e93\u5230 PyPI \u65f6\uff0c\u6709\u53ef\u80fd\u56e0\u4e3a\u683c\u5f0f\u95ee\u9898\u88ab\u62d2\u7edd\uff0c\u8fd9\u5c06\u4f1a\u5bfc\u81f4\u6301\u7eed\u96c6\u6210\u6d41\u7a0b\u5931\u8d25\u3002\u4e00\u4e2a\u540d\u4e3a Twine \u5de5\u5177\u53ef\u4ee5\u5bf9 artifact \u8fdb\u884c\u68c0\u67e5\uff0c\u63d0\u524d\u53d1\u73b0\u8fd9\u79cd\u9519\u8bef\u3002</p> <p>console script \u662f Python \u7684\u5206\u53d1\u5305\u7684\u4e00\u79cd\u529f\u80fd\uff0c\u5141\u8bb8\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u6307\u5b9a\u7684 python \u811a\u672c\u5b89\u88c5\u5230\u7528\u6237\u53ef\u6267\u884c\u7a0b\u5e8f\u8def\u5f84\u4e0b\uff0c\u76f4\u63a5\u4ece\u547d\u4ee4\u884c\u8c03\u7528\uff0c\u5c31\u8c61\u539f\u751f\u7684 shell \u547d\u4ee4\u4e00\u6837\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u901a\u8fc7 CI \u6765\u8fdb\u884c\u7248\u672c\u53d1\u5e03\uff1f\u4ece\u5f00\u53d1\u673a\u5668\u4e0a\u8fdb\u884c\u53d1\u5e03\u6709\u5f88\u5927\u7684\u968f\u610f\u6027\uff0c\u96be\u4ee5\u786e\u4fdd\u53d1\u5e03\u5305\u7684\u8d28\u91cf\u3002\u5f53\u60a8\u7684\u4ee3\u7801\u7b7e\u5165\u5230 main/master \u5206\u652f\uff0c\u901a\u8fc7\u6d4b\u8bd5\u540e\uff0c\u60a8\u7ed9\u5206\u652f\u6253\u4e0a tag\uff0c\u8fd9\u65f6\u5c31\u4f1a\u89e6\u53d1\u81ea\u52a8\u53d1\u5e03\u3002\u8fd9\u6837\u53d1\u5e03\u7684\u5305\u53ef\u4ee5\u786e\u4fdd\u8d28\u91cf\uff0c\u5e76\u4e14\u6bcf\u4e00\u6b21\u53d1\u5e03\uff0c\u90fd\u786e\u4fdd\u4e86\u6e90\u4ee3\u7801\u3001\u7248\u672c\u53f7\u4e0e\u53d1\u5e03\u7684\u6784\u5efa\u7269\u5b8c\u5168\u4e00\u81f4\uff0c\u53ef\u4ee5\u8ffd\u6eaf\u3002</p> <p>\u4ece\u4e0a\u9762\u7684\u529f\u80fd\u4ecb\u7ecd\u53ef\u4ee5\u770b\u51fa\uff0cPython Project Wizard \u4e0d\u4ec5\u4ec5\u5e2e\u52a9\u6211\u4eec\u751f\u6210\u9879\u76ee\u7684\u521d\u59cb\u5e03\u5c40\uff0c\u5b83\u8fd8\u662f\u4e00\u7cfb\u5217\u89c4\u8303\u548c\u6d41\u7a0b\u7684\u5021\u5bfc\u8005\uff0c\u5e76\u901a\u8fc7\u5de5\u5177\u914d\u7f6e\u548c\u81ea\u52a8\u5316\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u89c4\u8303\u548c\u6d41\u7a0b\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u88ab\u4e25\u683c\u9075\u5faa\u3002\u5982\u679c\u60a8\u4e0d\u9075\u5faa\u8fd9\u4e9b\u89c4\u8303\uff0c\u90a3\u4e48\uff0c\u60a8\u7684\u4ee3\u7801\u5c06\u4e0d\u4f1a\u88ab\u7b7e\u5165\u4ee3\u7801\u4ed3\u5e93\uff0c\u4e5f\u6c38\u8fdc\u4e0d\u80fd\u81ea\u52a8\u53d1\u5e03\u5230 pypi \u4e0a\u9762\u3002</p> <p>\u8fd9\u4e2a\u5411\u5bfc\u5de5\u5177\u7684\u6587\u6863\u5728 \u8fd9\u91cc\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#13","title":"1.3. \u5982\u4f55\u4f7f\u7528\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":""},{"location":"articles/python/best-practice-python/chap04/#131-python-project-wizard-ppw","title":"1.3.1. \u5b89\u88c5 python project wizard (ppw)","text":"<p>\u9996\u5148\uff0c\u4e3a\u6211\u4eec\u7684\u65b0\u5de5\u7a0b\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5c31\u53eb sample \u597d\u4e86\uff1a <pre><code>conda create -n sample python=3.10\n</code></pre> \u7136\u540e\uff0c\u5728 sample \u865a\u62df\u73af\u5883\u4e0b\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a <pre><code>pip install ppw\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap04/#132","title":"1.3.2. \u751f\u6210\u9879\u76ee","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>ppw</code>\u6765\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002</p> <p><pre><code>ppw\n</code></pre> \u8fd9\u91cc\u4f1a\u63d0\u793a\u8f93\u5165\u4e00\u4e9b\u4fe1\u606f\u3002 </p> <p>\u6ce8\u610f project_slug \u662f github repo \u7684\u540d\u5b57\uff0c\u9ed8\u8ba4\u4e5f\u662f\u60a8\u7684\u7a0b\u5e8f\u5e93\u7684\u540d\u5b57\u3002\u8fd9\u4e2a\u540d\u5b57\u4e2d\u95f4\u4e0d\u80fd\u6709\u7a7a\u683c\u548c\"-\"\u3002</p> <p>\u6700\u540e\uff0cppw \u63d0\u793a\u4f60\uff0c\u662f\u5426\u8981\u521b\u5efa\u5f00\u53d1\u73af\u5883\uff0c\u9ed8\u8ba4\u662f'yes'\u3002\u5b83\u5c06\u4e3a\u60a8\u5b89\u88c5 pre-commit hooks, \u5b89\u88c5 poetry \u548c\u9879\u76ee\u4f9d\u8d56\u3002\u5982\u679c\u60a8\u4e0d\u6e05\u695a\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\uff0c\u522b\u62c5\u5fc3\uff0c\u6211\u4eec\u5c06\u5728\u7a0d\u540e\u7684\u7ae0\u8282\u4e2d\u8fdb\u884c\u8bb2\u89e3\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#133-pre-commit-hooks","title":"1.3.3. \u5b89\u88c5 pre-commit hooks","text":"<p>\u5982\u679c\u60a8\u5728 ppw \u751f\u6210\u547d\u4ee4\u65f6\uff0c\u9009\u62e9\u4e86 init_dev_env \u7684\u8bdd\uff0c\u90a3\u4e48\u8fd9\u4e00\u6b65\u5df2\u7ecf\u81ea\u52a8\u8fd0\u884c\u8fc7\u4e86\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u6b63\u597d\u501f\u6b64\u673a\u4f1a\u6765\u4ecb\u7ecd\u4e00\u4e0b init_dev_env \u5177\u4f53\u505a\u4e86\u4ec0\u4e48\u3002</p> <p>pre-commit hooks \u662f git \u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5b83\u5141\u8bb8\u901a\u8fc7\u914d\u7f6e\u4e00\u4e9b\u68c0\u67e5\u94a9\u5b50\uff0c\u4f7f\u5f97\u60a8\u7684\u4ee3\u7801\u5728\u4e0a\u4f20\u5230\u4ed3\u5e93\u4e4b\u524d\uff0c\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u57fa\u7840\u7684\u8bed\u6cd5\u548c\u98ce\u683c\u68c0\u67e5\uff0c\u907f\u514d\u5c06\u4e0d\u5408\u683c\u7684\u4ee3\u7801\u6df7\u5165\u5230\u4ed3\u5e93\u4e2d\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u901a\u8fc7\u8fd0\u884c\u547d\u4ee4 pre-commit install \u6765\u5b89\u88c5\u94a9\u5b50\u3002\u5f53 ppw \u88ab\u5b89\u88c5\u65f6\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4e5f\u5c31\u968f\u4e4b\u5b89\u88c5\u5230\u60a8\u7684\u865a\u62df\u73af\u5883\u4e2d\u4e86\u3002\u4f46\u662f\uff0c\u5982\u679c\u60a8\u5728 ppw \u547d\u4ee4\u751f\u6210\u65f6\uff0c\u6ca1\u6709\u9009\u62e9 init_dev_env \u7684\u8bdd\uff0c\u73b0\u5728\u4e5f\u53ef\u4ee5\u624b\u52a8\u8fd0\u884c\u8fd9\u4e2a\u547d\u4ee4\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#134","title":"1.3.4. \u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56","text":"<p>\u5982\u679c\u60a8\u5728 ppw \u751f\u6210\u547d\u4ee4\u65f6\uff0c\u9009\u62e9\u4e86 init_dev_env \u7684\u8bdd\uff0c\u540c pre-commit hooks \u4e00\u6837\uff0c\u8fd9\u4e00\u6b65\u4e5f\u81ea\u52a8\u8fd0\u884c\u8fc7\u4e86\u3002</p> <p>\u6211\u4eec\u5728\u524d\u9762\u4ecb\u7ecd\u8fc7\u4f9d\u8d56\u51b2\u7a81\u95ee\u9898\u3002\u89e3\u51b3\u529e\u6cd5\u4e4b\u4e00\u5c31\u662f\u4e3a\u6bcf\u4e00\u4e2a\u9879\u76ee\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684\u8fd0\u884c\u73af\u5883\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u5bf9\u4e00\u4e9b\u5927\u578b\u9879\u76ee\uff0c\u5373\u4f7f\u60a8\u638c\u63a7\u4e00\u5207\uff0c\u4f46\u51b2\u7a81\u4ecd\u7136\u53ef\u80fd\u53d1\u751f\u3002\u6709\u4e00\u4e9b\u51b2\u7a81\uff0c\u662f\u7531\u4e8e\u6211\u4eec\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5f15\u5165\u7684\u5404\u79cd\u5de5\u5177\u5305\u9020\u6210\u7684\uff0c\u8fd9\u4e9b\u5de5\u5177\u5305\u5e76\u4e0d\u4f1a\u53d1\u5e03\u5230\u6700\u7ec8\u7528\u6237\u90a3\u91cc\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u4f9d\u8d56\u5206\u7ec4\uff0c\u53ea\u5728\u5f00\u53d1\u6216\u8005\u6d4b\u8bd5\u73af\u5883\u4e0b\u5b89\u88c5\u8fd9\u4e9b\u53ef\u80fd\u5bfc\u81f4\u51b2\u7a81\u7684\u5de5\u5177\u5305\u3002</p> <p>Python project wizard \u521b\u5efa\u7684\u6a21\u677f\u6b63\u662f\u8fd9\u6837\u505a\u7684\u3002\u5b83\u4f7f\u7528\u4e86 Poetry \u6765\u8fdb\u884c\u9879\u76ee\u7ba1\u7406\uff0c\u5e76\u5c06\u9879\u76ee\u7684\u5f00\u53d1\u4f9d\u8d56\u5206\u6210 dev, test, doc \u7b49\u4e09\u4e2a\u7ec4\uff0c\u8fd9\u6837\u4f9d\u8d56\u7684\u7c92\u5ea6\u66f4\u5c0f\u4e00\u4e9b\u3002\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5e94\u8be5\u540c\u65f6\u5b89\u88c5\u8fd9\u4e09\u7ec4\u4f9d\u8d56\u3002</p> <p><pre><code>pip install poetry\npoetry install -E doc -E test -E dev\ntox\n</code></pre> \u5728\u5b89\u88c5\u597d\u5f00\u53d1\u4f9d\u8d56\u4e4b\u540e\uff0c\u6211\u4eec\u7acb\u5373\u8fd0\u884c\u4e86<code>tox</code>\u547d\u4ee4\uff0c\u5bf9\u65b0\u751f\u6210\u7684\u6846\u67b6\u7a0b\u5e8f\u8fdb\u884c\u6d4b\u8bd5\u3002\u547d\u4ee4\u6700\u540e\u4f1a\u7ed9\u51fa\u4e00\u4e2a\u6d4b\u8bd5\u62a5\u544a\u548c lint report\u3002\u4e0d\u51fa\u610f\u5916\uff0c\u8fd9\u91cc\u4e0d\u5e94\u8be5\u6709\u4efb\u4f55\u9519\u8bef\uff08\u4f46\u53ef\u80fd\u4f1a\u6709\u91cd\u65b0\u683c\u5f0f\u5316\u7684\u8b66\u544a\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#135-github-repo","title":"1.3.5. \u521b\u5efa Github Repo","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u7ed3\u6784\u826f\u597d\u7684\u6846\u67b6\u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u7acb\u523b\u57fa\u4e8e\u5b83\u8fdb\u884c\u529f\u80fd\u5f00\u53d1\u3002\u4f46\u662f\uff0c\u4e00\u4e2a\u5b8c\u6574\u7684\u5f00\u53d1\u6d41\u7a0b\uff0c\u8fd8\u81f3\u5c11\u5305\u62ec\u4ee3\u7801\u7ba1\u7406\u3001CI \u548c\u53d1\u5e03\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u770b\u770b\u5e94\u8be5\u5982\u4f55\u5904\u7406\u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u6211\u4eec\u4f7f\u7528 github \u4f5c\u4e3a\u4ee3\u7801\u4ed3\u5e93\u3002\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 gitlab \u6216\u8005\u5176\u5b83\u7684\u4ee3\u7801\u4ed3\u5e93\u3002\u4f46\u662f\uff0cgithub \u662f\u4e00\u4e2a\u514d\u8d39\u7684\u670d\u52a1\uff0c\u4eba\u4eba\u90fd\u80fd\u4f7f\u7528\uff0c\u4e5f\u65e0\u987b\u5b89\u88c5\u8bbe\u7f6e\u3002\u56e0\u6b64\uff0c\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u90fd\u5c3d\u53ef\u80fd\u5730\u4f7f\u7528\u8fd9\u4e9b\u514d\u8d39\u670d\u52a1\u3002</p> <p>\u767b\u5f55\u5230 github, \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a sample \u7684 repo\uff08sample \u5373\u4e3a project_slug)\u3002\u7136\u540e\u5728\u672c\u673a\u8fdb\u5165 sample \u76ee\u5f55\uff0c\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>cd sample\n\n# GIT INIT\ngit add .\ngit commit -m \"Initial skeleton.\"\ngit branch -M main\ngit remote add origin git@github.com:myusername/sample.git\ngit push -u origin main\n</code></pre>"},{"location":"articles/python/best-practice-python/chap04/#136","title":"1.3.6. \u8fdb\u884c\u53d1\u5e03\u6d4b\u8bd5","text":"<p>\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5411 testpypi \u8fdb\u884c\u53d1\u5e03\u6765\u6d4b\u8bd5\u6784\u5efa\u8fc7\u7a0b\u3002\u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u6682\u65f6\u5ffd\u7565\u8fd9\u4e00\u6b65</p> <p>\u5173\u4e8e\u8fd9\u4e00\u6b65\uff0c\u8bf7\u53c2\u89c1 \u6587\u6863</p>"},{"location":"articles/python/best-practice-python/chap04/#137-github-ci","title":"1.3.7. \u8bbe\u7f6e Github CI","text":"<p>\u60a8\u4e5f\u53ef\u4ee5\u6682\u65f6\u5ffd\u7565\u8fd9\u4e00\u6b65\uff0c\u4f46\u662f\u5f3a\u70c8\u5efa\u8bae\u60a8\u5b8c\u6210\u5b83\u3002</p> <p>\u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\u4e2d\u5df2\u7ecf\u5305\u62ec\u4e86\u5fc5\u8981\u7684 CI \u6b65\u9aa4\uff0c\u5982\u8c03\u7528 tox \u8fdb\u884c\u6d4b\u8bd5\uff0c\u53d1\u5e03\u6587\u6863\u548c\u53d1\u884c\u5305\u3002\u4f46\u662f\u9700\u8981\u60a8\u914d\u7f6e\u4e00\u4e9b\u8d26\u6237\u3002\u60a8\u9700\u8981\u751f\u6210 github \u7684 personal token\uff0c\u5e76\u5728 repo &gt; settings &gt; secrets \u4e2d\uff0c\u65b0\u589e\u4e00\u4e2a\u540d\u4e3a<code>PESONAL_TOKEN</code>\u7684\u73af\u5883\u53d8\u91cf\uff0c\u5176\u503c\u8bbe\u7f6e\u4e3a\u60a8\u7684 token\u3002</p> <p>\u60a8\u9700\u8981\u5728 test pypi \u548c pypi \u4e0a\u7533\u8bf7\u90e8\u7f72\u7528 token\uff0c\u5e76\u8c61\u521a\u521a\u8bbe\u7f6e github token \u4e00\u6837\uff0c\u65b0\u589e<code>TEST_PYPI_API_TOKEN</code>\u548c<code>PYPI_API_TOKEN</code>\u8fd9\u4e24\u4e2a\u53d8\u91cf\u3002</p> <p>\u5f53\u60a8\u5b8c\u6210\u4e0a\u8ff0\u8bbe\u7f6e\u540e\uff0c\u4ee5\u540e\u6bcf\u6b21\u5c06\u4ee3\u7801\u63a8\u9001\u5230 github \u4e0a\u7684\u4efb\u4f55\u5206\u652f\uff0c\u90fd\u4f1a\u89e6\u53d1 CI\uff0c\u5e76\u5728\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u5411 testpypi \u8fdb\u884c\u53d1\u5e03\uff1b\u5f53 main \u5206\u652f\u7b7e\u5165\u4ee3\u7801\uff0c\u5e76\u4e14\u6253\u4e86 tag \u65f6\uff0c\u5219\u5728\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u5411 pypi \u8fdb\u884c\u53d1\u5e03\u3002</p> <p>Info</p> <p>\u4e3a\u4ec0\u4e48\u5411 github \u63a8\u9001\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u5c31\u4f1a\u89e6\u53d1 CI\uff0c\u5e76\u5411 testpypi \u8fdb\u884c\u53d1\u5e03\uff1f\u9b54\u6cd5\u5c31\u9690\u85cf\u5728.github \u76ee\u5f55\u4e0b\u3002\u6211\u4eec\u5c06\u5728\u8bb2\u8ff0 CI \u90a3\u4e00\u7ae0\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u4e9b\u9b54\u6cd5\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#138-codecov","title":"1.3.8. \u8bbe\u7f6e Codecov","text":"<p>CI \u5df2\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u53d1\u5e03 codecoverage report\uff0c\u4f46\u9700\u8981\u60a8\u5728 codecov^codecov \u4e0a\u5bfc\u5165\u60a8\u7684 repo \u5e76\u6388\u6743\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#139-git-pages","title":"1.3.9. \u8bbe\u7f6e git pages","text":"<p>CI \u5df2\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u5230 git pages\u3002\u4f46\u60a8\u9700\u8981\u5728\u60a8\u7684\u9879\u76ee\u4e2d\u542f\u7528\u5b83\u3002\u542f\u7528\u7684\u65b9\u6cd5\u662f\uff0c\u5728 repo &gt; settings &gt; pages \u4e2d\uff0c\u9009\u4e2d\u4ee5\u4e0b\u4e24\u9879\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap04/#1310-github","title":"1.3.10. Github \u81ea\u52a8\u5316\u811a\u672c","text":"<p>\u5bf9\u521d\u6b21\u4f7f\u7528 github \u7684\u4eba\u6765\u8bf4\uff0c\u4ece\u521b\u5efa git \u4ed3\u5e93\u5f00\u59cb\u7684\u4e00\u4e9b\u64cd\u4f5c\u53ef\u80fd\u4f1a\u6bd4\u8f83\u56f0\u96be\uff1b\u5373\u4f7f\u662f\u5bf9\u719f\u7ec3\u4f7f\u7528 github \u7684\u4eba\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u4e5f\u4f1a\u6bd4\u8f83\u7e41\u7410\u6613\u9519\u3002\u56e0\u6b64\uff0c\u5728 python project wizard \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u90fd\u4f1a\u5b58\u5728\u4e00\u4e2a repo.sh \u811a\u672c\uff1a</p> <pre><code>#!/BIN/BASH\n\n# !!!NOTICE!!\n# PERSONAL TOKEN WITH FULL ACCESS RIGHTS IS REQUIRED TO RUN THIS SCRIPTS\n# ONCE YOU GOT PERSONA TOKEN, SET ENVIROMENT VARIABLE GH_TOKEN WITH IT\n\n# UNCOMMENT THE FOLLOWING TO CREATE REPO AND PUSH CODE TO GITHUB\nGH REPO CREATE SAMPLE --PUBLIC\nGIT REMOTE ADD ORIGIN GIT@GITHUB.COM:ZILLIONARE/SAMPLE.GIT\nGIT ADD .\nPRE-COMMIT RUN --ALL-FILES\nGIT ADD .\nGIT COMMIT -M \"INITIAL COMMIT BY PPW\"\nGIT BRANCH -M MAIN\n\n# UNCOMMENT THE FOLLOWING TO CONFIG GITHUB SECRET USED BY GITHUB WORKFLOW. \nGH SECRET SET PERSONAL_TOKEN --BODY $GH_TOKEN\nGH SECRET SET PYPI_API_TOKEN --BODY $PYPI_API_TOKEN\nGH SECRET SET TEST_PYPI_API_TOKEN --BODY $TEST_PYPI_API_TOKEN\n\n# UNCOMMENT THE FOLLOWING IF YOU NEED TO SETUP EMAIL NOTIFICATION\n# GH SECRET SET BUILD_NOTIFY_MAIL_SERVER --BODY $BUILD_NOTIFY_MAIL_SERVER\n# GH SECRET SET BUILD_NOTIFY_MAIL_PORT --BODY $BUILD_NOTIFY_MAIL_PORT\n# GH SECRET SET BUILD_NOTIFY_MAIL_FROM --BODY $BUILD_NOTIFY_MAIL_FROM\n# GH SECRET SET BUILD_NOTIFY_MAIL_PASSWORD --BODY $BUILD_NOTIFY_MAIL_PASSWORD\n# GH SECRET SET BUILD_NOTIFY_MAIL_RCPT --BODY $BUILD_NOTIFY_MAIL_RCPT\n</code></pre> <p>\u8fd9\u4e2a\u811a\u672c\u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u8fd9\u4e9b\u4efb\u52a1\uff1a 1. \u521b\u5efagithub\u4ed3\u5e93\uff0c\u5e76\u5c06\u4ee3\u7801\u63a8\u9001\u5230github\u3002 2. \u5411github\u4ed3\u5e93\u6dfb\u52a0\u4e2a\u4ebatoken\uff08PERSONAL_TOKEN\uff09\u3001\u5411pypi\u53d1\u5e03\u65f6\u9700\u8981\u4f7f\u7528\u7684API token\uff0c\u4ee5\u53ca\u5411test pypi\u53d1\u5e03\u65f6\u9700\u8981\u4f7f\u7528\u7684API token\u3002</p> <ol> <li>\u6ce8\u518c\u90ae\u4ef6\u901a\u77e5\u3002\u5f53 Github CI \u6267\u884c\u5b8c\u6210\u540e\uff0c\u65e0\u8bba\u662f\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u90fd\u4f1a\u5411\u60a8\u6ce8\u518c\u7684\u90ae\u7bb1\u91cc\u53d1\u9001\u4e00\u5c01\u901a\u77e5\u90ae\u4ef6\u3002</li> </ol> <p>\u8981\u8fd0\u884c\u4e0a\u8ff0\u811a\u672c\uff0c\u60a8\u9700\u8981\u5b8c\u6210\u4e24\u4ef6\u4e8b\uff1a 1. \u5b89\u88c5 github cli \u5de5\u5177\u3002\u8bf7\u53c2\u8003 \u5b89\u88c5\u6307\u5357 2. \u7533\u8bf7\u4e00\u4e2a GitHub \u7684\u4e2a\u4eba token\uff08\u5168\u90e8\u6743\u9650\uff09\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a token \u901a\u8fc7\u73af\u5883\u53d8\u91cf GH_TOKEN \u66b4\u9732\u7ed9\u811a\u672c\u3002\u53ea\u6709\u8fd9\u6837\uff0c\u811a\u672c\u624d\u80fd\u521b\u5efa github \u4ed3\u5e93\uff0c\u5e76\u8bbe\u7f6e\u5176\u5b83 token\u3002</p> <p>\u4e2a\u4ebatoken\u9700\u8981\u5728 Account &gt; Settings &gt; Developer Settings &gt; Personal Access Tokens\u8def\u5f84\u4e0b\u8fdb\u884c\u8bbe\u7f6e\uff1a</p> <p></p> <p>\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2atoken\uff0c\u60a8\u53ef\u4ee5\u628a\u5b83\u52a0\u5165\u5230\u81ea\u5df1\u5f00\u53d1\u673a\u5668\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u7136\u540e\u5728\u4e0a\u9762\u7684\u811a\u672c\u4e2d\u5f15\u7528\u5b83\u3002\u6b64\u540e\uff0c\u5f53\u60a8\u521b\u5efa\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5c31\u53ef\u4ee5\u4e0d\u518d\u6253\u5f00github.com\u7f51\u9875\uff0c\u800c\u662f\u76f4\u63a5\u901a\u8fc7\u4e0a\u8ff0\u811a\u672c\u6765\u5b8c\u6210\u521b\u5efa\u65b0repo\u7684\u5de5\u4f5c\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#1311-ppw","title":"1.3.11. ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868","text":"<p>\u73b0\u5728\uff0c\u4e00\u4e2a\u89c4\u8303\u7684\u65b0\u9879\u76ee\u5c31\u5df2\u7ecf\u521b\u5efa\u597d\uff0c\u60a8\u5df2\u7ecf\u62e5\u6709\u4e86\u5f88\u591a\u9177\u70ab\u7684\u529f\u80fd\uff0c\u6bd4\u5982 CI\uff0ccodecov, git pages\uff0cpoetry\uff0c\u57fa\u4e8e markdown \u7684\u6587\u6863\u7b49\u7b49\u3002\u60a8\u65b0\u751f\u6210\u7684\u9879\u76ee\uff0c\u5e94\u8be5\u770b\u8d77\u6765\u8c61\u8fd9\u6837\uff1a <pre><code>.\n\u251c\u2500\u2500 .coveragerc\n\u251c\u2500\u2500 .docstring.tpl\n\u251c\u2500\u2500 .editorconfig\n\u251c\u2500\u2500 .flake8\n\u251c\u2500\u2500 .git\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 hooks\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-commit\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 .github\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ISSUE_TEMPLATE.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 workflows\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 dev.yml\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 release.yml\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .isort.cfg\n\u251c\u2500\u2500 .pre-commit-config.yaml\n\u251c\u2500\u2500 AUTHORS.md\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 HISTORY.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 api.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 authors.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 history.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 usage.md\n\u251c\u2500\u2500 mkdocs.yml\n\u251c\u2500\u2500 poetry.lock\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 pyrightconfig.json\n\u251c\u2500\u2500 repo.sh\n\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 py.typed\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test_app.py\n\u2514\u2500\u2500 tox.ini\n</code></pre> \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5e26\u9886\u60a8\u6df1\u5165\u8fd9\u4e9b\u5de5\u5177\uff0c\u4e86\u89e3\u4e3a\u4ec0\u4e48\u5728\u4f17\u591a\u5de5\u5177\u4e2d\uff0c\u9009\u62e9\u4e86\u8fd9\u4e00\u79cd\uff0c\u5b83\u4eec\u53c8\u5e94\u8be5\u5982\u4f55\u914d\u7f6e\uff0c\u5982\u4f55\u4f7f\u7528\u7b49\u7b49\u3002</p> <p>[^kenneth]: Kenneth Reitz \u5f00\u53d1\u7684 requests \u5e93\u975e\u5e38\u8457\u540d\u3002\u5728 Github \u4e0a\uff0c\u7528\u5173\u952e\u5b57 Python \u641c\u7d22\uff0c\u518d\u6309<code>stars</code>\u6570\u91cf\u6765\u6392\u540d\uff0c\u8be5\u5e93\u6392\u5728\u524d 10 \u540d\u3002 [^coverage]: coverage.py \u7684\u6587\u6863\u5728\u8fd9\u91cc\uff1ahttps://coverage.readthedocs.io</p>"},{"location":"articles/python/best-practice-python/chap05/","title":"05 Poetry \u9879\u76ee\u7ba1\u7406","text":"<p>\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u901a\u8fc7 ppw \u751f\u6210\u4e86\u4e00\u4e2a\u89c4\u8303\u7684 python \u9879\u76ee\uff0c\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8bb8\u591a\u95fb\u6240\u672a\u95fb\u3001\u89c1\u6240\u672a\u89c1\u7684\u6982\u5ff5\u548c\u540d\u8bcd\u6251\u9762\u800c\u6765\uff0c\u4e0d\u514d\u8ba9\u4eba\u4e00\u65f6\u773c\u82b1\u7f2d\u4e71\uff0c\u76ee\u4e0d\u6687\u63a5\u3002\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u4ece\u5934\u8bb2\u8d77\uff0c\u53ef\u80fd\u8bfb\u8005\u4e5f\u65e0\u4ece\u7406\u89e3\uff0cppw \u4e3a\u4f55\u8981\u5e94\u7528\u8fd9\u4e9b\u6280\u672f\uff0c\u53c8\u5012\u5e95\u89e3\u51b3\u4e86\u54ea\u4e9b\u95ee\u9898\u3002</p> <p>\u5728 2021 \u5e74 3 \u6708\u7684\u67d0\u4e2a\u5b64\u72ec\u7684\u591c\u665a\uff0c\u6211\u51b3\u5b9a\u521b\u5efa\u4e00\u4e2a\u521b\u5efa\u4e00\u4e2a python \u9879\u76ee\u4ee5\u6253\u53d1\u65f6\u95f4\uff0c\u8fd9\u4e2a\u9879\u76ee\u6709\u4ee5\u4e0b\u6587\u4ef6\uff1a</p> <pre><code>\u251c\u2500\u2500 foo\n\u2502   \u251c\u2500\u2500 foo\n\u2502   \u2502   \u251c\u2500\u2500 bar\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 data.py\n\u2502   \u2514\u2500\u2500 README.md\n</code></pre> <p>\u5f53\u7136\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u6709\u4e86\u597d\u591a\u4e2a\u5176\u5b83\u7684 python \u9879\u76ee\uff0c\u8fd9\u4e9b\u9879\u76ee\u5f80\u5f80\u4f7f\u7528\u4e0d\u540c\u7684 Python \u7248\u672c\uff0c\u5f7c\u6b64\u76f8\u4e92\u51b2\u7a81\u3002\u6240\u4ee5\uff0c\u4ece\u4e00\u5f00\u59cb\uff0c\u6211\u5c31\u51b3\u5b9a\u901a\u8fc7\u865a\u62df\u5f00\u53d1\u73af\u5883\u6765\u9694\u79bb\u8fd9\u4e9b\u4e0d\u540c\u7684\u5de5\u7a0b\u3002\u8fd9\u4e00\u6b21\u4e5f\u4e0d\u4f8b\u5916\uff1a\u6211\u901a\u8fc7 conda \u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a foo \u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u59cb\u7ec8\u5728\u8fd9\u4e2a\u73af\u5883\u4e0b\u5de5\u4f5c\u3002</p> <p>\u6211\u4eec\u7684\u7a0b\u5e8f\u5c06\u4f1a\u8bbf\u95ee postgres \u6570\u636e\u5e93\u91cc\u7684 users \u8868\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u90fd\u4f1a\u4f7f\u7528 sqlalchemy \u6765\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u800c\u907f\u514d\u76f4\u63a5\u4f7f\u7528\u7279\u5b9a\u7684\u6570\u636e\u5e93\u9a71\u52a8\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u4e07\u4e00\u5c06\u6765\u6211\u4eec\u9700\u8981\u66f4\u6362\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u8fd9\u79cd\u8fc1\u79fb\u5e26\u6765\u7684\u5de5\u4f5c\u91cf\u5c06\u8f7b\u677e\u4e0d\u5c11\u3002</p> <p>\u5728 2021 \u5e74 3 \u6708\uff0cpython \u7684\u5f02\u6b65 io \u5df2\u7ecf\u5927\u653e\u5f02\u5f69\u3002\u800c sqlalchemy \u4f9d\u7136\u4e0d\u652f\u6301\u8fd9\u4e00\u6700\u65b0\u7279\u6027\uff0c\u8fd9\u4e0d\u514d\u8ba9\u4eba\u6709\u4e9b\u5931\u671b\u2014\u2014\u8fd9\u4f1a\u5bfc\u81f4\u5728\u8fdb\u884c\u6570\u636e\u5e93\u67e5\u8be2\u65f6\uff0cpython \u8fdb\u7a0b\u4f1a\u6b7b\u7b49\u6570\u636e\u5e93\u8fd4\u56de\u7ed3\u679c\uff0c\u4ece\u800c\u65e0\u6cd5\u6709\u6548\u5229\u7528 CPU \u65f6\u95f4\u3002\u597d\u5728\u6709\u4e00\u4e2a\u540d\u4e3a Gino \u7684\u9879\u76ee\u5f25\u8865\u4e86\u8fd9\u4e00\u7f3a\u9677\uff1a</p> <pre><code>$ pip install gino\n</code></pre> <p>Warning</p> <p>\u5728\u90a3\u4e2a\u5b64\u72ec\u7684\u591c\u665a\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5c06\u5b89\u88c5 gino 1.0 \u7248\u672c\u3002\u5982\u679c\u8bfb\u8005\u60f3\u8fd0\u884c\u8fd9\u91cc\u7684\u7a0b\u5e8f\uff0c\u8bf7\u5c06 gino \u7684\u7248\u672c\u6539\u4e3a 1.0.1\uff0c\u5373\u8fd0\u884c pip install gino==1.0.1</p> <p>\u505a\u5b8c\u8fd9\u4e00\u5207\u51c6\u5907\u5de5\u4f5c\uff0c\u5f00\u59cb\u7f16\u5199\u4ee3\u7801\uff0c\u5176\u4e2d data.py \u7684\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code># \u8fd0\u884c\u4ee5\u4e0b\u4ee3\u7801\u524d\uff0c\u8bf7\u786e\u4fdd\u672c\u5730\u5df2\u5b89\u88c5 POSTGRES \u6570\u636e\u5e93\uff0c\u5e76\u4e14\u521b\u5efa\u4e86\u540d\u4e3a GINO \u7684\u6570\u636e\u5e93\u3002\n\nimport asyncio\nfrom gino import Gino\n\ndb = Gino()\n\nclass User(db.Model):\n    __tablename__ = 'users'\n\n    id = db.Column(db.Integer(), primary_key=True)\n    nickname = db.Column(db.Unicode(), default='noname')\n\nasync def main():\n    # \u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\uff0c\u6dfb\u52a0\u7528\u6237\u540d\u548c\u5bc6\u7801\n    # \u793a\u4f8b\uff1aPOSTGRESQL://ZILLIONARE:123456@LOCALHOST/GINO\n    # \u5e76\u5728\u672c\u5730 POSTGRES \u6570\u636e\u5e93\u4e2d\uff0c\u521b\u5efa GINO \u6570\u636e\u5e93\u3002\n    await db.set_bind('postgresql://localhost/gino')\n    await db.gino.create_all()\n\n    # FURTHER CODE GOES HERE\n\n    await db.pop_bind().close()\n\nasyncio.run(main())\n</code></pre></p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u4ee3\u7801\u6709\u6d01\u7656\u7684\u4eba\uff0c\u6211\u575a\u6301\u59cb\u7ec8\u4f7f\u7528<code>black</code>\u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff1a <pre><code>$ pip install black\n$ black .\n</code></pre></p> <p>\u4e00\u5207 ok\uff0c\u73b0\u5728\u8fd0\u884c\u4e00\u4e0b\uff1a <pre><code>$ python foo/bar/data.py\n</code></pre> \u68c0\u67e5\u6570\u636e\u5e93\uff0c\u53d1\u73b0 users \u8868\u5df2\u7ecf\u521b\u5efa\u3002\u4e00\u5207\u6b63\u5e38\u3002</p> <p>\u6211\u5e0c\u671b\u8fd9\u4e2a\u7a0b\u5e8f\u5728 macos, windows \u548c linux \u7b49\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u90fd\u80fd\u8fd0\u884c\uff0c\u5e76\u4e14\u53ef\u4ee5\u8fd0\u884c\u5728\u4ece python 3.6 \u5230 3.9 \u7684\u6240\u6709\u7248\u672c\u4e0a\u3002</p> <p>\u8fd9\u91cc\u51fa\u73b0\u7b2c\u4e00\u4e2a\u95ee\u9898\u3002\u4f60\u9700\u8981\u51c6\u5907 12 \u4e2a\u73af\u5883\uff1a\u4e09\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6bcf\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4e0a 4 \u4e2a python \u7248\u672c\uff0c\u800c\u4e14\u8fd8\u8981\u8003\u8651\u5982\u4f55\u8fdb\u884c\"\u53ef\u590d\u73b0\u7684\u90e8\u7f72\"\u7684\u95ee\u9898\u3002\u5728\u901a\u8fc7 ppw \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u8fd9\u4e9b\u4ec5\u4ec5\u662f\u901a\u8fc7\u4fee\u6539 tox.ini \u548c.github\\dev.yaml \u4e2d\u76f8\u5173\u914d\u7f6e\u5c31\u53ef\u4ee5\u505a\u5230\u4e86\u3002\u4f46\u5728\u6ca1\u6709\u4f7f\u7528 ppw \u4e4b\u524d\uff0c\u6211\u53ea\u80fd\u8fd9\u4e48\u505a\uff1a</p> <p>\u5728\u4e09\u53f0\u5206\u522b\u5b89\u88c5\u6709 macos\uff0c windows \u548c ubuntu \u7684\u673a\u5668\u4e0a\uff0c\u5206\u522b\u521b\u5efa python 3.6 \u5230 python 3.9 \u7684\u865a\u62df\u73af\u5883\uff0c\u7136\u540e\u5b89\u88c5\u76f8\u540c\u7684\u4f9d\u8d56\u3002\u9996\u5148\uff0c\u6211\u901a\u8fc7<code>pip freeze</code>\u628a\u5f00\u53d1\u673a\u5668\u4e0a\u7684\u4f9d\u8d56\u6293\u53d6\u51fa\u6765\uff1a</p> <pre><code>$ pip freeze &gt; requirements.txt\n</code></pre> <p>\u7136\u540e\u5728\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u7684\u51c6\u5907\u597d\u7684\u865a\u62df\u73af\u5883\u4e2d\uff0c\u8fd0\u884c\u5b89\u88c5\u547d\u4ee4\uff1a</p> <pre><code>$ pip install -r requirements.txt\n</code></pre> <p>\u8fd9\u91cc\u53c8\u51fa\u73b0\u4e86\u7b2c\u4e8c\u4e2a\u95ee\u9898\u3002<code>black</code>\u7eaf\u7cb9\u662f\u53ea\u7528\u4e8e\u5f00\u53d1\u76ee\u7684\uff0c\u4e3a\u4ec0\u4e48\u4e5f\u9700\u8981\u5728\u6d4b\u8bd5/\u90e8\u7f72\u73af\u5883\u4e0a\u5b89\u88c5\u5462\uff1f\u56e0\u6b64\uff0c\u5728\u5236\u4f5c<code>requirements.txt</code>\u4e4b\u524d\uff0c\u6211\u51b3\u5b9a\u5c06<code>black</code>\u5378\u8f7d\u6389\uff1a</p> <p><pre><code>$ pip uninstall -y black &amp;&amp; pip freeze &gt; requirements.txt\n</code></pre> \u7136\u800c\uff0c\u4ed4\u7ec6\u68c0\u67e5 requirements.txt \u4e4b\u540e\u53d1\u73b0\uff0c<code>black</code>\u662f\u88ab\u79fb\u9664\u4e86\uff0c\u4f46\u4ec5\u4ec5\u662f\u5b83\u81ea\u5df1\u3002\u5b83\u7684\u4e00\u4e9b\u4f9d\u8d56\uff0c\u6bd4\u5982<code>click</code>\uff0c <code>tomli</code>\u7b49\u7b49\uff0c\u4ecd\u7136\u51fa\u73b0\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u3002</p> <p>Info</p> <p>\u8fd9\u91cc\u7684 click \u5c31\u662f\u6211\u4eec\u524d\u9762\u63d0\u5230\u7684 Pallets \u5f00\u53d1\u7684\u90a3\u4e2a click\u3002 black \u4f5c\u4e3a\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u5b83\u65e2\u53ef\u4ee5\u4f5c\u4e3a API \u88ab\u5176\u5b83\u5de5\u5177\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u72ec\u7acb\u5e94\u7528\uff0c\u901a\u8fc7\u547d\u4ee4\u884c\u6765\u8fd0\u884c\u3002black \u5c31\u4f7f\u7528\u4e86 click \u6765\u8fdb\u884c\u547d\u4ee4\u884c\u53c2\u6570\u7684\u89e3\u6790\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u4e0d\u5f97\u4e0d\u629b\u5f03 pip freeze \u8fd9\u79cd\u4f5c\u6cd5\uff0c\u53ea\u5728 requirements.txt \u4e2d\u52a0\u4e0a\u76f4\u63a5\u4f9d\u8d56\uff08\u5728\u8fd9\u91cc\uff0c black \u662f\u76f4\u63a5\u4f9d\u8d56\uff0c\u800c click \u662f\u95f4\u63a5\u4f9d\u8d56\uff0c\u7531 black \u5f15\u5165\uff09\uff0c\u5e76\u4e14\uff0c\u5c06\u8fd9\u4e2a\u6587\u4ef6\u4e00\u5206\u4e3a\u4e8c\uff0c\u5c06 black \u653e\u5728 requirements_dev.txt \u4e2d\u3002</p> <p><pre><code># REQUIREMENTS.TXT\ngino==1.0\n</code></pre> <pre><code># REQUIREMENTS_DEV.TXT\nblack==18.0\n</code></pre></p> <p>\u73b0\u5728\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u4e0b\uff0c\u6211\u4eec\u5c06\u53ea\u5b89\u88c5 requirements.txt \u4e2d\u7684\u90a3\u4e9b\u4f9d\u8d56\u3002\u4e0d\u51fa\u6240\u6599\uff0c\u9879\u76ee\u8fd0\u884c\u5f97\u5f88\u6d41\u7545\uff0c\u76ee\u6807\u8fbe\u6210\uff0c\u653e\u5fc3\u5730\u53bb\u7761\u89c9\u4e86\u3002\u4f46\u662f\uff0cgino \u8fd8\u4f9d\u8d56\u4e8e sqlalchemy \u548c asyncpg\u3002\u540e\u4e8c\u8005\u88ab\u79f0\u4e3a\u4f20\u9012\u4f9d\u8d56\u3002\u6211\u4eec\u9501\u5b9a\u4e86 gino \u7684\u7248\u672c\uff0c\u4f46\u662f gino \u662f\u5426\u6b63\u786e\u9501\u5b9a\u4e86 sqlalchemy \u548c asyncpg \u7684\u7248\u672c\u5462\uff1f\u8fd9\u4e00\u5207\u4ecd\u7136\u4e0d\u5f97\u800c\u77e5\u3002</p> <p>\u7b2c\u4e8c\u5929\u65e9\u6668\u9192\u6765\uff0csqlalchemy 1.4 \u7248\u672c\u53d1\u5e03\u4e86\u3002\u7a81\u7136\u5730\uff0c\u5f53\u6211\u518d\u5b89\u88c5\u65b0\u7684\u6d4b\u8bd5\u73af\u5883\u5e76\u8fdb\u884c\u6d4b\u8bd5\u65f6\uff0c\u7a0b\u5e8f\u62a5\u51fa\u4e86\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>Traceback (most recent call last):\n  File \"/Users/aaronyang/workspace/best-practice-python/code/05/foo/foo/bar/data.py\", line 3, in &lt;module&gt;\n    from gino import Gino\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/__init__.py\", line 2, in &lt;module&gt;\n    from .engine import GinoEngine, GinoConnection  # NOQA\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/engine.py\", line 181, in &lt;module&gt;\n    class GinoConnection:\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/engine.py\", line 211, in GinoConnection\n    schema_for_object = schema._schema_getter(None)\nAttributeError: module 'sqlalchemy.sql.schema' has no attribute '_schema_getter'\n</code></pre></p> <p>\u6211\u5dee\u4e0d\u591a\u82b1\u4e86\u6574\u6574\u4e24\u5929\u624d\u5f04\u660e\u767d\u53d1\u751f\u4e86\u4ec0\u4e48\u3002\u6211\u7684\u7a0b\u5e8f\u4f9d\u8d56\u4e8e gino, \u800c gino \u53c8\u4f9d\u8d56\u4e8e\u8457\u540d\u7684 SQLAlchemy\u3002gino 1.0 \u662f\u8fd9\u6837\u9501\u5b9a SQLAlchemy \u7684\u7248\u672c\u7684\uff1a <pre><code>$pip install gino==1.0\nLooking in indexes: https://pypi.jieyu.ai/simple, https://pypi.org/simple\nCollecting gino==1.0\n  Downloading gino-1.0.0-py3-none-any.whl (48 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 48 kB 129 kB/s \nCollecting SQLAlchemy&lt;2.0,&gt;=1.2\n  Downloading SQLAlchemy-1.4.0.tar.gz (8.5 MB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 8.5 MB 2.3 MB/s \n</code></pre></p> <p>Info</p> <p>\u4e0a\u8ff0\u6587\u672c\u662f\u5728 2021 \u5e74 3 \u6708\u5b89\u88c5 gino 1.0 \u65f6\u7684\u8f93\u51fa\u3002\u5982\u679c\u60a8\u73b0\u5728\u8fd0\u884c<code>pip install gino==1.0</code>\uff0c\u4f1a\u5b89\u88c5 SQLAlchemy 1.4.46 \u7248\u672c\uff0c\u8fd9\u662f\u5b83\u5728 1.x \u4e0b\u7684\u6700\u540e\u4e00\u4e2a\u7248\u672c\u3002</p> <p>\u4ece pip \u7684\u5b89\u88c5\u65e5\u5fd7\u53ef\u4ee5\u770b\u5230\uff0cgino \u58f0\u660e\u80fd\u63a5\u53d7\u7684 SQLAlchemy \u7684\u6700\u5c0f\u7248\u672c\u662f 1.2\uff0c\u6700\u5927\u7248\u672c\u5219\u662f\u4e0d\u5230 2.0\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u5b89\u88c5 gino 1.0 \u65f6\uff0c\u53ea\u8981 SQLAlchemy \u5b58\u5728\u8d85\u8fc7 1.2\uff0c\u4e14\u5c0f\u4e8e 2.0 \u7684\u6700\u65b0\u7248\u672c\uff0c\u5b83\u5c31\u4e00\u5b9a\u4f1a\u9009\u62e9\u5b89\u88c5\u8fd9\u4e2a\u6700\u65b0\u7248\u672c\uff0c\u6700\u7ec8\uff0cSQLAlchemy 1.4.0 \u88ab\u5b89\u88c5\u5230\u73af\u5883\u4e2d\u3002</p> <p>SQLAlchemy \u5728 2020 \u5e74\u4e5f\u610f\u8bc6\u5230\u4e86 asyncio \u7684\u91cd\u8981\u6027\uff0c\u5e76\u8ba1\u5212\u5728 1.4 \u7248\u672c\u65f6\u8f6c\u5411 asyncio\u3002\u7136\u800c\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u8c03\u7528\u63a5\u53e3\u5c31\u5fc5\u987b\u53d1\u751f\u6539\u53d8 -- \u4e5f\u5c31\u662f\uff0c\u4e4b\u524d\u4f9d\u8d56\u4e8e SQLAlchemy \u7684\u90a3\u4e9b\u7a0b\u5e8f\uff0c\u4e0d\u8fdb\u884c\u4fee\u6539\u662f\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528 SQLAlchemy 1.4 \u7684\u30021.4.0 \u8fd9\u4e2a\u7248\u672c\u53d1\u5e03\u4e8e 2021 \u5e74 3 \u6708 16 \u65e5\u3002</p> <p>\u539f\u56e0\u627e\u5230\u4e86\uff0c\u6700\u7ec8\u95ee\u9898\u4e5f\u89e3\u51b3\u4e86\u3002\u6700\u7ec8\uff0c\u6211\u628a\u8fd9\u4e2a\u9519\u8bef\u62a5\u544a\u7ed9\u4e86 gino\uff0cgino \u7684\u5f00\u53d1\u8005\u627f\u62c5\u4e86\u8d23\u4efb\uff0c\u53d1\u5e03\u4e86 1.0.1\uff0c\u5c06 SQLAlchemy \u7684\u7248\u672c\u9501\u5b9a\u5728\"&gt;1.2,&lt;1.4\"\u8fd9\u4e2a\u8303\u56f4\u5185\u3002</p> <pre><code>pip install gino==1.0.1\nLooking in indexes: https://pypi.jieyu.ai/simple, https://pypi.org/simple\nCollecting gino==1.0.1\n  Using cached gino-1.0.1-py3-none-any.whl (49 kB)\nCollecting SQLAlchemy&lt;1.4,&gt;=1.2.16\n  Using cached SQLAlchemy-1.3.24-cp39-cp39-macosx_11_0_arm64.whl\n</code></pre> <p>\u5728\u8fd9\u4e2a\u6848\u4f8b\u4e2d\uff0c\u6211\u5e76\u6ca1\u6709\u8981\u6c42\u5347\u7ea7\u5e76\u4f7f\u7528 SQLAlchemy \u7684\u65b0\u529f\u80fd\uff0c\u56e0\u6b64\uff0c\u65b0\u7684\u5b89\u88c5\u672c\u4e0d\u5e94\u8be5\u53bb\u5347\u7ea7\u8fd9\u6837\u4e00\u4e2a\u7834\u574f\u6027\u7684\u7248\u672c\uff1b\u4f46\u662f\u5982\u679c SQLAlchemy \u51fa\u4e86\u65b0\u7684\u5b89\u5168\u66f4\u65b0\uff0c\u6216\u8005 bug \u4fee\u590d\uff0c\u663e\u7136\uff0c\u6211\u4eec\u4e5f\u5e0c\u671b\u6211\u4eec\u7684\u7a0b\u5e8f\u5728\u4e0d\u8fdb\u884c\u66f4\u65b0\u53d1\u5e03\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u80fd\u5bf9\u4f9d\u8d56\u8fdb\u884c\u66f4\u65b0\uff08\u5426\u5219\uff0c\u5982\u679c\u4efb\u4f55\u4e00\u4e2a\u4f9d\u8d56\u53d1\u5e03\u5b89\u5168\u66f4\u65b0\uff0c\u90fd\u5c06\u5bfc\u81f4\u4e3b\u7a0b\u5e8f\u4e0d\u5f97\u4e0d\u53d1\u5e03\u66f4\u65b0\u7684\u8bdd\uff0c\u8fd9\u79cd\u8026\u5408\u4e5f\u662f\u5f88\u96be\u63a5\u53d7\u7684\uff09\u3002\u56e0\u6b64\uff0c\u662f\u5426\u5b58\u5728\u4e00\u79cd\u673a\u5236\uff0c\u4f7f\u5f97\u6211\u4eec\u7684\u5e94\u7528\u5728\u6307\u5b9a\u76f4\u63a5\u4f9d\u8d56\u65f6\uff0c\u4e5f\u53ef\u4ee5\u6070\u5f53\u5730\u9501\u5b9a\u4f20\u9012\u4f9d\u8d56\u7684\u7248\u672c\uff0c\u5e76\u4e14\u5141\u8bb8\u4f20\u9012\u4f9d\u8d56\u8fdb\u884c\u5408\u7406\u7684\u66f4\u65b0\uff1f\u8fd9\u662f\u6211\u4eec\u8fd9\u4e2a\u6848\u4f8b\u63d0\u51fa\u6765\u7684\u7b2c\u4e09\u4e2a\u95ee\u9898\u3002</p> <p>\u73b0\u5728\uff0c\u4f3c\u4e4e\u662f\u6211\u4eec\u5c06\u4ea7\u54c1\u53d1\u5e03\u7684\u65f6\u5019\u4e86\u3002\u6211\u4eec\u770b\u5230\u5176\u5b83\u4eba\u5f00\u53d1\u7684\u5f00\u6e90\u9879\u76ee\u53d1\u5e03\u5728 pypi \u4e0a\uff0c\u8fd9\u5f88\u9177\u3002\u6211\u4e5f\u5e0c\u671b\u6211\u7684\u7a0b\u5e8f\u80fd\u88ab\u5343\u767e\u4e07\u4eba\u4f7f\u7528\u3002\u8fd9\u5c31\u9700\u8981\u7f16\u5199 MANINFEST.in, setup.cfg, setup.py \u7b49\u6587\u4ef6\u3002</p> <p>MANIFEST.in \u7528\u6765\u544a\u8bc9 setup tools \u54ea\u4e9b\u989d\u5916\u7684\u6587\u4ef6\u5e94\u8be5\u88ab\u5305\u542b\u5728\u53d1\u884c\u5305\u91cc\uff0c\u4ee5\u53ca\u54ea\u4e9b\u6587\u4ef6\u5219\u5e94\u8be5\u88ab\u6392\u9664\u6389\u3002\u5f53\u7136\u5728\u6211\u4eec\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u662f\u53ef\u4ee5\u88ab\u5ffd\u7565\u7684\u3002</p> <p>setup.py \u4e2d\u9700\u8981\u6307\u660e\u4f9d\u8d56\u9879\u3001\u7248\u672c\u53f7\u7b49\u7b49\u4fe1\u606f\u3002\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u4f7f\u7528\u4e86 requirements.txt \u548c requirements_dev.txt \u6765\u7ba1\u7406\u4f9d\u8d56\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b\u5728 setup.py \u4e2d\u91cd\u590d\u6307\u5b9a -- \u6211\u4eec\u5e0c\u671b\u53ea\u66f4\u65b0 requirements.txt\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0 setup.py\uff1a</p> <p><pre><code>from setuptools import setup\n\nwith open('requirements.txt') as f:\n    install_requires = f.read().splitlines()\nwith open('requirements_dev.txt') as f:\n    extras_dev_requires = f.read().splitlines()\n\n# SETUP \u662f\u4e00\u4e2a\u6709\u7740\u5e9e\u5927\u53c2\u6570\u4f53\u7684\u51fd\u6570\uff0c\u8fd9\u91cc\u53ea\u663e\u793a\u4e86\u90e8\u5206\u76f8\u5173\u53c2\u6570\nsetup(\n    name='foo',\n    version='0.0.1',\n    install_requires=install_requires,\n    extras_require={'dev': extras_dev_requires},\n    packages=['foo'],\n)\n</code></pre> \u770b\u4e0a\u53bb\u8fd8\u7b97\u5b8c\u7f8e\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u6bcf\u4e00\u6b21\u53d1\u5e03\u65f6\uff0c\u8fd8\u4f1a\u6d89\u53ca\u5230\u4fee\u6539\u7248\u672c\u53f7\u7b49\u95ee\u9898\uff0c\u8fd9\u90fd\u662f\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\u3002\u800c\u4e14\uff0c\u5b83\u8fd8\u4e0d\u6d89\u53ca\u6253\u5305\u548c\u53d1\u5e03\u3002\u901a\u5e38\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u7f16\u5199\u4e00\u4e2a makefile\uff0c\u901a\u8fc7 makefile \u547d\u4ee4\u6765\u5b9e\u73b0\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u8fd9\u4e9b\u770b\u4e0a\u53bb\u90fd\u662f\u5f88\u5e38\u89c4\u7684\u64cd\u4f5c\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u5c06\u5b83\u81ea\u52a8\u5316\u5462\uff1f\u8fd9\u662f\u7b2c\u56db\u4e2a\u95ee\u9898\uff0c\u5373\u5982\u4f55\u7b80\u5316\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u8fd9\u56db\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u6211\u4eec\u8fd9\u4e00\u7ae0\u8981\u8ba8\u8bba\u7684\u4e3b\u9898\u3002\u6211\u4eec\u5c06\u4ee5 Poetry \u4e3a\u4e3b\u8981\u5de5\u5177\uff0c\u7ed3\u5408 semantic versioning \u6765\u4e32\u8d77\u8fd9\u4e00\u8bdd\u9898\u7684\u8ba8\u8bba\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#1-semantic-versioning","title":"1. SEMANTIC VERSIONING\uff08\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\uff09","text":"<p>\u5728\u8f6f\u4ef6\u5f00\u53d1\u9886\u57df\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u5bf9\u540c\u4e00\u8f6f\u4ef6\u8fdb\u884c\u4e0d\u65ad\u7684\u4fee\u8865\u548c\u66f4\u65b0\uff0c\u6bcf\u6b21\u66f4\u65b0\uff0c\u6211\u4eec\u90fd\u4fdd\u7559\u5927\u90e8\u5206\u539f\u6709\u7684\u4ee3\u7801\u548c\u529f\u80fd\uff0c\u4fee\u590d\u4e00\u4e9b\u6f0f\u6d1e\uff0c\u5f15\u5165\u4e00\u4e9b\u65b0\u7684\u6784\u4ef6\u3002</p> <p>\u6709\u4e00\u4e2a\u53e4\u8001\u7684\u601d\u60f3\u5b9e\u9a8c\uff0c\u88ab\u79f0\u4e4b\u4e3a\u5fd2\u4fee\u65af\u8239\uff08The Ship of Theseus\uff09\u95ee\u9898\uff0c\u5b83\u63cf\u8ff0\u7684\u6b63\u662f\u540c\u6837\u7684\u573a\u666f\uff1a</p> <p>\u5fd2\u4fee\u65af\u8239\u95ee\u9898\u6700\u65e9\u51fa\u81ea\u516c\u5143\u4e00\u4e16\u7eaa\u666e\u9c81\u5854\u514b\u7684\u8bb0\u8f7d\u3002\u5b83\u63cf\u8ff0\u7684\u662f\u4e00\u8258\u53ef\u4ee5\u5728\u6d77\u4e0a\u822a\u884c\u51e0\u767e\u5e74\u7684\u8239\uff0c\u53ea\u8981\u4e00\u5757\u6728\u677f\u8150\u70c2\u4e86\uff0c\u5b83\u5c31\u4f1a\u88ab\u66ff\u6362\u6389\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u6240\u6709\u7684\u529f\u80fd\u90e8\u4ef6\u90fd\u4e0d\u662f\u6700\u5f00\u59cb\u7684\u90a3\u4e9b\u4e86\u3002\u73b0\u5728\u7684\u95ee\u9898\u662f\uff0c\u6700\u540e\u7684\u8fd9\u8258\u8239\u662f\u539f\u6765\u7684\u90a3\u8258\u5fd2\u4fee\u65af\u4e4b\u8239\u5462\uff0c\u8fd8\u662f\u4e00\u8258\u5b8c\u5168\u4e0d\u540c\u7684\u8239\uff1f\u5982\u679c\u4e0d\u662f\u539f\u6765\u7684\u8239\uff0c\u90a3\u4e48\u4ece\u4ec0\u4e48\u65f6\u5019\u8d77\u5b83\u5c31\u4e0d\u518d\u662f\u539f\u6765\u7684\u8239\u4e86\uff1f</p> <p>\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\uff0c\u53d1\u751f\u5728\u5f88\u591a\u9886\u57df\u3002\u8c61 IBM \u8fd9\u6837\u7684\u767e\u5e74\u8001\u5e97\uff0c\u4e0d\u4ec5 CEO \u6362\u4e86\u4e00\u4efb\u53c8\u4e00\u4efb\uff0c\u5c31\u8fde\u80a1\u6743\u4e5f\u5728\u4e0d\u505c\u5730\u53d8\u66f4\u3002\u53ef\u80fd\u5f88\u5c11\u4eba\u6709\u5728\u610f\uff0c\u4eca\u5929\u7684 IBM\uff0c\u8ddf\u767e\u5e74\u4e4b\u524d\u7684 IBM \u8fd8\u662f\u4e0d\u662f\u540c\u4e00\u5bb6 IBM\uff0c\u5c31\u8c61\u6211\u4eec\u5f88\u5c11\u5173\u6ce8\uff0c\u4eba\u7c7b\u662f\u4ece\u4ec0\u4e48\u65f6\u5019\u8d77\uff0c\u4e0d\u518d\u662f\u52a8\u7269\u4e00\u6837\u3002\u53c8\u6bd4\u5982\uff0c\u5982\u679c\u6709\u4e00\u5bb6\u521b\u4e1a\u516c\u53f8\uff0c\u5f53\u521d\u5438\u5f15\u4f60\u52a0\u5165\uff0c\u540e\u6765\u521b\u59cb\u4eba\u53d8\u73b0\u8d70\u4eba\u4e86\uff0c\u5c3d\u7ba1\u516c\u53f8\u540d\u5b57\u53ef\u80fd\u6ca1\u6362\uff0c\u4f46\u516c\u53f8\u65b0\u8fdb\u4e86\u7ba1\u7406\u5c42\u548c\u65b0\u540c\u5b66\uff0c\u4e1a\u52a1\u4e5f\u53ef\u80fd\u53d1\u751f\u4e86\u4e00\u4e9b\u53d8\u5316\u3002\u8fd9\u5bb6\u516c\u53f8\uff0c\u8fd8\u662f\u4f60\u5f53\u521d\u52a0\u5165\u7684\u516c\u53f8\u5417\uff1f\u4f60\u662f\u8981\u9009\u62e9\u6f47\u6d12\u7684\u79bb\u5f00\uff0c\u8fd8\u662f\u575a\u6301\u7559\u4e0b\u6765\uff1f</p> <p>\u5728\u8f6f\u4ef6\u5f00\u53d1\u9886\u57df\u4e2d\uff0c\u6211\u4eec\u66f4\u662f\u5e38\u5e38\u9047\u5230\u540c\u6837\u7684\u95ee\u9898\u3002\u6bcf\u9047\u5230\u4e00\u4e2a\u6f0f\u6d1e\uff08bug\uff09\uff0c\u6211\u4eec\u5c31\u66f4\u6362\u4e00\u5757\"\u6728\u677f\"\u3002\u968f\u7740\u8fd9\u79cd\u4fee\u8865\u548c\u66ff\u6362\u8d8a\u6765\u8d8a\u591a\uff0c\u8f6f\u4ef6\u4e5f\u5fc5\u7136\u51fa\u73b0\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\uff1a\u73b0\u5728\u7684\u8f6f\u4ef6\u8fd8\u662f\u4e0d\u662f\u5f53\u521d\u7684\u8f6f\u4ef6\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u5b83\u662f\u5728\u4ec0\u4e48\u65f6\u5019\u4e0d\u518d\u662f\u539f\u6765\u7684\u8f6f\u4ef6\u4e86\u5462\uff1f</p> <p>\u5f53\u7136\uff0c\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\u6709\u7740\u6df1\u523b\u7684\u54f2\u5b66\u5185\u6db5\u3002\u6211\u4eec\u5728\u8f6f\u4ef6\u9886\u57df\u4e2d\uff0c\u5c3d\u7ba1\u4e5f\u9047\u5230\u540c\u6837\u7684\u573a\u666f\uff0c\u4f46\u6211\u4eec\u9700\u8981\u7684\u56de\u7b54\u5c31\u8981\u7b80\u5355\u5f88\u591a\uff1a</p> <p>\u8f6f\u4ef6\u5e94\u8be5\u5982\u4f55\u5411\u5916\u754c\u8868\u660e\u5b83\u5df2\u53d1\u751f\u4e86\u5b9e\u8d28\u6027\u7684\u53d8\u5316\uff1b\u751f\u6001\u5185\u4f9d\u8d56\u4e8e\u8be5\u8f6f\u4ef6\u7684\u5176\u5b83\u8f6f\u4ef6\uff0c\u53c8\u5e94\u8be5\u5982\u4f55\u8bc6\u522b\u8f6f\u4ef6\u7684\u8715\u53d8\u5462\uff1f</p> <p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0cTom Preston-Werner\uff08Github \u7684\u5171\u540c\u521b\u59cb\u4eba\uff09\u63d0\u51fa Semantic versioning \u65b9\u6848\uff0c\u5373\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\u3002Semantic version \u8868\u793a\u6cd5\u63d0\u51fa\u7684\u521d\u8877\u662f\uff1a</p> <p>Quote</p> <p>\u5728\u8f6f\u4ef6\u7ba1\u7406\u7684\u9886\u57df\u91cc\u5b58\u5728\u7740\u88ab\u79f0\u4f5c\u201c\u4f9d\u8d56\u5730\u72f1\u201d\u7684\u6b7b\u4ea1\u4e4b\u8c37\uff0c\u7cfb\u7edf\u89c4\u6a21\u8d8a\u5927\uff0c\u52a0\u5165\u7684\u5305\u8d8a\u591a\uff0c\u4f60\u5c31\u8d8a\u6709\u53ef\u80fd\u5728\u672a\u6765\u7684\u67d0\u4e00\u5929\u53d1\u73b0\u81ea\u5df1\u5df2\u6df1\u9677\u7edd\u671b\u4e4b\u4e2d\u3002</p> <p>\u5728\u5f3a\u4f9d\u8d56\u7684\u7cfb\u7edf\u4e2d\u53d1\u5e03\u65b0\u7248\u672c\u5305\u53ef\u80fd\u5f88\u5feb\u4f1a\u6210\u4e3a\u5669\u68a6\u3002\u5982\u679c\u4f9d\u8d56\u5173\u7cfb\u8fc7\u5f3a\uff0c\u53ef\u80fd\u9762\u4e34\u7248\u672c\u63a7\u5236\u88ab\u9501\u6b7b\u7684\u98ce\u9669\uff08\u5fc5\u987b\u5bf9\u6bcf\u4e00\u4e2a\u4f9d\u8d56\u5305\u6539\u7248\u624d\u80fd\u5b8c\u6210\u67d0\u6b21\u5347\u7ea7\uff09\u3002\u800c\u5982\u679c\u4f9d\u8d56\u5173\u7cfb\u8fc7\u4e8e\u677e\u6563\uff0c\u53c8\u5c06\u65e0\u6cd5\u907f\u514d\u7248\u672c\u7684\u6df7\u4e71\uff08\u5047\u8bbe\u517c\u5bb9\u4e8e\u672a\u6765\u7684\u591a\u4e2a\u7248\u672c\u5df2\u8d85\u51fa\u4e86\u5408\u7406\u6570\u91cf\uff09\u3002\u5f53\u4f60\u4e13\u6848\u7684\u8fdb\u5c55\u56e0\u4e3a\u7248\u672c\u4f9d\u8d56\u88ab\u9501\u6b7b\u6216\u7248\u672c\u6df7\u4e71\u53d8\u5f97\u4e0d\u591f\u7b80\u4fbf\u548c\u53ef\u9760\uff0c\u5c31\u610f\u5473\u7740\u4f60\u6b63\u5904\u4e8e\u4f9d\u8d56\u5730\u72f1\u4e4b\u4e2d\u3002</p> <p>Semantic versioning \u7b80\u5355\u5730\u8bf4\uff0c\u5c31\u662f\u7528\u7248\u672c\u53f7\u7684\u53d8\u5316\u5411\u5916\u754c\u8868\u660e\u8f6f\u4ef6\u53d8\u66f4\u7684\u5267\u70c8\u7a0b\u5ea6\u3002\u8981\u7406\u89e3 Semantic versioning\uff0c\u6211\u4eec\u9996\u5148\u5f97\u4e86\u89e3\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u3002</p> <p>\u5f53\u6211\u4eec\u8bf4\u8d77\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u65f6\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u610f\u8bc6\u5230\uff0c\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u4e00\u822c\u7531\u4e3b\u7248\u672c\u53f7 (major)\uff0c\u6b21\u7248\u672c\u53f7 (minor)\uff0c\u4fee\u8ba2\u53f7 (patch) \u548c\u6784\u5efa\u7f16\u53f7 (build no.) \u56db\u90e8\u5206\u7ec4\u6210\u3002\u7531\u4e8e Python \u7a0b\u5e8f\u6ca1\u6709\u5176\u5b83\u8bed\u8a00\u901a\u5e38\u610f\u4e49\u4e0a\u7684\u6784\u5efa\uff0c\u6240\u4ee5\uff0c\u5bf9 Python \u7a0b\u5e8f\u800c\u8a00\uff0c\u4e00\u822c\u53ea\u7528\u4e09\u6bb5\uff0c\u5373 major.minor.patch \u6765\u8868\u793a\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0a\uff0c\u51fa\u4e8e\u5185\u90e8\u5f00\u53d1\u7684\u9700\u8981\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u80fd\u7ed9 Python \u7a0b\u5e8f\u7684\u7248\u672c\u7528\u4e0a build no\uff0c\u7279\u522b\u662f\u5728 CI \u96c6\u6210\u4e2d\u3002\u5f53\u6211\u4eec\u5411\u4ed3\u5e93\u63a8\u9001\u4e00\u4e2a commit \u65f6\uff0cCI \u90fd\u9700\u8981\u8fdb\u884c\u4e00\u8f6e\u6784\u5efa\u548c\u81ea\u52a8\u9a8c\u8bc1\uff0c\u6b64\u65f6\u5e76\u4e0d\u4f1a\u4fee\u6539\u6b63\u5f0f\u7248\u672c\u53f7\uff0c\u56e0\u6b64\uff0c\u4e00\u822c\u503e\u5411\u4e8e\u4f7f\u7528\u6784\u5efa\u53f7\u6765\u533a\u5206\u4e0d\u540c\u7684 commit \u5bfc\u81f4\u7684\u7248\u672c\u4e0a\u7684\u4e0d\u540c\u3002\u5728 python project wizard \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5176 CI \u5c31\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u903b\u8f91\u3002</p> <p>\u4e0a\u8ff0\u7248\u672c\u8868\u793a\u6cd5\u6ca1\u6709\u53cd\u6620\u51fa\u4efb\u4f55\u89c4\u5219\u3002\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\uff0c\u4f60\u7684\u8f6f\u4ef6\u5e94\u8be5\u5b9a\u4e49\u4e3a 0.x\uff0c\u4ec0\u4e48\u65f6\u5019\u53c8\u5e94\u8be5\u5b9a\u4e49\u4e3a 1.x\uff0c\u4ec0\u4e48\u65f6\u5019\u9012\u589e\u4e3b\u7248\u672c\u53f7\uff0c\u4ec0\u4e48\u65f6\u5019\u5219\u53ea\u9700\u8981\u9012\u589e\u4fee\u8ba2\u53f7\u5462\uff1f\u5982\u679c\u4e0d\u540c\u7684\u8f6f\u4ef6\u751f\u4ea7\u5546\u5bf9\u4ee5\u8fd9\u4e9b\u95ee\u9898\u6ca1\u6709\u5171\u8bc6\u7684\u8bdd\uff0c\u4f1a\u4ea7\u751f\u4ec0\u4e48\u95ee\u9898\u5417\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u968f\u610f\u5b9a\u4e49\u7248\u672c\u53f7\u5f15\u8d77\u7684\u95ee\u9898\u5f88\u591a\u3002\u5728\u524d\u9762\u6211\u4eec\u63d0\u5230\u8fc7 SQLAlchemy \u7684\u5347\u7ea7\u5bfc\u81f4\u8bb8\u591a Python \u8f6f\u4ef6\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u7684\u4f8b\u5b50\u3002\u5728\u8bb2\u8ff0\u90a3\u4e2a\u4f8b\u5b50\u65f6\uff0c\u6211\u6307\u51fa\uff0c\u662f gino \u7684\u5f00\u53d1\u8005\u627f\u62c5\u4e86\u8d23\u4efb\uff0c\u53d1\u884c\u4e86\u65b0\u7684 gino \u7248\u672c\uff0c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u8d23\u4efb\u7684\u6839\u6e90\u5728 SQLAlchemy \u7684\u5f00\u53d1\u8005\u90a3\u91cc\u3002</p> <p>\u4ece 1.3.x \u5230 1.4.x, \u51fa\u73b0\u4e86\u63a5\u53e3\u7684\u53d8\u66f4\uff0c\u8fd9\u662f\u4e00\u79cd\u7834\u574f\u6027\u7684\u66f4\u65b0\uff0c\u6b64\u65f6\uff0c\u65b0\u7684 1.4 \u5df2\u4e0d\u518d\u662f\u8fc7\u53bb\u7684\u5fd2\u4fee\u65af\u4e4b\u8239\u4e86\uff0c\u4f7f\u7528\u8005\u5982\u679c\u4e0d\u4fee\u6539\u4ed6\u4eec\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u5c31\u65e0\u6cd5\u4f7f\u7528 SQLAlchemy \u7684\u95ee\u9898\u3002gino \u7684\u5f00\u53d1\u8005\u8ba4\u4e3a\uff08\u8fd9\u4e5f\u662f\u7b26\u5408 semantic versioning \u601d\u60f3\u7684\uff09\uff0cSQLAlchemy \u4ece 1.2 \u5230 2.0 \u4e4b\u95f4\u7684\u7248\u672c\uff0c\u53ef\u4ee5\u589e\u52a0\u63a5\u53e3\uff0c\u589e\u5f3a\u6027\u80fd\uff0c\u4fee\u590d\u5b89\u5168\u6f0f\u6d1e\uff0c\u4f46\u4e0d\u5e94\u8be5\u53d8\u66f4\u63a5\u53e3\uff1b\u56e0\u6b64\uff0c\u5b83\u58f0\u660e\u4e3a\u4f9d\u8d56 SQLAlchemy \u5c0f\u4e8e 2.0 \u7684\u7248\u672c\u662f\u5b89\u5168\u7684\u3002\u4f46\u53ef\u60dc\u7684\u662f\uff0cSQLAlchemy \u5e76\u6ca1\u6709\u9075\u5faa\u8fd9\u4e2a\u7ea6\u5b9a\u3002</p> <p>Sematic versioning \u63d0\u8bae\u7528\u4e00\u7ec4\u7b80\u5355\u7684\u89c4\u5219\u53ca\u6761\u4ef6\u6765\u7ea6\u675f\u7248\u672c\u53f7\u7684\u914d\u7f6e\u548c\u589e\u957f\u3002\u9996\u5148\uff0c\u4f60\u89c4\u5212\u597d\u516c\u5171 API\uff0c\u5728\u6b64\u540e\u7684\u65b0\u7248\u672c\u53d1\u5e03\u4e2d\uff0c\u901a\u8fc7\u4fee\u6539\u76f8\u5e94\u7684\u7248\u672c\u53f7\u6765\u5411\u5927\u5bb6\u8bf4\u660e\u4f60\u7684\u4fee\u6539\u7684\u7279\u6027\u3002\u8003\u8651\u4f7f\u7528\u8fd9\u6837\u7684\u7248\u672c\u53f7\u683c\u5f0f\uff1aX.Y.Z \uff08\u4e3b\u7248\u672c\u53f7. \u6b21\u7248\u672c\u53f7. \u4fee\u8ba2\u53f7\uff09\uff1a\u4fee\u590d\u95ee\u9898\u4f46\u4e0d\u5f71\u54cd API \u65f6\uff0c\u9012\u589e\u4fee\u8ba2\u53f7\uff1bAPI \u4fdd\u6301\u5411\u4e0b\u517c\u5bb9\u7684\u65b0\u589e\u53ca\u4fee\u6539\u65f6\uff0c\u9012\u589e\u6b21\u7248\u672c\u53f7\uff1b\u8fdb\u884c\u4e0d\u5411\u4e0b\u517c\u5bb9\u7684\u4fee\u6539\u65f6\uff0c\u9012\u589e\u4e3b\u7248\u672c\u53f7\u3002</p> <p>\u6211\u4eec\u5728\u524d\u9762\u63d0\u5230\u8fc7 SQLAlchemy \u4ece 1.x \u5347\u7ea7\u5230 1.4 \u7684\u4f8b\u5b50\u3002\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u5f15\u5165\u4e86\u5f02\u6b65\u673a\u5236\uff0c\u8fd9\u662f\u4e2a\u4e0d\u80fd\u5411\u4e0b\u517c\u5bb9\u7684\u4fee\u6539\uff0c\u56e0\u6b64\uff0cSQLAlchemy \u672c\u5e94\u8be5\u542f\u7528 2.x \u7684\u5168\u65b0\u7248\u672c\u5e8f\u5217\u53f7\uff0c\u800c\u628a 1.4 \u7559\u4f5c 1.x \u7684\u540e\u7eed\u4fee\u8865\u53d1\u5e03\u7248\u672c\u53f7\u4f7f\u7528\u3002\u5982\u6b64\u4e00\u6765\uff0cSQLAlchemy \u7684\u4f7f\u7528\u8005\u5c31\u5f88\u5bb9\u6613\u660e\u767d\uff0c\u5982\u679c\u8981\u4f7f\u7528\u6700\u65b0\u7684 SQLAlchemy \u7248\u672c\uff0c\u5219\u5fc5\u987b\u5bf9\u4ed6\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u5b8c\u5168\u7684\u9002\u914d\u548c\u6d4b\u8bd5\uff0c\u800c\u4e0d\u80fd\u8c61\u4e4b\u524d\u7684\u5347\u7ea7\u4e00\u6837\uff0c\u7b80\u5355\u5730\u628a\u6700\u65b0\u7248\u672c\u5b89\u88c5\u4e0a\uff0c\u5c31\u4ecd\u7136\u671f\u671b\u5b83\u80fd\u50cf\u4e4b\u524d\u4e00\u6837\u5de5\u4f5c\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u4e00\u4e2a\u5b9a\u4e49\u4e86\u826f\u597d\u4f9d\u8d56\u5173\u7cfb\u7684\u8f6f\u4ef6\uff0c\u8fd8\u80fd\u81ea\u52a8\u4ece\u5347\u7ea7\u4e2d\u6392\u9664\u6389\u5347\u7ea7\u5230 SQLAlchemy 2.x\uff0c\u800c\u59cb\u7ec8\u53ea\u5728 1.x\uff0c\u751a\u81f3\u66f4\u5c0f\u7684\u8303\u56f4\u5185\u8fdb\u884c\u5347\u7ea7\u3002</p> <p>Info</p> <p>SQLAlchemy \u7684\u9519\u8bef\u5e76\u975e\u5b64\u4f8b\u3002\u4e00\u4e2a\u5f71\u54cd\u8303\u56f4\u66f4\u5e7f\u7684\u4f8b\u5b50\u6d89\u53ca\u5230 python \u7684 cryptography \u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u7684\u5bc6\u7801\u5b66\u76f8\u5173\u7684 python \u5e93\u3002\u4e3a\u4e86\u63d0\u5347\u6027\u80fd\uff0c\u8bb8\u591a\u4ee3\u7801\u6700\u521d\u662f\u4f7f\u7528 c \u5199\u7684\u3002\u6709\u4e00\u5929\u4f5c\u8005\u610f\u8bc6\u5230\uff0c\u4f7f\u7528 c \u4f1a\u5b58\u5728\u5f88\u591a\u5b89\u5168\u95ee\u9898\uff0c\u800c\u5b89\u5168\u6027\u53c8\u662f cryptography \u7684\u6838\u5fc3\u3002\u4e8e\u662f\uff0c\u5728 2021 \u5e74 2 \u6708 8 \u65e5\u524d\u540e\uff0c\u4ed6\u4eec\u6539\u7528 rust \u6765\u8fdb\u884c\u5b9e\u73b0\u3002\u8fd9\u5bfc\u81f4\u5b89\u88c5 cryptography \u5e93\u7684\u4eba\uff0c\u5fc5\u987b\u5728\u672c\u673a\u4e0a\u6709 rust \u7684\u7f16\u8bd1\u5de5\u5177\u94fe -- \u4e8b\u5b9e\u662f\uff0crust \u4e0e c \u548c python \u76f8\u6bd4\uff0c\u8fd8\u662f\u76f8\u5f53\u5c0f\u4f17\u7684\uff0c\u5f88\u591a\u4eba\u7684\u673a\u5668\u4e0a\u663e\u7136\u4e0d\u4f1a\u6709\u8fd9\u5957\u5de5\u5177\u94fe\u3002</p> <p>\u9700\u8981\u6307\u51fa\u7684\u662f\uff0ccryptography \u6539\u7528 rust \u5b9e\u73b0\uff0c\u5e76\u6ca1\u6709\u6539\u53d8\u5b83\u7684 python \u63a5\u53e3\u3002\u76f8\u53cd\uff0c\u5176 python \u63a5\u53e3\u5b8c\u5168\u4fdd\u6301\u7740\u4e00\u81f4\u3002\u56e0\u6b64\uff0ccryptography \u7684\u4f5c\u8005\u4e5f\u65e2\u6ca1\u6709\u91cd\u547d\u540d cryptography\uff0c\u4e5f\u6ca1\u6709\u53d8\u66f4\u4e3b\u7248\u672c\u53f7\u3002</p> <p>\u4f46\u662f\u8fd9\u4e00\u5c0f\u5c0f\u7684\u6539\u52a8\uff0c\u4ecd\u7136\u6380\u8d77\u4e86\u8f69\u7136\u5927\u6ce2\u3002\u4e00\u591c\u4e4b\u95f4\uff0c\u5b83\u6467\u6bc1\u4e86\u65e0\u6570\u7684 CI \u7cfb\u7edf\uff0c\u65e0\u6570 docker \u955c\u50cf\u5fc5\u987b\u88ab\u91cd\u6784\uff0c\u62b1\u6028\u58f0\u5982\u6f6e\u6c34\u822c\u6d8c\u5411\u4f5c\u8005\u3002\u5728\u77ed\u77ed\u51e0\u4e2a\u5c0f\u65f6\uff0c\u4f5c\u8005\u5c31\u6536\u5230\u4e86 100 \u6761\u6fc0\u70c8\u7684\u8bc4\u8bba\uff0c\u6700\u7ec8\u4f5c\u8005\u4e0d\u5f97\u4e0d\u5173\u6389\u4e86\u8fd9\u4e2a issue</p> <p>\u4e00\u4e2a\u6b63\u786e\u5730\u4f7f\u7528 semantic versioning \u7684\u4f8b\u5b50\u662f aioredis \u4ece 1.x \u5347\u7ea7\u5230 2.0\u3002\u5c3d\u7ba1 aioredis \u5347\u7ea7\u5230 2.0 \u65f6\uff0c\u5927\u591a\u6570 API \u5e76\u6ca1\u6709\u53d1\u751f\u6539\u53d8--\u53ea\u662f\u5728\u5185\u90e8\u8fdb\u884c\u4e86\u6027\u80fd\u589e\u5f3a\uff0c\u4f46\u5b83\u7684\u786e\u6539\u53d8\u4e86\u521d\u59cb\u5316 aioredis \u7684\u65b9\u5f0f\uff0c\u4ece\u800c\u4f7f\u5f97\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e0d\u53ef\u80fd\u4e0d\u52a0\u4fee\u6539\u5c31\u76f4\u63a5\u66f4\u65b0\u5230 2.0 \u7248\u672c\u3002\u56e0\u6b64\uff0caioredis \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c06\u7248\u672c\u53f7\u66f4\u65b0\u4e3a 2.0 \u662f\u975e\u5e38\u6b63\u786e\u7684\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u7684 API \u53d1\u751f\u4e86\u53d8\u5316\uff08\u51fd\u6570\u7b7e\u540d\u53d1\u751f\u6539\u53d8\uff09\uff0c\u6216\u8005\u4f1a\u5bfc\u81f4\u65e7\u7248\u7684\u6570\u636e\u65e0\u6cd5\u7ee7\u7eed\u4f7f\u7528\uff0c\u4f60\u90fd\u5e94\u8be5\u8003\u8651\u4e3b\u7248\u672c\u53f7\u7684\u9012\u589e\u3002</p> <p>\u6b64\u5916\uff0c\u4ece 0.1 \u5230 1.0 \u4e4b\u524d\u7684\u6bcf\u4e00\u4e2a minor \u7248\u672c\uff0c\u90fd\u88ab\u8ba4\u4e3a\u5728 API \u4e0a\u662f\u4e0d\u7a33\u5b9a\u7684\uff0c\u90fd\u53ef\u80fd\u662f\u7834\u574f\u6027\u7684\u66f4\u65b0\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4f7f\u7528\u4e86\u8fd8\u672a\u5b9a\u578b\u5230 1.0 \u7248\u672c\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4f60\u9700\u8981\u8c28\u614e\u5730\u58f0\u660e\u4f9d\u8d56\u5173\u7cfb\u3002\u800c\u6211\u4eec\u81ea\u5df1\u5982\u679c\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5728\u8f6f\u4ef6\u529f\u80fd\u7a33\u5b9a\u4e0b\u6765\u4e4b\u524d\uff0c\u4e0d\u8981\u8f7b\u6613\u5730\u5c06\u7248\u672c\u53d1\u5e03\u4e3a1.0\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#2-poetry","title":"2. POETRY\uff1a\u7b80\u6d01\u6e05\u6670\u7684\u9879\u76ee\u7ba1\u7406\u5de5\u5177","text":"<p>[Poetry] \u662f\u4e00\u4e2a\u4f9d\u8d56\u7ba1\u7406\u548c\u6253\u5305\u5de5\u5177\u3002Poetry \u7684\u4f5c\u8005\u89e3\u91ca\u5f00\u53d1 Poetry \u7684\u521d\u8877\u65f6\u8bf4\uff1a</p> <p>Quote</p> <p>Packaging systems and dependency management in Python are rather convoluted and hard to understand for newcomers. Even for seasoned developers it might be cumbersome at times to create all files needed in a Python project: setup.py, requirements.txt, setup.cfg, MANIFEST.in and the newly added Pipfile. So I wanted a tool that would limit everything to a single configuration file to do: dependency management, packaging and publishing.</p> <p>\u7ffb\u8bd1\uff1aPython \u7684\u6253\u5305\u7cfb\u7edf\u548c\u4f9d\u8d56\u7ba1\u7406\u76f8\u5f53\u590d\u6742\uff0c\u5bf9\u65b0\u4eba\u6765\u8bb2\u5c24\u5176\u8d39\u89e3\u3002\u8981\u6b63\u786e\u5730\u521b\u5efa Python \u9879\u76ee\u6240\u9700\u8981\u7684\u6587\u4ef6\uff1asetup.py, requirements.txt, setup.cfg, MANIFEST.in \u548c\u65b0\u52a0\u5165\u7684 pipfile\uff0c\u6709\u65f6\u5019\u5373\u4f7f\u5bf9\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u8001\u624b\uff0c\u4e5f\u662f\u6709\u4e00\u4e9b\u56f0\u96be\u7684\u3002\u56e0\u6b64\uff0c\u6211\u5e0c\u671b\u521b\u5efa\u4e00\u79cd\u5de5\u5177\uff0c\u53ea\u7528\u4e00\u4e2a\u6587\u4ef6\u5c31\u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u3001\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u901a\u8fc7\u524d\u9762\u7684\u6848\u4f8b\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u51fa\u4e86\u4e00\u4e9b\u95ee\u9898\u3002\u4f46\u4e0d\u6b62\u4e8e\u6b64\u3002</p> <p>\u5f53\u60a8\u5c06\u4f9d\u8d56\u52a0\u5165\u5230 requirements.txt \u65f6\uff0c\u6ca1\u6709\u4eba\u5e2e\u4f60\u786e\u5b9a\u5b83\u662f\u5426\u4e0e\u65e2\u5b58\u7684\u4f9d\u8d56\u80fd\u591f\u548c\u5e73\u5171\u5904\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u8981\u6bd4\u6211\u4eec\u60f3\u8c61\u7684\u590d\u6742\u8bb8\u591a\uff0c\u4e0d\u4ec5\u4ec5\u662f\u76f4\u63a5\u4f9d\u8d56\uff0c\u8fd8\u9700\u8981\u8003\u8651\u5f7c\u6b64\u7684\u4f20\u9012\u4f9d\u8d56\u662f\u5426\u4e5f\u80fd\u5f7c\u6b64\u517c\u5bb9\uff1b\u6240\u4ee5\u4e00\u822c\u7684\u505a\u6cd5\u662f\uff0c\u5148\u5c06\u5b83\u4eec\u52a0\u8fdb\u6765\uff0c\u5b8c\u6210\u5f00\u53d1\u548c\u6d4b\u8bd5\uff0c\u5728\u6253\u5305\u4e4b\u524d\uff0c\u8fd0\u884c<code>pip freeze &gt; requirements.txt</code>\u6765\u9501\u5b9a\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u3002\u4f46\u6211\u4eec\u4e5f\u5728\u524d\u9762\u7684\u6848\u4f8b\u4e2d\u63d0\u5230\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5c06\u4e0d\u5fc5\u8981\u7684\u5f00\u53d1\u4f9d\u8d56\u6253\u5165\u5230\u53d1\u884c\u7248\u4e2d\uff1b\u6b64\u5916\uff0c\u5b83\u4e5f\u4f1a\u8fc7\u5ea6\u9501\u5b9a\u7248\u672c\uff0c\u4ece\u800c\u4f7f\u5f97\u4e00\u4e9b\u6d3b\u8dc3\u7684\u7b2c\u4e09\u65b9\u5e93\u5931\u53bb\u81ea\u52a8\u66f4\u65b0\u70ed\u4fee\u590d\u548c\u5b89\u5168\u66f4\u65b0\u7684\u673a\u4f1a\u3002</p> <p>\u9879\u76ee\u7684\u7248\u672c\u7ba1\u7406\u4e5f\u662f\u4e00\u4e2a\u95ee\u9898\u3002\u5728\u8001\u65e7\u7684 Python \u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u6211\u4eec\u4f7f\u7528 bumpversion \u6765\u7ba1\u7406\u7248\u672c\uff0c\u5b83\u9700\u8981\u4f7f\u7528\u4e09\u4e2a\u6587\u4ef6\u3002\u5728\u6211\u7684\u65e5\u5e38\u4f7f\u7528\u65f6\uff0c\u5b83\u5e38\u5e38\u4f1a\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u6700\u5e38\u89c1\u7684\u662f\u5355\u53cc\u5f15\u53f7\u5bfc\u81f4\u628a<code>__version__=0.1</code>\u5f53\u6210\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u800c\u4e0d\u662f<code>0.1</code>\u3002\u8fd9\u6837\u6253\u51fa\u6765\u7684\u5305\u540d\u4e5f\u4f1a\u5947\u602a\u5730\u591a\u4e00\u4e2a\u65e0\u610f\u4e49\u7684 version \u5b57\u6837\u3002\u5355\u53cc\u5f15\u53f7\u5219\u662f\u56e0\u4e3a\u4f60\u7684 format \u5de5\u5177\u5bf9\u5b57\u7b26\u4e32\u5e38\u91cf\u5e94\u8be5\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u5f15\u53f7\u89c4\u5219\u6709\u81ea\u5df1\u7684\u610f\u89c1\u3002</p> <p>\u9879\u76ee\u8fdb\u884c\u6253\u5305\u548c\u53d1\u5e03\u9700\u8981\u51c6\u5907\u592a\u591a\u7684\u6587\u4ef6\uff0c\u6b63\u5982 Poetry \u7684\u5f00\u53d1\u8005\u6240\u8bf4\uff0c\u8981\u786e\u4fdd\u8fd9\u4e9b\u6587\u4ef6\u7684\u5185\u5bb9\u5b8c\u5168\u6b63\u786e\uff0c\u5bf9\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u4e5f\u4e0d\u662f\u8f7b\u800c\u6613\u4e3e\u7684\u4e8b\u3002</p> <p>Poetry \u89e3\u51b3\u4e86\u6240\u6709\u8fd9\u4e9b\u95ee\u9898\uff08\u9664\u4e86\u6848\u4f8b\u4e2d\u7684\u7b2c\u4e00\u4e2a\uff0c\u8be5\u95ee\u9898\u8981\u901a\u8fc7 tox \u548c CI \u6765\u89e3\u51b3\uff09\u3002\u5b83\u63d0\u4f9b\u4e86\u7248\u672c\u7ba1\u7406\u3001\u4f9d\u8d56\u89e3\u6790\u3001\u6784\u5efa\u548c\u53d1\u5e03\u7684\u4e00\u7ad9\u5f0f\u670d\u52a1\uff0c\u5e76\u5c06\u6240\u6709\u7684\u914d\u7f6e\uff0c\u96c6\u4e2d\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u5373 pyproject.toml\u3002\u6b64\u5916\uff0cPoetry \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u7a0b\u521b\u5efa\u5411\u5bfc\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u5411\u5bfc\u7684\u529f\u80fd\u4ecd\u7136\u8fc7\u4e8e\u7b80\u5355\uff0c\u6211\u4eec\u7684\u63a8\u8350\u5219\u662f\u4f7f\u7528\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u7684 python project wizard\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0a Poetry \u8fd8\u4f1a\u7528\u5230\u53e6\u4e00\u4e2a\u6587\u4ef6\uff0c\u5373 poetry.lock\u3002\u8fd9\u4e2a\u6587\u4ef6\u5e76\u975e\u72ec\u7acb\u6587\u4ef6\uff0c\u800c\u662f Poetry \u6839\u636e pyproject.toml \u751f\u6210\u7684\u3001\u9501\u5b9a\u4e86\u4f9d\u8d56\u7248\u672c\u7684\u6700\u7ec8\u6587\u4ef6\u3002\u5b83\u7684\u4e3b\u8981\u4f5c\u7528\uff0c\u662f\u5728\u4e00\u7ec4\u5f00\u53d1\u8005\u4e4b\u95f4\uff0c\u5e2e\u52a9\u5176\u5b83\u5f00\u53d1\u8005\u7701\u53bb\u4f9d\u8d56\u89e3\u6790\u7684\u65f6\u95f4\u3002</p> <p>\u56e0\u6b64\uff0c\u5f53\u4f60\u901a\u8fc7 poetry \u5411\u9879\u76ee\u4e2d\u589e\u52a0\uff08\u6216\u8005\u79fb\u9664\uff09\u4e86\u65b0\u7684\u4f9d\u8d56\u65f6\uff0c\u8be5\u6587\u4ef6\u4f1a\u88ab\u66f4\u65b0\u3002\u60a8\u5e94\u8be5\u628a\u8be5\u6587\u4ef6\u4e5f\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\u3002\u4f46\u662f\uff0c\u8be5\u6587\u4ef6\u5e76\u4e0d\u4f1a\u53d1\u5e03\u7ed9\u6700\u7ec8\u7528\u6237\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u770b\u4e00\u773c sample \u9879\u76ee\u4e2d\u7684 pyproject.toml \u6587\u4ef6\uff1a</p> <p>pyproject.toml \u793a\u4f8b<pre><code>[tool]\n[tool.poetry]\nname = \"sample\"\nversion = \"0.1.0\"\nhomepage = \"https://github.com/zillionare/sample\"\ndescription = \"Skeleton project created by Python Project Wizard (ppw).\"\nauthors = [\"aaron yang &lt;aaron_yang@jieyu.ai&gt;\"]\nreadme = \"README.md\"\nlicense =  \"MIT\"\nclassifiers=[\n    'Development Status :: 2 - Pre-Alpha',\n    'Intended Audience :: Developers',\n    'License :: OSI Approved :: MIT License',\n    'Natural Language :: English',\n    'Programming Language :: Python :: 3',\n    'Programming Language :: Python :: 3.7',\n    'Programming Language :: Python :: 3.8',\n    'Programming Language :: Python :: 3.9',\n    'Programming Language :: Python :: 3.10',\n]\npackages = [\n    { include = \"sample\" },\n    { include = \"tests\", format = \"sdist\" },\n]\n\n[tool.poetry.dependencies]\npython = \"&gt;=3.7.1,&lt;4.0\"\nfire = \"0.4.0\"\n\nblack  = { version = \"^22.3.0\", optional = true}\nisort  = { version = \"5.10.1\", optional = true}\nflake8  = { version = \"4.0.1\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\npytest  = { version = \"^7.0.1\", optional = true}\npytest-cov  = { version = \"^3.0.0\", optional = true}\ntox  = { version = \"^3.24.5\", optional = true}\nvirtualenv  = { version = \"^20.13.1\", optional = true}\npip  = { version = \"^22.0.3\", optional = true}\nmkdocs  = { version = \"^1.2.3\", optional = true}\nmkdocs-include-markdown-plugin  = { version = \"^3.2.3\", optional = true}\nmkdocs-material  = { version = \"^8.1.11\", optional = true}\nmkdocstrings  = { version = \"^0.18.0\", optional = true}\nmkdocs-material-extensions  = { version = \"^1.0.3\", optional = true}\ntwine  = { version = \"^3.8.0\", optional = true}\nmkdocs-autorefs = {version = \"^0.3.1\", optional = true}\npre-commit = {version = \"^2.17.0\", optional = true}\ntoml = {version = \"^0.10.2\", optional = true}\nlivereload = {version = \"^2.6.3\", optional = true}\npyreadline = {version = \"^2.1\", optional = true}\nmike = { version=\"^1.1.2\", optional=true}\n\n[tool.poetry.extras]\ntest = [\n    \"pytest\",\n    \"black\",\n    \"isort\",\n    \"flake8\",\n    \"flake8-docstrings\",\n    \"pytest-cov\"\n    ]\n\ndev = [\"tox\", \"pre-commit\", \"virtualenv\", \"pip\", \"twine\", \"toml\"]\n\ndoc = [\n    \"mkdocs\",\n    \"mkdocs-include-markdown-plugin\",\n    \"mkdocs-material\",\n    \"mkdocstrings\",\n    \"mkdocs-material-extension\",\n    \"mkdocs-autorefs\",\n    \"mike\"\n    ]\n\n[tool.poetry.scripts]\nsample = 'sample.cli:main'\n\n[build-system]\nrequires = [\"poetry-core&gt;=1.0.0\"]\nbuild-backend = \"poetry.core.masonry.api\"\n\n[tool.black]\nline-length = 88\ninclude = '\\.pyi?$'\nexclude = '''\n/(\n    \\.eggs\n  | \\.git\n  | \\.hg\n  | \\.mypy_cache\n  | \\.tox\n  | \\.venv\n  | _build\n  | buck-out\n  | build\n  | dist\n)/\n'''\n[tool.isort]\nprofile = \"black\"\n</code></pre> \u6211\u4eec\u7b80\u5355\u5730\u89e3\u8bfb\u4e00\u4e0b\u8fd9\u4e2a\u6587\u4ef6\uff1a \u5728 [tool.poetry] \u90a3\u4e00\u8282\uff0c\u5b9a\u4e49\u4e86\u5305\u7684\u540d\u5b57\uff08\u8fd9\u91cc\u662f sample\uff09\u3001\u7248\u672c\u53f7\uff08\u8fd9\u91cc\u662f 0.1.0\uff09\u548c\u5176\u5b83\u7684\u4e00\u4e9b\u5b57\u6bb5\uff0c\u6bd4\u5982 classifiers\uff0c\u8fd9\u662f\u6253\u5305\u548c\u53d1\u5e03\u65f6\u9700\u8981\u7684\u3002\u5982\u679c\u60a8\u719f\u6089 python setup tools\uff0c\u90a3\u4e48\u5bf9\u8fd9\u4e9b\u5b57\u6bb5\u5c06\u4e0d\u4f1a\u964c\u751f\u3002packages \u5b57\u6bb5\u6307\u660e\u4e86\u6253\u5305\u65f6\u9700\u8981\u5305\u542b\u7684\u6587\u4ef6\u3002\u5728\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u8981\u6c42\u5728\u4ee5.whl \u683c\u5f0f\u53d1\u5e03\u7684\u5305\u4e2d\uff0c\u5c06 sample \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u6253\u5305\u53d1\u5e03\uff1b\u800c\u4ee5 sdist \u683c\u5f0f\uff08\u5373.tar.gz) \u53d1\u5e03\u7684\u5305\u4e2d\uff0c\u8fd8\u8981\u5305\u542b tests \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <p>\u63a5\u4e0b\u6765\u662f [tool.poetry.dependencies] \u4e00\u8282\uff0c\u8fd9\u662f\u6211\u4eec\u58f0\u660e\u9879\u76ee\u4f9d\u8d56\u7684\u5730\u65b9\u3002\u9996\u5148\u662f\u9879\u76ee\u8981\u6c42\u7684 python \u7248\u672c\u58f0\u660e\u3002\u8fd9\u91cc\u6211\u4eec\u8981\u6c42\u5fc5\u987b\u5728 3.7.1 \u4ee5\u4e0a\uff0c4.0 \u4ee5\u4e0b\u7684 python \u73af\u5883\u4e2d\u8fd0\u884c\u3002\u56e0\u6b64\uff0cpython 3.7.1\uff0c3.8\uff0c 3.9\uff0c 3.10 \u90fd\u662f\u6070\u5f53\u7684 python \u7248\u672c\uff0c\u4f46 4.0 \u5219\u4e0d\u5141\u8bb8\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5de5\u7a0b\u4e2d\u9700\u8981\u7528\u5230\u7684\u5176\u5b83\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff0c\u6709\u8fd0\u884c\u65f6\u7684\uff08\u5373\u5f53\u6700\u7ec8\u7528\u6237\u4f7f\u7528\u6211\u4eec\u7684\u7a0b\u5e8f\u65f6\uff0c\u5fc5\u987b\u5b89\u88c5\u7684\u90a3\u4e9b\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff09\uff0c\u4e5f\u6709\u5f00\u53d1\u65f6\u7684\uff08\u5373\u53ea\u5728\u5f00\u53d1\u548c\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u5230\u7684\uff0c\u6bd4\u5982\u6587\u6863\u5de5\u5177\u7c7b mkdocs\uff0c\u6d4b\u8bd5\u7c7b tox, pytest \u7b49\uff09\u3002</p> <p>\u6211\u4eec\u5bf9\u8fd0\u884c\u65f6\u548c\u5f00\u53d1\u65f6\u9700\u8981\u7684\u4f9d\u8d56\u8fdb\u884c\u4e86\u5206\u7ec4\u3002\u5bf9\u5f00\u53d1\u65f6\u9700\u8981\u7684\u4f9d\u8d56\uff0c\u6211\u4eec\u5206\u6210 dev, test \u548c doc \u4e09\u7ec4\uff0c\u901a\u8fc7 [tool.poetry.extras] \u4e2d\u8fdb\u884c\u5206\u7ec4\u58f0\u660e\u3002\u5bf9\u4e8e\u5f52\u5165\u5230 dev, test \u548c doc \u5206\u7ec4\u4e2d\u7684\u4f9d\u8d56\uff0c\u6211\u4eec\u5728 [tool.poetry.dependencies] \u4e2d\uff0c\u5c06\u5176\u58f0\u660e\u4e3a optional \u7684\uff0c\u8fd9\u6837\u5728\u5b89\u88c5\u6700\u7ec8\u5206\u53d1\u5305\u65f6\uff0c\u8fd9\u4e9b\u58f0\u660e\u4e3a optional \u7684\u7b2c\u4e09\u65b9\u4f9d\u8d56\u5c06\u4e0d\u4f1a\u5b89\u88c5\u5230\u7528\u6237\u73af\u5883\u4e2d\u3002</p> <p>\u518d\u63a5\u4e0b\u6765\uff0c[tool.poetry.scripts] \u58f0\u660e\u4e86\u4e00\u4e2a console script \u5165\u53e3\u3002Console script \u662f\u4e00\u79cd\u7279\u6b8a\u7684 Python \u811a\u672c\uff0c\u5b83\u4f7f\u5f97\u60a8\u53ef\u4ee5\u8c61\u8c03\u7528\u666e\u901a\u7684 shell \u547d\u4ee4\u4e00\u6837\u6765\u8c03\u7528\u8fd9\u4e2a\u811a\u672c\u3002 pyproject.toml<pre><code>[tool.poetry.scripts]\nsample = 'sample.cli:main'\n</code></pre></p> <p>Info</p> <p>\u80fd\u5236\u4f5c console scrip \u662f Python \u53e6\u4e00\u4e2a\u4f18\u52bf -- \u8fd9\u5728 Linux/Mac \u4e0a\u5c24\u5176\u660e\u663e\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u901a\u8fc7 Python \u5f80 shell \u4e2d\u589e\u52a0\u5404\u79cd\u547d\u4ee4\uff0c\u4f7f\u5f97\u5b83\u4eec\u8fd8\u53ef\u4ee5\u4e32\u884c\u8d77\u6765\u3002\u6b64\u5916\uff0c\u5982\u679c\u6211\u4eec\u901a\u8fc7 Python script \u6765\u63d0\u4f9b\u4e86\u670d\u52a1\uff0c\u6211\u4eec\u5c31\u5f88\u9700\u8981\u901a\u8fc7\u547d\u4ee4\u6765\u7ba1\u7406\u670d\u52a1\uff0c\u6bd4\u5982\u542f\u52a8\u3001\u505c\u6b62\u548c\u663e\u793a\u670d\u52a1\u72b6\u6001\u3002</p> <p>\u5f53 sample \u5305\u88ab\u5b89\u88c5\u540e\uff0c\u5c31\u5f80\u5b89\u88c5\u73af\u5883\u91cc\u6ce8\u5165\u4e86\u4e00\u4e2a\u540d\u4e3a<code>sample</code>\u7684shell \u547d\u4ee4\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u5404\u79cd\u53c2\u6570\uff0c\u6700\u7ec8\u5c06\u4ea4\u7ed9 sample\\cli.py \u4e2d\u7684 main \u51fd\u6570\u6765\u6267\u884c\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5173\u4e8e\u5982\u4f55\u6784\u5efa\u7684\u76f8\u5173\u6307\u793a\uff0c\u5728 [build-system] \u4e2d\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e2d\u53ea\u5305\u542b\u7eaf\u7cb9\u7684 Python \u4ee3\u7801\uff0c\u90a3\u4e48\u8fd9\u90e8\u5206\u53ef\u4e0d\u505a\u4efb\u4f55\u4fee\u6539\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u5305\u542b\u4e86\u4e00\u4e9b\u539f\u751f\u7684\u4ee3\u7801\uff08\u6bd4\u5982 c \u7684\uff09\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u81ea\u5df1\u5b9a\u4e49\u6784\u5efa\u811a\u672c\u3002</p> <p>\u5728\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u8fd8\u6709 [tool.black] \u548c [tool.isort] \u4e24\u4e2a\u5c0f\u8282\uff0c\u5206\u522b\u662f black\uff08\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff09\u548c isort\uff08\u5c06\u5bfc\u5165\u8fdb\u884c\u6392\u5e8f\u7684\u5de5\u5177\uff09\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5b83\u4eec\u662f\u5bf9 pyproject.toml \u7684\u6269\u5c55\uff0c\u5e76\u4e0d\u662f poetry \u6240\u8981\u6c42\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#21","title":"2.1. \u7248\u672c\u7ba1\u7406","text":"<p>poetry \u4e3a\u6211\u4eec\u7684 package \u63d0\u4f9b\u4e86\u57fa\u4e8e\u8bed\u4e49 (semantic version) \u7684\u7248\u672c\u7ba1\u7406\u529f\u80fd\u3002\u5b83\u901a\u8fc7<code>poetry version</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u8ba9\u6211\u4eec\u67e5\u770b package \u7684\u7248\u672c\uff0c\u5e76\u4e14\u5b9e\u73b0\u7248\u672c\u53f7\u7684\u5347\u7ea7\u3002</p> <p>\u5047\u8bbe\u60a8\u5df2\u7ecf\u4f7f\u7528 [python project wizard] \u751f\u6210\u4e86\u4e00\u4e2a\u5de5\u7a0b\u6846\u67b6\uff0c\u90a3\u4e48\u5e94\u8be5\u53ef\u4ee5\u5728\u6839\u76ee\u5f55\u4e0b\u627e\u5230 pyproject.toml \u6587\u4ef6\uff0c\u5176\u4e2d\u6709\u4e00\u9879\uff1a</p> <p><pre><code>version = 0.1\n</code></pre> \u5982\u679c\u60a8\u73b0\u5728\u8fd0\u884c<code>poetry version</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5c31\u4f1a\u663e\u793a<code>0.1</code>\u8fd9\u4e2a\u7248\u672c\u53f7\u3002</p> <p>Poetry \u4f7f\u7528\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c (semantic version) \u8868\u793a\u6cd5\u3002 </p> <p>\u5728 Poetry \u4e2d\uff0c\u5f53\u6211\u4eec\u9700\u8981\u4fee\u6539\u7248\u672c\u53f7\u65f6\uff0c\u5e76\u4e0d\u662f\u76f4\u63a5\u6307\u5b9a\u65b0\u7684\u7248\u672c\u53f7\uff0c\u800c\u662f\u901a\u8fc7<code>poetry version semver</code>\u6765\u4fee\u6539\u7248\u672c\u3002<code>semver</code>\u53ef\u4ee5\u662f<code>patch</code>, <code>minor</code>, <code>major</code>, <code>prepatch</code>, <code>preminor</code>, <code>premajor</code>\u548c <code>prerelease</code>\u4e2d\u7684\u4e00\u4e2a\u3002\u8fd9\u4e9b\u5173\u952e\u5b57\u5b9a\u4e49\u5728\u89c4\u8303 PEP 440 \u4e2d\u3002</p> <p>\u5c06<code>semver</code>\u4e0e\u60a8\u5f53\u524d\u7684\u7248\u672c\u53f7\u76f8\u7ed3\u5408\uff0c\u901a\u8fc7\u8fd0\u7b97\uff0c\u5c31\u5f97\u51fa\u4e86\u65b0\u7684\u7248\u672c\u53f7\uff1a</p> rule before after major 1.3.0 2.0.0 minor 2.1.4 2.2.0 patch 4.1.1 4.1.2 premajor 1.0.2 2.0.0-alpha.0 preminor 1.0.2 1.1.0-alpha.0 prepatch 1.0.2 1.0.3-alpha.0 prerelease 1.0.2 1.0.3-alpha.0 prerelease 1.0.3-alpha.0 1.0.3-alpha.1 prerelease 1.0.3-beta.0 1.0.3-beta.1 <p>\u53ef\u4ee5\u770b\u51fa\uff0cpoetry \u5bf9\u7248\u672c\u53f7\u7684\u7ba1\u7406\u662f\u5b8c\u5168\u7b26\u5408 semantic version \u7684\u8981\u6c42\u7684\u3002\u5f53\u4f60\u5b8c\u6210\u4e86\u4e00\u4e2a\u5c0f\u7684\u4fee\u8ba2\uff08\u6bd4\u5982\u4fee\u590d\u4e86\u4e00\u4e2a bug\uff0c\u6216\u8005\u589e\u5f3a\u4e86\u6027\u80fd\uff0c\u6216\u8005\u4fee\u590d\u4e86\u5b89\u5168\u6f0f\u6d1e\uff09\uff0c\u6b64\u65f6\u53ea\u5e94\u8be5\u9012\u589e package \u7684\u4fee\u8ba2\u53f7\uff0c\u5373 x.y.z \u4e2d\u7684'z'\uff0c\u8fd9\u65f6\u6211\u4eec\u5c31\u5e94\u8be5\u4f7f\u7528\u547d\u4ee4\uff1a <pre><code>$ poetry version patch\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u662f 0.1.0\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 0.1.1\u3002 \u5982\u679c\u6211\u4eec\u7684 package \u65b0\u589e\u52a0\u4e86\u4e00\u4e9b\u529f\u80fd\uff0c\u800c\u4e4b\u524d\u63d0\u4f9b\u7684\u529f\u80fd\uff08API\uff09\u90fd\u8fd8\u80fd\u4e0d\u52a0\u4fee\u6539\uff0c\u7ee7\u7eed\u4f7f\u7528\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u9012\u589e\u6b21\u7248\u672c\u53f7\uff0c\u5373 x.y.z \u4e2d\u7684'y'\u3002\u8fd9\u65f6\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u547d\u4ee4\uff1a <pre><code>$ poetry version minor\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u662f 0.1.1\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 0.2.0</p> <p>\u5982\u679c\u6211\u4eec\u7684 package \u8fdb\u884c\u4e86\u5927\u5e45\u7684\u4fee\u6539\uff0c\u5e76\u4e14\u4e4b\u524d\u63d0\u4f9b\u7684\u529f\u80fd\uff08API\uff09\u7684\u7b7e\u540d\u5df2\u7ecf\u53d8\u6389\uff0c\u4ece\u800c\u4f7f\u5f97\u8c03\u7528\u8005\u5fc5\u987b\u4fee\u6539\u4ed6\u4eec\u7684\u7a0b\u5e8f\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e9b API\uff0c\u53c8\u6216\u8005\u65b0\u7684\u7248\u672c\u4e0d\u518d\u80fd\u517c\u5bb9\u8001\u7248\u672c\u7684\u6570\u636e\u683c\u5f0f\uff0c\u7528\u6237\u5fc5\u987b\u5bf9\u6570\u636e\u8fdb\u884c\u989d\u5916\u7684\u8fc1\u79fb\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u8fd9\u662f\u4e00\u6b21\u7834\u574f\u6027\u7684\u66f4\u65b0\uff0c\u5fc5\u987b\u5347\u7ea7\u4e3b\u7248\u672c\u53f7\uff1a <pre><code>$ poetry version major\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u53f7\u662f 0.3.1, \u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 1.0.0\uff1b\u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u53f7\u662f 1.2.1\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 2.0.0\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cpoetry \u8fd8\u63d0\u4f9b\u4e86\u9884\u53d1\u5e03\u7248\u672c\u53f7\u7684\u652f\u6301\u3002\u6bd4\u5982\uff0c\u4e0a\u4e00\u4e2a\u53d1\u5e03\u7684\u7248\u672c\u662f 0.1.0\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u6b63\u5f0f\u53d1\u5e03 0.1.1 \u8fd9\u4e2a\u4fee\u8ba2\u4e4b\u524d\uff0c\u53ef\u4ee5\u4f7f\u7528 0.1.1.a0 \u8fd9\u4e2a\u7248\u672c\u53f7\uff1a <pre><code>$ poetry version prerelease\nBumping version from 0.1.0 to 0.1.1a0\n</code></pre> \u5982\u679c\u9700\u8981\u518d\u51fa\u4e00\u4e2a alpha \u7248\u672c\uff0c\u5219\u53ef\u4ee5\u518d\u6b21\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\uff1a <pre><code>$ poetry version prerelease\nBumping version from 0.1.1a0 to 0.1.1a1\n</code></pre> \u5982\u679c alpha \u7248\u672c\u5df2\u7ecf\u5b8c\u6210\uff0c\u53ef\u4ee5\u6b63\u5f0f\u53d1\u5e03\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a <pre><code>$ poetry version patch\nBumping version from 0.1.1a1 to 0.1.1\n</code></pre> poetry \u6682\u65f6\u8fd8\u6ca1\u6709\u63d0\u4f9b\u4ece alpha \u8f6c\u5230 beta \u7248\u672c\u7cfb\u5217\u7684\u547d\u4ee4\u3002\u5982\u679c\u6709\u6b64\u9700\u8981\uff0c\u60a8\u9700\u8981\u624b\u5de5\u7f16\u8f91 pyproject.toml \u6587\u4ef6\u3002</p> <p>\u9664\u4e86 poetry version prerelease \u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u6ce8\u610f\u5230\u4e0a\u9762\u5217\u51fa\u7684 premajor, preminor \u548c prepatch \u9009\u9879\u3002\u5b83\u4eec\u7684\u4f5c\u7528\u4e5f\u662f\u5c06\u7248\u672c\u53f7\u4fee\u6539\u4e3a alpha \u7248\u672c\u7cfb\u5217\uff0c\u4f46\u65e0\u8bba\u4f60\u8fd0\u884c\u591a\u5c11\u6b21\uff0c\u5b83\u4eec\u5e76\u4e0d\u4f1a\u8c61 prerelease \u9009\u9879\u4e00\u6837\uff0c\u9012\u589e alpha \u7248\u672c\u53f7\u3002\u6240\u4ee5\u5728\u5b9e\u9645\u7684 alpha \u7248\u672c\u7ba1\u7406\u4e2d\uff0c\u4f3c\u4e4e\u53ea\u4f7f\u7528<code>poetry version prerelease</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#22","title":"2.2. \u4f9d\u8d56\u7ba1\u7406","text":""},{"location":"articles/python/best-practice-python/chap05/#221","title":"2.2.1. \u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u7684\u610f\u4e49","text":"<p>\u6211\u4eec\u5df2\u7ecf\u901a\u8fc7\u5927\u91cf\u7684\u4f8b\u5b50\u8bf4\u660e\u4e86\u4f9d\u8d56\u7ba1\u7406\u7684\u4f5c\u7528\u3002\u603b\u7ed3\u8d77\u6765\uff0c\u4f9d\u8d56\u7ba1\u7406\u4e0d\u4ec5\u8981\u68c0\u67e5\u9879\u76ee\u4e2d\u58f0\u660e\u7684\u76f4\u63a5\u4f9d\u8d56\u4e4b\u95f4\u7684\u51b2\u7a81\uff0c\u8fd8\u8981\u68c0\u67e5\u5b83\u4eec\u5404\u81ea\u7684\u4f20\u9012\u4f9d\u8d56\u4e4b\u95f4\u7684\u5f7c\u6b64\u517c\u5bb9\u6027\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#222-poetry","title":"2.2.2. Poetry \u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u7684\u76f8\u5173\u547d\u4ee4","text":"<p>\u5728 Poetry \u7ba1\u7406\u7684\u5de5\u7a0b\u4e2d\uff0c\u5f53\u6211\u4eec\u5411\u5de5\u7a0b\u4e2d\u52a0\u5165\uff08\u6216\u8005\u66f4\u65b0\uff09\u4f9d\u8d56\u65f6\uff0c\u603b\u662f\u4f7f\u7528<code>poetry add</code>\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a<code>poetry add pytest</code></p> <p>\u8fd9\u91cc\u53ef\u4ee5\u6307\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a\u7248\u672c\u53f7\u3002\u547d\u4ee4\u5728\u6267\u884c\u65f6\uff0c\u4f1a\u5bf9<code>pytest</code>\u6240\u4f9d\u8d56\u7684\u5e93\u8fdb\u884c\u89e3\u6790\uff0c\u76f4\u5230\u627e\u5230\u5408\u9002\u7684\u7248\u672c\u4e3a\u6b62\u3002\u5982\u679c\u60a8\u6307\u5b9a\u4e86\u7248\u672c\u53f7\uff0c\u8be5\u7248\u672c\u4e0e\u5de5\u7a0b\u91cc\u5df2\u6709\u7684\u5176\u5b83\u5e93\u4e0d\u517c\u5bb9\u7684\u8bdd\uff0c\u547d\u4ee4\u5c06\u4f1a\u5931\u8d25\u3002</p> <p>\u6211\u4eec\u5728\u6dfb\u52a0\u4f9d\u8d56\u65f6\uff0c\u4e00\u822c\u8981\u6307\u5b9a\u8f83\u4e3a\u51c6\u786e\u7684\u7248\u672c\u53f7\uff0c\u754c\u5b9a\u4e0a\u4e0b\u754c\uff0c\u4ece\u800c\u907f\u514d\u610f\u5916\u5347\u7ea7\u5e26\u6765\u7684\u5404\u79cd\u98ce\u9669\u3002\u5728\u6307\u5b9a\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u8303\u56f4\u65f6\uff0c\u6709\u4ee5\u4e0b\u5404\u79cd\u8bed\u6cd5\uff1a <pre><code>$ poetry add SQLAlchemy               # \u4f7f\u7528\u6700\u65b0\u7684\u7248\u672c\n</code></pre> \u4f7f\u7528\u901a\u914d\u7b26\u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528\u4efb\u610f\u7248\u672c\uff0c\u65e0\u6cd5\u9501\u5b9a\u4e0a\u754c\uff0c\u4e0d\u63a8\u8350\n$ poetry add SQLAlchemy=*    \n\n# \u4f7f\u7528&gt;=1.0.0, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy=1.*  \n</code></pre> \u4f7f\u7528\u63d2\u5b57\u7b26 (caret) \u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528&gt;=1.2.3, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy^1.2.3\n\n# \u4f7f\u7528&gt;=1.2.0, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy^1.2\n\n# \u4f7f\u7528&gt;=1.0.0, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy^1             \n</code></pre> \u4f7f\u7528\u6ce2\u6d6a\u7b26 (Tilde) \u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528&gt;=1.2.0,&lt;1.3 \u7684\u7248\u672c\n$ poetry add SQLAlchemy~1.2 \n\n# \u4f7f\u7528&gt;=1.2.3\uff0c&lt;1.3 \u7684\u7248\u672c\n$ poetry add SQLAlchemy~1.2.3         \n</code></pre> \u4f7f\u7528\u4e0d\u7b49\u5f0f\u8bed\u6cd5\uff08\u53ca\u591a\u4e2a\u4e0d\u7b49\u5f0f\uff09: <pre><code># \u4f7f\u7528&gt;=1.2,&lt;1.4 \u7684\u7248\u672c\n$ poetry add SQLAlchemy&gt;=1.2,&lt;1.4\n</code></pre> \u6700\u540e\uff0c\u7cbe\u786e\u5339\u914d\u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528 1.2.3 \u7248\u672c\n$ poetry add SQLAlchemy==1.2.3        \n</code></pre></p> <p>\u5982\u679c\u6709\u53ef\u80fd\uff0c\u6211\u4eec\u63a8\u8350\u603b\u662f\u4f7f\u7528\u6ce2\u6d6a\u7b26\u6216\u8005\u4e0d\u7b49\u5f0f\u8bed\u6cd5\u3002\u5b83\u4eec\u6709\u52a9\u4e8e\u5728\u53ef\u5347\u7ea7\u6027\u548c\u53ef\u5339\u914d\u6027\u4e0a\u53d6\u5f97\u8f83\u597d\u7684\u5e73\u8861\u3002\u6bd4\u5982\uff0c\u5982\u679c\u5728\u589e\u52a0\u5bf9 SQLAlchemy \u7684\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u63d2\u5b57\u7b26\u8bed\u6cd5\uff0c\u5df2\u7ecf\u53d1\u884c\u51fa\u53bb\u7684\u5b89\u88c5\u5305\uff0c\u5219\u4f1a\u5728\u5b89\u88c5\u65f6\u81ea\u52a8\u91c7\u7528\u76f4\u5230 2.0.0 \u4e4b\u524d\u7684 SQLAlchemy \u7684\u6700\u65b0\u7248\u672c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u7684\u5b89\u88c5\u5305\u662f\u5728 SQLAlchemy 1.4 \u4e4b\u524d\u88ab\u5b89\u88c5\uff0c\u6b64\u540e\u7528\u6237\u4e0d\u518d\u5347\u7ea7\uff0c\u5219\u5b83\u4eec\u5c06\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\uff1b\u800c\u5982\u679c\u662f\u5728 SQLAlchemy 1.4 \u53d1\u5e03\u4e4b\u540e\u88ab\u5b89\u88c5\uff0cpip \u5c06\u81ea\u52a8\u4f7f\u7528 1.4 \u53ca\u4ee5\u540e\u6700\u65b0\u7684 SQLAlchemy\uff0c\u4e8e\u662f \u8fd9\u4e2a\u8ddf\u4e4b\u524d\u7248\u672c\u4e0d\u517c\u5bb9\u76841.4\u7248\u672c\u5c31\u88ab\u5b89\u88c5\u4e0a\u4e86\uff0c\u5bfc\u81f4\u4f60\u7684\u7a0b\u5e8f\u5d29\u6e83\uff1b\u9664\u975e\u53d1\u884c\u65b0\u7684\u5347\u7ea7\u5305\uff0c\u800c\u4f60\u5c06\u4e0d\u4f1a\u6709\u4efb\u4f55\u529e\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u3002</p> <p>\u8fd9\u4e5f\u770b\u51fa\u6765 SQLAlchemy \u7684\u53d1\u884c\u5e76\u4e0d\u7b26\u5408 Semantic \u7684\u6807\u51c6\u3002\u4e00\u65e6\u51fa\u73b0 API \u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\uff0c\u662f\u9700\u8981\u5bf9\u4e3b\u7248\u672c\u5347\u7ea7\u7684\u3002\u5982\u679c SQLAlchemy \u4e0d\u662f\u5c06\u7248\u672c\u5347\u7ea7\u5230 1.4\uff0c\u5219\u662f\u5347\u7ea7\u5230 2.0\uff0c\u5219\u4e0d\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u73b0\u95ee\u9898\u3002</p> <p>\u59cb\u7ec8\u9075\u5faa\u793e\u533a\u89c4\u8303\u8fdb\u884c\u5f00\u53d1\uff0c\u8fd9\u662f\u6bcf\u4e00\u4e2a\u5f00\u6e90\u7a0b\u5e8f\u5f00\u53d1\u8005\u90fd\u5e94\u8be5\u91cd\u89c6\u7684\u95ee\u9898\u3002</p> <p>\u6307\u5b9a\u8fc7\u4e8e\u5177\u4f53\u7684\u7248\u672c\u4e5f\u4f1a\u6709\u5b83\u7684\u95ee\u9898\u3002\u5728\u5411\u5de5\u7a0b\u4e2d\u589e\u52a0\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u6307\u5b9a\u4e86\u5177\u4f53\u7684\u7248\u672c\uff0c\u6709\u53ef\u80fd\u56e0\u4e3a\u4f9d\u8d56\u51b2\u7a81\u7684\u539f\u56e0\uff0c\u65e0\u6cd5\u6307\u5b9a\u6210\u529f\u3002\u6b64\u65f6\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u8f83\u5bbd\u6cdb\u4e00\u70b9\u7684\u7248\u672c\u8303\u56f4\uff0c\u5f85\u89e3\u6790\u6210\u529f\u548c\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u518d\u6539\u4e3a\u56fa\u5b9a\u7248\u672c\u3002\u53e6\u5916\uff0c\u5982\u679c\u8be5\u4f9d\u8d56\u53d1\u5e03\u4e86\u4e00\u4e2a\u7d27\u6025\u7684\u5b89\u5168\u66f4\u65b0\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u9012\u589e\u4fee\u8ba2\u53f7\u7684\u65b9\u5f0f\u6765\u9012\u589e\u7248\u672c\u3002\u4f7f\u7528\u6307\u5b9a\u7684\u7248\u672c\u53f7\u4f1a\u5bfc\u81f4\u4f60\u7684\u5e94\u7528\u65e0\u6cd5\u5feb\u901f\u83b7\u5f97\u6b64\u5b89\u5168\u66f4\u65b0\u3002</p> <p>\u5728\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u5230\u4e86\u4f9d\u8d56\u5206\u7ec4\u3002\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4f1a\u4f9d\u8d56\u8bb8\u591a\u7b2c\u4e09\u65b9\u5e93\uff0c\u8fd9\u4e9b\u7b2c\u4e09\u65b9\u5e93\u4e2d\uff0c\u6709\u7684\u662f\u8fd0\u884c\u65f6\u4f9d\u8d56\uff0c\u56e0\u6b64\u5b83\u4eec\u5fc5\u987b\u968f\u6211\u4eec\u7684\u7a0b\u5e8f\u4e00\u540c\u88ab\u5206\u53d1\u5230\u7ec8\u7aef\u7528\u6237\u90a3\u91cc\uff1b\u6709\u7684\u5219\u53ea\u662f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9700\u8981\uff0c\u6bd4\u5982\u8c61 pytest\uff0cblack\uff0cmkdocs \u7b49\u7b49\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5\u5c06\u4f9d\u8d56\u8fdb\u884c\u5206\u7ec4\uff0c\u5e76\u4e14\u53ea\u5411\u7ec8\u7aef\u7528\u6237\u5206\u53d1\u5fc5\u8981\u7684\u4f9d\u8d56\u3002</p> <p>\u8fd9\u6837\u505a\u7684\u76ca\u5904\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u4e00\u65b9\u9762\uff0c\u4f9d\u8d56\u89e3\u6790\u5e76\u4e0d\u5bb9\u6613\uff0c\u4e00\u4e2a\u7a0b\u5e8f\u540c\u65f6\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\u8d8a\u591a\uff0c\u4f9d\u8d56\u89e3\u6790\u5c31\u8d8a\u56f0\u96be\uff0c\u8017\u65f6\u8d8a\u957f\uff0c\u4e5f\u8d8a\u5bb9\u6613\u5931\u8d25\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u5411\u7ec8\u7aef\u7528\u6237\u7684\u73af\u5883\u91cc\u6ce8\u5165\u7684\u4f9d\u8d56\u8d8a\u591a\uff0c\u4ed6\u4eec\u7684\u73af\u5883\u4e2d\u5c31\u8d8a\u5bb9\u6613\u9047\u5230\u4f9d\u8d56\u51b2\u7a81\u95ee\u9898\u3002</p> <p>\u6700\u65b0\u7684 Python \u89c4\u8303\u5141\u8bb8\u4f60\u7684\u7a0b\u5e8f\u4f7f\u7528\u53d1\u884c\u4f9d\u8d56\uff08\u5728\u6700\u65b0\u7684 poetry \u7248\u672c\u4e2d\uff0c\u88ab\u5f52\u7c7b\u4e3a main \u4f9d\u8d56\uff09\u548c extra requirements\u3002\u5728\u4e0a\u4e00\u7ae0\u5411\u5bfc\u521b\u5efa\u7684\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u628a extra reuqirement \u5206\u4e3a\u4e86\u4e09\u4e2a\u7ec4\uff0c\u5373 dev, test, doc\u3002</p> <p><pre><code>[tool.poetry.dependencies]\nblack  = { version = \"20.8b1\", optional = true}\nisort  = { version = \"5.6.4\", optional = true}\nflake8  = { version = \"3.8.4\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\npytest  = { version = \"6.1.2\", optional = true}\npytest-cov  = { version = \"2.10.1\", optional = true}\ntox  = { version = \"^3.20.1\", optional = true}\nvirtualenv  = { version = \"^20.2.2\", optional = true}\npip  = { version = \"^20.3.1\", optional = true}\nmkdocs  = { version = \"^1.1.2\", optional = true}\nmkdocs-include-markdown-plugin  = { version = \"^1.0.0\", optional = true}\nmkdocs-material  = { version = \"^6.1.7\", optional = true}\nmkdocstrings  = { version = \"^0.13.6\", optional = true}\nmkdocs-material-extensions  = { version = \"^1.0.1\", optional = true}\ntwine  = { version = \"^3.3.0\", optional = true}\nmkdocs-autorefs = {version = \"0.1.1\", optional = true}\npre-commit = {version = \"^2.12.0\", optional = true}\ntoml = {version = \"^0.10.2\", optional = true}\n\n[tool.poetry.extras]\ntest = [\n    \"pytest\",\n    \"black\",\n    \"isort\",\n    \"flake8\",\n    \"flake8-docstrings\",\n    \"pytest-cov\"\uff0c\n    \"twine\"\n    ]\n\ndev = [\"tox\", \"pre-commit\", \"virtualenv\", \"pip\",  \"toml\"]\n\ndoc = [\n    \"mkdocs\",\n    \"mkdocs-include-markdown-plugin\",\n    \"mkdocs-material\",\n    \"mkdocstrings\",\n    \"mkdocs-material-extension\",\n    \"mkdocs-autorefs\"\n    ]\n</code></pre> \u8fd9\u91cc tox\uff0c pre-commit \u7b49\u662f\u6211\u4eec\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u5de5\u5177\uff1bpytest \u7b49\u662f\u6d4b\u8bd5\u65f6\u9700\u8981\u7684\u4f9d\u8d56\uff1b\u800c doc \u5219\u662f\u6784\u5efa\u6587\u6863\u65f6\u9700\u8981\u7684\u5de5\u5177\u3002\u901a\u8fc7\u8fd9\u6837\u5212\u5206\uff0c\u53ef\u4ee5\u4f7f CI \u6216\u8005\u6587\u6863\u6258\u7ba1\u5e73\u53f0\u53ea\u5b89\u88c5\u5fc5\u8981\u7684\u4f9d\u8d56\uff1b\u540c\u65f6\u4e5f\u5bb9\u6613\u8ba9\u5f00\u53d1\u8005\u5206\u6e05\u6bcf\u4e2a\u4f9d\u8d56\u7684\u5177\u4f53\u4f5c\u7528\u3002</p> <p>\u5f53\u4f60\u4f7f\u7528 poetry add \u547d\u4ee4\uff0c\u4e0d\u52a0\u4efb\u4f55\u9009\u9879\u65f6\uff0c\u8be5\u4f9d\u8d56\u5c06\u88ab\u6dfb\u52a0\u4e3a\u53d1\u884c\u4f9d\u8d56\uff08\u5728 1.3 \u4ee5\u4e0a\u7684 poetry \u4e2d\uff0c\u88ab\u5f52\u4e3a main \u7ec4\uff09\uff0c\u5373\u5b89\u88c5\u4f60\u7684\u5305\u7684\u6700\u7ec8\u7528\u6237\uff0c\u4ed6\u4eec\u4e5f\u5c06\u5b89\u88c5\u8be5\u4f9d\u8d56\u3002\u4f46\u6709\u4e00\u4e9b\u4f9d\u8d56\u53ea\u662f\u5f00\u53d1\u8005\u9700\u8981\uff0c\u6bd4\u5982\u8c61 mkdocs\uff0c pytest \u7b49\uff0c\u5b83\u4eec\u4e0d\u5e94\u8be5\u88ab\u5206\u53d1\u5230\u6700\u7ec8\u7528\u6237\u90a3\u91cc\u3002</p> <p>\u5728 python proejct wizard \u5f00\u53d1\u65f6\uff0cpoetry \u8fd8\u53ea\u652f\u6301\u4e00\u4e2a dev \u5206\u7ec4\uff0c\u8fd9\u6837\u7684\u7c92\u5ea6\u5f53\u7136\u662f\u4e0d\u591f\u7684\uff0c\u56e0\u6b64\uff0cpython project wizard \u501f\u7528\u4e86 extras \u5b57\u6bb5\u6765\u5411\u9879\u76ee\u6dfb\u52a0\u53ef\u9009\u4f9d\u8d56\u5206\u7ec4\uff0c\u5176\u5b83\u5de5\u5177\uff0c\u6bd4\u5982 tox \u4e5f\u652f\u6301\u8fd9\u6837\u7684\u8bed\u6cd5\u3002</p> <p>\u73b0\u5728\u6700\u65b0\u7684 poetry \u5df2\u7ecf\u5b8c\u5168\u652f\u6301\u5206\u7ec4\u6a21\u5f0f\uff0c\u5e76\u4e14\u4ece\u6587\u6863\u53ef\u4ee5\u770b\u51fa\uff0c\u5b83\u5efa\u8bae\u81f3\u5c11\u4f7f\u7528 main, docs \u548c test \u4e09\u4e2a\u5206\u7ec4\u3002\u540e\u7eed python project wizard \u751f\u6210\u7684\u9879\u76ee\u6846\u67b6\uff0c\u4e5f\u5c06\u5b8c\u5168\u4f7f\u7528\u6700\u65b0\u7684\u8bed\u6cd5\uff0c\u4f46\u4ecd\u7136\u4fdd\u7559\u56db\u4e2a\u5206\u7ec4\uff0c\u5373 main, dev, docs \u548c test\u3002</p> <p>\u901a\u8fc7 poetry \u5411\u9879\u76ee\u589e\u52a0\u5206\u7ec4\u53ca\u4f9d\u8d56\uff0c\u8bed\u6cd5\u662f\uff1a <pre><code>$ poetry add pytest --group test\n</code></pre> \u8fd9\u6837\uff0c\u751f\u6210\u7684 pyproject.toml \u7247\u6bb5\u5982\u4e0b\uff1a <pre><code>[tool.poetry.group.test.dependencies]\npytest = \"*\"\n</code></pre></p> <p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u5c06\u5176\u6307\u5b9a\u4e3a optional\u3002\u76ee\u524d\u6700\u65b0\u7248\u672c\u7684 poetry \u4ecd\u7136\u4e0d\u652f\u6301\u901a\u8fc7\u547d\u4ee4\u884c\u76f4\u63a5\u5c06 group \u6307\u5b9a\u4e3a optional\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u624b\u5de5\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <pre><code>[tool.poetry.group.test]\noptional = true\n</code></pre> <p>Info</p> <p>\u6ce8\u610f\uff0c\u901a\u8fc7\u4e0a\u8ff0\u547d\u4ee4\u751f\u6210\u7684 toml \u6587\u4ef6\u7684\u5185\u5bb9\u53ef\u80fd\u4e0e python project wizard \u5f53\u524d\u7248\u672c\u751f\u6210\u7684\u6709\u6240\u4e0d\u540c\u3002\u4f46 python project wizard \u7684\u672a\u6765\u7248\u672c\u6700\u7ec8\u5c06\u4f7f\u7528\u540c\u6837\u7684\u8bed\u6cd5\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#223-poetry","title":"2.2.3. poetry \u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u5728\u4e0a\u4e00\u8282\uff0c\u6211\u4eec\u7b80\u5355\u5730\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 poetry \u6765\u5411\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u589e\u52a0\u4f9d\u8d56\u3002\u6211\u4eec\u5f3a\u8c03\u4e86\u4f9d\u8d56\u89e3\u6790\u7684\u56f0\u96be\uff0c\u4f46\u5e76\u6ca1\u6709\u89e3\u91ca poetry \u662f\u5982\u4f55\u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\u7684\uff0c\u5b83\u4f1a\u9047\u5230\u54ea\u4e9b\u56f0\u96be\uff0c\u53ef\u80fd\u906d\u9047\u4ec0\u4e48\u6837\u7684\u5931\u8d25\uff0c\u4ee5\u53ca\u5e94\u8be5\u5982\u4f55\u6392\u9519\u3002\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8fd9\u5f80\u5f80\u662f\u914d\u7f6e poetry \u9879\u76ee\u65f6\u6700\u56f0\u96be\u548c\u6700\u8017\u65f6\u95f4\u7684\u90e8\u5206\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5f80\u9879\u76ee\u4e2d\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u4f9d\u8d56\uff0c\u901a\u5e38\u6211\u4eec\u4f7f\u7528<code>poetry add xxx</code>\u6765\u5f80\u9879\u76ee\u4e2d\u589e\u52a0\u4f9d\u8d56\u3002\u4e3a\u4e86\u4e00\u7aa5 poetry \u4f9d\u8d56\u89e3\u6790\u7684\u7a76\u7adf\uff0c\u8fd9\u6b21\u6211\u4eec\u52a0\u4e0a\u8be6\u7ec6\u4fe1\u606f\u8f93\u51fa\uff1a</p> <p><pre><code>$ poetry add gino -vvv\n</code></pre> \u8f93\u51fa\u4f1a\u5f88\u957f\u5f88\u957f\u3002\u6211\u4eec\u6458\u8981\u8bfb\u4e00\u4e0b\u8ddf gino \u76f8\u5173\u7684\u4e00\u4e9b\u89e3\u6790\u8fc7\u7a0b\uff1a</p> <p>\u9996\u5148\uff0cpoetry \u6ce8\u610f\u5230 sample 0.1.0 \u4f9d\u8d56\u5230 gino(&gt;=1.0.1, &lt; 2.0.0)\uff0c\u4ee5\u53ca\u5176\u5b83\u4e00\u4e9b\u4f9d\u8d56\uff0c\u751f\u6210\u4e86\u7b2c\u4e00\u6b65\u7684\u89e3\u6790\u7ed3\u679c\uff1a <pre><code>   1: fact: sample is 0.1.0\n   1: derived: sample\n   1: selecting sample (0.1.0)\n   1: derived: gino (&gt;=1.0.1,&lt;2.0.0)\n   1: derived: mike (&gt;=1.1.2,&lt;2.0.0)\n    ...\n</code></pre></p> <p>\u63a5\u4e0b\u6765\uff0c\u4e0b\u8f7d gino\uff0c\u89e3\u6790\u51fa\u4e0b\u9762\u7684\u4f9d\u8d56\uff1a</p> <p><pre><code>1 packages found for gino &gt;=1.0.1,&lt;2.0.0\n   1: fact: gino (1.0.1) depends on SQLAlchemy (&gt;=1.2.16,&lt;1.4)\n   1: fact: gino (1.0.1) depends on asyncpg (&gt;=0.18,&lt;1.0)\n   1: selecting gino (1.0.1)\n   1: derived: asyncpg (&gt;=0.18,&lt;1.0)\n   1: derived: SQLAlchemy (&gt;=1.2.16,&lt;1.4)\n</code></pre> \u518d\u63a5\u4e0b\u6765\uff0c\u5b83\u627e\u5230 sqlalchemy \u7684 29 \u4e2a\u7248\u672c\uff1a <pre><code>Source (ali): 14 packages found for asyncpg &gt;=0.18,&lt;1.0\nSource (ali): 29 packages found for sqlalchemy &gt;=1.2.16,&lt;1.4\n</code></pre> \u63a5\u4e0b\u6765\u6bd4\u8f83\u5e78\u8fd0\uff0c\u5f53 poetry \u67e5\u627e asyncpg \u548c sqlalchemy \u7684\u4f20\u9012\u4f9d\u8d56\u65f6\uff0c\u6ca1\u6709\u627e\u5230\u5b83\u4eec\u6709\u66f4\u591a\u7684\u4f20\u9012\u4f9d\u8d56\uff0c\u89e3\u6790\u7ed3\u675f\uff0c\u8fd9\u6837\uff0cpoetry \u5c31\u987a\u5229\u5730\u9009\u62e9\u4e86 29 \u4e2a\u7248\u672c\u4e2d\uff0c\u6700\u65b0\u7684\u4e00\u4e2a\uff0c\u5373 SQLAlchemy-1.3.24\u3002\u8fd9\u4e2a\u7248\u672c\u53c8\u6709 linux, windows \u548c mac \u7b49\u597d\u51e0\u4e2a\u5305\uff0cpoetry \u6700\u7ec8\u9009\u62e9\u8ddf\u5f53\u524d\u73af\u5883\u4e2d\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u4e00\u81f4\u3001python \u7248\u672c\u4e00\u81f4\u7684\u90a3\u4e2a\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u73b0\u5728\u8ba9\u6211\u4eec\u770b\u4e00\u770b poetry \u6700\u7ec8\u89e3\u6790\u51fa\u6765\u7684\u4f9d\u8d56\u6811\uff1a <pre><code>$ poetry show -t\nblack 22.12.0 The uncompromising code formatter.\n\u251c\u2500\u2500 click &gt;=8.0.0\n\u2502   \u251c\u2500\u2500 colorama * \n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 mypy-extensions &gt;=0.4.3\n\u251c\u2500\u2500 pathspec &gt;=0.9.0\n\u251c\u2500\u2500 platformdirs &gt;=2\n\u2502   \u2514\u2500\u2500 typing-extensions &gt;=4.4 \n\u251c\u2500\u2500 tomli &gt;=1.1.0\n\u251c\u2500\u2500 typed-ast &gt;=1.4.2\n\u2514\u2500\u2500 typing-extensions &gt;=3.10.0.0\ngino 1.0.1 GINO Is Not ORM - a Python asyncio ORM on SQLAlchemy core.\n\u251c\u2500\u2500 asyncpg &gt;=0.18,&lt;1.0\n\u2514\u2500\u2500 sqlalchemy &gt;=1.2.16,&lt;1.4\nmkdocs 1.2.4 Project documentation with Markdown.\n\u251c\u2500\u2500 click &gt;=3.3\n\u2502   \u251c\u2500\u2500 colorama * \n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 ghp-import &gt;=1.0\n\u2502   \u2514\u2500\u2500 python-dateutil &gt;=2.8.1 \n\u2502       \u2514\u2500\u2500 six &gt;=1.5 \n\u251c\u2500\u2500 importlib-metadata &gt;=3.10\n\u2502   \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502   \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 jinja2 &gt;=2.10.1\n\u2502   \u2514\u2500\u2500 markupsafe &gt;=2.0 \n\u251c\u2500\u2500 markdown &gt;=3.2.1\n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 mergedeep &gt;=1.3.4\n\u251c\u2500\u2500 packaging &gt;=20.5\n\u251c\u2500\u2500 pyyaml &gt;=3.10\n\u251c\u2500\u2500 pyyaml-env-tag &gt;=0.1\n\u2502   \u2514\u2500\u2500 pyyaml * \n\u2514\u2500\u2500 watchdog &gt;=2.0\n</code></pre> \u8fd9\u4e2a\u4f9d\u8d56\u6811\u5f88\u957f\uff0c\u8fd9\u91cc\u53ea\u622a\u53d6\u4e86\u4e00\u5c0f\u90e8\u5206\uff0c\u4f46\u5927\u81f4\u4e0a\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3 poetry \u7684\u5de5\u4f5c\u539f\u7406\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230<code>black</code>\u548c<code>mkdocs</code>\u90fd\u4f9d\u8d56\u4e86<code>click</code>\uff0c\u4f46<code>black</code>\u8981\u6c42\u66f4\u65b0\u5230 8.0 \u4ee5\u4e0a\uff0c\u800c<code>mkdocs</code>\u5219\u8ba4\u4e3a\u53ea\u8981\u662f 3.3 \u4ee5\u4e0a\u90fd\u53ef\u4ee5\u3002\u4e24\u8005\u7248\u672c\u8981\u6c42\u5dee\u8ddd\u5982\u6b64\u4e4b\u5927\uff0c\u4e5f\u4e0d\u514d\u8ba9\u4eba\u62c5\u5fc3\uff0c8.0 \u7684<code>click</code>\u4e0e 3.3 \u7684<code>click</code>\u8fd8\u4f1a\u662f\u540c\u4e00\u4e2a<code>click</code>\u5417\uff1f</p> <p>\u6700\u7ec8\uff0c\u5173\u4e8e gino \u548c sqlalchemy\uff0cpoetry \u5b89\u88c5\u7684\u5206\u522b\u662f 1.0.1 \u548c 1.3.24\uff0c\u4f46\u662f\uff0c\u4e0a\u8ff0\u89e3\u6790\u6811\u8868\u660e\uff0c\u5982\u679c\u5b58\u5728 sqlalchemy \u7684 1.3.25 \u7248\u672c\uff0c\u5b83\u662f\u53ef\u4ee5\u81ea\u52a8\u5347\u7ea7\u7684\u3002\u6211\u4eec\u8bb8\u7684\u613f\uff0cpoetry \u5e2e\u52a9\u5b9e\u73b0\u4e86\u3002</p> <p>\u751f\u6210\u8fd9\u68f5\u4f9d\u8d56\u6811\u53ef\u80fd\u8981\u6bd4\u4f60\u60f3\u50cf\u7684\u56f0\u96be\u5f97\u591a\u3002\u9996\u5148\uff0cPyPI \u76ee\u524d\u8fd8\u6ca1\u6709\u7ed9\u51fa\u5b83\u4e0a\u9762\u7684\u67d0\u4e00\u4e2a package \u7684\u4f9d\u8d56\u6811\uff0c\u8fd9\u610f\u5473\u7740 poetry \u8981\u77e5\u9053<code>black</code>\u4f9d\u8d56\u54ea\u4e9b\u5e93\uff0c\u5b83\u5fc5\u987b\u5148\u628a<code>black</code>\u4e0b\u8f7d\u4e0b\u6765\uff0c\u6253\u5f00\u5b83\u5e76\u89e3\u6790\u624d\u80fd\u77e5\u9053\u3002\u7136\u540e\u5b83\u4ece<code>black</code>\u4e2d\u53d1\u73b0\u66f4\u591a\u7684\u4f9d\u8d56\uff0c\u8fd9\u5f80\u5f80\u5c31\u9700\u8981\u5b83\u628a\u8fd9\u4e9b\u4f9d\u8d56\u4e5f\u4e0b\u8f7d\u4e0b\u6765\uff0c\u4f9d\u6b21\u9012\u5f52\u4e0b\u53bb\u3002</p> <p>Info</p> <p>\u7c7b\u4f3c\u7684\u7cfb\u7edf\u5728\u5176\u5b83\u8bed\u8a00\u4e2d\u5df2\u7ecf\u5b58\u5728\u4e86\u3002\u6bd4\u5982Java\u6709maven\u6765\u4fdd\u5b58\u5404\u4e2a\u5f00\u6e90\u5e93\u7684\u4f9d\u8d56\u6811\u3002\u5728\u4f9d\u8d56\u89e3\u6790\u65f6\uff0c\u5b83\u4e0d\u9700\u8981\u4e0b\u8f7d\u6574\u4e2a\u5305\uff0c\u800c\u53ea\u9700\u8981\u4e0b\u8f7d\u7d22\u5f15\u5c31\u53ef\u4ee5\u8fdb\u884c\u89e3\u6790\uff0c\u56e0\u6b64\u901f\u5ea6\u4f1a\u66f4\u5feb\u4e00\u4e9b\u3002</p> <p>\u66f4\u4e3a\u7cdf\u7cd5\u7684\u662f\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u67d0\u4e2a\u5e93\u7684\u597d\u51e0\u4e2a\u7248\u672c\u53ef\u80fd\u90fd\u9700\u8981\u4f9d\u6b21\u4e0b\u8f7d\u4e0b\u6765 -- \u56e0\u4e3a\u5b83\u4eec\u7684\u4f20\u9012\u4f9d\u8d56\u4e0d\u80fd\u517c\u5bb9\u3002\u6211\u8bb0\u5f97\u5728\u67d0\u6b21\u89e3\u6790\u4e2d\uff0cpoetry \u628a numpy \u7684\u7248\u672c\u4ece 1.2.x \u4e00\u76f4\u4e0b\u8f7d\u5230\u4e86 0.1\uff01\u6700\u7ec8\u8fd8\u662f\u5931\u8d25\u4e86\u3002</p> <p>\u6240\u4ee5\uff0c\u5982\u679c\u4f60\u5728\u6dfb\u52a0\u67d0\u4e2a\u4f9d\u8d56\u65f6\uff0c\u53d1\u73b0 poetry \u8017\u65f6\u8fc7\u957f\uff0c\u4e0d\u8981\u614c\u5f20\uff0c\u5f88\u591a\u4eba\u90fd\u6709\u4e0e\u4f60\u4e00\u6837\u7684\u7ecf\u5386\u3002\u8fd9\u79cd\u60c5\u51b5\u4e3b\u8981\u662f poetry \u65e0\u6cd5\u5feb\u901f\u9501\u5b9a\u67d0\u4e2a package \u7684\u6b63\u786e\u7248\u672c\uff0c\u4e0d\u5f97\u4e0d\u5411\u540e\u4e00\u4e2a\u4e2a\u7248\u672c\u641c\u7d22\u4e0b\u8f7d\u6240\u81f4\u3002\u6211\u4eec\u80fd\u505a\u7684\uff0c\u5c31\u662f\u52a0\u5feb poetry \u4e0b\u8f7d\u7684\u901f\u5ea6\u3002</p> <p>poetry \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u662f\u4ece pypi.org \u4e0a\u4e0b\u8f7d package\u3002\u5982\u679c\u9047\u5230\u89e3\u6790\u901f\u5ea6\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4e34\u65f6\u6dfb\u52a0\u4e00\u4e2a\u6e90\uff1a <pre><code>poetry source add ali https://mirrors.aliyun.com/pypi/simple --default\n</code></pre> \u518d\u6b21\u8fd0\u884c<code>poetry add</code>\uff0c\u8fd9\u6b21\u4f60\u4f1a\u53d1\u73b0\u89e3\u6790\u901f\u5ea6\u5feb\u4e86\u5f88\u591a\u3002</p> <p>Info</p> <p>\u65e9\u671f poetry \u7684\u4f9d\u8d56\u89e3\u6790\u53ef\u4ee5\u6162\u5230 10 \u591a\u4e2a\u5c0f\u65f6\u90fd\u505a\u4e0d\u5b8c\u3002\u8fd9\u6709\u4e24\u65b9\u9762\u7684\u539f\u56e0\uff0c\u4e00\u662f\u65e9\u671f poetry \u7684\u4f9d\u8d56\u89e3\u6790\u8fd8\u6ca1\u6709\u542f\u7528\u591a\u7ebf\u7a0b\u4e0b\u8f7d\u4f18\u5316\uff1b\u4e8c\u662f\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0cpoetry \u9700\u8981\u628a\u67d0\u4e9b package \u5728 pypi \u4e0a\u6240\u6709\u7684\u7248\u672c\u5168\u90e8\u4e0b\u8f7d\u4e00\u6b21\uff0c\u624d\u80fd\u5f97\u51fa\u65e0\u6cd5\uff08\u6216\u8005\u53ef\u4ee5\uff09\u52a0\u5165\u8be5\u4f9d\u8d56\u7684\u7ed3\u8bba\u3002\u968f\u7740 python \u751f\u6001\u7684\u53d8\u5316\uff0c\u73b0\u5728\u8fd9\u79cd\u9700\u8981\u6570\u5c0f\u65f6\u7684\u4f9d\u8d56\u89e3\u6790\u7684\u65f6\u4ee3\u57fa\u672c\u7ed3\u675f\u4e86\u3002\u5728\u6dfb\u52a0\u56fd\u5185\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u6162\u7684\u65f6\u5019\u4e5f\u5f80\u5f80\u662f\u4e0d\u5230\u4e00\u523b\u949f\u5c31\u80fd\u5b8c\u6210\u89e3\u6790\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u6765\u79fb\u9664 gino\uff1a <pre><code>$ poetry remove gino\nUpdating dependencies\nResolving dependencies... (1.2s)\n\nWriting lock file\n\nPackage operations: 0 installs, 0 updates, 3 removals\n\n  \u2022 Removing asyncpg (0.27.0)\n  \u2022 Removing gino (1.0.1)\n  \u2022 Removing sqlalchemy (1.3.24)\n</code></pre></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u4e0d\u4ec5\u662f gino \u672c\u8eab\u88ab\u5378\u8f7d\uff0c\u5b83\u7684\u4f20\u9012\u4f9d\u8d56 -- asyncpg \u548c sqlalchemy \u4e5f\u88ab\u79fb\u9664\u6389\u4e86\u3002\u8fd9\u662f pip \u505a\u4e0d\u5230\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#23","title":"2.3. \u865a\u62df\u8fd0\u884c\u65f6","text":"<p>Poetry \u81ea\u5df1\u7ba1\u7406\u7740\u865a\u62df\u8fd0\u884c\u65f6\u73af\u5883\u3002\u5f53\u4f60\u6267\u884c<code>poetry install</code>\u547d\u4ee4\u65f6\uff0cPoetry \u5c31\u4f1a\u5b89\u88c5\u4e00\u4e2a\u57fa\u4e8e venv \u7684\u865a\u62df\u73af\u5883\uff0c\u7136\u540e\u628a\u9879\u76ee\u4f9d\u8d56\u90fd\u5b89\u88c5\u5230\u8fd9\u4e2a\u865a\u62df\u7684\u8fd0\u884c\u73af\u5883\u4e2d\u53bb\u3002\u6b64\u540e\uff0c\u5f53\u4f60\u901a\u8fc7 poetry \u6765\u6267\u884c\u5176\u5b83\u547d\u4ee4\u65f6\uff0c\u6bd4\u5982<code>poetry pytest</code>\uff0c\u4e5f\u4f1a\u5728\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\u6267\u884c\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u4f60\u76f4\u63a5\u6267\u884c<code>pytest</code>\uff0c\u5219\u4f1a\u62a5\u544a\u4e00\u4e9b\u6a21\u5757\u65e0\u6cd5\u5bfc\u5165\uff0c\u56e0\u4e3a\u4f60\u7684\u5de5\u7a0b\u4f9d\u8d56\u5e76\u6ca1\u6709\u5b89\u88c5\u5728\u5f53\u524d\u7684\u73af\u5883\u4e0b\u3002</p> <p>\u6211\u4eec\u63a8\u8350\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528 conda \u6765\u521b\u5efa\u96c6\u4e2d\u5f0f\u7ba1\u7406\u7684\u8fd0\u884c\u65f6\u3002\u5728\u8c03\u8bd5 Python \u7a0b\u5e8f\u65f6\uff0c\u90fd\u8981\u4e8b\u5148\u7ed9 IDE \u6307\u5b9a\u89e3\u6790\u5668\uff0c\u8fd9\u91cc\u4f7f\u7528\u96c6\u4e2d\u5f0f\u7ba1\u7406\u7684\u8fd0\u884c\u65f6\uff0c\u53ef\u80fd\u66f4\u65b9\u4fbf\u4e00\u70b9\u3002Poetry \u4e5f\u5141\u8bb8\u8fd9\u79cd\u505a\u6cd5\u3002\u5f53 Poetry \u68c0\u6d4b\u5230\u5f53\u524d\u662f\u8fd0\u884c\u5728\u865a\u62df\u8fd0\u884c\u65f6\u73af\u5883\u4e0b\u65f6\uff0c\u5b83\u662f\u4e0d\u4f1a\u521b\u5efa\u65b0\u7684\u865a\u62df\u73af\u5883\u7684\u3002</p> <p>\u4f46\u662f Poetry \u7684\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u529f\u80fd\u4e5f\u662f\u6709\u7528\u7684\uff0c\u4e3b\u8981\u662f\u5728\u6d4b\u8bd5\u65f6\uff0c\u901a\u8fc7 virtualenv/venv \u521b\u5efa\u865a\u62df\u73af\u5883\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#24","title":"2.4. \u6784\u5efa\u53d1\u884c\u5305","text":""},{"location":"articles/python/best-practice-python/chap05/#241-python","title":"2.4.1. Python \u6784\u5efa\u6807\u51c6\u548c\u5de5\u5177\u7684\u53d8\u5316","text":"<p>\u5728 poetry 1.0 \u53d1\u5e03\u4e4b\u524d\uff0c\u6253\u5305\u4e00\u4e2a python \u9879\u76ee\uff0c\u9700\u8981\u51c6\u5907 MANIFEST.in, setup.cfg, setup.py\uff0cmakefile \u7b49\u6587\u4ef6\u3002\u8fd9\u662f PyPA(python packaging authority) \u7684\u8981\u6c42\uff0c\u53ea\u6709\u9075\u5faa\u8fd9\u4e9b\u8981\u6c42\u6253\u51fa\u6765\u7684\u5305\uff0c\u624d\u53ef\u4ee5\u4e0a\u4f20\u5230 pypi.org\uff0c\u4ece\u800c\u5411\u5168\u4e16\u754c\u53d1\u5e03\u3002</p> <p>\u4f46\u662f\u8fd9\u4e00\u5957\u7cfb\u7edf\u4e5f\u6709\u4e0d\u5c11\u95ee\u9898\uff0c\u6bd4\u5982\u7f3a\u5c11\u6784\u5efa\u65f6\u4f9d\u8d56\u58f0\u660e\uff0c\u81ea\u52a8\u914d\u7f6e\uff0c\u7248\u672c\u7ba1\u7406\u3002\u56e0\u6b64\uff0cPEP 517 \u88ab\u63d0\u51fa\uff0c\u7136\u540e\u57fa\u4e8e PEP 517, PEP 518 \u7b49\u4e00\u7cfb\u5217\u65b0\u7684\u6807\u51c6\uff0cS\u00e9bastien Eustace \u5f00\u53d1\u4e86 poetry\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#242-poetry","title":"2.4.2. \u57fa\u4e8e Poetry \u8fdb\u884c\u53d1\u884c\u5305\u7684\u6784\u5efa","text":"<p>\u6211\u4eec\u901a\u8fc7\u8fd0\u884c<code>poetry build</code>\u6765\u6253\u5305\uff0c\u6253\u5305\u7684\u6587\u4ef6\u7ea6\u5b9a\u4fd7\u6210\u5730\u653e\u5728 dist \u76ee\u5f55\u4e0b\u3002</p> <p>poetry \u652f\u6301\u5411 pypi \u8fdb\u884c\u53d1\u5e03\uff0c\u5176\u547d\u4ee4\u662f<code>poetry publish</code>\u3002\u4e0d\u8fc7\uff0c\u5728\u8fd0\u884c\u8be5\u547d\u4ee4\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5bf9 poetry \u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u4e3b\u8981\u662f repo \u548c token\u3002</p> <p><pre><code># PUBLISH TO TEST PYPI\n$ poetry config repositories.testpypi https://test.pypi.org/legacy/\n$ poetry config testpypi-token.pypi my-token\n$ poetry publish -r testpypi\n\n# PUBLISH TO PYPI\n$ poetry config pypi-token.pypi my-token\n$ poetry publish\n</code></pre> \u4e0a\u9762\u7684\u547d\u4ee4\u5206\u522b\u5bf9\u53d1\u5e03\u5230 test pypi \u548c pypi \u8fdb\u884c\u4e86\u6f14\u793a\u3002\u9ed8\u8ba4\u5730 Poetry \u652f\u6301 PyPI \u53d1\u5e03\uff0c\u6240\u4ee5\u6709\u4e9b\u53c2\u6570\u5c31\u4e0d\u9700\u8981\u63d0\u4f9b\u4e86\u3002\u5f53\u7136\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u4e0d\u5e94\u8be5\u76f4\u63a5\u8fd0\u884c<code>poetry publish</code>\u547d\u4ee4\u6765\u53d1\u5e03\u7248\u672c\u3002\u7248\u672c\u7684\u53d1\u5e03\uff0c\u90fd\u5e94\u8be5\u901a\u8fc7 CI \u673a\u5236\u6765\u8fdb\u884c\u3002\u8fd9\u6837\u7684\u597d\u5904\u65f6\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u6bcf\u6b21\u53d1\u5e03\uff0c\u90fd\u7ecf\u8fc7\u4e86\u5b8c\u6574\u7684\u6d4b\u8bd5\uff0c\u5e76\u4e14\uff0c\u6784\u5efa\u73af\u5883\u662f\u59cb\u7ec8\u4e00\u81f4\u7684\uff0c\u4e0d\u4f1a\u51fa\u73b0\u56e0\u6784\u5efa\u73af\u5883\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u6253\u51fa\u6765\u7684\u5305\u6709\u95ee\u9898\u7684\u60c5\u51b5\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#25-poetry","title":"2.5. \u5176\u5b83\u91cd\u8981\u7684 Poetry \u547d\u4ee4","text":"<p>\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86 poetry add, poetry remove, poetry show, poetry build, poetry publish, poetry version \u7b49\u547d\u4ee4\u3002\u8fd8\u6709\u4e00\u4e9b\u547d\u4ee4\u4e5f\u503c\u5f97\u4ecb\u7ecd\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#251-poetry-lock","title":"2.5.1. poetry lock","text":"<p>\u8be5\u547d\u4ee4\u5c06\u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\uff0c\u9501\u5b9a\u6240\u6709\u7684\u4f9d\u8d56\u5230\u6700\u65b0\u7684\u517c\u5bb9\u7248\u672c\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u5230 poetry.lock \u6587\u4ef6\u4e2d\u3002\u901a\u5e38\uff0c\u8fd0\u884c poetry add \u65f6\u4e5f\u4f1a\u751f\u6210\u65b0\u7684\u9501\u5b9a\u6587\u4ef6\u3002</p> <p>\u5728\u5bf9\u4ee3\u7801\u6267\u884c\u6d4b\u8bd5\u3001CI \u6216\u8005\u53d1\u5e03\u4e4b\u524d\uff0c\u52a1\u5fc5\u8981\u786e\u4fdd poetry.lock \u5b58\u5728\uff0c\u5e76\u4e14\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u5e94\u8be5\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\uff0c\u8fd9\u6837\u6240\u6709\u7684\u6d4b\u8bd5\uff0cCI \u670d\u52a1\u5668\uff0c\u4f60\u7684\u540c\u4faa\u5f00\u53d1\u8005\u6784\u5efa\u7684\u73af\u5883\u624d\u4f1a\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap05/#252-poetry-export","title":"2.5.2. poetry export","text":"<pre><code>$ poetry export -f requirements.txt --output requirements.txt\n</code></pre>"},{"location":"articles/python/best-practice-python/chap05/#253-poetry-config","title":"2.5.3. poetry config","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 poetry config --list \u6765\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u9879\uff1a <pre><code>cache-dir = \"/path/to/cache/directory\"\nvirtualenvs.create = true\nvirtualenvs.in-project = null\nvirtualenvs.options.always-copy = true\nvirtualenvs.options.no-pip = false\nvirtualenvs.options.no-setuptools = false\nvirtualenvs.options.system-site-packages = false\nvirtualenvs.path = \"{cache-dir}/virtualenvs\"  # /path/to/cache/directory/virtualenvs\nvirtualenvs.prefer-active-python = false\nvirtualenvs.prompt = \"{project_name}-py{python_version}\"\n</code></pre> \u8fd9\u91cc\u9762\u6bd4\u8f83\u91cd\u8981\u7684\u6709\u914d\u7f6e pypi-token\uff0c\u914d\u7f6e\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u514d\u767b\u5f55\u8fdb\u884c\u9879\u76ee\u53d1\u5e03\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u5efa\u8bae\u5bf9\u91cd\u8981\u9879\u76ee\uff0c\u4e0d\u8981\u5728\u672c\u5730\u914d\u7f6e\u8fd9\u4e2atoken\uff0c \u6211\u4eec\u5e94\u8be5\u53ea\u5728CI/CD\u7cfb\u7edf\u4e2d\u914d\u7f6e\u8fd9\u4e2atoken\uff0c\u4ee5\u5b9e\u73b0\u4ec5\u4eceCI/CD\u8fdb\u884c\u53d1\u5e03\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/","title":"1. AI\u8d4b\u80fd\u7684\u4ee3\u7801\u7f16\u5199","text":"<p>\u4f20\u7edf\u4e0a\uff0cIDE\u7684\u91cd\u8981\u529f\u80fd\u4e4b\u4e00\uff0c\u5c31\u662f\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u3001\u8bed\u6cd5\u9ad8\u4eae\u3001\u6587\u6863\u63d0\u793a\u3001\u9519\u8bef\u8bca\u65ad\u7b49\u7b49\u3002\u968f\u7740\u4eba\u7c7b\u8fdb\u5165\u6df1\u5ea6\u5b66\u4e60\u65f6\u4ee3\uff0cAI\u8f85\u52a9\u7f16\u7801\u5219\u8ba9\u7a0b\u5e8f\u5458\u5982\u864e\u6dfb\u7ffc\u3002</p> <p>\u6211\u4eec\u9996\u5148\u4ecb\u7ecd\u51e0\u4e2aAI\u8f85\u52a9\u7f16\u7801\u7684\u5de5\u5177\uff0c\u7136\u540e\u518d\u4ecb\u7ecd\u5e38\u89c4\u7684\u8bed\u6cd5\u9ad8\u4eae\u3001\u6587\u6863\u63d0\u793a\u7b49\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#11-github-copilot","title":"1.1. github copilot","text":"<p>github copilot\u662fgithub\u5b98\u65b9\u51fa\u54c1\u7684AI\u8f85\u52a9\u7f16\u7801\u5de5\u5177\u3002\u5b83\u662f\u57fa\u4e8e\u5927\u89c4\u6a21\u8bed\u6599\u3001\u8d85\u5927\u89c4\u6a21\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\uff0c\u7ed3\u5408\u4e86\u5927\u91cf\u7684\u7f16\u7a0b\u7ecf\u9a8c\uff0c\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4ee3\u7801\u8865\u5168\u3001\u4ee3\u7801\u7247\u6bb5\u8054\u60f3\u3001\u4ee3\u7801\u63a8\u8350\u7b49\u529f\u80fd\u3002copilot\u53ef\u4ee5\u6839\u636e\u7528\u6237\u8f93\u5165\u7684\u4e00\u884c\u6ce8\u91ca\uff0c\u81ea\u52a8\u751f\u6210\u4ee3\u7801\u7247\u6bb5\u751a\u81f3\u6574\u4e2a\u51fd\u6570\uff0c\u529f\u80fd\u5341\u5206\u5f3a\u5927\u3002</p> <p>Info</p> <p>2023\u5e7412\u6708\uff0c\u5fae\u8f6f\u628a\u4ed6\u4eec\u57fa\u4e8echatGPT\u7684\u4eba\u5de5\u667a\u80fd\u641c\u7d22\u5f15\u64ce\u6280\u672f\u4e5f\u79f0\u4e3acopilot\uff0c\u5b83\u662f\u60a8\u5728\u4f7f\u7528bing\u641c\u7d22\u5f15\u64ce\u65f6\uff0c\u51fa\u73b0\u7684\u4e00\u4e2a\u5bf9\u8bdd\u673a\u5668\u4eba\u3002Github\u73b0\u5728\u4e5f\u662f\u5fae\u8f6f\u7684\u8d44\u4ea7\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u5199\u4e00\u6bb5\u6ce8\u91ca\u5982\u4e0b\uff1a <pre><code># create a fibonacci series up to nth term\n</code></pre> \u7136\u540e\u56de\u8f66\uff0ccopilot\u5c31\u4f1a\u5199\u51fa\u4e0b\u9762\u7684\u4ee3\u7801: <pre><code>def fibonacci(n):\n    if n &lt;= 1:\n        return n\n    else:\n        return fibonacci(n-1) + fibonacci(n-2)\n</code></pre> \u8fd9\u4e2a\u51fd\u6570\u8fd8\u6709\u4e00\u4e2a\u5c3e\u9012\u5f52\u7248\u672c\uff0c\u5f53\u7136copilot\u4e5f\u80fd\u63d0\u4f9b\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0ccopilot\u80fd\u63d0\u4f9b10\u4e2a\u4ee5\u5185\u7684\u5907\u9009\u7b54\u6848\u3002</p> <p>\u6211\u4eec\u518d\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6709\u4ee5\u4e0b\u6ce8\u91ca\uff1a <pre><code>\u8bbe\u7f6enpm\u4e2d\u56fd\u52a0\u901f\u955c\u50cf\n</code></pre> \u4f60\u4f1a\u7acb\u5373\u5f97\u5230\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.org\n</code></pre> \u518d\u4e5f\u4e0d\u7528\u8bb0\u5fc6\u8fd9\u4e9b\u5947\u602a\u7684\u8bbe\u7f6e\u4e86\uff01</p> <p>\u6211\u4eec\u518d\u8bd5\u4e00\u4e2a\u4f8b\u5b50:</p> <p><pre><code># \u8bfb\u53d6csv\u6587\u4ef6\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u5bf9\u8c61\ndef read_csv(filename):\n    with open(filename, 'r') as f:\n        reader = csv.reader(f)\n        return list(reader)\n\n# \u5c06\u6570\u7ec4\u5bf9\u8c61\u8f6c\u6362\u4e3ajson\u5b57\u7b26\u4e32\ndef to_json(data):\n    return json.dumps(data)\n\n# \u5c06json\u53d1\u9001\u5230github\ndef send_json(json_data):\n    url = 'https://api.github.com/repos/udacity/ud120-projects/issues'\n    headers = {\n        'Authorization': ''  # \u8bf7\u586b\u5199\u4f60\u7684token\n    }\n    r = requests.post(url, json_data, headers=headers)\n\ndef main():\n    data = read_csv('foo.csv')\n    json_data = to_json(data)\n    send_json(json_data)\n</code></pre> \u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ea\u5199\u4e86\u4e09\u884c\u6ce8\u91ca\uff0ccopilot\u81ea\u52a8\u5e2e\u6211\u4eec\u586b\u5145\u4e86\u4ee3\u7801\u3002\u5728send_json\u90a3\u4e2a\u65b9\u6cd5\u91cc\uff0ccopilot\u5728headers\u4e2d\u63d0\u793a\u8f93\u5165'Authorization'\u5b57\u6bb5\uff0c\u5e76\u63d0\u793a\u8fd9\u91cc\u8981\u7ed9\u51fatoken\uff0c\u8fd9\u4e2a\u586b\u5145\u5f88\u6709\u610f\u601d\uff0c\u5b83\u56e0\u4e3agithub\u8fd9\u4e2aAPI\u6b63\u597d\u662f\u901a\u8fc7token\u8ba4\u8bc1\u7684\u3002\u5f53\u7136\uff0c\u7531\u4e8e\u4fe1\u606f\u8fc7\u5c11\uff0c\u5b83\u7ed9\u7684url\u51e0\u4e4e\u80af\u5b9a\u662f\u9519\u7684\uff0c\u8fd9\u4e5f\u5728\u60c5\u7406\u4e4b\u4e2d\u3002</p> <p>\u6bd4\u8f83\u6709\u610f\u601d\u7684\u662fmain\u51fd\u6570\u3002\u6211\u53ea\u5b9a\u4e49\u4e86main()\u65b9\u6cd5\u7684\u51fd\u6570\u5934\uff0ccopilot\u5c45\u7136\u81ea\u52a8\u5b8c\u6210\u4e86\u6240\u6709\u529f\u80fd\u7684\u4e32\u8054\uff0c\u800c\u4e14\u5e94\u8be5\u8bf4\uff0c\u7b26\u5408\u9884\u671f\u3002</p> <p>\u5982\u679c\u4e0a\u9762\u7684\u4f8b\u5b50\u8fc7\u4e8e\u7b80\u5355\uff0c\u4f60\u53ef\u4ee5\u5199\u4e00\u4e9b\u6ce8\u91ca\uff0c\u8bf7\u6c42copilot\u4e3a\u4f60\u6293\u53d6\u52a0\u5bc6\u8d27\u5e01\u4ef7\u683c\uff0c\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u5224\u65ad\u662f\u5426\u662f\u6709\u6548\u7684\u90ae\u7bb1\u5730\u5740\uff0c\u6216\u8005\u538b\u7f29\u3001\u89e3\u538b\u7f29\u6587\u4ef6\u7b49\u7b49\u3002\u4f60\u4f1a\u53d1\u73b0\uff0ccopilot\u7684\u80fd\u529b\u662f\u975e\u5e38\u5f3a\u5927\u7684\u3002</p> <p>copilot\u7684\u795e\u5947\u4e4b\u5904\uff0c\u7edd\u4e0d\u53ea\u9650\u4e8e\u4e0a\u9762\u7684\u4e3e\u4f8b\u3002\u4f5c\u8005\u5728\u5b9e\u8df5\u4e2d\u786e\u5b9e\u4f53\u9a8c\u8fc7\u5b83\u7684\u8d85\u5e38\u80fd\u529b\uff0c\u6bd4\u5982\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u81ea\u52a8\u751f\u6210\u6570\u636e\u5e8f\u5217\uff0c\u6216\u8005\u5728\u751f\u6210\u7684\u4ee3\u7801\u4e2d\uff0c\u5b83\u7684\u9519\u8bef\u5904\u7406\u65b9\u6848\u4f1a\u6bd4\u4f60\u81ea\u5df1\u80fd\u5199\u51fa\u6765\u7684\u66f4\u7ec6\u817b\uff0c\u7b49\u7b49\u3002\u4f46\u662f\uff0c\u8981\u6f14\u793a\u90a3\u6837\u590d\u6742\u7684\u529f\u80fd\uff0c\u5df2\u7ecf\u8d85\u51fa\u4e86\u4e00\u672c\u4e66\u6240\u4ee5\u5c55\u73b0\u7684\u8303\u56f4\u4e86\u3002</p> <p>\u8fd9\u662f\u4e00\u4e9b\u4f7f\u7528\u8005\u7684\u611f\u8a00\uff1a</p> <p>Quote</p> <p>\u6211\u7684\u4e00\u90e8\u5206\u5de5\u4f5c\u5185\u5bb9\u4ece\u7f16\u5199\u4ee3\u7801\u8f6c\u6210\u4e86\u7b56\u5212\u3002\u4f5c\u4e3a\u4e00\u4e2a\u4eba\u7c7b\u53ef\u4ee5\u89c2\u5bdf\u5e76\u4fee\u6b63\u4e00\u4e9b\u4ee3\u7801\uff0c\u4e0d\u5fc5\u4eb2\u81ea\u52a8\u624b\u505a\u6bcf\u4e00\u4ef6\u4e8b\u3002</p> <p>\u6211\u5bf9\u5197\u4f59\u4ee3\u7801\u7684\u5bb9\u5fcd\u5ea6\u53d8\u9ad8\u4e86\u3002\u8ba9AI\u53bb\u505a\u91cd\u590d\u7684\u5de5\u4f5c\uff0c\u628a\u4ee3\u7801\u5199\u5f97\u66f4\u8be6\u7ec6\uff0c\u53ef\u4ee5\u63d0\u9ad8\u53ef\u8bfb\u6027\u3002</p> <p>\u6211\u66f4\u613f\u610f\u91cd\u6784\u4ee3\u7801\u4e86\u3002\u5bf9\u4e8e\u90a3\u4e9b\u5df2\u7ecf\u80fd\u7528\u4f46\u5199\u7684\u4e0d\u591f\u7406\u60f3\u7684\u4ee3\u7801\uff0cCopilot\u53ef\u4ee5\u7075\u6d3b\u7684\u5b8c\u6210\u91cd\u6784\uff0c\u6bd4\u5982\u628a\u590d\u6742\u51fd\u6570\u62c6\u5206\u6216\u5bf9\u5173\u952e\u90e8\u5206\u62bd\u8c61\u5316\u3002</p> <p>\u6240\u4ee5\uff0cDon't fly solo\uff08copilot\u5e7f\u544a\u8bed\uff09\uff0c\u5982\u679c\u6709\u53ef\u80fd\uff0c\u5f53\u4f60\u5728\u4ee3\u7801\u7684\u4e16\u754c\u91cc\u9068\u6e38\u65f6\uff0c\u8fd8\u662f\u8ba9copilot\u6765\u4f34\u98de\u5427\u3002\u5f53\u7136\uff0ccopilot\u4e5f\u6709\u5176\u4e0d\u8db3\uff0c\u5176\u4e2d\u6700\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u4e0d\u80fd\u514d\u8d39\u4f7f\u7528\uff08\u5b66\u751f\u9664\u5916\uff09\uff0c\u800c\u4e14\u6bcf\u4e2a\u670810\u7f8e\u91d1\u7684\u8d39\u7528\u5bf9\u4e2d\u56fd\u7a0b\u5e8f\u5458\u6765\u8bb2\u53ef\u80fd\u5e76\u4e0d\u4fbf\u5b9c\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u76ee\u524d\u5b83\u53ea\u63a5\u53d7\u4fe1\u7528\u5361\u548cpaypal\u4ed8\u6b3e\uff0c\u56e0\u6b64\u5728\u652f\u4ed8\u4e0a\u4e5f\u4e0d\u591f\u65b9\u4fbf\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#12-tabnine","title":"1.2. tabnine","text":"<p>\u53e6\u4e00\u4e2a\u9009\u9879\u662ftabnine\uff0c\u4e0ecopilot\u4e00\u6837\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4ece\u81ea\u7136\u8bed\u8a00\u5230\u4ee3\u7801\u7684\u8f6c\u6362\uff0c\u4ee5\u53ca\u6574\u6bb5\u51fd\u6570\u7684\u751f\u6210\u7b49\u529f\u80fd\u3002\u4e00\u4e9b\u8bc4\u8bba\u8ba4\u4e3a\uff0c\u5b83\u6bd4copilot\u591a\u51fa\u7684\u4e00\u4e2a\u529f\u80fd\u662f\uff0c\u5b83\u80fd\u57fa\u4e8e\u8bed\u6cd5\u89c4\u5219\u5728\u4e00\u884c\u8fd8\u672a\u7ed3\u675f\u65f6\u5c31\u7ed9\u51fa\u4ee3\u7801\u63d0\u793a\uff0c\u800ccopilot\u53ea\u80fd\u5728\u4e00\u884c\u7ed3\u675f\u540e\u7ed9\u51fa\u6574\u6bb5\u4ee3\u7801\uff0c\u5373copilot\u9700\u8981\u66f4\u591a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002</p> <p>tabnine\u4e0ecopilot\u7684\u503c\u5f97\u4e00\u63d0\u7684\u533a\u522b\u662f\u5b83\u7684\u4ed8\u8d39\u6a21\u5f0f\u3002tabnine\u63d0\u4f9b\u4e86\u57fa\u7840\u7248\u548c\u4e13\u4e1a\u7248\u4e24\u4e2a\u7248\u672c\uff0c\u800ccopilot\u53ea\u80fd\u4ed8\u8d39\u4f7f\u7528\u3002tabnine\u7684\u4e13\u4e1a\u7248\u8fd8\u6709\u4e00\u4e2a\u7279\u8272\uff0c\u5c31\u662f\u4f60\u53ef\u4ee5\u57fa\u4e8e\u81ea\u5df1\u7684\u4ee3\u7801\u8bad\u7ec3\u81ea\u5df1\u7684\u79c1\u6709AI\u6a21\u578b\uff0c\u4ece\u800c\u5f97\u5230\u66f4\u4e3a\u4e2a\u6027\u5316\u7684\u4ee3\u7801\u5b8c\u6210\u670d\u52a1\u3002\u8fd9\u4e2a\u529f\u80fd\u5bf9\u4e8e\u4e00\u4e9b\u5927\u578b\u516c\u53f8\u6765\u8bf4\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u5b83\u7684\u53e6\u4e00\u4e2a\u4f18\u52bf\u5c31\u662f\uff0c\u5b83\u5728\u8bad\u7ec3\u81ea\u5df1\u65f6\u53ea\u4f7f\u7528\u5b9e\u884c\u5bbd\u677e\u5f00\u6e90\u8bb8\u53ef\u8bc1\u6a21\u5f0f\u7684\u4ee3\u7801\uff0c\u56e0\u6b64\uff0c\u4f60\u7684\u4ee3\u7801\u4e0d\u4f1a\u56e0\u4e3a\u4f7f\u7528\u4e86tabnine\u751f\u6210\u7684\u4ee3\u7801\uff0c\u5c31\u5fc5\u987b\u5f00\u6e90\u51fa\u53bb\u3002</p> <p>GPT code clippy\u662fGithub copilot\u7684\u5f00\u6e90\u66ff\u4ee3\u54c1\uff0c\u5982\u679c\u65e2\u4e0d\u80fd\u7528copilot\uff0c\u4e5f\u4e0d\u80fd\u4f7f\u7528tabnine\uff0c\u4e5f\u53ef\u4ee5\u8bd5\u8bd5\u8fd9\u4e2a\u3002\u4e0d\u8fc7\u5728\u6211\u4eec\u6210\u6587\u7684\u65f6\u5019\uff0c\u5b83\u8fd8\u6ca1\u6709\u63d0\u4f9b\u4e00\u4e2a\u53d1\u884c\u7248\u7684vscode\u6269\u5c55\uff0c\u53ea\u80fd\u901a\u8fc7\u6e90\u7801\u5b89\u88c5\u3002</p> <p>Info</p> <p>\u8bf4\u5230AI\u8f85\u52a9\u7f16\u7801\uff0c\u4e0d\u80fd\u4e0d\u63d0\u5230\u8fd9\u4e00\u884c\u7684\u5148\u9a71 - Kite\u3002Kite\u6210\u7acb\u4e8e2014\u5e74\uff0c\u81f4\u529b\u4e8eAI\u8f85\u52a9\u7f16\u7a0b\uff0c\u4e8e2021\u5e7411\u6708\u5173\u95ed\u3002\u7531\u4e8e\u5207\u5165\u5e02\u573a\u8fc7\u65e9\uff0ckite\u7684\u6280\u672f\u8def\u7ebf\u4e5f\u5fc5\u7136\u76f8\u5bf9\u843d\u540e\u4e00\u4e9b\uff0c\u5176AI\u8f85\u52a9\u529f\u80fd\u4e3b\u8981\u662f\u57fa\u4e8e\u5173\u952e\u8bcd\u8054\u60f3\u4ee3\u7801\u7247\u6bb5\u7684\u6a21\u5f0f\u3002\u7b49\u52302020\u5e74github\u7684copilot\u6a2a\u7a7a\u51fa\u4e16\u65f6\uff0c\u57fa\u4e8e\u5927\u89c4\u6a21\u8bed\u6599\u3001\u8d85\u5927\u89c4\u6a21\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u88ab\u8bc1\u660e\u624d\u662f\u6700\u6709\u5e0c\u671b\u7684\u6280\u672f\u8def\u7ebf\u3002\u800c\u6b64\u65f6kite\u591a\u5e74\u4ee5\u6765\u7684\u6295\u5165\u548c\u6280\u672f\u79ef\u7d2f\uff0c\u4e0d\u4ec5\u4e0d\u518d\u662f\u6709\u6548\u8d44\u4ea7\uff0c\u53cd\u800c\u6210\u4e3a\u4e86\u5386\u53f2\u5305\u88b1\u3002\u5f80\u65b0\u7684\u6280\u672f\u8def\u7ebf\u4e0a\u7684\u5207\u6362\u7684\u4ee3\u4ef7\u5f80\u5f80\u662f\u5de8\u5927\u7684 -- \u7528\u6237\u4f53\u9a8c\u4e5f\u96be\u514d\u6539\u53d8\uff0c\u800c\u4e14\u65b0\u7684\u6a21\u578b\u6240\u9700\u8981\u7684\u949e\u80fd\u529b\uff0ckite\u4e5f\u5e76\u4e0d\u5177\u5907\u3002</p> <p>2021\u5e7411\u670816\u65e5\uff0c\u521b\u59cb\u4ebaAdam Smith\u53d1\u8868\u4e86\u4e00\u7bc7\u544a\u522b\u6f14\u8bf4\uff0c\u5bf9kite\u4e3a\u4ec0\u4e48\u6ca1\u6709\u6210\u529f\u8fdb\u884c\u4e86\u53cd\u601d\uff0c\u6307\u51fa\u5c3d\u7ba1Kite\u6bcf\u4e2a\u6708\u6709\u8d85\u8fc750\u4e07\u6708\u6d3b\u8dc3\u7528\u6237\uff0c\u4f46\u8fd9\u4e48\u591a\u6708\u6d3b\u8dc3\u7528\u6237\u57fa\u672c\u4e0d\u4ed8\u8d39\uff0c\u8fd9\u6700\u7ec8\u538b\u57ae\u4e86kite\u3002\u5f53\u7136\uff0c\u7ec8\u7aef\u7528\u6237\u5176\u5b9e\u4e5f\u6ca1\u6709\u9519\uff0c\u6bd5\u7adfcopilot\u7684\u4ed8\u8d39\u6a21\u5f0f\u80fd\u591f\u884c\u5f97\u901a\u3002\u4eba\u4eec\u4e0d\u4e3akite\u4ed8\u8d39\uff0c\u4e5f\u786e\u5b9e\u662f\u56e0\u4e3akite\u8fd8\u4e0d\u591f\u597d\u3002</p> <p>\u5c5e\u4e8ekite\u7684\u65f6\u4ee3\u5df2\u7ecf\u8fc7\u53bb\u4e86\uff0c\u4f46\u6b63\u5982Adam Smith\u6240\u8bf4\uff0c\u672a\u6765\u662f\u5149\u660e\u7684\u3002AI\u5fc5\u5c06\u5f15\u53d1\u4e00\u573a\u7f16\u7a0b\u9769\u547d\u3002kite\u7684\u8bd5\u9a8c\u5931\u8d25\u4e86\uff0c\u4f46\u50ac\u751f\u8fd9\u573aAI\u8bd5\u9a8c\u7684\u6240\u6709\u4eba\uff1a\u6295\u8d44\u4eba\uff0c\u5f00\u53d1\u56e2\u961f\u4ee5\u53ca\u6700\u7ec8\u7528\u6237\uff0c\u4ed6\u4eec\u7684\u52c7\u6c14\u548c\u8d21\u732e\u90fd\u503c\u5f97\u88ab\u94ed\u8bb0\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u66fe\u7ecf\u4f7f\u7528\u8fc7kite\uff0c\u4e5f\u6b20Kite\u4e00\u4e2a\u4f1a\u5458\u7684\u4f7f\u7528\u8005\uff0c\u6211\u4e5f\u5728\u6b64\u9053\u58f0\u611f\u8c22\u4e0e\u73cd\u91cd\uff01</p> <p>\u5c3d\u7ba1AI\u8f85\u52a9\u7f16\u7a0b\u7684\u529f\u80fd\u5f88\u597d\u7528\uff0c\u4f46\u4ecd\u7136\u6709\u4e00\u4e9b\u573a\u666f\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9\u4f20\u7edf\u7684\u5de5\u5177\uff0c\u6bd4\u5982pylance\u3002pylance\u662f\u5fae\u8f6f\u5b98\u65b9\u51fa\u54c1\u7684\u6269\u5c55\u3002vscode\u672c\u8eab\u53ea\u662f\u4e00\u4e2a\u901a\u7528\u7684IDE\u6846\u67b6\uff0c\u5bf9\u5177\u4f53\u67d0\u4e2a\u8bed\u8a00\u7684\u5f00\u53d1\u652f\u6301\uff08\u7f16\u8f91\u3001\u8bed\u6cd5\u9ad8\u4eae\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u8c03\u8bd5\u7b49\uff09\uff0c\u90fd\u662f\u7531\u8be5\u8bed\u8a00\u7684\u6269\u5c55\u53ca\u8bed\u8a00\u670d\u52a1\u5668\uff08\u5bf9python\u800c\u8a00\uff0c\u6709jedi\u548cpylance\u4e24\u4e2a\u5b9e\u73b0\uff09\u6765\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\uff0cpylance\u662f\u6211\u4eec\u5728vscode\u4e2d\u5f00\u53d1python\u9879\u76ee\u65f6\uff0c\u5fc5\u987b\u5b89\u88c5\u7684\u4e00\u4e2a\u6269\u5c55\u3002</p> <p>\u5b83\u53ef\u4ee5\u968f\u7528\u6237\u8f93\u5165\u65f6\uff0c\u63d0\u793a\u51fd\u6570\u7684\u7b7e\u540d\u3001\u6587\u6863\u548c\u8fdb\u884c\u53c2\u6570\u7684\u7c7b\u578b\u63d0\u793a\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p>Pylance\u5728\u4e0a\u9762\u63d0\u5230\u7684\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u4e4b\u5916\uff0c\u8fd8\u80fd\u5b9e\u73b0\u4f9d\u8d56\u81ea\u52a8\u5bfc\u5165\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u5b83\u8131\u80ce\u4e8e\u8bed\u6cd5\u9759\u6001\u68c0\u67e5\u5668\uff0c\u6240\u4ee5\u5b83\u8fd8\u80fd\u63d0\u793a\u4ee3\u7801\u4e2d\u7684\u9519\u8bef\u5e76\u663e\u793a\uff0c\u8fd9\u6b63\u662f\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u50cfcopilot\u8fd9\u6837\u7684\u4eba\u5de5\u667a\u80fd\u8fd8\u505a\u4e0d\u592a\u597d\u7684\u5730\u65b9\u3002\u6e90\u7801\u7ea7\u7684\u67e5\u9519\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5c3d\u65e9\u4fee\u6b63\u8fd9\u4e9b\u9519\u8bef\uff0c\u8fd9\u4e5f\u6b63\u662f\u9759\u6001\u8bed\u8a00\u7a0b\u5e8f\u5458\u8ba4\u4e3aPython\u505a\u4e0d\u5230\u7684\u5730\u65b9\u3002</p> <p></p> <p>Tips</p> <p>Pylance\u5b89\u88c5\u540e\uff0c\u9700\u8981\u8fdb\u884c\u914d\u7f6e\u3002\u914d\u7f6e\u6587\u4ef6\u662fpyrightconfig.json\uff0c\u653e\u7f6e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u3002 <pre><code>{\n    \"exclude\": [\n    \".git\",\n    \".eggs\"\n    ],\n    \"ignore\": [],\n    \"reportMissingImports\": true,\n    \"reportMissingTypeStubs\": false,\n    \"pythonVersion\": \"3.8\"\n}\n</code></pre> \u8fd9\u4e9b\u914d\u7f6e\u9879\u4e5f\u53ef\u4ee5\u5728vscode\u4e2d\u914d\u7f6e\uff0c\u4f46\u4e3a\u4e86\u4f7f\u5f00\u53d1\u6210\u5458\u4f7f\u7528\u4e00\u81f4\u7684\u914d\u7f6e\uff0c\u5efa\u8bae\u90fd\u91c7\u7528\u6587\u4ef6\u914d\u7f6e\uff0c\u5e76\u4e14\u4f7f\u7528git\u6765\u7ba1\u7406\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#2-type-hint-type-annotations","title":"2. Type Hint \uff08Type Annotations)","text":"<p>\u5f88\u591a\u4eba\u8c08\u5230Python\u65f6\uff0c\u4f1a\u89c9\u5f97\u5b83\u4f5c\u4e3a\u4e00\u79cd\u52a8\u6001\u8bed\u8a00\uff0c\u662f\u6ca1\u6709\u7c7b\u578b\u68c0\u67e5\u80fd\u529b\u7684\u3002\u8fd9\u79cd\u8bf4\u6cd5\u5e76\u4e0d\u51c6\u786e\uff0cPython\u662f\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u53d8\u91cf\u53ef\u4ee5\u6539\u53d8\u7c7b\u578b\uff0c\u4f46\u5728\u8fd0\u884c\u65f6\uff0c\u4ecd\u7136\u4f1a\u6709\u7c7b\u578b\u68c0\u67e5\uff0c\u7c7b\u578b\u68c0\u67e5\u5931\u8d25\uff0c\u5c31\u4f1a\u629b\u51faTypeError\uff1a</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86Python\u4e2d\u53d8\u91cf\u662f\u5982\u4f55\u6539\u53d8\u7c7b\u578b\u7684\uff0c\u4ee5\u53ca\u7c7b\u578b\u68c0\u67e5\u53ea\u5728\u8fd0\u884c\u65f6\u8fdb\u884c\u7684\u8fd9\u4e00\u7279\u70b9\uff1a</p> <pre><code>&gt;&gt;&gt; one = 1\n... if False:\n...     one + \"two\" # \u8fd9\u4e00\u884c\u4e0d\u4f1a\u6267\u884c\uff0c\u6240\u4ee5\u4e0d\u4f1a\u629b\u51faTypeError\n... else:\n...     one + 2\n...\n3\n\n&gt;&gt;&gt; one + \"two\"     # \u8fd0\u884c\u5230\u6b64\u5904\u65f6\uff0c\u5c06\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u629b\u51faTypeError\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\n... one = \"one \"    # \u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7\u8d4b\u503c\u6539\u53d8\u7c7b\u578b\n... one + \"two\"     # \u73b0\u5728\u7c7b\u578b\u68c0\u67e5\u6ca1\u6709\u95ee\u9898\none two\n</code></pre> <p>\u4f46Python\u66fe\u7ecf\u786e\u5b9e\u7f3a\u5c11\u9759\u6001\u7c7b\u578b\u68c0\u67e5\u7684\u80fd\u529b\uff0c\u8fd9\u662fPython\u4e00\u76f4\u4ee5\u6765\u4e3a\u4eba\u8bdf\u75c5\u7684\u5730\u65b9\u3002\u6bd5\u7adf\uff0c\u9519\u8bef\u53d1\u73b0\u7684\u8d8a\u65e9\uff0c\u4fee\u590d\u6210\u672c\u5c31\u8d8a\u4f4e\u3002\u4f46\u8fd9\u6b63\u5728\u6210\u4e3a\u5386\u53f2\u3002</p> <p>\u7c7b\u578b\u6ce8\u89e3\u4ecepython 3.0\uff082006\u5e74\uff0cPEP 3107\uff0c\u5f53\u65f6\u8fd8\u53ebfunction annotations\uff09\u65f6\u88ab\u5f15\u5165\uff0c\u4f46\u5b83\u7684\u7528\u6cd5\u548c\u8bed\u4e49\u5e76\u6ca1\u6709\u5f97\u5230\u6e05\u6670\u5b9a\u4e49\uff0c\u4e5f\u6ca1\u6709\u5f15\u8d77\u5e7f\u6cdb\u5173\u6ce8\u548c\u8fd0\u7528\u3002\u6570\u5e74\u4e4b\u540e\uff0cPEP 484\uff08type hints including generics\uff09\u88ab\u63d0\u51fa\uff0c\u5b9a\u4e49\u4e86\u5982\u4f55\u7ed9python\u4ee3\u7801\u52a0\u4e0a\u7c7b\u578b\u63d0\u793a\uff0c\u8fd9\u6837\uff0ctype annotation\u5c31\u6210\u4e3a\u5b9e\u73b0type hint\u7684\u4e3b\u8981\u624b\u6bb5\u3002\u56e0\u6b64\uff0c\u5f53\u4eca\u5929\u4eba\u4eec\u63d0\u5230type annotation\u548ctype hint\u65f6\uff0c\u4e24\u8005\u57fa\u672c\u4e0a\u662f\u540c\u4e00\u542b\u4e49\u3002</p> <p>PEP 484\u662f\u7c7b\u578b\u68c0\u67e5\u7684\u5960\u57fa\u77f3\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u95ee\u9898\u6ca1\u6709\u5f97\u5230\u89e3\u51b3\uff0c\u6bd4\u5982\u5982\u4f55\u5bf9\u53d8\u91cf\u8fdb\u884c\u7c7b\u578b\u6ce8\u89e3\uff1f\u6bd4\u5982\u4e0b\u9762\u7684\u8bed\u6cd5\u5728\u5f53\u65f6\u8fd8\u662f\u4e0d\u652f\u6301\u7684\uff1a <pre><code>class Node:\n        left: str\n</code></pre></p> <p>2016\u5e748\u6708\uff0cPEP 526(syntax for variable annotations)\u63d0\u51fa\uff0c\u4ece\u6b64\uff0c\u50cf\u4e0a\u6587\u4e2d\u7684\u6ce8\u89e3\u4e5f\u662f\u5141\u8bb8\u7684\u4e86\u3002</p> <p>Info</p> <p>PEP 526\u4ece\u63d0\u51fa\u5230\u88ab\u63a5\u53d7\u4e3a\u6b63\u5f0f\u6807\u51c6\u4e0d\u52301\u6708\u7684\u65f6\u95f4\uff0c\u53ef\u80fd\u662f\u6700\u5feb\u88ab\u63a5\u53d7\u7684PEP\u4e4b\u4e00\u3002</p> <p>PEP 563 (Postponed Evaluation of Annotations) \u89e3\u51b3\u4e86\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u3002\u5728\u8fd9\u4e2a\u63d0\u6848\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5199\u4ee3\u7801\uff1a <pre><code>from typing import Optional\n\nclass Node:\n    #left: Optional[Node]  # \u8fd9\u4f1a\u5f15\u8d77\u5faa\u73af\u5f15\u7528\n    left:   Optional[\"Node\"]\n    right:  Optional[\"Node\"]\n</code></pre> \u6ce8\u610f\u5230\u6211\u4eec\u5728\u7c7b\u578bNode\u8fd8\u6ca1\u6709\u5b8c\u6210\u5176\u5b9a\u4e49\u65f6\uff0c\u5c31\u8981\u4f7f\u7528\u5b83\uff08\u5373\u8981\u4f7f\u7528Node\u6765\u5b9a\u4e49\u81ea\u5df1\u7684\u4e00\u4e2a\u6210\u5458\u53d8\u91cf\u7684\u7c7b\u578b\uff09\uff0c\u8fd9\u5c06\u5f15\u8d77\u5faa\u73af\u5f15\u7528\u3002PEP 563\u7684\u8bed\u6cd5\uff0c\u901a\u8fc7\u5728\u6ce8\u91ca\u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u7c7b\u578b\u672c\u8eab\uff0c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5728\u8fd9\u51e0\u4e2a\u91cd\u8981\u7684PEP\u4e4b\u540e\uff0c\u968f\u7740Python 3.7\u7684\u6b63\u5f0f\u53d1\u5e03\uff0c\u793e\u533a\u4e5f\u5f00\u59cb\u56f4\u7ed5Type Hint\u53bb\u6784\u5efa\u4e00\u5957\u751f\u6001\u4f53\u7cfb\uff0c\u4e00\u4e9b\u975e\u5e38\u6d41\u884c\u7684python\u5e93\u5f00\u59cb\u8865\u9f50\u7c7b\u578b\u6ce8\u89e3\uff0c\u5728\u7c7b\u578b\u68c0\u67e5\u5de5\u5177\u65b9\u9762\uff0c\u9664\u4e86\u6700\u65e9\u7684mypy\u4e4b\u5916\uff0c\u4e00\u4e9b\u5927\u516c\u53f8\u4e5f\u8ddf\u8fdb\u5f00\u53d1\uff0c\u6bd4\u5982\u5fae\u8f6f\u63a8\u51fa\u4e86pyright\uff08\u73b0\u5728\u662fpylance\u7684\u6838\u5fc3\uff09\u6765\u7ed9vscode\u63d0\u4f9b\u7c7b\u578b\u68c0\u67e5\u529f\u80fd\u3002google\u63a8\u51fa\u4e86pytype\uff0cfacebook\u5219\u63a8\u51fa\u4e86pyre\u3002\u5728\u7c7b\u578b\u6ce8\u89e3\u7684\u57fa\u7840\u4e0a\uff0c\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u7684\u529f\u80fd\u4e5f\u56e0\u6b64\u53d8\u5f97\u66f4\u5bb9\u6613\u3001\u51c6\u786e\uff0c\u63a8\u65ad\u901f\u5ea6\u4e5f\u66f4\u5feb\u4e86\u3002\u4ee3\u7801\u91cd\u6784\u4e5f\u56e0\u6b64\u53d8\u5f97\u66f4\u52a0\u5bb9\u6613\u3002</p> <p>\u7c7b\u578b\u68c0\u67e5\u529f\u80fd\u5c06\u5bf9Python\u7684\u672a\u6765\u53d1\u5c55\u8d77\u5230\u6df1\u8fdc\u7684\u5f71\u54cd\uff0c\u53ef\u80fd\u8db3\u591f\u4e0etypescript\u5bf9js\u7684\u5f71\u54cd\u7c7b\u6bd4\u3002\u56f4\u7ed5\u7c7b\u578b\u68c0\u67e5\uff0c\u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u51e0\u4e2a\u6700\u91cd\u8981\u7684PEP\u4e4b\u5916\uff0c\u8fd8\u6709\uff1a</p> <ol> <li>PEP 483\uff08\u89e3\u91ca\u4e86python\u4e2d\u7c7b\u578b\u7cfb\u7edf\u7684\u8bbe\u8ba1\u539f\u7406\uff0c\u975e\u5e38\u503c\u5f97\u4e00\u8bfb\uff09</li> <li>PEP 544 (\u5b9a\u4e49\u4e86\u5bf9\u7ed3\u6784\u7c7b\u578b\u7cfb\u7edf\u7684\u652f\u6301)</li> <li>PEP 591 (\u63d0\u51fa\u4e86final\u9650\u5b9a\u7b26) \u4ee5\u53caPEP 561\u7b49\u53e6\u591618\u4e2aPEP\u3002\u6b64\u5916\uff0c\u8fd8\u6709PEP 692\u7b495\u4e2aPEP\u76ee\u524d\u8fd8\u672a\u88ab\u6b63\u5f0f\u63a5\u53d7\u3002</li> </ol> <p>Python\u7684\u7c7b\u578b\u68c0\u67e5\u53ef\u80fd\u6700\u65e9\u7531Jukka Lehtosalo\u63a8\u52a8\uff0cGuido\uff0c\u0141ukasz Langa\u548cIvan Levkivskyi\u4e5f\u662f\u6700\u91cd\u8981\u7684\u51e0\u4e2a\u8d21\u732e\u8005\u4e4b\u4e00\u3002Jukka Lehtosalo\u51fa\u751f\u548c\u6210\u957f\u4e8e\u82ac\u5170\uff0c\u5f53\u4ed6\u5728\u5251\u6865\u5927\u5b66\u8ba1\u7b97\u673a\u653b\u8bfb\u535a\u58eb\u65f6\uff0c\u5728\u4ed6\u7684\u535a\u58eb\u8bba\u6587\u4e2d\uff0c\u4ed6\u63d0\u51fa\u4e86\u4e00\u79cd\u540d\u4e3a\u201c\u7c7b\u578b\u6ce8\u89e3\u201d\uff08Type Annotations\uff09\u7684\u8bed\u6cd5\uff0c\u4ece\u800c\u4e00\u7edf\u9759\u6001\u8bed\u8a00\u548c\u52a8\u6001\u8bed\u8a00\u3002\u6700\u521d\u7684\u5b9e\u9a8c\u662f\u5728\u4e00\u79cd\u540d\u4e3aAlore\u7684\u8bed\u8a00\u4e0a\u5b9e\u73b0\u7684\uff0c\u7136\u540e\u79fb\u690d\u5230Python\u4e0a\uff0c\u5f00\u53d1\u4e86mypy\u7684\u6700\u521d\u51e0\u4e2a\u7248\u672c\u3002\u4e0d\u8fc7\u5f88\u5feb\uff0c\u4ed6\u7684\u5de5\u4f5c\u91cd\u5fc3\u5c31\u5b8c\u5168\u8f6c\u79fb\u5230Python\u4e0a\u9762\u6765\uff0c\u6bd5\u7adf\uff0cPython\u5e9e\u5927\u7684\u7528\u6237\u7fa4\u548c\u5f00\u6e90\u5e93\u624d\u80fd\u63d0\u4f9b\u4e30\u5bcc\u7684\u6848\u4f8b\u4ee5\u4f9b\u5b9e\u8df5\u3002</p> <p>2013\u5e74\uff0c\u5728\u5723\u514b\u62c9\u62c9\u4e3e\u884c\u7684PyCon\u4f1a\u8bae\u4e0a\uff0c\u4ed6\u516c\u5e03\u4e86\u8fd9\u4e2a\u9879\u76ee\uff0c\u5e76\u4e14\u5f97\u5230\u4e86\u4e0eGuido\u4ea4\u8c08\u7684\u673a\u4f1a\u3002Guido\u8bf4\u670d\u4ed6\u653e\u5f03\u4e4b\u524d\u7684\u81ea\u5b9a\u4e49\u8bed\u6cd5\uff0c\u5b8c\u5168\u9075\u5faaPython 3\u7684\u8bed\u6cd5\uff0c\u5373PEP 3107\u63d0\u51fa\u7684\u51fd\u6570\u6ce8\u89e3\uff09\u3002\u5728\u968f\u540e\u4ed6\u4e0eGuido\u8fdb\u884c\u4e86\u5927\u91cf\u7684\u90ae\u4ef6\u8ba8\u8bba\uff0c\u5e76\u63d0\u51fa\u4e86\u901a\u8fc7\u6ce8\u91ca\u6765\u5bf9\u53d8\u91cf\u8fdb\u884c\u6ce8\u89e3\u7684\u65b9\u6848\uff08\u4e0d\u8fc7\u540e\u6765\u7684PEP 526\u63d0\u51fa\u4e86\u66f4\u597d\u7684\u65b9\u6848\uff09\u3002</p> <p>\u5728Jukka Lehtosalo\u4ece\u5251\u6865\u6bd5\u4e1a\u540e\uff0c\u53d7Guido\u9080\u8bf7\uff0c\u52a0\u5165\u4e86Dropbox\uff0c\u9886\u5bfc\u4e86mypy\u7684\u5f00\u53d1\u5de5\u4f5c\u3002</p> <p>\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u770b\u51fa\u9876\u5c16\u5927\u5b66\u5bf9\u5f85\u5b66\u672f\u7814\u7a76\u4e0a\u7684\u5f00\u653e\u548c\u4e0d\u62d8\u4e00\u683c\u3002\u5927\u6982\u57282016\u5e74\u524d\u540e\uff0c\u6211\u770b\u5230\u65af\u5766\u798f\u7684\u7f51\u7edc\u516c\u5f00\u8bfe\u4e0a\u8fd8\u6709\u8bb2\u6388ios\u7f16\u7a0b\u7684\u8bfe\uff0c\u5f53\u65f6\u4e5f\u662f\u540c\u6837\u7684\u9707\u64bc\u3002\u4e00\u662f\u611f\u53f9\u4ed6\u4eec\u9009\u8bfe\u4e4b\u65b0\uff0c\u4e8c\u662f\u611f\u53f9\u8fd9\u79cd\u5e94\u7528\u578b\u7684\u8bfe\u7a0b\uff0c\u5728\u56fd\u5185\u7684\u9876\u5c16\u5927\u5b66\u91cc\uff0c\u4e00\u822c\u662f\u4e0d\u4f1a\u5f00\u8bbe\u7684\uff0c\u56e0\u4e3a\u5927\u5bb6\u4f1a\u89c9\u5f97\u9876\u5c16\u7684\u5b66\u672f\u6bbf\u5802\uff0c\u4e0d\u5e94\u8be5\u6709\u8fd9\u4e48\u201clow\u201d\u7684\u4e1c\u897f\u3002</p> <p>\u5728\u6709\u4e86\u7c7b\u578b\u6ce8\u89e3\u4e4b\u540e\uff0c\u73b0\u5728\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff1a <pre><code>def foo(name: str) -&gt; int:\n    score = 20\n    return score\n\nfoo(10)\n</code></pre> foo\u51fd\u6570\u8981\u6c42\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u4f46\u6211\u4eec\u5728\u8c03\u7528\u65f6\uff0c\u9519\u8bef\u5730\u4f20\u5165\u4e86\u4e00\u4e2a\u6574\u6570\u3002\u8fd9\u5728\u8fd0\u884c\u65f6\u5e76\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f46pylance\u5c06\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u9519\u8bef\uff0c\u5e76\u4e14\u7ed9\u51fa\u8b66\u544a\uff0c\u5f53\u6211\u4eec\u628a\u9f20\u6807\u79fb\u52a8\u5230\u51fa\u9519\u4f4d\u7f6e\uff0c\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u63d0\u793a\uff1a</p> <p></p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u7b80\u8981\u5730\u4ecb\u7ecd\u4e00\u4e0btype hint\u7684\u4e00\u4e9b\u5e38\u89c1\u7528\u6cd5\uff1a</p> <p><pre><code># \u58f0\u660e\u53d8\u91cf\u7684\u7c7b\u578b\nage: int = 1\n\n# \u58f0\u660e\u53d8\u91cf\u7c7b\u578b\u65f6\uff0c\u5e76\u975e\u4e00\u5b9a\u8981\u521d\u59cb\u5316\u5b83\nchild: bool\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u4e5f\u6700\u597d\u58f0\u660e\u5b83\u4e3aAny\u3002zen of python: explicit is better than implicit\ndummy: Any = 1\ndummy = \"hello\"\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u591a\u79cd\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528Union\ndx: Union[int, str]\n# \u4ecepython 3.10\u8d77\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u6cd5\ndx: int | str\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u4e3aNone,\u53ef\u4ee5\u4f7f\u7528Optional\ndy: Optional[int]\n\n# \u5bf9python builtin\u7c7b\u578b\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7c7b\u578b\u7684\u540d\u5b57\uff0c\u6bd4\u5982int, float, bool, str, bytes\u7b49\u3002\nx: int = 1\ny: float = 1.0\nz: bytes = b\"test\"\n\n# \u5bf9collections\u7c7b\u578b\uff0c\u5982\u679c\u662fpython 3.9\u4ee5\u4e0a\u7c7b\u578b\uff0c\u4ecd\u7136\u76f4\u63a5\u4f7f\u7528\u5176\u540d\u5b57\uff1a\nh: list[int] = [1]\ni: dict[str, int] = {\"a\": 1}\nj: tuple[int, str] = (1, \"a\")\nk: set[int] = {1}\n\n# \u6ce8\u610f\u4e0a\u9762\u7684list[], dict[]\u8fd9\u6837\u7684\u8868\u8fbe\u65b9\u5f0f\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528list()\uff0c\u5219\u8fd9\u5c06\u53d8\u6210\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u7c7b\u578b\u58f0\u660e\u3002\n\n# \u4f46\u5982\u679c\u662fpython 3.8\u53ca\u4ee5\u4e0b\u7248\u672c\uff0c\u9700\u8981\u4f7f\u7528typing\u6a21\u5757\u4e2d\u7684\u7c7b\u578b\uff1a\nfrom typing import List, Set, Dict, Tuple\nh: List[int] = [1]\ni: Dict[str, int] = {\"a\": 1}\nj: Tuple[int, str] = (1, \"a\")\nk: Set[int] = {1}\n\n# \u5982\u679c\u4f60\u8981\u5199\u4e00\u4e9bdecorator\uff0c\u6216\u8005\u662f\u516c\u5171\u5e93\u7684\u4f5c\u8005\uff0c\u5219\u53ef\u80fd\u4f1a\u5e38\u7528\u5230\u4e0b\u9762\u8fd9\u4e9b\u7c7b\u578b\nfrom typing import Callable, Generator, Coroutine, Awaitable, AsyncIterable, AsyncIterator\n\ndef foo(x:int)-&gt;str:\n    return str(x)\n\n# Callable\u8bed\u6cd5\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u56e0\u6b64\u5b83\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u578b\nf: Callable[[int], str] = foo\n\ndef bar() -&gt; Generator[int, None, str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ng: Generator[int, None, str] = bar\n\n# \u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u4e0a\u8ff0\u51fd\u6570\u8fd4\u56de\u503c\u4ec5\u4ec5\u58f0\u660e\u4e3aIterator:\ndef bar() -&gt; Iterator[str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ndef op() -&gt; Awaitable[str]:\n    if cond:\n        return spam(42)\n    else:\n        return asyncio.Future(...)\n\nh: Awaitable[str] = op()\n\n# \u4e0a\u8ff0\u9488\u5bf9\u53d8\u91cf\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u4e5f\u4e00\u6837\u53ef\u4ee5\u7528\u5728\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c\u7c7b\u578b\u58f0\u660e\u4e0a\uff0c\u6bd4\u5982\uff1a\ndef stringify(num: int) -&gt; str:\n    return str(num)\n\n# \u5982\u679c\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u8bf7\u58f0\u660e\u4e3a\u8fd4\u56deNone\ndef show(value: str) -&gt; None:\n    print(value)\n\n# \u4f60\u53ef\u4ee5\u7ed9\u539f\u6709\u7c7b\u578b\u8d77\u4e00\u4e2a\u522b\u540d\nUrl = str\ndef retry(url: Url, retry_count: int) -&gt;None:\n    pass\n</code></pre> \u6b64\u5916\uff0ctype hint\u8fd8\u652f\u6301\u4e00\u4e9b\u9ad8\u7ea7\u7528\u6cd5\uff0c\u6bd4\u5982TypeVar, Generics, Covariance\u548ccontravariance\u7b49\uff0c\u8fd9\u4e9b\u6982\u5ff5\u5728PEP484\u4e2d\u6709\u5b9a\u4e49\uff0c\u53e6\u5916\uff0cPEP483\u548cunderstanding typing\u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u66f4\u597d\u5730\u7406\u89e3\u7c7b\u578b\u63d0\u793a\uff0c\u5efa\u8bae\u611f\u5174\u8da3\u7684\u8bfb\u8005\u6df1\u5165\u7814\u8bfb\u3002</p> <p>\u5982\u679c\u60a8\u7684\u4ee3\u7801\u90fd\u505a\u597d\u4e86type hint\uff0c\u90a3\u4e48IDE\u57fa\u672c\u4e0a\u80fd\u591f\u63d0\u4f9b\u548c\u5f3a\u7c7b\u578b\u8bed\u8a00\u7c7b\u4f3c\u7684\u91cd\u6784\u80fd\u529b\u3002\u9700\u8981\u5f3a\u8c03\u7684\u662f\uff0c\u5728\u91cd\u6784\u4e4b\u524d\uff0c\u4f60\u5e94\u8be5\u5148\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u3001\u4ee3\u7801lint\u548cformat\uff0c\u5728\u6ca1\u6709\u9519\u8bef\u4e4b\u540e\uff0c\u518d\u8fdb\u884c\u91cd\u6784\u3002\u5982\u6b64\u4e00\u6765\uff0c\u5982\u679c\u91cd\u6784\u4e4b\u540e\uff0c\u5355\u5143\u6d4b\u8bd5\u4ecd\u7136\u80fd\u591f\u901a\u8fc7\uff0c\u5219\u57fa\u672c\u8868\u660e\u91cd\u6784\u662f\u6210\u529f\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#3-pep8-python","title":"3. PEP8 - python\u4ee3\u7801\u98ce\u683c\u6307\u5357","text":"<p>PEP8\u662f2001\u5e74\u7531Guido\u7b49\u4eba\u62df\u5b9a\u7684\u5173\u4e8epython\u4ee3\u7801\u98ce\u683c\u7684\u4e00\u4efd\u63d0\u6848\u3002PEP8\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u9ad8python\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u4f7f\u5f97python\u4ee3\u7801\u5728\u4e0d\u540c\u7684\u5f00\u53d1\u8005\u4e4b\u95f4\u4fdd\u6301\u4e00\u81f4\u7684\u98ce\u683c\u3002PEP8\u7684\u5185\u5bb9\u5305\u62ec\uff1a\u4ee3\u7801\u5e03\u5c40\uff0c\u547d\u540d\u89c4\u8303\uff0c\u4ee3\u7801\u6ce8\u91ca\uff0c\u7f16\u7801\u89c4\u8303\u7b49\u3002PEP8\u7684\u5185\u5bb9\u975e\u5e38\u591a\uff0c\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4e13\u95e8\u53bb\u8bb0\u5fc6\u5b83\u7684\u89c4\u5219\uff0c\u53ea\u8981\u7528\u5bf9\u6b63\u786e\u7684\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u6700\u7ec8\u5448\u73b0\u7684\u4ee3\u7801\u5c31\u4e00\u5b9a\u662f\u7b26\u5408PEP8\u6807\u51c6\u7684\u3002\u5728\u540e\u9762\u7684\u5c0f\u8282\u91cc\uff0c\u6211\u4eec\u4f1a\u4ecb\u7ecd\u8fd9\u4e00\u5de5\u5177 -- black\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u6253\u7b97\u5728\u6b64\u5904\u8fc7\u591a\u7740\u58a8\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#4-lint","title":"4. Lint\u5de5\u5177","text":"<p>Lint\u5de5\u5177\u5bf9\u4ee3\u7801\u8fdb\u884c\u903b\u8f91\u68c0\u67e5\u548c\u98ce\u683c\u68c0\u67e5\u3002\u903b\u8f91\u68c0\u67e5\u662f\u6307\u8c61\u4f7f\u7528\u4e86\u672a\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u6216\u8005\u5b9a\u4e49\u7684\u53d8\u91cf\u672a\u4f7f\u7528\uff0c\u6ca1\u6709\u6309 type hint \u7684\u7ea6\u5b9a\u4f20\u5165\u53c2\u6570\u7b49\u7b49\uff1b\u98ce\u683c\u68c0\u67e5\u662f\u6307\u53d8\u91cf\u547d\u540d\u98ce\u683c\u3001\u7a7a\u767d\u7b26\u3001\u7a7a\u884c\u7b26\u7684\u4f7f\u7528\u7b49\u3002</p> <p>Python\u793e\u533a\u6709\u5f88\u591aLint\u5de5\u5177\uff0c\u6bd4\u5982Plint, PyFlakes, pycodestyle, bandit, Mypy\u7b49\u3002\u6b64\u5916\uff0c\u8fd8\u6709Flake8\u548cPylama\u8fd9\u6837\uff0c\u5c06\u8fd9\u4e9b\u5de5\u5177\u7ec4\u5408\u8d77\u6765\u4f7f\u7528\u7684\u5de5\u5177\u3002</p> <p>\u5728\u9009\u62e9Lint\u5de5\u5177\u65f6\uff0c\u91cd\u8981\u7684\u6307\u6807\u662f\u62a5\u544a\u9519\u8bef\u7684\u5b8c\u5168\u5ea6\u548c\u901f\u5ea6\u3002\u8fc7\u4e8e\u5b8c\u5907\u7684\u9519\u8bef\u62a5\u544a\u6709\u65f6\u5019\u4e5f\u4e0d\u89c1\u5f97\u5c31\u662f\u6700\u597d\uff0c\u6709\u65f6\u5019\u4f1a\u628a\u4f60\u7684\u5927\u91cf\u7cbe\u529b\u7275\u6d89\u5230\u65e0\u610f\u4e49\u7684\u6392\u67e5\u4e2d -- \u7eaf\u7cb9\u57fa\u4e8e\u9759\u6001\u5206\u6790\u7684\u67e5\u9519\uff0c\u6709\u65f6\u4e5f\u4e0d\u53ef\u907f\u514d\u4f1a\u51fa\u73b0\u9519\u8bef\uff1b\u540c\u65f6\u4e5f\u4f7f\u5f97\u8fd0\u884c\u901f\u5ea6\u964d\u4f4e\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#41-flake8","title":"4.1. flake8","text":"<p><code>ppw</code>\u9009\u62e9\u4e86flake8\u548cmypy\u4f5c\u4e3alint\u5de5\u5177\u3002flake8\u5b9e\u9645\u4e0a\u662f\u4e00\u7ec4lint\u5de5\u5177\u7684\u7ec4\u5408\uff0c\u5b83\u7531pycodestyle, pyflakes, mcccab\u7ec4\u6210\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#pycodestyle","title":"pycodestyle","text":"<p>pycodestyle\u7528\u6765\u68c0\u67e5\u4ee3\u7801\u98ce\u683c\uff08\u7a7a\u683c\u3001\u7f29\u8fdb\u3001\u6362\u884c\u3001\u53d8\u91cf\u540d\u3001\u5b57\u7b26\u4e32\u5355\u53cc\u5f15\u53f7\u7b49\uff09\u662f\u5426\u7b26\u5408PEP8\u6807\u51c6\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#pyflakes","title":"pyflakes","text":"<p>pyflakes\u7528\u6765\u68c0\u67e5\u8bed\u6cd5\u9519\u8bef\uff0c\u6bd4\u5982\uff0c\u5b9a\u4e49\u4f46\u672a\u4f7f\u7528\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u53d8\u91cf\u91cd\u5b9a\u4e49\u9519\u8bef\uff0c\u672a\u4f7f\u7528\u7684\u5bfc\u5165\uff0c\u683c\u5f0f\u5316\u9519\u8bef\u7b49\u7b49\u3002\u4eba\u4eec\u901a\u5e38\u62ff\u5b83\u4e0epylint\u76f8\u5bf9\u7167\u3002pyflakes\u4e0epylint\u76f8\u6bd4\uff0c\u6240\u80fd\u53d1\u73b0\u7684\u8bed\u6cd5\u9519\u8bef\u4f1a\u5c11\u4e00\u4e9b\uff0c\u4f46\u8bef\u62a5\u7387\u66f4\u4f4e\uff0c\u901f\u5ea6\u4e5f\u66f4\u5feb\u3002\u5728\u6709\u5145\u5206\u5355\u5143\u6d4b\u8bd5\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u66f4\u63a8\u8350\u521d\u5b66\u8005\u4f7f\u7528pyflakes\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2apylint\u62a5\u544a\u9519\u8bef\uff0c\u800cpyflakes\u4e0d\u80fd\u62a5\u544a\u7684\u4f8b\u5b50\uff1a <pre><code>def add(x, y):\n    print(x + y)\n\nvalue: None = add(10, 10)\n</code></pre> \u663e\u7136\uff0c\u4ee3\u7801\u4f5c\u8005\u5fd8\u4e86\u7ed9add\u51fd\u6570\u52a0\u4e0a\u8fd4\u56de\u8bed\u53e5\uff0c\u56e0\u6b64\uff0c\u5c06value\u8d4b\u503c\u4e3aadd(10, 10)\u7684\u7ed3\u679c\u662fNone\u3002pylint\u4f1a\u62a5\u544a\u9519\u8bef\uff0c\u4f46\u662fpyflakes\u4e0d\u4f1a\u3002</p> <p>\u4f46\u662fpylint\u5b58\u5728\u4e00\u5b9a\u7684\u8bef\u62a5\u7387\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4ea4\u7ed9pylint\u6765\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\uff0c\u5176\u7ed3\u679c\u662f\uff1a <pre><code>xxxx:1:0: C0114: Missing module docstring (missing-module-docstring)\nxxxx:1:0: C0116: Missing function or method docstring (missing-function-docstring)\nxxxx:1:8: C0103: Argument name \"x\" doesn't conform to snake_case naming style (invalid-name)\nxxxx:1:11: C0103: Argument name \"y\" doesn't conform to snake_case naming style (invalid-name)\nxxxx:5:0: E1111: Assigning result of a function call, where the function has no return (assignment-from-no-return)\nxxxx:5:0: C0103: Constant name \"value\" doesn't conform to UPPER_CASE naming style (invalid-name)\n</code></pre> \u8fd9\u91cc\u7b2c1\uff0c2\u548c\u7b2c5\u884c\u62a5\u544a\u90fd\u662f\u6b63\u786e\u7684\u3002\u4f46\u7b2c3\u548c\u7b2c4\u884c\u7684\u62a5\u544a\u5f88\u96be\u8bf4\u6b63\u786e\uff0c\u4e3a\u4e86\u4ee3\u7801\u7684\u7b80\u6d01\u6027\uff0c\u6211\u4eec\u4f7f\u7528\u5355\u4e2a\u5b57\u6bcd\u4f5c\u4e3a\u5c40\u90e8\u53d8\u91cf\u662f\u5f88\u5e38\u89c1\u7684\u4e8b\u3002PEP8\u89c4\u8303\u4e5f\u53ea\u8981\u6c42\u6211\u4eec\u4e0d\u5f97\u4f7f\u7528\"l\"\uff08\u5c0f\u5199\u7684\u5b57\u6bcdL\uff09, \"O\"\uff08\u5b57\u6bcdo\u7684\u5927\u5199\uff0c\u5f88\u96be\u4e0e\u6570\u5b570\u533a\u5206\uff09, \"I\"\uff08\u5b57\u6bcdi\u7684\u5927\u5199\uff09\u3002</p> <p>\u800c\u6700\u540e\u4e00\u884c\u7684\u62a5\u544a\u5219\u663e\u7136\u662f\u9519\u8bef\u7684\uff0c\u8fd9\u91cc\u51fd\u6570add\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u9519\u8bef\uff0c\u5bfc\u81f4pylint\u8bef\u4ee5\u4e3avalue\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u53d8\u91cf\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5f53\u4f60\u4fee\u590d\u6389add\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u9519\u8bef\u65f6\uff0cpylint\u5c31\u4e0d\u4f1a\u62a5\u544a\u8fd9\u4e2a\u9519\u8bef\u4e86\u3002</p> <p>\u8fd9\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u63a8\u8350\u521d\u5b66\u8005\u4f7f\u7528pyflakes\uff0c\u800c\u4e0d\u662fpylint\u7684\u539f\u56e0\u3002\u521d\u5b66\u8005\u5f88\u5bb9\u6613\u6df9\u6ca1\u5728pylint\u629b\u51fa\u7684\u4e00\u5927\u5806\u9519\u5939\u6742\u7740\u8bef\u62a5\u7684\u9519\u8bef\u62a5\u544a\u4e2d\uff0c\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u6765\u89e3\u51b3\u8fd9\u4e9b\u8bef\u62a5\uff0c\u5374\u832b\u7136\u65e0\u8ba1\u3002\u53e6\u5916\uff0cpylint\u8fc7\u4e8e\u4e25\u683c\u7684\u9519\u8bef\u68c0\u67e5\uff0c\u5bf9\u8fd8\u672a\u517b\u6210\u826f\u597d\u7f16\u7a0b\u4e60\u60ef\u7684\u521d\u5b66\u8005\uff0c\u53ef\u80fd\u4f1a\u4f7f\u4ed6\u4eec\u611f\u5230\u6cae\u4e27\u3002\u6bd4\u5982\uff0c\u4e0a\u9762\u5173\u4e8e\u7f3a\u5c11\u6587\u6863\u7684\u9519\u8bef\u62a5\u544a\uff0c\u5c3d\u7ba1\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8981\u4e00\u4e0b\u5b50\u8fbe\u5230\u6240\u6709\u8fd9\u4e9b\u6807\u51c6\uff0c\u4f1a\u4f7f\u5f97\u5b66\u4e60\u66f2\u7ebf\u53d8\u5f97\u8fc7\u4e8e\u9661\u5ced\uff0c\u4ece\u800c\u5bfc\u81f4\u5b66\u4e60\u7684\u70ed\u60c5\u964d\u4f4e\u3002</p> <p>mccabe\u7528\u6765\u68c0\u67e5\u4ee3\u7801\u7684\u590d\u6742\u5ea6\uff0c\u5b83\u628a\u4ee3\u7801\u6309\u63a7\u5236\u6d41\u5904\u7406\u6210\u4e00\u5f20\u56fe\uff0c\u4ece\u800c\u4ee3\u7801\u7684\u590d\u6742\u5ea6\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u516c\u5f0f\u6765\u8ba1\u7b97\uff1a \\(M = E - N + P\\)\uff0c\u5176\u4e2dE\u662f\u8def\u5f84\u6570\uff0cN\u662f\u8282\u70b9\u6570\uff0cP\u5219\u662f\u51b3\u7b56\u6570\u3002</p> <p>\u4ee5\u4e0b\u9762\u7684\u4ee3\u7801\u4e3a\u4f8b\uff1a <pre><code>if (c1())\n    f1();\nelse\n    f2();\n\nif (c2())\n    f3();\nelse\n    f4();\n</code></pre> \u5bf9\u5e94\u7684\u63a7\u5236\u6d41\u56fe\u53ef\u4ee5\u7ed8\u5236\u6210\u4e3a\uff1a </p> <p>\u4e0a\u8ff0\u63a7\u5236\u6d41\u56fe\u4e2d\uff0c\u67099\u6761\u8fb9\uff0c7\u4e2a\u7ed3\u70b9\uff0c1\u4e2a\u8fde\u63a5\uff0c\u56e0\u6b64\u5b83\u7684\u590d\u6742\u5ea6\u4e3a3\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#mccabe","title":"mccabe","text":"<p>mccabe\u7684\u540d\u5b57\u6765\u6e90\u4e8eThomas J. McCabe\uff0c\u4ed6\u4e8e1976\u5e74\u5728IEEE\u4e0a\u53d1\u8868\u4e86\"A Complexity Measure\"\u8fd9\u7bc7\u8bba\u6587\uff0c\u8fd9\u7bc7\u91cd\u8981\u6587\u7ae0\uff0c\u88ab\u5176\u5b83\u5b66\u672f\u8bba\u6587\u5f15\u7528\u8d85\u8fc78000\u6b21\uff0c\u88ab\u8ba4\u4e3a\u662f\u8f6f\u4ef6\u5de5\u4e1a\u9886\u57df\u6700\u91cd\u8981\u548c\u6700\u6709\u5f71\u54cd\u529b\u7684\u8bba\u6587\u4e4b\u4e00\uff0c\u5f71\u54cd\u4e86\u4e00\u4ee3\u4eba\u300233\u5e74\u4e4b\u540e\uff0cThomas J. McCabe\u4e8e2019\u5e74\u88abACM\u6388\u4e88\u6700\u6709\u5f71\u54cd\u529b\u8bba\u6587\u5956\u3002\u8fd9\u4e2a\u5956\u4e00\u5e74\u53ea\u6388\u4e88\u4e00\u6b21\uff0c\u53ea\u6709\u6388\u5956\u5f53\u5e7411\u5e74\u4e4b\u524d\u7684\u8bba\u6587\u624d\u6709\u8d44\u683c\u5165\u9009\uff0c\u8fc4\u4eca\u4e5f\u53ea\u9881\u53d1\u4e8615\u5c4a\uff0c\u7ea640\u4eba\u62ff\u5230\u4e86\u8fd9\u4e2a\u5956\u9879\u3002</p> <p>Tom McCabe\u63d0\u51fa\uff0c\u5982\u679c\u8fd9\u4e2a\u590d\u6742\u5ea6\u572810\u4ee5\u4e0b\uff0c\u8be5\u6bb5\u4ee3\u7801\u5c31\u53ea\u662f\u4e00\u6bb5\u7b80\u5355\u7684\u8fc7\u7a0b\uff0c\u98ce\u9669\u8f83\u4f4e\uff1b11-20\u4e3a\u4e2d\u7b49\u98ce\u9669\uff1b21-50\u5c5e\u4e8e\u9ad8\u98ce\u9669\u9ad8\u590d\u6742\u5ea6\uff1b\u5982\u679c\u5927\u4e8e50\uff0c\u5219\u8be5\u6bb5\u4ee3\u7801\u662f\u4e0d\u53ef\u6d4b\u8bd5\u7684\uff0c\u5177\u6709\u975e\u5e38\u5927\u7684\u98ce\u9669\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#flake8","title":"flake8\u7684\u914d\u7f6e","text":"<p>\u914d\u7f6eflake8\uff0c\u53ef\u4ee5\u5728\u6839\u76ee\u5f55\u4e0b\u653e\u7f6e.flake8\u6587\u4ef6\u3002\u5c3d\u7ba1\u53ef\u4ee5\u628a\u914d\u7f6e\u6574\u5408\u5230pyproject.toml\u6587\u4ef6\u4e2d\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u63a8\u8350\u4f7f\u7528\u5355\u72ec\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u51cf\u5c11pyproject.toml\u7684\u590d\u6742\u5ea6\u3002\u5bf9\u540e\u9762\u5c06\u63d0\u5230\u7684\u5176\u5b83\u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4eec\u4e5f\u662f\u4e00\u6837\u7684\u6001\u5ea6\u3002</p> <p>.flake8\u662f\u4e00\u4e2aini\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a .flake8<pre><code>[flake8]\n# required by black, https://github.com/psf/black/blob/master/.flake8\nmax-line-length = 88\nmax-complexity = 18\nignore = E203, E266, E501, W503, F403, F401\nselect = B,C,E,F,W,T4,B9\ndocstring-convention=google\nper-file-ignores =\n    __init__.py:F401\nexclude =\n    .git,\n    __pycache__,\n    setup.py,\n    build,\n    dist,\n    releases,\n    .venv,\n    .tox,\n    .mypy_cache,\n    .pytest_cache,\n    .vscode,\n    .github,\n    docs/conf.py,\n    tests\n</code></pre></p> <p>\u6211\u4eec\u6392\u9664\u4e86\u5bf9test\u6587\u4ef6\u8fdb\u884clint\uff0c\u8fd9\u4e5f\u662fflake8\u5f00\u53d1\u8005\u7684\u63a8\u8350\uff0c\u5c3d\u7ba1\u4ee3\u7801\u53ef\u8bfb\u6027\u5341\u5206\u91cd\u8981\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u5e94\u8be5\u5728test\u4ee3\u7801\u7684\u98ce\u683c\u4e0a\u82b1\u592a\u591a\u5b9d\u8d35\u65f6\u95f4\u3002\u8fd9\u91cc\u6700\u521d\u51e0\u884c\u914d\u7f6e\uff0c\u662f\u4e3a\u4e86\u4e0eblack\u517c\u5bb9\u3002\u5982\u679c\u4e0d\u8fd9\u6837\u914d\u7f6e\uff0c\u90a3\u4e48\u7ecfblack\u683c\u5f0f\u5316\u7684\u6587\u4ef6\uff0cflake8\u603b\u4f1a\u62a5\u9519\uff0c\u800c\u8fd9\u79cd\u62a5\u9519\u5e76\u65e0\u4efb\u4f55\u610f\u4e49\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#42-mypy","title":"4.2. Mypy","text":"<p>flake8\u627f\u62c5\u4e86\u4ee3\u7801\u98ce\u683c\u3001\u90e8\u5206\u8bed\u6cd5\u9519\u8bef\u548c\u4ee3\u7801\u590d\u6742\u5ea6\u68c0\u67e5\u7684\u5de5\u4f5c\u3002\u4f46\u662f\uff0c\u5b83\u6ca1\u6709\u5904\u7406\u7c7b\u578b\u68c0\u67e5\u65b9\u9762\u7684\u9519\u8bef\uff0c\u8fd9\u9879\u5de5\u4f5c\u6211\u4eec\u53ea\u80fd\u7559\u7ed9mypy\u6765\u5b8c\u6210\u3002</p> <p>ppw\u4e2d\u5df2\u7ecf\u96c6\u6210\u4e86mypy\u6a21\u5757\uff0c\u5e76\u4f1a\u5728tox\u8fd0\u884c\u65f6\uff0c\u81ea\u52a8\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u770b\u4e0a\u53bb\uff0c\u53ea\u8981\u6211\u4eec\u6309\u7167PEP484\u53ca\u51e0\u4e2a\u5173\u8054\u7684PEP\u6765\u505a\u597d\u7c7b\u578b\u6ce8\u89e3\uff0c\u7136\u540e\u7b80\u5355\u5730\u8fd0\u884cmypy\uff0c\u4f3c\u4e4e\u5c31\u5e94\u8be5\u4e07\u4e8b\u5927\u5409\uff1f\u7136\u800c\uff0c\u5b9e\u8df5\u603b\u662f\u6bd4\u7406\u8bba\u8981\u4e30\u5bcc\u5f97\u591a\uff0c\u6df1\u523b\u5f97\u591a\u3002mypy\u5728\u8fd0\u884c\u68c0\u67e5\u65f6\uff0c\u5e38\u5e38\u4f1a\u9047\u5230\u7b2c\u4e09\u65b9\u5e93\u8fd8\u4e0d\u652f\u6301\u7c7b\u578b\u6ce8\u89e3\u7684\u60c5\u51b5\uff0c\u6216\u8005\u56e0\u4e3a\u914d\u7f6e\u9519\u8bef\uff0c\u5bfc\u81f4mypy\u5f97\u4e0d\u5230\u9884\u671f\u7684\u7ed3\u679c\u3002\u9047\u5230\u8fd9\u4e9b\u95ee\u9898\u65f6\uff0c\u5c31\u9700\u8981\u6211\u4eec\u7406\u89e3mypy\u7684\u5de5\u4f5c\u539f\u7406\uff0c\u5e76\u4e14\u5bf9mypy\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u4ee5\u4fbf\u8ba9\u5b83\u80fd\u591f\u66f4\u597d\u5730\u5de5\u4f5c\u3002</p> <p>Info</p> <p>\u4e3a\u4ec0\u4e48ppw\u9009\u62e9\u4e86mypy\uff1f\u5982\u679c\u4f60\u4f7f\u7528vscode\u7f16\u7a0b\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u5df2\u7ecf\u4f7f\u7528\u4e86pyright\u4f5c\u4e3a\u7c7b\u578b\u68c0\u67e5\u5668\u3002\u56e0\u4e3apylance\u7ed9\u51fa\u7684\u7c7b\u578b\u68c0\u67e5\u9519\u8bef\uff0c\u90fd\u6765\u81ea\u4e8epyright\u3002\u90a3\u4e48ppw\u4e3a\u4ec0\u4e48\u8fd8\u8981\u63a8\u8350\u53e6\u4e00\u4e2a\u7c7b\u578b\u68c0\u67e5\u5668\u5462\uff1f</p> <p>\u8fd9\u662f\u56e0\u4e3a\uff0cpyright\u5e76\u4e0d\u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684python\u89e3\u51b3\u65b9\u6848\u3002\u8981\u5b89\u88c5pyright\uff0c\u8fd8\u5fc5\u987b\u5b89\u88c5node\u3002\u6211\u4eec\u8ba4\u4e3a\uff0c\u5728\u5f00\u53d1\u73af\u5883\u4e0b\uff0c\u4e00\u822c\u53ea\u9700\u8981\u5b89\u88c5\u4e00\u6b21\uff0c\u800c\u4e14vscode\u53ef\u4ee5\u5e2e\u6211\u4eec\u5b8c\u6210\u5b89\u88c5\u3002\u4f46\u5728\u7531tox\u9a71\u52a8\u7684\u77e9\u9635\u6d4b\u8bd5\u73af\u5883\u4e2d\uff0c\u4efb\u4f55\u975e\u7eafpython\u7684\u89e3\u51b3\u65b9\u6848\u90fd\u53ef\u80fd\u5e26\u6765\u989d\u5916\u7684\u590d\u6742\u6027\u3002</p> <p>\u9996\u5148\uff0c\u8ba9\u6211\u4eec\u4ece<code>Any</code>\u8fd9\u4e2a\u7279\u6b8a\u7684\u7c7b\u578b\u8bf4\u8d77\u3002<code>Any</code>\u7c7b\u578b\u7528\u6765\u8868\u660e\u67d0\u4e2a\u53d8\u91cf/\u503c\u5177\u6709\u52a8\u6001\u7c7b\u578b\u3002\u5728\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u8fc7\u591a\u7684<code>Any</code>\u7c7b\u578b\uff0c\u5c06\u964d\u4f4emypy\u8fdb\u884c\u4ee3\u7801\u68c0\u67e5\u7684\u6709\u6548\u6027\u3002</p> <p>\u96be\u70b9\u5728\u4e8e\uff0c<code>Any</code>\u7c7b\u578b\u7684\u6307\u5b9a\uff0c\u5e76\u4e0d\u4e00\u5b9a\u6765\u6e90\u4e8e\u6211\u4eec\u81ea\u5df1\u4ee3\u7801\u4e2d\u7684\u663e\u5f0f\u58f0\u660e\uff08\u5bf9\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u53ef\u4ee5\u81ea\u884c\u4fee\u6539\uff0c\u53ea\u5728\u975e\u5e38\u5fc5\u8981\u65f6\u624d\u5c0f\u5fc3\u4f7f\u7528<code>Any</code>\uff09\u3002\u5728mypy\u4e2d\uff0c\u5b83\u8fd8\u4f1a\u81ea\u52a8\u83b7\u5f97\u548c\u4f20\u64ad\u3002mypy\u7684\u89c4\u5219\u662f\uff0c\u5728\u51fd\u6570\u4f53\u5185\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5982\u679c\u5b83\u4eec\u6ca1\u6709\u88ab\u663e\u5f0f\u5730\u58f0\u660e\u4e3a\u67d0\u79cd\u7c7b\u578b\uff0c\u65e0\u8bba\u5b83\u4eec\u662f\u5426\u88ab\u8d4b\u521d\u503c\uff0cmypy\u90fd\u4f1a\u5c06\u5176\u63a8\u5bfc\u4e3a<code>Any</code>\u3002\u800c\u5728\u51fd\u6570\u4f53\u5916\u7684\u53d8\u91cf\uff0cmypy\u5219\u4f1a\u4f9d\u636e\u5176\u521d\u503c\u5c06\u5176\u63a8\u5bfc\u4e3a\u67d0\u79cd\u7c7b\u578b\u3002mypy\u8fd9\u6837\u5904\u7406\u7684\u539f\u56e0\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u5b83\u65e0\u6cd5\u5728\u68c0\u67e5\u65f6\u771f\u6b63\u8fd0\u884c\u8fd9\u4e2a\u51fd\u6570\u3002</p> <p>\u6211\u4eec\u5148\u770b\u51fd\u6570\u4f53\u91cc\u7684\u53d8\u91cf\u81ea\u52a8\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u7684\u4f8b\u5b50\uff1a test.py<pre><code>def bar(name):\n    x = 1\n    # reveal_type\u662fmypy\u7684\u4e00\u4e2a\u8c03\u8bd5\u65b9\u6cd5\uff0c\u7528\u4ee5\u63ed\u793a\u67d0\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u5b83\u4ec5\u5728mypy\u68c0\u67e5\u65f6\u624d\u4f1a\u6709\u5b9a\u4e49\uff0c\u5e76\u4f1a\u6253\u5370\u51fa\u53d8\u91cf\u7c7b\u578b\u3002\u4f60\u9700\u8981\u5728\u8c03\u8bd5\u5b8c\u6210\u540e\uff0c\u624b\u52a8\u79fb\u9664\u8fd9\u4e9b\u4ee3\u7801\uff0c\u5426\u5219\u4f1a\u5f15\u8d77python\u62a5\u544aNameError\u9519\u8bef\u3002\n    reveal_type(x)\n    x.foo()\n    return name\n</code></pre> \u6211\u4eec\u5c06\u4e0a\u8ff0\u4ee3\u7801\u5b58\u4e3atest.py\uff0c\u7136\u540e\u901a\u8fc7mypy\u6765\u8fd0\u884c\u68c0\u67e5\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a <pre><code>test.py:12: note: Revealed type is \"Any\"\n</code></pre> \u9664\u6b64\u4e4b\u5916\uff0c\u5e76\u6ca1\u6709\u5176\u5b83\u522b\u7684\u9519\u8bef\u3002\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u5c3d\u7ba1x\u88ab\u8d4b\u503c\u4e3a\u6574\u65701\uff0c\u4f46\u5b83\u7684\u7c7b\u578b\u4ecd\u7136\u88abmypy\u63a8\u5bfc\u4e3a<code>Any</code>\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5728x\u4e0a\u8c03\u7528\u4efb\u4f55\u65b9\u6cd5\uff0c\u800c\u4e0d\u4f1a\u5f15\u8d77mypy\u7684\u9519\u8bef\u63d0\u793a\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u63ed\u793a\u4e86\u51fd\u6570\u4f53\u5916\u7684\u53d8\u91cf\uff0cmypy\u662f\u5982\u4f55\u63a8\u5bfc\u5176\u7c7b\u578b\u7684\uff1a <pre><code>from typing import Any\n\ns = 1           # Statically typed (type int)\nreveal_type(s)  # output: Revealed type is \"builtins.int\"\nd: Any = 1      # Dynamically typed (type Any)\nreveal_type(d)  # output: Revealed type is \"Any\"\n\ns = 'x'         # Type check error\nd = 'x'         # OK\n</code></pre> \u5176\u5b83\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u7684\u60c5\u51b5\u8fd8\u5305\u62ec\u5bfc\u5165\u9519\u8bef\u3002\u5f53mypy\u9047\u5230import\u8bed\u53e5\u65f6\uff0c\u5b83\u5c06\u9996\u5148\u5c1d\u8bd5\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5b9a\u4f4d\u8be5\u6a21\u5757\u6216\u8005\u5176\u7c7b\u578b\u6869(type stub)\u6587\u4ef6\u3002\u7136\u540e Mypy \u5c06\u5bf9\u5bfc\u5165\u7684\u6a21\u5757\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u4f46\u662f\uff0c\u53ef\u80fd\u5b58\u5728\u5bfc\u5165\u5e93\u4e0d\u5b58\u5728\uff08\u6bd4\u5982\u540d\u5b57\u9519\u8bef\u3001\u6ca1\u6709\u5b89\u88c5\u5230mypy\u8fd0\u884c\u7684\u73af\u5883\u4e2d\uff09\uff0c\u6216\u8005\u8be5\u5e93\u6ca1\u6709\u7c7b\u578b\u6ce8\u89e3\u4fe1\u606f\u7b49\u60c5\u51b5\uff0c\u8fd9\u6837\uff0cmypy\u5c31\u4f1a\u5c06\u5bfc\u5165\u7684\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a<code>Any</code>\u3002</p> <p>Info</p> <p>\u6ce8\u610f\u5230\u5728\u7b2c4\u7ae0\u4e2d\uff0c\u6211\u4eec\u751f\u6210\u7684\u6837\u677f\u5de5\u7a0b\u4e2d\uff0c\u5728sample\\sample\u76ee\u5f55\u4e0b\uff0c\u5b58\u5728\u4e00\u4e2a\u540d\u4e3apy.typed\u7684\u7a7a\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u4f1a\u5728poetry\u6253\u5305\u8fc7\u7a0b\u4e2d\uff0c\u88ab\u590d\u5236\u5230\u6253\u5305\u540e\u7684\u5305\u4e2d\u3002\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f5c\u7528\u662f\uff0c\u544a\u8bc9\u7c7b\u578b\u68c0\u67e5\u5668(type checker)\uff0c\u8fd9\u4e2a\u5305\u4e2d\u7684\u6a21\u5757\u90fd\u662f\u5177\u6709\u7c7b\u578b\u6ce8\u89e3\u7684\uff0c\u53ef\u4ee5\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u5982\u679c\u4f60\u7684\u5305\u4e2d\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u7c7b\u578b\u68c0\u67e5\u5668\u5c06\u4e0d\u4f1a\u5bf9\u4f60\u7684\u5305\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002</p> <p>py.typed\u5e76\u4e0d\u662fmypy\u7684\u53d1\u660e\uff0c\u800c\u662fPEP 561\u7684\u89c4\u5b9a\u3002\u6240\u6709\u7c7b\u578b\u68c0\u67e5\u5668\u90fd\u5e94\u8be5\u9075\u5faa\u8fd9\u4e2a\u89c4\u5b9a\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cmypy\u5bfb\u627e\u5bfc\u5165\u5e93\u7684\u65b9\u5f0f\u4e0epython\u5bfb\u627e\u5bfc\u5165\u5e93\u7684\u65b9\u5f0f\u5e76\u4e0d\u5b8c\u5168\u76f8\u540c\u3002\u9996\u5148\uff0cmypy \u6709\u81ea\u5df1\u7684\u641c\u7d22\u8def\u5f84\u3002\u8fd9\u662f\u6839\u636e\u4ee5\u4e0b\u6761\u76ee\u8ba1\u7b97\u5f97\u51fa\u7684\uff1a</p> <ol> <li>MYPYPATH\u73af\u5883\u53d8\u91cf\uff08\u76ee\u5f55\u5217\u8868\uff0c\u5728 UNIX \u7cfb\u7edf\u4e0a\u4ee5MYPYPATH\u5192\u53f7\u5206\u9694\uff0c\u5728 Windows \u4e0a\u4ee5\u5206\u53f7\u5206\u9694\uff09\u3002</li> <li>\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684mypy_path\u914d\u7f6e\u9879\u3002</li> <li>\u547d\u4ee4\u884c\u4e2d\u7ed9\u51fa\u7684\u6e90\u7684\u76ee\u5f55\u3002</li> <li>\u6807\u8bb0\u4e3a\u7c7b\u578b\u68c0\u67e5\u5b89\u5168\u7684\u5df2\u5b89\u88c5\u5305\uff08\u8bf7\u89c1PEP561\uff09\u3002</li> <li>typeshed repo\u7684\u76f8\u5173\u76ee\u5f55\u3002</li> </ol> <p>\u5176\u6b21\uff0c\u9664\u4e86\u5e38\u89c4\u7684 Python \u6587\u4ef6\u548c\u5305\u4e4b\u5916\uff0cmypy \u8fd8\u4f1a\u641c\u7d22\u5b58\u6839\u6587\u4ef6\u3002\u641c\u7d22\u6a21\u5757\u7684\u89c4\u5219foo\u5982\u4e0b\uff1a</p> <ol> <li>\u641c\u7d22\u67e5\u627e\u641c\u7d22\u8def\u5f84\uff08\u89c1\u4e0a\u6587\uff09\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\uff0c\u76f4\u5230\u627e\u5230\u5339\u914d\u9879\u3002</li> <li>\u5982\u679c\u627e\u5230\u540d\u4e3a\u7684\u5305foo\uff08\u5373foo\u5305\u542b__init__.py\u6216__init__.pyi\u6587\u4ef6\u7684\u76ee\u5f55\uff09\uff0c\u5219\u5339\u914d\u3002</li> <li>\u5982\u679c\u627e\u5230\u540d\u4e3a\u7684\u5b58\u6839\u6587\u4ef6foo.pyi\uff0c\u5219\u5339\u914d\u3002</li> <li>\u5982\u679c\u627e\u5230\u540d\u4e3a\u7684 Python \u6a21\u5757foo.py\uff0c\u5219\u5339\u914d\u3002</li> </ol> <p>\u89c4\u5219\u6bd4\u8f83\u590d\u6742\uff0c\u4e0d\u8fc7\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ea\u9700\u8981\u5927\u81f4\u4e86\u89e3\u5373\u53ef\uff0c\u5728\u9047\u5230\u95ee\u9898\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67e5\u9605mypy\u7684\u6587\u6863\u5982\u4f55\u627e\u5230\u5bfc\u5165\u5e93\u6765\u89e3\u51b3\u3002\u603b\u4e4b\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\uff0c\u5982\u679c\u67d0\u4e2a\u5bfc\u5165\u5e93\u5728\u4e0a\u9762\u7684\u641c\u7d22\u4e4b\u540e\u4e0d\u80fd\u627e\u5230\uff0cmypy\u5c31\u4f1a\u5c06\u8be5\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a<code>Any</code>\u3002</p> <p>\u9664\u4e86\u4e0a\u8ff0\u83b7\u5f97<code>Any</code>\u7684\u60c5\u51b5\u5916\uff0cmypy\u8fd8\u4f1a\u81ea\u52a8\u5c06<code>Any</code>\u7c7b\u578b\u4f20\u64ad\u5230\u5176\u4ed6\u53d8\u91cf\u4e0a\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u662f<code>Any</code>\uff0c\u90a3\u4e48\u5b83\u7684\u4efb\u4f55\u5c5e\u6027\u7684\u7c7b\u578b\u4e5f\u662f<code>Any</code>\uff0c\u5e76\u4e14\u4efb\u4f55\u5bf9\u7c7b\u578b\u4e3a<code>Any</code>\u7684\u8c03\u7528\uff0c\u4e5f\u5c06\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a <pre><code>def f(x: Any) -&gt; None:\n    # x\u5177\u6709Any\u7c7b\u578b\uff0cfoo\u662fx\u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u6240\u4ee5x.foo\u7684\u7c7b\u578b\u4e5f\u662f`Any`\n    # \u65e2\u7136x.foo\u7684\u7c7b\u578b\u662f`Any`\uff0c\u90a3\u4e48\u5bf9x.foo\u7684\u8c03\u7528\uff0c\u4e5f\u5c06\u5bfc\u81f4mypy\u5c06y\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a`Any`\n    y = x.foo()  \n    y.bar()      # \u56e0\u6b64\uff0cmypy\u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u8c03\u7528\u662f\u5408\u6cd5\u7684\n</code></pre></p> <p>\u4ecePEP 484\u5f00\u59cb\u5efa\u6784Python\u7684\u7c7b\u578b\u63d0\u793a\u5927\u53a6\uff0c\u76f4\u5230PEP 563\u57fa\u672c\u5b8c\u6210\u5927\u53a6\u7684\u5c01\u9876\u4e4b\u65f6\uff0c\u4ecd\u6709\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u5e93\u8fd8\u4e0d\u652f\u6301\u7c7b\u578b\u6ce8\u89e3\u3002\u9488\u5bf9\u8fd9\u4e2a\u73b0\u5b9e\uff0cPython\u7684\u7c7b\u578b\u6ce8\u89e3\u662f\u6e10\u8fdb\u5f0f\u7684(\u89c1PEP 483)\uff0c\u4efb\u4f55\u7c7b\u578b\u68c0\u67e5\u5668\u90fd\u5fc5\u987b\u9762\u5bf9\u8fd9\u4e2a\u73b0\u5b9e\uff0c\u5e76\u7ed9\u51fa\u89e3\u51b3\u65b9\u6848\u3002</p> <p>Mypy\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u914d\u7f6e\u9879\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u4e9b\u914d\u7f6e\u9879\u65e2\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u4f20\u5165\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u4f20\u5165\u3002</p> <p>\u9ed8\u8ba4\u5730\uff0cmypy\u4f7f\u7528\u5de5\u7a0b\u76ee\u5f55\u4e0b\u7684mypy.ini\u4f5c\u4e3a\u5176\u914d\u7f6e\u6587\u4ef6\uff1b\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u627e\u4e0d\u5230\uff0c\u5219\u4f1a\u4f9d\u6b21\u5bfb\u627e.mypy.ini\uff08\u6ce8\u610f\u524d\u9762\u591a\u4e00\u4e2a'.')\uff0cpyproject.toml, setup.cfg, $XDG_CONFIG_HOME/mypy/config\uff0c ~/.config/mypy/config\uff0c\u6700\u540e\u662f~/.mypy.ini\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684mypy\u914d\u7f6e\u6587\u4ef6\u5305\u62ec\u5168\u5c40\u914d\u7f6e\u548c\u9488\u5bf9\u7279\u5b9a\u6a21\u5757\u3001\u5e93\u7684\u8bbe\u7f6e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>[mypy]\nwarn_redundant_casts = true\nwarn_unused_ignores = true\nwarn_unused_configs = true\n\ndisallow_any_unimported = true\nignore_missing_imports = false\n\n# \u7981\u6b62\u672a\u6ce8\u89e3\u7684\u51fd\u6570\u3001\u6216\u8005\u6ce8\u89e3\u4e0d\u5b8c\u5168\u7684\u51fd\u6570\u3002\ndisallow_untyped_defs = true\n# \u5f53disallow_untyped_defs\u4e3a\u771f\u65f6\uff0c\u4e0b\u9762\u7684\u914d\u7f6e\u65e0\u610f\u4e49\n#disallow_incomplete_defs = true\ndisallow_untyped_calls = true\ndisallow_untyped_decorators = true\n# \u4e0d\u5141\u8bb8\u4f7f\u7528`x: List[Any]` \u6216\u8005 x: List`\ndisallow_any_generics = true\n\n# \u663e\u793a\u9519\u8bef\u4ee3\u7801\nshow_error_codes = true\n\n# \u5982\u679c\u51fd\u6570\u8fd4\u56de\u503c\u58f0\u660e\u4e0d\u4e3aAny\uff0c\u4f46\u5b9e\u9645\u8fd4\u56deAny\uff0c\u5219\u53d1\u51fa\u8b66\u544a\nwarn_return_any = true\n\n[mypy-fire]\n# cli.py\u4e2d\u5f15\u5165\u4e86python-fire\u5e93\uff0c\u4f46\u5b83\u6ca1\u6709py.typed\u6587\u4ef6\uff0c\u8fd9\u91cc\u6211\u4eec\u8981\u5bf9\u8be5\u5e93\u5355\u72ec\u8bbe\u7f6e\u5141\u8bb8\u5bfc\u5165\u7f3a\u5931\nignore_missing_imports = true\n</code></pre></p> <p>\u793a\u4f8b\u4e2d\u7ed9\u51fa\u7684\u914d\u7f6e\u9879\u76ee\u662f\u6211\u4eec\u8ba4\u4e3a\u8f83\u4e3a\u91cd\u8981\uff0c\u5e76\u4e14\u4e0e\u9ed8\u8ba4\u503c\u4e0d\u540c\u7684\u90a3\u4e9b\u3002\u5173\u4e8emypy\u6240\u6709\u914d\u7f6e\u9879\u76ee\u53ca\u5176\u542b\u4e49\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002\u8fd9\u4e9b\u914d\u7f6e\u9879\uff0c\u65e2\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u65b9\u5f0f\u76f4\u63a5\u4f20\u9012\u7ed9mypy\u3002\u5f53\u7136\uff0c\u4f7f\u7528\u547d\u4ee4\u884c\u65b9\u5f0f\u4f20\u9012\u65f6\uff0c\u8fd9\u4e9b\u914d\u7f6e\u5c06\u5728\u5168\u5c40\u8303\u56f4\u5185\u53d1\u751f\u4f5c\u7528\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#421-disallow_untyped_defs","title":"4.2.1. disallow_untyped_defs","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cmypy\u7684\u7c7b\u578b\u68c0\u67e5\u76f8\u5f53\u5bbd\u677e\uff0c\u4ee5\u4fbf\u517c\u5bb9\u4e00\u4e9b\u9648\u65e7\u7684\u9879\u76ee\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u66f4\u4e25\u683c\u7684\u7c7b\u578b\u68c0\u67e5\uff0c\u53ef\u4ee5\u5c06disallow_untyped_defs\u8bbe\u7f6e\u4e3atrue\u3002\u6211\u4eec\u53ef\u4ee5\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1a test.py<pre><code>def bar(name):\n    return name\n</code></pre> \u51fd\u6570bar\u6ca1\u6709\u52a0\u4efb\u4f55\u7c7b\u578b\u6ce8\u89e3\uff0c\u663e\u7136\uff0c\u5e94\u8be5\u65e0\u6cd5\u901a\u8fc7mypy\u7684\u7c7b\u578b\u68c0\u67e5\u3002\u4f46\u5982\u679c\u6211\u4eec\u5728\u547d\u4ee4\u884c\u4e0b\u6267\u884c\uff1a <pre><code>$ mypy test.py\n</code></pre> mypy\u4e0d\u4f1a\u7ed9\u51fa\u4efb\u4f55\u9519\u8bef\u63d0\u793a\u3002\u5982\u679c\u6211\u4eec\u5e26\u4e0a--disallow-untyped-defs\u53c2\u6570\uff1a <pre><code>$ mypy --disallow-untyped-defs test.py\n</code></pre> \u8fd9\u4f1a\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>test.py:7: error: Function is missing a type annotation  [no-untyped-def]\n</code></pre> \u5982\u679c\u662f\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6765\u8bbe\u7f6edisallow_untyped_defs\uff0c\u8c61\u8fd9\u79cd\u5e03\u5c14\u91cf\uff0c\u5206\u522b\u8bbe\u7f6e\u4e3atrue\u6216false\u5373\u53ef\u3002\u901a\u8fc7\u547d\u4ee4\u884c\u4f20\u5165\u53c2\u6570\u4e00\u5b9a\u662f\u5168\u5c40\u751f\u6548\uff0c\u800c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\uff0c\u5219\u53ef\u4ee5\u5728\u66f4\u7ec6\u81f4\u7684\u7c92\u5ea6\u4e0a\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#allow-incomplete-defs","title":"allow-incomplete-defs","text":"<p>\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\uff0c\u8fd8\u5b58\u5728\u4e00\u4e2a\u540d\u4e3aallow-incomplete-defs\u7684\u9009\u9879\uff0c\u5b83\u9488\u5bf9\u7684\u662f\u51fd\u6570\u53c2\u6570\u53ea\u5b8c\u6210\u4e86\u90e8\u5206\u6ce8\u89e3\u7684\u60c5\u51b5\u3002\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u5141\u8bb8\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981mypy\u4ec5\u9488\u5bf9\u4e2a\u522b\u573a\u5408\u8fdb\u884c\u4ee5\u4e0b\u914d\u7f6e\uff1a <pre><code>[mypy-special_module]\ndisallow_untyped_defs = false\nallow_incomplete_defs = true\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap06/#422-check_untyped_defs","title":"4.2.2. check_untyped_defs","text":"<p>\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u628a\u5b57\u7b26\u4e32\u4e0e\u4e00\u4e2a\u6574\u6570\u76f8\u52a0\u3002\u8fd9\u663e\u7136\u5e76\u4e0d\u5408\u7406\u3002 <pre><code>def bar()-&gt;None:\n    not_very_wise = \"1\" + 1\n</code></pre> \u5982\u679c\u5b58\u5728\u5168\u5c40\u8bbe\u7f6edisallow_untyped_defs = True\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cmypy\u5c06\u62a5\u544a\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>error: Unsupported operand types for + (\"str\" and \"int\")  [operator]\n</code></pre> \u4f46\u4e8b\u4e8b\u6709\u4f8b\u5916\u3002\u5728\u4f8b\u5916\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u9000\u800c\u6c42\u5176\u6b21\uff0c\u901a\u8fc7\u8bbe\u7f6echeck_untyped_defs = True\u5c06\u53ef\u4ee5\u68c0\u67e5\u51fa\u4e0a\u8ff0\u95ee\u9898\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#423-disallow_any_unimportedignore_missing_imports","title":"4.2.3. disallow_any_unimported\u548cignore_missing_imports","text":"<p>\u6211\u4eec\u5728\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0c\u5982\u679cmypy\u65e0\u6cd5\u8ffd\u8e2a\u4e00\u4e2a\u5bfc\u5165\u5e93\uff0c\u5c31\u4f1a\u5c06\u8be5\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u65ad\u4e3a<code>Any</code>\uff0c\u4ece\u800c\u8fdb\u4e00\u6b65\u4f20\u64ad\u5230\u6211\u4eec\u7684\u4ee3\u7801\u91cc\uff0c\u4f7f\u5f97\u66f4\u591a\u7684\u7c7b\u578b\u68c0\u67e5\u65e0\u6cd5\u8fdb\u884c\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u7981\u6b62\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c06disallow_any_unimported\u8bbe\u7f6e\u4e3aTrue\u3002\u8be5\u53c2\u6570\u7684\u7f3a\u7701\u503c\u662ffalse\u3002</p> <p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u5728\u5168\u5c40\u8303\u56f4\u5185\u5c06disallow_any_unimported\u8bbe\u7f6e\u4e3aTrue\uff0c\u7136\u540e\u9488\u5bf9mypy\u62a5\u544a\u51fa\u6765\u7684\u65e0\u6cd5\u5904\u7406\u5bfc\u5165\u7684\u9519\u8bef\uff0c\u9010\u4e2a\u89e3\u51b3\u3002\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u9009\u62e9\u4e86fire\u4f5c\u4e3a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5219\u4f1a\u9047\u5230\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>error: Skipping analyzing 'fire': found module but no type hints or library stubs  [import]\n</code></pre> \u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u662f\u77e5\u540d\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u5f80\u5f80\u5728typeshed\u4e0a\u6ce8\u518c\u8fc7\u7c7b\u578b\u5b58\u6839\u6587\u4ef6\uff0c\u7c7b\u578b\u68c0\u67e5\u5668\uff08\u6bd4\u5982mypy)\u5e94\u8be5\u80fd\u81ea\u52a8\u627e\u5230\u3002\u5982\u679c\u662f\u4e0d\u77e5\u540d\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5347\u7ea7\u5b83\uff0c\u770b\u6700\u65b0\u7248\u672c\u662f\u5426\u652f\u6301\uff0c\u6216\u8005\u5728pypi\u4e0a\u641c\u7d22\u5b83\u7684\u5b58\u6839\u5e93\u3002\u6bd4\u5982\uff0c\u5bf9<code>fire</code>\uff0c\u5982\u679cpypi\u4e0a\u5b58\u5728\u5b83\u7684\u5b58\u6839\u5e93\uff0c\u5219\u5b83\u7684\u540d\u5b57\u4e00\u5b9a\u662f<code>types-fire</code>\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u7ea0\u6b63\u4e0a\u8ff0\u95ee\u9898\uff1a <pre><code>$ pip install types-fire\n</code></pre> \u5230\u6210\u4e66\u65f6\u4e3a\u6b62\uff0cfire\u7684\u5f00\u53d1\u8005\u5e76\u6ca1\u6709\u4e0a\u4f20\u5b58\u6839\u6587\u4ef6\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u81ea\u5df1\u5199\u4e00\u4e2a<code>fire.pyi</code>\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u5b83\u653e\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u5173\u4e8e\u5982\u4f55\u5199.pyi\u6587\u4ef6\uff0c\u8bf7\u8bfb\u8005\u81ea\u884c\u641c\u7d22\u3002</p> <p>\u4f46\u5982\u679c\u65e2\u627e\u4e0d\u5230\u5408\u9002\u7684\u5b58\u6839\u5e93\uff0c\u6211\u4eec\u4e5f\u6ca1\u65f6\u95f4\u6765\u5199pyi\u6587\u4ef6\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06ignore_missing_imports\u8bbe\u7f6e\u4e3aTrue\uff0c\u8fd9\u6837mypy\u5c31\u4e0d\u4f1a\u62a5\u9519\u4e86\u3002\u8bf7\u53c2\u8003\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7b2c24~26\u884c\uff0c\u4e0d\u8fc7\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u529b\u907f\u514d\u4f7f\u7528\u8fd9\u4e2a\u9009\u9879\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#424-implicit_optional","title":"4.2.4. implicit_optional","text":"<p>\u5982\u679c\u6709\u4ee5\u4e0b\u7684\u4ee3\u7801\uff1a <pre><code>def foo(arg: str = None) -&gt; None:\n    reveal_type(arg)  # Revealed type is \"Union[builtins.str, None]\"\n</code></pre> \u6211\u4eec\u901a\u8fc7reveal_type\u5f97\u77e5\uff0cmypy\u5c06<code>arg</code>\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3aOptional[str]\u3002\u8fd9\u4e2a\u63a8\u5bfc\u672c\u8eab\u6ca1\u6709\u9519\uff0c\u4f46\u662f\uff0c\u8003\u8651\u5230zen of python\u7684\u8981\u6c42\uff0c explicit is better than implicit\uff0c\u6211\u4eec\u5e94\u8be5\u5c06arg\u7684\u7c7b\u578b\u58f0\u660e\u4e3a<code>arg: Optional[str]</code>\u3002\u4ece0.980\u8d77\uff0cmypy\u9ed8\u8ba4\u5c06implicit_optional\u8bbe\u7f6e\u4e3aFlase\uff08\u5373\u7981\u6b62\u8fd9\u6837\u4f7f\u7528\uff09\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e2a\u9009\u9879\u4e5f\u6ca1\u6709\u51fa\u73b0\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#425-warn_return_any","title":"4.2.5. warn_return_any","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u5e94\u8be5\u8ba9\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u4e3a<code>Any</code>\uff08\u5982\u679c\u771f\u6709\u7c7b\u578b\u4e0d\u786e\u5b9a\u7684\u60c5\u51b5\uff0c\u5e94\u8be5\u4f7f\u7528\u6cdb\u578b\uff09\u3002\u56e0\u6b64\uff0cmypy\u5e94\u8be5\u68c0\u67e5\u8fd9\u79cd\u60c5\u51b5\u5e76\u62a5\u544a\u4e3a\u9519\u8bef\u3002\u4f46\u662f\uff0cmypy\u7684\u7f3a\u7701\u914d\u7f6e\u5e76\u4e0d\u4f1a\u7981\u6b62\u8fd9\u79cd\u884c\u4e3a\uff0c\u6211\u4eec\u9700\u8981\u81ea\u884c\u4fee\u6539\u3002</p> <p>\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\uff0c\u6211\u4eec\u7ed9\u51fa\u4ee5\u4e0b\u9519\u8bef\u4ee3\u7801\uff1a <pre><code>from typing import Any\n\ndef baz() -&gt; str:\n    return something_that_returns_any()\n\ndef something_that_returns_any() -&gt; Any:\n    ...\n</code></pre> \u5f53warn_return_any = True\u65f6\uff0cmypy\u5c06\u9488\u5bf9\u4e0a\u8ff0\u4ee3\u7801\u62a5\u544a\u5982\u4e0b\uff1a <pre><code>error: Returning Any from function declared to return \"str\"  [no-any-return]\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap06/#426-show_errors_codes-and-warn_unused_ignores","title":"4.2.6. show_errors_codes and warn_unused_ignores","text":"<p>\u5f53\u6211\u4eec\u4f7f\u7528\u4e86type ignore\u65f6\uff0c\u6211\u4eec\u4e00\u822c\u4ecd\u7136\u5e0c\u671bmypy\u80fd\u591f\u62a5\u544a\u51fa\u9519\u8bef\u6d88\u606f\uff08\u4f46\u4e0d\u4f1a\u4f7f\u7c7b\u578b\u68c0\u67e5\u5931\u8d25\uff09\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6eshow_errors_codes = True\u6765\u5b9e\u73b0\uff0c\u663e\u793a\u9519\u8bef\u4ee3\u7801\u3002\u8fd9\u5bf9\u4e8e\u7406\u89e3\u9519\u8bef\u539f\u56e0\u5f88\u6709\u5e2e\u52a9\u3002</p> <p>\u968f\u7740\u4ee3\u7801\u7684\u4e0d\u65ad\u6f14\u8fdb\uff0c\u6709\u65f6\u5019type ignore\u4f1a\u53d8\u5f97\u4e0d\u518d\u5fc5\u8981\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u4f9d\u8d56\u7684\u67d0\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff0c\u968f\u7740\u65b0\u7248\u672c\u7684\u53d1\u5e03\uff0c\u8865\u5168\u4e86\u7c7b\u578b\u6ce8\u89e3\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9488\u5bf9\u5b83\u7684type ignore\u5c31\u4e0d\u518d\u5fc5\u8981\u3002\u53ca\u65f6\u6e05\u7406\u8fd9\u4e9b\u9648\u65e7\u7684\u8bbe\u7f6e\u662f\u4e00\u79cd\u826f\u597d\u4e60\u60ef\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#427-inline-comment","title":"4.2.7. inline comment","text":"<p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0\u6ce8\u91ca\u6765\u63a7\u5236mypy\u7684\u884c\u4e3a\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0<code># type: ignore</code>\u6765\u5ffd\u7565mypy\u7684\u68c0\u67e5\u3002\u5982\u679c\u8be5\u6ce8\u91ca\u6dfb\u52a0\u5728\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\uff0c\u90a3\u4e48\u5b83\u5c06\u4f1a\u5ffd\u7565\u6574\u4e2a\u6587\u4ef6\u7684\u68c0\u67e5\u3002\u5982\u679c\u6dfb\u52a0\u5728\u67d0\u4e00\u884c\u7684\u672b\u5c3e\uff0c\u90a3\u4e48\u5b83\u5c06\u4f1a\u5ffd\u7565\u8be5\u884c\u7684\u68c0\u67e5\u3002</p> <p>\u4e00\u822c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u6307\u5b9a\u5ffd\u7565\u67d0\u4e2a\u5177\u4f53\u7684\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u5ffd\u7565\u6574\u884c\u68c0\u67e5\u3002\u5176\u8bed\u6cd5\u662f <code># type: ignore[&lt;error-code&gt;]</code>\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#5-formatter","title":"5. Formatter\u5de5\u5177","text":"<p>Formatter\u5de5\u5177\u4e5f\u6709\u5f88\u591a\u79cd\uff0c\u4f46\u662f\u6211\u4eec\u51e0\u4e4e\u6ca1\u6709\u53bb\u8003\u67e5\u5176\u5b83\u7684formatter\uff0c\u5c31\u9009\u62e9\u4e86black\uff0c\u53ea\u56e0\u4e3a\u5b83\u7684logo:</p>  The Uncompromising Code Formatter <p>\u4e0e\u5176\u5b83Formatter\u5de5\u5177\u63d0\u4f9b\u4e86\u4f53\u8d34\u5165\u5fae\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e0d\u540c\uff0cBlack\u575a\u6301\u4e0d\u8ba9\u60a8\u505a\u4efb\u4f55\u81ea\u5b9a\u4e49\uff08\u51e0\u4e4e\uff09\u3002\u8fd9\u6837\u505a\u662f\u6709\u9053\u7406\u7684\uff0c\u5141\u8bb8\u5b9a\u5236\u53ea\u4f1a\u8ba9\u56e2\u961f\u9677\u5165\u5230\u65e0\u610f\u4e49\u5730\u4e89\u8fa9\u5f53\u4e2d\uff0c\u800c\u98ce\u683c\u5e76\u65e0\u5bf9\u9519\uff0c\u4e60\u60ef\u5c31\u597d\u3002\u6211\u4eec\u5e38\u5e38\u770b\u5230\u5728\u56e2\u961f\u91cc\uff0c\u4e00\u4e9b\u4eba\u4e3a\u4ee3\u7801\u98ce\u683c\u4e89\u8bba\uff0c\u5176\u5b9e\u4ed6\u4eec\u53cd\u5bf9\u7684\u5e76\u4e0d\u662f\u67d0\u79cd\u98ce\u683c\u672c\u8eab\uff0c\u4ed6\u4eec\u53ea\u662f\u5728\u53cd\u5bf9\u81ea\u5df1\u7684\u540c\u4e8b\u800c\u5df2\u3002</p> <p>\u5f53\u7136Black\u8fd8\u662f\u5f00\u4e86\u4e00\u4e2a\u5c0f\u7a97\u53e3\uff0c\u5141\u8bb8\u4f60\u5b9a\u4e49\u4ee3\u7801\u884c\u7684\u6362\u884c\u957f\u5ea6\uff0cBlack\u7684\u63a8\u8350\u662f88\u5b57\u7b26\u3002\u6709\u7684\u56e2\u961f\u4f1a\u628a\u8fd9\u4e2a\u66f4\u6539\u4e3a120\u5b57\u7b26\u5bbd\uff0c\u6309\u7167\u9634\u8c0b\u8bba\u7684\u89c2\u70b9\uff0c\u5e55\u540e\u7684\u63a8\u624b\u53ef\u80fd\u662f\u751f\u4ea7\u5e26\u9c7c\u5c4f\u7684\u8d44\u672c\u529b\u91cf\u3002</p> <p>\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u628ablack\u7684\u8bbe\u7f6e\u653e\u5728pyproject.toml\u4e2d\uff1a pyproject.toml<pre><code>[tool.black]\nline-length = 88\ninclude = '\\.pyi?$'\n</code></pre></p> <p>\u53e6\u5916\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u5de5\u5177\u662fisort\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5bf9\u4ee3\u7801\u4e2d\u7684import\u8bed\u53e5\u8fdb\u884c\u683c\u5f0f\u5316\uff0c\u5305\u62ec\u6392\u5e8f\uff0c\u5c06\u4e00\u884c\u91cc\u7684\u591a\u4e2a\u5bfc\u5165\u62c6\u5206\u6210\u6bcf\u884c\u4e00\u4e2a\u5bfc\u5165\uff1b\u59cb\u7ec8\u628a\u5bfc\u5165\u8bed\u53e5\u7f6e\u4e8e\u6b63\u5f0f\u4ee3\u7801\u4e4b\u524d\u7b49\u7b49\u3002\u901a\u8fc7 ppw\u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\uff0c\u8fd9\u4e2a\u5de5\u5177\u4e5f\u5f00\u7bb1\u5373\u7528\u7684\uff1a pyproject.toml<pre><code>[tool.isort]\nprofile = \"black\"\n</code></pre> \u8fd9\u91cc\u7684\u914d\u7f6e\u662f\u9632\u6b62isort\u4e0eblack\u76f8\u51b2\u7a81\u3002\u5b9e\u9645\u4e0aflake8\u3001black\u548cisort\u90fd\u7684\u914d\u7f6e\u9700\u8981\u7cbe\u5fc3\u540c\u6b65\u624d\u80fd\u907f\u514d\u51b2\u7a81\u3002\u4e00\u65f6\u53d1\u751f\u51b2\u7a81\uff0c\u5c31\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u88abA\u5de5\u5177\u6539\u8fc7\u7684\u4ee3\u7801\uff0c\u53c8\u88abB\u5de5\u5177\u6539\u56de\u53bb\uff0c\u59cb\u7ec8\u65e0\u6cd5\u6536\u655b\u3002</p> <p>\u6bd4\u8f83\u9057\u61be\u7684\u662f\uff0c\u5728vscode\u4e0b\u6ca1\u6709\u4e00\u4e2a\u597d\u7684\u5de5\u5177\u53ef\u4ee5\u81ea\u52a8\u79fb\u9664\u6ca1\u6709\u4f7f\u7528\u7684\u5bfc\u5165\u3002Pycharm\u662f\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u7684\u3002\u5f00\u6e90\u7684\u5de5\u5177\u4e2d\u6709\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u7684\uff0c\u4f46\u662f\u56e0\u4e3a\u5bb9\u6613\u51fa\u9519\uff0c\u8fd9\u91cc\u4e5f\u5c31\u4e0d\u63a8\u8350\u4e86\u3002</p> <p>\u5728vscode\u4e2d\uff0cLint\u5de5\u5177\u53ef\u4ee5\u68c0\u67e5\u51fa\u672a\u4f7f\u7528\u7684\u5bfc\u5165\uff0c\u7136\u540e\u60a8\u9700\u8981\u624b\u52a8\u79fb\u9664\u3002\u79fb\u9664\u672a\u4f7f\u7528\u7684<code>import</code>\u662f\u5fc5\u8981\u7684\uff0c\u5b83\u53ef\u4ee5\u9002\u5f53\u52a0\u5feb\u7a0b\u5e8f\u542f\u52a8\u901f\u5ea6\uff0c\u964d\u4f4e\u5185\u5b58\u5360\u7528\uff0c\u5e76\u4e14\u907f\u514d\u5bfc\u5165\u5e26\u6765\u7684\u526f\u4f5c\u7528\u3002</p> <p>Tips</p> <p>\u5bfc\u5165\u4e0d\u719f\u6089\u7684\u7b2c\u4e09\u65b9\u5e93\u53ef\u80fd\u662f\u5371\u9669\u7684\uff01\u4e00\u4e9b\u5e93\u4f1a\u5728\u5168\u5c40\u4f5c\u7528\u57df\u52a0\u5165\u4e00\u4e9b\u53ef\u6267\u884c\u4ee3\u7801\uff0c\u56e0\u6b64\u5f53\u4f60\u5bfc\u5165\u8fd9\u4e9b\u5e93\u65f6\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5c31\u4f1a\u88ab\u6267\u884c\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#6-pre-commit-hooks","title":"6. pre-commit hooks","text":"<p>\u6211\u4eec\u628apre-commit hooks\u653e\u5728\u8fd9\u4e00\u7ae0\u91cc\u4ecb\u7ecd\uff0c\u662f\u56e0\u4e3a\u9ad8\u6548\u7684\u7f16\u7801\u4e5f\u5fc5\u987b\u662f\u6b63\u786e\u7684\u7f16\u7801\u3002\u6709\u65f6\u5019\u6211\u4eec\u4f1a\u89c9\u5f97\u56fd\u5185\u7684\u516c\u53f8\u4e0d\u9700\u8981\u8ba1\u5212\u548c\u6587\u6863\uff0c\u9700\u6c42\u3001\u8bbe\u8ba1\u548c\u7f16\u7801\u5404\u65b9\u4e4b\u95f4\u4e0d\u9700\u8981\u53cd\u590d\u534f\u5546\u548c\u6c9f\u901a\uff0c\u4e00\u4e2a\u6307\u4ee4\u4e0b\u6765\uff0c\u5c31\u5f88\u5feb\u5f97\u5230\u6267\u884c\u3002\u8fd9\u88ab\u8ba4\u4e3a\u662f\u6267\u884c\u529b\u5f3a\uff0c\u662f\u4e00\u5927\u4f53\u5236\u4f18\u52bf\uff0c\u4f46\u8fd9\u4e9b\u201c\u6267\u884c\u529b\u201d\u5f3a\u7684\u516c\u53f8\uff0c\u5374\u53c8\u7d2f\u5f97\u8981\u6b7b\u3002\u65b9\u5411\u4e0d\u6b63\u786e\uff0c\u7d2f\u6b7b\u53c8\u6709\u4f55\u76ca\uff1f</p> <p>pre-commit\u662f\u4e00\u4e2apython\u5305\uff0c\u53ef\u4ee5\u901a\u8fc7pip\u5b89\u88c5\uff1a <pre><code>$ pip install pre-commit\n</code></pre> pre-commit\u5b89\u88c5\u540e\uff0c\u4f1a\u5728\u4f60\u7684\u9879\u76ee\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a.git/hooks\u76ee\u5f55\uff0c\u91cc\u9762\u6709\u4e00\u4e2apre-commit\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u662f\u4e00\u4e2ashell\u811a\u672c\uff0c\u5b83\u4f1a\u5728\u4f60\u6267\u884cgit commit\u547d\u4ee4\u65f6\u88ab\u8c03\u7528\u3002pre-commit hooks\u7684\u4f5c\u7528\u662f\u5728\u4f60\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\uff0c\u5bf9\u4ee3\u7801\u8fdb\u884c\u68c0\u67e5\uff0c\u5982\u679c\u6709\u9519\u8bef\uff0c\u5c31\u4f1a\u963b\u6b62\u4f60\u63d0\u4ea4\u4ee3\u7801\uff0c\u4ece\u800c\u4fdd\u8bc1\u4ee3\u7801\u5e93\u4e0d\u88ab\u8fd9\u4e9b\u9519\u8bef\u7684\u3001\u4e0d\u5408\u89c4\u8303\u7684\u4ee3\u7801\u6c61\u67d3\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u5411\u5bfc\u751f\u6210\u9879\u76ee\u7684\u8bdd\uff0c\u5411\u5bfc\u5df2\u7ecf\u4e3a\u60a8\u5b89\u88c5\u4e86pre-commit hooks,\u5f53\u60a8\u8fd0\u884c<code>git commit</code>\u547d\u4ee4\u65f6\uff0c\u5c31\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u8f93\u51fa\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0cpre-commit hooks\u5bf9\u6362\u884c\u7b26\u8fdb\u884c\u4e86\u68c0\u67e5\u548c\u4fee\u590d\uff0c\u8c03\u7528black\u8fdb\u884c\u4e86\u683c\u5f0f\u5316\uff0c\u4ee5\u53ca\u8c03\u7528flake8\u8fdb\u884c\u4e86\u67e5\u9519\uff0c\u5e76\u62a5\u544a\u5bf9f-string\u7684\u9519\u8bef\u4f7f\u7528\u3002</p> <p>\u5f53\u51fa\u73b0\u9519\u8bef\u65f6\uff0c\u60a8\u5fc5\u987b\u8fdb\u884c\u4fee\u590d\u540e\uff0c\u624d\u80fd\u8fdb\u884c\u518d\u6b21\u63d0\u4ea4\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#61-pre-commit-hooks","title":"6.1. pre-commit hooks\u7684\u914d\u7f6e","text":"<p>\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86\u8fd9\u4e9b\u914d\u7f6e\uff1a <pre><code>repos:\n-   repo: https://github.com/Lucas-C/pre-commit-hooks\n    rev: v1.1.13\n    hooks:\n    -   id: forbid-crlf\n    -   id: remove-crlf\n    -   id: forbid-tabs\n        exclude_types: [csv]\n    -   id: remove-tabs\n        exclude_types: [csv]\n-   repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v4.1.0\n    hooks:\n    - id: trailing-whitespace\n    - id: check-merge-conflict\n    - id: check-yaml\n      args: [--unsafe]\n    - id: end-of-file-fixer\n-   repo: https://github.com/pre-commit/mirrors-isort\n    rev: v5.10.1\n    hooks:\n    - id: isort\n-   repo: https://github.com/ambv/black\n    rev: 22.3.0\n    hooks:\n    - id: black\n      language_version: python3.8\n-   repo: https://gitlab.com/pycqa/flake8\n    rev: 3.9.2\n    hooks:\n    -  id: flake8\n       additional_dependencies: [flake8-typing-imports==1.10.0]\n       exclude: ^tests\n-   repo: local\n    hooks:\n    -   id: mypy\n        name: mypy\n        entry: mypy\n        exclude: ^tests\n        language: python\n        types: [python]\n        require_serial: true\n        verbose: true\n</code></pre> \u7b2c\u4e00\u7ec4\u662fpre-commit\u63d0\u4f9b\u7684\u5f00\u7bb1\u5373\u7528\u7684\u94a9\u5b50\u3002\u9996\u5148\uff0c\u5b83\u7981\u6b62\u4f7f\u7528windows\u7684\u6362\u884c\u7b26\uff0c\u5e76\u4e14\u5c06windows\u7684\u6362\u884c\u7b26\u90fd\u66ff\u6362\u4e3aunix/linux\u4e0b\u7684\u6362\u884c\u7b26\u3002\u8fd9\u4e48\u505a\u7684\u539f\u56e0\u662f\uff0c\u5982\u679c\u6587\u4ef6\u4f7f\u7528unix/linux\u4e0b\u7684\u6362\u884c\u7b26\uff0c\u8fd9\u4e9b\u6587\u4ef6\u57fa\u672c\u4e0a\u90fd\u80fd\u88abwindows\u4e0b\u7684\u7f16\u8f91\u8f6f\u4ef6\u6b63\u786e\u5904\u7406\uff1b\u53cd\u4e4b\u5219\u4e0d\u7136\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2abash\u6216\u8005perl\u811a\u672c\uff0c\u4f46\u4f7f\u7528\u4e86windows\u6362\u884c\u7b26\uff0c\u90a3\u4e48\uff0c\u5b83\u5c06\u4e0d\u80fd\u5728unix/linux\u4e0b\u8fd0\u884c\u3002</p> <p>\u5176\u6b21\uff0c\u5b83\u7981\u6b62\u5728\u6587\u4ef6\u4e2d\u4f7f\u7528tab\u952e\uff0c\u5e76\u4e14\u5c06tab\u952e\u66ff\u6362\u4e3a\u7a7a\u683c\u3002\u4ece\u8bed\u6cd5\u4e0a\u770b\uff0c\u53ea\u8981\u4e0d\u6df7\u5408\u4f7f\u7528tab\u952e\u548c\u7a7a\u683c\u952e\uff0c\u8fd9\u4e24\u79cd\u65b9\u5f0f\u90fd\u662f\u53ef\u4ee5\u7684\u3002\u4f46\u662f\uff0c\u4e0d\u540c\u7684\u7f16\u8f91\u5668\uff08\u7279\u522b\u662funix/linux\u4e0b\uff09\u5728\u5bf9\u6587\u4ef6\u8fdb\u884c\u89c6\u89c9\u5448\u73b0\u65f6\uff0c\u4f1a\u5c06tab\u952e\u5c55\u5f00\u6210\u4e0d\u540c\u7684\u5bbd\u5ea6\uff0c\u8fd9\u4f7f\u5f97\u540c\u4e00\u4efd\u6587\u4ef6\uff0c\u5728\u4e0d\u540c\u7684\u7f16\u8f91\u5668\u91cc\uff0c\u770b\u4e0a\u53bb\u5e76\u4e0d\u4e00\u81f4\uff0c\u800c\u5982\u679c\u4f7f\u7528space\uff0c\u5219\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\u3002\u6b64\u5916\uff0c\u53ea\u4f7f\u7528\u7a7a\u683c\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u597d\u5904\uff0c\u5c31\u662f\u8d5a\u94b1\u66f4\u591a\uff1a\u6839\u636estackoverflow\u5bf92.8\u4e07\u540d\u4e13\u4e1a\u5f00\u53d1\u8005\uff08\u6392\u9664\u4e86\u5b66\u751f\uff09\u7684\u8c03\u67e5\uff0c\u4f7f\u7528\u7a7a\u683c\u7684\u5f00\u53d1\u8005\u7684\u85aa\u8d44\u603b\u4f53\u4e0a\u8981\u6bd4\u4f7f\u7528Tab\u952e\u7684\u5f00\u53d1\u90fd\u9ad88.6%\u3002\u8fd9\u9879\u62a5\u544a\u53d1\u8868\u5728stackoverflow\u76842017\u5e746\u67085\u65e5\u7684\u535a\u5ba2\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5e76\u975e\u6240\u6709\u7684\u6587\u4ef6\u4e2d\u7684tab\u952e\u88ab\u9700\u8981\u88ab\u66ff\u6362\u3002\u5178\u578b\u7684\u4f8b\u5b50\u662f\u5728csv\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u4f7f\u7528Tab\u952e\u4f5c\u4e3a\u5b57\u6bb5\u4e4b\u95f4\u7684\u5206\u9694\u7b26\uff0c\u56e0\u6b64\u5b83\u4eec\u5fc5\u987b\u88ab\u4fdd\u7559\u3002\u56e0\u6b64\u5728\u4e0a\u8ff0\u914d\u7f6e\u4e2d\uff0c\u6211\u4eec\u5c06csv\u6587\u4ef6\u6392\u9664\u5728\u5916\u3002</p> <p>\u7b2c\u4e8c\u7ec4\u4ecd\u7136\u662fpre-commit\u63d0\u4f9b\u7684\u5f00\u7bb1\u5373\u7528\u7684\u94a9\u5b50\u3002\u5b83\u9996\u5148\u79fb\u9664\u4e86\u884c\u5c3e\u7684\u591a\u4f59\u7684\u7a7a\u683c\u3002\u5173\u4e8e\u4e3a\u4ec0\u4e48\u8981\u79fb\u9664\u884c\u5c3e\u591a\u4f59\u7684\u7a7a\u683c\uff0c\u5728PEP8\u4e2d\u6709\u7b80\u8981\u5730\u8bf4\u660e\u3002\u7136\u540e\u5b83\u68c0\u67e5\u662f\u5426\u5b58\u5728\u672a\u5b8c\u6210\u5408\u5e76\u7684\u4ee3\u7801\u6587\u4ef6\uff0c\u68c0\u67e5yaml\u6587\u4ef6\u662f\u5426\u5408\u4e4e\u89c4\u8303\u3002</p> <p>\u6ce8\u610f\u5230\u8fd9\u91cc\u6709\u4e00\u4e2aend-of-file-fixer\u94a9\u5b50\uff0c\u8fd9\u4e2a\u94a9\u5b50\u7684\u4f5c\u7528\u662f\uff0c\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u4ec5\u542b\u6362\u884c\u7b26\u7684\u7a7a\u884c\u3002\u76f8\u4fe1\u5f88\u5c11\u6709\u4eba\u771f\u6b63\u7406\u89e3\u5b83\u7684\u542b\u4e49\u3002\u5b9e\u9645\u4e0a\uff0c\u76f8\u5173\u7684\u95ee\u9898\u5728quora\u548cstackoverflow\u4e0a\u6709\u5f88\u591a\u63d0\u95ee\uff0c\u7b54\u6848\u4e5f\u83ab\u8877\u4e00\u662f\u3002</p> <p>\u5176\u4e2d\u4e00\u4e2a\u8bf4\u6cd5\u662f\uff0cPOSIX\u6807\u51c6\u4e2d\uff0c\u5bf9\u4e00\u884c\u6587\u672c\u7684\u5b9a\u4e49\u5c31\u662f\u96f6\u4e2a\u6216\u591a\u4e2a\u975e\u6362\u884c\u7b26\u52a0\u4e0a\u7ec8\u6b62\u6362\u884c\u7b26\u7684\u5e8f\u5217\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4e00\u884c\u6587\u672c\u4e0d\u4ee5\u6362\u884c\u7b26\u7ed3\u5c3e\uff0c\u5b83\u5c31\u53ef\u80fd\u88ab\u5404\u79cd\u5de5\u5177\u5f53\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u7ed9\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u884c\u3002</p> <p>\u4f5c\u8005\u66f4\u503e\u5411\u4e8e\u8fd9\u79cd\u89c2\u70b9\uff1a\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u7167\u987e\u4f7f\u7528Unix\u548cLinux\u7684\u4eba\u3002\u5982\u679c\u4f60\u7528vi\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u60f3\u5728\u540e\u9762\u6dfb\u52a0\u4e00\u4e9b\u65b0\u7684\u5185\u5bb9\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u4ee5\u4e00\u4e2a\u7a7a\u884c\u7ed3\u5c3e\uff0c\u90a3\u4e48Ctrl+G\u5c31\u53ef\u4ee5\u76f4\u63a5\u8df3\u8f6c\u5230\u6587\u4ef6\u7ed3\u5c3e\uff0c\u7acb\u5373\u5f00\u59cb\u5de5\u4f5c\u3002\u53cd\u4e4b\uff0cCtrl+G\u53ea\u80fd\u8df3\u5230\u6700\u540e\u4e00\u884c\u7684\u5f00\u5934\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u539f\u56e0\u662f\uff0c\u5982\u679c\u4f60\u60f3\u4f7f\u7528cat\u62fc\u63a5\u51e0\u4e2a\u6587\u4ef6\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u90fd\u4e0d\u662f\u4ee5\u7a7a\u884c\uff08\u5e26\u6362\u884c\u7b26\uff09\u7ed3\u5c3e\uff0c\u90a3\u4e48\u524d\u4e00\u4e2a\u6587\u4ef6\u7684\u6700\u540e\u4e00\u884c\u5c06\u4f1a\u4e0e\u540e\u4e00\u4e2a\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u6df7\u5408\u5728\u4e00\u8d77\uff0c\u800c\u4e0d\u662f\u50cf\u671f\u5f85\u7684\u90a3\u6837\uff0c\u5404\u5360\u4e00\u884c\u3002</p> <p>\u5728\u6587\u4ef6\u5c3e\u52a0\u4e0a\u4e00\u4e2a\u7a7a\u884c\u5e76\u4e0d\u662f\u4ec0\u4e48\u91cd\u8981\u7684\u529f\u80fd\uff0c\u53ea\u662funix/linux\u751f\u6001\u5708\u91cc\u51e0\u4e4e\u6240\u6709\u7684\u5de5\u5177\u90fd\u662f\u8fd9\u4e48\u8fd0\u4f5c\u7684\u3002\u6211\u4eec\u5c0a\u91cd\u8fd9\u4e2a\u4e60\u60ef\u5c31\u597d\u3002</p> <p>\u63a5\u4e0b\u6765\u90fd\u662f\u5728pre-commit\u4e2d\u8c03\u7528\u7b2c\u4e09\u65b9\u5de5\u5177\u5b9e\u73b0\u76f8\u5173\u529f\u80fd\u7684\u914d\u7f6e\u3002\u6211\u4eec\u914d\u7f6e\u4e86isort\uff0cblack\uff0c flake8\u548cmypy\u3002</p> <p>mypy\u7684\u914d\u7f6e\u6709\u70b9\u4e0e\u4f17\u4e0d\u540c\u3002\u5b83\u6ca1\u6709\u4f7f\u7528\u8fdc\u7a0b\u7684repo\uff0c\u800c\u662f\u4f7f\u7528\u4e86local\u3002mypy\u5b98\u65b9\u5e76\u6ca1\u6709\u63d0\u4f9b\u4e0epre-commit\u7684\u96c6\u6210\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u4e86\u76f4\u63a5\u5728pre-commit\u4e2d\u8c03\u7528\u672c\u5730mypy\u547d\u4ee4\u7684\u65b9\u6cd5\u3002</p> <p>\u8fd9\u4e00\u7ae0\u7684\u4e3b\u9898\u662f\u9ad8\u6548\u7f16\u7801\u3002\u6211\u4eec\u5148\u662f\u4ecb\u7ecd\u4e86\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u5de5\u5177\uff0c\u7136\u540e\u8bb2\u8ff0\u4e86\u5982\u4f55\u5229\u7528\u8bed\u6cd5\u68c0\u67e5\u5de5\u5177\u5c3d\u65e9\u53d1\u73b0\u5e76\u4fee\u590d\u9519\u8bef\uff0c\u907f\u514d\u628a\u8fd9\u4e9b\u9519\u8bef\u5e26\u5165\u5230\u6d4b\u8bd5\u751a\u81f3\u751f\u4ea7\u73af\u5883\u4e2d\u3002\u5728\u6211\u4eec\u4ecb\u7ecd\u7684\u65b9\u6848\u4e2d\uff0c\u8bed\u6cd5\u68c0\u67e5\u662f\u968f\u7740\u60a8\u7684coding\u5b9e\u65f6\u5c55\u5f00\u7684\uff0c\u5e76\u5728\u5411\u4ee3\u7801\u5e93\u63d0\u4ea4\u65f6\uff0c\u5f3a\u5236\u6267\u884c\u4e00\u6b21\u68c0\u67e5\u3002\u540e\u9762\u60a8\u8fd8\u4f1a\u770b\u5230\uff0c\u5728\u8fd0\u884c\u6d4b\u8bd5\u65f6\uff0c\u8fd8\u4f1a\u518d\u505a\u4e00\u6b21\u68c0\u67e5\uff0c\u901a\u8fc7\u8fd9\u6837\u5206\u5c42\u5f0f\u7684\u8bbe\u9632\u4e0e\u68c0\u67e5\uff0c\u5e2e\u52a9\u60a8\u7684\u9879\u76ee\u907f\u514d\u51fa\u73b0\u91cd\u5927\u9519\u8bef\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/","title":"07 \u4ee3\u7801\u5355\u5143\u6d4b\u8bd5","text":"<p>\u5355\u5143\u6d4b\u8bd5\u7684\u6982\u5ff5\u53ef\u80fd\u591a\u6570\u8bfb\u8005\u90fd\u6709\u63a5\u89e6\u8fc7\u3002\u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u6846\u67b6\u53d1\u73b0\u8fd9\u4e9b\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5c06\u5b83\u4eec\u7ec4\u88c5\u6210\u6d4b\u8bd5 suite \u5e76\u8fd0\u884c\uff0c\u6536\u96c6\u6d4b\u8bd5\u62a5\u544a\uff0c\u5e76\u4e14\u63d0\u4f9b\u6d4b\u8bd5\u57fa\u7840\u8bbe\u65bd\uff08\u65ad\u8a00\u3001mock\u3001setup \u548c teardown \u7b49\uff09\u3002Python \u5f53\u4e2d\u6700\u4e3b\u6d41\u7684\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\u6709\u4e09\u79cd\uff0cPytest, nose \u548c Unittest\uff0c\u5176\u4e2d Unittest \u662f\u6807\u51c6\u5e93\uff0c\u5176\u5b83\u4e24\u79cd\u662f\u7b2c\u4e09\u65b9\u5de5\u5177\u3002\u5728 ppw \u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5c31\u4f7f\u7528\u4e86 Pytest \u6765\u9a71\u52a8\u6d4b\u8bd5\u3002</p> <p>\u8fd9\u91cc\u4e3b\u8981\u6bd4\u8f83\u4e00\u4e0b pytest \u548c unittest\u3002\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f53\u6211\u4eec\u9009\u62e9\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\u65f6\uff0c\u9009\u62e9\u4e8c\u8005\u4e4b\u4e00\u5c31\u597d\u4e86\u3002unitttest \u57fa\u4e8e\u7c7b\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\uff0c\u800c pytest \u5219\u662f\u51fd\u6570\u5f0f\u7684\uff0c\u57fa\u4e8e\u6a21\u5757\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\uff0c\u540c\u65f6\u5b83\u4e5f\u63d0\u4f9b\u4e86 group \u6982\u5ff5\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\u3002pytest \u7684 mock \u662f\u57fa\u4e8e\u7b2c\u4e09\u65b9\u7684 pytest-mock\uff0c\u800c pytest-mock \u5b9e\u9645\u4e0a\u53ea\u662f\u5bf9\u6807\u51c6\u5e93\u4e2d\u7684 mock \u7684\u7b80\u5355\u5c01\u88c5\u3002\u5355\u5143\u6d4b\u8bd5\u90fd\u4f1a\u6709 setup \u548c teardown \u7684\u6982\u5ff5\uff0cunittest \u76f4\u63a5\u4f7f\u7528\u4e86 setUp \u548c tearDown \u4f5c\u4e3a\u6d4b\u8bd5\u5165\u53e3\u548c\u7ed3\u675f\u7684 API\uff0c\u5728 pytest \u4e2d\uff0c\u5219\u662f\u901a\u8fc7 fixture \u6765\u5b9e\u73b0\uff0c\u8fd9\u65b9\u9762\u5b66\u4e60\u66f2\u7ebf\u53ef\u80fd\u7a0d\u5fae\u9661\u5ced\u4e00\u70b9\u3002\u5728\u65ad\u8a00\u65b9\u9762\uff0cpytest \u4f7f\u7528 python \u7684\u5173\u952e\u5b57 assert \u8fdb\u884c\u65ad\u8a00\uff0c\u6bd4 unittest \u66f4\u4e3a\u7b80\u6d01\uff0c\u4e0d\u8fc7\u65ad\u8a00\u7c7b\u578b\u4e0a\u6ca1\u6709 unittest \u4e30\u5bcc\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u533a\u522b\u662f\uff0cunittest \u4ece python 3.8 \u8d77\u5c31\u5185\u5728\u5730\u652f\u6301 asyncio\uff0c\u800c\u5728 pytest \u4e2d\uff0c\u5219\u9700\u8981\u63d2\u4ef6 pytest-asyncio \u6765\u652f\u6301\u3002\u4f46\u4e24\u8005\u5728\u6d4b\u8bd5\u7684\u517c\u5bb9\u6027\u4e0a\u5e76\u6ca1\u6709\u5927\u7684\u4e0d\u540c\u3002</p> <p>pytest \u7684\u4e3b\u8981\u4f18\u52bf\u662f\u6709\uff1a</p> <ol> <li>pytest \u7684\u6d4b\u8bd5\u7528\u4f8b\u66f4\u7b80\u6d01\u3002\u7531\u4e8e\u6d4b\u8bd5\u7528\u4f8b\u5e76\u4e0d\u662f\u6b63\u5f0f\u4ee3\u7801\uff0c\u5f00\u53d1\u8005\u5f53\u7136\u5e0c\u671b\u5c11\u82b1\u65f6\u95f4\u5728\u8fd9\u4e9b\u4ee3\u7801\u4e0a\uff0c\u56e0\u6b64\u4ee3\u7801\u7684\u7b80\u6d01\u7a0b\u5ea6\u5f88\u91cd\u8981\u3002</li> <li>\u63d0\u4f9b\u4e86\u547d\u4ee4\u884c\u5de5\u5177\u3002\u5982\u679c\u6211\u4eec\u4ec5\u4f7f\u7528 unittest\uff0c\u5219\u6267\u884c\u5355\u5143\u6d4b\u8bd5\u5fc5\u987b\u8981\u4f7f\u7528<code>python -m unittest</code>\u6765\u6267\u884c\uff1b\u800c\u901a\u8fc7 pytest \u6765\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8c03\u7528<code>pytest .</code>\u5373\u53ef\u3002</li> <li>pytest \u63d0\u4f9b\u4e86 marker\uff0c\u53ef\u4ee5\u66f4\u65b9\u4fbf\u5730\u51b3\u5b9a\u54ea\u4e9b\u7528\u4f8b\u6267\u884c\u6216\u8005\u4e0d\u6267\u884c\u3002</li> <li>pytest \u63d0\u4f9b\u4e86\u53c2\u6570\u5316\u6d4b\u8bd5\u3002</li> </ol> <p>\u8fd9\u91cc\u6211\u4eec\u7b80\u8981\u5730\u4e3e\u4f8b\u8bf4\u660e\u4e00\u4e0b\u4ec0\u4e48\u662f\u53c2\u6570\u5316\u6d4b\u8bd5\uff0c\u4ee5\u4fbf\u8bfb\u8005\u7406\u89e3\u4e3a\u4ec0\u4e48\u53c2\u6570\u5316\u6d4b\u8bd5\u662f\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u4f18\u70b9\u3002 <pre><code># \u793a\u4f8b 7 - 1\nimport pytest\nfrom datetime import datetime\nfrom src.example import get_time_of_day\n\n@pytest.mark.parametrize(\n    \"datetime_obj, expect\",\n    [\n        (datetime(2016, 5, 20, 0, 0, 0), \"Night\"),\n        (datetime(2016, 5, 20, 1, 10, 0), \"Night\"),\n        (datetime(2016, 5, 20, 6, 10, 0), \"Morning\"),\n        (datetime(2016, 5, 20, 12, 0, 0), \"Afternoon\"),\n        (datetime(2016, 5, 20, 14, 10, 0), \"Afternoon\"),\n        (datetime(2016, 5, 20, 18, 0, 0), \"Evening\"),\n        (datetime(2016, 5, 20, 19, 10, 0), \"Evening\"),\n    ],\n)\ndef test_get_time_of_day(datetime_obj, expect, mocker):\n    mock_now = mocker.patch(\"src.example.datetime\")\n    mock_now.now.return_value = datetime_obj\n\n    assert get_time_of_day() == expect\u200b\n</code></pre> \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u7528\u4e0d\u540c\u7684\u65f6\u95f4\u53c2\u6570\uff0c\u6765\u6d4b\u8bd5 get_time_of_day \u8fd9\u4e2a\u65b9\u6cd5\u3002\u5982\u679c\u4f7f\u7528 unittest\uff0c\u6211\u4eec\u9700\u8981\u5199\u4e00\u4e2a\u5faa\u73af\uff0c\u4f9d\u6b21\u8c03\u7528 get_time_of_day()\uff0c\u7136\u540e\u5bf9\u6bd4\u7ed3\u679c\u3002\u800c\u5728 pytest \u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4f7f\u7528 parametrize \u8fd9\u4e2a\u6ce8\u89e3\uff0c\u5c31\u53ef\u4ee5\u4f20\u5165\u53c2\u6570\u6570\u7ec4\uff08\u5305\u62ec\u671f\u671b\u7684\u7ed3\u679c\uff09\uff0c\u8fdb\u884c\u591a\u6b21\u6d4b\u8bd5\uff0c\u4e0d\u4ec5\u4ee3\u7801\u91cf\u8981\u5c11\u4e0d\u5c11\uff0c\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8fd9\u79cd\u5199\u6cd5\u66f4\u52a0\u6e05\u6670\u3002</p> <p>\u57fa\u4e8e\u4ee5\u4e0a\u539f\u56e0\uff0c\u5728\u540e\u9762\u7684\u5185\u5bb9\u4e2d\uff0c\u6211\u4eec\u5c06\u4ee5 pytest \u4e3a\u4f8b\u8fdb\u884c\u4ecb\u7ecd\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#1","title":"1. \u6d4b\u8bd5\u4ee3\u7801\u7684\u7ec4\u7ec7","text":"<p>\u6211\u4eec\u4e00\u822c\u5c06\u6240\u6709\u7684\u6d4b\u8bd5\u4ee3\u7801\u90fd\u5f52\u7c7b\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684 tests \u6587\u4ef6\u5939\u4e2d\u3002\u6bcf\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u7684\u540d\u5b57\uff0c\u8981\u4e48\u4f7f\u7528 test_.py\uff0c\u8981\u4e48\u4f7f\u7528_test.py\u3002\u8fd9\u662f\u6d4b\u8bd5\u6846\u67b6\u7684\u8981\u6c42\u3002\u5982\u6b64\u4ee5\u6765\uff0c\u5f53\u6211\u4eec\u6267\u884c\u547d\u4ee4\u5982<code>pytest tests</code>\u65f6\uff0c\u6d4b\u8bd5\u6846\u67b6\u5c31\u80fd\u4ece\u8fd9\u4e9b\u6587\u4ef6\u4e2d\u53d1\u73b0\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5e76\u7ec4\u5408\u6210\u4e00\u4e2a\u4e2a\u5f85\u6267\u884c\u7684 suite\u3002</p> <p>\u5728 test_*.py \u4e2d\uff0c\u51fd\u6570\u540d\u4e00\u6837\u8981\u9075\u5faa\u4e00\u5b9a\u7684\u6a21\u5f0f\uff0c\u6bd4\u5982\u4f7f\u7528 test_xxx\u3002\u4e0d\u9075\u5faa\u89c4\u5219\u7684\u6d4b\u8bd5\u51fd\u6570\uff0c\u4e0d\u4f1a\u88ab\u6267\u884c\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u6d4b\u8bd5\u6587\u4ef6\u5e94\u8be5\u4e0e\u529f\u80fd\u6a21\u5757\u6587\u4ef6\u4e00\u4e00\u5bf9\u5e94\u3002\u5982\u679c\u88ab\u6d4b\u4ee3\u7801\u6709\u591a\u91cd\u6587\u4ef6\u5939\uff0c\u5bf9\u5e94\u7684\u6d4b\u8bd5\u4ee3\u7801\u4e5f\u5e94\u8be5\u6309\u540c\u6837\u7684\u76ee\u5f55\u6765\u7ec4\u7ec7\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u5c06\u5546\u4e1a\u903b\u8f91\u4e0e\u5176\u6d4b\u8bd5\u4ee3\u7801\u5bf9\u5e94\u8d77\u6765\uff0c\u65b9\u4fbf\u6211\u4eec\u6dfb\u52a0\u65b0\u7684\u6d4b\u8bd5\u7528\u4f8b\u548c\u5bf9\u6d4b\u8bd5\u7528\u4f8b\u8fdb\u884c\u91cd\u6784\u3002</p> <p>\u6bd4\u5982\u5728 ppw \u751f\u6210\u7684\u793a\u4f8b\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u6709\uff1a <pre><code>sample\n\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 test_app.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test_cli.py\n</code></pre> \u6ce8\u610f\u8fd9\u91cc\u9762\u7684__init__.py \u6587\u4ef6\uff0c\u5982\u679c\u7f3a\u5c11\u8fd9\u4e2a\u6587\u4ef6\u7684\u8bdd\uff0ctests \u5c31\u4e0d\u4f1a\u6210\u4e3a\u4e00\u4e2a\u5408\u6cd5\u7684\u5305\uff0c\u4ece\u800c\u5bfc\u81f4 pytest \u65e0\u6cd5\u6b63\u786e\u5bfc\u5165\u6d4b\u8bd5\u7528\u4f8b\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#2-pytest","title":"2. PYTEST","text":"<p>\u4f7f\u7528 pytest \u5199\u6d4b\u8bd5\u7528\u4f8b\u5f88\u7b80\u5355\u3002\u5047\u8bbe sample\\app.py \u5982\u4e0b\u6240\u793a\uff1a <pre><code># \u793a\u4f8b 7 - 2\ndef inc(x:int)-&gt;int:\n    return x + 1\n</code></pre> \u5219\u6211\u4eec\u7684 test_app.py \u53ea\u9700\u8981\u6709\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef\u5b8c\u6210\u6d4b\u8bd5\uff1a <pre><code># \u793a\u4f8b 7 - 3\nimport pytest\nfrom sample.app import inc\n\ndef test_inc():\n    assert inc(3) == 4\n</code></pre> \u8fd9\u6bd4 unittest \u4e0b\u7684\u4ee3\u7801\u8981\u7b80\u6d01\u5f88\u591a\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#21","title":"2.1. \u6d4b\u8bd5\u7528\u4f8b\u7684\u7ec4\u88c5","text":"<p>\u5728 pytest \u4e2d\uff0cpytest \u4f1a\u6309\u4f20\u5165\u7684\u6587\u4ef6\uff08\u6216\u8005\u6587\u4ef6\u5939\uff09\uff0c\u641c\u7d22\u5176\u4e2d\u7684\u6d4b\u8bd5\u7528\u4f8b\u5e76\u7ec4\u88c5\u6210\u6d4b\u8bd5\u96c6\u5408 (suite)\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5b83\u8fd8\u80fd\u901a\u8fc7 pytest.mark \u6765\u6807\u8bb0\u54ea\u4e9b\u6d4b\u8bd5\u7528\u4f8b\u662f\u9700\u8981\u6267\u884c\u7684\uff0c\u54ea\u4e9b\u6d4b\u8bd5\u7528\u4f8b\u662f\u9700\u8981\u8df3\u8fc7\u7684\u3002</p> <pre><code># \u793a\u4f8b 7 - 4\nimport pytest\n\n@pytest.mark.webtest\ndef test_send_http():\n    pass  # perform some webtest test for your app\n\ndef test_something_quick():\n    pass\n\ndef test_another():\n    pass\n\nclass TestClass:\n    def test_method(self):\n        pass\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u9009\u62e9\u53ea\u6267\u884c\u6807\u8bb0\u4e3a webtest \u7684\u6d4b\u8bd5\u7528\u4f8b\uff1a <pre><code>$ pytest -v -m webtest\n\n=========================== test session starts ============================\nplatform linux -- Python 3.x.y, pytest-7.x.y, pluggy-1.x.y -- $PYTHON_PREFIX/bin/python\ncachedir: .pytest_cache\nrootdir: /home/sweet/project\ncollecting ... collected 4 items / 3 deselected / 1 selected\n\ntest_server.py::test_send_http PASSED                                [100%]\n\n===================== 1 passed, 3 deselected in 0.12s ======================\n</code></pre> \u4ece\u8f93\u51fa\u53ef\u4ee5\u770b\u51fa\uff0c\u53ea\u6709 test_send_http \u88ab\u6267\u884c\u4e86\u3002</p> <p>\u8fd9\u91cc\u7684 webtest \u662f\u81ea\u5b9a\u4e49\u7684\u6807\u8bb0\u3002pytest \u8fd8\u5185\u7f6e\u4e86\u8fd9\u4e9b\u6807\u8bb0\uff0c\u6709\u7684\u4e5f\u53ef\u4ee5\u7528\u6765\u7b5b\u9009\u7528\u4f8b\uff1a 1. pytest.mark.filterwarnings\uff0c \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0 filterwarnings \u6807\u8bb0\uff0c\u53ef\u4ee5\u5ffd\u7565\u8b66\u544a\u4fe1\u606f\u3002 2. pytest.mark.skip\uff0c\u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0 skip \u6807\u8bb0\uff0c\u53ef\u4ee5\u8df3\u8fc7\u6d4b\u8bd5\u7528\u4f8b\u3002 3. pytest.mark.skipif, \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0 skipif \u6807\u8bb0\uff0c\u53ef\u4ee5\u6839\u636e\u6761\u4ef6\u8df3\u8fc7\u6d4b\u8bd5\u7528\u4f8b\u3002 4. pytest.mark.xfail, \u5728\u67d0\u4e9b\u6761\u4ef6\u4e0b\uff08\u6bd4\u5982\u8fd0\u884c\u5728\u67d0\u4e2a os \u4e0a\uff09\uff0c\u7528\u4f8b\u672c\u5e94\u8be5\u5931\u8d25\uff0c\u6b64\u65f6\u5c31\u5e94\u4f7f\u7528\u6b64\u6807\u8bb0\uff0c\u4ee5\u4fbf\u5728\u6d4b\u8bd5\u62a5\u544a\u4e2d\u6807\u8bb0\u51fa\u6765\u3002 5. pytest.mark.parametrize, \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0\u53c2\u6570\u5316\u6807\u8bb0\uff0c\u53ef\u4ee5\u6839\u636e\u53c2\u6570\u5316\u7684\u53c2\u6570\u6267\u884c\u591a\u6b21\u6d4b\u8bd5\u7528\u4f8b\u3002</p> <p>\u8fd9\u4e9b\u6807\u8bb0\u53ef\u4ee5\u7528 pytest --markers \u547d\u4ee4\u67e5\u770b\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#22-pytest","title":"2.2. pytest \u65ad\u8a00","text":"<p>\u5728\u6d4b\u8bd5\u65f6\uff0c\u5f53\u6211\u4eec\u8c03\u7528\u4e00\u4e2a\u65b9\u6cd5\u4e4b\u540e\uff0c\u4f1a\u5e0c\u671b\u5c06\u5176\u8fd4\u56de\u7ed3\u679c\u4e0e\u671f\u671b\u7ed3\u679c\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u51b3\u5b9a\u8be5\u6d4b\u8bd5\u662f\u5426\u901a\u8fc7\u3002\u8fd9\u88ab\u79f0\u4e4b\u4e3a\u6d4b\u8bd5\u65ad\u8a00\u3002</p> <p>pytest \u4e2d\u7684\u65ad\u8a00\u5de7\u5999\u5730\u62e6\u622a\u5e76\u590d\u7528\u4e86 python \u5185\u7f6e\u7684\u51fd\u6570 assert\uff0c\u7531\u4e8e\u60a8\u5f88\u53ef\u80fd\u5df2\u7ecf\u63a5\u89e6\u8fc7 assert \u4e86\uff0c\u56e0\u800c\u4f7f\u5f97\u8fd9\u4e00\u90e8\u5206\u7684\u5b66\u4e60\u6210\u672c\u53d8\u5f97\u975e\u5e38\u4f4e\u3002</p> <p>```python {.line-numbers}</p>"},{"location":"articles/python/best-practice-python/chap07/#7-5","title":"\u793a\u4f8b 7 - 5","text":"<p>def test_assertion():     # \u5224\u65ad\u57fa\u672c\u53d8\u91cf\u76f8\u7b49     assert \"loud noises\".upper() == \"LOUD NOISES\"</p> <pre><code># \u5224\u65ad\u5217\u8868\u76f8\u7b49\nassert [1, 2, 3] == list((1, 2, 3))\n\n# \u5224\u65ad\u96c6\u5408\u76f8\u7b49\nassert set([1, 2, 3]) == {1, 3, 2}\n\n# \u5224\u65ad\u5b57\u5178\u76f8\u7b49\nassert dict({\n    \"one\": 1,\n    \"two\": 2\n}) == {\n    \"one\": 1,\n    \"two\": 2\n}\n\n# \u5224\u65ad\u6d6e\u70b9\u6570\u76f8\u7b49\n# \u7f3a\u7701\u5730\uff0c ORIGIN  \u00b1 1E-06\nassert 2.2 == pytest.approx(2.2 + 1e-6)\nassert 2.2 == pytest.approx(2.3, 0.1)\n\n# \u5982\u679c\u8981\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u7ec4\u662f\u5426\u76f8\u7b49\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9 NUMPY.TESTING\nimport numpy\n\narr1 = numpy.array([1., 2., 3.])\narr2 = arr1 + 1e-6\nnumpy.testing.assert_array_almost_equal(arr1, arr2)\n\n# \u5f02\u5e38\u65ad\u8a00\uff1a\u6709\u4e9b\u7528\u4f8b\u8981\u6c42\u80fd\u629b\u51fa\u5f02\u5e38\nwith pytest.raises(ValueError) as e:\n    raise ValueError(\"some error\")\n\nmsg = e.value.args[0]\nassert msg == \"some error\"\n</code></pre> <p><code>\u4e0a\u9762\u7684\u4ee3\u7801\u5206\u522b\u6f14\u793a\u4e86\u5982\u4f55\u5224\u65ad\u5185\u7f6e\u7c7b\u578b\u3001\u5217\u8868\u3001\u96c6\u5408\u3001\u5b57\u5178\u3001\u6d6e\u70b9\u6570\u548c\u6d6e\u70b9\u6570\u7ec4\u662f\u5426\u76f8\u7b49\u3002\u8fd9\u90e8\u5206\u8bed\u6cd5\u8ddf\u6807\u51c6 python \u8bed\u6cd5\u5e76\u65e0\u4e8c\u81f4\u3002pytest \u4e0e unittest \u4e00\u6837\uff0c\u90fd\u6ca1\u6709\u63d0\u4f9b\u5982\u4f55\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u6570\u7ec4\u662f\u5426\u76f8\u7b49\u7684\u65ad\u8a00\uff0c\u5982\u679c\u6709\u8fd9\u4e2a\u9700\u6c42\uff0c\u6211\u4eec\u53ef\u4ee5\u6c42\u52a9\u4e8e numpy.testing\uff0c\u6b63\u5982\u4f8b\u5b50\u4e2d\u7b2c 25~30 \u884c\u6240\u793a\u3002  \u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u6d4b\u8bd5\u9519\u8bef\u5904\u7406\uff0c\u770b\u51fd\u6570\u662f\u5426\u6b63\u786e\u5730\u629b\u51fa\u4e86\u5f02\u5e38\uff0c\u4ee3\u7801 32~37 \u6f14\u793a\u4e86\u5f02\u5e38\u65ad\u8a00\u7684\u4f7f\u7528\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u4e0d\u5e94\u8be5\u8fd9\u4e48\u5199\uff1a</code>python</p>"},{"location":"articles/python/best-practice-python/chap07/#7-6","title":"\u793a\u4f8b 7 - 6","text":"<pre><code>try:\n    # CALL SOME_FUNC WILL RAISE VALUEERROR\nexcept ValueError as e:\n    assert str(e) == \"some error\":\nelse:\n    assert False\n</code></pre> <p>``` \u4e0a\u8ff0\u4ee3\u7801\u770b\u4e0a\u53bb\u903b\u8f91\u6b63\u786e\uff0c\u4f46\u5b83\u6df7\u6dc6\u4e86\u5f02\u5e38\u5904\u7406\u548c\u65ad\u8a00\uff0c\u4f7f\u5f97\u4ed6\u4eba\u4e00\u65f6\u96be\u4ee5\u5206\u6e05\u8fd9\u6bb5\u4ee3\u7801\u7a76\u7adf\u662f\u5728\u5904\u7406\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u7684\u5f02\u5e38\u5462\uff0c\u8fd8\u662f\u5728\u6d4b\u8bd5\u88ab\u8c03\u7528\u51fd\u6570\u80fd\u5426\u6b63\u786e\u629b\u51fa\u5f02\u5e38\uff0c\u660e\u663e\u4e0d\u5982\u5f02\u5e38\u65ad\u8a00\u90a3\u6837\u6e05\u6670\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#23-pytest-fixture","title":"2.3. pytest fixture","text":"<p>\u4e00\u822c\u800c\u8a00\uff0c\u6211\u4eec\u7684\u6d4b\u8bd5\u7528\u4f8b\u5f88\u53ef\u80fd\u9700\u8981\u4f9d\u8d56\u4e8e\u4e00\u4e9b\u5916\u90e8\u8d44\u6e90\uff0c\u6bd4\u5982\u6570\u636e\u5e93\u3001\u7f13\u5b58\u3001\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u7b49\u3002\u8fd9\u4e9b\u5916\u90e8\u8d44\u6e90\u7684\u521d\u59cb\u5316\u548c\u9500\u6bc1\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u5728\u6d4b\u8bd5\u7528\u4f8b\u6267\u884c\u524d\u540e\u81ea\u52a8\u5b8c\u6210\uff0c\u5373\u81ea\u52a8\u5b8c\u6210 setup \u548c teardown \u7684\u64cd\u4f5c\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u5230 pytest \u7684 fixture\u3002</p> <p>Info</p> <p>\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\u662f\u5426\u9700\u8981\u4f7f\u7528\u5916\u90e8\u8d44\u6e90\u662f\u4e00\u4e2a\u89c1\u4ec1\u89c1\u667a\u7684\u95ee\u9898\u3002\u6709\u7684\u770b\u6cd5\u8ba4\u4e3a\uff0c\u4e00\u65e6\u5f15\u5165\u5916\u90e8\u8d44\u6e90\uff0c\u6d4b\u8bd5\u7528\u4f8b\u5c31\u4e0d\u518d\u662f\u5355\u5143\u6d4b\u8bd5\uff0c\u800c\u662f\u96c6\u6210\u6d4b\u8bd5\u3002\u65f6\u4ee3\u603b\u5728\u53d1\u5c55\uff0c\u7279\u522b\u662f\u8fdb\u5165\u5bb9\u5668\u5316\u65f6\u4ee3\u540e\uff0c\u5728\u6d4b\u8bd5\u4e2d\u5feb\u901f\u521b\u5efa\u4e00\u4e2a\u4e13\u5c5e\u7684\u6570\u636e\u5e93\u670d\u52a1\u5668\u53d8\u5f97\u5341\u5206\u5feb\u6377\u548c\u5bb9\u6613\uff0c\u8fd9\u53ef\u80fd\u8981\u6bd4\u6211\u4eec\u901a\u8fc7\u5927\u91cf\u7684 mock \u6765\u8fdb\u884c\u5916\u90e8\u8d44\u6e90\u9694\u79bb\u66f4\u5bb9\u6613\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u6ca1\u5fc5\u8981\u4e8e\u62d8\u6ce5\u4e8e\u8fd9\u4e9b\u8fc7\u53bb\u7684\u770b\u6cd5\u3002</p> <p>\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5b83\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u4ee3\u7801\u5982\u4e0b\uff08\u53c2\u89c1 code/chap07/sample/app.py)</p> <p>```python {.line-numbers}</p>"},{"location":"articles/python/best-practice-python/chap07/#7-7","title":"\u793a\u4f8b 7 - 7","text":"<p>import asyncpg import datetime</p> <p>async def add_user(conn: asyncpg.Connection, name: str, date_of_birth: datetime.date)-&gt;int:     # INSERT A RECORD INTO THE CREATED TABLE.     await conn.execute('''         INSERT INTO users(name, dob) VALUES($1, $2)     ''', name, date_of_birth)</p> <pre><code># SELECT A ROW FROM THE TABLE.\nrow: asyncpg.Record = await conn.fetchrow(\n    'SELECT * FROM users WHERE name = $1', 'Bob')\n# *ROW* NOW CONTAINS\n# ASYNCPG.RECORD(ID=1, NAME='BOB', DOB=DATETIME.DATE(1984, 3, 1))\nreturn row[\"id\"]\n</code></pre> <p><code>\u6211\u4eec\u5148\u5c55\u793a\u6d4b\u8bd5\u4ee3\u7801\uff08\u53c2\u89c1 code/chap07/sample/test_app.py)\uff0c\u518d\u7ed3\u5408\u4ee3\u7801\u8bb2\u89e3 fixture \u7684\u4f7f\u7528\uff1a</code>python {.line-numbers}</p>"},{"location":"articles/python/best-practice-python/chap07/#7-8","title":"\u793a\u4f8b 7 - 8","text":"<p>import pytest from sample.app import add_user import pytest_asyncio import asyncio </p>"},{"location":"articles/python/best-practice-python/chap07/#pytest-asyncio-event_loop-fixture-function","title":"PYTEST-ASYNCIO \u5df2\u7ecf\u63d0\u4f9b\u4e86\u4e00\u4e2a EVENT_LOOP \u7684 FIXTURE, \u4f46\u5b83\u662f FUNCTION \u7ea7\u522b\u7684","text":""},{"location":"articles/python/best-practice-python/chap07/#session-fixture","title":"\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u4e00\u4e2a SESSION \u7ea7\u522b\u7684 FIXTURE\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u91cd\u65b0\u5b9e\u73b0","text":"<p>@pytest.fixture(scope=\"session\") def event_loop():     policy = asyncio.get_event_loop_policy()     loop = policy.new_event_loop()     yield loop     loop.close()  @pytest_asyncio.fixture(scope='session') async def db():     import asyncpg     conn = await asyncpg.connect('postgresql://zillionare:123456@localhost/bpp')     yield conn      await conn.close()  @pytest.mark.asyncio async def test_add_user(db):     import datetime     user_id = await add_user(db, 'Bob', datetime.date(2022, 1, 1))     assert user_id == 1 ``` \u6211\u4eec\u7684\u529f\u80fd\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5f80 users \u8868\u91cc\u63d2\u5165\u4e00\u6761\u8bb0\u5f55\uff0c\u5e76\u8fd4\u56de\u5b83\u5728\u8868\u4e2d\u7684 id\u3002\u6d4b\u8bd5\u4ee3\u7801\u8c03\u7528 add_user \u8fd9\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u68c0\u6d4b\u8fd4\u56de\u503c\u662f\u5426\u4e3a 1\uff08\u5982\u679c\u6bcf\u6b21\u6d4b\u8bd5\u524d\u90fd\u65b0\u5efa\u6570\u636e\u5e93\u6216\u8005\u6e05\u7a7a\u8868\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd4\u56de\u7684 ID \u5c31\u5e94\u8be5\u662f 1\uff09\u3002</p> <p>\u8fd9\u4e2a\u6d4b\u8bd5\u663e\u7136\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u6d4b\u8bd5\u524d\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u7ed3\u675f\u540e\u5173\u95ed\u8fde\u63a5\u3002\u5e76\u4e14\uff0c\u6211\u4eec\u8fd8\u4f1a\u6709\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u6211\u4eec\u5e0c\u671b\u6570\u636e\u5e93\u8fde\u63a5\u662f\u4e00\u4e2a\u5168\u5c40\u7684\u8d44\u6e90\uff0c\u53ef\u4ee5\u5728\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u5171\u4eab\u3002\u8fd9\u5c31\u662f fixture \u7684\u7528\u6b66\u4e4b\u5730\u3002</p> <p>fixture \u662f\u4e00\u4e9b\u51fd\u6570\uff0cpytest \u4f1a\u5728\u6267\u884c\u6d4b\u8bd5\u51fd\u6570\u4e4b\u524d\uff08\u6216\u4e4b\u540e\uff09\u52a0\u8f7d\u8fd0\u884c\u5b83\u4eec\u3002\u4f46\u4e0e unitest \u4e2d\u7684 setup \u548c teardown \u4e0d\u540c\uff0cpytest \u4e2d\u7684 fixture \u4f9d\u8d56\u662f\u663e\u5f0f\u58f0\u660e\u7684\u3002\u6bd4\u5982\uff0c\u5728\u4e0a\u9762\u7684 test_add_user \u663e\u5f0f\u4f9d\u8d56\u4e86 db \u8fd9\u4e2a fixture\uff08\u901a\u8fc7\u5728\u51fd\u6570\u58f0\u660e\u4e2d\u4f20\u5165 db \u4f5c\u4e3a\u53c2\u6570\uff09\uff0c\u800c db \u5219\u53c8\u663e\u793a\u4f9d\u8d56 event_loop \u8fd9\u4e2a fixture\u3002\u5373\u4f7f\u6587\u4ef6\u4e2d\u8fd8\u5b58\u5728\u5176\u5b83 fixture, test_add_user \u4e5f\u4e0d\u4f1a\u4f9d\u8d56\u5230\u8fd9\u4e9b fixture\uff0c\u56e0\u4e3a\u4f9d\u8d56\u5fc5\u987b\u663e\u5f0f\u58f0\u660e\u3002</p> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6f14\u793a\u7684\u662f\u5bf9\u5f02\u6b65\u51fd\u6570 add_user \u7684\u6d4b\u8bd5\u3002\u663e\u7136\uff0c\u5f02\u6b65\u51fd\u6570\u5fc5\u987b\u5728\u67d0\u4e2a event loop \u4e2d\u6267\u884c\uff0c\u5e76\u4e14\u76f8\u5173\u7684\u521d\u59cb\u5316 (setup) \u548c\u9000\u51fa\u64cd\u4f5c (teardown) \u4e5f\u5fc5\u987b\u5728\u540c\u4e00\u4e2a loop \u4e2d\u6267\u884c\u3002\u8fd9\u91cc\u662f\u5206\u522b\u901a\u8fc7 pytest.mark.asyncio, pytest_asyncio \u7b49 fixture \u6765\u5b9e\u73b0\u7684\uff1a</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5c06\u6d4b\u8bd5\u7528\u4f8b\u6807\u6ce8\u4e3a\u5f02\u6b65\u6267\u884c\uff0c\u5373\u4e0a\u9762\u7684\u4ee3\u7801\u7b2c 21 \u884c\u3002\u5176\u6b21\uff0ctest_add_user \u9700\u8981\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u8be5\u8fde\u63a5\u7531 fixture <code>db</code>\u6765\u63d0\u4f9b\u3002\u8fd9\u4e2a\u8fde\u63a5\u7684\u83b7\u5f97\u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528 pytest.fixutre \u6765\u58f0\u660e\u8be5\u51fd\u6570\uff0c\u800c\u5fc5\u987b\u4f7f\u7528@pytest_asyncio.fixture \u6765\u58f0\u660e\u8be5\u51fd\u6570\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u8fd8\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a event_loop \u7684 fixture\uff0c\u5b83\u662f\u4e00\u5207\u7684\u5173\u952e\u3002\u5f53\u67d0\u4e2a\u51fd\u6570\u88ab pytest.mark.asyncio \u88c5\u9970\u65f6\uff0c\u8be5\u51fd\u6570\u5c06\u5728 event_loop \u63d0\u4f9b\u7684 event loop \u4e2d\u6267\u884c\u3002</p> <p>\u6211\u4eec\u8fd8\u8981\u4ecb\u7ecd\u4e00\u4e0b\u51fa\u73b0\u5728\u7b2c 6 \u884c\u548c\u7b2c 13 \u884c\u4e2d\u7684 scope='session'\u3002\u8fd9\u4e2a\u53c2\u6570\u8868\u793a fixture \u7684\u4f5c\u7528\u57df\uff0c\u5b83\u6709\u56db\u4e2a\u53ef\u9009\u503c\uff1afunction, class, module \u548c session\u3002\u9ed8\u8ba4\u503c\u662f function\uff0c\u8868\u793a fixture \u53ea\u5728\u5f53\u524d\u6d4b\u8bd5\u51fd\u6570\u4e2d\u6709\u6548\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2a event loop \u5728\u4e00\u6b21\u6d4b\u8bd5\u4e2d\u90fd\u6709\u6548\uff0c\u6240\u4ee5\u5c06 scope \u8bbe\u7f6e\u4e3a session\u3002</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u5173\u4e8e\u5f02\u6b65\u6a21\u5f0f\u4e0b\u7684\u6d4b\u8bd5\u7684\u3002\u5bf9\u666e\u901a\u51fd\u6570\u7684\u6d4b\u8bd5\u66f4\u7b80\u5355\u4e00\u4e9b\u3002\u6211\u4eec\u4e0d\u9700\u8981 pytest.mark.asynio \u8fd9\u4e2a\u88c5\u9970\u5668\uff0c\u4e5f\u4e0d\u9700\u8981 event_loop \u8fd9\u4e2a fixture\u3002\u6240\u6709\u7684 pytest_asyncio.fixture \u90fd\u6362\u6210 pytest.fixture \u5373\u53ef\uff08\u663e\u7136\uff0c\u5b83\u5fc5\u987b\u3001\u4e5f\u53ea\u80fd\u88c5\u9970\u666e\u901a\u51fd\u6570\uff0c\u800c\u975e\u7531 async \u5b9a\u4e49\u7684\u51fd\u6570\uff09\u3002</p> <p>Info</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528 unittest \u6765\u5bf9\u5f02\u6b65\u4ee3\u7801\u8fdb\u884c\u6d4b\u8bd5\uff0c\u8981\u6ce8\u610f\u9996\u5148\u6d4b\u8bd5\u7c7b\u8981\u4ece unittest.IsolatedAsyncioTestCase \u7ee7\u627f\uff0c\u7136\u540e\u6d4b\u8bd5\u51fd\u6570\u8981\u4ee5 async def \u5b9a\u4e49\u3002\u5e76\u4e14 setup \u548c teardown \u90fd\u8981\u6362\u6210\u5b83\u4eec\u7684\u5f02\u6b65\u7248\u672c asyncSetup\u3001asyncTeardown\u3002</p> <p>\u6ce8\u610f\u53ea\u6709\u4ece python 3.8 \u5f00\u59cb\uff0cunittest \u624d\u76f4\u63a5\u652f\u6301\u5f02\u6b65\u6d4b\u8bd5\u3002\u5728 python 3.7 \u53ca\u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93 aiounittest\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86 fixture\u3002\u4e0e markers \u7c7b\u4f3c\uff0c\u8981\u60f3\u77e5\u9053\u6211\u4eec\u7684\u6d4b\u8bd5\u73af\u5883\u4e2d\u5b58\u5728\u54ea\u4e9b fixtures\uff0c\u53ef\u4ee5\u901a\u8fc7 pytest --fixtures \u6765\u663e\u793a\u5f53\u524d\u73af\u5883\u4e2d\u6240\u6709\u7684 fixture\u3002 <pre><code>$ pytest --fixtures\n\n------------- fixtures defined from faker.contrib.pytest.plugin --------------\nfaker -- .../faker/contrib/pytest/plugin.py:24\n    Fixture that returns a seeded and suitable ``Faker`` instance.\n\n------------- fixtures defined from pytest_asyncio.plugin -----------------\nevent_loop -- .../pytest_asyncio/plugin.py:511\n    Create an instance of the default event loop for each test case.\n\n...\n\n------------- fixtures defined from tests.test_app ----------------\nevent_loop [session scope] -- tests/test_app.py:45\n\ndb [session scope] -- tests/test_app.py:52\n</code></pre></p> <p>\u8fd9\u91cc\u6211\u4eec\u770b\u5230 faker.contrib \u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3a faker \u7684 fixture, \u6211\u4eec\u4e4b\u524d\u5b89\u88c5\u7684\u3001\u652f\u6301\u5f02\u6b65\u6d4b\u8bd5\u7684 pytest_asyncio \u4e5f\u63d0\u4f9b\u4e86\u540d\u4e3a event_loop \u7684 fixture\uff08\u4e3a\u8282\u7701\u7bc7\u5e45\uff0c\u5176\u5b83\u51e0\u4e2a\u7701\u7565\u4e86\uff09\uff0c\u4ee5\u53ca\u6211\u4eec\u81ea\u5df1\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u5b9a\u4e49\u7684 event_loop \u548c db \u8fd9\u4e24\u4e2a fixture\u3002</p> <p>Pytest \u8fd8\u63d0\u4f9b\u4e86\u4e00\u7c7b\u7279\u522b\u7684 fixture\uff0c\u5373 pytest-mock\u3002\u4e3a\u4e86\u8bb2\u89e3\u65b9\u4fbf\uff0c\u6211\u4eec\u5148\u5b89\u88c5 pytest-mock \u8fd9\u4e2a\u63d2\u4ef6\uff0c\u770b\u770b\u5b83\u63d0\u4f9b\u7684 fixture\u3002</p> <pre><code>$ pip install pytest-mock\npytest --fixture\n\n------- fixtures defined from pytest_mock.plugin --------\nclass_mocker [class scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nmocker -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nmodule_mocker [module scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\npackage_mocker [package scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nsession_mocker [session scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 pytest-mock \u63d0\u4f9b\u4e86 5 \u4e2a\u4e0d\u540c\u7ea7\u522b\u7684 fixture\u3002\u5173\u4e8e\u4ec0\u4e48\u662f mock\uff0c\u8fd9\u662f\u4e0b\u4e00\u8282\u7684\u5185\u5bb9\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#3-mock","title":"3. MOCK \u9b54\u6cd5","text":"<p>\u5728\u5355\u5143\u6d4b\u8bd5\u65f6\uff0c\u6211\u4eec\u5e0c\u671b\u6d4b\u8bd5\u73af\u5883\u5c3d\u53ef\u80fd\u5355\u7eaf\u3001\u53ef\u63a7\u3002\u56e0\u6b64\u6211\u4eec\u4e0d\u5e0c\u671b\u4f9d\u8d56\u4e8e\u7528\u6237\u8f93\u5165\uff0c\u4e0d\u5e0c\u671b\u8fde\u63a5\u65e0\u6cd5\u72ec\u5360\u7684\u6570\u636e\u5e93\u6216\u8005\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u7b49\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u901a mock \u6765\u6a21\u62df\u51fa\u8fd9\u4e9b\u5916\u90e8\u63a5\u53e3\u3002mock \u53ef\u80fd\u662f\u5355\u5143\u6d4b\u8bd5\u4e2d\u6700\u6838\u5fc3\u7684\u6280\u672f\u3002</p> <p>Readmore</p> <p>\u611f\u8c22\u5bb9\u5668\u6280\u672f\uff01\u73b0\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u8d8a\u6765\u8d8a\u591a\u5730\u8fde\u63a5\u6570\u636e\u5e93\u3001\u7f13\u5b58\u548c\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u4e86\u3002\u56e0\u4e3a\u5bf9\u6709\u4e00\u4e9b\u63a5\u53e3\u8fdb\u884c mock \u7684\u4ee3\u4ef7\uff0c\u5df2\u7ecf\u8d85\u8fc7\u4e86 launch \u4e00\u4e2a\u5bb9\u5668\uff0c\u521d\u59cb\u5316\u6570\u636e\u5e93\u518d\u5f00\u59cb\u6d4b\u8bd5\u4e86\u3002</p> <p>\u65e0\u8bba\u662f unittest \u8fd8\u662f pytest\uff0c\u90fd\u662f\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u4f7f\u7528\u4e86 unittest \u4e2d\u7684 mock \u6a21\u5757\u3002\u6240\u4ee5\uff0c\u5f53\u4f60\u9047\u5230 mock \u76f8\u5173\u7684\u95ee\u9898\uff0c\u8bf7\u53c2\u9605 mock\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u5173\u4e8e mock \u7684\u4ecb\u7ecd\uff0c\u4e5f\u5c06\u4ee5 Unittest \u4e2d\u7684 mock \u4e3a\u4e3b\u3002\u4e0d\u8fc7\uff0c\u4e24\u4e2a\u6846\u67b6\u7684 mock\uff0c\u5728\u57fa\u672c\u6982\u5ff5\u4e0a\u90fd\u662f\u76f8\u901a\u7684\u3002</p> <p>Info</p> <p>python \u4ece 3.8 \u8d77\uff0c\u624d\u5bf9 async \u6a21\u5f0f\u4e0b\u7684 mock \u6709\u6bd4\u8f83\u5b8c\u5907\u7684\u652f\u6301\u3002\u7531\u4e8e Python 3.7 \u5df2\u7ecf\u8d70\u5230\u751f\u547d\u5c3d\u5934\uff0c\u6240\u4ee5\u672c\u4e66\u4e5f\u4e0d\u4ecb\u7ecd Python 3.7 \u4e2d\uff0c async \u6a21\u5f0f\u4e0b\u7684 mock \u5982\u4f55\u5b9e\u73b0\u4e86\u3002</p> <p>unittest.mock \u6a21\u5757\u63d0\u4f9b\u4e86\u6700\u6838\u5fc3\u7684 Mock \u7c7b\u3002\u5f53\u6211\u4eec\u7528 Mock \u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u6765\u66ff\u6362\u88ab\u6d4b\u8bd5\u7cfb\u7edf\u7684\u67d0\u4e9b\u90e8\u5206\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u5b83\u7684\u4f7f\u7528\u65b9\u5f0f\u505a\u51fa\u65ad\u8a00\u3002\u8fd9\u5305\u62ec\u68c0\u67e5\u54ea\u4e9b\u65b9\u6cd5\uff08\u5c5e\u6027\uff09\u88ab\u8c03\u7528\u4ee5\u53ca\u8c03\u7528\u5b83\u4eec\u7684\u53c2\u6570\u5982\u4f55\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u8bbe\u5b9a\u8fd4\u56de\u503c\u6216\u8005\u4ee4\u5176\u629b\u51fa\u5f02\u5e38\uff0c\u4ee5\u6539\u53d8\u6267\u884c\u8def\u5f84\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cmock \u6a21\u5757\u8fd8\u63d0\u4f9b\u4e86 patch \u65b9\u6cd5\u548c MagicMock \u5b50\u7c7b\u3002MagicMock \u533a\u522b\u4e8e Mock \u7684\u5730\u65b9\u5728\u4e8e\uff0c\u5b83\u81ea\u52a8\u5b9e\u73b0\u4e86\u5bf9 Python \u4e2d\u7c7b\u5bf9\u8c61\u4e2d\u7684\u9b54\u6cd5\u51fd\u6570\u7684 mock\uff08\u8fd9\u662f\u5b83\u7684\u540d\u5b57\u7684\u6765\u6e90\uff01\uff09\uff0c\u6bd4\u5982__iter__\u7b49\u3002patch \u5219\u662f\u4e00\u4e2a\u5e26\u4e0a\u4e0b\u6587\u7ba1\u7406\u7684\u5de5\u5177\uff0c\u5b83\u80fd\u81ea\u52a8\u590d\u539f\u6211\u4eec\u5bf9\u7cfb\u7edf\u7684\u66f4\u6539\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0a\uff0c\u591a\u6570\u65f6\u5019\uff0c\u6211\u4eec\u7528\u5230\u7684\u662f MagicMock \u5bf9\u8c61\uff0c\u800c\u4e0d\u662f Mock\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#31","title":"3.1. \u57fa\u7840\u6982\u5ff5\u4e0e\u57fa\u672c\u4f7f\u7528","text":"<p>\u6700\u57fa\u7840\u7684 mock \u7684\u6982\u5ff5\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u5f97\u5230\u6f14\u793a\uff1a</p> <pre><code># \u793a\u4f8b 7 - 9\nfrom unittest.mock import MagicMock\nthing = ProductionClass()\nthing.method = MagicMock(return_value=3)\nthing.method(3, 4, 5, key='value')\n\nthing.method.assert_called_with(3, 4, 5, key='value')\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u88ab\u6d4b\u8bd5\u7c7b ProductionClass\uff0c\u5f53\u6211\u4eec\u8c03\u7528\u5b83\u7684 method \u65b9\u6cd5\u65f6\uff0c\u5b83\u6709\u4e00\u4e9b\u4e0d\u4fbf\u5728\u5355\u5143\u6d4b\u8bd5\u4e0b\u8fd0\u884c\u7684\u60c5\u51b5\uff08\u6bd4\u5982\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff09\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u8df3\u8fc7\u5bf9\u5b83\u7684\u8c03\u7528\uff0c\u800c\u76f4\u63a5\u8fd4\u56de\u6211\u4eec\u6307\u5b9a\u7684\u4e00\u4e9b\u503c\u3002</p> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u80fd\u62ff\u5230 ProductionClass \u5b9e\u4f8b\u5bf9\u50cf\u7684\u5f15\u7528\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u5b83\u7684 method \u5c5e\u6027\uff0c\u4f7f\u4e4b\u6307\u5411\u4e00\u4e2a MagicMock \u5bf9\u8c61\u3002MagicMock \u5bf9\u8c61\u6709\u4e00\u4e9b\u91cd\u8981\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p> <p>\u8fd9\u91cc\u51fa\u73b0\u7684 return_value \u662f\u7b2c\u4e00\u4e2a\u91cd\u8981\u7684\u5c5e\u6027\u3002\u5b83\u7684\u610f\u601d\u65f6\uff0c\u5f53\u88ab\u66ff\u6362\u7684\u5bf9\u8c61\uff08\u8fd9\u91cc\u662f method\uff09\u88ab\u8c03\u7528\u65f6\uff0c\u8fd4\u56de\u503c\u5e94\u8be5\u662f 3\u3002\u4e0e\u4e4b\u7c7b\u4f3c\u7684\u53e6\u4e00\u4e2a\u5c5e\u6027\u662f side_effect\u3002\u5b83\u540c\u6837\u4e5f\u5728 mock \u88ab\u8c03\u7528\u65f6\uff0c\u8fd4\u56de\u8bbe\u7f6e\u7684\u503c\u3002\u4f46 return_value \u4e0e side_effect \u6709\u91cd\u8981\u533a\u522b\uff1a\u4e24\u8005\u7684\u8fd4\u56de\u503c\u90fd\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u6570\u7ec4\uff08\u6216\u8005\u5176\u5b83\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff09\uff0c\u4f46\u901a\u8fc7 side_effect \u8bbe\u7f6e\u8fd4\u56de\u503c\u65f6\uff0c\u6bcf\u6b21\u8c03\u7528 mock\uff0c\u5b83\u90fd\u8fd4\u56de side_effect \u4e2d\u7684\u4e0b\u4e00\u4e2a\u8fed\u4ee3\u503c\uff1b\u800c return_value \u5219\u4f1a\u5c06\u8bbe\u7f6e\u503c\u5168\u90e8\u8fd4\u56de\u3002\u53e6\u5916\uff0c\u5982\u679c\u4e24\u8005\u540c\u65f6\u8bbe\u7f6e\uff0cside_effect \u4f18\u5148\u8fd4\u56de\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u793a\u4f8b\uff1a</p> <pre><code># \u793a\u4f8b 7 - 10\nimport unittest.mock\n\nside_effect = [1, 2, unittest.mock.DEFAULT, 4, 5]\nm = unittest.mock.Mock(return_value=\"foo\", side_effect=side_effect)\n\nfor _ in side_effect:\n    print(m())\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u5c06\u662f\uff1a</p> <pre><code>1\n2\nfoo\n4\n5\n</code></pre> <p>\u6211\u4eec\u7ed9 side_effect \u8bbe\u7f6e\u4e86 5 \u4e2a\u503c\uff0c\u5728 5 \u6b21\u91cd\u590d\u6d4b\u8bd5\u65f6\uff0c\u5b83\u5206\u522b\u4f9d\u6b21\u8fd4\u56de\u4e0b\u4e00\u4e2a\u8fed\u4ee3\u503c\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u901a\u8fc7 unittest.mock.DEFAULT\uff0c\u6765\u8ba9\u5176\u4e2d\u4e00\u6b21\u8fed\u4ee3\uff0c\u8fd4\u56de\u4e86 return_value \u7684\u8bbe\u7f6e\u503c\u3002\u5f53\u7136\uff0c\u672c\u8d28\u4e0a\uff0c\u8fd9\u4ecd\u7136\u662f\u5bf9 side_effect \u7684\u4e00\u4e2a\u8fed\u4ee3\u7ed3\u679c\u3002</p> <p>\u8fd9\u91cc\u8fd8\u51fa\u73b0\u4e86\u5b83\u7684\u4e00\u4e2a\u91cd\u8981\u65b9\u6cd5\uff0cassert_called_with\uff0c\u5373\u68c0\u67e5\u88ab\u66ff\u6362\u7684\u65b9\u6cd5\u662f\u5426\u88ab\u4ee5\u671f\u671b\u7684\u53c2\u6570\u8c03\u7528\u4e86\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u65ad\u8a00\u88ab\u8c03\u7528\u7684\u6b21\u6570\uff0c\u7b49\u7b49\u3002</p> <p>!!! note:     \u5982\u679c\u4f60\u4e4b\u524d\u63a5\u89e6\u8fc7\u5176\u5b83 mock \u6846\u67b6\u7684\u8bdd\uff0c\u53ef\u80fd\u9700\u8981\u6ce8\u610f\uff0cpython \u4e2d\u7684 mock \u662f<code>action -&gt; assertion</code>\u6a21\u5f0f\uff0c\u800c\u4e0d\u662f\u5176\u5b83\u8bed\u8a00\u4e2d\u5e38\u89c1\u7684<code>record -&gt; replay</code>\u6a21\u5f0f\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u975e\u5e38\u7b80\u5355\u3002\u4f46\u5b83\u4e5f\u6f14\u793a\u4e86\u4f7f\u7528 Mock \u7684\u7cbe\u9ad3\uff0c\u5373\u751f\u6210 Mock \u5b9e\u4f8b\uff0c\u8bbe\u7f6e\u884c\u4e3a\uff08\u6bd4\u5982\u8fd4\u56de\u503c\uff09\uff0c\u66ff\u6362\u751f\u4ea7\u7cfb\u7edf\u4e2d\u7684\u5bf9\u8c61\uff08\u65b9\u6cd5\u3001\u5c5e\u6027\u7b49\uff09\uff0c\u6700\u540e\uff0c\u68c0\u9a8c\u7ed3\u679c\u3002</p> <p>\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u901a\u8fc7 patch \u7684\u65b9\u5f0f\u6765\u4f7f\u7528 mock\u3002\u53c8\u6709\u4e24\u79cd\u4e3b\u8981\u7684\u65b9\u5f0f\uff1a</p>"},{"location":"articles/python/best-practice-python/chap07/#311","title":"3.1.1. \u4f5c\u4e3a\u88c5\u9970\u5668\u4f7f\u7528","text":"<p>\u5047\u5982\u6211\u4eec\u6709\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u76f8\u5173\u7684\u64cd\u4f5c\uff0c\u4e3a\u4e86\u6b63\u5e38\u8fd0\u884c\uff0c\u5fc5\u987b\u5728\u6d4b\u8bd5\u73af\u5883\u4e0b\u6784\u5efa\u76ee\u5f55\uff0c\u589e\u52a0\u67d0\u4e9b\u6587\u4ef6\u3002\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5e0c\u671b\u901a\u8fc7 mock \u6765\u6a21\u62df\u8fd9\u4e2a\u73af\u5883\u3002</p> <p>```python {.line-numbers}</p>"},{"location":"articles/python/best-practice-python/chap07/#7-11","title":"\u793a\u4f8b 7 - 11","text":"<p>import os</p>"},{"location":"articles/python/best-practice-python/chap07/#function-under-test","title":"FUNCTION UNDER TEST","text":"<p>class Foo:     def get_files(self, dir_: str):         return os.list_dir(dir_)</p>"},{"location":"articles/python/best-practice-python/chap07/#testing-code","title":"TESTING CODE","text":"<p>from unittest.mock import patch from unittest import TestCase</p> <p>class FooTest(TestCase):     @patch('main.Foo.get_files')     def test_get_files(self, mocked):         mocked.return_value = [\"readme.md\"]         foo = Foo()         self.assertListEqual(foo.get_files(), [\"readme.md\"])</p> <p>test = FooTest() test.test_get_files() <pre><code>\u6211\u4eec\u5bf9\u5173\u952e\u4ee3\u7801\u8fdb\u884c\u4e00\u4e9b\u89e3\u91ca\u3002\u9996\u5148\uff0c\u901a\u8fc7\u88c5\u9970\u5668\u8bed\u6cd5\u8fdb\u884c mock \u65f6\uff0c\u6211\u4eec\u7684\u6d4b\u8bd5\u51fd\u6570\u4f1a\u591a\u4e00\u4e2a\u53c2\u6570\uff08\u8fd9\u91cc\u662f mocked\uff0c\u4f46\u540d\u5b57\u53ef\u4ee5\u7531\u6211\u4eec\u4efb\u610f\u6307\u5b9a\uff09\u3002\u8fd9\u91cc\u4f7f\u7528\u591a\u4e2a patch \u88c5\u9970\u5668\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u6bcf\u589e\u52a0\u4e00\u4e2a\u88c5\u9970\u5668\uff0c\u6d4b\u8bd5\u51fd\u6570\u5c31\u4f1a\u591a\u589e\u52a0\u4e00\u4e2a\u53c2\u6570\u3002\n\n\u5176\u6b21\uff0c\u6211\u4eec\u8981\u5bf9 Foo.get_files \u8fdb\u884c mock\uff0c\u4f46\u6211\u4eec\u5728 Foo.get_files \u4e4b\u524d\uff0c\u52a0\u4e0a\u4e86\u4e00\u4e2a__main__\u7684\u524d\u7f00\u3002\u8fd9\u662f\u7531\u4e8e\u7c7b Foo \u7684\u5b9a\u4e49\u5904\u5728\u9876\u5c42\u6a21\u5757\u4e2d\u3002\u5728 Python \u4e2d\uff0c\u4efb\u4f55\u4e00\u4e2a\u7b26\u53f7\uff08\u7c7b\u3001\u65b9\u6cd5\u6216\u8005\u53d8\u91cf\uff09\u90fd\u5904\u5728\u67d0\u4e2a\u6a21\u5757\uff08module\uff09\u4e4b\u4e0b\u3002\u5982\u679c\u8fd9\u6bb5\u4ee3\u7801\u5b58\u4e3a\u78c1\u76d8\u6587\u4ef6 foo.py\uff0c\u90a3\u4e48\u6a21\u5757\u540d\u5c31\u662f foo\uff1b\u6211\u4eec\u5728\u522b\u7684\u6a21\u5757\u4e2d\u5f15\u5165 Foo.get_files \u65f6\uff0c\u5e94\u8be5\u4f7f\u7528 foo.Foo.get_files\u3002\u4f46\u5728\u8fd9\u91cc\uff0c\u7531\u4e8e\u6211\u4eec\u662f\u540c\u6a21\u5757\u5f15\u7528\uff0c\u56e0\u6b64\u5b83\u7684\u524d\u7f00\u662f__main__\u3002\n\n!!! info\n    \u4f7f\u7528 mock \u7684\u5173\u952e\uff0c\u662f\u8981\u627e\u5230\u5f15\u7528\u88ab mock \u5bf9\u8c61\u7684\u6b63\u786e\u65b9\u5f0f\u3002\u5728 Python \u4e2d\uff0c\u4e00\u5207\u90fd\u662f\u5bf9\u8c61\u3002\u8fd9\u4e9b\u5bf9\u8c61\u901a\u8fc7\u5177\u6709\u5c42\u6b21\u7ed3\u6784\u7684\u547d\u540d\u7a7a\u95f4\u6765\u8fdb\u884c\u5bfb\u5740\u3002\u4ee5 patch \u65b9\u6cd5\u4e3a\u4f8b\uff0c\u5b83\u5904\u5728 mock \u6a21\u5757\u4e4b\u4e2d\uff0c\u800c mock \u6a21\u5757\u53c8\u662f\u5305 unittest \u7684\u4e0b\u7ea7\u6a21\u5757\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5c31\u4f7f\u7528 unittest.mock.patch \u6765\u5f15\u7528\u5b83\uff0c\u8fd9\u4e5f\u4e0e\u5bfc\u5165\u8def\u5f84\u662f\u4e00\u81f4\u7684\u3002&lt;br&gt;&lt;br&gt;\u4f46\u662f\uff0c\u50cf\u8fd9\u91cc\u7684\u811a\u672c\uff0c\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u4e0d\u662f\u7cfb\u7edf\u5185\u7f6e\u5bf9\u8c61\uff0c\u53c8\u4e0d\u5b58\u5728\u4e8e\u4efb\u4f55\u5305\u4e2d\uff0c\u90a3\u4e48\u5b83\u7684\u540d\u5b57\u7a7a\u95f4\u5c31\u662f__main__\uff0c\u6b63\u5982\u8fd9\u91cc\u7684\u793a\u4f8b__main__.Foo \u4e00\u6837\u3002\u5173\u4e8e\u5bfb\u5740\uff0c\u8fd8\u5b58\u5728\u5176\u5b83\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u9762\u4ecb\u7ecd builtin \u5bf9\u8c61\u4ee5\u53ca\u9519\u8bef\u7684\u5f15\u7528\u90a3\u4e24\u8282\u4e2d\u8fdb\u884c\u4ecb\u7ecd\u3002\n\n\u901a\u8fc7\u88c5\u9970\u5668\u8bed\u6cd5\u4f20\u5165\u8fdb\u6765\u7684 mock \u5bf9\u8c61\uff0c\u5b83\u7684\u884c\u4e3a\u662f\u672a\u7ecf\u8bbe\u7f6e\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u8981\u5728\u8fd9\u91cc\u5148\u8bbe\u7f6e\u5b83\u7684\u8fd4\u56de\u503c\uff0c\u7136\u540e\u518d\u8c03\u7528\u4e1a\u52a1\u903b\u8f91\u51fd\u6570 foo.get_files -- \u7531\u4e8e\u5b83\u5df2\u7ecf\u88ab mock \u4e86\uff0c\u6240\u4ee5\u4f1a\u8fd4\u56de\u6211\u4eec\u8bbe\u7f6e\u7684\u8fd4\u56de\u503c\u3002\n\n#### 3.1.2. \u5728\u5757\u7ea7\u4ee3\u7801\u4e2d\u4f7f\u7528\n\n\u5f53\u6211\u4eec\u901a\u8fc7\u88c5\u9970\u5668\u6765\u4f7f\u7528 mock \u65f6\uff0c\u5b9e\u9645\u4e0a\u5b83\u4ecd\u7136\u662f\u6709\u4e0a\u4e0b\u6587\u7684\uff0c\u5728\u51fd\u6570\u9000\u51fa\u4e4b\u540e\uff0cmock \u5bf9\u7cfb\u7edf\u7684\u66f4\u6539\u5c31\u590d\u539f\u4e86\u3002\u4f46\u662f\uff0c\u6709\u65f6\u5019\u6211\u4eec\u66f4\u5e0c\u671b\u4f7f\u7528\u4ee3\u7801\u5757\u7ea7\u522b\u7684 patch\uff0c\u4e00\u65b9\u9762\u53ef\u4ee5\u66f4\u7cbe\u51c6\u5730\u9650\u5236 mock \u7684\u4f7f\u7528\u8303\u56f4\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u5b83\u7684\u8bed\u6cd5\u4f1a\u66f4\u7b80\u7ec3\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u4e00\u884c\u4ee3\u7801\u5b8c\u6210 mock \u884c\u4e3a\u7684\u8bbe\u7f6e\u3002\n\n```python{.line-numbers}\n# \u793a\u4f8b 7 - 12\nimport os\n\n# FUNCTION UNDER TEST\nclass Foo:\n    def get_files(self, dir_: str):\n        return os.list_dir(dir_)\n\n# TESTING CODE\nfrom unittest.mock import patch\nfrom unittest import TestCase\n\nclass FooTest(TestCase):\n    def test_get_files(self):\n        with patch('__main__.Foo.get_files', return_value=[\"readme.md\"]):\n            foo = Foo()\n            self.assertListEqual(foo.get_files(), [\"readme.md\"])\n\ntest = FooTest()\ntest.test_get_files()\n</code></pre> \u8fd9\u91cc\u4ec5\u7528\u4e00\u884c\u4ee3\u7801\u5c31\u5b8c\u6210\u4e86\u66ff\u6362\u548c\u8bbe\u7f6e\u3002</p> <p>\u5728\u5b9e\u8df5\u4e2d\uff0c\u4f7f\u7528 mock \u53ef\u80fd\u5e76\u4e0d\u50cf\u770b\u8d77\u6765\u90a3\u4e48\u5bb9\u6613\u3002\u6709\u4e00\u4e9b\u60c5\u666f\u5bf9\u521d\u5b66\u8005\u800c\u8a00\u4f1a\u6bd4\u8f83\u96be\u4ee5\u7406\u89e3\u3002\u4e00\u65e6\u719f\u6089\u4e4b\u540e\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u4f60\u5bf9 Python \u7684\u5e95\u5c42\u673a\u5236\uff0c\u6709\u4e86\u66f4\u6df1\u5165\u7684\u7406\u89e3\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u4ecb\u7ecd\u8fd9\u4e9b\u573a\u666f\u4e0b\u5982\u4f55\u4f7f\u7528 mock\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#32-mock","title":"3.2. \u7279\u6b8a\u573a\u5408\u4e0b\u7684 mock","text":""},{"location":"articles/python/best-practice-python/chap07/#321","title":"3.2.1. \u4fee\u6539\u5b9e\u4f8b\u7684\u5c5e\u6027","text":"<p>\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u7ed9 patch \u4f20\u5165\u7684 target \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u663e\u7136\uff0c\u5728 patch \u4f5c\u7528\u57df\u5185\uff0c\u6240\u6709\u7684\u65b0\u751f\u6210\u7684\u5bf9\u8c61\u90fd\u4f1a\u88ab patch\u3002\u5982\u679c\u5728 patch \u4e4b\u524d\uff0c\u5bf9\u8c61\u5df2\u7ecf\u751f\u6210\u4e86\uff0c\u6211\u4eec\u5219\u9700\u8981\u4f7f\u7528<code>patch.object</code>\u6765\u5b8c\u6210 patch\u3002\u8fd9\u6837\u505a\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u6709\u9009\u62e9\u6027\u5730 patch \u90e8\u5206\u5bf9\u8c61\u3002</p> <p>```python {.line-numbers}</p>"},{"location":"articles/python/best-practice-python/chap07/#7-19","title":"\u793a\u4f8b 7 - 19","text":"<p>def bar():     logger = logging.getLogger(name)     logger.info(\"please check if I was called\")</p> <pre><code>root_logger = logging.getLogger()\nroot_logger.info(\"this is not intercepted\")\n</code></pre>"},{"location":"articles/python/best-practice-python/chap07/#test_foopy","title":"TEST_FOO.PY","text":"<p>from sample.core.foo import bar</p> <p>logger = logging.getLogger('sample.core.foo') with mock.patch.object(logger, 'info') as m:     bar()     m.assert_called_once_with(\"please check if I was called\") <pre><code>\u5728 bar \u65b9\u6cd5\u91cc\uff0c\u4e24\u4e2a logger(root_logger \u548c'sample.core.foo'\u5bf9\u5e94\u7684 logger) \u90fd\u88ab\u8c03\u7528\uff0c\u4f46\u6211\u4eec\u53ea\u62e6\u622a\u4e86\u540e\u4e00\u4e2a logger \u7684`info`\u65b9\u6cd5\uff0c\u7ed3\u679c\u9a8c\u8bc1\u5b83\u88ab\u8c03\u7528\uff0c\u4e14\u4ec5\u88ab\u8c03\u7528\u4e00\u6b21\u3002\n\n\u8fd9\u91cc\u8981\u63d0\u53ca pytest \u4e2d mocker.patch \u4e0e unitest.mock.patch \u7684\u4e00\u4e2a\u7ec6\u5fae\u5dee\u522b\u3002\u540e\u8005\u8fdb\u884c patch \u65f6\uff0c\u53ef\u4ee5\u8fd4\u56de mock \u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u8fdb\u884c\u66f4\u591a\u7684\u68c0\u67e5\uff08\u89c1\u4e0a\u9762\u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u7b2c 14\uff0c16 \u884c\uff09\uff1b\u4f46 mocker.patch \u7684\u8fd4\u56de\u503c\u662f None\u3002\n#### 3.2.2. \u5f02\u6b65\u5bf9\u8c61\n\u4ece 3.8 \u8d77\uff0cunittest.mock \u4e00\u822c\u5c31\u4e0d\u518d\u533a\u5206\u540c\u6b65\u548c\u5f02\u6b65\u5bf9\u8c61\uff0c\u6bd4\u5982\uff1a\n\n```python\n# FUNCTION UNDER TEST\n\nclass Foo:\n    async def bar():\n        pass\n\n# TESTING CODE\nclass FooTest(TestCase):\n    async def test_bar(self):\n        foo = Foo()\n        with patch(\"__main__.Foo.bar\", return_value=\"hello from async mock!\"):\n            res = await foo.bar()\n            print(res)\n\ntest = FooTest()\nawait test.test_bar()\n</code></pre></p> <p>\u539f\u51fd\u6570 bar \u7684\u8fd4\u56de\u503c\u4e3a\u7a7a\u3002\u4f46\u8f93\u51fa\u7ed3\u679c\u662f \"hello from async mock\"\uff0c\u8bf4\u660e\u8be5\u51fd\u6570\u88ab mock \u4e86\u3002</p> <p>\u88ab mock \u7684\u65b9\u6cd5 bar \u662f\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\uff0c\u5982\u679c\u6211\u4eec\u53ea\u9700\u8981 mock \u5b83\u7684\u8fd4\u56de\u503c\u7684\u8bdd\uff0c\u4ecd\u7136\u662f\u7528\u540c\u6837\u7684\u65b9\u6cd5\uff0c\u76f4\u63a5\u7ed9 return_value \u8d4b\u503c\u5c31\u597d\u3002\u5982\u679c\u6211\u4eec\u8981\u5c06\u5176\u66ff\u6362\u6210\u53e6\u4e00\u4e2a\u51fd\u6570\uff0c\u4e5f\u53ea\u9700\u8981\u5c06\u8be5\u51fd\u6570\u58f0\u660e\u6210\u4e3a\u5f02\u6b65\u51fd\u6570\u5373\u53ef\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u8981 mock \u7684\u662f\u4e00\u4e2a\u5f02\u6b65\u7684\u751f\u6210\u5668\uff0c\u5219\u65b9\u6cd5\u4f1a\u6709\u6240\u4e0d\u540c\uff1a</p> <p><pre><code># FUNCTION UNDER TEST\nfrom unittest import mock\n\nclass Foo:\n    async def bar():\n        for i in range(5):\n            yield f\"called {i}th\"\n\n# TESTING CODE\nclass FooTest(TestCase):\n    async def test_bar(self):\n        foo = Foo()\n        with mock.patch(\n            \"__main__.Foo.bar\"\n        ) as mocked:\n            mocked.return_value.__aiter__.return_value = [0, 2, 4, 6, 8]\n            print([i async for i in foo.bar()])\n\n\ntest = FooTest()\nawait test.test_bar()\n</code></pre> \u7406\u89e3\u8fd9\u6bb5\u4ee3\u7801\u7684\u5173\u952e\u662f\uff0c\u6211\u4eec\u8981 mock \u7684\u5bf9\u8c61\u662f bar \u65b9\u6cd5\uff0c\u5b83\u7684\u8fd4\u56de\u503c\uff08\u5373 mocked.return_value\uff09\u662f\u4e00\u4e2a coroutine\u3002\u6211\u4eec\u9700\u8981\u5bf9\u8be5 coroutine \u7684__aiter__\u65b9\u6cd5\u8bbe\u7f6e\u8fd4\u56de\u503c\uff0c\u8fd9\u6837\u624d\u80fd\u5f97\u5230\u6b63\u786e\u7684\u7ed3\u679c\u3002\u6b64\u5916\uff0c\u7531\u4e8e__aiter__\u672c\u8eab\u5c31\u662f\u8fed\u4ee3\u5668\u7684\u610f\u601d\uff0c\u6240\u4ee5\uff0c\u5373\u4f7f\u6211\u4eec\u8bbe\u7f6e\u5b83\u7684 return_value\uff0c\u800c\u4e0d\u662f side_effect \u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5b83\u4e5f\u4f1a\u6309\u6b21\u8fd4\u56de\u8fed\u4ee3\u7ed3\u679c\uff0c\u800c\u4e0d\u662f\u6574\u4e2a list\u3002\u8fd9\u662f\u4e0e\u6211\u4eec\u524d\u9762\u4ecb\u7ecd return_value \u548c side_effect \u7684\u533a\u522b\u65f6\u6240\u8bb2\u7684\u5185\u5bb9\u76f8\u533a\u522b\u7684\u3002</p> <p>\u540c\u6837\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f async with \u65b9\u6cd5\u3002\u4f60\u9700\u8981 mock \u4f4f\u5b83\u7684__aexit__\uff0c\u5c06\u5176\u66ff\u6362\u6210\u4f60\u8981\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#323-builtin","title":"3.2.3. builtin \u5bf9\u8c61","text":"<p>\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8bfb\u53d6\u7528\u6237\u4ece\u63a7\u5236\u53f0\u8f93\u5165\u7684\u53c2\u6570\uff0c\u6839\u636e\u8be5\u53c2\u6570\u8fdb\u884c\u8ba1\u7b97\u3002\u663e\u7136\uff0c\u6211\u4eec\u9700\u8981 Mock \u7528\u6237\u8f93\u5165\uff0c\u5426\u5219\u5355\u5143\u6d4b\u8bd5\u6ca1\u6cd5\u81ea\u52a8\u5316\u3002</p> <p>\u5728 Python \u4e2d\uff0c\u63a5\u53d7\u7528\u6237\u63a7\u5236\u53f0\u8f93\u5165\u7684\u51fd\u6570\u662f input\u3002\u8981 mock \u8fd9\u4e2a\u65b9\u6cd5\uff0c\u6309\u7167\u524d\u9762\u5b66\u4e60\u4e2d\u5f97\u5230\u7684\u7ecf\u9a8c\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u5b83\u5c5e\u4e8e\u54ea\u4e2a\u540d\u5b57\u7a7a\u95f4\u3002\u5728 Python \u4e2d\uff0c\u50cf input, open, eval \u7b49\u4e00\u7c7b\u7684\u51fd\u6570\u5927\u7ea6\u6709 80 \u4e2a\u5de6\u53f3\uff0c\u88ab\u79f0\u4e3a builtin\uff08\u5185\u7f6e\u51fd\u6570\uff09\u3002</p> <p>\u5728 mock \u5b83\u4eec\u65f6\uff0c\u6211\u4eec\u4f7f\u7528 builtins \u540d\u5b57\u7a7a\u95f4\u6765\u8fdb\u884c\u5f15\u7528\uff1a</p> <pre><code>with patch('builtins.input', return_value=\"input is mocked\"):\n    user_input = input(\"please say something:\")\n    print(user_input)\n</code></pre> <p>\u6267\u884c\u4e0a\u8ff0\u4ee3\u7801\u65f6\uff0c\u7528\u6237\u5e76\u4e0d\u4f1a\u6709\u673a\u4f1a\u771f\u6b63\u8f93\u5165\u6570\u636e\uff0cinput \u65b9\u6cd5\u88ab mock\uff0c\u5e76\u4e14\u4f1a\u8fd4\u56de\"input is mocked\"\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#324","title":"3.2.4. \u8ba9\u65f6\u95f4\u5c31\u505c\u7559\u5728\u8fd9\u4e00\u523b","text":"<p>\u6709\u65f6\u5019\u6211\u4eec\u4f1a\u5728\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 datetime.datetime.now() \u6765\u83b7\u53d6\u7cfb\u7edf\u7684\u5f53\u524d\u65f6\u95f4\u3002\u663e\u7136\uff0c\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u6d4b\u8bd5\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\u53d6\u503c\uff0c\u5bfc\u81f4\u6d4b\u8bd5\u7ed3\u679c\u65e0\u6cd5\u56fa\u5b9a\u3002\u56e0\u6b64\uff0c\u8fd9\u4e5f\u662f\u9700\u8981\u88ab mock \u7684\u5bf9\u8c61\u3002</p> <p>\u8981\u5b9e\u73b0\u5bf9\u8fd9\u4e2a\u65b9\u6cd5\u7684 mock\uff0c\u53ef\u80fd\u6bd4\u6211\u4eec\u4e00\u5f00\u59cb\u4ee5\u4e3a\u7684\u8981\u96be\u4e00\u4e9b\u3002\u6211\u4eec\u7684\u63a8\u8350\u662f\uff0c\u4f7f\u7528 freezegun \u8fd9\u4e2a\u5e93\uff0c\u800c\u907f\u5f00\u81ea\u5df1\u53bb mock \u5b83\u3002</p> <pre><code># \u8bf7\u4f7f\u7528 PYTEST \u6765\u8fd0\u884c\uff0c\u6216\u8005\u81ea\u884c\u6539\u5199\u4e3a UNITTEST\nfrom freezegun import freeze_time\n\nimport datetime\nimport unittest\n\n# FREEZE TIME FOR A PYTEST STYLE TEST:\n\n@freeze_time(\"2012-01-14\")\ndef test():\n    assert datetime.datetime.now() == datetime.datetime(2012, 1, 14)\n\ndef test_case2():\n    assert datetime.datetime.now() != datetime.datetime(2012, 1, 14)\n    with freeze_time(\"2012-01-14\"):\n        assert datetime.datetime.now() == datetime.datetime(2012, 1, 14)\n    assert datetime.datetime.now() != datetime.datetime(2012, 1, 14)\n</code></pre> <p>\u6ce8\u610f Python \u7684\u65f6\u95f4\u5e93\u5f88\u591a\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u5176\u5b83\u7684\u5e93\u6765\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\uff0c\u5219 freeze_gun \u5f88\u53ef\u80fd\u4f1a\u4e0d\u8d77\u4f5c\u7528\u3002\u4e0d\u8fc7\uff0c\u5bf9\u7b2c\u4e09\u65b9\u7684\u65f6\u95f4\u5e93\uff0c\u4e00\u822c\u5f88\u5bb9\u6613\u5b9e\u73b0 mock\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#325","title":"3.2.5. \u5982\u4f55\u5236\u9020\u4e00\u573a\u201c\u6df7\u4e71\u201d\uff1f","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u722c\u866b\u5728\u6293\u53d6\u767e\u5ea6\u7684\u70ed\u641c\u8bcd\u3002\u5b83\u7684\u529f\u80fd\u4e3b\u8981\u7531 crawl_baidu \u6765\u5b9e\u73b0\u3002\u6211\u4eec\u53e6\u5916\u6709\u4e00\u4e2a\u51fd\u6570\u5728\u8c03\u7528\u5b83\uff0c\u4ee5\u4fdd\u5b58 crawl_baidu \u7684\u8fd4\u56de\u7ed3\u679c\u3002\u6211\u4eec\u60f3\u77e5\u9053\uff0c\u5982\u679c crawl_baidu \u4e2d\u629b\u51fa\u5f02\u5e38\uff0c\u90a3\u4e48\u8c03\u7528\u51fd\u6570\u662f\u5426\u80fd\u591f\u6b63\u786e\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\u3002</p> <p>\u8fd9\u91cc\u7684\u5173\u952e\u662f\uff0c\u6211\u4eec\u8981\u8ba9 crawl_baidu \u80fd\u629b\u51fa\u5f02\u5e38\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e0d\u80fd\u9760\u62d4\u7f51\u7ebf\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002</p> <p>```python{.line-numbers} import httpx from httpx import get, ConnectError from unittest.mock import patch from unittest import TestCase</p> <p>def crawl_baidu():     return httpx.get(\"https://www.baidu.com\")</p> <p>class ConnectivityTest(TestCase):     def test_connectivity(self):         with patch('httpx.get', side_effect=[\"ok\", ConnectError(\"disconnected\")]):             print(crawl_baidu())</p> <pre><code>        with self.assertRaises(ConnectError):\n            crawl_baidu()\n</code></pre> <p>case = ConnectivityTest() case.test_connectivity() <pre><code>crawl_baidu \u4f9d\u9760 httpx.get \u6765\u722c\u53d6\u6570\u636e\u3002\u6211\u4eec\u901a\u8fc7 mock httpx.get \u65b9\u6cd5\uff0c\u8ba9\u5b83\u6709\u65f6\u8fd4\u56de\u6b63\u5e38\u7ed3\u679c\uff0c\u6709\u65f6\u8fd4\u56de\u5f02\u5e38\u3002\u8fd9\u662f\u901a\u8fc7 side_effect \u6765\u5b9e\u73b0\u7684\u3002\n\n\u6ce8\u610f\u7b2c 14 \u884c\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u662f self.assertRaises\uff0c\u800c\u4e0d\u662f try-except \u6765\u6355\u6349\u5f02\u5e38\u3002\u4e24\u8005\u90fd\u80fd\u591f\u5b9e\u73b0\u68c0\u67e5\u5f02\u5e38\u662f\u5426\u629b\u51fa\u7684\u529f\u80fd\u3002\u4f46\u901a\u8fc7 self.assertRaises\uff0c\u6211\u4eec\u5f3a\u8c03\u4e86\u8fd9\u91cc\u5e94\u8be5\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u5b83\u662f\u6211\u4eec\u6d4b\u8bd5\u903b\u8f91\u7684\u4e00\u90e8\u5206\u3002\u800c try-except \u5219\u5e94\u8be5\u7528\u6765\u5904\u7406\u771f\u6b63\u7684\u5f02\u5e38\u3002\n\n#### 3.2.6. \u6d88\u5931\u7684\u9b54\u6cd5\n\n\u518d\u5f3a\u8c03\u4e00\u904d\uff0c\u201c\u4f7f\u7528 mock \u7684\u5173\u952e\uff0c\u662f\u8981\u627e\u5230\u5f15\u7528\u88ab mock \u5bf9\u8c61\u7684\u6b63\u786e\u65b9\u5f0f\u3002\u201d\u800c\u6b63\u786e\u5f15\u7528\u7684\u5173\u952e\uff0c\u5219\u662f\u8fd9\u6837\u4e00\u53e5\u201c\u5492\u8bed\u201d\n\n!!! Warning\n    Mock an item where it is used, not where it came from\n\n    \u5728\u5bf9\u8c61\u88ab\u4f7f\u7528\u7684\u5730\u65b9\u8fdb\u884c mock, \u800c\u4e0d\u662f\u5728\u5b83\u51fa\u751f\u7684\u5730\u65b9\u3002\n\n\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u8fd9\u4e00\u70b9\uff1a\n\n```python {.line-numbers}\nfrom os import system\nfrom unittest import mock\nimport pytest\n\ndef echo():\n    system('echo \"Hello\"')\n\nwith mock.patch('os.system', side_effect=[Exception(\"patched\")]) as mocked:\n    with pytest.raises(Exception) as e:\n        echo()\n</code></pre></p> <p>\u6211\u4eec\u5728 echo \u65b9\u6cd5\u4e2d\uff0c\u8c03\u7528\u4e86\u7cfb\u7edf\u7684 echo \u547d\u4ee4\u3002\u5728\u6d4b\u8bd5\u4e2d\uff0c\u6211\u4eec\u8bd5\u56fe mock \u4f4f os.system \u65b9\u6cd5\uff0c\u8ba9\u5b83\u4e00\u88ab\u8c03\u7528\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u5f02\u5e38\u3002\u7136\u540e\u6211\u4eec\u901a\u8fc7 pytest \u6765\u68c0\u67e5\uff0c\u5982\u679c\u5f02\u5e38\u629b\u51fa\uff0c\u5219\u8bc1\u660e mock \u6210\u529f\uff0c\u5426\u5219\uff0cmock \u5931\u8d25\u3002</p> <p>\u4f46\u662f\u5982\u679c\u6211\u4eec\u8fd0\u884c\u8fd9\u4e2a\u793a\u4f8b\uff0c\u53ea\u4f1a\u5f97\u5230\u4e00\u4e2a\u53cb\u597d\u7684\u95ee\u5019\uff0cNo errors, No warnings! \u4e3a\u4ec0\u4e48\uff1f</p> <p>\u56e0\u4e3a\u5f53\u6211\u4eec\u5728 echo() \u51fd\u6570\u4e2d\u8c03\u7528 system \u51fd\u6570\u65f6\uff0c\u6b64\u65f6\u7684 system \u5b58\u5728\u4e8e__main__\u540d\u5b57\u7a7a\u95f4\uff0c\u800c\u4e0d\u662f os \u7684\u540d\u5b57\u7a7a\u95f4\u3002os \u540d\u5b57\u7a7a\u95f4\u662f system \u51fa\u751f\u7684\u5730\u65b9\uff0c\u800c__main__\u540d\u5b57\u7a7a\u95f4\u624d\u662f\u4f7f\u7528\u5b83\u7684\u5730\u65b9\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5 patch \u7684\u5bf9\u8c61\u662f'main.system'\uff0c\u800c\u4e0d\u662f'os.system'\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u5c06<code>os.system</code>\u6539\u4e3a<code>__main__.system</code>\uff0c\u91cd\u65b0\u8fd0\u884c\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u9b54\u6cd5\u53c8\u751f\u6548\u4e86\uff01</p> <p>\u5728\u914d\u5957\u4ee3\u7801\u4e2d\uff0c\u8fd8\u6709\u4e00\u4e2a\u540d\u4e3a where_to_patch \u7684\u793a\u4f8b\uff0c\u6211\u4eec\u4e5f\u6765\u770b\u4e00\u4e0b\u3002</p> <pre><code># FOO.PY\ndef get_name():\n    return \"Alice\"\n\n# BAR.PY\nfrom .foo import get_name\n\nclass Bar:\n    def name(self):\n        return get_name()\n\n# TEST.PY\nfrom unittest.mock import patch\n\nfrom where_to_patch.bar import Bar\n\ntmp = Bar()\n\nwith patch('where_to_patch.foo.get_name', return_value=\"Bob\"):\n    name = tmp.name()\n    assert name == \"Bob\"\n</code></pre> <p>\u6d4b\u8bd5\u4ee3\u7801\u4f1a\u629b\u51fa <code>AssertionError: assert \"Alice\" == \"Bob\"\u7684\u9519\u8bef\u3002\u5982\u679c\u6211\u4eec\u628a</code>where_to_patch.foo<code>\u6539\u4e3a</code>where_to_patch.bar`\uff0c\u5219\u6d4b\u8bd5\u901a\u8fc7\u3002\u8fd9\u4e2a\u7a0d\u5fae\u6269\u5c55\u4e86\u4e00\u4e0b\u7684\u4f8b\u5b50\uff0c\u8fdb\u4e00\u6b65\u6e05\u6670\u5730\u6f14\u793a\u4e86\u5982\u4f55\u6b63\u786e\u5f15\u7528\u88ab mock \u5bf9\u8c61\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#4-coverage-","title":"4. Coverage - \u8861\u91cf\u6d4b\u8bd5\u7684\u8986\u76d6\u7387","text":"<p>\u6211\u4eec\u5df2\u7ecf\u638c\u63e1\u4e86\u5982\u4f55\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u3002\u63a5\u4e0b\u6765\uff0c\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u95ee\u9898\u6d6e\u73b0\u51fa\u6765\uff0c\u6211\u4eec\u5982\u4f55\u77e5\u9053\u5355\u5143\u6d4b\u8bd5\u7684\u8d28\u91cf\u5462\uff1f\u8fd9\u5c31\u63d0\u51fa\u4e86\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u6982\u5ff5\u3002\u8986\u76d6\u7387\u6d4b\u91cf\u901a\u5e38\u7528\u4e8e\u8861\u91cf\u6d4b\u8bd5\u7684\u6709\u6548\u6027\u3002\u5b83\u53ef\u4ee5\u663e\u793a\u60a8\u7684\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u5df2\u88ab\u6d4b\u8bd5\u8fc7\uff0c\u54ea\u4e9b\u6ca1\u6709\u3002</p> <p>coverage.py \u662f\u6700\u5e38\u7528\u7684\u6d4b\u91cf Python \u7a0b\u5e8f\u4ee3\u7801\u8986\u76d6\u7387\u7684\u5de5\u5177\u3002\u5b83\u76d1\u89c6\u60a8\u7684\u7a0b\u5e8f\uff0c\u8bb0\u5f55\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u5df2\u88ab\u6267\u884c\uff0c\u7136\u540e\u5206\u6790\u6e90\u4ee3\u7801\u4ee5\u8bc6\u522b\u5df2\u6267\u884c\u548c\u672a\u6267\u884c\u7684\u4ee3\u7801\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u5b89\u88c5 coverage.py\uff1a <pre><code>$ pip install coverage\n</code></pre> \u8981\u6536\u96c6\u6d4b\u8bd5\u8986\u76d6\u7387\u6570\u636e\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u539f\u6765\u7684\u6d4b\u8bd5\u547d\u4ee4\u524d\u52a0\u4e0a coverage run \u5373\u53ef\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u4e4b\u524d\u662f\u4f7f\u7528<code>pytest arg1 arg2 arg3</code>\u6765\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5219\u73b0\u5728\u6211\u4eec\u4f7f\u7528\uff1a <pre><code>$ coverage run -m pytest arg1 arg2 arg3\n</code></pre></p> <p>\u5f53\u6d4b\u8bd5\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>coverage report -m</code>\u6765\u67e5\u770b\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u62a5\u544a\uff1a <pre><code>Name                      Stmts   Miss  Cover   Missing\n-------------------------------------------------------\nmy_program.py                20      4    80%   33-35, 39\nmy_other_module.py           56      6    89%   17-23\n-------------------------------------------------------\nTOTAL                        76     10    87%\n</code></pre> \u5982\u679c\u5e0c\u671b\u5f97\u5230\u66f4\u597d\u7684\u89c6\u89c9\u6548\u679c\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 coverage html \u547d\u4ee4\u6765\u751f\u6210\u5e26\u6ce8\u91ca\u7684 HTML \u62a5\u544a\uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 htmlcov/index.html\u3002 </p> <p>\u4e0d\u8fc7\uff0c\u66f4\u591a\u4eba\u9009\u62e9\u4f7f\u7528 pytest-cov \u63d2\u4ef6\u6765\u8fdb\u884c\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u6536\u96c6\u3002\u8fd9\u4e5f\u662f ppw \u7684\u9009\u62e9\u3002\u901a\u8fc7 ppw \u751f\u6210\u7684\u5de5\u7a0b\uff0cpytest-cov \u5df2\u88ab\u52a0\u5165\u5230\u6d4b\u8bd5\u4f9d\u8d56\u4e2d\uff0c\u56e0\u6b64\u4e5f\u5c31\u81ea\u7136\u5b89\u88c5\u5230\u73af\u5883\u4e2d\u53bb\u4e86\u3002</p> <p>\u56e0\u6b64\uff0c\u901a\u8fc7 ppw \u914d\u7f6e\u7684\u5de5\u7a0b\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u9700\u8981\u76f4\u63a5\u8c03\u7528 coverage \u547d\u4ee4\uff0c\u800c\u662f\u4f7f\u7528 pytest \u547d\u4ee4\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002pytest-cov \u63d2\u4ef6\u4f1a\u81ea\u52a8\u6536\u96c6\u6d4b\u8bd5\u8986\u76d6\u7387\u6570\u636e\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u81ea\u52a8\u5c06\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u6253\u5370\u5230\u63a7\u5236\u53f0\u4e0a\u3002\u5982\u679c\u5e0c\u671b\u751f\u6210\u5e26\u6ce8\u91ca\u7684 HTML \u62a5\u544a\uff0c\u53ef\u4ee5\u4f7f\u7528<code>pytest --cov-report=html</code>\u547d\u4ee4\u3002\u5bf9 pytest \u6211\u4eec\u4e00\u822c\u4e5f\u4e0d\u9700\u8981\u76f4\u63a5\u8c03\u7528\uff0c\u800c\u662f\u901a\u8fc7 tox \u6765\u8c03\u7528\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0ccoverage.py \u5c06\u6d4b\u8bd5\u884c\uff08\u8bed\u53e5\uff09\u8986\u76d6\u7387\uff0c\u4f46\u901a\u8fc7\u914d\u7f6e\uff0c\u8fd8\u53ef\u4ee5\u6d4b\u91cf\u5206\u652f\u8986\u76d6\u7387\u3002\u8fd9\u9700\u8981\u4e00\u4e9b\u914d\u7f6e\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#41-pycoverage","title":"4.1. \u914d\u7f6e Pycoverage","text":"<p>\u914d\u7f6e\u6587\u4ef6\u7684\u9ed8\u8ba4\u540d\u79f0\u662f\u3002coveragerc\uff0c\u5728 ppw \u751f\u6210\u7684\u5de5\u7a0b\u4e2d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5904\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff08\u8bfb\u8005\u53ef\u4ee5\u56de\u5230\u7b2c 4 \u7ae0\u7684\u7ed3\u675f\u90e8\u5206\u67e5\u770b ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\uff09\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6\uff0cCoverage.py \u5c06\u4ece\u5176\u4ed6\u5e38\u7528\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bfb\u53d6\u8bbe\u7f6e\u3002\u5982\u679c\u5b58\u5728\uff0c\u5b83\u5c06\u81ea\u52a8\u4ece\u201csetup.cfg\u201d\u6216\u201ctox.ini\u201d\u4e2d\u8bfb\u53d6\u3002\u5982\u679c\u8282 (section) \u540d\u79f0\u6709\u201ccoverage:\u201d\u524d\u7f00\uff0c\u5219\u4f1a\u5f53\u6210\u662f coverage \u7684\u914d\u7f6e\uff0c\u6bd4\u5982.coveragerc \u4e2d\u6709\u4e00\u8282\u540d\u4e3a run\uff0c\u5f53\u5b83\u51fa\u73b0\u5728 tox.ini \u4e2d\uff0c\u8282\u540d\u5b57\u5c31\u5e94\u8be5\u662f [coverage:run]\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728 pyproject.toml \u4e2d\u914d\u7f6e coverage\u3002\u5982\u679c\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u9700\u8981\u5728 pyproject.toml \u4e2d\u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a tool.coverage \u7684\u8282\uff0c\u7136\u540e\u5728\u8fd9\u4e2a\u8282\u4e2d\u6dfb\u52a0\u914d\u7f6e\u9879\u3002</p> <p>coverage \u7684\u914d\u7f6e\u9879\u9075\u5faa ini \u8bed\u6cd5\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a .coveragerc<pre><code>[run]\nbranch = True\n\n[report]\n# REGEXES FOR LINES TO EXCLUDE FROM CONSIDERATION\nexclude_lines =\n    # HAVE TO RE-ENABLE THE STANDARD PRAGMA\n    pragma: no cover\n\n    # DON'T COMPLAIN ABOUT MISSING DEBUG-ONLY CODE:\n    def __repr__\n    if self\\.debug\n\n    # DON'T COMPLAIN IF TESTS DON'T HIT DEFENSIVE ASSERTION CODE:\n    raise AssertionError\n    raise NotImplementedError\n\n    # DON'T COMPLAIN IF NON-RUNNABLE CODE ISN'T RUN:\n    if 0:\n    if __name__ == .__main__.:\n\n    # DON'T COMPLAIN ABOUT ABSTRACT METHODS, THEY AREN'T RUN:\n    @(abc\\.)?abstractmethod\n\nignore_errors = True\n\n[html]\ndirectory = coverage_html_report\n</code></pre> \u6211\u4eec\u524d\u9762\u63d0\u5230\u8fc7\u53ef\u4ee5\u8ba9 coverage.py \u6309\u5206\u652f\u8986\u76d6\u7387\u6765\u7edf\u8ba1\uff0c\u8fd9\u53ef\u4ee5\u6309\u7167\u7b2c 3 \u884c\u4e00\u6837\u8fdb\u884c\u914d\u7f6e\u3002[report] \u8fd9\u4e00\u8282\u4e2d\u7684\u914d\u7f6e\u9879\u53ef\u4ee5\u8ba9 coverage.py \u5ffd\u7565\u4e00\u4e9b\u4e0d\u9700\u8981\u7edf\u8ba1\u7684\u4ee3\u7801\uff0c\u6bd4\u5982 debug \u4ee3\u7801\u3002[html] \u8fd9\u4e00\u8282\u914d\u7f6e\u4e86\u5982\u679c\u751f\u6210\u7684 html \u6587\u4ef6\u5b58\u653e\u5728\u4f55\u5904\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5c06\u5b58\u653e\u5728 htmlcov \u76ee\u5f55\u4e0b\u3002</p> <p>[run] \u8fd9\u4e00\u8282\u6bd4\u8f83\u5e38\u7528\u7684\u914d\u7f6e\u9879\u6709 include \u548c omit\uff0c\u7528\u6765\u7279\u522b\u628a\u67d0\u4e2a\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u52a0\u5165\u5230\u6d4b\u8bd5\u8986\u76d6\uff0c\u6216\u8005\u6392\u9664\u6389\u3002\u5728 [report] \u8fd9\u4e00\u8282\u4e2d\uff0c\u4e5f\u6709\u76f8\u540c\u7684\u914d\u7f6e\u9879\uff0c\u4e24\u8005\u6709\u6240\u533a\u522b\u3002\u5728 [report] \u4e2d\u6307\u5b9a omit \u6216\u8005 include\uff0c\u90fd\u4ec5\u9002\u7528\u4e8e\u62a5\u544a\u7684\u751f\u6210\uff0c\u4f46\u4e0d\u5f71\u54cd\u5b9e\u9645\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u7edf\u8ba1\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#42","title":"4.2. \u53d1\u5e03\u8986\u76d6\u7387\u62a5\u544a","text":"<p>\u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u662f\u5f00\u6e90\u9879\u76ee\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u628a\u8986\u76d6\u7387\u62a5\u544a\u53d1\u5e03\u5230\u7f51\u4e0a\uff0c\u8fd9\u6837\u5176\u4ed6\u4eba\u5c31\u53ef\u4ee5\u770b\u5230\u4f60\u7684\u9879\u76ee\u7684\u8986\u76d6\u7387\u4e86\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 codecov.io \u6765\u53d1\u5e03\u8986\u76d6\u7387\u62a5\u544a\u3002</p> <p>codecov \u662f\u4e00\u4e2a\u5728\u7ebf\u7684\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\u670d\u52a1\uff0c\u5b83\u53ef\u4ee5\u4ece GitHub\u3001Bitbucket\u3001GitLab \u7b49\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u4e0a\u83b7\u53d6\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a\u5728\u7ebf\u7684\u62a5\u544a\u3002\u8fd9\u4e2a\u62a5\u544a\u53ef\u4ee5\u8ba9\u5176\u4ed6\u4eba\u770b\u5230\u4f60\u7684\u9879\u76ee\u7684\u8986\u76d6\u7387\u60c5\u51b5\u3002</p> <p>\u5728 github \u4e2d\u8bbe\u7f6e codecov \u96c6\u6210\u5f88\u7b80\u5355\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 https://github.com/apps/codecov \u9875\u9762\uff0c\u70b9\u51fb\u5b8c\u6210\u5b89\u88c5\uff0c\u7136\u540e\u5728 CI \u8fc7\u7a0b\u4e2d\u589e\u52a0\u4e00\u4e2a\u4e0a\u4f20\u52a8\u4f5c\u5c31\u53ef\u4ee5\u4e86\u3002\u5728\u901a\u8fc7 ppw \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86\u8fd9\u4e00\u6b65\u3002\u5982\u679c\u4f60\u60f3\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u624b\u52a8\u6267\u884c\uff0c\u5219\u662f\uff1a <pre><code># LINUX\n$ curl -Os https://uploader.codecov.io/latest/linux/codecov \n$ chmod +x codecov \n$ ./codecov\n\n# WINDOWS\n$ ProgressPreference = 'SilentlyContinue' \n$ Invoke-WebRequest -Uri https://uploader.codecov.io/latest/windows/codecov.exe -Outfile codecov.exe \n$ .\\codecov.exe\n\n# MACOS\n$ curl -Os https://uploader.codecov.io/latest/macos/codecov\n$ chmod +x codecov\n$ ./codecov\n</code></pre> \u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4ec5\u901a\u8fc7 CI \u6765\u4e0a\u4f20\u8986\u76d6\u7387\u62a5\u544a\uff0c\u800c\u4e0d\u662f\u5728\u672c\u5730\u6267\u884c\u3002\u56e0\u4e3a\u672c\u5730\u6267\u884c\u7684\u8986\u76d6\u7387\u62a5\u544a\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3a\u672c\u5730\u73af\u5883\u7684\u4e0d\u540c\u800c\u4ea7\u751f\u5dee\u5f02\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5728 CI \u4e2d\u6267\u884c\u540e\uff0c\u6211\u4eec\u8fd8\u80fd\u5728 pull request \u4e4b\u540e\uff0c\u5f97\u5230\u8fd9\u6837\u7684\u72b6\u6001\u62a5\u544a\uff1a  \u5e76\u4e14\u8fd8\u80fd\u5728 pull request \u7684\u6ce8\u91ca\u4e2d\u770b\u5230\u8986\u76d6\u7387\u7684\u53d8\u5316\uff1a  \u8fd9\u4f1a\u8ba9\u4f60\u7684\u5f00\u6e90\u9879\u76ee\u770b\u4e0a\u53bb\u975e\u5e38\u4e13\u4e1a\uff0c\u4e0d\u662f\u5417\uff1f\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8ba9\u4f60\u7684\u6f5c\u5728\u7528\u6237\u66f4\u52a0\u4fe1\u4efb\u8fd9\u662f\u4e00\u4e2a\u9ad8\u8d28\u91cf\u7684\u9879\u76ee\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#5-tox","title":"5. TOX \u5b9e\u73b0\u77e9\u9635\u6d4b\u8bd5","text":"<p>\u5982\u679c\u6211\u4eec\u7684\u8f6f\u4ef6\u652f\u6301 3 \u79cd\u64cd\u4f5c\u7cfb\u7edf\uff0c4 \u4e2a python \u7248\u672c\uff0c\u6211\u4eec\u5c31\u5fc5\u987b\u5728 3 \u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5206\u522b\u521b\u5efa 4 \u4e2a\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5\u4e0a\u6211\u4eec\u7684\u8f6f\u4ef6\u548c\u4f9d\u8d56\uff0c\u518d\u6267\u884c\u6d4b\u8bd5\uff0c\u4e0a\u4f20\u6d4b\u8bd5\u62a5\u544a\u3002\u8fd9\u4e2a\u52a8\u4f5c\u4e0d\u4ec5\u76f8\u5f53\u7e41\u7410\uff0c\u8fd8\u5f88\u5bb9\u6613\u5f15\u5165\u9519\u8bef\u3002</p> <p>tox \u4e0e CI \u7ed3\u5408\uff0c\u5c31\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u5316\u5b8c\u6210\u8fd9\u4e9b\u73af\u5883\u7684\u521b\u5efa\u4e0e\u6d4b\u8bd5\u6267\u884c\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#51-tox","title":"5.1. \u4ec0\u4e48\u662f Tox\uff1f","text":"<p>tox \u662f\u4e00\u4e2a\u901a\u7528\u7684 Python \u865a\u62df\u73af\u5883\u7ba1\u7406\u548c\u6d4b\u8bd5\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u65e8\u5728\u81ea\u52a8\u5316\u548c\u6807\u51c6\u5316 Python \u6d4b\u8bd5\u3002\u5b83\u662f\u7b80\u5316 Python \u8f6f\u4ef6\u7684\u6253\u5305\u3001\u6d4b\u8bd5\u548c\u53d1\u5e03\u8fc7\u7a0b\u7684\u66f4\u5927\u613f\u666f\u7684\u4e00\u90e8\u5206\u3002\u5927\u591a\u6570\u9879\u76ee\u90fd\u4f7f\u7528\u5b83\u6765\u786e\u4fdd\u8f6f\u4ef6\u5728\u591a\u4e2a Python \u89e3\u91ca\u5668\u7248\u672c\u4e4b\u95f4\u7684\u517c\u5bb9\u6027\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0ctox \u4e3b\u8981\u5b8c\u6210\u4ee5\u4e0b\u5de5\u4f5c\uff1a 1. \u6839\u636e\u914d\u7f6e\u521b\u5efa\u57fa\u4e8e\u591a\u4e2a\u7248\u672c\u7684 python \u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u4fdd\u8bc1\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u7684\u53ef\u590d\u5236\u6027\uff08\u9700\u8981\u4e0e poetry \u6216\u8005\u5176\u5b83\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177\u4e00\u8d77\uff09\u3002 2. \u5728\u591a\u4e2a\u73af\u5883\u4e2d\u8fd0\u884c\u6d4b\u8bd5\u548c\u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u6bd4\u5982 pytest \u548c flake8, black, mypy \u7b49\u3002 3. \u9694\u79bb\u73af\u5883\u53d8\u91cf\u3002tox \u4e0d\u4f1a\u4ece\u7cfb\u7edf\u4f20\u9012\u4efb\u4f55\u73af\u5883\u53d8\u91cf\u5230\u865a\u62df\u73af\u5883\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u6d4b\u8bd5\u7684\u53ef\u91cd\u590d\u6027\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#52-tox","title":"5.2. Tox \u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u4e0b\u56fe\u662f tox \u6587\u6863\u663e\u793a\u7684\u5de5\u4f5c\u539f\u7406\u56fe\uff1a</p> <p></p> <p>\u6839\u636e\u8fd9\u5f20\u56fe\uff0ctox \u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff0c\u6253\u5305\u5f85\u6d4b\u8bd5\u8f6f\u4ef6\uff0c\u6309\u7167\u914d\u7f6e\u6587\u4ef6\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u5e76\u5b89\u88c5\u5f85\u6d4b\u8bd5\u8f6f\u4ef6\u548c\u4f9d\u8d56\uff0c\u7136\u540e\u4f9d\u6b21\u6267\u884c\u6d4b\u8bd5\u547d\u4ee4\u3002\u6700\u7ec8\uff0c\u5f53\u6240\u6709\u865a\u62df\u73af\u5883\u4e0b\u7684\u6d4b\u8bd5\u90fd\u901a\u8fc7\u540e\uff0ctox \u4f1a\u751f\u6210\u6d4b\u8bd5\u62a5\u544a\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4e3b\u8981\u901a\u8fc7\u4e00\u4e2a\u5178\u578b\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u4ecb\u7ecd tox \u662f\u5982\u4f55\u914d\u7f6e\u548c\u5de5\u4f5c\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#53-tox","title":"5.3. \u5982\u4f55\u914d\u7f6e Tox","text":"<p>\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5b58\u5728\u4ee5\u4e0b tox.ini \u6587\u4ef6\uff1a tox.ini<pre><code>[tox]\nisolated_build = true\nenvlist = py38, py39, py310, lint\nskipsdist = false\n\n[gh-actions]\npython =\n    3.10: py310\n    3.9: py39\n    3.8: py38\n\n[testenv:lint]\nextras =\n    dev\n    doc\ndeps =\n    poetry\ncommands =\n    poetry run isort {{ cookiecutter.project_slug }}\n    poetry run black {{ cookiecutter.project_slug }} tests\n    poetry run flake8 {{ cookiecutter.project_slug }}\n    poetry build\n    poetry run mkdocs build\n    poetry run twine check dist/*\n\n[testenv]\npassenv = *\nsetenv =\n    PYTHONPATH = {toxinidir}\n    PYTHONWARNINGS = ignore\ndeps = \n    poetry\nextras =\n    test\ncommands =\n    poetry run pytest -s --cov={{ cookiecutter.project_slug }} --cov-append --cov-report=xml --cov-report term-missing tests\n</code></pre></p> <p>\u914d\u7f6e\u6587\u4ef6\u4ecd\u7136\u662f\u6807\u51c6\u7684 ini \u6587\u4ef6\u683c\u5f0f\uff08tox \u4e5f\u652f\u6301\u901a\u8fc7 pyproject.toml \u6765\u8fdb\u884c\u914d\u7f6e\uff09\u3002\u6211\u4eec\u4e3b\u8981\u5173\u6ce8\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\uff1a</p>"},{"location":"articles/python/best-practice-python/chap07/#531-tox","title":"5.3.1. [tox] \u8282","text":"<p>\u5728\u6d4b\u8bd5\u4e00\u4e2a package \u4e4b\u524d\uff0ctox \u9996\u5148\u9700\u8981\u6784\u5efa\u4e00\u4e2a sdit \u5206\u53d1\u5305\u3002\u5728\u6253\u5305\u8fd9\u4ef6\u4e8b\u4e0a\uff0cpython \u8d70\u8fc7\u4e86\u5f88\u957f\u7684\u4e00\u6bb5\u5386\u7a0b\uff0c\u6253\u5305\u5de5\u5177\u548c\u6807\u51c6\u4e5f\u7ecf\u5386\u4e86\u5f88\u591a\u53d8\u5316\uff0c\u8fd9\u4e9b\u6211\u4eec\u5c06\u7528\u4e13\u95e8\u7684\u4e00\u7ae0\u6765\u4ecb\u7ecd\u3002\u73b0\u5728\u6211\u4eec\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u6700\u65b0\u7684\u6807\u51c6\u662f PEP517 \u548c PEP518\uff0ctox \u5df2\u7ecf\u652f\u6301\u8fd9\u4e24\u4e2a\u6807\u51c6\u3002\u4f46\u662f\uff0c\u5982\u679c\u9879\u76ee\u672c\u8eab\u4e0d\u652f\u6301\u8fd9\u4e24\u4e2a PEP\uff0c\u90a3\u4e48 tox \u5fc5\u987b\u56de\u5230\u4e4b\u524d\u7684\u6253\u5305\u65b9\u5f0f\u3002</p> <p>\u56e0\u6b64\uff0ctox \u5f15\u5165\u4e86 isolated_build \u8fd9\u4e2a\u9009\u9879\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0ctox \u4f1a\u4f7f\u7528 PEP517 \u548c PEP518 \u7684\u65b9\u5f0f\u6765\u6253\u5305\u9879\u76ee\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a false\uff0ctox \u4f1a\u4f7f\u7528\u4f20\u7edf\u7684\u65b9\u5f0f (setup.py) \u6765\u6253\u5305\u9879\u76ee\u3002\u5982\u679c\u901a\u8fc7 poetry \u521b\u5efa\u9879\u76ee\uff0c\u5e76\u4e14\u5728 pyproject.toml \u4e2d\u8bbe\u7f6e\u4e86 requires \u548c build-backend \u9879\u7684\u8bdd\uff0c\u90a3\u4e48\u6211\u4eec\u662f\u9700\u8981\u8bbe\u7f6e isolated_build \u4e3a true \u7684\u3002</p> <p>\u5728\u6240\u6709 ppw \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u90fd\u8bbe\u7f6e\u4e86 isolated_build \u4e3a true\uff0c\u8fd9\u6837\u624d\u4e0e pyproject.toml \u7684\u8bbe\u7f6e\u4e00\u81f4\u3002</p> <p>envlist \u9009\u9879\u7684\u542b\u4e49\u6b63\u5982\u5b83\u7684\u540d\u5b57\u6240\u793a\u3002\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u4e86 py38, py39, p310 \u548c lint \u8fd9 4 \u4e2a\u73af\u5883\u3002\u5b83\u4eec\u4e5f\u662f\u865a\u62df\u73af\u5883\u7684\u540d\u5b57\uff0c\u5176\u4e2d py38, py39, py310 \u5bf9\u5e94\u7684 python \u7684\u7248\u672c\u662f 3.8, 3.9, 3.10\u3002\u8fd9\u91cc\u6211\u4eec\u8fd8\u6307\u5b9a\u4e86\u4e00\u4e2a lint \u73af\u5883\uff0c\u5b83\u662f\u7528\u6765\u6267\u884c\u4ee3\u7801\u68c0\u67e5\u7684\u3002\u6211\u4eec\u6ca1\u6709\u4e3a\u5b83\u4e13\u95e8\u6307\u5b9a python \u7684\u7248\u672c\uff0c\u56e0\u6b64\u5b83\u4f1a\u4f7f\u7528\u5f53\u524d\u7684 python \u7248\u672c\u3002</p> <p>\u9ed8\u8ba4\u5730\uff0ctox \u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa.tox \u76ee\u5f55\uff0c\u4e0a\u8ff0\u865a\u62df\u73af\u5883\u5c31\u521b\u5efa\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff1a <pre><code>$ll .tox\n\ntotal 36\ndrwxrwxr-x  9 aaron aaron 4096 Jan 20 23:48 ./\ndrwxrwxr-x 12 aaron aaron 4096 Jan 20 23:48 ../\ndrwxrwxr-x  5 aaron aaron 4096 Jan 20 23:47 .package/\n-rwxrwxr-x  1 aaron aaron    0 Jan 20 23:47 .package.lock*\ndrwxrwxr-x  3 aaron aaron 4096 Jan 20 23:47 .tmp/\ndrwxrwxr-x  2 aaron aaron 4096 Jan 20 23:47 dist/\ndrwxrwxr-x  6 aaron aaron 4096 Jan 20 23:48 lint/\ndrwxrwxr-x  2 aaron aaron 4096 Jan 20 23:47 log/\ndrwxrwxr-x  7 aaron aaron 4096 Jan 20 23:47 py38/\ndrwxrwxr-x  7 aaron aaron 4096 Jan 20 23:48 py39/\n</code></pre> \u5217\u76ee\u5f55\u65f6\uff0c\u663e\u793a\u51fa\u6765\u5b58\u5728 lint, py38 \u548c py39\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u67e5\u770b\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u4e0b\u7684 python \u7248\u672c\u3002\u4f46\u662f\uff0c\u6211\u4eec\u6ca1\u6709\u770b\u5230 py310\uff0c\u8fd9\u91cc\u56e0\u4e3a\u5728\u6211\u6d4b\u8bd5\u65f6\uff0c\u7cfb\u7edf\u8fd8\u6ca1\u6709\u5b89\u88c5 python 3.10 \u8fd9\u4e2a\u7248\u672c\uff0c\u56e0\u6b64 tox \u4f1a\u8df3\u8fc7\u8fd9\u4e2a\u7248\u672c\u3002</p> <p>skipsdist \u9009\u9879\u7528\u6765\u6307\u793a tox \u662f\u5426\u8981\u8df3\u8fc7\u6784\u5efa sdist \u5206\u53d1\u5305\u7684\u6b65\u9aa4\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u4e3b\u8981\u662f\u4e3a\u4e86\u517c\u5bb9 python \u5e94\u7528\u7a0b\u5e8f\uff0c\u56e0\u4e3a tox \u7684\u6d4b\u8bd5\u5bf9\u8c61\u9664\u4e86 library \u4e4b\u5916\uff0c\u8fd8\u53ef\u80fd\u662f\u670d\u52a1\u6216\u8005\u7b80\u5355\u7684\u811a\u672c\u96c6\uff0c\u8fd9\u4e9b\u670d\u52a1\u6216\u8005\u811a\u672c\u96c6\u662f\u6ca1\u6709 setup.py \u6587\u4ef6\uff0c\u4e5f\u65e0\u6cd5\u6784\u5efa sdist \u5206\u53d1\u5305\u7684\u3002\u5982\u679c\u6ca1\u6709\u4e00\u4e2a\u6807\u5fd7\u8ba9 tox \u6765\u8df3\u8fc7\u6784\u5efa sdist \u5206\u53d1\u5305\u7684\u6b65\u9aa4\uff0c\u90a3\u4e48 tox \u4f1a\u62a5\u9519\uff1a <pre><code>ERROR: No pyproject.toml or setup.py file found. The expected locations are:\n  /Users/christophersamiullah/repos/tox_examples/basic/pyproject.toml or \n  /Users/christophersamiullah/repos/tox_examples/basic/setup.py\nYou can\n  1. Create one:\n     https://tox.readthedocs.io/en/latest/example/package.html\n  2. Configure tox to avoid running sdist:\n     https://tox.readthedocs.io/en/latest/example/general.html\n  3. Configure tox to use an isolated_build\n</code></pre> \u8fd9\u4e2a\u9009\u9879\u5728 tox \u4e2d\u662f\u9ed8\u8ba4\u4e3a false \u7684\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u65e0\u987b\u914d\u7f6e\u3002\u6211\u4eec\u51fa\u4e8e\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 tox \u5de5\u4f5c\u539f\u7406\u7684\u76ee\u7684\u4ecb\u7ecd\u5b83</p>"},{"location":"articles/python/best-practice-python/chap07/#532-testenv","title":"5.3.2. [testenv]","text":"<p>\u8fd9\u4e00\u8282\u7684\u914d\u7f6e\u9879\u9002\u7528\u4e8e\u6240\u6709\u7684\u865a\u62df\u73af\u5883\u3002\u5982\u679c\u5728\u67d0\u4e2a\u865a\u62df\u73af\u5883\u4e0b\u5b58\u5728\u7279\u522b\u7684\u9009\u9879\u548c\u52a8\u4f5c\uff0c\u9700\u8981\u8c61 [testenv:lint] \u90a3\u6837\u5b9a\u4e49\u5728\u81ea\u5df1\u7684\u8282\u4e2d\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u8fd8\u989d\u5916\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u73af\u5883\u53d8\u91cf\u5b57\u6bb5\u3002\u6bd4\u5982\u8bbe\u7f6e\u4e86 PYTHONPATH\uff0c\u53e6\u5916\u4e5f\u5ffd\u7565\u4e86\u4e00\u4e9b\u8b66\u544a\u4fe1\u606f\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u4e00\u4e9b\u5e93\u6ca1\u6709\u66f4\u65b0\uff0c\u90a3\u4e48\u5c06\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u6253\u5370\u5927\u91cf\u7684 deprecation \u8b66\u544a\uff0c\u4ece\u800c\u5e72\u6270\u6211\u4eec\u68c0\u67e5\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\u4fe1\u606f\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u5e94\u8be5\u81f3\u5c11\u5728\u6d4b\u8bd5\u4e2d\u6253\u5f00\u4e00\u6b21\u8fd9\u79cd\u8b66\u544a\uff0c\u4ee5\u4fbf\u77e5\u9053\u54ea\u4e9b\u7528\u6cd5\u5df2\u7ecf\u9700\u8981\u66f4\u65b0\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0ctox \u662f\u4e0d\u4f1a\u628a\u5bbf\u4e3b\u673a\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u4f20\u9012\u7ed9\u6d4b\u8bd5\u73af\u5883\u7684\u3002\u4f46\u6709\u4e00\u4e9b\u60c5\u51b5\uff0c\u6bd4\u5982\u91cd\u8981\u670d\u52a1\u7684\u8d26\u53f7\u548c\u53e3\u4ee4\uff0c\u5e76\u4e0d\u9002\u5408\u5199\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u53ea\u80fd\u914d\u7f6e\u5728\u5bbf\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7 passenv \u9009\u9879\u6765\u6307\u5b9a\u9700\u8981\u4f20\u9012\u7684\u73af\u5883\u53d8\u91cf\u3002\u8fd9\u4e2a\u9009\u9879\u7684\u503c\u662f\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u662f\u5355\u4e2a\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4e5f\u53ef\u4ee5\u8c61\u793a\u4f8b\u4e2d\u90a3\u6837\uff0c\u662f\u4e00\u4e2a\u901a\u914d\u7b26\u3002</p> <p>Info</p> <p>\u5728\u56e2\u961f\u5f00\u53d1\u4e2d\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5f00\u53d1\u8005\u90fd\u6709\u6743\u63a5\u89e6\u5230\u91cd\u8981\u670d\u52a1\u7684\u8d26\u53f7\u4e0e\u53e3\u4ee4\u3002\u5982\u679c\u8fd9\u4e9b\u79d8\u5bc6\u4fe1\u606f\u914d\u7f6e\u5728\u4ee3\u7801\u6587\u4ef6\u6216\u8005\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5c31\u4f1a\u5bfc\u81f4\u8fd9\u4e9b\u79d8\u5bc6\u66b4\u9732\u7ed9\u4e86\u6240\u6709\u7684\u5f00\u53d1\u8005\u3002\u6b64\u5916\uff0c\u5982\u679c\u4ee3\u7801\u4ed3\u5e93\u4f7f\u7528\u7684\u662f gitlab\uff0c\u8fd8\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e9b\u4fe1\u606f\u6cc4\u9732\u5230\u4e92\u8054\u7f51\u4e0a\u3002\u6b63\u786e\u7684\u4f5c\u6cd5\u662f\u5c06\u8fd9\u4e9b\u91cd\u8981\u4fe1\u606f\u4ec5\u4ec5\u914d\u7f6e\u5728\u5bbf\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u53ea\u6709\u6709\u6743\u9650\u8bbf\u95ee\u90a3\u53f0\u673a\u5668\u7684\u4eba\u624d\u80fd\u63a5\u89e6\u5230\u8fd9\u4e9b\u79d8\u5bc6\u3002</p> <p>\u8fd9\u662f\u4e00\u79cd\u6807\u51c6\u7684\u505a\u6cd5\uff0c\u4e5f\u5f97\u5230\u4e86 github CI \u7684\u652f\u6301\u3002\u5728 github CI \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 workflow \u6587\u4ef6\u4e2d\u4f7f\u7528 env \u9009\u9879\u6765\u8bfb\u53d6\u73af\u5883\u53d8\u91cf\uff0c\u518d\u7ecf\u7531 tox \u628a\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4f20\u9012\u7ed9\u6d4b\u8bd5\u73af\u5883\u3002</p> <p>deps \u9009\u9879\u58f0\u660e\u4e86\u8981\u5728\u865a\u62df\u73af\u5883\u4e2d\u9700\u8981\u5b89\u88c5\u7684 python \u5e93\u3002\u4e0d\u540c\u7684\u6d4b\u8bd5\u9700\u8981\u7684\u4f9d\u8d56\u53ef\u80fd\u5404\u4e0d\u76f8\u540c\uff0c\u4f46\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u6211\u4eec\u53ea\u9700\u8981\u4e00\u4e2a\u5171\u540c\u7684\u4f9d\u8d56\uff0c\u5373 poetry\u3002\u56e0\u4e3a\u540e\u9762\u7684\u6d4b\u8bd5\u547d\u4ee4\uff0c\u6211\u4eec\u90fd\u4f1a\u901a\u8fc7 poetry \u6765\u8c03\u7528\u3002</p> <p>tox \u5728\u5b89\u88c5\u88ab\u6d4b\u8bd5\u5305\u65f6\uff0c\u4e00\u822c\u662f\u4e0d\u5b89\u88c5\u58f0\u660e\u4e3a extra \u4f9d\u8d56\u7684\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u8fd0\u884c\u6d4b\u8bd5\u548c\u8fdb\u884c lint\uff0c\u6211\u4eec\u5fc5\u987b\u5b89\u88c5 pytest, flake8 \u8fd9\u4e9b\u5e93\u3002\u5728 ppw \u751f\u6210\u7684\u5de5\u7a0b\u4e2d\uff0c\u8fd9\u4e9b\u4f9d\u8d56\u88ab\u5f52\u7c7b\u4e3a dev, test \u548c doc \u8fd9\u4e9b extra \u4f9d\u8d56\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u5fc5\u987b\u5728\u6d4b\u8bd5\u4e2d\u5b89\u88c5\u3002\u5176\u4e2d test \u4f9d\u8d56\u662f\u6240\u6709\u7684\u73af\u5883\u90fd\u9700\u8981\u7684\uff0c\u800c dev \u548c doc \u5219\u662f lint \u65f6\u6240\u9700\u8981\u7684\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5728 [testenv] \u4e2d\u58f0\u660e\u4f9d\u8d56\u5230 test\uff0c\u800c\u53ea\u5728 [testenv:lint] \u4e2d\u4f9d\u8d56\u5230 dev \u548c doc\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f commands \u5b57\u6bb5\u3002\u8fd9\u662f\u771f\u6b63\u6267\u884c\u6d4b\u8bd5\u6216\u8005 lint \u7684\u5730\u65b9\u3002\u8fd9\u91cc\u7684\u547d\u4ee4\u662f\uff1a</p> <p><pre><code>commands =\n    poetry run pytest -s --cov=%package_under_test% --cov-append --cov-report=xml \n    --cov-report term-missing tests\n</code></pre> \"-s\" \u662f\u544a\u8bc9 pytest \u4e0d\u8981\u6355\u83b7\u63a7\u5236\u53f0\u8f93\u5165\u8f93\u51fa\u3002</p> <p>\u5728 ppw \u751f\u6210\u7684\u5de5\u7a0b\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86 pytest-coverage \u63d2\u4ef6\uff0c\u56e0\u6b64\uff0c\u901a\u8fc7\u9002\u5f53\u7684\u914d\u7f6e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6d4b\u8bd5\u65f6\u540c\u65f6\u5b8c\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u7edf\u8ba1\u3002--cov \u7528\u6765\u6307\u793a\u4ee3\u7801\u8986\u76d6\u7684\u8303\u56f4\uff0c\u8fd9\u91cc%package_under_test%\u9700\u8981\u66ff\u6362\u6210\u4e3a\u6211\u4eec\u7684\u5e93\u540d\u5b57\u3002--cov-append \u8868\u660e\u6b64\u6b21\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u5c06\u8ffd\u52a0\u5230\u4e4b\u524d\u7684\u7edf\u8ba1\u6570\u636e\u4e2d\uff0c\u800c\u4e0d\u662f\u5b8c\u5168\u66ff\u6362\u4e4b\u524d\u7684\u6570\u636e\u3002--cov-report \u5c06\u6d4b\u8bd5\u6570\u636e\u8f93\u51fa\u4e3a xml \u683c\u5f0f\u3002--cov-report \u8868\u660e\u5e94\u8be5\u5982\u4f55\u751f\u6210\u62a5\u544a\u3002</p> <p>\u6700\u540e\uff0ctests \u662f\u6211\u4eec\u6d4b\u8bd5\u4ee3\u7801\u6240\u5728\u7684\u6587\u4ef6\u5939\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#533-testenvlint","title":"5.3.3. [testenv.lint]","text":"<p>\u8fd9\u4e00\u8282\u7684\u8bed\u6cd5\u4e0e [testenv] \u5e76\u65e0\u4e8c\u81f4\u3002\u53ea\u4e0d\u8fc7\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u4e0d\u4e00\u6837\u3002\u8fd9\u91cc\u5c31\u4e0d\u518d\u4e00\u4e00\u89e3\u91ca\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/","title":"1. \u7248\u672c\u63a7\u5236\u2014\u2014\u57fa\u4e8eGit\u548cGithub","text":""},{"location":"articles/python/best-practice-python/chap08/#11","title":"1.1. \u7248\u672c\u63a7\u5236\u7684\u610f\u4e49","text":"<p>\u4ec0\u4e48\u662f\u201c\u7248\u672c\u63a7\u5236\u201d\uff1f\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u5173\u5fc3\u5b83\u5462\uff1f</p> <p>\u7248\u672c\u63a7\u5236\u662f\u4e00\u79cd\u8bb0\u5f55\u4e00\u4e2a\u6216\u82e5\u5e72\u6587\u4ef6\u5185\u5bb9\u53d8\u5316\uff0c\u4ee5\u4fbf\u5c06\u6765\u67e5\u9605\u7279\u5b9a\u7248\u672c\u4fee\u8ba2\u60c5\u51b5\u7684\u7cfb\u7edf\u3002\u5728\u672c\u4e66\u5199\u4f5c\u65f6\uff0c\u4f5c\u8005\u5c31\u4f7f\u7528\u4e86\u7248\u672c\u63a7\u5236\uff0c\u5305\u62ec\u6b63\u6587\u5185\u5bb9\u548c\u9644\u5e26\u6e90\u7801\u3002</p> <p>\u5982\u679c\u4f60\u662f\u4f4d\u56fe\u5f62\u6216\u7f51\u9875\u8bbe\u8ba1\u5e08\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u4fdd\u5b58\u67d0\u4e00\u5e45\u56fe\u7247\u6216\u9875\u9762\u5e03\u5c40\u6587\u4ef6\u7684\u6240\u6709\u4fee\u8ba2\u7248\u672c\uff08\u8fd9\u6216\u8bb8\u662f\u4f60\u975e\u5e38\u6e34\u671b\u62e5\u6709\u7684\u529f\u80fd\uff09\uff0c\u91c7\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff08VCS\uff09\u662f\u4e2a\u660e\u667a\u7684\u9009\u62e9\u3002\u6709\u4e86\u5b83\u4f60\u5c31\u53ef\u4ee5\u5c06\u9009\u5b9a\u7684\u6587\u4ef6\u6062\u590d\u5230\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u751a\u81f3\u5c06\u6574\u4e2a\u9879\u76ee\u90fd\u56de\u9000\u5230\u8fc7\u53bb\u67d0\u4e2a\u65f6\u95f4\u70b9\u7684\u72b6\u6001\uff0c\u4f60\u53ef\u4ee5\u6bd4\u8f83\u6587\u4ef6\u7684\u53d8\u5316\u7ec6\u8282\uff0c\u67e5\u51fa\u6700\u540e\u662f\u8c01\u4fee\u6539\u4e86\u54ea\u4e2a\u5730\u65b9\uff0c\u4ece\u800c\u627e\u51fa\u5bfc\u81f4\u602a\u5f02\u95ee\u9898\u51fa\u73b0\u7684\u539f\u56e0\uff0c\u53c8\u662f\u8c01\u5728\u4f55\u65f6\u62a5\u544a\u4e86\u67d0\u4e2a\u529f\u80fd\u7f3a\u9677\u7b49\u7b49\u3002\u4f7f\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u901a\u5e38\u8fd8\u610f\u5473\u7740\uff0c\u5c31\u7b97\u4f60\u4e71\u6765\u4e00\u6c14\u628a\u6574\u4e2a\u9879\u76ee\u4e2d\u7684\u6587\u4ef6\u6539\u7684\u6539\u5220\u7684\u5220\uff0c\u4f60\u4e5f\u7167\u6837\u53ef\u4ee5\u8f7b\u677e\u6062\u590d\u5230\u539f\u5148\u7684\u6837\u5b50\uff0c\u4f46\u989d\u5916\u589e\u52a0\u7684\u5de5\u4f5c\u91cf\u5374\u5fae\u4e4e\u5176\u5fae\u3002</p> <p>\u8bb8\u591a\u4eba\u4e60\u60ef\u7528\u590d\u5236\u6574\u4e2a\u9879\u76ee\u76ee\u5f55\u7684\u65b9\u5f0f\u6765\u4fdd\u5b58\u4e0d\u540c\u7684\u7248\u672c\uff0c\u6216\u8bb8\u8fd8\u4f1a\u6539\u540d\u52a0\u4e0a\u5907\u4efd\u65f6\u95f4\u4ee5\u793a\u533a\u522b\u3002\u8fd9\u4e48\u505a\u552f\u4e00\u7684\u597d\u5904\u5c31\u662f\u7b80\u5355\uff0c\u4f46\u662f\u7279\u522b\u5bb9\u6613\u72af\u9519\u3002\u6709\u65f6\u5019\u4f1a\u6df7\u6dc6\u6240\u5728\u7684\u5de5\u4f5c\u76ee\u5f55\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u4f1a\u5199\u9519\u6587\u4ef6\u6216\u8005\u8986\u76d6\u610f\u60f3\u5916\u7684\u6587\u4ef6\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4eba\u4eec\u5f88\u4e45\u4ee5\u524d\u5c31\u5f00\u53d1\u4e86\u8bb8\u591a\u79cd\u672c\u5730\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u5927\u591a\u90fd\u662f\u91c7\u7528\u67d0\u79cd\u7b80\u5355\u7684\u6570\u636e\u5e93\u6765\u8bb0\u5f55\u6587\u4ef6\u7684\u5386\u6b21\u66f4\u65b0\u5dee\u5f02\u3002\u5728\u8fd9\u4e2a\u9636\u6bb5\u6700\u6d41\u884c\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u53ef\u80fd\u662fRCS\u3002\u5176\u5de5\u4f5c\u539f\u7406\u662f\u5728\u786c\u76d8\u4e0a\u4fdd\u5b58\u8865\u4e01\u96c6\uff08\u8865\u4e01\u662f\u6307\u6587\u4ef6\u4fee\u8ba2\u524d\u540e\u7684\u53d8\u5316\uff09\uff1b\u901a\u8fc7\u5e94\u7528\u6240\u6709\u7684\u8865\u4e01\uff0c\u53ef\u4ee5\u91cd\u65b0\u8ba1\u7b97\u51fa\u5404\u4e2a\u7248\u672c\u7684\u6587\u4ef6\u5185\u5bb9\u3002</p> <p>RCS\u7684\u7f3a\u70b9\u662f\u5b83\u4e0d\u652f\u6301\u5206\u652f\u64cd\u4f5c(\u6211\u4eec\u540e\u9762\u8be6\u7ec6\u4ecb\u7ecd\u4ec0\u4e48\u662f\u5206\u652f\u64cd\u4f5c)\uff0c\u52a0\u4e0a\u5b83\u53ea\u80fd\u7ba1\u7406\u672c\u5730\u6587\u4ef6\uff0c\u65e0\u6cd5\u652f\u6301\u591a\u4eba\u534f\u4f5c\u3002\u56e0\u6b64\u53c8\u53d1\u5c55C/S\u67b6\u6784\u7684\u96c6\u4e2d\u5316\u7248\u672c\u63a7\u5236\u7cfb\u7edf(Centralized Version Control Systems\uff0c\u7b80\u79f0 CVCS\uff09\uff0c\u6bd4\u5982CVS\uff0c subversion\u4ee5\u53caperforce\u3002\u8fd9\u4e9b\u7cfb\u7edf\u7684\u57fa\u672c\u539f\u7406\u662f\uff0c\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u670d\u52a1\u5668\u5145\u5f53\u96c6\u4e2d\u5f0f\u7684\u6587\u4ef6\u5b58\u50a8\u548c\u7248\u672c\u5e93\uff0c\u6240\u6709\u7684\u6587\u4ef6\u90fd\u5fc5\u987b\u901a\u8fc7\u8fd9\u53f0\u670d\u52a1\u5668\u6765\u8bbf\u95ee\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6709\u6548\u5730\u63a7\u5236\u8c01\u53ef\u4ee5\u5e72\u4ec0\u4e48\u4e8b\u60c5\u3002CVCS\u7684\u7f3a\u70b9\u662f\u5fc5\u987b\u8054\u7f51\u624d\u80fd\u5de5\u4f5c\uff0c\u5982\u679c\u5728\u5c40\u57df\u7f51\u73af\u5883\u4e0b\u642d\u5efa\u670d\u52a1\u5668\uff0c\u8fd8\u9700\u8981\u4e00\u53f024\u5c0f\u65f6\u5f00\u673a\u7684\u7535\u8111\u4f5c\u4e3a\u670d\u52a1\u5668\uff0c\u800c\u4e14\u6240\u6709\u7684\u6587\u4ef6\u90fd\u5fc5\u987b\u901a\u8fc7\u8fd9\u53f0\u670d\u52a1\u5668\u6765\u8bbf\u95ee\uff0c\u8fd9\u6837\u5c31\u4f1a\u9020\u6210\u8bbf\u95ee\u901f\u5ea6\u7684\u74f6\u9888\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u4eba\u4eec\u53c8\u5f00\u53d1\u4e86\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf(Distributed Version Control Systems\uff0c\u7b80\u79f0 DVCS\uff09\u3002\u6bd4\u5982Git\uff0cMercurial\uff0cBazaar\u7b49\u3002DVCS\u7684\u57fa\u672c\u539f\u7406\u662f\uff0c\u6bcf\u4e2a\u5f00\u53d1\u8005\u7684\u7535\u8111\u4e0a\u90fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7248\u672c\u5e93\uff0c\u8fd9\u6837\uff0c\u5f53\u67d0\u4e2a\u5f00\u53d1\u8005\u514b\u9686\u4e86\u67d0\u4e2a\u9879\u76ee\u540e\uff0c\u5c31\u62e5\u6709\u4e86\u8fd9\u4e2a\u9879\u76ee\u7684\u5b8c\u6574\u5386\u53f2\u7248\u672c\u3002\u5982\u679c\u5728\u672c\u5730\u4f5c\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u60f3\u8981\u4e0e\u5176\u4ed6\u4eba\u5206\u4eab\uff0c\u53ea\u9700\u8981\u628a\u672c\u5730\u7684\u7248\u672c\u5e93\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u5373\u53ef\u3002\u8fd9\u6837\uff0c\u5176\u4ed6\u4eba\u5c31\u53ef\u4ee5\u4ece\u670d\u52a1\u5668\u4e0a\u6293\u53d6\u6700\u65b0\u7684\u7248\u672c\u5230\u672c\u5730\uff0c\u7136\u540e\u4e0e\u81ea\u5df1\u7684\u4fee\u6539\u8fdb\u884c\u5408\u5e76\uff0c\u518d\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u8fd9\u6837\uff0c\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u5f00\u53d1\u6a21\u5f0f\u3002</p> <p>\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u53ea\u4ecb\u7ecdGit\u8fd9\u4e00\u79cd\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#12-git","title":"1.2. \u7248\u672c\u7ba1\u7406\u5de5\u5177Git","text":"<p>Git\u8bde\u751f\u4e8e2005\u5e74\uff0c\u5b83\u7684\u5f00\u53d1\u8005\u540c\u65f6\u4e5f\u662fLinux\u64cd\u4f5c\u7cfb\u7edf\u7684\u7f14\u9020\u8005Linus Torvalds\u3002\u5b83\u6027\u80fd\u4f18\u8d8a\uff0c\u9002\u5408\u7ba1\u7406\u5927\u9879\u76ee\uff0c\u6709\u7740\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\u7684\u975e\u7ebf\u6027\u5206\u652f\u7ba1\u7406\u7cfb\u7edf\uff0c\u662f\u76ee\u524d\u4e16\u754c\u4e0a\u6700\u6d41\u884c\u7684\u4ee3\u7801\u7ba1\u7406\u7cfb\u7edf\u4e4b\u4e00\u3002</p> <p>Git\u5728\u63a5\u53e3\u4e0a\u57fa\u672c\u5ef6\u7eed\u4e86\u5927\u591a\u6570\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u7684\u6982\u5ff5\u548cAPI\uff0c\u4f46\u5728\u5e95\u5c42\u8bbe\u8ba1\u4e0a\u5374\u98ce\u683c\u8fe5\u5f02\uff0c\u4ece\u800c\u6210\u5c31\u4e86\u5b83\u5f3a\u5927\u7684\u5f15\u64ce\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u662f\uff1a</p> <ol> <li> <p>\u76f4\u63a5\u8bb0\u5f55\u5feb\u7167\uff0c\u800c\u975e\u5dee\u5f02\u6bd4\u8f83\uff1a\u5176\u4ed6\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u5c06\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u7684\u5dee\u5f02\u63d0\u53d6\u4e3a\u589e\u91cf\u8fdb\u884c\u8bb0\u5f55\uff0c\u5f53\u8981\u63d0\u53d6\u6700\u65b0\u6587\u4ef6\u65f6\uff0c\u9700\u8981\u4ece\u6700\u521d\u59cb\u7684\u7248\u672c\u5f00\u59cb\uff0c\u628a\u5230\u6700\u65b0\u7684\u7248\u672c\u4e4b\u95f4\u7684\u6240\u6709\u5dee\u5f02\u4e00\u8def\u5408\u5e76\u8d77\u6765\u3002\u65e9\u671f\u8ba1\u7b97\u673a\u5b58\u50a8\u8d44\u6e90\u6bd4\u8f83\u5b9d\u8d35\uff0c\u56e0\u6b64\u524d\u51e0\u4ee3\u7684\u7248\u672c\u63a7\u5236\u8bbe\u8ba1\u91c7\u7528\u8fd9\u79cd\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u51cf\u5c11\u5bf9\u5b58\u50a8\u8d44\u6e90\u7684\u5360\u7528\u3002Git\u66f4\u50cf\u662f\u628a\u6587\u4ef6\u5f53\u4f5c\u662f\u5bf9\u7279\u5b9a\u6587\u4ef6\u67d0\u4e00\u65f6\u523b\u7684\u5feb\u7167\u3002\u6bcf\u6b21\u4f60\u63d0\u4ea4\u66f4\u65b0\uff0c\u6216\u8005\u4fdd\u5b58\u9879\u76ee\u7684\u5f53\u524d\u72b6\u6001\uff0cGit\u90fd\u4f1a\u5bf9\u5f53\u65f6\u7684\u5168\u90e8\u6587\u4ef6\u5236\u4f5c\u4e00\u4e2a\u5feb\u7167\u5e76\u4fdd\u5b58\u8fd9\u4e2a\u5feb\u7167\u7684\u7d22\u5f15\u3002\u4e3a\u4e86\u9ad8\u6548\uff0c\u5982\u679c\u6587\u4ef6\u6ca1\u6709\u53d8\u5316\uff0cGit\u4e0d\u4f1a\u518d\u6b21\u4fdd\u5b58\uff0c\u800c\u662f\u53ea\u4fdd\u5b58\u4e00\u4e2a\u94fe\u63a5\u5230\u524d\u4e00\u4e2a\u4e00\u6a21\u4e00\u6837\u7684\u6587\u4ef6\u3002Git\u7684\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97Git\u975e\u5e38\u9002\u5408\u5904\u7406\u5927\u578b\u9879\u76ee\uff0c\u800c\u4e14\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p> </li> <li> <p>\u51e0\u4e4e\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u672c\u5730\u6267\u884c\uff1aGit\u7684\u8bbe\u8ba1\u76ee\u6807\u4e4b\u4e00\u5c31\u662f\u4fdd\u8bc1\u901f\u5ea6\u3002Git\u7684\u4e3b\u8981\u64cd\u4f5c\u90fd\u53ea\u9700\u8981\u8bbf\u95ee\u672c\u5730\u6587\u4ef6\u548c\u8d44\u6e90\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u4fe1\u606f\u90fd\u53ef\u4ee5\u5728\u672c\u5730\u627e\u5230\uff0c\u6240\u4ee5Git\u975e\u5e38\u5feb\u3002Git\u7684\u53e6\u4e00\u4e2a\u8bbe\u8ba1\u76ee\u6807\u662f\u80fd\u591f\u53ef\u9760\u5730\u5904\u7406\u5404\u79cd\u975e\u7ebf\u6027\u7684\u5f00\u53d1\uff08\u5206\u652f\uff09\u5386\u53f2\u3002Git\u7684\u5206\u652f\u548c\u5408\u5e76\u64cd\u4f5c\u975e\u5e38\u9ad8\u6548\u3002</p> </li> <li> <p>Git\u7684\u5b8c\u6574\u6027\u4fdd\u8bc1: Git\u4e2d\u7684\u6240\u6709\u6570\u636e\u5728\u5b58\u50a8\u524d\u90fd\u8ba1\u7b97\u6821\u9a8c\u548c\uff0c\u7136\u540e\u4ee5\u6821\u9a8c\u548c\u6765\u5f15\u7528\u3002\u8fd9\u610f\u5473\u7740\uff0cGit\u5728\u5b58\u50a8\u548c\u4f20\u8f93\u6570\u636e\u65f6\uff0c\u4f1a\u81ea\u52a8\u53d1\u73b0\u6570\u636e\u7684\u635f\u574f\u3002</p> </li> <li> <p>\u8ffd\u52a0\u5f0f\u64cd\u4f5c\uff1a\u4f60\u6267\u884c\u7684 Git \u64cd\u4f5c\uff0c\u51e0\u4e4e\u53ea\u5f80 Git \u6570\u636e\u5e93\u4e2d\u6dfb\u52a0\u6570\u636e\u3002\u4e5f\u5c31\u662f\u8bf4 Git \u51e0\u4e4e\u4e0d\u4f1a\u6267\u884c\u4efb\u4f55\u53ef\u80fd\u5bfc\u81f4\u6587\u4ef6\u4e0d\u53ef\u6062\u590d\u7684\u64cd\u4f5c\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u4f7f\u7528 Git \u6210\u4e3a\u4e00\u4e2a\u5b89\u5fc3\u6109\u60a6\u7684\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u6211\u4eec\u6df1\u77e5\u53ef\u4ee5\u5c3d\u60c5\u505a\u5404\u79cd\u5c1d\u8bd5\uff0c\u800c\u6ca1\u6709\u628a\u4e8b\u60c5\u5f04\u7cdf\u7684\u5371\u9669\u3002</p> </li> </ol> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u4e3b\u8981\u6309\u7167git\u7684\u4f7f\u7528\u573a\u666f\u987a\u5e8f\uff0c\u7531\u6d45\u5165\u6df1\u5730\u4ecb\u7ecdgit\u547d\u4ee4\u4e0e\u6280\u5de7\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#121-git","title":"1.2.1. \u521b\u5efagit\u4ed3\u5e93","text":"<p>Git\u4ed3\u5e93\uff08\u6709\u4eba\u4e5f\u79f0\u4f5c\u5b58\u50a8\u5e93\uff09\u662f\u9879\u76ee\u7684\u865a\u62df\u5b58\u50a8\u3002\u5b83\u5141\u8bb8\u60a8\u4fdd\u5b58\u4ee3\u7801\u7684\u7248\u672c\uff0c\u60a8\u53ef\u4ee5\u5728\u9700\u8981\u65f6\u8bbf\u95ee\u8fd9\u4e9b\u7248\u672c\u3002</p> <p>\u901a\u5e38\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u5f0f\u6765\u521b\u5efagit\u4ed3\u5e93\uff0c\u53d6\u51b3\u4e8e\u4f60\u7684\u5f00\u53d1\u5de5\u4f5c\u662f\u5982\u4f55\u5f00\u59cb\u7684\u3002\u4e0d\u8fc7\uff0c\u5728\u6b63\u5f0f\u4ecb\u7ecd\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u770b\u4e00\u4e2a\u6700\u57fa\u7840\u7684\u8bbe\u7f6e\u547d\u4ee4\u3002</p> <p>\u5f53\u4f60\u5728\u67d0\u53f0\u673a\u5668\u4e0a\uff08\u6216\u8005\u67d0\u4e2a\u5de5\u7a0b\u4e2d\uff09\u521d\u59cb\u4f7f\u7528git\u65f6\uff0c\u6211\u4eec\u9700\u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u8bbe\u7f6e\u4f60\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u5730\u5740\u3002\u8fd9\u4e9b\u4fe1\u606f\u5728\u6bcf\u6b21\u63d0\u4ea4\u65f6\u90fd\u4f1a\u7528\u5230\u3002</p> <p><pre><code>$ git config --global user.name \"John Doe\"\n$ git config --global user.email johndoe@example.com\n</code></pre> \u8fd9\u91cc\u5982\u679c\u6211\u4eec\u4f7f\u7528\u4e86--global\u9009\u9879\uff0c\u5982\u6b64\u4e00\u6765\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u4ec5\u9700\u914d\u7f6e\u4e00\u6b21\u3002\u4f46\u5982\u679c\u4f60\u540c\u65f6\u4e3a\u591a\u4e2a\u9879\u76ee\u5de5\u4f5c\uff0c\u5e76\u4e14\u5e0c\u671b\u5728\u4e0d\u540c\u7684\u9879\u76ee\u4e2d\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u5730\u5740\u7684\u8bdd\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e00\u9009\u9879\u3002\u5176\u7ed3\u679c\u662f\uff0c\u8fd9\u4e9b\u914d\u7f6e\u5c06\u4f1a\u88ab\u5199\u5165\u5230\u5f53\u524d\u9879\u76ee\u7684.git/config\u6587\u4ef6\u4e2d\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u5b83\u5de5\u7a0b\u3002\u5f53\u7136\uff0c\u8fd9\u79cd\u6309\u9879\u76ee\u7684\u914d\u7f6e\uff0c\u5fc5\u987b\u7b49\u5230\u9879\u76ee\u4ed3\u5e93\u8bbe\u7f6e\u5b8c\u6210\u4e4b\u540e\u624d\u53ef\u4ee5\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u4ed3\u5e93\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#1211-git-init","title":"1.2.1.1. \u521b\u5efa\u65b0\u7684\u672c\u5730\u4ed3\u5e93: git init","text":"<p>\u8981\u521b\u5efa\u65b0\u7684\u5b58\u50a8\u5e93\uff0c\u60a8\u5c06\u4f7f\u7528git init\u547d\u4ee4\u3002git init\u662f\u60a8\u5728\u65b0\u5b58\u50a8\u5e93\u7684\u521d\u59cb\u8bbe\u7f6e\u671f\u95f4\u4f7f\u7528\u7684\u4e00\u6b21\u6027\u547d\u4ee4\u3002\u6267\u884c\u6b64\u547d\u4ee4\u5c06.git\u5728\u60a8\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b50\u76ee\u5f55\u3002\u8fd9\u4e5f\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4e3b\u5206\u652f\u3002 </p> <p>\u6b64\u793a\u4f8b\u5047\u8bbe\u60a8\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u73b0\u5b58\u7684\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u5e0c\u671b\u628a\u5b83\u52a0\u5165\u7684git\u7684\u7248\u672c\u63a7\u5236\u3002\u6211\u4eec\u9700\u8981\u5148\u8fdb\u5165\u8be5\u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u518d\u8fd0\u884cgit init\u547d\u4ee4\u3002 <pre><code>$ cd /path/to/your/project/root\n$ git init\n</code></pre> \u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a.git\u7684\u5b50\u76ee\u5f55\u3002\u8fd9\u4e2a\u5b50\u76ee\u5f55\u542b\u6709Git\u4ed3\u5e93\u4e2d\u6240\u6709\u7684\u5fc5\u987b\u6587\u4ef6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u662f Git \u4ed3\u5e93\u7684\u9aa8\u5e72\u3002\u4f46\u662f\uff0c\u5728\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u4ec5\u4ec5\u662f\u505a\u4e86\u4e00\u4e2a\u521d\u59cb\u5316\u7684\u64cd\u4f5c\uff0c\u4f60\u7684\u9879\u76ee\u91cc\u7684\u6587\u4ef6\u53d8\u5316\u8fd8\u6ca1\u6709\u88ab\u8ddf\u8e2a\uff08\u5f53\u6211\u4eec\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u514b\u9686\u65f6\uff0c\u6240\u6709\u7684\u6587\u4ef6\u53d8\u5316\u90fd\u5df2\u7ecf\u88ab\u8ddf\u8e2a\u4e86\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#1212-git-clone","title":"1.2.1.2. \u514b\u9686\u73b0\u6709\u5b58\u50a8\u5e93: git clone","text":"<p>\u5982\u679c\u9879\u76ee\u5df2\u7ecf\u5728\u4e2d\u592e\u5b58\u50a8\u5e93\u4e2d\u5efa\u7acb\u8d77\u6765\uff0c\u514b\u9686\u547d\u4ee4\u662f\u7528\u6237\u83b7\u53d6\u672c\u5730\u5f00\u53d1\u514b\u9686\u7684\u6700\u5e38\u7528\u65b9\u5f0f\u3002</p> <p>\u5047\u8bbegithub\u662f\u6211\u4eec\u7684\u670d\u52a1\u5668\uff0c\u6211\u4eec\u9700\u8981\u628a\u672c\u4e66\u5728github\u4e0a\u7684\u4ed3\u5e93\u514b\u9686\u5230\u672c\u5730\uff1a <pre><code>$ git clone git@github.com:zillionare/best-practice-python.git\n</code></pre> \u8fd9\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3abest-practice-python\u7684\u6587\u4ef6\u5939\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548cgit\u4fe1\u606f\u90fd\u5c06\u4fdd\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u3002</p> <p>\u9664\u4e86\u4e0a\u8ff0\u65b9\u5f0f\u8fd8\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528https\u534f\u8bae\u6765\u514b\u9686\uff1a <pre><code>$ git clone https://github.com/zillionare/best-practice-python.git\n</code></pre> \u6216\u8005\u4f7f\u7528github CLI\u6765\u514b\u9686: <pre><code>$ gh repo clone zillionare/best-practice-python\n</code></pre> github CLI\u6709\u7740\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u5b83\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u81ea\u52a8\u5316\u5de5\u4f5c\uff0c\u6211\u4eec\u5c06\u7a0d\u5019\u4ecb\u7ecd\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#122-git-remote","title":"1.2.2. \u5efa\u7acb\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5173\u8054: git remote","text":"<p>\u5982\u679c\u672c\u5730\u4ed3\u5e93\u662f\u901a\u8fc7git clone\u5efa\u7acb\u8d77\u6765\u7684\uff0c\u90a3\u4e48\u5b83\u5c31\u5df2\u7ecf\u548c\u8fdc\u7a0b\u4ed3\u5e93\u5efa\u7acb\u4e86\u5173\u8054\u3002\u5982\u679c\u662f\u901a\u8fc7git init\u5efa\u7acb\u8d77\u6765\u7684\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u901a\u8fc7git remote\u547d\u4ee4\u6765\u5efa\u7acb\u8fd9\u79cd\u5173\u8054\uff0c\u4ee5\u4fbf\u540e\u7eed\u6211\u4eec\u53ef\u4ee5\u5c06\u672c\u5730\u7684\u6539\u52a8\uff0c\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u3002</p> <p>\u5982\u679c\u4f60\u662f\u4e3a\u8be5\u9879\u76ee\u7b2c\u4e00\u4e2a\u521b\u5efa\u4ed3\u5e93\u7684\u4eba\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u4f60\u8fd8\u5f97\u767b\u5f55\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u4e2d\u592e\u4ed3\u5e93\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u56e2\u961f\u7684\u4e00\u5458\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u4e2d\u592e\u4ed3\u5e93\uff0c\u4f60\u9700\u8981\u77e5\u9053\u5b83\u7684URL\u3002</p> <p>\u8c61github, gitlab\uff0c\u6216\u8005bitbucket\u8fd9\u4e9b\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u90fd\u63d0\u4f9b\u4e86web\u754c\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u767b\u5f55\u5230web\u754c\u9762\u4e0a\u8fdb\u884c\u64cd\u4f5c\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u6258\u7ba1\u5e73\u53f0\u662fgithub\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684\u547d\u4ee4\u884c\u5de5\u5177github CLI\u6765\u8fdb\u884c\u64cd\u4f5c\u3002 <pre><code># \u5728github\u4e0a\u521b\u5efa\u4e00\u4e2a\u516c\u5f00\u7684\u4ed3\u5e93\uff0c\u540d\u5b57\u4e3asample\u3002\u5f88\u591a\u65f6\u5019\uff0c\u5f53\u6211\u4eec\u63d0\u5230project_slug\u65f6\uff0c\u6211\u4eec\u6307\u7684\u5c31\u662f\u8fd9\u4e2a\u4ed3\u5e93\u7684\u540d\u5b57\u3002\n$ gh repo create sample --public\n</code></pre> \u663e\u7136\uff0c\u4e0a\u8ff0\u547d\u4ee4\u662f\u9700\u8981\u9274\u6743\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u65e2\u7136\u5df2\u7ecf\u6709\u4e86\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u4e5f\u5f97\u5230\u4e86\u5b83\u7684URL\uff0c\u6211\u4eec\u53ef\u4ee5\u6765\u5efa\u7acb\u672c\u5730\u4e0e\u8fdc\u7a0b\u4e4b\u95f4\u7684\u5173\u8054\u4e86\uff1a <pre><code># \u8bf7\u66ff\u6362\u4e0b\u9762\u8bed\u53e5\u4e2d\u7684{{github_user_name}}\u4e3a\u4f60\u7684github\u7528\u6237\u540d\uff0c{{project_slug}}\u4e3a\u4f60\u7684\u9879\u76ee\u540d\n# \u6bd4\u5982\uff0c git remote add origin git@github.com:zillionare/sample.git\n$ git remote add origin git@github.com:{{github_user_name}}/{{project_slug}}.git\n</code></pre></p> <p>\u8fd9\u4e2a\u547d\u4ee4\u8fd8\u4e3a\u8fdc\u7a0b\u4ed3\u5e93\u5b9a\u4e49\u4e86\u4e00\u4e2a\u522b\u540d\uff0c\u5373origin\u3002\u8fd9\u4e2a\u522b\u540d\u53ef\u4ee5\u662f\u4efb\u610f\u7684\uff0c\u6bd4\u5982\uff0c\u65e2\u7136\u6211\u4eec\u7684\u670d\u52a1\u5668\u4f7f\u7528\u4e86github\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u522b\u540d\u58f0\u79f0\u4e3agithub\u3002\u4e0d\u8fc7origin\u662fgit\u9ed8\u8ba4\u7684\u522b\u540d\uff0c\u56e0\u6b64\uff0c\u591a\u6570\u4eba\u4e00\u822c\u90fd\u4f7f\u7528\u8fd9\u4e2a\u522b\u540d\u3002\u5b9a\u4e49\u4e86\u522b\u540d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u5176\u5b83\u547d\u4ee4\u4e2d\u4f7f\u7528\u522b\u540d\u6765\u4ee3\u66ff\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5730\u5740\uff0c\u4ece\u800c\u53ef\u4ee5\u4f7f\u547d\u4ee4\u53d8\u7b80\u6d01\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#123-add-commit-stash","title":"1.2.3. \u4fdd\u5b58\u66f4\u6539: add, commit, stash\u7b49","text":"<p>\u5f53\u6211\u4eec\u4fee\u6539\u4e86\u5de5\u4f5c\u533a\u7684\u4e00\u4e9b\u6587\u4ef6\uff08\u5305\u62ec\u6dfb\u52a0\u548c\u5220\u9664\uff09\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u5b58\u8fd9\u79cd\u66f4\u6539\u5230\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u6216\u8005\u6682\u65f6\u8d2e\u85cf\u8d77\u6765\u3002\u8fd9\u5c31\u9700\u8981add, commit\u548cstash\u7b49\u547d\u4ee4\u3002</p> <p><pre><code># \u5c06\u6839\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u9012\u5f52\u5730\u52a0\u5165\u8ddf\u8e2a\uff0c\u6682\u5b58\u6a21\u5f0f\n$ git add .\n\n# \u8fdb\u5165\u63d0\u4ea4\u72b6\u6001\n$ git commit -m 'initial project version'\n</code></pre> \u6b64\u65f6\u7528git branch -v\u547d\u4ee4\u770b\u4e00\u4e0b\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u6211\u4eec\u5df2\u7ecf\u5904\u4e8emain\u5206\u652f\u4e0a\uff0c\u800c\u4e14\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2acommit\u3002\u5982\u679c\u5206\u652f\u540d\u662fmaster\uff0c\u5efa\u8bae\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06\u5176\u6539\u4e3amain\uff1a <pre><code>$ git branch -M main\n</code></pre></p> <p>Info</p> <p>\u4ece2022\u5e7410\u67081\u65e5\u8d77\uff0cgithub\u4e0a\u521b\u5efa\u7684\u65b0\u7684\u4ee3\u7801\u4ed3\u5e93\uff0c\u9ed8\u8ba4\u5206\u652f\u90fd\u662fmain\uff0c\u800c\u4e0d\u662f\u4e4b\u524d\u7684master\u3002\u4e0a\u8ff0\u66f4\u540d\u64cd\u4f5c\uff0c\u6b63\u662f\u4e3a\u4e86\u4fdd\u6301\u4e0egithub\u7684\u4e00\u81f4\u6027\u3002</p> <p>github\u5c06\u9ed8\u8ba4\u5206\u652f\u540d\u4ecemaster\u6539\u4e3amain\uff0c\u4e3b\u8981\u662f\u53d72020\u5e746\u6708\u7f8e\u56fd\u7684\"Black Lives Matter\"\u8fd0\u52a8\u7684\u5f71\u54cd\u3002\u8fd9\u4e2a\u8fd0\u52a8\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u53cd\u5bf9\u79cd\u65cf\u6b67\u89c6\uff0c\u800cmaster\u8fd9\u4e2a\u8bcd\uff0c\u6b63\u662f\u4ece\u5974\u96b6\u4e3b\u7684\u89d2\u5ea6\u6765\u547d\u540d\u7684\uff0c\u56e0\u6b64\uff0c\u5c06\u5176\u6539\u540d\u4e3amain\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u6b67\u89c6\u3002</p> <p>\u53d7\"Black Lives Matter\"\u5f71\u54cd\uff0c\u9664\u4e86github, \u8bb8\u591a\u79d1\u6280\u5de8\u5934\u6216\u77e5\u540d\u8f6f\u4ef6\u4e5f\u90fd\u8c03\u6574\u4e86\u81ea\u5df1\u7684\u4e1a\u52a1\u6216\u8005\u4ea7\u54c1\u3002\u6bd4\u5982\uff0cMySQL \u5ba3\u5e03\u5220\u9664 master\u3001\u9ed1\u540d\u5355\u767d\u540d\u5355\u7b49\u672f\u8bed\uff1bLinus Torvalds \u901a\u8fc7\u4e86 Linux \u4e2d\u907f\u514d master/slave \u7b49\u672f\u8bed\u7684\u63d0\u6848\uff1b\u8fd8\u6709 Twitter \u3001GitHub\u3001\u5fae\u8f6f\u3001LinkedIn\u3001Ansible\u3001Splunk\u3001OpenZFS\u3001OpenSSL\u3001JP Morgan\u3001 Android \u79fb\u52a8\u64cd\u4f5c\u7cfb\u7edf\u3001Go \u7f16\u7a0b\u8bed\u8a00\u3001PHPUnit \u548c Curl \u7b49\u5ba3\u5e03\u8981\u5bf9\u6b64\u7c7b\u672f\u8bed\u8fdb\u884c\u5220\u9664\u6216\u66f4\u6539\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8ba1\u7b97\u673a\u672f\u8bed\u653f\u6cbb\u6b63\u786e\u6027\u65e9\u5df2\u4e0d\u662f\u65b0\u9c9c\u8bdd\u9898\u30022004\u5e74\uff0c\u201cmaster/slave\u201d \u66fe\u88ab\u5168\u7403\u8bed\u8a00\u68c0\u6d4b\u673a\u6784\u8bc4\u4e3a\u5e74\u5ea6\u6700\u4e0d\u653f\u6cbb\u6b63\u786e\u7684\u5341\u5927\u8bcd\u6c47\u4e4b\u4e00\u30022018\u5e74\uff0cIETF\u4e5f\u5728\u8349\u6848\u5f53\u4e2d\u6307\u51fa\uff0c\u8981\u6c42\u5f00\u6e90\u8f6f\u4ef6\u66f4\u6539 \u201cmaster/slave\u201d \u548c \u201cblacklist/whitelist\u201d \u4e24\u9879\u8868\u8ff0\u3002\u5982\u679c\u6211\u4eec\u7684\u8f6f\u4ef6\u662f\u9762\u5411\u5168\u7403\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u8fd9\u4e9b\u672f\u8bed\uff0c\u4ee5\u514d\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u8bef\u89e3\u3002</p> <p>\u60a8\u5df2\u7ecf\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u5c06\u53d8\u66f4\u8bb0\u5f55\u5230git\u7cfb\u7edf\u4e2d\u7684\u6b65\u9aa4\u4e0d\u6b62\u4e00\u6b65\u3002\u5b9e\u9645\u4e0a\uff0cgit\u4e2d\u7684\u5f88\u591a\u64cd\u4f5c\u90fd\u662f\u591a\u9636\u6bb5\u7684\uff0c\u5e38\u5e38\u4f1a\u7ecf\u5386\u4e00\u4e2astaging\uff0c\u518dpush\u7684\u8fc7\u7a0b\u3002\u5728\u7ee7\u7eed\u4ecb\u7ecd\u5176\u5b83\u573a\u666f\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u6df1\u5165\u4ecb\u7ecd\u4e00\u4e0b\u76f8\u5173\u8054\u7684\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5: HEAD, index\u548cworking tree\u3002</p> <p>HEAD</p> <p>\u662f\u5f53\u524d\u5206\u652f\u5f15\u7528\u7684\u6307\u9488\uff0c\u5b83\u603b\u662f\u6307\u5411\u8be5\u5206\u652f\u4e0a\u7684\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u3002\u8fd9\u8868\u793aHEAD\u5c06\u662f\u4e0b\u4e00\u6b21\u63d0\u4ea4\u7684\u7236\u7ed3\u70b9\u3002\u901a\u5e38\uff0c\u7406\u89e3HEAD\u7684\u6700\u7b80\u65b9\u5f0f\uff0c\u5c31\u662f\u5c06\u5b83\u770b\u505a\u8be5\u5206\u652f\u4e0a\u7684\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u7684\u5feb\u7167\u3002</p> <p>\u7d22\u5f15</p> <p>\u7d22\u5f15\u662f\u4f60\u7684\u9884\u671f\u7684\u4e0b\u4e00\u6b21\u63d0\u4ea4\u3002\u6211\u4eec\u4e5f\u4f1a\u5c06\u8fd9\u4e2a\u6982\u5ff5\u5f15\u7528\u4e3aGit\u7684\u201c\u6682\u5b58\u533a(Staging Area)\u201d\uff0c\u8fd9\u5c31\u662f\u5f53\u4f60\u8fd0\u884c git commit\u65f6Git\u770b\u8d77\u6765\u7684\u6837\u5b50\u3002</p> <p>Git \u5c06\u4e0a\u4e00\u6b21\u68c0\u51fa\u5230\u5de5\u4f5c\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u586b\u5145\u5230\u7d22\u5f15\u533a\uff0c\u5b83\u4eec\u770b\u8d77\u6765\u5c31\u50cf\u6700\u521d\u88ab\u68c0\u51fa\u65f6\u7684\u6837\u5b50\u3002 \u4e4b\u540e\u4f60\u4f1a\u5c06\u5176\u4e2d\u4e00\u4e9b\u6587\u4ef6\u66ff\u6362\u4e3a\u65b0\u7248\u672c\uff0c\u63a5\u7740\u901a\u8fc7 git commit \u5c06\u5b83\u4eec\u8f6c\u6362\u4e3a\u6811\u6765\u7528\u4f5c\u65b0\u7684\u63d0\u4ea4\u3002</p> <p>\u5de5\u4f5c\u76ee\u5f55 \u6700\u540e\uff0c\u4f60\u5c31\u6709\u4e86\u81ea\u5df1\u7684\u5de5\u4f5c\u76ee\u5f55\uff08\u901a\u5e38\u4e5f\u53eb\u5de5\u4f5c\u533a\uff09\u3002\u53e6\u5916\u4e24\u68f5\u6811\uff08\u5373HEAD\u548cINDEX\uff09\u4ee5\u4e00\u79cd\u9ad8\u6548\u4f46\u5e76\u4e0d\u76f4\u89c2\u7684\u65b9\u5f0f\uff0c\u5c06\u5b83\u4eec\u7684\u5185\u5bb9\u5b58\u50a8\u5728.git\u6587\u4ef6\u5939\u4e2d\u3002\u5de5\u4f5c\u76ee\u5f55\u4f1a\u5c06\u5b83\u4eec\u89e3\u5305\u4e3a\u5b9e\u9645\u7684\u6587\u4ef6\u4ee5\u4fbf\u7f16\u8f91\u3002\u4f60\u53ef\u4ee5\u628a\u5de5\u4f5c\u76ee\u5f55\u5f53\u505a \u6c99\u76d2\u3002\u5728\u4f60\u5c06\u4fee\u6539\u63d0\u4ea4\u5230\u6682\u5b58\u533a\u5e76\u8bb0\u5f55\u5230\u5386\u53f2\u4e4b\u524d\uff0c\u53ef\u4ee5\u968f\u610f\u66f4\u6539\u3002</p> <p>\u4e0b\u56fe\u5219\u5c55\u793a\u4e86\u8fd9\u4e09\u4e2a\u6982\u5ff5\u7684\u5173\u7cfb\uff1a</p> <p></p> <p>\u6211\u4eec\u7ed3\u5408\u547d\u4ee4\u548c\u56fe\u793a\u6765\u89e3\u91ca\u53d8\u66f4\u7684\u6d41\u52a8\u3002</p> <p><pre><code>$ git status\n\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git restore &lt;file&gt;...\" to discard changes in working directory)\n        modified:   README.md\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n</code></pre> status\u547d\u4ee4\u63d0\u793a\u6587\u4ef6\u5904\u5728\u5de5\u4f5c\u533a\uff0c\u8fd8\u6ca1\u8fdb\u5165\u5230staged\u533a\u57df\u3002 \u6b64\u65f6\u5728vscode\u4fa7\u9762\u677f\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230README.md\u6587\u4ef6\u51fa\u73b0\u5728changes\u7c7b\u522b\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7git add\u547d\u4ee4\u5c06README.md\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff0c\u7136\u540e\u518d\u6b21\u67e5\u770b\u72b6\u6001\uff1a <pre><code>$ git add README.md\n$ git status\n\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges to be committed:\n  (use \"git restore --staged &lt;file&gt;...\" to unstage)\n        modified:   README.md\n</code></pre> status\u63d0\u793aREADME.md\u5f53\u524d\u5904\u4e8estaged\u533a\u57df\uff0c\u4f46\u8fd8\u6ca1\u6709\u63d0\u4ea4\u3002 \u6b64\u65f6\u5728vscode\u4fa7\u9762\u677f\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230README.md\u6587\u4ef6\u51fa\u73b0\u5728staged\u7c7b\u522b\u4e0b\uff1a</p> <p></p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u63d0\u4ea4\u5230\u672c\u5730\u4ed3\u5e93\uff1a <pre><code>$ git commit -m \"update README.md\"\n$ git status\n\nOn branch main\nYour branch is ahead of 'origin/main' by 1 commit.\n  (use \"git push\" to publish your local commits)\n\nnothing to commit, working tree clean\n</code></pre> \u73b0\u5728\uff0c\u4e09\u4e2a\u533a\u57df\u7684\u72b6\u6001\u5b8c\u5168\u4e00\u81f4\u3002\u4f46\u63d0\u793a\u6211\u4eec\uff0c\u672c\u5730\u5206\u652f\u9886\u5148\u8fdc\u7a0bmain\u5206\u652f\u4e00\u4e2a\u63d0\u4ea4\u3002\u5373\u6211\u4eec\u521a\u521a\u7684\u63d0\u4ea4\u8fd8\u6ca1\u540c\u6b65\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002</p> <p>\u6b64\u65f6\u5728vscode\u4fa7\u9762\u677f\u4e0a\uff0cSOURCE CONTROL\u7c7b\u522b\u4e0b\u5df2\u6e05\u7a7a\uff0c\u53ea\u51fa\u73b0\u4e86\u4e00\u4e2a\"sync changes\u201c\u7684\u6309\u952e\u3002\u8be5\u63d0\u4ea4\u5c06\u53ef\u4ee5\u5728COMMITS\u7c7b\u522b\u4e0b\u770b\u5230\u3002</p> <p></p> <p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u9047\u5230\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\u3002\u4f60\u5728\u67d0\u4e2a\u5206\u652f\u4e0a\u5df2\u7ecf\u5de5\u4f5c\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u4f46\u8fd8\u6ca1\u6709\u5230\u53ef\u4ee5\u63d0\u4ea4\u7684\u7a0b\u5ea6\u3002\u4f46\u662f\u53c8\u88ab\u5206\u914d\u5230\u53e6\u4e00\u4e2a\u7d27\u6025\u4efb\u52a1\uff0c\u4f60\u4e0d\u5f97\u4e0d\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u5206\u652f\u4e0a\u7d27\u6025\u5904\u7406\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5c06\u5f53\u524d\u5de5\u4f5c\u533a\u7684\u53d8\u66f4\u6682\u65f6\u8d2e\u85cf\u8d77\u6765\uff0c\u7136\u540e\u518d\u5207\u6362\u5230\u53e6\u4e00\u4e2a\u5206\u652f\u4e0a\u5904\u7406\u7d27\u6025\u4efb\u52a1\u3002\u7b49\u7d27\u6025\u4efb\u52a1\u5904\u7406\u5b8c\u6bd5\u540e\uff0c\u518d\u5207\u6362\u56de\u539f\u6765\u7684\u5206\u652f\uff0c\u628a\u8d2e\u85cf\u7684\u53d8\u66f4\u6fc0\u6d3b\uff0c\u7ee7\u7eed\u539f\u6765\u7684\u5de5\u4f5c\u3002</p> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u5230stash\u547d\u4ee4\u3002\u4e0b\u9762\u662fgit stash\u7684\u4e00\u4e9b\u547d\u4ee4\u884c\u4f8b\u5b50\uff0c\u7136\u540e\u6211\u4eec\u770b\u770b\u5982\u4f55\u4ece\u56fe\u5f62\u754c\u9762\u6765\u4f7f\u7528\u5b83: <pre><code># \u8d2e\u85cf\u5f53\u524d\u672a\u63d0\u4ea4\u7684\u53d8\u66f4\n$ git stash\nSaved working directory and index state \\\n  \"WIP on master: 049d078 added the index file\"\nHEAD is now at 049d078 added the index file\n(To restore them type \"git stash apply\")\n\n# \u67e5\u770b\u6240\u6709\u7684\u8d2e\u85cf\n$ git stash list\nstash@{0}: WIP on master: 049d078 added the index file\nstash@{1}: WIP on master: c264051 Revert \"added file_size\"\nstash@{2}: WIP on master: 21d80a5 added number to log\n\n# \u5e94\u7528\u6700\u8fd1\u7684\u8d2e\u85cf\uff0c\u4f46\u4e0d\u5220\u9664\u5b83\u3002\n$ git stash apply\nOn branch master\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\n    modified:   index.html\n    modified:   lib/simplegit.rb\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n\n# \u5e94\u7528\u6700\u8fd1\u7684\u8d2e\u85cf\uff0c\u5e76\u5220\u9664\u5b83\ngit stash pop\n\n# \u76f4\u63a5\u5220\u9664\u6700\u8fd1\u7684\u8d2e\u85cf\ngit stash drop\n</code></pre> \u5f53\u6211\u4eec\u5e94\u7528\u8d2e\u85cf\u65f6\uff0c\u8d2e\u85cf\u4e2d\u7684\u53d8\u66f4\u4f1a\u88ab\u5e94\u7528\u5230\u5f53\u524d\u7684\u5de5\u4f5c\u533a\uff0c\u8fd9\u4e5f\u53ef\u80fd\u53d1\u751f\u51b2\u7a81\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u89e3\u51b3\u3002\u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\uff0c\u6211\u4eec\u6ca1\u6709\u6307\u5b9a\u8981\u64cd\u4f5c\u7684\u8d2e\u85cf\u7684\u540d\u5b57\uff0c\u6240\u4ee5\u64cd\u4f5c\u7684\u76ee\u6807\u90fd\u662f\u6700\u8fd1\u7684\u8d2e\u85cf\u3002\u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u64cd\u4f5c\u65f6\uff0c\u6307\u5b9astash\u7684\u540d\u5b57\u3002</p> <p>\u5728git lens\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\"Changes\"\u9762\u677f\u4e2d\uff0c\u5c06\u5f53\u524d\u7684\u53d8\u66f4\u8d2e\u85cf\uff1a</p> <p> \u4e0a\u56fe\u4e2d\u7ea2\u8272\u6846\u5185\u7684\u6309\u94ae\u5373\u662f\u201dstash all\"\u6309\u94ae\u3002\u6211\u4eec\u70b9\u51fb\u5b83\uff0c\u5c31\u53ef\u4ee5\u5c06\u5f53\u524d\u7684\u53d8\u66f4\u8d2e\u85cf\u8d77\u6765\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728\"Stashes\"\u9762\u677f\u4e2d\uff0c\u67e5\u770b\u6240\u6709\u7684\u8d2e\u85cf\uff1a</p> <p> \u70b9\u51fb\"Apply\"\u6309\u94ae\uff0c\u5728\u5f39\u51fa\u6765\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u7ed9\u6211\u4eec\u4e24\u4e2a\u63d0\u793a\uff0c\u4e00\u4e2a\u662f\u53ea\u5e94\u7528\uff0c\u4e0d\u5220\u9664\u8be5\u8d2e\u85cf\uff1b\u53e6\u4e00\u4e2a\u662f\u5e94\u7528\u5e76\u5220\u9664\u8be5\u8d2e\u85cf\uff1a</p> <p></p> <p>\u6700\u540e\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e0b.gitignore\u6587\u4ef6\u3002\u6709\u4e00\u4e9b\u6587\u4ef6\u6211\u4eec\u5e76\u4e0d\u60f3git\u8fdb\u884c\u8ddf\u8e2a\uff0c\u6bd4\u5982IDE\u4ea7\u751f\u7684\u4e34\u65f6\u6587\u4ef6\u3001\u65e5\u5fd7\u6587\u4ef6\uff0c\u6d89\u53ca\u5230\u5bc6\u7801\u7684\u67d0\u4e9b\u6587\u4ef6\uff08\u6bd4\u5982.env)\u7b49\u7b49\u3002\u8fd9\u4e9b\u6587\u4ef6\u6211\u4eec\u53ef\u4ee5\u5728.gitignore\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0cgit\u5c31\u4f1a\u5ffd\u7565\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>.gitignore\u6587\u4ef6\u7684\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u7b26\u5408globbing patterns\u7684\u6a21\u5f0f\u3002\u88ab\u8be5\u6a21\u5f0f\u5339\u914d\u4e0a\u7684\u6587\u4ef6\uff08\u6216\u8005\u6587\u4ef6\u5939\uff09\uff0c\u5c06\u4e0d\u4f1a\u88abgit\u8ddf\u8e2a\u3002\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u76f8\u5173\u7684\u6269\u5c55\u6765\u534f\u52a9\u7ba1\u7406\u6b64\u6587\u4ef6\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#124-git-pushgit-pull","title":"1.2.4. \u4e0e\u4ed6\u4eba\u540c\u6b65\u53d8\u66f4: git push\u548cgit pull","text":"<p>\u524d\u9762\u7684\u64cd\u4f5c\u53ea\u662f\u628a\u53d8\u66f4\u8bb0\u5f55\u5728\u672c\u5730\u7684git\u7cfb\u7edf\u4e2d\u3002\u4e3a\u4e86\u4f7f\u5f97\u8fd9\u4e9b\u53d8\u66f4\u80fd\u4e3a\u4ed6\u4eba\u6240\u89c1\uff0c\u6211\u4eec\u5f97\u628a\u8fd9\u4e9b\u53d8\u66f4\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u3002</p> <p><pre><code>$ git push -u origin main\n</code></pre> -u\u53c2\u6570\u662f\u4e3a\u4e86\u5c06\u672c\u5730\u7684main\u5206\u652f\u4e0e\u8fdc\u7a0b\u7684main\u5206\u652f\u5173\u8054\u8d77\u6765\uff0c\u5728\u4ee5\u540e\u7684\u63a8\u9001\u6216\u8005\u62c9\u53d6main\u5206\u652f\u65f6\uff0c\u5c31\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7b80\u5316\u547d\u4ee4\uff1a <pre><code># \u5f53\u6211\u4eec\u4e0d\u6307\u5b9a\u5206\u652f\u540d\u65f6\uff0cgit\u4f1a\u4f7f\u7528\u5f53\u524d\u5206\u652f\n$ git push\n\n# \u4ece\u8fdc\u7a0b\u4ed3\u5e93\u62c9\u53d6\u5176\u5b83\u4eba\u6240\u505a\u7684\u53d8\u66f4\n$ git pull\n</code></pre></p> <p>\u6ce8\u610f\uff0c\u672c\u5730\u4ed3\u5e93\u4e0e\u670d\u52a1\u5668\u5173\u8054\u7684\u547d\u4ee4\uff08\u5373<code>git remote add</code>\uff09\u53ea\u9700\u8981\u6267\u884c\u4e00\u6b21\uff0c\u800c\u6bcf\u6b21\u521b\u5efa\u4e86\u65b0\u7684\u5206\u652f\u540e\uff0c\u5728\u8fd9\u4e00\u6b21\u5f80\u8be5\u5206\u652f\u63a8\u9001\u53d8\u66f4\u65f6\uff0c\u6211\u4eec\u90fd\u8981\u6267\u884c<code>git push -u ...</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5728\u63a8\u9001\u7684\u540c\u65f6\uff0c\u4e5f\u5b8c\u6210\u672c\u5730\u5206\u652f\u4e0e\u8fdc\u7a0b\u5206\u652f\u7684\u7ed1\u5b9a\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#125-git","title":"1.2.5. git\u6807\u7b7e","text":"<p>\u968f\u7740\u5f00\u53d1\u7684\u8fdb\u884c\uff0c\u7ec8\u6709\u4e00\u5929\uff0c\u6211\u4eec\u4f1a\u5230\u8fbe\u67d0\u4e2a\u91cd\u8981\u7684\u8282\u70b9\uff0c\u6bd4\u5982\u67d0\u4e2a\u7248\u672c\u5b8c\u6210\u3002\u6b64\u65f6\u6211\u4eec\u5c31\u4f1a\u7ed9\u4ed3\u5e93\u7684\u67d0\u4e2a\u72b6\u6001\u6253\u4e0a\u6807\u7b7e\uff0c\u65b9\u4fbf\u56de\u6eaf\u3002\u8fd9\u5c31\u9700\u8981\u7528\u5230git tag\u7684\u4e00\u7cfb\u5217\u547d\u4ee4\u3002 <pre><code># \u5217\u51fa\u6240\u6709\u7684\u6807\u7b7e\n$ git tag\nv0.9\nV1.0\nv1.0.2\n\n# \u6709\u7b5b\u9009\u5730\u5217\u51fa\u6807\u7b7e\ngit tag --list \"v1.0.*\"\nv0.9\nv1.0\nv1.0.2\n\n# \u521b\u5efa\u6807\u7b7e\uff1a\u4f7f\u7528-a\u9009\u9879\u6307\u5b9a\u6807\u7b7e\u540d\uff0c-m\u6307\u5b9a\u6807\u7b7e\u7684\u63cf\u8ff0\u6587\u5b57\n$ git tag -a v1.4 -m \"my version 1.4\"\n$ git tag\nv0.9\nv1.0\nv1.0.2\nv1.4\n\n$ git tag -a v1.5 -m \"my version 1.5\"\n$ git tag\nv0.9\nv1.0\nv1.0.2\nv1.4\nv1.5\n\n# \u67e5\u770b\u6807\u7b7e\u4fe1\u606f\n$ git show v1.5\n\ntag v1.5\nTagger: zillionare &lt;aaron_yang@jieyu.ai&gt;\nDate:   Mon Jan 23 15:10:55 2023 +0800\n\nsecond\n\ncommit 57eb735f513c753e49b2fe3005ccfa9b3412762d (HEAD -&gt; main, tag: v1.4, tag: v1.5, origin/main)\nAuthor: zillionare &lt;aaron_yang@jieyu.ai&gt;\nDate:   Mon Jan 23 10:19:28 2023 +0800\n</code></pre> \u8fd9\u91cc\u6211\u4eec\u7a0d\u4f5c\u505c\u987f\uff0c\u89e3\u91ca\u4e0b\u6807\u7b7e\u7a76\u7adf\u610f\u5473\u7740\u4ec0\u4e48\u3002\u524d\u9762\u6211\u4eec\u8bf4\u8fc7\uff0c\u521b\u5efa\u6807\u7b7e\u662f\u7ed9\u4ed3\u5e93\u7684\u67d0\u4e2a\u72b6\u6001\u6253\u4e0a\u6807\u8bb0\u7684\u52a8\u4f5c\u3002\u5728\u4e0a\u9762\u793a\u4f8b\u4e2d\u7684\u7b2c14\u884c\u548c\u7b2c21\u884c\uff0c\u6211\u4eec\u5728\u6ca1\u6709\u4efb\u4f55\u65b0\u7684\u63d0\u4ea4\u7684\u60c5\u51b5\u4e0b\uff0c\u8fde\u7eed\u521b\u5efa\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684\u6807\u7b7e\u3002\u8003\u8651\u5230\u6211\u4eec\u7684\u4ed3\u5e93\u662f\u4e00\u4e2a\u7ebf\u6027\u7684\u63d0\u4ea4\u5386\u53f2\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6807\u7b7e\u7a76\u7adf\u6307\u5411\u4e86\u4ec0\u4e48\u5462\uff1f\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86\uff0c\u8fd9\u4e24\u4e2a\u6807\u7b7e\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u63d0\u4ea4\uff0c\u537357eb\u3002\u8fd9\u4e24\u4e2a\u6807\u7b7e\u5173\u8054\u7684\u90fd\u662f57eb\u63d0\u4ea4\u4e4b\u540e\u7684\u4ed3\u5e93\u72b6\u6001\u3002\u8fd9\u4e5f\u8bf4\u660e\uff0c\u6807\u7b7e\u4e0e\u63d0\u4ea4\u672c\u8eab\u4e0d\u662f\u4e00\u5bf9\u4e00\u7684\u6620\u5c04\uff0c\u800c\u662f\u591a\u5bf9\u4e00\u7684\u6620\u5c04\u3002</p> <p>\u65e2\u7136\u6807\u7b7e\u662f\u6307\u5411\u63d0\u4ea4\u7684\uff0c\u60a8\u53ef\u80fd\u4f1a\u60f3\uff0c\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u4e3a\u8fc7\u53bb\u7684\u67d0\u4e2a\u72b6\u6001\u8ffd\u52a0\u6807\u7b7e\uff1f\u60a8\u7684\u731c\u6d4b\u662f\u6b63\u786e\u7684\uff0c\u6211\u4eec\u786e\u5b9e\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a <pre><code># \u5047\u8bbe\u6211\u4eec\u53c8\u5411\u4ed3\u5e93\u505a\u4e86\u82e5\u5e72\u63d0\u4ea4\u4e4b\u540e\uff0c\u53d1\u73b0\u9700\u8981\u5bf9'57eb'\u8fd9\u4e2a\u63d0\u4ea4\u6253\u4e0a\u6807\u7b7e\ngit tag -a v1.6 57eb -m \"my version 1.6\"\n</code></pre></p> <p>Info</p> <p>\u524d\u9762\u8bb2\u8fc7\uff0c\u5728git\u4e2d\uff0c\u8bb8\u591a\u5bf9\u8c61\u7684\u6807\u8bc6\u7b26\u90fd\u662f\u4e00\u4e2ahash\u4e32\u3002\u6bcf\u4e00\u6b21\u63d0\u4ea4\u7684\u6807\u8bc6\u7b26\u4e5f\u662f\u4e00\u6837\uff0c\u5b83\u662f\u57fa\u4e8eSHA-1\u7b97\u6cd5\u7684\u4e00\u4e2a40\u5b57\u8282\u7684hash\u4e32\u3002</p> <p>\u5728\u521a\u521a\u7684\u547d\u4ee4\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u63d0\u4ea4(commit)\u7684hash\u4e32\u7684\u524d4\u4e2a\u5b57\u8282\u6765\u4ee3\u66ff\u6574\u4e2ahash\u4e32\u3002\u5728git\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u53ea\u4f7f\u7528\u63d0\u4ea4\u7684hash\u4e32\u7684\u524d\u82e5\u5e72\u4e2a\u5b57\u8282\u6765\u4ee3\u66ff\u6574\u4e2ahash\u4e32\uff0c\u53ea\u8981\u5b83\u662f\u60df\u4e00\u7684\u5e76\u4e14\u5927\u4e8e4\u4e2a\u5b57\u8282\u3002</p> <p>\u4e5f\u8bb8\u60a8\u4f1a\u611f\u5230\u597d\u5947\uff0c\u5982\u679c\u4e00\u4e2a\u9879\u76ee\u8db3\u591f\u5927\uff0c\u53d1\u751fhash\u78b0\u649e\u7684\u673a\u5c31\u4f1a\u53d8\u5927\uff0c\u90a3\u4e48\u6700\u7ec8\u6211\u4eec\u53ef\u80fd\u8981\u4f7f\u7528\u591a\u5c11\u4e2a\u5b57\u8282\uff0c\u624d\u80fd\u60df\u4e00\u5730\u533a\u522b\u5f00\u4e00\u4e2ahash\u4e32\u5462\uff1fLinux\u7684\u5185\u6838\u662f\u4e00\u4e2a\u76f8\u5f53\u5927\u7684Git\u9879\u76ee\uff0c\u622a\u6b622019\u5e742\u6708\u6b62\uff0c\u5171\u8bb0\u5f55\u4e86\u8d85\u8fc7875,000\u4e2a\u63d0\u4ea4\uff0c\u6700\u591a\u9700\u898112\u4e2a\u5b57\u7b26\u624d\u80fd\u4fdd\u8bc1\u552f\u4e00\u6027\u3002</p> <p>\u6211\u4eec\u524d\u9762\u8bb2\u8fc7\uff0c\u51e0\u4e4e\u6240\u6709\u7684git\u64cd\u4f5c\u90fd\u662f\u591a\u9636\u6bb5\u7684\uff0c\u8fd9\u5bf9\u521b\u5efatag\u6765\u8bf4\u4e5f\u5dee\u4e0d\u591a\u662f\u4e00\u6837\u3002\u5f53\u6211\u4eec\u6267\u884c<code>git tag -a</code>\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u53ea\u5728\u672c\u5730\u4ed3\u5e93\u521b\u5efa\u4e86\u8fd9\u4e2a\u6807\u7b7e\uff0c\u6211\u4eec\u4ecd\u7136\u9700\u8981\u628a\u5b83\u540c\u6b65\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff1a <pre><code># \u4e00\u6b21\u6027\u5730\u5c06\u6240\u6709\u6807\u7b7e\u63a8\u9001\u5230\u8fdc\u7a0b\n$ git push origin --tags\n\n# \u4ec5\u63a8\u9001\u7279\u5b9a\u6807\u7b7e\n$ git push origin v1.6\n</code></pre></p> <p>\u4e5f\u6709\u53ef\u80fd\u6211\u4eec\u9700\u8981\u5220\u9664\u6807\u7b7e\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u4e24\u9636\u6bb5\u7684\u64cd\u4f5c <pre><code># \u4ece\u672c\u5730\u5220\u9664v1.4\u8fd9\u4e2a\u6807\u7b7e\n$ git tag -d v1.4\n\n# \u4ece\u8fdc\u7a0b\u5220\u9664v1.4\u8fd9\u4e2a\u6807\u7b7e\u3002\u8fd9\u4e00\u6b65\u53ef\u4ee5\u4e0e\u4e0a\u4e00\u6b65\u72ec\u7acb\u8fd0\u884c\n$ git push origin --delete v1.4\n</code></pre></p> <p>\u6807\u7b7e\u521b\u5efa\u4ee5\u540e\uff0c\u6211\u4eec\u4f7f\u7528\u5230\u8be5\u6807\u7b7e\u7684\u5e38\u89c1\u64cd\u4f5c\u662f\u68c0\u51fa\u8fd9\u4e2a\u6807\u7b7e\u6307\u5411\u7684\u6587\u4ef6\u7248\u672c\uff0c\u6bd4\u5982\u5728CI\u670d\u52a1\u5668\u4e0a\u68c0\u51fa\u8fd9\u4e2a\u7248\u672c\u5236\u4f5cbuild\uff0c\u6216\u8005\u5728\u5f00\u53d1\u673a\u5668\u4e0a\u68c0\u51fa\u8fd9\u4e2a\u7248\u672c\uff0c\u4ee5\u53d1\u5e03\u70ed\u66f4\u65b0\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528git checkout\u547d\u4ee4\uff1a <pre><code>git checkout v1.4\n</code></pre> \u5982\u679c\u6211\u4eec\u662f\u8981\u5728\u67d0\u4e2a\u6807\u7b7e\u72b6\u6001\u4e0b\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u5219\u6211\u4eec\u5e94\u8be5\u4e3a\u8fd9\u4e2a\u68c0\u51fa\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5206\u652f\u3002\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u8fd9\u4e2a\u5de5\u4f5c\u533a\u91cc\u8fdb\u884c\u4fee\u6539\uff0c\u7136\u540e\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u5982\u679c\u6211\u4eec\u4e0d\u4f7f\u7528\u65b0\u7684\u5206\u652f\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u4ed3\u5e93\u5904\u4e8e\u201c\u5206\u79bb\u5934\u6307\u9488(detached HEAD)\u201d\u7684\u72b6\u6001\u3002\u8fd9\u79cd\u72b6\u6001\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\uff0c\u4f46\u65e0\u6cd5\u63d0\u4ea4\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e9b\u4fee\u6539\u6700\u7ec8\u4f1a\u4e22\u5931\u3002</p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u57fa\u672c\u4e0a\u63a5\u89e6\u5230\u4e86git\u4e2d\u5168\u90e8\u57fa\u7840\u7684\u64cd\u4f5c\u3002\u6211\u4eec\u5b66\u4f1a\u4e86\u5982\u4f55\u521b\u5efa\u4ed3\u5e93\uff0c\u8ddf\u8e2a\u53d8\u66f4\uff0c\u63d0\u4ea4\u53d8\u66f4\uff0c\u4e0e\u8fdc\u7a0b\u670d\u52a1\u5668\u540c\u6b65\uff0c\u5e76\u4e14\u521b\u5efa\u6807\u7b7e\u4ee5\u8bb0\u5f55\u5f00\u53d1\u4e2d\u7684\u91cd\u8981\u65f6\u523b\u3002\u5f53\u7136\u8fd8\u6709\u4e00\u4e9b\u67e5\u9519\u6027\u8d28\u7684\u64cd\u4f5c\u6211\u4eec\u6ca1\u6709\u4ecb\u7ecd\uff0c\u6bd4\u5982\u67e5\u770b\u65e5\u5fd7(git log)\uff0c\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\u3002\u53e6\u5916\uff0c\u5728\u638c\u63e1git\u7684\u5de5\u4f5c\u539f\u7406\u4e4b\u540e\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u901a\u8fc7\u56fe\u5f62\u754c\u9762\u6765\u7ba1\u7406git\u4ed3\u5e93\uff0c\u56e0\u6b64\u8c61\u67e5\u770b\u53d8\u66f4\u5386\u53f2\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u4e5f\u5e94\u8be5\u901a\u8fc7\u56fe\u5f62\u754c\u9762\u6765\u67e5\u770b\u3002</p> <p>\u7136\u800c\uff0cgit\u4e2d\u771f\u6b63\u9ad8\u7ea7\u7684\u6280\u5de7\u90fd\u4e0e\u5206\u652f\u76f8\u5173\uff0c\u8fd9\u4e5f\u5c06\u662f\u6211\u4eec\u63a5\u4e0b\u6765\u8981\u8bb2\u8ff0\u7684\u5185\u5bb9\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#13","title":"1.3. \u5206\u652f\u7ba1\u7406","text":"<p>\u51e0\u4e4e\u6240\u6709\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u90fd\u4ee5\u67d0\u79cd\u5f62\u5f0f\u652f\u6301\u5206\u652f\u3002\u4f7f\u7528\u5206\u652f\u610f\u5473\u7740\u53ef\u4ee5\u4f7f\u7528\u591a\u4e2a\u529f\u80fd\uff08\u6216\u8005\u70ed\u4fee\u590d\uff09\u7684\u5e76\u884c\u5f00\u53d1\uff0c\u6362\u8a00\u4e4b\uff0c\u53ef\u4ee5\u5b9e\u73b0\u591a\u4eba\u540c\u65f6\u5f00\u53d1\uff0c\u6216\u8005\u4e00\u4e2a\u4eba\u540c\u65f6\u8ddf\u8fdb\u51e0\u4e2a\u529f\u80fd\u7684\u5f00\u53d1\uff0c\u800c\u4ee3\u7801\u6700\u7ec8\u8fd8\u80fd\u6bd4\u8f83\u5bb9\u6613\u5730\u5408\u5e76\u8d77\u6765\u3002</p> <p>\u6709\u4eba\u628a Git \u7684\u5206\u652f\u6a21\u578b\u79f0\u4e3a\u5b83\u7684\u201c\u5fc5\u6740\u6280\u7279\u6027\u201d\u3002\u56e0\u4e3a\u4e0e\u5176\u5b83\u7248\u672c\u7ba1\u7406\u5de5\u5177\u76f8\u6bd4\uff0cGit \u5904\u7406\u5206\u652f\u7684\u65b9\u5f0f\u53ef\u8c13\u662f\u96be\u4ee5\u7f6e\u4fe1\u7684\u8f7b\u91cf\uff0c\u521b\u5efa\u65b0\u5206\u652f\u8fd9\u4e00\u64cd\u4f5c\u51e0\u4e4e\u80fd\u5728\u77ac\u95f4\u5b8c\u6210\uff0c\u5e76\u4e14\u5728\u4e0d\u540c\u5206\u652f\u4e4b\u95f4\u7684\u5207\u6362\u64cd\u4f5c\u4e5f\u662f\u4e00\u6837\u4fbf\u6377\u3002\u4e0e\u8bb8\u591a\u5176\u5b83\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u4e0d\u540c\uff0cGit\u9f13\u52b1\u5728\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u9891\u7e41\u5730\u4f7f\u7528\u5206\u652f\u4e0e\u5408\u5e76\uff0c\u54ea\u6015\u4e00\u5929\u4e4b\u5185\u8fdb\u884c\u8bb8\u591a\u6b21\u3002</p> <p>Git\u7684\u5206\u652f\u7ba1\u7406\u80fd\u505a\u5230\u5982\u6b64\u4f18\u79c0\uff0c\u6839\u6e90\u8fd8\u5728\u4e8e\u5b83\u7684\u5e95\u5c42\u8bbe\u8ba1\u3002\u6211\u4eec\u524d\u9762\u8bb2\u8fc7\uff0cgit\u4e0e\u5176\u5b83\u8f6f\u4ef6\u4e0d\u540c\uff0cgit\u4fdd\u5b58\u7684\u4e0d\u662f\u6587\u4ef6\u7684\u53d8\u5316\u6216\u8005\u5dee\u5f02\uff0c\u800c\u662f\u4e00\u7cfb\u5217\u4e0d\u540c\u65f6\u523b\u7684\u6587\u4ef6\u5feb\u7167\u3002\u5b83\u7684\u7279\u5f81\u662f\u4ee5\u50a8\u5b58\u7a7a\u95f4\u6765\u6362\u53d6\u65f6\u95f4\uff08\u6027\u80fd\uff09\u7684\u3002</p> <p>\u76f4\u5230\u73b0\u5728\uff0c\u6211\u4eec\u90fd\u6ca1\u6709\u8d4b\u4e88\u5206\u652f\u4e00\u4e2a\u6e05\u6670\u5b8c\u6574\u7684\u5b9a\u4e49\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u6765\u7406\u89e3\u5206\u652f\uff1a\u5047\u8bbe\u6211\u4eec\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u535a\u5ba2\u7f51\u7ad9\u3002\u5f00\u53d1\u5c0f\u7ec4\u67094\u4e2a\u4eba\uff0c\u529f\u80fd\u6709\u6301\u4e45\u5316\u4e0e\u7f13\u5b58\u6a21\u5757\u3001\u6587\u6863\u5bf9\u8c61\u62bd\u8c61\u6a21\u5757\u3001\u4e3b\u9898\u4e0e\u5c55\u793a\u6a21\u5757\u3001\u8bc4\u8bba\u7ba1\u7406\u6a21\u5757\u7b49\u529f\u80fd\u3002\u5982\u679c\u6bcf\u4e2a\u4eba\u8d1f\u8d23\u4e00\u4e2a\u529f\u80fd\uff0c\u90a3\u4e48\u6548\u7387\u6700\u9ad8\u7684\u5f00\u53d1\u6a21\u5f0f\u5e94\u8be5\u662f\u6bcf\u4e2a\u4eba\u90fd\u5728\u81ea\u5df1\u7684\u5206\u652f\u4e0a\u72ec\u7acb\u5f00\u53d1\uff0c\u5b8c\u6210\u81ea\u5df1\u6a21\u5757\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u518d\u5408\u5e76\u5230\u4e00\u4e2a\u5171\u540c\u7684\u5206\u652f\uff08\u6bd4\u5982\u79f0\u4f5cdevelop)\u4e0a\u8fdb\u884c\u96c6\u6210\u6d4b\u8bd5\u3002\u5f53\u96c6\u6210\u6d4b\u8bd5\u5b8c\u6210\u65f6\uff0c\u518d\u5408\u5e76\u5230main\u5206\u652f\u4e0a\u5b8c\u6210\u7248\u672c\u53d1\u5e03\uff0c\u63a5\u4e0b\u6765\u8fdb\u5165\u4e0b\u4e00\u4e2a\u529f\u80fd\u8fed\u4ee3\u3002\u540c\u65f6\uff0c\u6211\u4eec\u4e5f\u53ef\u80fd\u9047\u5230\u7f51\u7ad9\u76841.0\u7248\u672c\u53d1\u5e03\u540e\uff0c\u5df2\u7ecf\u5f00\u59cb\u4e86\u65b0\u7684\u529f\u80fd\u5f00\u53d1\uff0c\u4f46\u6709\u7d27\u6025\u7684bug\u9700\u8981\u4fee\u590d\uff0c\u8fd9\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5207\u6362\u5230\u7ebf\u4e0a\u7684\u5206\u652f\uff08\u5373main\u4e0a\u9762\u7684\u67d0\u4e00\u4e2a\u6807\u7b7e\uff09\uff0c\u521b\u5efa\u4e00\u4e2ahotfix\u5206\u652f\uff0c\u4fee\u590dbug\uff0c\u6d4b\u8bd5\u548c\u53d1\u5e03\uff0c\u6700\u540e\u5408\u5e76\u5230main\u5206\u652f\uff0c\u4ee5\u53ca\u96c6\u6210\u5206\u652f(develop)\u4e0a\u3002</p> <p>\u4e0a\u8ff0\u5f00\u53d1\u573a\u666f\u662f\u6bd4\u8f83\u5178\u578b\u7684\u4e00\u4e2a\u573a\u666f\u30022010\u5e74\uff0cVincent Driessen\u5c06\u5176\u62bd\u8c61\u6210\u4e86\u4e00\u4e2a\u5de5\u4f5c\u6d41\u6a21\u578b\uff0c\u5728\u6b64\u540e\u768410\u591a\u5e74\u4e2d\uff0c\u8be5\u6a21\u578b\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u8ba4\u53ef\u3002bitbucket\uff0c\u7531\u8457\u540d\u7684Atlassian\u516c\u53f8\u51fa\u54c1\u7684\u652f\u6301git\u7248\u672c\u5e93\u6258\u7ba1\u670d\u52a1\uff0c\u4e5f\u5728\u5176\u5b98\u65b9\u6587\u6863\u4e2d\u63a8\u8350\u4e86\u8fd9\u4e2a\u6a21\u578b\u3002Vincent\u8fd8\u57fa\u4e8e\u8fd9\u4e2a\u6a21\u578b\uff0c\u5f00\u53d1\u4e86git\u7684\u6269\u5c55gitflow\uff0c\u4ee5\u5e2e\u52a9\u4eba\u4eec\u66f4\u597d\u5730\u8fd0\u7528\u8fd9\u4e2a\u6a21\u578b\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u4e2a\u9879\u76ee\u5728github\u4e0a\u83b7\u5f97\u4e8626.1k\u7684star\u3002</p> <p></p> <p>\u5728\u8fd9\u4e2a\u6a21\u578b\u4e2d\uff0c\u670d\u52a1\u5668\u4e0a\u59cb\u7ec8\u5b58\u5728\u4e24\u4e2a\u5206\u652f\uff0c\u5373main\u5206\u652f\uff08\u539f\u56fe\u4e2d\u7684master\uff09\u548cdevelop\u5206\u652f\u3002main\u5206\u652f\u7684HEAD\u6307\u9488\u5e94\u8be5\u6307\u5411\u5df2\u53d1\u5e03\u7684\u4ea7\u54c1\u6784\u5efa\u65f6\u7684\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5e94\u8be5\u968f\u65f6\u53ef\u4ee5\u4f7f\u7528main\u6784\u5efa\u51fa\u4e00\u4efd\u53ef\u7528\u7684\u4ea7\u54c1\u51fa\u6765\u3002develop\u5206\u652f\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u96c6\u6210\u5206\u652f\uff0c\u5b83\u7684HEAD\u6307\u9488\u5e94\u8be5\u53cd\u6620\u51fa\u4e0b\u4e00\u4e2a\u53d1\u5e03\u7684\u6700\u65b0\u5f00\u53d1\u72b6\u6001\u3002\u8fd9\u4e5f\u662f\u6211\u4eec\u7528\u6765\u6784\u5efanightly build\u7684\u5206\u652f\u3002</p> <p>\u5f53develop\u5206\u652f\u4e0a\u7684\u4ee3\u7801\u8fbe\u5230\u67d0\u4e2a\u7a33\u5b9a\u7684\u72b6\u6001\uff0c\u5df2\u7ecf\u51c6\u5907\u597d\u53d1\u5e03\u65f6\uff0c\u6240\u6709\u7684\u8fd9\u4e9b\u53d8\u66f4\u5e94\u8be5\u5408\u5e76\u5230main\u5206\u652f\u4e0a\uff0c\u5e76\u4e14\u6253\u4e0a\u5e26\u7248\u672c\u53f7\u7684\u6807\u7b7e\u3002\u4ece\u5b9a\u4e49\u4e0a\u6765\u8bb2\uff0c\u6bcf\u6b21\u6709\u53d8\u66f4\u5408\u5e76\u5230main\u5206\u652f\u65f6\uff0c\u90fd\u5e94\u8be5\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\u7248\u672c\u3002\u56e0\u6b64\uff0c\u5f80main\u5206\u652f\u4e0a\u505a\u5408\u5e76\u5e94\u8be5\u975e\u5e38\u4e25\u683c\uff0c\u9700\u8981\u4f7f\u7528\u94a9\u5b50\u6765\u4fdd\u8bc1CI\u8fc7\u7a0b\u81ea\u52a8\u6784\u5efa\u8f6f\u4ef6\u548c\u6d4b\u8bd5\uff0c\u5e76\u5b8c\u6210\u90e8\u7f72\uff08\u6216\u8005\u5411pypi\u53d1\u5e03\uff09\u3002</p> <p>\u5982\u679c\u5f00\u53d1\u8005\u662f\u4e00\u4e2a\u56e2\u961f\uff0c\u663e\u7136\u4ecedevelop\u5206\u652f\u5f80main\u5206\u652f\u4e0a\u7684\u5408\u5e76\uff0c\u5e94\u8be5\u662flead develop\u7684\u5de5\u4f5c\u3002</p> <p>\u9664\u4e86main\u548cdevelop\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u4f1a\u6709\u4e00\u7cfb\u5217\u7684\u8f85\u52a9\u5206\u652f\uff0c\u5b83\u4eec\u53ea\u4f1a\u4e34\u65f6\u5b58\u5728\uff0c\u5e76\u4e14\u6700\u7ec8\u4f1a\u88ab\u79fb\u9664\u6389\u3002\u8fd9\u4e9b\u5206\u652f\u662f: 1. \u529f\u80fd\u5206\u652f\uff08Feature branches) 2. \u53d1\u5e03\u5206\u652f (Release branches) 3. \u70ed\u4fee\u590d\u5206\u652f (Hotfix branches)</p> <p>\u8fd9\u4e9b\u5206\u652f\u90fd\u6709\u81ea\u5df1\u7684\u7279\u5b9a\u76ee\u6807\uff0c\u56e0\u6b64\uff0c\u5b83\u4eec\u7684\u6765\u6e90\u548c\u6700\u7ec8\u5408\u5e76\u7684\u53bb\u5411\u4e5f\u9075\u5faa\u4e25\u683c\u7684\u89c4\u5219\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#131-feature-branch","title":"1.3.1. \u529f\u80fd\u5206\u652f(Feature branch)","text":"<p>\u529f\u80fd\u5206\u652f\u662f\u4ecedevelop\u5206\u652f\u4e0a\u521b\u5efa\u51fa\u6765\u7684\uff0c\u7528\u6765\u5f00\u53d1\u67d0\u4e2a\u65b0\u529f\u80fd\u3002\u5f53\u529f\u80fd\u5f00\u53d1\u5b8c\u6210\u65f6\uff0c\u9700\u8981\u5408\u5e76\u56dedevelop\u5206\u652f\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528{{feature_name}}/{{developer}}\u6765\u547d\u4ee4\u5206\u652f\u3002\u8fd9\u91ccfeature_name\u662f\u529f\u80fd\u7684\u540d\u5b57\uff0cdeveloper\u662f\u56e2\u961f\u4e2d\u8d1f\u8d23\u8fd9\u4e2a\u529f\u80fd\u7684\u5f00\u53d1\u8005\u3002\u5f53\u7136\uff0c\u5982\u679c\u529f\u80fd\u53ea\u6709\u4e00\u4e2a\u4eba\u8d1f\u8d23\u5f00\u53d1\uff0c\u4e5f\u53ef\u4ee5\u7701\u7565developer\u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u521b\u5efa\u5206\u652f\uff1a <pre><code>git checkout -b feature_name/developer_name develop\n</code></pre> \u5728\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u53ca\u65f6\u628a\u53d8\u66f4\u63d0\u4ea4\u5e76\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u907f\u514d\u4ee3\u7801\u4e22\u5931\uff0c\u4e5f\u65b9\u4fbf\u5176\u4ed6\u4eba\u8fdb\u884ccode review\u3002\u5f53\u529f\u80fd\u5f00\u53d1\u5b8c\u6210\uff0c\u6211\u4eec\u5e94\u8be5\u628a\u53d8\u66f4\u5408\u5e76\u56dedevelop\u5206\u652f\uff0c\u5e76\u5220\u9664\u529f\u80fd\u5206\u652f\u3002\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u505a\uff1a <pre><code>$ git checkout develop\nSwitched to branch 'develop'\n\n$ git merge --no-ff myfeature\nUpdating ea1b82a..05e9557\n(Summary of changes)\n\n$ git branch -d myfeature\nDeleted branch myfeature (was 05e9557).\n\n$ git push origin develop\n</code></pre> \u8fd9\u91cc\u7684\u547d\u4ee4\u7528\u6765\u63cf\u8ff0\u5de5\u4f5c\u6d41\u7a0b\uff0c\u5b9e\u9645\u4e0a\u5728\u64cd\u4f5c\u65f6\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u4f7f\u7528git lens\u7684\u56fe\u5f62\u5316\u754c\u9762\u6765\u64cd\u4f5c\u3002\u6ce8\u610f\u7b2c3\u884c\u7684--no-ff\u9009\u9879\u3002\u8fd9\u4e2a\u9009\u9879\u7684\u4f5c\u7528\u662f\uff0c\u8ba9\u6211\u4eec\u5728develop\u5206\u652f\u4e0a\u4ecd\u7136\u770b\u5230\u4e00\u4e2a\u5b8c\u6574\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u5305\u62ec\u66fe\u7ecf\u5b58\u5728\u4e00\u4e2afeature\u5206\u652f\uff0c\u4ee5\u53ca\u54ea\u4e9b\u63d0\u4ea4\u6784\u6210\u4e86\u4e00\u4e2afeature\u3002\u4e0b\u56fe\u5bf9\u6bd4\u4e86\u662f\u5426\u4f7f\u7528\u8be5\u9009\u9879\u7684\u5dee\u5f02\uff1a </p> <p>\u4e0a\u56fe\u4e2d\u53f3\u8fb9\u7684\u90e8\u5206\u663e\u793a\u4e86\u4e00\u4e2a\u666e\u901a\u7684\u5408\u5e76\uff0c\u5728\u8fd9\u91cc\uff0c\u770b\u4e0d\u51fa\u6765\u54ea\u4e9b\u63d0\u4ea4\u6784\u6210\u4e86\u4e00\u4e2a\u529f\u80fd\uff08\u9664\u975e\u68c0\u67e5\u65e5\u5fd7\uff09\uff0c\u66f4\u4e0d\u7528\u8bf4feature\u5206\u652f\u7684\u5b58\u5728\u4e86\u3002\u53e6\u5916\uff0c\u5728\u540e\u4e00\u79cd\u60c5\u51b5\u4e0b\uff0c\u56de\u6eda\u6574\u4e2a\u529f\u80fd\u4e5f\u4f1a\u662f\u4ee4\u4eba\u5934\u75bc\u7684\u4e8b\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#132-release-branch","title":"1.3.2. \u53d1\u5e03\u5206\u652f\uff08Release branch)","text":"<p>\u53d1\u5e03\u5206\u652f(release branch)\u4ecedevelop\u5206\u652f\u4e0a\u5206\u51fa\u6765\uff0c\u7528\u6765\u51c6\u5907\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\u3002\u5f53\u53d1\u5e03\u5b8c\u6210\uff0c\u9700\u8981\u5408\u5e76\u56dedevelop\u5206\u652f\u548cmain\u5206\u652f\u3002\u5206\u652f\u540d\u4e00\u822c\u4f7f\u7528release-*\u3002</p> <p>\u53d1\u5e03\u5206\u652f\u7528\u6765\u51c6\u5907\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\uff0c\u7528\u4ee5\u5b8c\u6210\u6b63\u5f0f\u53d1\u5e03\u524d\u7684\u6bcf\u4e00\u4e2a\u7ec6\u8282\u3002\u8fd9\u4e2a\u5206\u652f\u4e5f\u5141\u8bb8\u5c0f\u7684\u8865\u4e01\u548c\u4e00\u4e9bmeta-data\u7684\u53d8\u66f4\uff08\u6bd4\u5982\u7248\u672c\u53f7\uff0c\u6784\u5efa\u65e5\u671f\u7b49\uff09\u3002\u4e00\u65e6release\u5206\u652f\u88ab\u521b\u5efa\uff0cdevelop\u5206\u652f\u5c31\u53ef\u4ee5\u7ee7\u7eed\u5f00\u53d1\u4e0b\u4e00\u4e2a\u7248\u672c\u7684\u529f\u80fd\u4e86\u3002</p> <p>\u4ecedevelop\u5206\u652f\u8fc1\u79fb\u5230release\u5206\u652f\u5e94\u8be5\u53d1\u751f\u5728\u6240\u6709\u7684\u529f\u80fd\u90fd\u5408\u5e76\u5230develop\u4e4b\u540e\uff0c\u800c\u4efb\u4f55\u4e0d\u5c5e\u4e8e\u6b64\u6b21\u53d1\u5e03\u7684\u529f\u80fd\uff0c\u5219\u7edd\u5bf9\u4e0d\u5e94\u8be5\u5728\u6b64\u524d\u8fdb\u5165\u5230develop\u5206\u652f\u3002</p> <p>\u53ea\u6709\u5728release\u5206\u652f\u521b\u5efa\u65f6\uff0c\u6211\u4eec\u624d\u5e94\u8be5\u786e\u5b9a\u7248\u672c\u53f7\u3002\u521b\u5efarelease\u5206\u652f\u7684\u547d\u4ee4\u662f\uff08\u5047\u8bbe\u4e4b\u524d\u7684\u7248\u672c\u662f1.1.5\uff0c\u6700\u65b0\u7684\u7248\u672c\u5b9a\u4e3a1.2\uff09\uff1a <pre><code>$ git checkout -b release-1.2 develop\nSwitched to a new branch \"release-1.2\"\n$ poetry version 1.2\nFiles modified successfully, version bumped to 1.2.\n$ git commit -a -m \"Bumped version number to 1.2\"\n[release-1.2 74d9424] Bumped version number to 1.2\n1 files changed, 1 insertions(+), 1 deletions(-)\n</code></pre></p> <p>\u5f53release\u5206\u652f\u6700\u7ec8\u7a33\u5b9a\u4e0b\u6765\uff0c\u53ef\u4ee5\u53d1\u5e03\u65f6\uff0c\u6211\u4eec\u5e94\u8be5\u628arelease\u5206\u652f\u5408\u5e76\u5230main\u5206\u652f\uff0c\u5e76\u6253\u4e0a\u4e00\u4e2atag\u3002\u8fd9\u4e2atag\u7684\u540d\u5b57\u5e94\u8be5\u548c\u7248\u672c\u53f7\u4e00\u81f4\uff08\u4e00\u822c\u4ee5V\u5f00\u5934\uff09\u3002\u6700\u540e\uff0c\u5c06release\u5206\u652f\u5408\u5e76\u5230develop\u5206\u652f\u4e0a\uff0c\u5373\u628a\u6240\u6709\u7684\u53d8\u66f4\u5e26\u5165\u5230\u4e0b\u4e00\u4e2a\u7248\u672c\u4e2d\u3002</p> <p>\u5408\u5e76release\u5206\u652f\u5230main\u5206\u652f\u7684\u547d\u4ee4\u662f\uff1a <pre><code>$ git checkout main\nSwitched to branch 'main'\n\n$ git merge --no-ff release-1.2\nMerge made by recursive.\n(Summary of changes)\n\n$ git tag -a 1.2\n\n$ git checkout develop\nSwitched to branch 'develop'\n\n$ git merge --no-ff release-1.2\nMerge made by recursive.\n(Summary of changes)\n</code></pre> \u6700\u540e\uff0c\u9274\u4e8erelease\u5206\u652f\u4e0a\u6240\u6709\u7684\u53d8\u66f4\u90fd\u5df2\u5408\u5e76\u5230\u4e86main\u548cdevelop\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u6ca1\u5fc5\u8981\u4fdd\u7559\u5b83\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u5e94\u8be5\u5220\u9664\u8fd9\u4e2a\u5206\u652f: <pre><code>$ git branch -d release-1.2\nDeleted branch release-1.2 (was ff452fe).\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap08/#133","title":"1.3.3. \u70ed\u4fee\u590d\u5206\u652f","text":"<p>\u70ed\u4fee\u590d\u5206\u652f(hotfix branch)\u4ecemain\u5206\u652f\u4e0a\u5206\u51fa\u6765\uff0c\u7528\u6765\u4fee\u590d\u7ebf\u4e0a\u7684bug\u3002\u5f53\u4fee\u590d\u5b8c\u6210\uff0c\u9700\u8981\u5408\u5e76\u56demain\u5206\u652f\u548cdevelop\u5206\u652f\u3002\u5206\u652f\u540d\u4e00\u822c\u4f7f\u7528hotfix-*\u3002</p> <p>\u70ed\u4fee\u590d\u5206\u652f\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u4f7f\u5f97\u5728develop\u5206\u652f\u4e0a\u7684\u5f00\u53d1\u8005\u4e0d\u53d7\u5f71\u54cd\uff0c\u800c\u5176\u5b83\u4eba\u5219\u53ef\u4ee5\u5feb\u901f\u4fee\u590d\u7ebf\u4e0a\u7684bug\u3002\u5177\u4f53\u7684\u64cd\u4f5c\u547d\u4ee4\u4e0e\u524d\u9762\u7684\u793a\u4f8b\u5927\u540c\u5c0f\u5f02\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\u4e0d\u8fc7\u9700\u8981\u63d0\u9192\u7684\u662f\uff0c\u6211\u4eec\u4e00\u6837\u8981\u7ed9hotfix\u5206\u914d\u7248\u672c\u53f7\u5e76\u6253\u4e0a\u6807\u7b7e\u3002</p> <p>\u5982\u679c\u5728\u8fdb\u884c\u70ed\u4fee\u590d\u65f6\uff0c\u5df2\u7ecf\u5b58\u5728release\u5206\u652f\uff0c\u6b64\u65f6hotfix\u5e94\u8be5\u5408\u5e76\u56dedevelop\u5206\u652f\uff0c\u8fd8\u662frelease\u5206\u652f\uff1f\u7b54\u6848\u662frelease\u5206\u652f\u3002\u5982\u679chotfix\u88ab\u5408\u5e76\u5230develop\u5206\u652f\uff0c\u90a3\u4e48\u8fd9\u4e2ahotfix\u5c06\u53ea\u80fd\u968f\u4e0b\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\u800c\u53d1\u5e03\uff0c\u8fd9\u662f\u4e0d\u5408\u7406\u7684\u3002\u56e0\u6b64\uff0chotfix\u5e94\u8be5\u5408\u5e76\u5230release\u5206\u652f\uff0c\u6700\u7ec8\uff0c\u5b83\u5c06\u968frelease\u5206\u652f\u518d\u5408\u5e76\u5230develop\u5206\u652f\u4e2d\uff0c\u4ece\u800c\u4fdd\u8bc1\u8fdb\u5165\u540e\u7eed\u7248\u672c\u3002</p> <p>\u4e0b\u56fe\u6f14\u793a\u4e86hotfix\u4e2d\u7684\u53d8\u66f4\u5728\u5404\u5206\u652f\u4e4b\u95f4\u7684\u6d41\u52a8\uff1a</p> <p></p> <p>\u5728\u4ecb\u7ecd\u672c\u8282\u5185\u5bb9\u65f6\uff0c\u6211\u4eec\u8f83\u591a\u5730\u53c2\u8003\u4e86Vincent Driessen\u7684\u535a\u5ba2\u6587\u7ae0\u300aA successful Git branching model\u300b\u3002\u8fd9\u7bc7\u6587\u7ae0\u662fGit\u5206\u652f\u6a21\u578b\u7684\u7ecf\u5178\u4e4b\u4f5c\uff0c\u5efa\u8bae\u8bfb\u8005\u505a\u5ef6\u4f38\u9605\u8bfb\u3002Vincent Driessen\u5f00\u53d1\u7684gitflow\u5de5\u5177\u662fgit\u7684\u4e00\u4e2a\u6269\u5c55\uff0c\u7528\u6765\u5b9e\u73b0\u4e0a\u8ff0\u5de5\u4f5c\u6d41\uff0c\u8fd9\u91cc\u4e5f\u63a8\u8350\u5b89\u88c5\u4f7f\u7528\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#14-git","title":"1.4. Git\u4e2d\u7684\u9ad8\u7ea7\u64cd\u4f5c","text":""},{"location":"articles/python/best-practice-python/chap08/#141","title":"1.4.1. \u5206\u652f\u5408\u5e76\u548c\u4e09\u8def\u5f52\u5e76","text":"<p>\u5728\u5206\u652f\u7ba1\u7406\u90a3\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u53ca\u4e86merge\uff08\u5206\u652f\u5408\u5e76\uff09\u8fd9\u4e2a\u6982\u5ff5\uff0c\u4f46\u6211\u4eec\u6ca1\u6709\u5177\u4f53\u8bb2\u5982\u4f55\u64cd\u4f5c\u3002\u8fd9\u4e00\u8282\uff0c\u6211\u4eec\u5c06\u4ee5hotfix\u7684\u53d1\u5e03\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5206\u652f\u5408\u5e76\u4e0e\u4e09\u8def\u5f52\u5e76(3-way merge)\u64cd\u4f5c\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u7684\u4ea7\u54c1\u5df2\u7ecf\u53d1\u5e03\u4e861.1\uff0c\u73b0\u5728\u56e2\u961f\u6b63\u5728\u5f00\u53d11.2\u7248\u672c\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u7ebf\u4e0a\u7248\u672c\u53d1\u73b0\u4e86\u4e00\u4e2a\u4e25\u91cd\u7684bug\uff08\u5728tracker\u7cfb\u7edf\u4e2d\u7f16\u53f7\u4e3a533\uff09\uff0c\u9700\u8981\u7acb\u5373\u4fee\u590d\u3002\u6309\u7167gitflow\u7684\u6a21\u578b\uff0c\u6211\u4eec\u5e94\u8be5\u4ecemain\u5206\u652f\u4e0a\u5207\u51fa\u4e00\u4e2ahotfix_533\u5206\u652f\uff0c\u4fee\u590dbug\u540e\uff0c\u518d\u5408\u5e76\u56demain\u5206\u652f\u548cdevelop\u5206\u652f\u3002</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86hotfix_533\u5206\u652f\u521b\u5efa\u65f6\uff0c\u76f8\u5173\u5206\u652f\u7684\u72b6\u6001\u56fe\uff1a</p> <p></p> <p>\u5f53\u6211\u4eec\u4fee\u590d\u5b8c\u8fd9\u4e2abug\u540e\uff0c\u4ea7\u751f\u4e86\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\uff0c\u8bb0\u4e3ac3, \u5b83\u7684\u7236\u7ed3\u70b9\u662fc2\u3002\u8fd9\u4e2a\u63d0\u4ea4\u53d1\u751f\u6210hotfix_533\u5206\u652f\u4e0a\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u5fc5\u987b\u5c06\u5176merge\u56demain\u5206\u652f\uff08\u6309gitflow\u7684\u89c4\u8303\uff0c\u8fd8\u5e94\u8be5\u5408\u5e76\u5230develop\u5206\u652f\uff0c\u4f46\u6b64\u65f6\u6211\u4eec\u53ea\u4ee5\u5408\u5e76\u56demain\u5206\u652f\u4e3a\u4f8b\uff09\u3002\u5047\u8bbe\u6211\u4eec\u5728\u4fee\u590dissue 533\u65f6\uff0c\u7ebf\u4e0a\u8fd8\u53d1\u73b0\u4e00\u4e2a\u65b0\u7684bug\uff0c\u8bb0\u4e3aissue 534\u3002\u800c\u8fd9\u4e2ahotfix\u5b8c\u6210\u5f97\u66f4\u65e9\uff0c\u4ea7\u751f\u4e86\u8bb0\u4e3ac4\u7684\u63d0\u4ea4\uff0c\u5df2\u7ecf\u5408\u5e76\u5230\u4e86main\u5206\u652f\u3002\u6b64\u65f6\uff0c\u76f8\u5173\u5206\u652f\u7684\u72b6\u6001\u56fe\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>\u5982\u679c\u63d0\u4ea4c4\u548cc3\u4fee\u6539\u4e92\u4e0d\u51b2\u7a81\uff08\u6bd4\u5982\u4e0d\u540c\u7684\u6587\u4ef6\uff0c\u6216\u8005\u5373\u4f7f\u540c\u4e00\u6587\u4ef6\uff0c\u4f46\u4e0d\u540c\u7684\u884c\uff09\uff0c\u8fd9\u6837git\u4e00\u822c\u53ef\u4ee5\u76f4\u63a5\u5408\u5e76\uff0c\u5982\u679c\u76f8\u4e92\u51b2\u7a81\uff0c\u5219\u6211\u4eec\u8fd8\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u3002</p> <p>\u6211\u4eec\u5148\u770b\u6ca1\u6709\u51b2\u7a81\u7684\u60c5\u51b5\u3002\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u4ee5git\u7684\u539f\u751f\u547d\u4ee4\uff0c\u4ee5\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u6f14\u793a\u3002\u4f46\u4ece\u73b0\u5728\u8d77\uff0c\u6211\u4eec\u53ef\u80fd\u66f4\u591a\u5730\u4f7f\u7528\u56fe\u5f62\u5316\u754c\u9762\u6765\u4e3e\u4f8b\uff0c\u5e76\u63d0\u53ca\u53d1\u751f\u5728\u80cc\u540e\u7684git\u547d\u4ee4\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5c06c4\u4ecehotfix_534\u5206\u652f\u4e0amerge\u56demain\u5206\u652f\u3002\u6211\u4eec\u8981\u5148\u5207\u6362\u5230main\u5206\u652f\uff0c\u518d\u5728\u4e0b\u9762\u7684\u754c\u9762\u4e2d\uff0c\u5c06\u9f20\u6807\u79fb\u52a8\u5230hotfix_534\u90a3\u4e2a\u6761\u76ee\u4e0a\uff0c\u518d\u53f3\u952e\u5524\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p> \u70b9\u51fb\u201cMerge into current branch\u201d\uff0c\u5728\u63a5\u4e0b\u6765\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u9009\u62e9\"Merge\"(\u5bf9\u5e94\u7684\u547d\u4ee4\u662fgit merge), \u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528git merge --no-ff\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5374\u4f7f\u7528\u4e86git merge\u3002\u8fd9\u662f\u56e0\u4e3a\uff0chotfix\u5c5e\u4e8e\u77ed\u751f\u547d\u671f\u7684\u5206\u652f\u3002\u5982\u679c\u6211\u4eec\u5de5\u4f5c\u5728develop\u5206\u652f\u4e0a\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u7528git merge --no-ff\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u7559develop\u5206\u652f\u7684\u5386\u53f2\u8bb0\u5f55\u3002\u5982\u679c\u4f60\u5e0c\u671b\u9488\u5bf9\u4e0d\u540c\u7684\u5206\u652f\uff0c\u5bf9merge\u52a8\u4f5c\u5b9a\u5236\u4e0d\u540c\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539gitconfig\u6587\u4ef6\u6765\u5b9e\u73b0\uff0c\u8bf7\u611f\u5174\u8da3\u7684\u8bfb\u8005\u81ea\u884c\u7814\u7a76\u3002</p> <p>\u5982\u679cc4\u4e0ec3\u76f8\u4e92\u51b2\u7a81\u5462\uff1f\u8fd9\u79cd\u60c5\u51b5\u88ab\u79f0\u4e3a\u4e09\u8def\u5f52\u5e76\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u3002\u4ecevscode 1.69\u8d77\uff0cvscode\u63d0\u4f9b\u4e86\u4e09\u8def\u5f52\u5e76\u7f16\u8f91\u5668\uff0c\u5927\u5927\u65b9\u4fbf\u4e86\u5408\u5e76\uff0c\u4e5f\u7ec8\u4e8e\u8865\u9f50\u4e86\u5b83\u4e0epycharm\u4e4b\u95f4\u6700\u5927\u7684\u4e00\u5757\u77ed\u677f\u3002</p> <p>\u6211\u4eec\u9700\u8981\u5728vscode\u7684\u8bbe\u7f6e\u4e2d\uff0c\u6253\u5f00\u76f8\u5e94\u7684\u5f00\u5173\uff1a</p> <p></p> <p>\u6b64\u65f6\u518d\u6267\u884c\u5408\u5e76\uff0c\u6211\u4eec\u4f1a\u770b\u5230\u4ee5\u4e0b\u754c\u9762\uff1a</p> <p></p> <p>\u6211\u4eec\u70b9\u51fb\"Resolve in Merge Editor\"\u6309\u94ae\uff1a</p> <p></p> <p>\u5de6\u8fb9\u7684\u662fhotfix_533\u5206\u652f\uff0c\u53f3\u8fb9\u7684\u5219\u662fmain\u5206\u652f\u3002\u4e24\u4e2a\u6539\u52a8\u76f8\u4e92\u51b2\u7a81\uff0c\u5982\u679c\u6211\u4eec\u63a5\u53d7hotfix_533\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u9876\u90e8\u7684\"Accept Incoming Change\"\u6309\u94ae\uff0c\u5982\u679c\u6211\u4eec\u63a5\u53d7main\u5206\u652f\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u5e95\u90e8\u7684\"Accept Current Change\"\u6309\u94ae\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u4fdd\u7559\u4e24\u4e2a\u5206\u652f\u7684\u6539\u52a8\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u4e2d\u95f4\u7684\"Accept Combination\"\u6309\u94ae\uff0c\u5c06\u4e24\u4e2a\u4fee\u6539\u540c\u65f6\u4fdd\u7559\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5168\u90e8\u62d2\u7edd\u4e24\u4e2a\u4fee\u6539\uff0c\u8fd9\u6837\u53ea\u9700\u8981\u7f16\u8f91\u4e0b\u9762\u7684result\u7a97\u53e3\u4e2d\u5bf9\u5e94\u884c\uff08\u56fe\u4e2d\u7684\u7b2c3\u884c\uff09\u5c31\u884c\u4e86\u3002</p> <p>\u5f53\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u51b2\u7a81\u90fd\u88ab\u89e3\u51b3\u4e4b\u540e\uff0c\u70b9\u51fb\"Complete Merge\u201c\u6309\u94ae\u5173\u95ed\u7f16\u8f91\u5668\uff0c\u5b8c\u6210\u5408\u5e76\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#142-rebase","title":"1.4.2. rebase","text":"<p>\u53d8\u57fa\u662f\u53e6\u4e00\u79cd\u5408\u5e76\u5206\u652f\u7684\u65b9\u5f0f\u3002\u53d8\u57fa\u7684\u76ee\u7684\u662f\u5c06\u4e00\u4e2a\u5206\u652f\u7684\u6539\u52a8\uff0c\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5206\u652f\u4e0a\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4ee5\u4e0b\u72b6\u6001\uff1a</p> <p></p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528git merge\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u5408\u5e76\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u4e0b\u56fe:</p> <p></p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u5bf9hotfix_533\u8fdb\u884crebase\u64cd\u4f5c\uff0c\u4f7f\u5f97c3\u7684\u7236\u7ed3\u70b9\u4ecec2\u53d8\u4e3ac4\uff1a <pre><code>$ git checkout hotfix_533\n$ git rebase main\nFirst, rewinding head to replay your work on top of it...\nApplying: added staged command\n</code></pre> rebase\u66f4\u8c61\u662f\u4e00\u79cd\u64cd\u4f5c\u91cd\u653e\uff0c\u5b83\u628amain\u5206\u652f\u4e0a\u5728c2\uff08\u5171\u540c\u7956\u5148\uff09\u4e4b\u540e\u7684\u6240\u6709\u63d0\u4ea4\uff0c\u90fd\u91cd\u653e\u5230\u4e86hotfix_533\u5206\u652f\u4e0a\uff0c\u518d\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u5e94\u7528c3\u3002\u6700\u540e\uff0c\u6211\u4eec\u5c06hotfix_533\u5206\u652f\u518d\u5408\u5e76\u56demain\u3002\u4e0b\u56fe\u53cd\u5e94\u4e86\u4e24\u4e2a\u5206\u652f\u4e0a\u7684\u53d8\u5316\u548c\u6700\u7ec8\u72b6\u6001\uff1a</p> <p></p> <p>\u4e0e\u4e0d\u4f7f\u7528rebase\u76f8\u6bd4\uff0c\u8fdb\u884crebase\u4e4b\u540e\uff0c\u5206\u652f\u5386\u53f2\u5c06\u4e0d\u4f1a\u51fa\u73b0\u5206\u53c9\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u5f97\u5206\u652f\u5386\u53f2\u66f4\u52a0\u6e05\u6670\u3002</p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u53d8\u57fa\u548c\u5408\u5e76\u90fd\u7528\u4e8e\u4ee3\u7801\u5408\u5e76\uff0c\u4f60\u4e00\u5b9a\u4f1a\u60f3\u95ee\uff0c\u5230\u5e95\u54ea\u79cd\u65b9\u5f0f\u66f4\u597d\uff0c\u4e24\u79cd\u65b9\u6cd5\uff0c\u5206\u522b\u5728\u4f55\u65f6\u4f7f\u7528\uff1f\u5b9e\u9645\u4e0a\uff0c\u65e0\u8bba\u4f7f\u7528\u54ea\u79cd\u65b9\u6cd5\uff0c\u4ee3\u7801\u7684\u6700\u7ec8\u72b6\u6001\u90fd\u5fc5\u7136\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u540c\u7684\u53ea\u662f\u63d0\u4ea4\u5386\u53f2\u3002</p> <p>\u6709\u4e00\u79cd\u89c2\u70b9\u8ba4\u4e3a\uff0c\u4ed3\u5e93\u7684\u63d0\u4ea4\u5386\u53f2\u5373\u662f\u8bb0\u5f55\u5b9e\u9645\u53d1\u751f\u8fc7\u4ec0\u4e48\u3002\u5b83\u662f\u9488\u5bf9\u5386\u53f2\u7684\u6587\u6863\uff0c\u672c\u8eab\u5c31\u6709\u4ef7\u503c\uff0c\u4e0d\u80fd\u4e71\u6539\u3002 \u4ece\u8fd9\u4e2a\u89d2\u5ea6\u770b\u6765\uff0c\u6539\u53d8\u63d0\u4ea4\u5386\u53f2\u662f\u4e00\u79cd\u4eb5\u6e0e\uff0c\u4f60\u4f7f\u7528\u8c0e\u8a00\u63a9\u76d6\u4e86\u5b9e\u9645\u53d1\u751f\u8fc7\u7684\u4e8b\u60c5\u3002\u5982\u679c\u7531\u5408\u5e76\u4ea7\u751f\u7684\u63d0\u4ea4\u5386\u53f2\u662f\u4e00\u56e2\u7cdf\u600e\u4e48\u529e\uff1f\u65e2\u7136\u4e8b\u5b9e\u5c31\u662f\u5982\u6b64\uff0c\u90a3\u4e48\u8fd9\u4e9b\u75d5\u8ff9\u5c31\u5e94\u8be5\u88ab\u4fdd\u7559\u4e0b\u6765\uff0c\u8ba9\u540e\u4eba\u80fd\u591f\u67e5\u9605\u3002</p> <p>\u53e6\u4e00\u79cd\u89c2\u70b9\u5219\u6b63\u597d\u76f8\u53cd\uff0c\u4ed6\u4eec\u8ba4\u4e3a\u63d0\u4ea4\u5386\u53f2\u662f\u9879\u76ee\u8fc7\u7a0b\u4e2d\u53d1\u751f\u7684\u4e8b\u3002\u6ca1\u4eba\u4f1a\u51fa\u7248\u4e00\u672c\u4e66\u7684\u7b2c\u4e00\u7248\u8349\u7a3f\uff0c\u8f6f\u4ef6\u7ef4\u62a4\u624b\u518c\u4e5f\u662f\u9700\u8981\u53cd\u590d\u4fee\u8ba2\u624d\u80fd\u65b9\u4fbf\u4f7f\u7528\u3002\u6301\u8fd9\u4e00\u89c2\u70b9\u7684\u4eba\u4f1a\u4f7f\u7528rebase\u6765\u7f16\u5199\u6545\u4e8b\uff0c\u600e\u4e48\u65b9\u4fbf\u540e\u6765\u7684\u8bfb\u8005\u5c31\u600e\u4e48\u5199\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u56de\u5230\u4e4b\u524d\u7684\u95ee\u9898\u4e0a\u6765\uff0c\u5230\u5e95\u5408\u5e76\u8fd8\u662f\u53d8\u57fa\u597d\uff1f\u8fd9\u5e76\u6ca1\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u7b54\u6848\u3002 Git\u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u5b83\u5141\u8bb8\u4f60\u5bf9\u63d0\u4ea4\u5386\u53f2\u505a\u8bb8\u591a\u4e8b\u60c5\uff0c\u4f46\u6bcf\u4e2a\u56e2\u961f\u3001\u6bcf\u4e2a\u9879\u76ee\u5bf9\u6b64\u7684\u9700\u6c42\u5e76\u4e0d\u76f8\u540c\u3002 \u65e2\u7136\u4f60\u5df2\u7ecf\u5206\u522b\u5b66\u4e60\u4e86\u4e24\u8005\u7684\u7528\u6cd5\uff0c\u76f8\u4fe1\u4f60\u80fd\u591f\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4f5c\u51fa\u660e\u667a\u7684\u9009\u62e9\u3002</p> <p>\u4e0d\u8fc7\uff0c\u6211\u4eec\u8981\u5f3a\u8c03\u7684\u662f\uff0crebase\u662f\u4e00\u79cd\u9ad8\u7ea7\u64cd\u4f5c\uff0c\u5728\u4e00\u4e9b\u590d\u6742\u7684\u63d0\u4ea4\u7ec4\u5408\u4e0b\uff08\u6bd4\u5982\u591a\u4eba\u534f\u4f5c\u5f00\u53d1\u65f6\uff0c\u6709\u4eba\u5bf9\u5df2\u63a8\u9001\u7684\u63d0\u4ea4\u8fdb\u884c\u4e86\u56de\u6eda\uff09\uff0c\u4f7f\u7528rebase\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002\u56e0\u6b64\uff0c\u5728\u4f60\u6df1\u5165\u7406\u89e3rebase\u7684\u5de5\u4f5c\u539f\u7406\u4e4b\u524d\uff0c\u4e5f\u53ef\u4ee5\u53ea\u4f7f\u7528merge\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#143-git-diff","title":"1.4.3. \u5206\u652f\u6bd4\u8f83: git diff","text":"<p>\u5728\u8fdb\u884c\u4ee3\u7801\u5408\u5e76\u524d\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u5728\u4e0d\u540c\u7684\u5206\u652f\u95f4\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u4fbf\u4e86\u89e3\u4e24\u4e2a\u5206\u652f\u7684\u5dee\u5f02\u3002\u5b83\u4e5f\u5e2e\u52a9\u6211\u4eec\u5728\u5408\u5e76\u4e4b\u524d\u5c31\u53d1\u73b0\u6709\u54ea\u4e9b\u5408\u5e76\u51b2\u7a81\u3002</p> <p>Git\u63d0\u4f9b\u4e86git diff\u547d\u4ee4\u6765\u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u7684\u5dee\u5f02\uff0c\u4e0d\u4ec5\u5982\u6b64\uff0c\u5b83\u8fd8\u53ef\u4ee5\u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u6211\u4eec\u5148\u7b80\u5355\u4ecb\u7ecd\u4e0bgit diff\u547d\u4ee4\u884c\u4e0b\u7684\u4e00\u4e9b\u7528\u6cd5\uff0c\u7136\u540e\u5c31\u8df3\u8f6c\u5230\u56fe\u5f62\u5316\u754c\u9762\u3002\u6bd5\u7adf\uff0c\u56fe\u5f62\u5316\u754c\u9762\u53ef\u4ee5\u663e\u793a\u51fa\u66f4\u591a\u7684\u4fe1\u606f\u3002</p> <p><pre><code># \u4f7f\u7528\u4e24\u70b9\u8bed\u6cd5\u65f6\uff0c\u663e\u793a\u7684\u662f\u5728\u540e\u4e00\u4e2a\u5206\u652f\u4e0a\uff0c\u800c\u4e0d\u5728\u524d\u4e00\u4e2a\u5206\u652f\u4e0a\u7684\u63d0\u4ea4\n$ git diff branch1..branch2\ndiff --git a/file-feature b/file-feature\nnew file mode 100644\nindex 0000000..add9a1c\n--- /dev/null\n+++ b/file-feature\n@@ -0,0 +1 @@\n+this is a feature file\n\n# \u4f7f\u7528\u4e09\u70b9\u8bed\u6cd5\uff0c\u663e\u793a\u7684\u662f\u81ea\u5171\u540c\u7956\u5148\u4ee5\u6765\u7684\u6240\u6709\u63d0\u4ea4\u7684\u53bb\u540c\u5b50\u96c6\n$ git diff branch1...branch2\n</code></pre> \u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b\u5728git lens\u4e2d\uff0c\u5982\u4f55\u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u3002\u9996\u5148\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u7684\u83dc\u5355\u4e2d\uff0c\u9009\u62e9\u8981\u6bd4\u8f83\u7684\u4e24\u4e2a\u5206\u652f\uff1a</p> <p></p> <p>\u7136\u540e\u6211\u4eec\u5728\"Search &amp; Compare\"\u9762\u677f\u4e0b\uff0c\u627e\u5230\u5bf9\u6bd4\u7ed3\u679c\uff1a</p> <p></p> <p>\u6ce8\u610f\u5230\u5728\"Comparing hotfix/...\"\u5b57\u7b26\u4e32\u540e\u9762\uff0c\u6709\u4e00\u4e2a\u4ea4\u6362\u56fe\u6807\u3002\u5b83\u7528\u6765\u4ea4\u6362git diff\u4e24\u70b9\u8bed\u6cd5\u4e2d\u7684\u4e24\u4e2a\u5206\u652f\u7684\u987a\u5e8f\u3002\u8981\u67e5\u770b\u6587\u4ef6\u5185\u5bb9\u7684\u53d8\u66f4\uff0c\u53ef\u4ee5\u5728\"1 file changed\"\u7684\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u627e\u5230\u53d8\u5316\u7684\u6587\u4ef6\u540d\uff0c\u7136\u540e\u70b9\u51fb\u5b83\u5c31\u53ef\u4ee5\u6d4f\u89c8\u53d8\u66f4\u7684\u5177\u4f53\u60c5\u51b5\u4e86\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#144-resetcheckout","title":"1.4.4. reset\u4e0echeckout","text":"<p>\u524d\u9762\u6211\u4eec\u5df2\u7ecf\u63a5\u89e6\u5230\u4e86checkout\u547d\u4ee4\u3002\u8fd9\u91cc\u518d\u4ecb\u7ecd\u4e00\u4e2a\u7c7b\u4f3c\u7684\u547d\u4ee4\uff0c\u5373reset\u3002</p> <p>\u8981\u7406\u89e3reset\u547d\u4ee4\uff0c\u6211\u4eec\u9700\u8981\u5148\u56de\u987e\u4e0bgit\u7684\u4e09\u68f5\u6811\u6a21\u578b\uff0c\u5373\u5de5\u4f5c\u533a\u3001\u6682\u5b58\u533a(index)\u548cHEAD\u3002reset\u547d\u4ee4\u7684\u4f5c\u7528\u662f\u5c06\u5f53\u524d\u5206\u652f\u6307\u5411\u67d0\u4e2a\u63d0\u4ea4\uff0c\u540c\u65f6\u91cd\u7f6e\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\uff0c\u4f7f\u5b83\u4eec\u4e0e\u6307\u5b9a\u7684\u63d0\u4ea4\u4e00\u81f4\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u5982\u4e0b\u63d0\u4ea4\u5386\u53f2\uff1a <pre><code>$ git log --oneline\n59b6711 (HEAD -&gt; main) test reset\n4699b9e (origin/main, develop) Initial commit by ppw\n\n$ git status\ngit status\nOn branch main\nYour branch is ahead of 'origin/main' by 1 commit.\n  (use \"git push\" to publish your local commits)\n\nnothing to commit, working tree clean\n</code></pre> \u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u524d\u5171\u67091\u4e2a\u672a\u63a8\u9001\u7684\u63d0\u4ea4\uff0c\u537359b6711\u3002\u73b0\u5728\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u91cd\u7f6e\u8fd9\u4e2a\u63d0\u4ea4\uff1a</p> <p><pre><code># \u91cd\u7f6e\u5230\u4e0a\u4e00\u4e2a\u63d0\u4ea4\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684HEAD~\u8868\u793a\u4e0a\u4e00\u4e2a\u63d0\u4ea4\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u63d0\u4ea4\u7684hash\u4e32\n$ git reset --soft HEAD~\n\n$ git status\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges to be committed:\n  (use \"git restore --staged &lt;file&gt;...\" to unstage)\n        modified:   README.md\n</code></pre> \u73b0\u5728\uff0c\u4f60\u5c06\u5728vscode\u7684\u4fa7\u8fb9\u680f\u7684\"SOURCE CONTROL\"\u9762\u677f\u7684\"Staged Changes\"\u7c7b\u522b\u4e0b\uff0c\u770b\u5230\u51fa\u73b0\u4e86README.md\u6587\u4ef6\u3002\u8fd9\u76f8\u5f53\u4e8e\u53d6\u6d88\u4e86commit\u64cd\u4f5c\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5c06README.md\u518d\u63d0\u4ea4\u4e00\u6b21\uff0c\u7136\u540e\u518d\u6267\u884creset\u547d\u4ee4\uff1a <pre><code>$ git reset --mixed HEAD~\n</code></pre> \u8fd9\u6b21\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u53c2\u6570\u662fmixed\uff0c\u6211\u4eec\u5c06\u770b\u5230README.md\u6587\u4ef6\u51fa\u73b0\u5728\"Changes\"\u7c7b\u522b\u4e0b,\u5373\u76f8\u5f53\u4e8e\u53d6\u6d88\u4e86commit\u548cadd\u64cd\u4f5c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528--hard\u53c2\u6570\u6765\u6267\u884creset\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u8fd8\u5c06\u53d6\u6d88\u6587\u4ef6\u7684\u53d8\u66f4\u672c\u8eab\uff1a <pre><code>$ git reset --hard HEAD~\n</code></pre> \u5982\u679c\u6211\u4eec\u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\uff0c\u5219reset\u5c06\u6267\u884c\u4e00\u4e2amixed\u7684\u64cd\u4f5c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4ece\u56fe\u5f62\u754c\u9762\u4e0a\u6267\u884creset\u64cd\u4f5c\uff0c\u5927\u6982\u5206\u8fd9\u4e48\u51e0\u6b65\u3002\u9996\u5148\uff0c\u6211\u4eec\u627e\u5230COMMITS\u9762\u677f\uff0c\u7136\u540e\u627e\u5230\u8981\u91cd\u7f6e\u7684\u63d0\u4ea4\uff0c\u70b9\u51fb\u5b83\uff0c\u9009\u62e9\"undo commit\"\u64cd\u4f5c\uff0c\u8fd9\u76f8\u5f53\u4e8e\u6267\u884c\u4e86\u4e00\u4e2a\u201dreset --soft HEAD~\"\u64cd\u4f5c\u3002</p> <p></p> <p>\u5982\u679c\u6211\u4eec\u8fd8\u8981\u53d6\u6d88\"stage\"\u64cd\u4f5c\uff08\u5373undo add)\uff0c\u5219\u53ef\u4ee5\u5728\u201cSOURCE CONTROLE\u201d\u9762\u677f\u4e2d\uff0c\u627e\u5230staged changes\uff0c\u518d\u70b9\u51fb\u201cunstage all changes\"\u6309\u94ae\u3002\u540c\u6837\u7684\u64cd\u4f5c\u8fd8\u53ef\u4ee5\u8fd0\u7528\u5728\"Changes\"\u7c7b\u522b\u4e0b\u9762\u7684\u6587\u4ef6\u4e0a\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#145-gutter-change","title":"1.4.5. gutter change","text":"<p>\u5728\u6211\u4eec\u524d\u9762\u7684\u6682\u5b58(staging)\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u4ee5\u6574\u4e2a\u6587\u4ef6\u4e3a\u5355\u4f4d\u8fdb\u884c\u6682\u5b58\u3002\u4f46\u662f\uff0c\u6709\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u5e94\u8be5\u628a\u67d0\u4e00\u4e2a\u6587\u4ef6\u5206\u4e3a\u51e0\u4e2a\u4e0d\u540c\u7684\u6682\u5b58\u6765\u6dfb\u52a0\u3002\u8fd9\u4e2a\u547d\u4ee4\u5728git\u4e2d\u79f0\u4e3a\u4ea4\u4e92\u5f0f\u6682\u5b58(interactive staging)\u3002\u901a\u8fc7\u547d\u4ee4\u884c\u6267\u884c\u6bd4\u8f83\u7e41\u7410\uff0c\u8fd9\u91cc\u6211\u4eec\u4ecb\u7ecdgit lens\u4e2d\u7684gutter change\u529f\u80fd\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>gutter change\u662f\u6307\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5728\u7f16\u8f91\u533a\u884c\u53f7\u6307\u793a\u53f3\u4fa7\uff0c\u901a\u8fc7\u4e00\u4e2a\u7ebf\u6761\u6765\u6307\u793a\u5f53\u524d\u533a\u57df\u5b58\u5728\u53d8\u66f4\uff0c\u5f53\u4f60\u70b9\u51fb\u8fd9\u4e2a\u7ebf\u6761\u65f6\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u663e\u793a\u5f53\u524d\u533a\u57df\u7684\u53d8\u66f4\u5386\u53f2\uff0c\u5e76\u4e14\u5141\u8bb8\u4f60\u4ec5\u5bf9\u8fd9\u51e0\u884c\u53d8\u66f4\u8fdb\u884c\u56de\u6eda\u6216\u8005\u63d0\u4ea4\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#15","title":"1.5. \u8c01\u5f15\u5165\u4e86\u9519\u8bef\uff1a\u5982\u4f55\u8ffd\u8e2a\u4ee3\u7801\u53d8\u5316\uff08\u6848\u4f8b\uff09","text":"<p>\u5047\u8bbe\u4e00\u7ec4\u4eba\u5171\u540c\u5f00\u53d1\u4e00\u4e2a\u529f\u80fd\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u4eba\u63d0\u4ea4\u4e86\u4e00\u4e2a\u9519\u8bef\u7684\u4ee3\u7801\uff0c\u8fd9\u4e2a\u9519\u8bef\u7684\u4ee3\u7801\u88ab\u5408\u5e76\u5230\u4e86\u4e3b\u5206\u652f\uff0c\u5bfc\u81f4\u4e86\u7ebf\u4e0a\u7684\u6545\u969c\u3002\u4e00\u4e2a\u7d27\u6025\u7684\u4fee\u590d\u7248\u672c\u53d1\u5e03\u540e\uff0c\u95ee\u9898\u4fee\u590d\u4e86\u3002\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u56e2\u961f\u51b3\u5b9a\u5f00\u4e00\u4e2a\u4e8b\u540e\u5206\u6790\u7684\u4f1a\u8bae\uff0c\u5e0c\u671b\u77e5\u9053\u9519\u8bef\u662f\u5982\u4f55\u5f15\u5165\u7684\uff0c\u4eca\u540e\u5982\u4f55\u4e3e\u4e00\u53cd\u4e09\uff0c\u907f\u514d\u7c7b\u4f3c\u9519\u8bef\u3002</p> <p>\u901a\u5e38\uff0c\u5982\u679c\u9519\u8bef\u4ee3\u7801\u8fd8\u7559\u5728\u5f53\u524d\u7684\u4ee3\u7801\u4e2d\uff0c\u663e\u7136\u6211\u4eec\u53ea\u8981\u901a\u8fc7git blame\u5c31\u53ef\u4ee5\u77e5\u9053\u662f\u8c01\u63d0\u4ea4\u7684\u3002\u5982\u679c\u5b89\u88c5\u4e86git lens\uff0c\u53ea\u9700\u8981\u5c06\u9f20\u6807\u79fb\u52a8\u5230\u8be5\u884c\u4ee3\u7801\u672b\u5c3e\uff0cgit lens\u5c31\u4f1a\u663e\u793a\u8be5\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\u5386\u53f2\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p> \u4f46\u662f\uff0c\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u4fee\u590d\u4e86\u8be5\u9519\u8bef\u4ee3\u7801\uff0c\u5e76\u4e14\u4e5f\u8fc7\u53bb\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u6240\u4ee5\u8be5\u6bb5\u4ee3\u7801\u5df2\u7ecf\u4ece\u4ee3\u7801\u4e2d\u5220\u9664\u4e86\u3002\u73b0\u5728\uff0c\u60df\u4e00\u7684\u7ebf\u7d22\uff0c\u5c31\u662f\u5927\u5bb6\u4e00\u4e2a\u9519\u8bef\u7684\u5b57\u7b26\u4e32\u5f15\u8d77\u4e86\u8fd9\u4e2abug\u3002\u90a3\u4e48\uff0c\u5982\u4f55\u901a\u8fc7\u8fd9\u4e2a\u5b57\u7b26\u4e32\u6765\u641c\u7d22\u5462\uff1f</p> <p>\u7b54\u6848\u662fgit log\u547d\u4ee4+git blame\u547d\u4ee4\u3002 <pre><code>$ git log -S \"hotfix 533\" -p --all\ncommit 8e24fd76282a9e876fe3ceed4e95908d4d4300fd (HEAD -&gt; main)\nAuthor: aaron yang &lt;aaron_yang@jieyu.ai&gt;\nDate:   Wed Jan 25 20:18:30 2023 +0800\n\n    test\n\n$ diff --git a/README.md b/README.md\nindex 8a5ccfb..909d4f6 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,5 +1,6 @@\n # sample\n\n+this is hotfix 533\n\n &lt;p align=\"center\"&gt;\n &lt;a href=\"https://pypi.python.org/pypi/sample\"&gt;\n\ncommit e5cb519e57d131f23acea92fe46f39a21319a570 (origin/hotfix_534, hotfix_534)\nAuthor: aaron yang &lt;aaron_yang@jieyu.ai&gt;\nDate:   Tue Jan 24 20:58:02 2023 +0800\n\n    \ud83d\udc1e fix: fix\n\n$ diff --git a/README.md b/README.md\nindex 8a5ccfb..2539c76 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,5 +1,6 @@\n # sample\n\n+this is hotfix 534, should be conflict with hotfix 533\n</code></pre> \u5171\u6709\u4e24\u4e2a\u63d0\u4ea4\u5305\u542b\u5b57\u7b26\u4e32\"hotfix 533\"\u3002\u6211\u4eec\u66f4\u5173\u5fc38e24\u8fd9\u4e2a\u63d0\u4ea4\u4e2d\u7684\u53d8\u66f4\u662f\u8c01\u5f15\u5165\u7684\uff0c\u4e8e\u662f\u6211\u4eec\u4f7f\u7528git blame\u547d\u4ee4\u6765\u67e5\u770b\u8be5\u63d0\u4ea4\u7684\u53d8\u66f4\u5386\u53f2\uff1a <pre><code>$ git blame\n8e24fd76 (aaron yang 2023-01-25 20:18:30 +0800  3) this is hotfix 533\n</code></pre> \u62ec\u53f7\u5185\u663e\u793a\u4e86\u8be5\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\u8005\u548c\u63d0\u4ea4\u65f6\u95f4\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u53bb\u95ee\u95ee\u4ed6\uff0c\u5f53\u65f6\u5f15\u5165\u8fd9\u884c\u4ee3\u7801\u7684\u8003\u8651\u662f\u4ec0\u4e48\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#16-github","title":"1.6. Github","text":"<p>GitHub\u662f\u4e00\u4e2a\u5728\u7ebf\u8f6f\u4ef6\u6e90\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u5e73\u53f0\uff0c\u4f7f\u7528Git\u4f5c\u4e3a\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\uff0c\u7531\u5f00\u53d1\u8005Chris Wanstrath\u3001P. J. Hyett\u548c\u6c64\u59c6\u00b7\u666e\u96f7\u65af\u987f\u00b7\u6c83\u7eb3\u4f7f\u7528Ruby on Rails\u7f16\u5199\u800c\u6210\u3002Github\u5f00\u59cb\u4e8e2007\u5e7410\u67081\u65e5\uff0c 2008\u5e744\u6708\u6b63\u5f0f\u4e0a\u7ebf\u3002\u57282018\u5e74\uff0cGitHub\u88ab\u5fae\u8f6f\u516c\u53f8\u6536\u8d2d\u3002</p> <p>\u6839\u636e\u57282009\u5e74\u7684Git\u7528\u6237\u8c03\u67e5\uff0cGitHub\u662f\u6700\u6d41\u884c\u7684Git\u8bbf\u95ee\u7ad9\u70b9\u3002\u9664\u4e86\u5141\u8bb8\u4e2a\u4eba\u548c\u7ec4\u7ec7\u521b\u5efa\u548c\u8bbf\u95ee\u4fdd\u7ba1\u4e2d\u7684\u4ee3\u7801\u4ee5\u5916\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u4fbf\u793e\u4f1a\u5316\u5171\u540c\u8f6f\u4ef6\u5f00\u53d1\u7684\u529f\u80fd\uff0c\u5373\u4e00\u822c\u4eba\u53e3\u4e2d\u7684\u793e\u7fa4\u529f\u80fd\uff0c\u5305\u62ec\u5141\u8bb8\u7528\u6237\u8ffd\u8e2a\u5176\u4ed6\u7528\u6237\u3001\u7ec4\u7ec7\u3001\u8f6f\u4ef6\u5e93\u7684\u52a8\u6001\uff0c\u5bf9\u8f6f\u4ef6\u4ee3\u7801\u7684\u6539\u52a8\u548cbug\u63d0\u51fa\u8bc4\u8bba\u7b49\u3002GitHub\u4e5f\u63d0\u4f9b\u4e86\u56fe\u8868\u529f\u80fd\uff0c\u7528\u4e8e\u6982\u89c2\u663e\u793a\u5f00\u53d1\u8005\u4eec\u600e\u6837\u5728\u4ee3\u7801\u5e93\u4e0a\u5de5\u4f5c\u4ee5\u53ca\u8f6f\u4ef6\u7684\u5f00\u53d1\u6d3b\u8dc3\u7a0b\u5ea6\u3002</p> <p>\u622a\u81f32022\u5e746\u6708\uff0cGitHub\u5df2\u7ecf\u6709\u8d85\u8fc75700\u4e07\u6ce8\u518c\u7528\u6237\u548c1.9\u4ebf\u4ee3\u7801\u5e93\uff08\u5305\u62ec\u81f3\u5c112800\u4e07\u5f00\u6e90\u4ee3\u7801\u5e93\uff09\uff0c\u4e8b\u5b9e\u4e0a\u5df2\u7ecf\u6210\u4e3a\u4e86\u4e16\u754c\u4e0a\u6700\u5927\u7684\u4ee3\u7801\u6258\u7ba1\u7f51\u7ad9\u548c\u5f00\u6e90\u793e\u533a\u3002\u5b83\u6258\u7ba1\u7684\u5de8\u5927\u6e90\u4ee3\u7801\u5e93\uff0c\u4e5f\u6210\u4e3acopilot\u7684\u8bad\u7ec3\u6570\u636e\u96c6\u3002</p> <p>\u9664\u4e86\u4f5c\u4e3aGit\u7684\u6258\u7ba1\u670d\u52a1\u5e73\u53f0\u5916\uff0cgithub\u8fd8\u63d0\u4f9b\u4e86github pages\u7f51\u9875\u6258\u7ba1\u670d\u52a1\uff08\u53ef\u5b58\u653e\u9759\u6001\u7f51\u9875\uff0c\u5305\u62ec\u535a\u5ba2\u3001\u9879\u76ee\u6587\u6863\u751a\u81f3\u6574\u672c\u4e66\uff09\uff1bcodespace\u5728\u7ebf\u5f00\u53d1\u73af\u5883\u548cgithub actions CI\u7b49\u670d\u52a1\u3002 </p> <p>\u636e\u7edf\u8ba1\uff0cgithub\u7528\u6237\u4e2d\uff0c\u7537\u6027\u7fa4\u4f53\u9ad8\u8fbe95%\u4ee5\u4e0a\uff0c\u56e0\u6b64github\u4e5f\u5e38\u88ab\u7f51\u53cb\u620f\u79f0\u4e3aGayhub\uff0c\u5168\u7403\u6700\u5927\u540c\u6027\u4ea4\u53cb\u7f51\u7ad9\u3002</p> <p>Github\u7f51\u9875\u7248\u7684\u529f\u80fd\u7559\u7ed9\u8bfb\u8005\u81ea\u5df1\u63a2\u7d22\u3002\u8fd9\u91cc\u4e3b\u8981\u8bb2\u89e3\u4e0bgithub cli\u7684\u529f\u80fd\u548c\u7528\u6cd5\u3002</p> <p>\u9664\u4e86\u7f51\u9875\u4e4b\u5916\uff0cGithub\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9bREST\u98ce\u683c\u7684API\u4f9b\u5927\u5bb6\u4f7f\u7528\uff0c\u73b0\u5728\u53ef\u4ee5\u4f7f\u7528\u7684API\u7248\u672c\u79f0\u4e3aV3\u3002\u901a\u8fc7\u8fd9\u4e9bAPI\uff0c\u6211\u4eec\u53ef\u4ee5\u7ba1\u7406\u4ed3\u5e93\u3001\u8bbf\u95ee\u7528\u6237\u3001\u6784\u5efa\u548c\u89e6\u53d1CI\u3001\u7ba1\u7406issue\u7b49\u3002</p> <p>\u8fd9\u4e9bAPI\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7curl\u6765\u5b8c\u6210\u4e0a\u8ff0\u529f\u80fd\u3002Github\u5219\u57fa\u4e8e\u8fd9\u4e9bAPI\uff0c\u5f00\u53d1\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0cgithub cli\uff0c\u7b80\u79f0gh\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#161","title":"1.6.1. \u5b89\u88c5","text":"<p>\u5728mac\u4e0b\u5b89\u88c5gh\uff0c\u53ef\u4ee5\u4f7f\u7528brew\u5b89\u88c5\uff1a <pre><code>$ brew install gh\n</code></pre></p> <p>\u5728linux\u548cbsd\u4e0b\u5b89\u88c5\uff0c\u5982\u679c\u662fDebian, Ubuntu Linux, Raspberry Pi OS\u7b49\u57fa\u4e8eapt\u7684\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528apt\u5b89\u88c5\uff1a <pre><code>type -p curl &gt;/dev/null || sudo apt install curl -y\ncurl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg \\\n&amp;&amp; sudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg \\\n&amp;&amp; echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main\" | sudo tee /etc/apt/sources.list.d/github-cli.list &gt; /dev/null \\\n&amp;&amp; sudo apt update \\\n&amp;&amp; sudo apt install gh -y\n</code></pre> \u5982\u679c\u662fFedora, CentOS, Red Hat Enterprise Linux\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528dnf: <pre><code>$ sudo dnf install 'dnf-command(config-manager)'\n$ sudo dnf config-manager --add-repo https://cli.github.com/packages/rpm/gh-cli.repo\n$ sudo dnf install gh\n</code></pre> \u5982\u679c\u60a8\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u5728\u6b64\u5217\uff0c\u53ef\u4ee5\u53c2\u8003installing gh on Linux and BSD\u8fd9\u7bc7\u6587\u7ae0\u3002</p> <p>\u5982\u679c\u662fwindows\uff0c\u53ef\u4ee5\u901a\u8fc7winget, scoop, Chocolatey\u7b49\u5305\u7ba1\u7406\u5de5\u5177\u5b89\u88c5\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u5b89\u88c5\u5305\u5b89\u88c5\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c\u5728\u6240\u6709\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5982\u679c\u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86conda\uff0c\u5219\u4e5f\u53ef\u4ee5\u901a\u8fc7conda\u6765\u5b89\u88c5\uff1a <pre><code>$ conda install -c conda-forge gh\n</code></pre></p> <p>github cli\u7684\u4e3b\u8981\u547d\u4ee4\u6709\uff1a <pre><code>auth:        \u5b8c\u6210gh\u548cgit\u5728github\u4e0a\u7684\u9274\u6743\ncodespace:   \u8fde\u63a5\u5e76\u7ba1\u7406codespace\ngist:        \u7ba1\u7406gists\uff0c\u4e3b\u8981\u662f\u589e\u5220\u6539\u67e5\u7684\u4e00\u4e9b\u52a8\u4f5c\nissue:       \u7ba1\u7406issue\uff0c\u5305\u62ec\u67e5\u770b\u3001\u7f16\u8f91\u3001\u8bc4\u8bba\u3001\u5173\u95ed\u548c\u91cd\u65b0\u6253\u5f00\u3001\u79fb\u4ea4\u7b4916\u4e2a\u5b50\u547d\u4ee4\npr:          \u7ba1\u7406pull request\uff0c\u5305\u62eccheckout, close, diff, edit\u7b4916\u4e2a\u5b50\u547d\u4ee4\nrelease:     \u7ba1\u7406\u7248\u672c\u53d1\u5e03\uff0c\u5305\u62ec\u589e\u5220\u6539\u67e5\u7b498\u4e2a\u5b50\u547d\u4ee4\nrepo:        \u7ba1\u7406\u5b58\u50a8\u5e93\uff0c\u5305\u62ec\u514b\u9686\u3001\u521b\u5efa\u3001\u5220\u9664\u3001\u540c\u6b65\u7b4915\u4e2a\u5b50\u547d\u4ee4\nrun:         \u67e5\u770b\u3001\u5217\u51fa\u3001\u76d1\u63a7\u6700\u8fd1\u6267\u884c\u7684github actions\nworkflow:    \u5217\u51fa\u3001\u67e5\u770b\u3001\u542f\u7528\u548c\u505c\u6b62\u5b9a\u4e49\u4e2d\u7684workflow\u3002\u4e0erun\u76f8\u6bd4\uff0c\u76f8\u5f53\u4e8e\u7a0b\u5e8f\u4e0e\u8fdb\u7a0b\u7684\u5173\u7cfb\u3002\nalias:       \u7ba1\u7406\u547d\u4ee4\u522b\u540d\uff0c\u6216\u8005\u8bf4\u662f\u547d\u4ee4\u7684\u5feb\u6377\u65b9\u5f0f\nconfig:      gh\u7684\u8bbe\u7f6e\u547d\u4ee4\nextension:   \u7ba1\u7406gh\u7684\u6269\u5c55\nlabel:       \u7ba1\u7406\u4ed3\u5e93\u4e2d\u8ddfissue\u76f8\u5173\u7684\u6807\u7b7e\u3002\nsearch:      \u641c\u7d22\u4ed3\u5e93\uff0cissue\u548cpr\u3002\u7528\u6cd5\u4e3e\u4f8b\uff1a\u641c\u7d22python\u4e3b\u9898\u4e0b\u70b9\u8d5e\u6570\u6700\u591a\u7684\u4ed3\u5e93\u3002\nsecret:      \u7ba1\u7406\u8ddf\u4ed3\u5e93\u5173\u8054\u7684\u4e00\u4e9b\u673a\u5bc6\u4fe1\u606f\nssh-key:     \u7ba1\u7406ssh\u79d8\u94a5\nstatus:      \u663e\u793a\u672c\u8d26\u53f7\u5173\u8054\u7684issue\uff0cpr\u72b6\u6001\u548c\u6700\u8fd1\u7684\u6d3b\u52a8\n</code></pre> \u9664\u4e0a\u9762\u7684\u547d\u4ee4\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u4e13\u95e8\u4ecb\u7ecdapi\u8fd9\u4e2a\u547d\u4ee4\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u53d1\u8d77\u4e00\u4e2aGithub API\u8bf7\u6c42\uff0c\u56e0\u4e3agh\u5df2\u7ecf\u9274\u6743\u4e86\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u514d\u9274\u6743\u3002gh\u652f\u6301\u7684\u547d\u4ee4\u662f\u6709\u9650\u7684\uff0c\u901a\u8fc7api\u8fd9\u4e2a\u547d\u4ee4\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9gh\u8fdb\u884c\u6269\u5c55\uff0c\u6bd4\u5982\uff0c\u8981\u83b7\u53d6github\u7528\u6237\u5217\u8868\uff1a <pre><code>$ gh api users\n[\n  {\n    \"login\": \"mojombo\",\n    \"id\": 1,\n    \"node_id\": \"MDQ6VXNlcjE=\",\n    \"avatar_url\": \"https://avatars.githubusercontent.com/u/1?v=4\",\n    \"gravatar_id\": \"\",\n    \"url\": \"https://api.github.com/users/mojombo\",\n    \"html_url\": \"https://github.com/mojombo\",\n    \"followers_url\": \"https://api.github.com/users/mojombo/followers\",\n    \"following_url\": \"https://api.github.com/users/mojombo/following{/other_user}\",\n    \"gists_url\": \"https://api.github.com/users/mojombo/gists{/gist_id}\",\n    \"starred_url\": \"https://api.github.com/users/mojombo/starred{/owner}{/repo}\",\n    \"subscriptions_url\": \"https://api.github.com/users/mojombo/subscriptions\",\n    \"organizations_url\": \"https://api.github.com/users/mojombo/orgs\",\n    \"repos_url\": \"https://api.github.com/users/mojombo/repos\",\n    \"events_url\": \"https://api.github.com/users/mojombo/events{/privacy}\",\n    \"received_events_url\": \"https://api.github.com/users/mojombo/received_events\",\n    \"type\": \"User\",\n    \"site_admin\": false\n  },\n  {\n    \"login\": \"defunkt\",\n    \"id\": 2,\n    \"node_id\": \"MDQ6VXNlcjI=\",\n    \"avatar_url\": \"https://avatars.githubusercontent.com/u/2?v=4\",\n    \"gravatar_id\": \"\",\n    \"url\": \"https://api.github.com/users/defunkt\",\n    \"html_url\": \"https://github.com/defunkt\",\n    \"followers_url\": \"https://api.github.com/users/defunkt/followers\",\n    \"following_url\": \"https://api.github.com/users/defunkt/following{/other_user}\",\n    \"gists_url\": \"https://api.github.com/users/defunkt/gists{/gist_id}\",\n    \"starred_url\": \"https://api.github.com/users/defunkt/starred{/owner}{/repo}\",\n    \"subscriptions_url\": \"https://api.github.com/users/defunkt/subscriptions\",\n    \"organizations_url\": \"https://api.github.com/users/defunkt/orgs\",\n    \"repos_url\": \"https://api.github.com/users/defunkt/repos\",\n    \"events_url\": \"https://api.github.com/users/defunkt/events{/privacy}\",\n    \"received_events_url\": \"https://api.github.com/users/defunkt/received_events\",\n    \"type\": \"User\",\n    \"site_admin\": false\n  },\n  ...\n]\n</code></pre> github cli\u53ef\u4ee5\u65b9\u4fbf\u6211\u4eec\u5bf9\u8d26\u6237\u548c\u4ed3\u5e93\u6267\u884c\u4e00\u4e9b\u81ea\u52a8\u5316\u7684\u64cd\u4f5c\u3002\u5728ppw\u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6709\u4e00\u4e2a\u540d\u4e3arepo.sh\u7684\u811a\u672c\uff0c\u8fd9\u91cc\u9762\u5c31\u4f7f\u7528\u4e86github cli\u3002</p> <p>\u5f53ppw\u751f\u6210\u4e86\u6846\u67b6\u4ee3\u7801\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u628a\u5b83\u63d0\u4ea4\u5230github\u4e0a\u53bb\u3002\u7531\u4e8e\u6b64\u65f6github\u4e0a\u8fd8\u6ca1\u6709\u8fd9\u4e2a\u4ed3\u5e93\uff0c\u6211\u4eec\u5fc5\u987b\u7b49\u7528\u6237\u624b\u52a8\u521b\u5efa\uff0c\u56e0\u6b64\u8fd9\u4e2a\u63d0\u4ea4\u4e5f\u6ca1\u6cd5\u81ea\u52a8\u5316\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u4e86github cli\u4e4b\u540e\uff0c\u8fd9\u4e2a\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\uff1a <pre><code># \u8c03\u7528gh\u547d\u4ee4\u521b\u5efa\u4ed3\u5e93\n$ gh repo create sample --public\n\n# \u7531\u4e8e\u4ed3\u5e93\u662fgh\u521b\u5efa\u7684\uff0c\u56e0\u4e3a\u8fdc\u7a0b\u670d\u52a1\u5668\u7684url\u4e5f\u5c31\u786e\u5b9a\u4e0b\u6765\u4e86\uff0c\u5173\u8054\u8fd9\u4e00\u6b65\u4e5f\u5c31\u81ea\u52a8\u5316\u4e86\n$ git remote add origin git@github.com:zillionare/sample.git\n</code></pre></p> <p>\u53e6\u5916\uff0c\u901a\u8fc7github\u7684web\u754c\u9762\u6765\u8bbe\u7f6e\u4ed3\u5e93\u7684\u4e00\u4e9b\u673a\u5bc6\u4fe1\u606f\u6bd4\u8f83\u7e41\u7410\uff0c\u8017\u65f6\u8f83\u957f\u3002\u5047\u8bbe\u4f60\u7ba1\u7406\u4e8610\u4e2a\u4ee5\u4e0a\u7684\u4ed3\u5e93\uff0c\u8fd8\u8981\u5b9a\u671f\u66f4\u6362\u8fd9\u4e9b\u673a\u5bc6\u4fe1\u606f\u7684\u8bdd\u5c31\u66f4\u662f\u5982\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7gh secret\u547d\u4ee4\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6458\u5f55\u81earepo.sh\uff1a <pre><code>gh secret set PERSONAL_TOKEN --body $GH_TOKEN\ngh secret set PYPI_API_TOKEN --body $PYPI_API_TOKEN\ngh secret set TEST_PYPI_API_TOKEN --body $TEST_PYPI_API_TOKEN\n\ngh secret set BUILD_NOTIFY_MAIL_SERVER --body $BUILD_NOTIFY_MAIL_SERVER\ngh secret set BUILD_NOTIFY_MAIL_PORT --body $BUILD_NOTIFY_MAIL_PORT\ngh secret set BUILD_NOTIFY_MAIL_FROM --body $BUILD_NOTIFY_MAIL_FROM\ngh secret set BUILD_NOTIFY_MAIL_PASSWORD --body $BUILD_NOTIFY_MAIL_PASSWORD\ngh secret set BUILD_NOTIFY_MAIL_RCPT --body $BUILD_NOTIFY_MAIL_RCPT\n</code></pre> \u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d, \u5f53CI\u8fd0\u884c\u65f6\uff0c\u9700\u8981\u6709pypi\u548ctest.pypi\u7684API key, \u53d1\u5e03\u6587\u6863\u65f6\u9700\u8981github\u7684API key, \u4ee5\u53caCI\u5b8c\u6210\u65f6\uff0c\u9700\u8981\u53d1\u9001\u90ae\u4ef6\u901a\u77e5\uff0c\u8fd9\u9700\u8981\u914d\u7f6e\u76f8\u5173\u670d\u52a1\u5668\u4fe1\u606f\u53ca\u53d1\u4ef6\u4eba\u3001\u6536\u4ef6\u4eba\u4fe1\u606f\u3002</p> <p>\u901a\u8fc7\u4e0a\u8ff0\u811a\u672c\uff0c\u6211\u4eec\u628a\u5f53\u524d\u5bbf\u4e3b\u673a\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u5bfc\u5165\u5230\u4e86\u4ed3\u5e93\u7684\u673a\u5bc6\u4fe1\u606f\u4e2d\uff0c\u8fd9\u6837\u5728github actions\u4e2d\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e86\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u65e2\u4fdd\u8bc1\u4e86\u65b9\u4fbf\uff0c\u53c8\u4fdd\u8bc1\u4e86\u673a\u5bc6\u4fe1\u606f\u7684\u5b89\u5168\u6027\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/","title":"09 \u6301\u7eed\u96c6\u6210","text":"<p>\u5f53\u4e00\u7ec4\u5f00\u53d1\u8005\u5171\u540c\u5f00\u53d1\u4e00\u4e2a\u9879\u76ee\u65f6\uff0c\u5404\u79cd\u51b2\u7a81\u4f3c\u4e4e\u4e0d\u53ef\u907f\u514d\u3002\u6211\u4eec\u5728\u7b2c8\u7ae0\u4ecb\u7ecd\u4e86\u5206\u652f\u548cgitflow\u5de5\u4f5c\u6d41\u6a21\u578b\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u4ee3\u7801\u51b2\u7a81\u7684\u95ee\u9898\u3002\u4f46\u662f\uff0c\u4ee3\u7801\u5408\u5e76\u53ea\u80fd\u8fbe\u5230\u8868\u9762\u4e0a\u7684\u548c\u8c10\u3002\u4e0d\u540c\u7684\u4eba\u5f00\u53d1\u7684\u4ee3\u7801\u80fd\u5426\u534f\u540c\u5de5\u4f5c\uff0c\u6700\u7ec8\u8fd8\u5f97\u901a\u8fc7\u6d4b\u8bd5\u6765\u68c0\u9a8c\u3002</p> <p>\u5728\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u7684\u5f00\u53d1\u6d41\u7a0b\u4e2d\uff0c\u5f00\u53d1\u8005\u5728\u7b7e\u5165\u4ee3\u7801\u5e76\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e4b\u524d\uff0c\u5e94\u8be5\u901a\u8fc7tox\u6267\u884c\u7684\u5355\u5143\u6d4b\u8bd5\u548c\u4ee3\u7801\u68c0\u67e5\u3002\u4f46\u662f\uff0c\u5982\u679c\u5f00\u53d1\u8005\u6709\u610f\u5ffd\u7565\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u4e0d\u826f\u4ee3\u7801\u4ecd\u7136\u80fd\u6e9c\u8fdb\u4ed3\u5e93\u3002\u6b64\u5916\uff0c\u5c3d\u7ba1\u6211\u4eec\u865a\u62df\u5316\u4e86\u6d4b\u8bd5\u73af\u5883\uff0c\u4f46\u4ecd\u7136\u6709\u53ef\u80fd\u5728\u4e00\u540d\u5f00\u53d1\u8005\u673a\u5668\u4e0a\u901a\u8fc7\u7684\u6d4b\u8bd5\uff0c\u4e0d\u80fd\u5728\u53e6\u4e00\u4e2a\u73af\u5883\u91cc\u8fd0\u884c\u3002\u6bd4\u5982\uff0c\u53ef\u80fd\u5f15\u5165\u4e86\u65b0\u7684\u914d\u7f6e\u9879\uff0c\u8fd9\u4e9b\u914d\u7f6e\u9879\u5b58\u5728\u4e8e\u672c\u5730\u73af\u5883\uff0c\u4f46\u5176\u5b83\u4eba\u5e76\u4e0d\u77e5\u9053\uff1b\u6216\u8005\u66f4\u6539\u4e86\u672c\u5730\u6570\u636e\u5e93\uff0c\u4f46\u76f8\u5e94\u7684\u53d8\u66f4\u811a\u672c\u5e76\u6ca1\u6709\u96c6\u6210\u8fdb\u6765\uff0c\u7b49\u7b49\u3002\u5982\u679c\u53ea\u8981\u6709\u65b0\u7684\u4ee3\u7801\u7b7e\u5165\uff0c\u5c31\u80fd\u5728\u4e00\u53f0\u516c\u5171\u673a\u5668\u4e0a\u81ea\u52a8\u6267\u884c\u6240\u6709\u6d4b\u8bd5\u4ee5\u786e\u4fdd\u4ee3\u7801\u6b63\u786e\u6027\uff0c\u663e\u7136\u53ef\u4ee5\u66f4\u65e9\u5730\u53d1\u73b0\u95ee\u9898\uff0c\u964d\u4f4e\u540e\u671f\u7ef4\u62a4\u6210\u672c\u3002\u8fd9\u5c31\u662f\u6301\u7eed\u96c6\u6210\u7684\u610f\u4e49\u6240\u5728\u3002</p> <p>\u6301\u7eed\u96c6\u6210\u662f\u4e00\u79cd DevOps \u8f6f\u4ef6\u5f00\u53d1\u5b9e\u8df5\u3002\u91c7\u7528\u6301\u7eed\u96c6\u6210\u65f6\uff0c\u5f00\u53d1\u4eba\u5458\u4f1a\u5b9a\u671f\u5c06\u4ee3\u7801\u53d8\u66f4\u5408\u5e76\u5230\u4e00\u4e2a\u4e2d\u592e\u5b58\u50a8\u5e93\u4e2d\uff0c\u4e4b\u540e\u7cfb\u7edf\u4f1a\u81ea\u52a8\u8fd0\u884c\u6784\u5efa\u548c\u6d4b\u8bd5\u64cd\u4f5c\u3002\u6301\u7eed\u96c6\u6210\u901a\u5e38\u662f\u6307\u8f6f\u4ef6\u53d1\u5e03\u6d41\u7a0b\u7684\u6784\u5efa\u6216\u96c6\u6210\u9636\u6bb5\uff0c\u9700\u8981\u7528\u5230\u81ea\u52a8\u5316\u7ec4\u4ef6\uff08\u4f8b\u5982 CI \u6216\u6784\u5efa\u670d\u52a1\uff09\u548c\u6587\u5316\u7ec4\u4ef6\uff08\u6307\u7ec4\u7ec7\u7684\u6d41\u7a0b\u548c\u89c4\u8303\u7b49\uff0c\u4f8b\u5982\u5b66\u4e60\u9891\u7e41\u5730\u96c6\u6210\uff09\u3002\u6301\u7eed\u96c6\u6210\u7684\u4e3b\u8981\u76ee\u6807\u662f\u66f4\u5feb\u53d1\u73b0\u5e76\u89e3\u51b3\u7f3a\u9677\uff0c\u63d0\u9ad8\u8f6f\u4ef6\u8d28\u91cf\uff0c\u5e76\u51cf\u5c11\u9a8c\u8bc1\u548c\u53d1\u5e03\u65b0\u8f6f\u4ef6\u66f4\u65b0\u6240\u9700\u7684\u65f6\u95f4\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#1-ci","title":"1. \u5e38\u89c1\u7684\u5728\u7ebfCI\u670d\u52a1","text":"<p>\u6211\u4eec\u5148\u6765\u8ba4\u8bc6\u4e00\u4e0b\u6301\u7eed\u96c6\u6210\u9886\u57df\u7684\u5934\u90e8\u73a9\u5bb6\u3002Jekins\u662f\u6301\u7eed\u96c6\u6210\u9886\u57df\u7684\u8001\u5927\u54e5\uff0cJenkins\u81ea\u8bde\u751f\u4e4b\u65e5\u8d77\uff0c\u81f3\u4eca\u5df2\u53d1\u5c55\u4e86\u8fd120\u5e74\uff0c\u793e\u533a\u3001\u751f\u6001\u6700\u4e3a\u5b8c\u5584\u3002Gitlab\u6700\u521d\u662f\u57fa\u4e8eGit\u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u81ea\u7248\u672c8.0\u8d77\uff0c\u5f00\u59cb\u63d0\u4f9b\u6301\u7eed\u96c6\u6210\u529f\u80fd\u3002\u5176\u4f18\u70b9\u662f\u4e0e\u4ee3\u7801\u4ed3\u5e93\u65e0\u7f1d\u96c6\u6210\uff0c\u539f\u751f\u5730\u652f\u6301\u4ee3\u7801\u4ed3\u5e93\u5404\u7c7b\u4e8b\u4ef6\u89e6\u53d1\u6d41\u6c34\u7ebf\u3002\u4e0d\u8db3\u4e4b\u5904\u662f\uff0c\u65e0\u8bbaJekins\u8fd8\u662fGitlab\uff0c\u90fd\u9700\u8981\u81ea\u5df1\u642d\u5efa\u670d\u52a1\u5668\uff0c\u8fd9\u5bf9\u4e8e\u5f00\u6e90\u9879\u76ee\u548c\u4e2a\u4eba\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u6210\u672c\u592a\u9ad8\u4e86\u3002</p> <p>\u6784\u5efaCI\u670d\u52a1\u5668\u7684\u6210\u672c\u662f\u6602\u8d35\u7684\u3002\u5728\u865a\u62df\u673a\u6ca1\u6709\u5e7f\u6cdb\u5e94\u7528\u4e4b\u524d\uff0c\u8fd9\u4e2a\u6210\u672c\u5c31\u66f4\u4e3a\u6602\u8d35\u3002\u4f60\u9700\u8981\u4e3a\u4f60\u7684\u5e94\u7528\u5c06\u8981\u90e8\u7f72\u5230\u7684\u6bcf\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u81f3\u5c11\u51c6\u5907\u4e00\u53f0\u673a\u5668\u3002\u5982\u679c\u4f60\u7684\u5e94\u7528\u9700\u8981\u90e8\u7f72\u5230\u4ecewindows\u5230Linux\u5230Macos\u4e0a\u7684\u5404\u4e2a\u7248\u672c\uff0c\u4f60\u53ef\u80fd\u5c31\u9700\u8981\u51c6\u5907\u81f3\u5c11\u5341\u53f0\u4ee5\u4e0a\u7684\u673a\u5668\u786c\u4ef6\u3002\u865a\u62df\u5316\u7684\u51fa\u73b0\u5927\u5927\u964d\u4f4e\u4e86CI\u7684\u6210\u672c\uff0c\u968f\u540e\u662f\u5bb9\u5668\u5316\u7684\u51fa\u73b0\uff0c\u8fdb\u4e00\u6b65\u964d\u4f4e\u4e86CI\u7684\u6210\u672c\u3002\u4f46\u662f\uff0c\u5373\u4fbf\u662f\u8fd9\u6837\uff0c\u5bf9\u5f00\u6e90\u9879\u76ee\uff0c\u81ea\u884c\u642d\u5efa\u548c\u7ef4\u62a4CI\u670d\u52a1\u5668\u7684\u6210\u672c\u4ecd\u7136\u662f\u6602\u8d35\u7684\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4f60\u7684\u5e94\u7528\u9700\u8981\u90e8\u7f72\u5230MacOs\u4e0a\uff0c\u4f60\u5fc5\u987b\u81f3\u5c11\u6709\u4e00\u5230\u591a\u53f0\u82f9\u679c\u7684\u670d\u52a1\u5668\uff0c\u56e0\u4e3a\u5176\u5b83\u673a\u5668\u4e0a\u90fd\u65e0\u6cd5\u865a\u62df\u5316\u51fa\u6765macos\u7684\u5bb9\u5668\u3002</p> <p>\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u5728\u7ebfCI\u670d\u52a1\u7684\u539f\u56e0\u3002\u597d\u6d88\u606f\u662f\uff0c\u5bf9\u5f00\u6e90\u9879\u76ee\uff0c\u6709\u76f8\u5f53\u591a\u7684\u5728\u7ebfCI\u670d\u52a1\u662f\u514d\u8d39\u7684\u3002\u8fd9\u91cc\u6211\u4eec\u4ec5\u4ec5\u4ecb\u7ecdTravis CI\u548cGithub Actions\u3002</p> <p>Travis CI\u662f\u4e00\u4e2a\u57fa\u4e8e\u4e91\u7684\u6301\u7eed\u96c6\u6210\u670d\u52a1\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u5728Github\u4e0a\u6784\u5efa\u548c\u6d4b\u8bd5\u4ee3\u7801\uff0c\u4ece\u800c\u51cf\u5c11\u53d1\u5e03\u8f6f\u4ef6\u7684\u65f6\u95f4\u3002Travis CI\u4e3a\u5f00\u6e90\u9879\u76ee\u63d0\u4f9b\u4e86\u4e00\u5b9a\u91cf\u7684\u670d\u52a1\u65f6\u95f4\uff0c\u5bf9\u4e8e\u79c1\u6709\u9879\u76ee\uff0c\u5219\u9700\u8981\u4ed8\u8d39--\u8ba1\u5212\u8d77\u4ef7\u662f\u6bcf\u670869\u7f8e\u5143\u3002\u8fd9\u4e2a\u5b9a\u4ef7\u672c\u8eab\u4e5f\u8bf4\u660e\u4e86\u6301\u7eed\u96c6\u6210\u7684\u4ef7\u503c\uff0c\u4ee5\u53ca\u8981\u5b9e\u73b0\u6301\u7eed\u96c6\u6210\uff0c\u6240\u9700\u8981\u6d88\u8017\u7684\u8d44\u6e90\u3002</p> <p>Github Actions\u662fGithub\u57282020\u5e74\u524d\u540e\u63a8\u51fa\u7684\u6301\u7eed\u96c6\u6210\u670d\u52a1\uff0c\u5b83\u7684\u4f18\u70b9\u540cgitlab CI\u4e00\u6837\uff0c\u4e5f\u5728\u4e8e\u4e0e\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u65e0\u7f1d\u96c6\u6210\uff0c\u4e0d\u9700\u8981\u81ea\u5df1\u642d\u5efa\u670d\u52a1\u5668\u3002\u5728\u4ef7\u683c\u65b9\u9762\uff0cGithub Actions\u5bf9\u5f00\u6e90\u9879\u76ee\u4e5f\u662f\u514d\u8d39\u4f7f\u7528\u7684\uff0c\u4e0eTravis CI\u76f8\u6bd4\uff0c\u7ed9\u51fa\u7684\u514d\u8d39quota\u66f4\u591a\uff0c\u8db3\u582a\u4f7f\u7528\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u672c\u7ae0\u5c31\u7565\u8fc7Travis CI\uff0c\u76f4\u63a5\u4ecb\u7ecdGithub Actions\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#2-github-actions","title":"2. Github Actions","text":"<p>Github Actions\u662f\u4e00\u4e2a\u6301\u7eed\u96c6\u6210\u4e0e\u4ea4\u4ed8\u7684\u5e73\u53f0\uff0c\u5b83\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5c06\u6784\u5efa\u3001\u6d4b\u8bd5\u548c\u90e8\u7f72\u50cf\u6d41\u6c34\u7ebf\u4e00\u6837\u81ea\u52a8\u5316\u3002\u60a8\u53ef\u4ee5\u521b\u5efa\u5de5\u4f5c\u6d41\u7a0b\u6765\u6784\u5efa\u548c\u6d4b\u8bd5\u5b58\u50a8\u5e93\u7684\u6bcf\u4e2a\u62c9\u53d6\u8bf7\u6c42\uff0c\u6216\u5c06\u5408\u5e76\u7684\u62c9\u53d6\u8bf7\u6c42\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u3002</p> <p>GitHub Actions \u4e0d\u4ec5\u4ec5\u662f DevOps\uff0c\u8fd8\u5141\u8bb8\u60a8\u5728\u5b58\u50a8\u5e93\u4e2d\u53d1\u751f\u5176\u4ed6\u4e8b\u4ef6\u65f6\u8fd0\u884c\u5de5\u4f5c\u6d41\u7a0b\u3002 \u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c\u5de5\u4f5c\u6d41\u7a0b\uff0c\u4ee5\u4fbf\u5728\u6709\u4eba\u5728\u60a8\u7684\u5b58\u50a8\u5e93\u4e2d\u521b\u5efa\u65b0\u95ee\u9898\u65f6\u81ea\u52a8\u6dfb\u52a0\u76f8\u5e94\u7684\u6807\u7b7e\u3002</p> <p>GitHub \u63d0\u4f9b Linux\u3001Windows \u548c macOS \u865a\u62df\u673a\u6765\u8fd0\u884c\u5de5\u4f5c\u6d41\u7a0b\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u6570\u636e\u4e2d\u5fc3\u6216\u4e91\u57fa\u7840\u67b6\u6784\u4e2d\u6258\u7ba1\u81ea\u5df1\u7684\u81ea\u6258\u7ba1\u8fd0\u884c\u5668\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#21-github-actions","title":"2.1. Github Actions\u7684\u67b6\u6784\u548c\u6982\u5ff5","text":"<p>Github Actions\u7531\u5de5\u4f5c\u6d41(workflow)\u3001\u4e8b\u4ef6(Event)\u3001\u4f5c\u4e1a(job)\u3001\u64cd\u4f5c(Action)\u548c\u6267\u884c\u8005(runner)\u7b49\u7ec4\u4ef6\u6784\u6210\u3002</p> <p>\u5de5\u4f5c\u6d41\u901a\u8fc7\u5728\u9879\u76ee\u6839\u76ee\u5f55\u7684.github/workflows\u76ee\u5f55\u4e0b\u9762\u7684yaml\u6587\u4ef6\u6765\u5b9a\u4e49\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7b80\u5355\u5730\u5c06\u5176\u5f53\u6210\u811a\u672c\u6765\u7406\u89e3\u3002\u5de5\u4f5c\u6d41\u4e2d\u5b9a\u4e49\u4e86\u54ea\u4e9b\u4e8b\u4ef6\u53ef\u4ee5\u89e6\u53d1\u5de5\u4f5c\u6d41\uff0c\u5de5\u4f5c\u6d41\u4e2d\u5e94\u8be5\u5305\u542b\u54ea\u4e9b\u4f5c\u4e1a\uff0c\u4ee5\u53ca\u4f5c\u4e1a\u5e94\u8be5\u5728\u4ec0\u4e48\u6837\u7684\u6267\u884c\u8005\uff08\u5bb9\u5668\uff09\u4e2d\u8fd0\u884c\u3002\u4e00\u4e2a\u5b58\u50a8\u5e93\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u5de5\u4f5c\u6d41\uff0c\u5206\u522b\u6267\u884c\u4e0d\u540c\u7684\u4efb\u52a1\u96c6\u3002</p> <p>\u4e8b\u4ef6\u662f\u80fd\u5f15\u53d1\u5de5\u4f5c\u6d41\u8fd0\u884c\u7684\u7279\u5b9a\u4e8b\u4ef6\uff0c\u6bd4\u5982\u5f53\u6709\u4eba\u521b\u5efa\u62c9\u53d6\u8bf7\u6c42\u3001\u6216\u8005\u5c06\u63d0\u4ea4(commit)\u63a8\u9001\u5230\u5b58\u50a8\u5e93\u65f6\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u80fd\u89e6\u53d1\u5de5\u4f5c\u6d41\u7684\u4e8b\u4ef6\u3002</p> <p>\u4f5c\u4e1a(job)\u662f\u5de5\u4f5c\u6d41\u4e2d\u5728\u540c\u4e00\u8fd0\u884c\u5668\u4e0a\u6267\u884c\u7684\u4e00\u7ec4\u6b65\u9aa4\uff08steps)\u3002 \u6bcf\u4e2a\u6b65\u9aa4(step)\u8981\u4e48\u662f\u4e00\u4e2a\u5c06\u8981\u6267\u884c\u7684 shell \u811a\u672c\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u5c06\u8981\u8fd0\u884c\u7684\u64cd\u4f5c(Action\uff09\u3002 \u6b65\u9aa4\u6309\u987a\u5e8f\u6267\u884c\uff0c\u5e76\u4e14\u76f8\u4e92\u4f9d\u8d56\u3002 \u7531\u4e8e\u6bcf\u4e2a\u6b65\u9aa4\u90fd\u5728\u540c\u4e00\u8fd0\u884c\u5668\u4e0a\u6267\u884c\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u5c06\u6570\u636e\u4ece\u4e00\u4e2a\u6b65\u9aa4\u5171\u4eab\u5230\u53e6\u4e00\u4e2a\u6b65\u9aa4\u3002 \u4f8b\u5982\uff0c\u53ef\u4ee5\u6709\u4e00\u4e2a\u751f\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u6b65\u9aa4\uff0c\u540e\u8ddf\u4e00\u4e2a\u6d4b\u8bd5\u5df2\u751f\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u6b65\u9aa4\u3002</p> <p>\u4e00\u4e2a\u5de5\u4f5c\u6d41\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u4f5c\u4e1a\u3002\u4f5c\u4e1a\u4e4b\u95f4\u9ed8\u8ba4\u6ca1\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u4e14\u5f7c\u6b64\u5e76\u884c\u8fd0\u884c\u3002 \u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e2a\u4f5c\u4e1a\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u4f5c\u4e1a\uff0c\u6b64\u65f6\uff0c\u5b83\u5c06\u7b49\u5f85\u4ece\u5c5e\u4f5c\u4e1a\u5b8c\u6210\uff0c\u7136\u540e\u624d\u80fd\u8fd0\u884c\u3002 \u4f8b\u5982\uff0c\u5bf9\u4e8e\u6ca1\u6709\u4f9d\u8d56\u5173\u7cfb\u7684\u4e0d\u540c\u4f53\u7cfb\u7ed3\u6784\uff0c\u60a8\u53ef\u80fd\u6709\u591a\u4e2a\u6784\u5efa\u4f5c\u4e1a\uff0c\u4ee5\u53ca\u4e00\u4e2a\u4f9d\u8d56\u4e8e\u8fd9\u4e9b\u4f5c\u4e1a\u7684\u6253\u5305\u4f5c\u4e1a\u3002 \u6784\u5efa\u4f5c\u4e1a\u5c06\u5e76\u884c\u8fd0\u884c\uff0c\u5f53\u5b83\u4eec\u5168\u90e8\u6210\u529f\u5b8c\u6210\u540e\uff0c\u6253\u5305\u4f5c\u4e1a\u5c06\u8fd0\u884c\u3002</p> <p>\u64cd\u4f5c(Action)\u662f\u7528\u4e8e GitHub Actions \u5e73\u53f0\u7684\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\uff0c\u5b83\u6267\u884c\u590d\u6742\u4f46\u7ecf\u5e38\u91cd\u590d\u7684\u4efb\u52a1\u3002 \u4f7f\u7528\u64cd\u4f5c\u53ef\u5e2e\u52a9\u51cf\u5c11\u5728\u5de5\u4f5c\u6d41\u7a0b\u6587\u4ef6\u4e2d\u7f16\u5199\u7684\u91cd\u590d\u4ee3\u7801\u91cf\u3002 \u64cd\u4f5c\u53ef\u4ee5\u4ece GitHub \u62c9\u53d6 git \u5b58\u50a8\u5e93\uff0c\u4e3a\u60a8\u7684\u6784\u5efa\u73af\u5883\u8bbe\u7f6e\u6b63\u786e\u7684\u5de5\u5177\u94fe\uff0c\u6216\u8bbe\u7f6e\u5bf9\u4e91\u63d0\u4f9b\u5546\u7684\u8eab\u4efd\u9a8c\u8bc1\u3002</p> <p>\u60a8\u53ef\u4ee5\u7f16\u5199\u81ea\u5df1\u7684\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u5728 GitHub Marketplace \u4e2d\u627e\u5230\u8981\u5728\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u4f7f\u7528\u7684\u64cd\u4f5c\u3002</p> <p>\u6267\u884c\u8005(runner)\u662f\u8fd0\u884c\u5de5\u4f5c\u6d41\u7684\u670d\u52a1\u5668\u3002\u6bcf\u4e2a\u6267\u884c\u8005\u4e00\u6b21\u53ef\u4ee5\u8fd0\u884c\u4e00\u4e2a\u4f5c\u4e1a\u3002 GitHub \u63d0\u4f9b Ubuntu Linux\u3001Microsoft Windows \u548c macOS \u8fd0\u884c\u5668\u6765\u8fd0\u884c\u60a8\u7684\u5de5\u4f5c\u6d41\u7a0b\uff1b\u6bcf\u4e2a\u5de5\u4f5c\u6d41\u7a0b\u8fd0\u884c\u90fd\u5728\u65b0\u9884\u914d\u7684\u5168\u65b0\u865a\u62df\u673a\uff08\u6216\u8005\u5bb9\u5668\uff09\u4e2d\u6267\u884c\u3002</p> <p>\u4e0b\u9762\u7684\u56fe\u5c55\u793a\u4e86Github Actions\u7684\u67b6\u6784\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap09/#22","title":"2.2. \u5de5\u4f5c\u6d41\u8bed\u6cd5\u6982\u8ff0","text":"<p>\u5728\u4e86\u89e3\u4e86Github Actions\u7684\u67b6\u6784\u4e4b\u540e\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6765\u8bb2\u89e3\u5982\u4f55\u5b9a\u4e49\u5de5\u4f5c\u6d41\u3002</p> <p>\u6211\u4eec\u5148\u770bppw\u751f\u6210\u7684\u4e00\u4e2a\u5de5\u4f5c\u6d41\u6587\u4ef6\uff1a</p> dev.yml<pre><code>name: dev build CI\n\n# \u5b9a\u4e49\u54ea\u4e9b\u4e8b\u4ef6\u53ef\u4ee5\u89e6\u53d1\u5de5\u4f5c\u6d41\uff0c\u4ee5\u53ca\u7b5b\u9009\u6761\u4ef6\non:\n  # \u5f53\u5b58\u50a8\u5e93\u6709push\u6216\u8005pull_request\u4e8b\u4ef6\u65f6\u89e6\u53d1\n  push:\n    branches:\n      - '*'\n  pull_request:\n    branches:\n      - '*'\n\n# \u5b9a\u4e49\u4f5c\u4e1a\u96c6\njobs:\n  # \u5de5\u4f5c\u6d41\u5305\u542b\u4e09\u4e2a\u4f5c\u4e1a\uff0c\u5206\u522b\u662ftest, publish_dev_build, notification\n  test:\n    # \u5b9a\u4e49\u4f5c\u4e1a\u7684\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86\u77e9\u9635\u5f0f\u5b9a\u4e49\n    strategy:\n      matrix:\n        python-versions: ['3.8', '3.9', '3.10']\n        os: [ubuntu-latest, windows-latest, macos-latest]\n    runs-on: ${{ matrix.os }}\n    # \u5c06\u6b65\u9aa4\u7684\u8f93\u51fa\u63d0\u5347\u4e3a\u4f5c\u4e1a\u7684\u8f93\u51fa\uff0c\u4ee5\u4fbf\u5b83\u4eec\u53ef\u4ee5\u5728\u4f5c\u4e1a\u4e4b\u95f4\u5171\u4eab\n    outputs:\n      package_version: ${{ steps.variables_step.outputs.package_version }}\n      package_name: ${{ steps.variables_step.outputs.package_name }}\n      repo_name: ${{ steps.variables_step.outputs.repo_name }}\n      repo_owner: ${{ steps.variables_step.outputs.repo_owner }}\n\n    # \u8fd9\u662f\u542f\u7528\u5916\u90e8\u670d\u52a1\u7684\u4e00\u4e2a\u793a\u4f8b\n    # services:\n    #   redis:\n    #     image: redis\n    #     options: &gt;-\n    #       --health-cmd \"redis-cli ping\"\n    #       --health-interval 10s\n    #       --health-timeout 5s\n    #       --health-retries 5\n    #     ports:\n    #       - 6379:6379\n\n    # \u6b65\u9aa4\u96c6\u4ee3\u8868\u4e86\u4e00\u7cfb\u5217\u7684\u4efb\u52a1\uff0c\u8fd9\u4e9b\u4efb\u52a1\u5c06\u4f5c\u4e3a\u4f5c\u4e1a\u7684\u4e00\u90e8\u5206\u6267\u884c\n    steps:\n      # \u4f5c\u4e1a\u662f\u5728\u5bb9\u5668\u91cc\u6267\u884c\u7684\uff0c\u6211\u4eec\u9700\u8981\u5148\u5c06\u4ee3\u7801\u68c0\u51fa\u5230\u8fd9\u4e2a\u5e72\u51c0\u7684\u5bb9\u5668\u91cc\n      - uses: actions/checkout@v2\n      - uses: actions/setup-python@v2\n        with:\n          python-version: ${{ matrix.python-versions }}\n\n      - name: Install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install tox tox-gh-actions poetry\n\n      # \u8fd9\u4e00\u6b65\u91cc\uff0c\u6211\u4eec\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u53d8\u91cf\uff0c\u5c06\u5176\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff0c\u4ece\u800c\u53ef\u4ee5\u5728\u7b2c85\u884c\u63d0\u5347\u4e3ajob\u7684\u8f93\u51fa\n      - name: Declare variables for convenient use\n        id: variables_step\n        run: |\n          echo \"::set-output name=repo_owner::${GITHUB_REPOSITORY%/*}\"\n          echo \"::set-output name=repo_name::${GITHUB_REPOSITORY#*/}\"\n          echo \"::set-output name=package_name::`poetry version | awk '{print $1}'`\"\n          echo \"::set-output name=package_version::`poetry version --short`\"\n        shell: bash\n\n      # \u6267\u884c\u5355\u5143\u6d4b\u8bd5\u548c\u4ee3\u7801\u68c0\u67e5\u3002\n      - name: test with tox\n        run: tox\n\n      # \u901a\u8fc7codecov\u4e0a\u4f20\u6d4b\u8bd5\u8986\u76d6\u7387\u3002\n      - uses: codecov/codecov-action@v3\n        with:\n          fail_ci_if_error: true\n\n  publish_dev_build:\n    # \u53ea\u6709test\u4f5c\u4e1a\u5b8c\u6210\uff0c\u6211\u4eec\u624d\u5f00\u59cb\u672c\u4f5c\u4e1a\n    needs: test\n    # \u6307\u5b9a\u672c\u4f5c\u4e1a\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\u3002\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-python@v2\n        with:\n          # \u8fd9\u4e00\u6b65\u53ea\u9700\u8981\u5728\u4efb\u610f\u4e00\u4e2apython\u7248\u672c\u4e0a\u8fd0\u884c\n          python-version: '3.9'\n\n      - name: Install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install poetry tox tox-gh-actions\n\n      - name: build documentation\n        run: |\n          poetry install -E doc\n          poetry run mkdocs build\n          git config --global user.name Docs deploy\n          git config --global user.email docs@dummy.bot.com\n          poetry run mike deploy -p -f --ignore \"`poetry version --short`.dev\"\n          poetry run mike set-default -p \"`poetry version --short`.dev\"\n\n      - name: Build wheels and source tarball\n        run: |\n          poetry version $(poetry version --short)-dev.$GITHUB_RUN_NUMBER\n          poetry lock\n          poetry build\n\n      - name: publish to Test PyPI\n        uses: pypa/gh-action-pypi-publish@release/v1\n        with:\n          user: __token__\n          password: ${{ secrets.TEST_PYPI_API_TOKEN}}\n          repository_url: https://test.pypi.org/legacy/\n          skip_existing: true\n\n  notification:\n    needs: [test,publish_dev_build]\n    if: always()\n    runs-on: ubuntu-latest\n    steps:\n      - uses: martialonline/workflow-status@v2\n        id: check\n\n      - name: build success notification via email\n        if: ${{ steps.check.outputs.status == 'success' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          server_address: ${{ secrets.BUILD_NOTIFY_MAIL_SERVER }}\n          server_port: ${{ secrets.BUILD_NOTIFY_MAIL_PORT }}\n          username: ${{ secrets.BUILD_NOTIFY_MAIL_FROM }}\n          password: ${{ secrets.BUILD_NOTIFY_MAIL_PASSWORD }}\n          from: build-bot\n          to: ${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}\n          subject: ${{ needs.test.outputs.package_name }}.${{ needs.test.outputs.package_version}} build successfully\n          convert_markdown: true\n          html_body: |\n            ## Build Success\n            ${{ needs.test.outputs.package_name }}.${{ needs.test.outputs.package_version }} is built and published to test pypi\n\n            ## Change Details\n            ${{ github.event.head_commit.message }}\n\n            For more information, please check change history at https://${{ needs.test.outputs.repo_owner }}.github.io/${{ needs.test.outputs.repo_name }}/${{ needs.test.outputs.package_version }}/history\n\n            ## Package Download\n            The pacakge is available at: https://test.pypi.org/project/${{ needs.test.outputs.package_name }}/\n\n      - name: build failure notification via email\n        if: ${{ steps.check.outputs.status == 'failure' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          server_address: ${{ secrets.BUILD_NOTIFY_MAIL_SERVER }}\n          server_port: ${{ secrets.BUILD_NOTIFY_MAIL_PORT }}\n          username: ${{ secrets.BUILD_NOTIFY_MAIL_FROM }}\n          password: ${{ secrets.BUILD_NOTIFY_MAIL_PASSWORD }}\n          from: build-bot\n          to: ${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}\n          subject: ${{ needs.test.outputs.package_name }}.${{ needs.test.outputs.package_version}} build failure\n          convert_markdown: true\n          html_body: |\n            ## Change Details\n            ${{ github.event.head_commit.message }}\n\n            ## View Log\n            https://github.com/${{ needs.test.outputs.repo_owner }}/${{ needs.test.outputs.repo_name }}/actions\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u540d\u4e3adev build CI\u7684\u4f5c\u4e1a\uff0c\u5b83\u5c06\u5728\u4efb\u4e00\u5206\u652f\u53d1\u751f\u63d0\u4ea4\u548cpull request\u65f6\u89e6\u53d1\u3002\u5b83\u5305\u542b\u4e09\u4e2a\u4f5c\u4e1a\uff0c\u5373test(\u6267\u884c\u5355\u5143\u6d4b\u8bd5)\u3001publish_dev_build(\u6784\u5efa\u5e76\u53d1\u5e03\u5f00\u53d1\u7248\u672c\u5230test_pypi)\u548cnotification(\u5728\u6784\u5efa\u6210\u529f\u6216\u5931\u8d25\u65f6\u53d1\u9001\u90ae\u4ef6\u901a\u77e5)\u3002\u4e09\u8005\u4e4b\u95f4\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5982\u679ctest\u4f5c\u4e1a\u5931\u8d25\uff0cpublish_dev_build\u4f1a\u53d6\u6d88\uff1b\u4f46\u662f\u65e0\u8bbatest/publish_dev_build\u4f5c\u4e1a\u662f\u5426\u6210\u529f\uff0cnotification\u4f5c\u4e1a\u90fd\u4f1a\u6267\u884c\uff0c\u5e76\u6839\u636e\u524d\u4e24\u4e2a\u4f5c\u4e1a\u7684\u72b6\u6001\u53d1\u9001\u90ae\u4ef6\u901a\u77e5\u3002</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684\u4f5c\u4e1a\uff0c\u4e5f\u6d89\u53ca\u4e86\u6211\u4eec\u5728CI\u4e2d\u9700\u8981\u505a\u7684\u51e0\u4e4e\u6240\u6709\u4e8b\u60c5\u3002\u5728\u4ee3\u7801\u4e2d\u6211\u4eec\u52a0\u5165\u4e86\u8f83\u591a\u7684\u6ce8\u91ca\uff0c\u5efa\u8bae\u8bfb\u8005\u7ed3\u5408\u4e0b\u9762\u7684\u8bb2\u89e3\uff0c\u4ed4\u7ec6\u9605\u8bfb\u4ee3\u7801\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#221","title":"2.2.1. \u5b9a\u4e49\u89e6\u53d1\u6761\u4ef6","text":"<p>\u7b2c4\u884c\u5230\u7b2c14\u884c\u914d\u7f6e\u4e86\u5de5\u4f5c\u6d41\u7684\u89e6\u53d1\u6761\u4ef6\u3002\u89e6\u53d1\u6761\u4ef6\u4e00\u8282\u7531\u5173\u952e\u5b57'on'\u5f15\u8d77\u3002\u5728\u5b83\u7684\u4e0b\u4e00\u5c42\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u89e6\u53d1\u4e8b\u4ef6\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u89e6\u53d1\u4e8b\u4ef6\uff0c\u6307\u5b9a\u7c7b\u578b\u548c\u8fc7\u6ee4\u5668\u3002\u4e00\u4e2a\u5b8c\u6574\u7684\u89e6\u53d1\u6761\u4ef6\u914d\u7f6e\u5982\u4e0b\uff1a</p> <p><pre><code>on:\n    push:\n        branches: \n          - '*'\n        tags:\n          - v*\n    label:\n        branches:\n            - main\n        types:\n            - created\n    schedule:\n        - cron: '30 5 * * 1,3'\n</code></pre> \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c'push', 'label', 'tags'\u548c'schedule'\u90fd\u662f\u4e8b\u4ef6\u5173\u952e\u5b57\u3002\u53ef\u7528\u7684\u4e8b\u4ef6\u5173\u952e\u5b57\u53ef\u53c2\u89c1\u89e6\u53d1\u5de5\u4f5c\u6d41\u7684\u4e8b\u4ef6\u3002</p> <p>\u5728\u4e8b\u4ef6\u7684\u4e0b\u4e00\u7ea7\uff0c\u662f\u5b9a\u4e49\u6d3b\u52a8\u7c7b\u578b\u548c\u7b5b\u9009\u5668\u7684\u5730\u65b9\u3002\u4e0d\u662f\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u6709\u6d3b\u52a8\u7c7b\u578b\uff0c\u5373\u4f7f\u6709\uff0c\u5b83\u4eec\u7684\u6d3b\u52a8\u7c7b\u578b\u4e5f\u5f88\u53ef\u80fd\u4e0d\u4e00\u6837\u3002\u6bd4\u5982\uff0c<code>push</code>\u4e8b\u4ef6\u5c31\u6ca1\u6709\u6d3b\u52a8\u7c7b\u578b\uff0c\u800c<code>label</code>\u4e8b\u4ef6\u6709<code>created</code>, <code>edited</code>\u548c<code>deleted</code>\u4e09\u79cd\u6d3b\u52a8\u7c7b\u578b\uff0c\u800c<code>issues</code>\u4e8b\u4ef6\u7684\u6d3b\u52a8\u7c7b\u578b\u5219\u662f<code>opened</code>\u548c<code>labeled</code>\u7b49\u3002\u8981\u60f3\u77e5\u9053\u4e8b\u4ef6\u6709\u54ea\u4e9b\u6d3b\u52a8\u7c7b\u578b\uff0c\u53ef\u4ee5\u53c2\u8003\u89e6\u53d1\u5de5\u4f5c\u6d41\u7684\u4e8b\u4ef6\u3002</p> <p>\u7b5b\u9009\u5668\u6709branches\u548ctags\u4e24\u79cd\uff0c\u5206\u522b\u7528\u4e8e\u6307\u5b9a\u5206\u652f\u548c\u6807\u7b7e\u3002\u4ece\u4e0a\u9762\u7684\u793a\u4f8b\u53ef\u4ee5\u770b\u51fa\uff0c\u7b5b\u9009\u5668\u7684\u503c\u652f\u6301glob\u6a21\u5f0f\uff0c\u5373\u4f60\u53ef\u4ee5\u4f7f\u7528,*, +, ?\u548c!\u7b49\u901a\u914d\u7b26\u3002\u9664\u4e86\u793a\u4f8b\u4e2d\u7684\u6b63\u5411\u5339\u914d\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528branches-ignore\u6216\u8005tags-ignore\u6765\u53cd\u5411\u5339\u914d\u3002</p> <p>\u4e0a\u9762\u7684\u793a\u4f8b\u8fd8\u5c55\u793a\u4e86\u4e00\u79cd\u7279\u6b8a\u7684\u4e8b\u4ef6\uff0c\u5373 'schedule' \u4e8b\u4ef6\u3002\u8fd9\u5c06\u5bfc\u81f4\u5de5\u4f5c\u6d41\u5468\u671f\u6027\u5730\u8fd0\u884c\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u8fd0\u884c\u4e00\u4e9b\u5b89\u5168\u6027\u626b\u63cf\u3001\u4f9d\u8d56\u5347\u7ea7\u626b\u63cf\u7b49\u5de5\u4f5c\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#222","title":"2.2.2. \u5b9a\u4e49\u4f5c\u4e1a\u96c6","text":"<p>\u63a5\u4e0b\u6765\u5de5\u4f5c\u6d41\u58f0\u660e\u4e86\u4e09\u4e2a\u4f5c\u4e1a\uff0c\u5373test, publish_dev_build\u548cnotification\u3002\u4f5c\u4e1a\u5b9a\u4e49\u4e00\u8282\u7531\u5173\u952e\u5b57'jobs'\u5f15\u8d77\u3002\u5728\u5b83\u7684\u4e0b\u4e00\u5c42\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u4f5c\u4e1a\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u4f5c\u4e1a\uff0c\u6307\u5b9a\u8fd0\u884c\u73af\u5883\u548c\u8fd0\u884c\u6b65\u9aa4\u3002</p> <p>\u6bcf\u4e2a\u4f5c\u4e1a\u90fd\u6709\u81ea\u5df1\u7684id\u548c\u540d\u5b57\u3002\u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0ctest, publish_dev_build\u548cnotification\u90fd\u662f\u4f5c\u4e1aid\u3002\u4f5c\u4e1aid\u662f\u5fc5\u987b\u7684\uff0c\u4f46\u662f\u4f5c\u4e1a\u540d\u5b57\u662f\u53ef\u9009\u7684\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4f5c\u4e1a\u540d\u5b57\uff0c\u90a3\u4e48\u4f5c\u4e1a\u540d\u5b57\u5c06\u9ed8\u8ba4\u4e3a\u4f5c\u4e1aid\u3002\u4f5c\u4e1a\u540d\u5b57\u53ef\u4ee5\u7528\u6765\u5728GitHub Actions\u7684\u754c\u9762\u4e0a\u663e\u793a\u4f5c\u4e1a\u7684\u540d\u79f0\u3002</p> <p>\u5728\u4f5c\u4e1apublish_dev_build\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u5173\u952e\u5b57<code>needs</code>\u6765\u5b9a\u4e49\u4e86\u5b83\u5bf9\u4f5c\u4e1a<code>test</code>\u7684\u4f9d\u8d56\u3002\u6211\u4eec\u5728\u7b2c114\u884c\u8fd8\u770b\u5230\uff0c\u4f5c\u4e1a\u8fd8\u53ef\u4ee5\u4f9d\u8d56\u5230\u4e00\u7ec4\u4f5c\u4e1a\u3002\u5f53\u6211\u4eec\u6307\u5b9a\u4f5c\u4e1a\u4f9d\u8d56\u65f6\uff0c\u8981\u6ce8\u610f\u53ea\u80fd\u4f7f\u7528\u4f5c\u4e1a\u7684id\uff0c\u800c\u4e0d\u662f\u4f5c\u4e1a\u7684\u540d\u5b57\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u4e3a\u4f5c\u4e1a\u5b9a\u4e49\u6267\u884c\u73af\u5883\u3002\u6267\u884c\u73af\u5883\u662f\u901a\u8fc7\u5173\u952e\u5b57 'runs-on' \u6765\u5b9a\u4e49\u7684\u3002\u6709\u4e9b\u4efb\u52a1\u53ea\u9700\u8981\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u6267\u884c\u5c31\u53ef\u4ee5\u4e86\uff0c\u6bd4\u5982\u6784\u5efa\u548c\u53d1\u5e03\uff1b\u6709\u4e9b\u4efb\u52a1\u5219\u9700\u8981\u5728\u6240\u6709\u7684\u673a\u5668\u4e0a\u3001\u5e76\u4ee5\u591a\u4e2apython\u8fd0\u884c\u65f6\u6765\u8fd0\u884c\u3002</p> <p>\u6bd4\u5982\uff0cpublish_dev_build\u4f5c\u4e1a\u53ea\u5728ubuntu_latest\u548cpython 3.9\u8fd9\u4e2a\u7ec4\u5408\u4e0a\u8fd0\u884c\u3002\u6211\u4eec\u662f\u901a\u8fc7\u7b2c78\u884c\u548c\u7b2c83\u884c\u6765\u6307\u5b9a\u7684\u3002\u4f46\u5bf9\u6d4b\u8bd5\u4efb\u52a1\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u5728\u6240\u6709\u673a\u5668\u4e0a\u90fd\u8fd0\u884c\uff0c\u5e76\u4e14\u8fd8\u8981\u8fd0\u884c\u5728\u4e0d\u540c\u7684python\u7248\u672c\u4e0a\u3002\u4e3a\u4e86\u8868\u8fbe\u7b80\u6d01\u8d77\u89c1\uff0cgithub actions\u5f15\u5165\u4e86\u77e9\u9635\u7684\u6982\u5ff5\u3002</p> <p>\u6211\u4eec\u901a\u8fc7strategy.matrix\u6765\u5b9a\u4e49\u6d4b\u8bd5\u77e9\u9635\u3002\u5728\u793a\u4f8b\u7b2c20~23\u884c\u5b9a\u4e49\u7684\u77e9\u9635\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86python\u7248\u672c\u548c\u64cd\u4f5c\u7cfb\u7edf\u5217\u8868\u3002\u8fd9\u4e2a\u5b9a\u4e49\u968f\u540e\u5c31\u88ab\u4f7f\u7528\u4e86\uff0c\u5728\u7b2c24\u884c\uff0c\u6211\u4eec\u901a\u8fc7{{matrix.os}}\u6765\u5f15\u7528\u4e86\u5176\u4e2d\u7684\u64cd\u4f5c\u7cfb\u7edf\u5b9a\u4e49\u3002\u7b2c22\u884c\u7684python-versions\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u5173\u952e\u5b57\uff0c\u5b83\u7528\u6765\u6307\u793a\u6211\u4eec\u8981\u4f7f\u7528\u7684python\u7248\u672c\u3002\u5982\u679c\u6211\u4eec\u7684\u5f00\u53d1\u8bed\u8a00\u4e0d\u662fpython\uff0c\u8fd9\u91cc\u7684\u6307\u5b9a\u5c06\u6ca1\u6709\u610f\u4e49\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u4e3a\u4f5c\u4e1a\u5b9a\u4e49\u5177\u4f53\u6267\u884c\u54ea\u4e9b\u4efb\u52a1\uff0c\u5b83\u4eec\u88ab\u5f52\u7c7b\u5728\u6b65\u9aa4\u96c6(steps)\u4e2d\u3002\u6b65\u9aa4\u96c6\u662f\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u6b65\u9aa4\u7684\u5217\u8868\u3002\u800c\u6bcf\u4e00\u4e2a\u6b65\u9aa4\uff0c\u8981\u4e48\u662f\u4e00\u4e2ashell\u547d\u4ee4\uff08\u6216\u8005\u4e00\u7ec4shell\u547d\u4ee4\uff09\uff0c\u8981\u4e48\u662f\u4e00\u4e2aaction\u3002\u5982\u679c\u8981\u8fd0\u884cshell\u547d\u4ee4\uff0c\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u6cd5\uff1a <pre><code>- name: &lt;step name&gt;\n  run: &lt;shell command&gt;\n</code></pre> \u5982\u679c\u8981\u8fd0\u884c\u4e00\u7ec4shell\u547d\u4ee4\uff0c\u6211\u4eec\u4f7f\u7528: <pre><code>- name: &lt;step name&gt;\n  run: |\n    &lt;shell command 1&gt;\n    &lt;shell command 2&gt;\n    ...\n</code></pre> \u6ce8\u610f\u4e0a\u8ff0\u4e24\u7ec4\u8bed\u6cd5\u7684\u4e0d\u540c\u4e4b\u5904\uff0c\u4e0d\u80fd\u6df7\u6dc6\u3002</p> <p>\u81f3\u4e8eaction\uff0c\u6211\u4eec\u524d\u9762\u5df2\u7ecf\u8bb2\u8fc7\u4e86\uff0c\u5b83\u662f\u7528\u4e8e GitHub Actions \u5e73\u53f0\u7684\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u3002\u60a8\u53ef\u4ee5\u81ea\u5df1\u7f16\u5199action\uff0c\u4e5f\u53ef\u4ee5\u5728Github\u7684\u5e94\u7528\u5e02\u573a\u4e0a\u67e5\u627e\u4ed6\u4eba\u5f00\u53d1\u7684\u5e94\u7528\u3002</p> <p>\u6bcf\u4e00\u4e2a\u6b65\u9aa4\u90fd\u53ef\u4ee5\u6307\u5b9apython\u8fd0\u884c\u65f6\u3002\u6211\u4eec\u5728\u7b2c48\u884c\u770b\u5230\uff0c\u8fd9\u91cc<code>{{ matrix.python-versions }}</code>\u4f7f\u7528\u7684\u662f\u77e9\u9635\u4e2d\u5b9a\u4e49\u7684python\u7248\u672c\u3002\u800c\u5728\u7b2c84\u884c\uff0c\u6211\u4eec\u5219\u76f4\u63a5\u6307\u5b9a\u4e86\u4e00\u4e2apython\u7684\u7248\u672c\u3002\u8fd9\u91cc\u8fd8\u8981\u6ce8\u610f\uff0c\u7248\u672c\u53f7\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0cq\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>'3.10'</code>\uff0c\u4f46\u4e0d\u80fd\u4f7f\u7528<code>3.10</code>\uff0c\u540e\u8005\u5c06\u4f1a\u88abyaml\u89e3\u6790\u4e3a<code>3.1</code>\uff0c\u4ece\u800c\u51fa\u73b0\u627e\u4e0d\u5230python\u7248\u672c\u7684\u95ee\u9898\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e0bjob\u8fd0\u884c\u65f6\u7684\u6761\u4ef6\u63a7\u5236\u3002\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86job\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8fd9\u53ef\u4ee5\u7b97\u4f5c\u662f\u4e00\u79cd\u6761\u4ef6\u3002\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u6bd4\u5982\u793a\u4f8b\u4e2d\u7684notification\u4f5c\u4e1a\uff0c\u6211\u4eec\u8981\u6c42\u5b83\u53ea\u80fd\u5728\u524d\u4e24\u4e2a\u4f5c\u4e1a\u90fd\u5b8c\u6210\u540e\u624d\u8fd0\u884c\uff0c\u4f46\u65e0\u8bba\u6210\u529f\u4e0e\u5426\uff0c\u90fd\u8981\u8fd0\u884c\uff0c\u4f46\u4f1a\u6839\u636e\u524d\u9762\u4f5c\u4e1a\u7684\u72b6\u6001\uff0c\u53d1\u51fa\u4e0d\u540c\u5185\u5bb9\u7684\u901a\u77e5\u90ae\u4ef6\uff0c\u6b64\u65f6\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5f15\u5165<code>if</code>\u6761\u4ef6\u63a7\u5236\u3002</p> <p><code>if</code>\u6761\u4ef6\u63a7\u5236\u53ef\u4ee5\u4f5c\u7528\u4e8e\u4f5c\u4e1a\u4f5c\u7528\u57df\uff08\u5982\u7b2c116\u884c\u6240\u793a\uff09\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u7528\u4e8e\u6b65\u9aa4\u4f5c\u7528\u57df\uff08\u5982\u7b2c123\u884c\u6240\u793a\uff09\u3002\u5728\u4f5c\u4e1a\u4f5c\u7528\u57df\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>success()</code>\u3001<code>failure()</code>\u3001<code>cancelled()</code>\u3001<code>always()</code>\u7b49\u51fd\u6570\u6765\u6307\u5b9a\u5728\u4f55\u79cd\u60c5\u51b5\u4e0b\u624d\u8fd0\u884c\u672c\u4f5c\u4e1a\u3002\u5728\u6b65\u9aa4\u4f5c\u7528\u57df\u4e2d\uff0c\u6211\u4eec\u5219\u53ef\u4ee5\u8fdb\u884c\u7b80\u5355\u7684\u6761\u4ef6\u5224\u65ad\uff0c\u6765\u6307\u6807\u672c\u6b65\u9aa4\u662f\u5426\u8fd0\u884c\u3002</p> <p>\u5728\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\u65f6\uff0c\u6211\u4eec\u5fc5\u7136\u9700\u8981\u4f7f\u7528\u53d8\u91cf\u3002\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u5168\u9762\u5730\u4ecb\u7ecd\u4e00\u4e0b\u5728\u5de5\u4f5c\u6d41\u4e2d\u53d8\u91cf\u7684\u4f7f\u7528\u3002\u901a\u8fc7\u53d8\u91cf\uff0c\u7ed3\u5408\u5404\u79cd\u63a7\u5236\u6761\u4ef6\uff0c\u6211\u4eec\u624d\u80fd\u5b9e\u73b0\u4e00\u4e9b\u9ad8\u7ea7\u7684\u6280\u5de7\u3002 Github\u4e2d\u7684\u53d8\u91cf\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u7cfb\u7edf\u53d8\u91cf\uff0c\u4e00\u79cd\u662f\u4f5c\u4e1a\u53d8\u91cf\u3002\u7cfb\u7edf\u53d8\u91cf\u662fGithub\u5e73\u53f0\u63d0\u4f9b\u7684\uff0c\u4f5c\u4e1a\u53d8\u91cf\u662f\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u3002\u65e0\u8bba\u90a3\u4e00\u79cd\u53d8\u91cf\uff0c\u6211\u4eec\u90fd\u901a\u8fc7<code>${{ }}</code>\u6765\u5f15\u7528\u3002</p> <p>\u7cfb\u7edf\u53d8\u91cf\u6309\u7ea7\u522b\u53ef\u4ee5\u5b9a\u4e49\u5728\u7ec4\u7ec7\u3001\u5b58\u50a8\u5e93\u6216\u8005\u73af\u5883\u4e0a\u3002\u6bd4\u5982<code>secrets</code>\u5c31\u5b9a\u4e49\u5728\u5b58\u50a8\u5e93\u7ea7\u522b\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}</code>\u6765\u8bbf\u95ee\u5b83\u7684\u503c\uff0c\u8fd9\u9700\u8981\u6211\u4eec\u5728\u5b58\u50a8\u5e93\u91cc\u4e8b\u5148\u5b9a\u4e49<code>BUILD_NOTIFY_MAIL_RCPT</code>\u8fd9\u4e2a\u53d8\u91cf\u3002Github\u63d0\u4f9b\u4e86\u4e00\u4e9b\u9ed8\u8ba4\u53d8\u91cf\uff0c\u6bd4\u5982<code>GITHUB_REPOSITORY</code>\uff08\u4f60\u5728\u7b2c59\u884c\uff0c\u58f0\u660e\u53d8\u91cf\u90a3\u4e00\u8282\u53ef\u4ee5\u770b\u5230\u5b83\u7684\u4f7f\u7528\uff09\u7b49\u3002</p> <p>\u4f5c\u4e1a\u53d8\u91cf\u7684\u4f7f\u7528\u6bd4\u8f83\u7279\u6b8a\uff0c\u6211\u4eec\u770b\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a <pre><code>  notification:\n    needs: [test,publish_dev_build]\n    steps:\n      - name: build success notification via email\n        if: ${{ steps.check.outputs.status == 'success' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          subject: ${{ needs.test.outputs.package_name }}.\n</code></pre> \u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7${{ needs.test.outputs.package_name }}\u6765\u5f15\u7528\u5728\u7b2c24\u884c\u58f0\u660e\u7684<code>package_name</code>\u53d8\u91cf\u3002\u53d8\u91cf\u662f\u901a\u8fc7<code>{job_id}.outputs.{variable}</code>\u6765\u5f15\u7528\u7684\uff0c\u8fd9\u5e76\u6ca1\u6709\u4ec0\u4e48\u5947\u602a\u7684\u5730\u65b9\u3002\u4f46\u662f\u8981\u6ce8\u610f\u5b83\u8fd8\u6709\u4e00\u4e2a<code>needs</code>\u4f5c\u7528\u57df\u3002\u8fd9\u8868\u660e\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u53d8\u91cf\u7684\u5730\u65b9\uff0c\u5176\u6240\u5c5e\u7684\u4f5c\u4e1a\u5982\u679c\u6ca1\u6709\u58f0\u660e\u4f9d\u8d56\u5230<code>test</code>\u4f5c\u4e1a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53d8\u91cf\u662f\u65e0\u6cd5\u88ab\u5f15\u7528\u7684\u3002</p> <p>\u793a\u4f8b\u4e2d\u6ca1\u6709\u5c55\u793a\u73af\u5883\u53d8\u91cf\u7684\u7528\u6cd5\uff0c\u8fd9\u91cc\u6211\u4eec\u7ed9\u4e00\u4e2a\u793a\u4f8b\uff0c\u8bf7\u8bfb\u8005\u7ed3\u5408\u6ce8\u91ca\u81ea\u884c\u7814\u7a76\uff1a <pre><code>env:\n  # \u58f0\u660e\u4e86\u4e00\u4e2a\u5168\u5c40\u4e0a\u4e0b\u6587\u7684\u73af\u5883\u53d8\u91cf\n  DAY_OF_WEEK: Monday\n\njobs:\n  greeting_job:\n    runs-on: ubuntu-latest\n    env:\n      # \u58f0\u660e\u4e86\u4e00\u4e2a\u4f5c\u4e1a\u4e0a\u4e0b\u6587\u7684\u73af\u5883\u53d8\u91cf\n      Greeting: Hello\n    steps:\n      - name: \"Say Hello Mona it's Monday\"\n        # \u4f7f\u7528\u65f6\u6211\u4eec\u5728\u53d8\u91cf\u524d\u52a0\u4e00\u4e2a`env.`\u7684\u7ea6\u675f\n        if: ${{ env.DAY_OF_WEEK == 'Monday' }}\n        # \u5f53\u4f7f\u7528\u7684\u73af\u5883\u53d8\u91cf\u662f\u5728\u4f5c\u4e1a\u5185\u58f0\u660e\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u7701\u7565`env.`\u7684\u7ea6\u675f\n        run: echo \"$Greeting $First_Name. Today is $DAY_OF_WEEK!\"\n        env:\n          # \u58f0\u660e\u4e86\u6b65\u9aa4\u4e0a\u4e0b\u6587\u7684\u73af\u5883\u53d8\u91cf\n          First_Name: Mona\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap09/#223","title":"2.2.3. \u8fde\u63a5\u5176\u5b83\u670d\u52a1","text":"<p>\u5728\u793a\u4f8b\u7684\u7b2c31\u884c\u5230\u7b2c40\u884c\uff0c\u6709\u4e00\u6bb5\u88ab\u6ce8\u91ca\u7684\u4ee3\u7801\uff0c\u8fd9\u662f\u7528\u6765\u542f\u7528redis\u670d\u52a1\u7684\u3002Github Actions\u901a\u8fc7\u5bb9\u5668\u6280\u672f\u6765\u63d0\u4f9b\u8fd9\u4e9b\u670d\u52a1\u3002\u7406\u8bba\u4e0a\uff0c\u53ea\u8981\u5728docker hub\u4e0a\u5b58\u5728\u67d0\u4e2a\u670d\u52a1\u7684image\uff08\u955c\u50cf\uff09\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728Github Actions\u4e2d\u4f7f\u7528\u5b83\u3002</p> <p>Attention</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6211\u4eec\u8981\u5728workflow\u4e2d\u4f7f\u7528\u670d\u52a1\uff0c\u6267\u884c\u8005(runner)\u5fc5\u987b\u662fubuntu\u64cd\u4f5c\u7cfb\u7edf\uff0c\u800c\u4e0d\u662f\u80fd\u5176\u5b83Linux\u7cfb\u7edf\uff0c\u6216\u8005windows\u548cMacOS</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\u6d41\u53ef\u4ee5\u8fd0\u884c\u5728\u6267\u884c\u8005(runner)\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u8fd0\u884c\u5728\u5bb9\u5668\u91cc\uff08\u8be5\u5bb9\u5668\u8fd0\u884c\u5728runner\u4e0a\uff09\u3002\u5982\u679c\u5de5\u4f5c\u6d41\u8fd0\u884c\u5728\u5bb9\u5668\u91cc\uff0c\u5219\u9700\u8981\u901a\u8fc7\u81ea\u5b9a\u4e49\u7684\u6865\u63a5\u7f51\u7edc\u6765\u8fde\u63a5\u8fd0\u884c\u5728\u5bb9\u5668\u91cc\u7684\u670d\u52a1\u3002\u5982\u679c\u5de5\u4f5c\u6d41\u5c31\u8fd0\u884c\u5728\u6267\u884c\u8005(runner)\u4e0a\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5c06\u5bb9\u5668\u7684\u7aef\u53e3\u6620\u5c04\u5230\u6267\u884c\u8005\u4e0a\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5bb9\u5668\u91cc\u7684\u670d\u52a1\u4e86\u3002</p> <p>\u5728\u5de5\u4f5c\u6d41\u4e2d\u4f7f\u7528\u670d\u52a1\uff0c\u4e00\u822c\u9700\u8981\u7b49\u5f85\u5bb9\u5668\u5b8c\u5168\u542f\u52a8\u88ab\u521d\u59cb\u5316\u6210\u529f\u3002\u8fd9\u5c31\u662f\u7b2c96\u884c\u7684\u5de5\u4f5c\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#23-actions","title":"2.3. \u7b2c\u4e09\u65b9\u5e94\u7528\u548cActions","text":"<p>\u6211\u4eec\u5df2\u7ecf\u5728\u793a\u4f8b\u4e2d\u770b\u5230\u4e86\u4e00\u4e9b\u6765\u81ea\u5e94\u7528\u5e02\u573a\u7684action\uff0c\u6bd4\u5982actions/checkout, actions/setup-python, pypa/gh-action-pypi-publish, dawidd6/action-send-mail, codecove/Codecov\u7b49\u7b49\u3002\u8fd9\u91cc'/'\u4e4b\u524d\u7684\u662faction\u7684\u4f5c\u8005\uff0c\u5176\u4e2dactions\u662fGithub\u5b98\u65b9\u7684action\uff0c\u5176\u5b83\u7684\u90fd\u662f\u7b2c\u4e09\u65b9\u7684action\u3002\u4f8b\u5b50\u4e2d\u7684action\uff0c\u5b83\u4eec\u7684\u540d\u5b57\u5c31\u5df2\u7ecf\u8bf4\u660e\u4e86\u5176\u529f\u80fd\uff0c\u56e0\u6b64\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u4e0b\u9762\u4ecb\u7ecd\u5176\u5b83\u4e00\u4e9b\u4f7f\u7528\u8f83\u591a\u7684\u7b2c\u4e09\u65b9actions\uff0c\u5176\u4e2d\u6709\u4e00\u4e9b\u6211\u4eec\u8fdb\u884c\u4e86\u7b80\u8981\u8bf4\u660e\u5e76\u4e3e\u4f8b\u4e86\u4f7f\u7528\u65b9\u6cd5\u3002\u5982\u679c\u6211\u4eec\u6ca1\u6709\u8fdb\u884c\u7279\u522b\u8bf4\u660e\uff0c\u6216\u8005\u60a8\u60f3\u8fdb\u4e00\u6b65\u4e86\u89e3\u76f8\u5173\u4fe1\u606f\uff0c\u53ef\u4ee5\u8bbf\u95eemarketplace\u67e5\u770b\u76f8\u5173\u6587\u6863\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#231-github-pages","title":"2.3.1. Github pages\u90e8\u7f72","text":"<p>\u8fd9\u4e2aaction\u53ef\u4ee5\u7528\u6765\u5c06\u9759\u6001\u7f51\u7ad9\u90e8\u7f72\u5230Github Pages\u4e0a\u3002\u5728ppw\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5b83\u4e0emkdocs/mike\u914d\u5408\u4f7f\u7528\u3002\u5176ID\u662fJamesIves/github-pages-deploy-action\uff0c\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>name: Build and Deploy\non: [push]\npermissions:\n  contents: write\njobs:\n  build-and-deploy:\n    concurrency: ci-${{ github.ref }} # Recommended if you intend to make multiple deployments in quick succession.\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout \ud83d\udece\ufe0f\n        uses: actions/checkout@v3\n\n      - name: Install and Build \ud83d\udd27 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.\n        run: |\n          npm ci\n          npm run build\n\n      - name: Deploy \ud83d\ude80\n        uses: JamesIves/github-pages-deploy-action@v4\n        with:\n          folder: build # The folder the action should deploy.\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap09/#232-docker","title":"2.3.2. \u6784\u5efa\u548c\u53d1\u5e03docker\u955c\u50cf","text":"<p>\u663e\u7136\uff0c\u4f5c\u4e3a\u6301\u7eed\u90e8\u7f72\u7684\u4e00\u4e2a\u6b65\u9aa4\uff0cdocker\u955c\u50cf\u7684\u6784\u5efa\u4e5f\u5e94\u8be5\u901a\u8fc7CI/CD\u670d\u52a1\u5668\u6765\u5b8c\u6210\u5e76\u53d1\u5e03\u3002\u8fd9\u662fdocker\u5b98\u65b9\u7684\u4e00\u4e2aaction\uff0c id\u662fdocker/build-push-action\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#233-gh-release","title":"2.3.3. GH Release","text":"<p>\u4e00\u822c\u5730\uff0cPython\u9879\u76ee\u7684\u53d1\u5e03\u90fd\u662f\u901a\u8fc7PyPI\u6765\u5b8c\u6210\u7684\u3002\u4f46\u662f\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u5176\u53d1\u5e03\u5230Github Release\u4e0a\u3002\u8fd9\u4e2aaction\u7684id\u662fsoftprops/action-gh-release\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#234","title":"2.3.4. \u5236\u8ba2\u53d1\u5e03\u8349\u6848","text":"<p>\u7f16\u5199release notes\u662f\u4e00\u4ef6\u67af\u71e5\u4e4f\u5473\u7684\u4e8b\u3002\u8fd9\u4e2aaction\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u751f\u6210release notes\u3002\u5b83\u7684id\u662frelase-drafter/release-drafter\u3002</p> <p>\u8fd9\u4e2aaction\u53ef\u4ee5\u4e0eGH Release\u4e00\u8d77\u4f7f\u7528\u3002</p> <p>\u8fd8\u6709\u4e00\u4e9b\u597d\u73a9\u7684action\uff0c\u6bd4\u5982\u4e00\u4e2a\u751f\u6210\u8d2a\u5403\u86c7\u6e38\u620f\u7684action\uff0cid\u662fPlatane/snk\u3002\u5b83\u4f1a\u751f\u6210\u5982\u4e0b\u7684\u8d2a\u5403\u86c7\u6e38\u620f:</p> <p></p>"},{"location":"articles/python/best-practice-python/chap09/#235","title":"2.3.5. \u901a\u77e5\u6d88\u606f","text":"<p>\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u90ae\u4ef6\u901a\u77e5\u3002\u5728\u5e94\u7528\u5e02\u573a\u91cc\uff0c\u8fd8\u6709\u5404\u79cd\u5404\u6837\u7684\u901a\u77e5action\uff0c\u6bd4\u5982Slack\u901a\u77e5\uff0cid\u662fIlshidur/action-slack\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#236-giscus","title":"2.3.6. Giscus","text":"<p>Giscus\u662f\u4e00\u4e2a\u57fa\u4e8eGithub Discussion\u7684\u8bc4\u8bba\u7cfb\u7edf\u3002\u5b83\u7684id\u662fgiscus/giscus\u3002\u5982\u679c\u4f60\u4f7f\u7528\u4e86gitpages\u4f5c\u4e3a\u535a\u5ba2\u548c\u9759\u6001\u7ad9\u7cfb\u7edf\uff0c\u4f60\u53ef\u4ee5\u5728Github\u4e0a\u5b89\u88c5\u5b83\uff0c\u5e76\u5728\u535a\u5ba2\u548c\u9759\u6001\u7ad9\u7cfb\u7edf\u4e2d\u589e\u52a0\u8bc4\u8bba\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#24-github-cipython","title":"2.4. \u901a\u8fc7Github CI\u53d1\u5e03Python\u5e93","text":"<p>\u6211\u4eec\u5728\u524d\u9762\u770b\u5230\u7684\u4f8b\u5b50\u6765\u81ea\u4e8e<code>ppw</code>\u751f\u6210\u7684\u9879\u76ee\u4e0b\u7684.github\\workflows\\dev.yml\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u5b9a\u4e49\u7684\u5de5\u4f5c\u6d41\u9002\u7528\u4e8e\u6240\u6709\u7684\u5206\u652f\uff0c\u5728\u6bcf\u6b21push\u65f6\u90fd\u4f1a\u89e6\u53d1\u3002\u5b83\u7684\u4f5c\u7528\u662f\u8fdb\u884c\u96c6\u6210\u6d4b\u8bd5\uff0c\u6784\u5efa\u6d4b\u8bd5\u5305\u5e76\u53d1\u5e03\u5230testpypi\uff0c\u5e76\u53d1\u5e03\u975e\u6b63\u5f0f\u6587\u6863\u5230Github Pages\u4e0a\u3002</p> <p>\u6b63\u5f0f\u7684\u7248\u672c\u53d1\u5e03\u5de5\u4f5c\u4ea4\u7ed9\u4e86release.yml\u3002\u8fd9\u4e2a\u5de5\u4f5c\u6d41\u4ec5\u9002\u7528\u4e8emain\u5206\u652f\uff0c\u5e76\u4e14\u53ea\u6709\u5f53main\u5206\u652f\u4e0a\u6709\u6253\u6807\u7b7e\u4e8b\u4ef6\u53d1\u751f\uff0c\u5e76\u4e14\u6807\u7b7e\u662f\u4ee5'v'\u5b57\u7ebf\u5f00\u5934\u65f6\uff0c\u624d\u4f1a\u771f\u6b63\u8fd0\u884c\u3002\u4e0b\u9762\u662f\u8fd9\u4e2a\u5de5\u4f5c\u6d41\u7684\u5185\u5bb9\uff1a release.yml<pre><code># Publish package on release branch if it's tagged with 'v*'\n\nname: build &amp; release\n\n# Controls when the action will run.\non:\n  # Triggers the workflow on push or pull request events but only for the master branch\n  push:\n    branch: [main, master]\n    tags:\n      - 'v*'\n\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n\n# A workflow run is made up of one or more jobs that can run sequentially or in parallel\njobs:\n  release:\n    runs-on: ubuntu-latest\n\n    strategy:\n      matrix:\n        python-versions: ['3.9']\n\n    # map step outputs to job outputs so they can be share among jobs\n    outputs:\n      package_version: ${{ steps.variables_step.outputs.package_version }}\n      package_name: ${{ steps.variables_step.outputs.package_name }}\n      repo_name: ${{ steps.variables_step.outputs.repo_name }}\n      repo_owner: ${{ steps.variables_step.outputs.repo_owner }}\n\n    # Steps represent a sequence of tasks that will be executed as part of the job\n    steps:\n      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it\n      - uses: actions/checkout@v2\n\n      - name: build change log\n        id: build_changelog\n        uses: mikepenz/release-changelog-builder-action@v3.2.0\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\n      - uses: actions/setup-python@v2\n        with:\n          python-version: ${{ matrix.python-versions }}\n\n      - name: Install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install tox-gh-actions poetry\n\n        # declare package_version, repo_owner, repo_name, package_name so you may use it in web hooks.\n      - name: Declare variables for convenient use\n        id: variables_step\n        run: |\n          echo \"::set-output name=repo_owner::${GITHUB_REPOSITORY%/*}\"\n          echo \"::set-output name=repo_name::${GITHUB_REPOSITORY#*/}\"\n          echo \"::set-output name=package_name::`poetry version | awk '{print $1}'`\"\n          echo \"::set-output name=package_version::`poetry version --short`\"\n        shell: bash\n\n      - name: publish documentation\n        run: |\n          poetry install -E dev\n          poetry run mkdocs build\n          git config --global user.name Docs deploy\n          git config --global user.email docs@dummy.bot.com\n          poetry run mike deploy -p -f --ignore `poetry version --short`\n          poetry run mike set-default -p `poetry version --short`\n\n      - name: Build wheels and source tarball\n        run: |\n          poetry lock\n          poetry build\n\n      - name: Create Release\n        id: create_release\n        uses: actions/create-release@v1\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        with:\n          tag_name: ${{ github.ref_name }}\n          release_name: Release ${{ github.ref_name }}\n          body: ${{ steps.build_changelog.outputs.changelog }}\n          draft: false\n          prerelease: false\n\n      - name: publish to PYPI\n        uses: pypa/gh-action-pypi-publish@release/v1\n        with:\n          user: __token__\n          password: ${{ secrets.PYPI_API_TOKEN }}\n          skip_existing: true\n\n  notification:\n    needs: release\n    if: always()\n    runs-on: ubuntu-latest\n    steps:\n      - uses: martialonline/workflow-status@v2\n        id: check\n\n      - name: build success notification via email\n        if: ${{ steps.check.outputs.status == 'success' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          server_address: ${{ secrets.BUILD_NOTIFY_MAIL_SERVER }}\n          server_port: ${{ secrets.BUILD_NOTIFY_MAIL_PORT }}\n          username: ${{ secrets.BUILD_NOTIFY_MAIL_FROM }}\n          password: ${{ secrets.BUILD_NOTIFY_MAIL_PASSWORD }}\n          from: build-bot\n          to: ${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}\n          subject: ${{ needs.release.outputs.package_name }}.${{ needs.release.outputs.package_version}} build successfully\n          convert_markdown: true\n          html_body: |\n            ## Build Success\n            ${{ needs.release.outputs.package_name }}.${{ needs.release.outputs.package_version }} is built and published to PYPI\n\n            ## Change Details\n            ${{ github.event.head_commit.message }}\n\n            For more information, please check change history at https://${{ needs.release.outputs.repo_owner }}.github.io/${{ needs.release.outputs.repo_name }}/${{ needs.release.outputs.package_version }}/history\n\n            ## Package Download\n            The pacakge is available at: https://pypi.org/project/${{ needs.release.outputs.package_name }}/\n\n      - name: build failure notification via email\n        if: ${{ steps.check.outputs.status == 'failure' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          server_address: ${{ secrets.BUILD_NOTIFY_MAIL_SERVER }}\n          server_port: ${{ secrets.BUILD_NOTIFY_MAIL_PORT }}\n          username: ${{ secrets.BUILD_NOTIFY_MAIL_FROM }}\n          password: ${{ secrets.BUILD_NOTIFY_MAIL_PASSWORD }}\n          from: build-bot\n          to: ${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}\n          subject: ${{ needs.release.outputs.package_name }}.${{ needs.release.outputs.package_version}} build failure\n          convert_markdown: true\n          html_body: |\n            ## Change Details\n            ${{ github.event.head_commit.message }}\n\n            ## Status: ${{ steps.check.outputs.status }}\n\n\n            ## View Log\n            https://github.com/${{ needs.release.outputs.repo_owner }}/${{ needs.release.outputs.repo_name }}/actions\n\n\n      # - name: Dingtalk Robot Notify\n      #   if: always()\n      #   uses: leafney/dingtalk-action@v1.0.0\n      #   env:\n      #     DINGTALK_ACCESS_TOKEN: ${{ secrets.DINGTALK_ACCESS_TOKEN }}\n      #     DINGTALK_SECRET: ${{ secrets.DINGTALK_SECRET }}\n      #   with:\n      #     msgtype: markdown\n      #     title: CI Notification | Success\n      #     text: |\n      #       ### Build Success\n      #       ${{ needs.release.outputs.package_version_full }} is built and published to test pypi\n      #       ### Change History\n      #       Please check change history at https://${{ needs.release.outputs.repo_owner }}.github.io/${{ needs.release.outputs.repo_name }}/history\n      #       ### Package Download\n      #       Please download the pacakge at: https://test.pypi.org/project/${{ needs.release.outputs.repo_name }}/\n</code></pre> \u8fd9\u4e2a\u5de5\u4f5c\u6d41\u7528\u5230\u7684\u8bed\u6cd5\u7279\u6027\u524d\u9762\u5df2\u7ecf\u8bb2\u8fc7\u4e86\u3002\u4e0d\u8fc7\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86\u4e00\u4e2a\u9489\u9489\u673a\u5668\u4eba\uff0c\u53ef\u4ee5\u5728\u6784\u5efa\u5b8c\u6210\uff08\u6216\u8005\u5931\u8d25\uff09\u65f6\uff0c\u5411\u6307\u5b9a\u7684\u9489\u9489\u7fa4\u91cc\u53d1\u9001\u4e00\u4e2a\u901a\u77e5\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/","title":"10 \u64b0\u5199\u6280\u672f\u6587\u6863","text":"<p>\u6240\u6709\u597d\u7684\u4ea7\u54c1\u90fd\u5e94\u8be5\u6709\u4e00\u4efd\u7b80\u6d01\u6613\u8bfb\u7684\u4f7f\u7528\u8bf4\u660e\u4e66\uff0c\u9664\u4e86\u82f9\u679c\u3002\u82f9\u679c\u7528\u6237\u5929\u751f\u5c31\u77e5\u9053\u5982\u4f55\u4f7f\u7528\u4ed6\u4eec\u7684\u4ea7\u54c1\uff0c\u56e0\u6b64\u5b8c\u5168\u4e0d\u9700\u8981\u6587\u6863\u3002\u8fd9\u662f\u771f\u7684\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u82f9\u679c\u4ea7\u54c1\uff0c\u90fd\u6ca1\u6709\u7528\u6237\u8bf4\u660e\u4e66\u3002</p> <p>\u4f46\u662f\u5bf9\u4e8e\u8f6f\u4ef6\u6765\u8bf4\uff0c\u5176\u590d\u6742\u6027\u5f80\u5f80\u8981\u6c42\u5fc5\u987b\u6709\u4e0e\u4e4b\u914d\u5957\u7684\u8be6\u5c3d\u7684\u6280\u672f\u6587\u6863\uff0c\u4f7f\u7528\u8005\u624d\u597d\u4e0a\u624b\u3002\u5373\u4f7f\u662f\u5f00\u6e90\u4ea7\u54c1\uff0c\u4eba\u4eec\u901a\u5e38\u4e5f\u662f\u9996\u5148\u501f\u52a9\u4ea7\u54c1\u7684\u6280\u672f\u6587\u6863\u5feb\u901f\u4e0a\u624b\u3002\u5728\u4e00\u4e2a\u901f\u98df\u65f6\u4ee3\uff0c\u5982\u679c\u4e0d\u662f\u903c\u4e0d\u5f97\u5df2\uff0c\u8c01\u6709\u65f6\u95f4\u53bb\u4e00\u884c\u4e00\u884c\u5730\u770b\u4ee3\u7801\u5462\uff1f</p> <p>\u65e2\u7136\u6280\u672f\u6587\u6863\u5982\u6b64\u91cd\u8981\uff0c\u90a3\u4e48\uff0c\u5982\u4f55\u5199\u597d\u6280\u672f\u6587\u6863\uff0c\u6709\u54ea\u4e9b\u5de5\u5177\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fdb\u884c\u6587\u6863\u521b\u4f5c\uff0c\u597d\u7684\u6280\u672f\u6587\u6863\u6709\u54ea\u4e9b\u8bc4\u4ef7\u6807\u51c6\uff0c\u5176\u8bc4\u4ef7\u6807\u51c6\u80fd\u5426\u8c61\u8f6f\u4ef6\u4e00\u6837\u8fdb\u884c\u91cf\u5316\uff1f</p> <p>\u4f5c\u8005\u8ba4\u4e3a\uff0c\u9664\u4e86\u8981\u6c42\u6280\u672f\u4f5c\u8005\u672c\u8eab\u6709\u8f83\u597d\u7684\u6587\u7b14\u4e4b\u5916\uff0c\u4e00\u4e2a\u597d\u7684\u6280\u672f\u6587\u6863\u5e38\u5e38\u8fd8\u5305\u62ec\u4ee5\u4e0b\u6280\u672f\u8981\u6c42\uff1a</p> <ol> <li>\u89c4\u8303\u7684\u6587\u6863\u7ed3\u6784\uff0c\u7b80\u6d01\u4f18\u7f8e\u7684\u683c\u5f0f</li> <li>\u5185\u5bb9\u51c6\u786e\u65e0\u8bef\uff1a\u5305\u62ec\u6587\u6863\u7248\u672c\u4e0e\u4ee3\u7801\u5b9e\u73b0\u59cb\u7ec8\u4fdd\u6301\u4e00\u81f4\uff08\u591a\u7248\u672c\uff09</li> <li>\u63d0\u4f9b\u5fc5\u8981\u7684\u5bfc\u822a\u548c\u4ea4\u53c9\u5f15\u7528\uff0c\u5e2e\u52a9\u8bfb\u8005\u8fdb\u4e00\u6b65\u9605\u8bfb\uff0c\u5e76\u4e14\u65e0\u6b7b\u94fe</li> <li>\u6587\u6863\u5728\u7ebf\u6258\u7ba1\uff0c\u968f\u65f6\u53ef\u9605\u8bfb\u548c\u53ef\u641c\u7d22</li> <li>\u5728\u5fc5\u8981\u65f6\u80fd\u591f\u751f\u6210\u5404\u79cd\u683c\u5f0f\uff0c\u6bd4\u5982html, PDF, epub\u7b49\u3002</li> </ol> <p>\u8fd9\u7bc7\u6587\u7ae0\u5c06\u63a2\u7d22\u5e38\u89c1\u7684\u6587\u6863\u6784\u5efa\u6280\u672f\u6808\u3002\u4f5c\u8005\u7684\u91cd\u70b9\u4e0d\u5728\u4e8e\u63d0\u4f9b\u4e00\u4efd\u5927\u800c\u5168\u7684\u64cd\u4f5c\u6307\u5357\uff0c\u800c\u5728\u4e8e\u63a2\u7d22\u5404\u79cd\u53ef\u80fd\u7684\u65b9\u6848\uff0c\u5e76\u5bf9\u5b83\u4eec\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ece\u800c\u5e2e\u52a9\u60a8\u9009\u62e9\u81ea\u5df1\u6700\u9002\u5408\u7684\u65b9\u6848\u3002\u81f3\u4e8e\u5982\u4f55\u4e00\u6b65\u6b65\u5730\u5e94\u7528\u8fd9\u4e9b\u65b9\u6848\uff0c\u6587\u7ae0\u4e5f\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u94fe\u63a5\u4f9b\u53c2\u8003\u3002</p> <p>\u901a\u8fc7\u9605\u8bfb\u8fd9\u7bc7\u6587\u7ae0\uff0c\u60a8\u5c06\u4e86\u89e3\u5230\uff1a</p> <ol> <li>\u6587\u6863\u7ed3\u6784\u7684\u6700\u4f73\u5b9e\u8df5</li> <li>\u6587\u6863\u6784\u5efa\u7684\u4e24\u5927\u95e8\u6d3e</li> <li>\u5982\u4f55\u81ea\u52a8\u751f\u6210API\u6587\u6863</li> <li>\u5982\u4f55\u4f7f\u7528git pages\u8fdb\u884c\u6587\u6863\u6258\u7ba1</li> </ol>"},{"location":"articles/python/best-practice-python/chap10/#1","title":"1. \u6280\u672f\u6587\u6863\u7684\u7ec4\u6210","text":"<p>\u4e00\u4efd\u6280\u672f\u6587\u6863\u901a\u5e38\u6709\u4e24\u4e2a\u6765\u6e90\uff1a\u4e00\u662f\u6211\u4eec\u5728\u5199\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\u6309\u7167\u4e00\u5b9a\u98ce\u683c\u8fdb\u884c\u6ce8\u91ca\uff0c\u901a\u8fc7\u5de5\u5177\u5c06\u5176\u63d0\u53d6\u51fa\u6765\u5f62\u6210\u7684\u6240\u8c13API\u6587\u6863\uff0c\u8fd9\u90e8\u5206\u6587\u6863\u6df1\u5165\u5230\u7ec6\u8282\u4e4b\u4e2d\uff1b\u4e8c\u662f\u5728\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u7279\u522b\u64b0\u5199\u7684\u5e2e\u52a9\u6587\u6863\uff0c\u76f8\u6bd4API\u6587\u6863\uff0c\u5b83\u4eec\u66f4\u52a0\u5b8f\u89c2\u6982\u8981\uff0c\u6db5\u76d6\u4e86API\u6587\u6863\u4e2d\u4e0d\u9002\u5408\u63d0\u53ca\u7684\u90e8\u5206\uff0c\u6bd4\u5982\u6574\u4e2a\u8f6f\u4ef6\u7684\u8bbe\u8ba1\u7406\u5ff5\u4e0e\u539f\u5219\u3001\u5b89\u88c5\u6307\u5357\u3001License\u4fe1\u606f\u3001\u7248\u672c\u5386\u53f2\u3001\u6db5\u76d6\u5168\u5c40\u7684\u793a\u4f8b\u7b49\u7b49\u3002</p> <p>\u65f6\u81f3\u4eca\u65e5\uff0c\u5728Python\u4e16\u754c\u91cc\uff0c\u5927\u81f4\u6709\u4e24\u79cd\u6d41\u884c\u7684\u6280\u672f\u6587\u6863\u6784\u5efa\u6280\u672f\u6808\uff0c\u5373sphinx\u548cmkdocs\u3002\u4e0b\u9762\u662f\u57fa\u4e8esphinx\u6280\u672f\u6808\u6784\u5efa\u7684\u4e00\u4efd\u6587\u4ef6\u6e05\u5355\uff1a <pre><code>.\n\u251c\u2500\u2500 AUTHORS.rst\n\u251c\u2500\u2500 CONTRIBUTING.rst\n\u251c\u2500\u2500 HISTORY.rst\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.rst\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 conf.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 make.bat\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.rst\n\u2514\u2500\u2500 Makefile\n</code></pre> \u8fd9\u4e2a\u5e03\u5c40\u662f\u300aPython\u6700\u4f73\u5b9e\u8df5\u6307\u5357\u300b\u4e00\u4e66\u4e2d\u63a8\u8350\u7684\uff0c\u5b83\u7684\u6700\u521d\u51fa\u5904\u662fKnnedth Reitz\u57282013\u5e74\u63a8\u8350\u7684\u4e00\u4e2aPython\u9879\u76ee\u5e03\u5c40\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u4e3a\u9002\u5e94\u5f00\u6e90\u9879\u76ee\u7684\u9700\u8981\uff0c\u6211\u5728\u8fd9\u91cc\u589e\u52a0\u4e86CONTRIBUTING.rst\u548cAUTHORS.rst\u4e24\u4e2a\u6587\u4ef6\u3002\u5176\u7279\u70b9\u662f\uff0c\u6587\u6863\u7684\u7c7b\u578b\u662frst\u6587\u4ef6\uff0c\u6587\u6863\u76ee\u5f55\u4e0b\u5305\u542b\u4e86\u4e00\u4e2aconf.py\u7684python\u6587\u4ef6\uff0c\u8fd8\u6709Makefile\u3002</p> <p>\u5982\u679c\u4f60\u4f7f\u7528Cookiecutter-pypackage\u6765\u751f\u6210\u9879\u76ee\u7684\u6846\u67b6\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b83\u751f\u6210\u7684\u9879\u76ee\u6b63\u597d\u5c31\u5305\u62ec\u4e86\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>\u53e6\u4e00\u6761\u6280\u672f\u8def\u7ebf\u5219\u662fmkdocs\u3002\u8fd9\u4e5f\u6b63\u662fppw\u6240\u91c7\u7528\u7684\u6280\u672f\u8def\u7ebf\u3002\u5c3d\u7ba1\u5728\u7b2c3\u7ae0\u5df2\u7ecf\u7ed9\u51fa\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u6587\u4ef6\u6e05\u5355\uff0c\u4f46\u4e3a\u4e86\u4fbf\u4e8e\u8bfb\u8005\u7406\u89e3\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u5bf9\u5176\u8fdb\u884c\u4e86\u6e05\u7b80\uff0c\u4ec5\u7ed9\u51fa\u4e0e\u6587\u6863\u6784\u5efa\u76f8\u5173\u7684\u6e05\u5355\u5982\u4e0b\uff1a</p> <p><pre><code>.\n\u251c\u2500\u2500 AUTHORS.md\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 HISTORY.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 api.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 authors.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 history.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 usage.md\n\u2514\u2500\u2500 mkdocs.yml\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u6761\u6280\u672f\u8def\u7ebf\u4f7f\u7528markdown\u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u7531mkdocs.yml\u63d0\u4f9b\u4e3b\u63a7\u6587\u6863\u548c\u914d\u7f6e\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5e76\u4e0d\u9700\u8981\u522b\u7684\u914d\u7f6e\u3002\u9996\u5148\uff0c\u6211\u4eec\u6765\u4ecb\u7ecd\u4e0brst\u548cmarkdown\u4e24\u79cd\u6587\u6863\u683c\u5f0f\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#2","title":"2. \u4e24\u79cd\u4e3b\u8981\u7684\u6587\u6863\u683c\u5f0f","text":"<p>\u6280\u672f\u6587\u6863\u4e00\u822c\u4f7f\u7528\u7eaf\u6587\u672c\u683c\u5f0f\u7684\u8d85\u96c6\u6765\u4e66\u5199\u3002\u5e38\u89c1\u7684\u683c\u5f0f\u6709reStructuredText(\u4ee5\u4e0b\u79f0\u4e3arst)\u548cMarkdown\u3002\u524d\u8005\u5386\u53f2\u66f4\u4e3a\u4e45\u8fdc\uff0c\u8bed\u6cd5\u590d\u6742\uff0c\u4f46\u529f\u80fd\u5f3a\u5927\uff1b\u540e\u8005\u6bd4\u8f83\u65b0\u9896\uff0c\u8bed\u6cd5\u5341\u5206\u7b80\u6d01\uff0c\u5728\u4e00\u4e9b\u7b2c\u4e09\u65b9\u63d2\u4ef6\u7684\u652f\u6301\u4e0b\uff0c\u529f\u80fd\u4e0a\u4e5f\u5df2\u9010\u6e10\u8ffd\u8d76\u4e0a\u6765\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#21-restructured-text","title":"2.1. reStructured Text","text":"<p>\u8fd9\u4e00\u8282\u6211\u4eec\u7b80\u8981\u5730\u4ecb\u7ecdreStructured Text\uff08\u4ee5\u4e0b\u7b80\u79f0\u4e3arst\uff09\u7684\u5e38\u7528\u8bed\u6cd5\u3002\u5982\u679c\u8bfb\u8005\u6709\u5174\u8da3\u5168\u9762\u4e86\u89e3rst\u7684\u8bed\u6cd5\uff0c\u53ef\u4ee5\u53c2\u8003reStructuredText\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#211-section","title":"2.1.1. \u7ae0\u8282\u6807\u9898(section)","text":"<p>\u5728rst\u4e2d\uff0c\u7ae0\u8282\u6807\u9898\u662f\u901a\u8fc7\u6587\u672c\u52a0\u4e0a\u7b49\u6570\u91cf\u7684\u4e0b\u7f00\u6807\u70b9(\u9650#=-~:'\"^_*+&lt;&gt;`)\u6765\u6784\u6210\u7684\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p><pre><code>\u4e00\u7ea7\u6807\u9898\n####\n\nrestructured text example\n\n1.\u4e8c\u7ea7\u6807\u9898\n=====\n\n1.1\u4e09\u7ea7\u6807\u9898\n-------\n\n1.1.1\u56db\u7ea7\u6807\u9898\n^^^^^^^^^\n\n1.1.2\u56db\u7ea7\u6807\u9898\n^^^^^^^^^\n1.1.1.2.1\u4e94\u7ea7\u6807\u9898\n+++++++++++++\n\n1.1.1.2.1.1\u516d\u7ea7\u6807\u9898\n***************\n1.2\u4e09\u7ea7\u6807\u9898\n-------\n</code></pre> \u4e0a\u8ff0\u6587\u672c\u5c06\u6e32\u67d3\u4e3a\u4ee5\u4e0b\u683c\u5f0f\uff1a</p> <p></p> <p>\u8fd9\u79cd\u8bed\u6cd5\u7684\u7e41\u7410\u548c\u96be\u7528\u4e4b\u5904\u5728\u4e8e\uff0c\u6807\u9898\u5b57\u7b26\u6570\u4e0e\u4e0b\u9762\u7684\u6807\u70b9\u7b26\u53f7\u6570\u5fc5\u987b\u5339\u914d\u3002\u5982\u679c\u4f7f\u7528\u4e86\u975e\u7b49\u5bbd\u5b57\u7b26\uff0c\u6216\u8005\u4f7f\u7528\u4e86\u4e2d\u6587\u6807\u9898\uff0c\u5339\u914d\u5c06\u5341\u5206\u56f0\u96be\uff0c\u60a8\u53ef\u4ee5\u81ea\u884c\u5bfb\u627e\u4e00\u4e2a\u652f\u6301rst\u7684\u7f16\u8f91\u5668\uff08\u6bd4\u5982\u5728vscode\u4e2d\uff0c\u5b89\u88c5\"RST Preview\"\u6269\u5c55\uff09\uff0c\u624b\u52a8\u952e\u5165\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u5c1d\u8bd5\u4e00\u4e0b\u3002</p> <p>\u9664\u4e86\u5728\u8f93\u5165\u4e0a\u4e0d\u591f\u7b80\u6d01\uff0c\u6613\u51fa\u9519\u5916\uff0c\u6807\u9898\u7684\u7ea7\u522b\u4e0e\u7b26\u53f7\u65e0\u5173\uff0c\u800c\u53ea\u4e0e\u7b26\u53f7\u51fa\u73b0\u7684\u987a\u5e8f\u6709\u5173\uff0c\u4e5f\u662f\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\u3002\u4f7f\u7528\u8005\u5fc5\u987b\u8bb0\u4f4f\u6bcf\u4e2a\u7b26\u53f7\u4e0e\u6807\u9898\u7ea7\u522b\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u5426\u5219\u751f\u6210\u7684\u6587\u6863\u5c31\u4f1a\u51fa\u73b0\u6807\u9898\u7ea7\u522b\u9519\u8bef\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#212-list","title":"2.1.2. \u5217\u8868(list)","text":"<p>\u5728rst\u4e2d\uff0c\u4f7f\u7528*,-,+\u505a\u9879\u76ee\u7b26\u53f7\u6784\u6210\u65e0\u5e8f\u5217\u8868\uff1b\u6709\u5e8f\u5217\u8868\u5219\u4ee5\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u7f57\u9a6c\u6570\u5b57\u52a0\u4e0a'.'\u6216\u8005\u62ec\u53f7\u6765\u6784\u6210\u3002\u8bf7\u89c1\u4ee5\u4e0b\u793a\u4f8b\uff1a <pre><code>*   \u65e0\u5e8f 1\n*   \u65e0\u5e8f 2\n\n-   \u65e0\u5e8f 1\n-   \u65e0\u5e8f 2\n\n+   \u65e0\u5e8f 3\n+   \u65e0\u5e8f 3\n\n1.  \u6709\u5e8f 1\n2.  \u6709\u5e8f 2\n\n2)  \u6709\u5e8f 2)\n3)  \u6709\u5e8f 3\uff09\n\n(3) \u6709\u5e8f (3)\n(4) \u6709\u5e8f (4)\n\ni.  \u6709\u5e8f \u4e00\nii.  \u6709\u5e8f \u4e8c\n\nII.  \u6709\u5e8f \u8d30\nIII.  \u6709\u5e8f \u53c1\n\nc.  \u6709\u5e8f three\nd.  \u6709\u5e8f four\n</code></pre> \u793a\u4f8b\u4e2d\uff0c\u6709\u5e8f\u5217\u8868\u53ef\u4ee5\u4f7f\u7528\u53f3\u62ec\u53f7\uff0c\u6216\u8005\u5b8c\u5168\u5305\u56f4\u7684\u62ec\u53f7\uff0c\u4f46\u4e0d\u80fd\u53ea\u4f7f\u7528\u5de6\u62ec\u53f7\u3002\u4e0a\u8ff0\u793a\u4f8b\u663e\u793a\u5982\u4e0b:</p> <p></p>"},{"location":"articles/python/best-practice-python/chap10/#213","title":"2.1.3. \u8868\u683c","text":"<p>rst\u6838\u5fc3\u8bed\u6cd5\u652f\u6301\u4e24\u79cd\u8868\u683c\u8868\u793a\u65b9\u6cd5\uff0c\u5373\u7f51\u683c\u8868\u683c\u548c\u7b80\u5355\u8868\u683c\u3002\u7f51\u683c\u8868\u683c\u5c31\u662f\u4f7f\u7528\u4e00\u4e9b\u7b26\u53f7\u6765\u6784\u6210\u8868\u683c\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>+------------------------+------------+----------+----------+\n| Header row, column 1   | Header 2   | Header 3 | Header 4 |\n| (header rows optional) |            |          |          |\n+========================+============+==========+==========+\n| body row 1, column 1   | column 2   | column 3 | column 4 |\n+------------------------+------------+----------+----------+\n| body row 2             | Cells may span columns.          |\n+------------------------+------------+---------------------+\n| body row 3             | Cells may  | - Table cells       |\n+------------------------+ span rows. | - contain           |\n| body row 4             |            | - body elements.    |\n+------------------------+------------+---------------------+\n</code></pre> \u8fd9\u6837\u5236\u8868\u663e\u7136\u5341\u5206\u7e41\u7410\uff0c\u4e0d\u6613\u7ef4\u62a4\u3002\u4e8e\u662frst\u901a\u8fc7\u6307\u4ee4\u8bed\u6cd5\uff0c\u6269\u5c55\u51fa\u6765csv\u8868\u683c\u548clist\u8868\u683c\u3002\u4e0b\u9762\u662fcsv\u8868\u683c\u4e00\u4f8b\uff1a <pre><code>.. csv-table:: \u7269\u7406\u5185\u5b58\u9700\u6c42\u8868\n    :header: \"\u884c\u60c5\u6570\u636e\",\"\u8bb0\u5f55\u6570\uff08\u6bcf\u54c1\u79cd\uff09\",\"\u65f6\u957f\uff08\u5e74\uff09\",\"\u7269\u7406\u5185\u5b58\uff08GB)\"\n    :widths: 12, 15, 10, 15\n\n    \u65e5\u7ebf,1000,4,0.75\n</code></pre> \u8fd9\u91cc1-3\u884c\u662f\u6307\u4ee4\uff0c\u7b2c5\u884c\u5219\u662fcsv\u6570\u636e\u3002\u4e0a\u9762\u7684\u8bed\u6cd5\u5c06\u751f\u6210\u4e0b\u9762\u7684\u8868\u683c:</p> <p></p>"},{"location":"articles/python/best-practice-python/chap10/#214","title":"2.1.4. \u56fe\u7247","text":"<p>\u5728\u6587\u6863\u4e2d\u63d2\u5165\u56fe\u7247\u8981\u4f7f\u7528\u6307\u4ee4\u8bed\u6cd5\uff0c\u4f8b\u5982\uff1a <pre><code>.. image:: img/p0.jpg\n    :height: 400px\n    :width: 600px\n    :scale: 50%\n    :align: center\n    :target: https://docutils.sourceforge.io/docs/ref/rst/directives.html#image\n</code></pre> \u793a\u4f8b\u5728\u6587\u6863\u4e2d\u63d2\u5165\u4e86img\u76ee\u5f55\u4e0b\u7684p0.jpg\u56fe\u7247\uff0c\u5e76\u4e14\u663e\u793a\u4e3a400px\u9ad8\uff0c600px\u5bbd\uff0c\u7f29\u653e\u6bd4\u4f8b\u4e3a50%\uff0c\u56fe\u7247\u5c45\u4e2d\u5bf9\u9f50\uff0c\u70b9\u51fb\u56fe\u7247\u4f1a\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u94fe\u63a5\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#215","title":"2.1.5. \u4ee3\u7801\u5757","text":"<p>\u5728\u6587\u6863\u4e2d\u63d2\u5165\u4ee3\u7801\u5757\u8981\u4f7f\u7528\u6307\u4ee4\u8bed\u6cd5\uff0c\u4f8b\u5982\uff1a <pre><code>.. code:: python\n\n  def my_function():\n      \"just a test\"\n      print 8/2\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap10/#216","title":"2.1.6. \u8b66\u793a\u6587\u672c","text":"<p>\u8b66\u793a\u6587\u672c\u901a\u5e38\u7528\u4e8e\u5f3a\u8c03\u4e00\u4e9b\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u63d0\u793a\u9519\u8bef(error)\u3001\u91cd\u8981(important)\u3001\u5c0f\u8d34\u58eb(tip)\u3001\u8b66\u544a(warning)\u3001\u6ce8\u91ca(note)\u7b49\u3002</p> <p>\u540c\u6837\u6211\u4eec\u7528\u6307\u4ee4\u8bed\u6cd5\u6765\u663e\u793a\u8b66\u793a\u6587\u672c\uff0c\u4f8b\u5982:</p> <p><pre><code>.. DANGER::\n   Beware killer rabbits!\n</code></pre> \u663e\u793a\u5982\u4e0b\uff1a</p> <p></p> <p>\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u5e38\u7528\u7684\u8bed\u6cd5\uff0c\u6bd4\u5982\u5bf9\u5b57\u4f53\u52a0\u7c97\u3001\u659c\u4f53\u663e\u793a\uff0c\u663e\u793a\u6570\u5b66\u516c\u5f0f\u3001\u4e0a\u4e0b\u6807\u3001\u811a\u6ce8\u3001\u5f15\u7528\u548c\u8d85\u94fe\u63a5\u7b49\u3002\u8981\u4ecb\u7ecd\u5b8c\u5168\u90e8rst\u7684\u8bed\u6cd5\uff0c\u5df2\u7ecf\u8fdc\u8fdc\u8d85\u51fa\u4e86\u672c\u4e66\u7684\u8303\u56f4\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002\u5173\u4e8erst\uff0c\u6211\u4eec\u8981\u8bb0\u4f4f\u7684\u662f\uff0c\u5b83\u63d0\u4f9b\u4e86\u975e\u5e38\u5f3a\u5927\u7684\u6392\u7248\u529f\u80fd\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u7528\u6765\u5199\u5728\u7ebf\u6587\u6863\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u4ed8\u6893\u6210\u4e66\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#22-markdown","title":"2.2. Markdown","text":"<p>Markdown\u8d77\u6e90\u4e8e2000\u5e74\u4ee3\u3002\u57282000\u5e74\u524d\u540e\uff0cJohn Gruber\u6709\u4e00\u4e2a\u535a\u5ba2\uff0c\u53eb\u52c7\u6562\u7684\u706b\u7403(Daring Fireball)\u3002\u5f53\u65f6\u5728\u7ebf\u7f16\u8f91\u5de5\u5177\u8fd8\u6ca1\u6709\u73b0\u5728\u8fd9\u6837\u53d1\u8fbe\uff0c\u4e00\u4e9b\u683c\u5f0f\u5316\u529f\u80fd\u8fd8\u9700\u8981\u901a\u8fc7HTML\u4ee3\u7801\u6765\u5b9e\u73b0\u3002\u5c3d\u7ba1\u4ed6\u672c\u4eba\u5b8c\u5168\u638c\u63e1HTML\u7684\u8bed\u6cd5\uff0c\u4f46\u611f\u89c9\u8fd9\u79cd\u8bed\u6cd5\u80af\u5b9a\u4e0d\u9002\u7528\u5927\u591a\u6570\u4eba\uff0c\u4e8e\u662f\u840c\u751f\u4e86\u53d1\u660e\u4e00\u79cd\u7b80\u5316\u7684\u6807\u8bb0\u8bed\u8a00(markup)\u7684\u60f3\u6cd5\u3002\u8fd9\u79cd\u8bed\u8a00\u8981\u6bd4HTML\u7b80\u5355\uff0c\u4f46\u6700\u7ec8\u80fd\u8f6c\u6362\u6210HTML\u3002\u6700\u7ec8\uff0c\u5728\u501f\u9274\u4e86\u7eaf\u6587\u672c\u7535\u5b50\u90ae\u4ef6\u6807\u8bb0\u7684\u4e00\u4e9b\u60ef\u4f8b\uff0c\u4ee5\u53caSetext\u548catx\u5f62\u5f0f\u7684\u6807\u8bb0\u8bed\u8a00\u7684\u4e00\u4e9b\u7279\u70b9\u540e\uff0c\u4ed6\u4e8e2004\u53d1\u660e\u4e86Markdown\u8bed\u8a00\uff0c\u5e76\u53d1\u5e03\u4e86\u7b2c\u4e00\u4e2a\u5c06markdown\u8f6c\u6362\u6210HTML\u7684\u5de5\u5177\u3002</p> <p>\u57282007\u5e74\uff0cGitHub\u7684\u5f00\u53d1\u8005Chris Wanstrath\u63a5\u89e6\u5230\u4e86Markdown\u8bed\u8a00\u3002\u57282014\u5e74\uff0cGitHub\u5ba3\u5e03\uff0c\u5c06\u4f1a\u5728GitHub\u4e0a\u4f7f\u7528Markdown\u8bed\u8a00\u6765\u7f16\u5199\u6587\u6863\u3002\u8fd9\u4e00\u4e3e\u52a8\uff0c\u4f7f\u5f97Markdown\u8bed\u8a00\u66f4\u52a0\u6d41\u884c\u8d77\u6765\u3002Markdown\u7684\u6838\u5fc3\u8bed\u6cd5\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u6709\u51e0\u5341\u4e2a\u89c4\u5219\uff0c\u4e8e\u662fGithub, Reddit\u548cStack Exchange\u5bf9Markdown\u505a\u4e86\u4e00\u4e9b\u81ea\u5df1\u7684\u6269\u5c55\uff0c\u8fd9\u4e9b\u6269\u5c55\u88ab\u79f0\u4e3a\"\u98ce\u5473\"(Flavors)\uff0c\u6bd4\u5982Github Markdown Flavor\uff0c\u5c31\u589e\u52a0\u4e86\u8868\u683c\u3001\u4ee3\u7801\u6bb5\u7b49\u3002\u8fd9\u4e9b\u6269\u5c55\u5927\u5927\u589e\u5f3a\u4e86Markdown\u7684\u8868\u8fbe\u80fd\u529b\u3002</p> <p>Readmore</p> <p>\u8c61Github, Reddit\u8fd9\u6837\u7684\u5927\u73a9\u5bb6\u67d3\u6307Markdown\u4e4b\u540e\uff0cMarkdown\u7684\u6807\u51c6\u5316\u95ee\u9898\u5c31\u51fa\u73b0\u4e86\u30022014\u5e74\uff0c\u52a0\u5dde\u5927\u5b66\u7684\u54f2\u5b66\u6559\u6388 John MacFarlane\uff0c Discourse\u7684\u8054\u5408\u521b\u59cb\u4eba Jeff Atwood\uff0c\u4ee5\u53caReddit, Github\uff0c Stackoverflow\u7684\u4ee3\u8868\u5171\u540c\u7ec4\u6210\u4e86\u4e00\u4e2a\u5de5\u4f5c\u7ec4\uff0c\u5f00\u59cb\u4e86Markdown\u7684\u6807\u51c6\u5316\u5de5\u4f5c\u3002\u51fa\u4eba\u610f\u6599\u7684\u662f\uff0cMarkdown\u7684\u521b\u59cb\u4ebaJohn Gruber\u53cd\u5bf9Markdown\u7684\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u5e76\u7981\u6b62\u4ed6\u4eec\u4f7f\u7528Markdown\u8fd9\u4e2a\u540d\u5b57\uff0c\u6700\u7ec8\uff0c\u8fd9\u4e2a\u6807\u51c6\u5316\u7684\u7ed3\u679c\u5c31\u53d8\u6210\u4e86commonmark\uff0c\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u3002</p> <p>John Gruber\u53cd\u5bf9Markdown\u7684\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u5e76\u4e14\u4e0d\u5141\u8bb8\u5de5\u4f5c\u7ec4\u4f7f\u7528Markdown\u8fd9\u4e2a\u540d\u5b57\uff0c\u4e0d\u80fd\u4e0d\u8bf4\u4ee4\u4eba\u9057\u61be\u3002\u4e0d\u77e5\u9053\u8fd9\u80fd\u4e0d\u80fd\u7b97\u662f\u5c60\u9f99\u5c11\u5e74\u7ec8\u6210\u9f99\u7684\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4e0d\u8fc7\uff0c\u5728\u6280\u672f\u754c\u8fd9\u4e5f\u5e76\u975e\u5b64\u4f8b\u3002\u4e00\u4e9b\u4eba\u4e5f\u8ba4\u4e3a\uff0c\u89e3\u51b3Python\u6027\u80fd\u95ee\u9898\u7684\u6700\u5927\u963b\u788d\uff0c\u5176\u5b9e\u5c31\u6765\u81ea\u4e8e\u521b\u5efa\u8005Guido\uff0c\u56e0\u4e3a\u4ed6\u8ba4\u4e3aPython\u7684\u6027\u80fd\u5df2\u7ecf\u591f\u597d\uff1a\u5982\u679c\u6709\u4eba\u8ba4\u4e3aPython\u6027\u80fd\u4e0d\u591f\u597d\uff0c\u90a3\u4e48\u4ed6\u5e94\u8be5\u6539\u7528\u522b\u7684\u8bed\u8a00\u3002\u63d0\u5347Python\u8bed\u8a00\u7684\u6027\u80fd\u7684\u8fc7\u7a0b\u4e2d\uff0c\u51b3\u4e0d\u5141\u8bb8\u51fa\u73b0\u7248\u672c2\u5230\u7248\u672c3\u5347\u7ea7\u65f6\u7684\u90a3\u79cd\u4e0d\u517c\u5bb9\u73b0\u8c61\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u7ed3\u5408\u4f8b\u5b50\u6765\u770b\u770bMarkdown\u7684\u8bed\u6cd5\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u6211\u4eec\u4e0d\u4e25\u683c\u533a\u5206\u54ea\u4e9b\u662f\u6838\u5fc3\u8bed\u6cd5\uff0c\u54ea\u4e9b\u662fcommonmark\u6269\u5c55\u7684\u8bed\u6cd5\uff0c\u56e0\u4e3a\u5230\u76ee\u524d\u4e3a\u6b62\uff0ccommonmark\u7684\u6269\u5c55\u5df2\u7ecf\u4e3a\u5927\u591a\u6570\u7f16\u8f91\u5668\u6240\u652f\u6301\u4e86\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#221","title":"2.2.1. \u7ae0\u8282\u6807\u9898","text":"<p>Markdown\u7684\u7ae0\u8282\u6807\u9898\u4f7f\u7528'#'\u6765\u5f15\u8d77\uff0c\u2018#\u2019\u7684\u4e2a\u6570\u8868\u793a\u6807\u9898\u7684\u7ea7\u522b\uff0c\u4f8b\u5982\uff1a <pre><code># 1. \u8fd9\u662f\u4e00\u7ea7\u6807\u9898\n## 1.1 \u8fd9\u662f\u4e8c\u7ea7\u6807\u9898\n### 1.1.1 \u8fd9\u662f\u4e09\u7ea7\u6807\u9898\n### 1.1.2 \u53e6\u4e00\u4e2a\u4e09\u7ea7\u6807\u9898\n## 1.2 \u53e6\u4e00\u4e2a\u4e8c\u7ea7\u6807\u9898\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u6bd4rst\u8981\u5bb9\u6613\u4e0d\u5c11\u3002\u5728\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9\u6807\u9898\u8fdb\u884c\u4e86\u624b\u5de5\u7f16\u53f7\u3002\u5982\u679c\u4e0d\u613f\u610f\u624b\u5de5\u7f16\u53f7\u7684\u8bdd\uff0c\u4e00\u4e9bMarkdown\u6e32\u67d3\u5de5\u5177\u4e5f\u53ef\u4ee5\u901a\u8fc7css\u6765\u81ea\u52a8\u7ed9\u6807\u9898\u52a0\u4e0a\u7f16\u53f7\u3002\u53e6\u5916\uff0c\u5f88\u591aMarkdown\u7f16\u8f91\u5668\u4e5f\u5177\u6709\u7ed9\u6807\u9898\u81ea\u52a8\u63d2\u5165\u548c\u66f4\u65b0\u7f16\u53f7\u7684\u80fd\u529b\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#222","title":"2.2.2. \u5217\u8868","text":"<p>Markdown\u7684\u5217\u8868\u4e0erst\u5dee\u4e0d\u591a\uff0c\u65e0\u5e8f\u5217\u8868\u4f7f\u7528'-'\u6216\u8005'*'\u5f15\u8d77\uff0c\u4f8b\u5982\uff1a <pre><code>- \u65e0\u5e8f\u5217\u88681\n- \u65e0\u5e8f\u5217\u88682\n</code></pre> \u6700\u7ec8\u6e32\u67d3\u7684\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>\u65e0\u5e8f\u5217\u88681</li> <li>\u65e0\u5e8f\u5217\u88682</li> </ul> <p>\u6709\u5e8f\u5217\u8868\u4f7f\u7528\u6570\u5b57\u52a0'.'\u5f15\u8d77\uff0c\u4f8b\u5982\uff1a <pre><code>1. \u6709\u5e8f\u5217\u88681\n3. \u6709\u5e8f\u5217\u88682\n</code></pre> \u6700\u7ec8\u6e32\u67d3\u7684\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a</p> <ol> <li>\u6709\u5e8f\u5217\u88681</li> <li>\u6709\u5e8f\u5217\u88682</li> </ol> <p>\u6ce8\u610f\uff0c\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9\u6709\u5e8f\u5217\u8868\u7684\u5e8f\u53f7\u5e76\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u8fd9\u662f\u5141\u8bb8\u7684\uff0cmarkdown\u7684\u6e32\u67d3\u5de5\u5177\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u8c03\u6574\u6b63\u786e\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#223","title":"2.2.3. \u8868\u683c","text":"<p>markdown\u7684\u8868\u683c\u8bed\u6cd5\u8fd8\u662f\u7a0d\u5acc\u590d\u6742\uff1a <pre><code>| Header1 | Header2 | Header3 |\n| :------ | :-----: | ------: |\n| data1   |  data2  |   data3 |\n| data11  | data12  |  data13 |\n</code></pre> \u8bed\u6cd5\u7684\u7279\u70b9\u662f\uff0c\u8868\u683c\u7684\u6bcf\u4e00\u884c\u90fd\u662f\u4ee5'|'\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\uff0c\u6bcf\u4e00\u5217\u7684\u6570\u636e\u4e4b\u95f4\u7528'|'\u5206\u9694\uff0c\u8868\u5934\u548c\u8868\u683c\u7684\u5206\u9694\u7ebf\u4f7f\u7528'-'\u8868\u793a\u3002\u8868\u5934\u548c\u8868\u683c\u7684\u5206\u9694\u7ebf\u7684\u6570\u91cf\u53ef\u4ee5\u4e0d\u4e00\u81f4\uff0c\u4f46\u662f\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e\u8868\u683c\u7684\u5217\u6570\u3002\u8868\u683c\u7684\u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a</p> Header1 Header2 Header3 data1 data2 data3 data11 data12 data13 <p>\u6ce8\u610f\u4e0a\u8ff0\u8868\u683c\u8bed\u6cd5\u4e2d\u7684\u5192\u53f7\u3002\u5b83\u5728\u8fd9\u91cc\u7684\u4f5c\u7528\u662f\u6307\u793a\u8be5\u5217\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002\u5f53\u5728\u5206\u9694\u7ebf\u7684\u5de6\u4fa7\u4f7f\u7528\u4e00\u4e2a\u5192\u53f7\u65f6\uff0c\u8be5\u5217\u4e3a\u5de6\u5bf9\u9f50\uff1b\u5982\u679c\u5728\u5206\u9694\u7ebf\u7684\u53f3\u4fa7\u4f7f\u7528\u4e00\u4e2a\u5192\u53f7\u65f6\uff0c\u8be5\u5217\u4e3a\u53f3\u5bf9\u9f50\uff1b\u5982\u679c\u5728\u4e24\u7aef\u540c\u65f6\u4f7f\u7528\u5192\u53f7\uff0c\u5219\u8be5\u5217\u4e3a\u5c45\u4e2d\u5bf9\u9f50\u3002\u5728\u4e0d\u4f7f\u7528\u5192\u53f7\u7684\u60c5\u51b5\u4e0b\uff0c\u8be5\u5217\u4e3a\u5de6\u5bf9\u9f50\u3002</p> <p>markdown\u6ca1\u6709rst\u90a3\u6837\u7684\u6307\u4ee4\u8bed\u6cd5\uff0c\u56e0\u6b64\u5bf9\u8d85\u51fa\u6838\u5fc3\u8bed\u6cd5\u7684\u7279\u6027\uff0c\u6269\u5c55\u5e76\u4e0d\u5bb9\u6613\u3002\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5728markdown\u4e2d\u4e0d\u80fd\u76f4\u63a5\u5c06csv\u6570\u636e\u6e32\u67d3\u4e3a\u8868\u683c\u3002\u5982\u679c\u6211\u4eec\u5bf9\u5728markdown\u4e2d\u5236\u4f5c\u8868\u683c\u611f\u5230\u56f0\u96be\uff0c\u4e00\u822c\u7684\u4f5c\u6cd5\u662f\u901a\u8fc7\u7f16\u8f91\u5668\u7684\u6269\u5c55\u529f\u80fd\uff0c\u5c06csv\u6570\u636e\u8f6c\u6362\u4e3amarkdown\u7684\u8868\u683c\u3002</p> <p>Tip</p> <p>vscode\u4e2d\u6709\u6269\u5c55\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#224","title":"2.2.4. \u63d2\u5165\u94fe\u63a5","text":"<p>\u5728markdown\u4e2d\u63d2\u5165\u94fe\u63a5\u5f88\u7b80\u5355\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a <pre><code>[\u94fe\u63a5\u540d](https://example.com)\n</code></pre> \u5373\u7531\u7b26\u53f7\"[]()\"\u5b9a\u4e49\u4e86\u4e00\u4e2a\u94fe\u63a5\uff0c\u5176\u4e2d\"[]\"\u4e2d\u662f\u94fe\u63a5\u7684\u663e\u793a\u6587\u5b57\uff0c\"()\"\u4e2d\u5219\u662f\u94fe\u63a5\u7684target\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#225","title":"2.2.5. \u63d2\u5165\u56fe\u7247","text":"<p>\u63d2\u5165\u56fe\u7247\u7684\u8bed\u6cd5\u4e0e\u63d2\u5165\u94fe\u63a5\u7c7b\u4f3c\uff1a <pre><code>![alt text](image url \"image Title\")\n</code></pre> \u4e0d\u540c\u7684\u662f\uff0c\u56fe\u7247\u94fe\u63a5\u5fc5\u987b\u7531\u4e00\u4e2a\u611f\u53f9\u53f7\u5f15\u8d77\u3002'[]'\u4e2d\u7684\u6587\u5b57\u6b64\u65f6\u6210\u4e3a\u56fe\u50cf\u7684\u66ff\u4ee3\u6587\u672c\uff0c\u5c4f\u5e55\u9605\u8bfb\u5de5\u5177\u7528\u5b83\u6765\u5411\u89c6\u89c9\u969c\u788d\u8bfb\u8005\u63cf\u8ff0\u56fe\u50cf\u3002'()'\u4e2d\u7684\u6587\u5b57\u5219\u662f\u56fe\u50cf\u7684URL\uff0c\u53ef\u4ee5\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84\u3002\u6700\u540e\uff0c\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u4e00\u4e2a\u53cc\u5f15\u53f7\uff0c\u5176\u4e2d\u7684\u6587\u5b57\u5219\u662f\u56fe\u50cf\u7684\u6807\u9898\uff0c\u9f20\u6807\u60ac\u505c\u5728\u56fe\u50cf\u4e0a\u65f6\u4f1a\u663e\u793a\u51fa\u6765\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a <pre><code>![\u8fd9\u662f\u4e00\u6bb5\u8b66\u793a\u6587\u672c](img/markdown.png)\n</code></pre> \u751f\u6210\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>markdown\u6838\u5fc3\u8bed\u6cd5\u4e0d\u80fd\u8c61rst\u90a3\u6837\u652f\u6301\u6307\u5b9a\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3001\u5bf9\u9f50\u65b9\u5f0f\u7b49\u3002\u5982\u679c\u6211\u4eec\u6709\u8fd9\u4e9b\u9700\u8981\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u3002\u4e00\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528html\u8bed\u6cd5\u6765\u5b9e\u73b0\uff0c\u4f8b\u5982\uff1a  <pre><code>&lt;img src=\"img/markdown.png\" width=\"30%\"&gt;\n</code></pre>  \u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p>\u4e8c\u662f\u53ef\u80fd\u60a8\u4f7f\u7528\u7684markdown\u7f16\u8f91\u5668\u652f\u6301\u6269\u5c55\u8bed\u6cd5\u3002\u672c\u6587\u64b0\u5199\u65f6\uff0c\u5c31\u4f7f\u7528\u4e86Mkdocs-Material\u4e2d\u7684\u76f8\u5173\u6269\u5c55\u529f\u80fd\uff0c\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5b83\u7684\u7528\u6cd5\u4e3e\u4f8b\uff1a <pre><code> ![](assets/img/chap10/markdown_logo.png \"\u8b66\u793a\u6587\u672c\u793a\u4f8b\"){width=\"30%\"}\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap10/#226","title":"2.2.6. \u4ee3\u7801\u5757","text":"<p>\u6211\u4eec\u4f7f\u7528\u4e09\u4e2a\u53cd\u5f15\u53f7'`'\u6765\u5b9a\u4e49\u4ee3\u7801\u5757\uff0c\u4f8b\u5982\uff1a <pre><code>    ```python\n        def foo():\n            print('hello world')\n    ```\n</code></pre> \u8d77\u5934\u7684\u53cd\u5f15\u53f7\u4e4b\u540e\uff0c\u53ef\u4ee5\u52a0\u4e0a\u8bed\u8a00\u5b9a\u4e49\u3002\u5982\u6b64\u4ee5\u6765\uff0c\u4ee3\u7801\u5757\u5c31\u53ef\u4ee5\u83b7\u5f97\u8bed\u6cd5\u9ad8\u4eae\u4e86\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u5757\uff0c\u6211\u4eec\u4f7f\u7528\u4e86'python'\u4f5c\u4e3a\u8bed\u8a00\u5b9a\u4e49\uff0c\u8fd9\u6837\u4ee3\u7801\u5757\u5c31\u4f1a\u83b7\u5f97python\u7684\u8bed\u6cd5\u9ad8\u4eae\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>    def foo() -&gt; None:\n        print('hello world')\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap10/#227","title":"2.2.7. \u8b66\u793a\u6587\u672c","text":"<p>\u5728markdown\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e09\u4e2a\u611f\u53f9\u53f7\u6765\u5f15\u8d77\u8b66\u793a\u6587\u672c\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a <pre><code>!!! type \"\u53cc\u5f15\u53f7\u5b9a\u4e49\u6807\u9898\"\n    Any number of other indented markdown elements.\n\n    This is the second paragraph.\n</code></pre> \u611f\u53f9\u53f7\u540e\u9762\u7684\u82f1\u6587\u5355\u8bcd\u662f\u8b66\u793a\u6587\u672c\u7684\u7c7b\u578b\u3002rst\u5efa\u8bae\u4e86\u8fd9\u4e9b\u7c7b\u578b\uff1aattention, caution, danger, error, hint, important, note, tip, warning\u3002\u5728\u5b9e\u73b0\u4e0a\uff0c\u8fd9\u4e9b\u7c7b\u578b\u90fd\u662fcss\u7684\u4e00\u4e2aclass\uff0c\u56e0\u6b64\u5177\u4f53\u5982\u4f55\u5b9e\u73b0\uff0c\u53d6\u51b3\u4e8e\u6e32\u67d3\u5668\u7684\u51b3\u5b9a\u3002\u6bd4\u5982\uff0c\u672c\u4e66\u4f7f\u7528mkdocs-material\u6765\u64b0\u5199\uff0cmaterial\u652f\u6301\u7684\u7c7b\u578b\u6709note, abstract, info, tip, success, question, warning, example, quote\u7b49\uff0c\u6709\u4e00\u4e9b\u60a8\u5df2\u7ecf\u89c1\u8fc7\u793a\u4f8b\u4e86\u3002</p> <p>\u6bd4\u5982\uff0c\u4e0b\u9762\u662f\u5f15\u7528\u5b83\u4eba\u6587\u5b57\u7684\u4e00\u4f8b\uff1a <pre><code>    !!! quote \"\u7f57\u66fc.\u7f57\u5170\"\n    \u4e16\u4e0a\u53ea\u6709\u4e00\u79cd\u82f1\u96c4\u4e3b\u4e49\uff0c\u5c31\u662f\u8ba4\u6e05\u751f\u6d3b\u7684\u771f\u76f8\u4e4b\u540e\u4f9d\u7136\u70ed\u7231\u751f\u6d3b\u3002\n</code></pre> \u5176\u6548\u679c\u5982\u4e0b\uff1a</p> <p>\u7f57\u66fc.\u7f57\u5170</p> <p>\u4e16\u4e0a\u53ea\u6709\u4e00\u79cd\u82f1\u96c4\u4e3b\u4e49\uff0c\u5c31\u662f\u8ba4\u6e05\u751f\u6d3b\u7684\u771f\u76f8\u4e4b\u540e\u4f9d\u7136\u70ed\u7231\u751f\u6d3b\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#228","title":"2.2.8. \u5176\u5b83\u8bed\u6cd5","text":"<p>\u4e24\u4e2a'**'\u4e4b\u95f4\u7684\u6587\u672c\u5c06\u663e\u793a\u4e3a\u52a0\u7c97\uff0c\u4e24\u4e2a'_'\u4e4b\u95f4\u7684\u6587\u672c\u5c06\u663e\u793a\u4e3a \u659c\u4f53\uff08\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a'*'\u5305\u542b\u6587\u672c\uff09\u3002\u5982\u679c\u6587\u672c\u88ab\u5305\u542b\u5728\u4e24\u4e2a'***'\uff0c\u5219\u6587\u672c\u663e\u793a\u4e3a \u65e2\u52a0\u7c97\uff0c\u4e5f\u663e\u793a\u4e3a\u659c\u4f53\u3002</p> <p>\u884c\u5185\u6570\u5b57\u516c\u5f0f\u4f7f\u7528\u4e00\u5bf9'$'\u5305\u542b\uff0c\u4f8b\u5982\uff1a$x^2$\uff0c\u6548\u679c\u5982\u4e0b\uff1ax<sup>2</sup>\u3002\u8fd9\u91cc\u6211\u4eec\u8fd8\u6f14\u793a\u4e86\u4e0a\u6807\uff0c\u5373\u4f7f\u7528'^'\u3002\u5982\u679c\u662f\u8981\u751f\u6210\u4e0b\u6807\uff0c\u5219\u53ef\u4ee5\u7528'_'\uff0c\u4f8b\u5982\uff1a$x_2$\uff0c\u6548\u679c\u5982\u4e0b\uff1a\\(x_2\\)\u3002</p> <p>\u6211\u4eec\u5728\u4ecb\u7ecd\u63d2\u5165\u56fe\u7247\u7684\u8bed\u6cd5\u65f6\u63d0\u5230\uff0c\u6709\u4e00\u4e9b\u7279\u6027\uff0c\u6bd4\u5982\u6307\u5b9a\u5bbd\u5ea6\uff0cmarkdown\u6838\u5fc3\u8bed\u6cd5\u4e0d\u652f\u6301\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528html\u8bed\u6cd5\u3002\u8fd9\u4e0d\u4ec5\u4ec5\u5bf9\u56fe\u7247\u9002\u7528\u3002html\u8bed\u6cd5\u652f\u6301\u4e0a\u4e0b\u6807\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528html\u8bed\u6cd5\u6765\u91cd\u5199\u4e0a\u9762\u7684\u4f8b\u5b50:</p> <p>\u4e0a\u4e0b\u6807\u53ef\u4ee5\u4f7f\u7528html\u7684\\&lt;sup&gt;\u548c\\&lt;sub&gt;\u6807\u7b7e\u6765\u5b9e\u73b0\uff0c\u6bd4\u5982x\\&lt;sup&gt;2\\&lt;/sup&gt;\u5c06\u663e\u793a\u4e3ax<sup>2</sup>\u3002H\\&lt;sub&gt;2\\&lt;/sub&gt;O\u5c06\u663e\u793a\u4e3a\u4e0b\u6807H<sub>2</sub>O\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#3-sphinx-vs-mkdocs","title":"3. Sphinx vs Mkdocs, \u4e24\u79cd\u4e3b\u8981\u7684\u6784\u5efa\u5de5\u5177","text":"<p>rst\u548cmarkdown\u90fd\u662f\u4f1f\u5927\u7684\u53d1\u660e\uff0c\u5b83\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u6587\u672c\u6587\u4ef6\u683c\u5f0f\u6765\u4fdd\u5b58\u4fe1\u606f\uff0c\u5373\u4f7f\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5546\u4e1a\u8f6f\u4ef6\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7f16\u8f91\u3001\u9605\u8bfb\u8fd9\u4e9b\u6587\u6863\u3002\u6211\u4eec\u8bd5\u60f3\uff0c\u5982\u679c\u6211\u4eec\u628a\u5927\u91cf\u7684\u6587\u6863\u4fe1\u606f\u4fdd\u5b58\u5728word\u8fd9\u79cd\u5546\u4e1a\u8f6f\u4ef6\u4e2d\uff0c\u5982\u679c\u6709\u4e00\u5929\u5546\u4e1a\u8f6f\u4ef6\u7ec8\u6b62\u670d\u52a1\u3001\u6216\u8005\u63d0\u9ad8\u6536\u8d39\u6807\u51c6\uff0c\u8fd9\u79cd\u6280\u672f\u9501\u5b9a\u6548\u5e94\u5c06\u5e26\u6765\u591a\u5927\u7684\u8fc1\u79fb\u6210\u672c\uff1f\uff01</p> <p>\u4f46\u662f\uff0crst\u548cmarkdown\u6bd5\u7adf\u53ea\u662f\u7b80\u5355\u6587\u672c\u683c\u5f0f\uff0c\u76f4\u63a5\u9605\u8bfb\uff0c\u89c6\u89c9\u6548\u679c\u5e76\u4e0d\u597d\u3002\u6b64\u5916\uff0c\u5927\u578b\u6587\u6863\u5f80\u5f80\u7531\u591a\u7bc7\u5b50\u6587\u6863\u7ec4\u6210\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u9700\u8981\u628a\u6587\u6863\u7ec4\u7ec7\u8d77\u6765\u7684\u5de5\u5177\uff0c\u4ee5\u4fbf\u5411\u8bfb\u8005\u63d0\u4f9b\u76ee\u5f55\u548c\u5bfc\u822a\u7b49\u529f\u80fd\u3002\u8fd9\u5c31\u5f15\u51fa\u4e86\u6587\u6863\u6784\u5efa\u5de5\u5177\u7684\u9700\u8981\u3002</p> <p>\u6587\u6863\u6784\u5efa\u5de5\u5177\u7684\u4e3b\u8981\u4f5c\u7528\uff0c\u5c31\u662f\u5c06\u6563\u843d\u5728\u4e0d\u540c\u5730\u65b9\u7684\u6587\u6863\u7edf\u5408\u8d77\u6765\uff0c\u5448\u73b0\u4e00\u5b9a\u7684\u7ed3\u6784\uff0c\u6587\u6863\u5404\u90e8\u5206\u80fd\u591f\u76f8\u4e92\u94fe\u63a5\u548c\u5bfc\u822a\uff0c\u5e76\u4e14\u5c06\u7b80\u5355\u6587\u672c\u683c\u5f0f\u6e32\u67d3\u6210\u66f4\u52a0\u7f8e\u89c2\u7684\u5bcc\u6587\u672c\u683c\u5f0f\u3002\u5728Python\u7684\u4e16\u754c\u4e2d\uff0c\u6700\u91cd\u8981\u7684\u6587\u6863\u6784\u5efa\u5de5\u5177\u5c31\u662fSphinx\u548cMkdocs\u3002</p> <p>Sphinx\u662f\u59cb\u4e8e2008\u5e745\u6708\u7684\u4e00\u79cd\u6587\u6863\u6784\u5efa\u5de5\u5177\uff0c\u5f53\u524d\u7248\u672c3.3\u3002\u5176\u4e3b\u8981\u529f\u80fd\u662f\u901a\u8fc7\u4e3b\u63a7\u6587\u6863\u6765\u7edf\u5408\u5404\u4e2a\u5b50\u6587\u6863\uff0c\u751f\u6210\u6587\u6863\u7ed3\u6784(toctree)\u3001API\u6587\u6863\uff0c\u5b9e\u73b0\u6587\u6863\u5185\u53ca\u8de8\u6587\u4ef6\u3001\u8de8\u9879\u76ee\u7684\u5f15\u7528\uff0c\u4ee5\u53ca\u754c\u9762\u4e3b\u9898\u529f\u80fd\u3002</p> <p>\u5728\u65e9\u671f\u7684\u7248\u672c\u4e2d\uff0cSphinx\u5e76\u6ca1\u6709\u751f\u6210API\u6587\u6863\u7684\u529f\u80fd\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u6bd4\u5982sphinx-apidoc\u6765\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002\u5927\u7ea6\u4ece2018\u5e74\u8d77\uff0cSphinx\u901a\u8fc7autodoc\u8fd9\u4e00\u6269\u5c55\u6765\u5b9e\u73b0\u4e86\u751f\u6210API\u6587\u6863\u7684\u529f\u80fd\u3002\u73b0\u5728\u7684\u9879\u76ee\u4e2d\uff0c\u5df2\u7ecf\u6ca1\u6709\u5fc5\u8981\u518d\u4f7f\u7528sphinx-apidoc\u8fd9\u4e00\u5de5\u5177\u4e86(\u6ce8\uff1a\u5982\u679c\u4f60\u4f7f\u7528cookiecutter-pypackage\u6765\u751f\u6210\u9879\u76ee\uff0c\u5b83\u4ecd\u7136\u5728\u4f7f\u7528\u8fd9\u4e00\u5de5\u5177)\u3002</p> <p>intersphinx\u662f\u5176\u7279\u8272\u529f\u80fd\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u4e24\u4e2a\u4e0d\u540c\u7684\u6587\u6863\u4e2d\u76f8\u4e92\u94fe\u63a5\u3002\u6bd4\u5982\uff0c\u4f60\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u91cd\u8f7d\u4e86Python\u6807\u51c6\u5e93\u4e2d\u7684\u67d0\u4e2a\u5b9e\u73b0\uff0c\u5e76\u63d0\u4f9b\u4e86\u65b0\u589e\u5b9e\u73b0\u7684\u8fd9\u90e8\u5206\u6587\u6863\uff0c\u4f46\u5bf9\u4e8e\u672a\u505a\u6539\u53d8\u7684\u90a3\u90e8\u5206\u529f\u80fd\uff0c\u4f60\u5e76\u4e0d\u5e0c\u671b\u5c06\u5b83\u7684\u5e2e\u52a9\u6587\u6863\u91cd\u5199\u4e00\u904d\uff0c\u8fd9\u6837\u5c31\u6709\u4e86\u94fe\u63a5\u5230Python\u6807\u51c6\u5e93\u6587\u6863\u7684\u9700\u6c42\u3002\u6bd4\u5982\uff0c\u901a\u8fc7intersphinx\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 *:py:class:`zipfile.ZipFile`* \u6765\u8df3\u8f6c\u5230Python\u6807\u51c6\u5e93\u7684<code>ZipFile</code>\u7c7b\u7684\u6587\u6863\u4e0a\u3002\u867d\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a\u5916\u90e8\u94fe\u63a5\u6765\u5b9e\u73b0\u8fd9\u6837\u7684\u8df3\u8f6c\uff0c\u4f46\u6beb\u65e0\u7591\u95ee\uff0cintersphinx\u7684\u8bed\u6cd5\u66f4\u4e3a\u7b80\u6d01\u3002</p> <p>Mkdocs\u51fa\u73b0\u4e8e2014\u5e74\uff0c\u5f53\u524d\u7248\u672c1.4\u3002\u5176\u4e3b\u8981\u529f\u80fd\u9664\u4e86\u6784\u5efa\u9879\u76ee\u6587\u6863\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u6765\u6784\u5efa\u9759\u6001\u7ad9\u70b9\u3002\u5728\u6784\u5efa\u9879\u76ee\u6587\u6863\u65b9\u9762\uff0c\u5b83\u4e3b\u8981\u63d0\u4f9b\u6587\u6863\u7edf\u5408\u529f\u80fd\u3001\u754c\u9762\u4e3b\u9898\u548c\u63d2\u4ef6\u4f53\u7cfb\u3002\u4e0eSphinx\u76f8\u6bd4\uff0c\u5b83\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u5b9e\u65f6\u9884\u89c8\u80fd\u529b\u3002Sphinx\u81ea\u8eab\u6ca1\u6709\u63d0\u4f9b\u8fd9\u4e00\u80fd\u529b\uff0c\u6709\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5de5\u5177\uff08\u6bd4\u5982vscode\u4e2d\u7684rst\u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e86\u5355\u7bc7\u6587\u7ae0\u7684\u9884\u89c8\u529f\u80fd\u3002\u7531\u4e8e\u7f3a\u4e4f\u6307\u4ee4\u6269\u5c55\uff0c\u5f88\u663e\u7136Mkdocs\u65e0\u6cd5\u63d0\u4f9bintersphinx\u7684\u529f\u80fd\uff0c\u4f46\u5728\u9879\u76ee\u5185\u7684\u76f8\u4e92\u5f15\u7528\u662f\u5b8c\u5168\u6ee1\u8db3\u8981\u6c42\u7684\u3002</p> <p>\u8fd9\u4e24\u79cd\u6587\u6863\u6784\u5efa\u5de5\u5177\u90fd\u5f97\u5230\u4e86\u6587\u6863\u6258\u7ba1\u5e73\u53f0readthedocs\u548cgit pages\u7684\u652f\u6301\u3002\u5728\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f5c\u8005\u66f4\u63a8\u8350\u4f7f\u7528mkdocs\u53caMarkdown\u8bed\u6cd5\uff0c\u8fd9\u4e5f\u662fppw\u6b63\u5728\u4f7f\u7528\u7684\u6280\u672f\u8def\u7ebf\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#4-sphinx","title":"4. \u4f7f\u7528Sphinx\u6784\u5efa\u6587\u6863","text":""},{"location":"articles/python/best-practice-python/chap10/#41","title":"4.1. \u521d\u59cb\u5316\u6587\u6863\u7ed3\u6784","text":"<p>\u5728\u5b89\u88c5sphinx\u4e4b\u540e\uff0c\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u521d\u59cb\u5316\u6587\u6863:</p> <p><pre><code>$ pip install sphinx \n\n# \u4e0b\u9762\u7684\u547d\u4ee4\u53ea\u80fd\u5728\u4f60\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u6267\u884c\uff01\n$ shpinx-quickstart\n</code></pre> Sphinx\u4f1a\u63d0\u793a\u4f60\u8f93\u5165\u9879\u76ee\u540d\u79f0\u3001\u4f5c\u8005\u3001\u7248\u672c\u7b49\u4fe1\u606f\uff0c\u6700\u7ec8\u751f\u6210docs\u76ee\u5f55\u53ca\u4ee5\u4e0b\u6587\u4ef6\uff1a <pre><code>docs/\ndocs/conf.py\ndocs/index.rst\ndocs/Makefile\ndocs/make.bat\ndocs/_build\ndocs/_static\ndocs/_templates\n</code></pre> \u5982\u679c\u6587\u6863\u4e2d\u4f7f\u7528\u4e86\u56fe\u50cf\u6587\u4ef6\uff0c\u5e94\u8be5\u653e\u5728_static\u76ee\u5f55\u4e0b\u3002</p> <p>\u73b0\u5728\u8fd0\u884c <code>make html</code>\u5c31\u53ef\u4ee5\u751f\u6210\u4e00\u4efd\u6587\u6863\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00<code>_build/index.html</code>\u6765\u9605\u8bfb\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>python -m http.server -d _build/index</code>,\u7136\u540e\u518d\u901a\u8fc7\u6d4f\u89c8\u5668\u6765\u8bbf\u95ee\u9605\u8bfb\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#42","title":"4.2. \u6587\u4ef6\u91cd\u5b9a\u5411","text":"<p>\u6211\u4eec\u4e00\u822c\u628aREADME.rst, AUTHOR.rst, HISTORY.rst\u653e\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u5373\u4e0eSphinx\u7684\u6587\u6863\u6839\u76ee\u5f55\u540c\u7ea7\u3002\u800c\u6309Sphinx\u7684\u8981\u6c42\uff0c\u6587\u6863\u53c8\u5fc5\u987b\u653e\u7f6e\u5728docs\u76ee\u5f55\u4e0b\u3002\u6211\u4eec\u5f53\u7136\u4e0d\u60f3\u540c\u6837\u7684\u6587\u4ef6\uff0c\u5728\u4e24\u4e2a\u76ee\u5f55\u4e0b\u5404\u653e\u7f6e\u4e00\u4efd\u62f7\u8d1d\u3002\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528<code>include</code>\u8bed\u6cd5\uff0c\u6765\u5c06\u7236\u76ee\u5f55\u4e2d\u7684\u540c\u540d\u6587\u4ef6\u5305\u542b\u8fdb\u6765\u3002\u6bd4\u5982\u4e0a\u8ff0index.rst\u4e2d\u7684history\u6587\u4ef6\uff1a <pre><code># content of docs/history.rst\n\n.. include:: ../HISTORY.rst\n</code></pre> \u8fd9\u6837\u5c31\u907f\u514d\u4e86\u540c\u4e00\u4efd\u6587\u4ef6\uff0c\u51fa\u73b0\u591a\u4e2a\u62f7\u8d1d\u7684\u60c5\u51b5\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#43","title":"4.3. \u4e3b\u63a7\u6587\u6863\u548c\u5de5\u5177\u94fe","text":"<p>\u5982\u679c\u60a8\u662f\u901a\u8fc7Sphinx-quickstart\u6765\u8fdb\u884c\u521d\u59cb\u5316\u7684\uff0c\u5b83\u7684\u5411\u5bfc\u4f1a\u5f15\u60a8\u8fdb\u884c\u4e00\u4e9b\u5de5\u5177\u94fe\u7684\u914d\u7f6e\uff0c\u6bd4\u5982\u8c61autodoc(\u7528\u4e8e\u751f\u6210API\u6587\u6863)\u3002\u4e3a\u4e86\u5b8c\u5907\u8d77\u89c1\uff0c\u6211\u4eec\u8fd8\u662f\u518d\u63d0\u4e00\u4e0b\u8fd9\u4e2a\u8bdd\u9898\u3002</p> <p>Sphinx\u5728\u6784\u5efa\u6587\u6863\u65f6\uff0c\u9700\u8981\u4e00\u4e2a\u4e3b\u63a7\u6587\u6863\uff0c\u4e00\u822c\u662findex.rst:</p> <pre><code>\u6587\u6863Title\n==========\n\n.. toctree::\n   :maxdepth: 2\n\n   deployment\n   usage\n   api\n   contributing\n   authors\n   history\n\nIndices and tables\n==================\n* :ref:`genindex`\n* :ref:`modindex`\n* :ref:`search`\n</code></pre> <p>Sphinx\u901a\u8fc7\u4e3b\u63a7\u6587\u6863\uff0c\u628a\u5355\u4e2a\u6587\u6863\u4e32\u8054\u8d77\u6765\u3002 \u4e0a\u9762\u7684toctree\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5165\u53e3\uff08\u6bd4\u5982deployment)\uff0c\u90fd\u5bf9\u5e94\u5230\u4e00\u7bc7\u6587\u6863\uff08\u6bd4\u5982deployment.rst)\u3002\u6b64\u5916\uff0c\u8fd8\u5305\u542b\u4e86\u7d22\u5f15\u548c\u641c\u7d22\u5165\u53e3\u3002</p> <p>\u8c61deployment, usage\u8fd9\u6837\u7684\u6587\u6863\uff0c\u6211\u4eec\u4f9d\u7167rst\u7684\u8bed\u6cd5\u6765\u64b0\u5199\u5c31\u597d\uff0c\u8fd9\u90e8\u5206\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\u3002\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u7279\u522b\u4ecb\u7ecd\u7684\u662fapi\u6587\u6863\uff0c\u5b83\u662f\u901a\u8fc7autodoc\u6765\u751f\u6210\u7684\uff0c\u6709\u81ea\u5df1\u7684\u7279\u6b8a\u8bed\u6cd5\u8981\u6c42\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#44-api","title":"4.4. \u751f\u6210API\u6587\u6863","text":"<p>\u8981\u81ea\u52a8\u751f\u6210API\u6587\u6863\uff0c\u6211\u4eec\u9700\u8981\u914d\u7f6eautodoc\u6269\u5c55\u3002Sphinx\u7684\u914d\u7f6e\u6587\u6863\u662fdocs/conf.py\uff1a</p> <p>docs/conf.py<pre><code># \u8981\u5b9e\u73b0autodoc\u7684\u529f\u80fd\uff0c\u4f60\u7684\u6a21\u5757\u5fc5\u987b\u80fd\u591f\u5bfc\u5165\uff0c\u56e0\u6b64\u5148\u58f0\u660e\u5bfc\u5165\u8def\u5f84\nsys.path.insert(0, os.path.abspath('../src'))\n\n# \u58f0\u660eautodoc\u6269\u5c55\nextensions = [\n  'sphinx.ext.intersphinx',\n  'sphinx.ext.autodoc',\n  'sphinx.ext.doctest'\n]\n</code></pre> \u6ce8\u610f\u5230\u5728<code>index.rst</code>\u4e2d\u6211\u4eec\u58f0\u660e\u4e86\u5bf9<code>api</code>\u6587\u6863\u7684\u5f15\u7528\u3002\u8fd9\u4e2a\u6587\u6863\u7528\u4f5cautodoc\u7684\u6587\u6863\u5165\u53e3\u3002\u4e0b\u9762\u662fapi.rst\u7684\u4e00\u4f8b\uff1a</p> <p><pre><code>Crawler Python API\n==================\n\nGetting started with Crawler is easy.\nThe main class you need to care about is :class:`~crawler.main.Crawler`\n\ncrawler.main\n------------\n\n.. automodule:: crawler.main\n   :members:\n\ncrawler.utils\n-------------\n\n.. testsetup:: *\n\n   from crawler.utils import should_ignore, log\n\n.. automethod:: crawler.utils.should_ignore\n\n.. doctest::\n\n    &gt;&gt;&gt; should_ignore(['blog/$'], 'http://example.com/blog/')\n    True\n</code></pre> \u8fd9\u91cc\u865a\u6784\u4e86\u4e00\u4e2a\u540d\u4e3aCrawler\u7684\u7a0b\u5e8f\uff0c\u5b83\u5171\u6709<code>main</code>\u548c<code>util</code>\u4e24\u4e2a\u6a21\u5757\u3002</p> <p>\u5728\u4e00\u7bc7\u6587\u6863\u91cc\uff0c\u666e\u901arst\u8bed\u6cd5\u3001autodoc\u6307\u4ee4\u548cdoctest\u6307\u4ee4\u662f\u53ef\u4ee5\u76f8\u4e92\u6df7\u7528\u7684\uff0c\u5728\u4e0a\u9762\u7684\u6587\u6863\u91cc\uff0c\u6211\u4eec\u770b\u5230\u4e86\u4e00\u4e9b\u5df2\u7ecf\u719f\u6089\u7684rst\u8bed\u6cd5\uff0c\u6bd4\u5982\u4e00\u7ea7\u6807\u9898\"Crawler Python API\"\u548c\u4e8c\u7ea7\u6807\u9898\"crawler.main\"\u7b49\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u770b\u5230\u4e86autodoc\u7684\u4e00\u4e9b\u6307\u4ee4\u548cdoctest\u7684\u6307\u4ee4\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u6269\u5c55\u6307\u4ee4<code>automodule</code>\u5c06<code>crawler.main</code>\u6a21\u5757\u5f15\u5165, \u8fd9\u6837autodoc\u5c31\u4f1a\u81ea\u52a8\u63d0\u53d6\u8be5\u6a21\u5757\u7684docstring\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u8fd8\u901a\u8fc7\":members:\"\u9009\u9879\u8fdb\u884c\u4e86\u7b5b\u9009\uff0c\u5373\u5c06\u5bfc\u81f4main\u6a21\u5757\u4e2d\u7684\u6210\u5458\uff08\u9012\u5f52\uff09\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\":undoc-members:\"\u6765\u6392\u9664\u90a3\u4e9b\u4e0d\u8fdb\u884c\u6587\u6863\u6ce8\u91ca\u7684\u6210\u5458\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u7684\u6307\u4ee4\u9664\u4e86automodule\u4e4b\u5916\uff0c\u8fd8\u6709autoclass, autodata, autoattribute, autofunction, automethod\u7b49\u3002\u8fd9\u4e9b\u6307\u4ee4\u7684\u7528\u6cd5\u4e0eautomodule\u7c7b\u4f3c\uff0c\u53ea\u662f\u5b83\u4eec\u5206\u522b\u7528\u4e8e\u7c7b\uff0c\u6570\u636e\uff0c\u5c5e\u6027\uff0c\u51fd\u6570\u548c\u65b9\u6cd5\u7684\u6587\u6863\u751f\u6210\u3002</p> <p>\u7b2c16\u884c\u8d77\uff0c\u8fd9\u91cc\u6df7\u6742\u4e86autodoc\u4e0edoctest\u6307\u4ee4\u3002testsetup\u6307\u4ee4\u7528\u4e8e\u5728doctest\u4e2d\u8fdb\u884c\u6d4b\u8bd5\u524d\u7684\u51c6\u5907\u5de5\u4f5c\uff0c\u8fd9\u91cc\u7684\u51c6\u5907\u5de5\u4f5c\u662f\u5bfc\u5165crawler.utils\u6a21\u5757\u3002doctest\u6307\u4ee4\u7528\u4e8e\u6267\u884cdoctest\uff0c\u8fd9\u91cc\u6211\u4eec\u6267\u884c\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u4e86crawler.utils.should_ignore\u51fd\u6570\u7684\u529f\u80fd\u3002</p> <p>\u6700\u540e\uff0c\u5728Sphinx\u8fdb\u884c\u6587\u6863\u6784\u5efa\u65f6\uff0c\u5c31\u4f1a\u5728\u89e3\u6790api.rst\u6587\u6863\u65f6\uff0c\u4f9d\u6b21\u6267\u884cautodoc\u548cdoctest\u6307\u4ee4\uff0c\u5c06\u751f\u6210\u7684\u6587\u6863\u63d2\u5165\u5230api.rst\u6587\u6863\u4e2d\u3002</p> <p>Sphinx\u7684\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u5176\u5b66\u4e60\u66f2\u7ebf\u4e5f\u6bd4\u8f83\u9661\u5ced\u3002\u5728\u5b66\u4e60\u65f6\uff0c\u53ef\u4ee5\u5c06\u5176sphinx\u6559\u7a0b\u4e0esphinx\u6559\u7a0b\u7684\u6e90\u7801\u5bf9\u7167\u8d77\u6765\u770b\uff0c\u8fd9\u6837\u66f4\u5bb9\u6613\u7406\u89e3\u3002</p> <p>\u4f7f\u7528Autodoc\u751f\u6210\u7684API\u6587\u6863\uff0c\u9700\u8981\u6211\u4eec\u9010\u4e2a\u624b\u52a8\u6dfb\u52a0\u5165\u53e3\uff0c\u5c31\u8c61\u4e0a\u9762\u7684<code>.. automodules:: cralwer.main</code>\u90a3\u6837\u3002\u5bf9\u6bd4\u8f83\u5927\u7684\u5de5\u7a0b\uff0c\u8fd9\u6837\u65e0\u7591\u4f1a\u5f15\u5165\u4e00\u5b9a\u7684\u5de5\u4f5c\u91cf\u3002Sphinx\u7684\u5b98\u65b9\u63a8\u8350\u4f7f\u7528sphinx.ext.autosummary\u6269\u5c55\u6765\u81ea\u52a8\u5316\u8fd9\u4e00\u4efb\u52a1\u3002\u524d\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u5728\u8f83\u65e9\u7684\u65f6\u5019\uff0cSphinx\u8fd8\u6709\u4e00\u4e2acli\u5de5\u5177\uff0c\u53ebsphinx-apidoc\u53ef\u4ee5\u7528\u6765\u5b8c\u6210\u8fd9\u4e00\u4efb\u52a1\u3002\u4f46\u6839\u636e\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u4eec\u5e94\u8be5\u8f6c\u800c\u4f7f\u7528<code>sphinx-ext.autosummary</code>\u8fd9\u4e2a\u6269\u5c55\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0creadthedocs\u5b98\u65b9\u8fd8\u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3asphinx-autoapi\u7684\u6269\u5c55\u3002\u4e0eautosummary\u4e0d\u540c\uff0c\u5b83\u5728\u6784\u5efaAPI\u6587\u6863\u65f6\uff0c\u5e76\u4e0d\u9700\u8981\u5bfc\u5165\u6211\u4eec\u7684\u9879\u76ee\u3002\u76ee\u524d\u770b\uff0c\u9664\u4e86\u4e0d\u9700\u8981\u5bfc\u5165\u9879\u76ee\u4e4b\u5916\uff0c\u6ca1\u6709\u4eba\u7279\u522b\u63d0\u5230\u8fd9\u4e2a\u6269\u5c55\u4e0eautosummary\u76f8\u6bd4\u6709\u4f55\u4f18\u52bf\uff0c\u8fd9\u91cc\u4e5f\u5c31\u7b80\u5355\u63d0\u4e00\u4e0b\uff0c\u5927\u5bb6\u53ef\u4ee5\u6301\u7eed\u8ddf\u8e2a\u8fd9\u4e2a\u9879\u76ee\u7684\u8fdb\u5c55\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#45-docstring","title":"4.5. docstring\u7684\u6837\u5f0f","text":"<p>\u5982\u679c\u4e0d\u505a\u4efb\u4f55\u914d\u7f6e\uff0cSphinx\u4f1a\u4f7f\u7528rst\u7684docstring\u6837\u5f0f\u3002\u4e0b\u9762\u662frst\u98ce\u683c\u7684docstring\u793a\u4f8b: <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    :param a: _description_\n    :type a: int\n    :param c: _description_, defaults to [1,2]\n    :type c: list, optional\n    :raises AssertionError: _description_\n    :return: _description_\n    :rtype: _type_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> rst\u98ce\u683c\u7684docstring\u7a0d\u663e\u5197\u957f\u3002\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528google style(\u6700\u7b80)\uff0c\u6216\u8005numpy style\u3002</p> <p>\u4e0b\u9762\u662fgoogle style\u7684docstring\u793a\u4f8b: <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    Args:\n        a (int): _description_\n        c (list, optional): _description_. Defaults to [1,2].\n\n    Raises:\n        AssertionError: _description_\n\n    Returns:\n        _type_: _description_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> \u663e\u7136\uff0cgoogle style\u4f7f\u7528\u7684\u5b57\u6570\u66f4\u5c11\uff0c\u89c6\u89c9\u4e0a\u66f4\u7b80\u6d01\u3002google style\u4e5f\u662f\u53ef\u7f55\u5b66\u9662\uff08khan academy\uff09\u7684\u5b98\u65b9\u63a8\u8350\u98ce\u683c\u3002</p> <p>\u6211\u4eec\u518d\u6765\u770b\u770bnumpy\u98ce\u683c\u7684docstring: <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    Parameters\n    ----------\n    a : int\n        _description_\n    c : list, optional\n        _description_, by default [1,2]\n\n    Returns\n    -------\n    _type_\n        _description_\n\n    Raises\n    ------\n    AssertionError\n        _description_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> \u8fd9\u79cd\u98ce\u683c\u4e5f\u6bd4google style\u8981\u7e41\u590d\u8bb8\u591a\u3002</p> <p>\u8981\u5728\u6587\u6863\u4e2d\u4f7f\u7528\u8fd9\u4e24\u79cd\u6837\u5f0f\u7684docstring\uff0c\u4f60\u9700\u8981\u542f\u7528Napolen\u6269\u5c55\u3002\u5173\u4e8e\u8fd9\u4e24\u79cd\u6837\u5f0f\u7684\u793a\u4f8b\uff0c\u6700\u597d\u7684\u4f8b\u5b50\u6765\u81ea\u4e8eMkApi\u7684\u6587\u6863\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u6ce8\u610f\u5728Sphinx 3.0\u4ee5\u540e\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86Type Hint\uff0c\u5219\u5728\u4e66\u5199docstring\u65f6\uff0c\u4e0d\u5fc5\u5728\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4e0a\u58f0\u660e\u7c7b\u578b\u3002\u6269\u5c55\u5c06\u81ea\u52a8\u4e3a\u4f60\u52a0\u4e0a\u7c7b\u578b\u58f0\u660e\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#46-markdown","title":"4.6. \u6df7\u5408\u4f7f\u7528Markdown","text":"<p>\u591a\u6570\u4eba\u4f1a\u89c9\u5f97rst\u7684\u8bed\u6cd5\u8fc7\u4e8e\u7e41\u7410\uff0c\u56e0\u6b64\u5f88\u81ea\u7136\u5730\uff0c\u6211\u4eec\u5e0c\u671b\u90e8\u5206\u6587\u6863\u4f7f\u7528Markdown\u6765\u4e66\u5199\uff08\u5982\u679c\u4e0d\u80fd\u5168\u90e8\u4f7f\u7528Markdown\u7684\u8bdd\uff09\u3002\u5927\u7ea6\u4ece2018\u5e74\u8d77\uff0creadthedocs\u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3arecommonmark\u7684\u6269\u5c55\uff0c\u4ee5\u652f\u6301\u5728Sphinx\u6784\u5efa\u8fc7\u7a0b\u4e2d\u90e8\u5206\u4f7f\u7528Markdown\u3002</p> <p>\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\u8981\u6ce8\u610f\u7684\u4e00\u4e2a\u95ee\u9898\u662f\uff0cMarkdown\u6587\u4ef6\u5fc5\u987b\u90fd\u5728docs\u76ee\u5f55\u53ca\u5176\u4e0b\u7ea7\u76ee\u5f55\u4e2d\uff0c\u800c\u4e0d\u80fd\u51fa\u73b0\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u8c61README\uff0cHISTORY\u8fd9\u6837\u7684\u6587\u6863\uff0c\u5c31\u5fc5\u987b\u4ecd\u7136\u4f7f\u7528rst\u6765\u5199\uff08\u4ee5\u5229\u7528<code>include</code>\u8bed\u6cd5\u6765\u5305\u542b\u6765\u81ea\u4e0a\u4e00\u7ea7\u7684README)\u3002\u5982\u679c\u8981\u4f7f\u7528Markdown\u7684\u8bdd\uff0c\u5c31\u5fc5\u987b\u4f7f\u7528\u7b26\u53f7\u8fde\u63a5\u5c06\u7236\u76ee\u5f55\u4e2d\u7684README.md\u8fde\u63a5\u5230docs\u76ee\u5f55\u4e0b\uff08recommenmark\u81ea\u5df1\u7684\u6587\u6863\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff09\uff1b\u6216\u8005\u901a\u8fc7Makefile\u7b49\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u5728sphinx build\u4e4b\u524d\uff0c\u5c06\u8fd9\u4e9b\u6587\u6863\u62f7\u8d1d\u5230docs\u76ee\u5f55\u3002</p> <p>\u5728github\u4e0a\u8fd8\u6709\u4e00\u4e2am2r\u7684\u9879\u76ee\uff0c\u53ca\u5176fork m2r2\uff0c\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u4e0d\u8fc7\u5f00\u53d1\u8005\u6020\u4e8e\u7ef4\u62a4\uff0c\u968f\u7740Sphinx\u7248\u672c\u5347\u7ea7\uff0c\u57fa\u672c\u4e0a\u4e0d\u53ef\u7528\u4e86\u3002</p> <p>\u5982\u679c\u60a8\u7684\u9879\u76ee\u5fc5\u987b\u4f7f\u7528rst\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u542f\u7528recommonmark\uff0c\u5b9e\u73b0\u4e24\u79cd\u65b9\u5f0f\u7684\u6df7\u7528\u3002\u901a\u8fc7\u5728recommonmark\u4e2d\u542f\u7528\u4e00\u4e2a\u540d\u4e3aautostructify\u7684\u5b50\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u5c06Markdown\u6587\u4ef6\u4e8b\u524d\u7f16\u8bd1\u6210rst\u6587\u4ef6\uff0c\u518d\u4f20\u7ed9Sphinx\u5904\u7406\uff1b\u66f4\u5999\u7684\u662f\uff0cautostructify\u7ec4\u4ef6\u652f\u6301\u5728Markdown\u4e2d\u5d4c\u5165rst\u8bed\u6cd5\uff0c\u6240\u4ee5\u5373\u4f7f\u4e00\u4e9b\u529f\u80fdMarkdown\u4e0d\u652f\u6301\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c40\u90e8\u4f7f\u7528rst\u6765\u8865\u6551\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#5-mkdocs","title":"5. \u4f7f\u7528Mkdocs\u6784\u5efa\u6587\u6863","text":"<p>mkdocs\u662f\u4e00\u4e2a\u9ad8\u6548\u6613\u7528\u7684\u9759\u6001\u7f51\u7ad9\u6784\u5efa\u5de5\u5177\uff0c\u975e\u5e38\u9002\u5408\u6784\u5efa\u535a\u5ba2\u3001\u6280\u672f\u6587\u6863\u7ad9\u70b9\u3002\u5b83\u6784\u5efa\u7684\u6587\u6863\u7ad9\u70b9\u51e0\u4e4e\u53ef\u4ee5\u88ab\u4efb\u610f\u7f51\u7ad9\u6258\u7ba1\u670d\u52a1\u6240\u6258\u7ba1\uff0c\u5305\u62ecgithub pages\uff0creadthedocs\u7b49\u3002\u5b83\u4f7f\u7528Markdown\u4f5c\u4e3a\u6587\u6863\u683c\u5f0f\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u4e3b\u9898\uff0c\u652f\u6301\u5b9e\u65f6\u9884\u89c8\u3002Mkdocs\u6709\u5f3a\u5927\u7684\u81ea\u5b9a\u4e49\u529f\u80fd\uff08\u901a\u8fc7\u63d2\u4ef6\u548c\u4e3b\u9898\uff09\uff0c\u4ece\u800c\u53ef\u4ee5\u751f\u6210\u98ce\u683c\u591a\u6837\u7684\u7ad9\u70b9\u3002</p> <p>\u5b89\u88c5mkdocs\u4e4b\u540e\uff0c\u53ef\u4ee5\u770b\u4e00\u4e0b\u5b83\u7684\u57fa\u672c\u547d\u4ee4\uff1a</p> <p></p> <p>Mkdocs\u63d0\u4f9b\u4e86\u4e24\u79cd\u5f00\u7bb1\u5373\u7528\u7684\u4e3b\u9898\uff0creadthedocs\u548cmkdocs\u3002\u4f60\u4e5f\u53ef\u4ee5\u5728\u793e\u533a\u91cc\u5bfb\u627e\u66f4\u591a\u7684\u4e3b\u9898\uff0c\u6bd4\u5982material\u4e3b\u9898\u5c31\u662f\u5f53\u524d\u6bd4\u8f83\u53d7\u6b22\u8fce\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u6709\u4e9b\u4e3b\u9898\u5f88\u9002\u5408\u6784\u5efa\u9759\u6001\u7f51\u7ad9\u3002\u8fd9\u7bc7\u6587\u7ae0\u7ed9\u51fa\u4e86\u4e00\u4e2a\u4e0d\u9519\u7684\u6559\u7a0b\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5\u3002</p> <pre><code>$ pip install --upgrade pip\n$ pip install mkdocs\n# \u5b89\u88c5material\u4e3b\u9898\u3002\u5982\u679c\u5ffd\u7565\uff0c\u5c06\u4f7f\u7528readthedocs\u9ed8\u8ba4\u4e3b\u9898\u3002\n$ pip install mkdocs-material \n\n# \u521b\u5efa\u6587\u6863\u7ed3\u6784\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u6267\u884c\n$ mkdocs new PROJECT_NAME\n$ cd PROJECT_NAME\n</code></pre> <p>\u73b0\u5728\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u5e94\u8be5\u591a\u4e86\u4e00\u4e2adocs\u76ee\u5f55\uff0c\u548c\u4e00\u4e2a\u540d\u4e3amkdocs.yaml\u7684\u6587\u4ef6\u3002docs\u76ee\u5f55\u4e0b\u8fd8\u6709\u4e00\u4e2a\u540d\u4e3aindex.md\u7684\u6587\u4ef6\u3002\u5982\u679c\u6b64\u65f6\u8fd0\u884c<code>mkdocs serve -a 0.0.0.0:8000</code>,\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\uff0c\u4f60\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u754c\u9762\uff1a</p> <p></p> <p>Tip</p> <p>\u8bf7\u6ce8\u610f\uff0cMkdocs\u80fd\u63d0\u4f9b\u5b9e\u65f6\u9884\u89c8\u6587\u6863\uff0c\u800c\u4e14\u6709\u5f88\u5feb\u7684\u54cd\u5e94\u901f\u5ea6\u3002\u56e0\u6b64\u5728\u60a8\u7f16\u5199\u6587\u6863\u65f6\uff0c\u53ef\u4ee5\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5b9e\u65f6\u9884\u89c8\u6587\u6863\u7684\u6548\u679c\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#51-mkdocs","title":"5.1. Mkdocs\u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4e0b\u9762\uff0c\u6211\u4eec\u901a\u8fc7<code>ppw</code>\u751f\u6210\u7684mkdocs.yml\u6587\u4ef6\u7684\u4f8b\u5b50\u6765\u770b\u770bmkdocs\u7684\u914d\u7f6e\u6587\u4ef6\u8bed\u6cd5\u3002</p> <pre><code>site_name: sample\nsite_url: http://www.sample.com\nrepo_url: \"https://github.com/zillionare/sample\"\nrepo_name: sample\nsite_description: A great mkdocs sample site\nsite_author: name of the author\n\nnav:\n- home: index.md\n- usage: usage.md\n- modules: api.md\ntheme:\nname: material\nlanguage: en\nlogo: assets/logo.png\nfavicon: assets/favicon.ico\nmarkdown_extensions:\n- pymdownx.emoji:\n    emoji_index: !!python/name:materialx.emoji.twemoji\n    emoji_generator: !!python/name:materialx.emoji.to_svg\n- pymdownx.critic\n- pymdownx.caret\n- pymdownx.mark\n- pymdownx.tilde\n- pymdownx.tabbed\n- attr_list\n- pymdownx.arithmatex:\n    generic: true\n- pymdownx.highlight:\n    linenums: true\n- pymdownx.superfences\n- pymdownx.details\n- admonition\n- toc:\n    baselevel: '2-4'\n    permalink: true\n    slugify: !!python/name:pymdownx.slugs.uslugify\n- meta\nplugins:\n- include-markdown\n- search:\n    lang: en\n- mkdocstrings:\n    watch:\n        - sample\nextra:\nversion:\n    provider: mike\n</code></pre> <p>mkdocs.yml\u7684\u914d\u7f6e\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u7ad9\u70b9\u8bbe\u7f6e\u3001\u6587\u6863\u5e03\u5c40\u3001\u4e3b\u9898\u8bbe\u7f6e\u3001\u6784\u5efa\u5de5\u5177\u8bbe\u7f6e\u548c\u9644\u52a0\u4fe1\u606f\u8fd9\u4e48\u51e0\u9879\u3002</p> <p>\u6587\u6863\u5e03\u5c40\u4ee5\u5173\u952e\u5b57<code>nav</code>\u5f15\u8d77\uff0c\u540e\u9762\u8ddf\u968f\u4e00\u4e2ayaml\u7684\u5217\u8868\uff0c\u5b9a\u4e49\u4e86\u5168\u5c40\u7ad9\u70b9\u5bfc\u822a\u83dc\u5355\u53ca\u5b50\u83dc\u5355\u7ed3\u6784\u3002\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u90fd\u662f\u4e00\u4e2a\u6587\u6863\u7684\u6807\u9898\u548c\u5bf9\u5e94\u7684\u6587\u4ef6\u540d\u3002\u8fd9\u91cc\u7684\u6587\u4ef6\u540d\u662f\u76f8\u5bf9\u4e8edocs\u76ee\u5f55\u7684\u3002\u4f8b\u5982\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c<code>home</code>\u5bf9\u5e94\u7684\u6587\u4ef6\u662f<code>docs/index.md</code>\uff0c<code>usage</code>\u5bf9\u5e94\u7684\u6587\u4ef6\u662f<code>docs/usage.md</code>\uff0c\u7b49\u7b49\u3002</p> <p>\u6ce8\u610f\u8fd9\u91cc\u7684toc\u914d\u7f6e\u9879\u4e2d\u7684baselevel\u3002\u9ed8\u8ba4\u503c\u4e3a<code>2-4</code>\u3002\u6ce8\u610f\u5728HTML5\u89c4\u8303\u4e2d\uff0c\u53ea\u80fd\u5b58\u5728\u4e00\u4e2aH1\u6807\u7b7e\uff08\u6216\u8005Article\u6807\u7b7e\uff09\uff0c\u6240\u4ee5\uff0cToc\u5217\u8868\u4e2d\u7684\u5c42\u7ea7\uff0c\u53ea\u80fd\u4ece\u7b2c2\u7ea7\u5f00\u59cb\u5217\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u60a8\u5728\u64b0\u5199Markdown\u6587\u6863\u65f6\uff0c\u4e5f\u5e94\u8be5\u9075\u5faa\u8fd9\u4e2a\u7ea6\u5b9a\u3002</p> <p>\u6587\u6863\u5e03\u5c40\u652f\u6301\u591a\u7ea7\u5d4c\u5957\uff0c\u6bd4\u5982\uff1a <pre><code>nav:\n    - Home: 'index.md'\n    - 'User Guide':\n        - 'Writing your docs': 'writing-your-docs.md'\n        - 'Styling your docs': 'styling-your-docs.md'\n    - About:\n        - 'License': 'license.md'\n        - 'Release Notes': 'release-notes.md'\n</code></pre> \u4e0a\u8ff0\u914d\u7f6e\u5b9a\u4e49\u4e86\u4e09\u4e2a\u9876\u7ea7\u83dc\u5355\uff0c\u5206\u522b\u662fHome\u3001User Guide\u548cAbout\u3002User Guide\u548cAbout\u53c8\u5206\u522b\u5305\u542b\u4e24\u4e2a\u5b50\u83dc\u5355\u3002\u5f53\u7136\uff0c\u6700\u7ec8\u5982\u4f55\u5c55\u793a\u8fd9\u4e9b\u5185\u5bb9\uff0c\u7531\u4f60\u9009\u62e9\u7684\u4e3b\u9898\u6765\u51b3\u5b9a\u3002</p> <p>\u793a\u4f8b\u4e2d\u7684\u4e3b\u9898\u914d\u7f6e\u7531\u5173\u952e\u5b57'theme'\u5f15\u8d77\uff0c\u4e00\u822c\u5305\u62ec\u4e86\u4e3b\u9898\u540d\u3001\u8bed\u8a00\u3001\u7ad9\u70b9logo\u548c\u56fe\u6807\u7b49\u901a\u7528\u9009\u9879\uff0c\u4e5f\u6709\u4e00\u4e9b\u4e3b\u9898\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u9879\u3002</p> <p>\u6784\u5efa\u5de5\u5177\u8bbe\u7f6e\u4e3b\u8981\u662f\u542f\u7528markdown\u6269\u5c55\u7684\u4e00\u4e9b\u7279\u6027\u548c\u63d2\u4ef6\u3002</p> <p>Mkdocs\u4f7f\u7528\u4e86Python-Markdown\u6765\u6267\u884cmarkdown\u5230html\u7684\u8f6c\u6362\uff0c\u800cPython-Markdown\u672c\u8eab\u53c8\u901a\u8fc7\u6269\u5c55\u6765\u5b9e\u73b0markdown\u6838\u5fc3\u8bed\u6cd5\u4e4b\u5916\u7684\u4e00\u4e9b\u5e38\u7528\u529f\u80fd\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u6784\u5efa\u6280\u672f\u6587\u6863\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u4f7f\u7528\u8fd9\u4e9b\u8bed\u6cd5\u6269\u5c55\uff0c\u6211\u4eec\u9700\u8981\u5728\u8fd9\u4e00\u8282\u4e0b\u542f\u7528\u8fd9\u4e9b\u7279\u6027\u3002</p> <p>\u5728\u4e0a\u8ff0\u914d\u7f6e\u793a\u4f8b\u4e2d\uff0cattr_list, admonition, toc, meta\u662fPython-Markdown\u7684\u5185\u7f6e\u6269\u5c55\uff0c\u6211\u4eec\u76f4\u63a5\u8c61\u793a\u4f8b\u90a3\u6837\u542f\u7528\u5c31\u53ef\u4ee5\u4e86\u3002\u5173\u4e8ePython-Markdown\u63d0\u4f9b\u4e86\u54ea\u4e9b\u5b98\u65b9\u6269\u5c55\uff0c\u53ef\u4ee5\u53c2\u8003\u8fd9\u91cc\u3002\u524d\u9762\u63d0\u5230\uff0cMarkdown\u4e2d\u7684\u56fe\u7247\u8981\u6307\u5b9a\u5bbd\u5ea6\uff0c\u8981\u4e48\u4f7f\u7528html\u6807\u7b7e\uff0c\u8981\u4e48\u901a\u8fc7python-markdown\u6269\u5c55\u3002\u8fd9\u91cc\u7684attr_list\u5c31\u662f\u7528\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u7684\u3002\u5173\u4e8eadmonition\uff0c\u6211\u4eec\u5728markdown\u7684\u8bed\u6cd5\u4e2d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u4e0d\u719f\u6089\u7684\u8bfb\u8005\u53ef\u4ee5\u56de\u5230\u90a3\u4e00\u8282\u518d\u770b\u4e00\u904d\u3002toc\u662f\u7528\u6765\u751f\u6210\u76ee\u5f55\u7684\uff0cmeta\u662f\u7528\u6765\u63d0\u53d6\u6587\u6863\u5143\u6570\u636e\u7684\u3002</p> <p>\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684\u6269\u5c55\u8ddf\u4f7f\u7528\u7b2c\u4e09\u65b9\u4e3b\u9898\u4e00\u6837\uff0c\u6211\u4eec\u5fc5\u987b\u5148\u5b89\u88c5\u8fd9\u4e9b\u6269\u5c55\u3002\u6bd4\u5982\uff0c\u7b2c22\u884c\u7684pymakdownx.critic\u5c31\u6765\u81ea\u4e8e\u7b2c\u4e09\u65b9\u6269\u5c55pymdown-extensions\uff0c\u6211\u4eec\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55\uff0c\u7136\u540e\u624d\u80fd\u5728mkdocs.yml\u4e2d\u542f\u7528\u5b83\u3002critic\u7ed9\u6587\u6863\u63d0\u4f9b\u4e86\u6279\u6ce8\u529f\u80fd\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u793a\u4f8b\uff1a <pre><code>One~Only one thing is impossible for God: To find any sense in any\nDon\u2019t go around saying{\u2010\u2010 to people that\u2010\u2010} the world owes you a living. The\nworld owes you nothing. It was here first. OneOnly one thing is\nimpossible for God: To find any sense in any copyright law on the\nplanet. Truth is stranger than fictiontrue, but it is because\nFiction is obliged to stick to possibilities; Truth isn\u2019t.\n</code></pre></p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u5b9a\u5236mkdocs\uff0c\u4f7f\u4e4b\u66f4\u9002\u5408\u751f\u6210\u6280\u672f\u6587\u6863\u3002\u8fd9\u4e9b\u5b9a\u5236\u4e3b\u8981\u5305\u62ec\uff1a</p> <ol> <li>\u66f4\u6362\u4e3b\u9898</li> <li>\u6587\u6863\u91cd\u5b9a\u5411</li> <li>\u589e\u5f3amarkdown\u529f\u80fd</li> <li>\u81ea\u52a8\u751f\u6210API\u6587\u6863</li> </ol>"},{"location":"articles/python/best-practice-python/chap10/#52","title":"5.2. \u66f4\u6362\u4e3b\u9898","text":"<p>mkdocs\u63d0\u4f9b\u4e86\u4e24\u79cd\u5f00\u7bb1\u5373\u7528\u7684\u4e3b\u9898\uff0c\u5373mkdocs\u548creadthedocs\u3002\u540e\u8005\u662f\u5bf9readthedocs\u7684\u4e3b\u9898\u7684\u590d\u5236\u3002Mkdocs\u7684\u5b98\u7f51\u4f7f\u7528\u7684\u4e3b\u9898\u5c31\u662fmkdocs\uff0c\u6240\u4ee5\uff0c\u8003\u8651\u9009\u62e9\u8fd9\u4e2a\u4e3b\u9898\u7684\u8bfb\u8005\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u7684\u5b98\u7f51\u6765\u4e86\u89e3\u8fd9\u79cd\u4e3b\u9898\u7684\u98ce\u683c\u548c\u6837\u5f0f\u3002</p> <p>\u9664\u4e86\u8fd9\u4e24\u79cd\u4e3b\u9898\u5916\uff0cmaterial\u662f\u5f53\u524d\u6bd4\u8f83\u53d7\u6b22\u8fce\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u8fd9\u4e2a\u4e3b\u9898\u4e5f\u5f97\u5230\u4e86FastAPI\u5f00\u53d1\u8005\u7684\u9ad8\u5ea6\u8bc4\u4ef7:</p> <p>Quote</p> <p>\u8bb8\u591a\u4eba\u559c\u6b22FastAPI, Typer\u548cSQLModel\u7684\u539f\u56e0\u4e4b\u4e00\u662f\u5176\u6587\u6863\u3002\u6211\u82b1\u4e86\u5f88\u591a\u65f6\u95f4\uff0c\u6765\u4f7f\u5f97\u8fd9\u4e9b\u9879\u76ee\u7684\u6587\u6863\u6613\u4e8e\u5b66\u4e60\u3001\u80fd\u88ab\u5feb\u901f\u7406\u89e3\u3002\u8fd9\u91cc\u7684\u5173\u952e\u56e0\u7d20\u662fMaterial for Mkdocs\u63d0\u4f9b\u4e86\u4e30\u5bcc\u591a\u6837\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u6211\u5f88\u5bb9\u6613\u5411\u8bfb\u8005\u89e3\u91ca\u548c\u5c55\u793a\u5404\u79cd\u5404\u6837\u7684\u5185\u5bb9\u3002\u540c\u6837\u5730\uff0c\u7ed3\u6784\u5316\u5728Material\u4e2d\u4e5f\u5f88\u5bb9\u6613\u3002\u4f7f\u7528\u7b80\u5355\u3001\u5929\u751f\u7f8e\u89c2\uff0c\u8ba9\u8bfb\u8005\u6c89\u6d78\u5176\u4e2d\u3002</p> <p>\u8981\u66f4\u6362\u4e3b\u9898\u4e3aMaterial\uff0c\u9996\u5148\u6211\u4eec\u5f97\u5b89\u88c5mkdocs-material\u5305\uff0c\u518d\u5728mkdocs.yaml\u4e2d\u6307\u5b9a\u4e3b\u9898\u4e3amaterial:</p> <p><pre><code>pip install mkdocs-material\n</code></pre> \u7136\u540e\u6211\u4eec\u9700\u8981\u5728mkdocs.yml\u4e2d\u6307\u5b9a\u4e3b\u9898\u4e3amaterial: <pre><code>site_name: An amazing site!\n\nnav: \n  - Home: index.md\n  - \u5b89\u88c5: installation.md\ntheme: readthedocs\n</code></pre></p> <p>Info</p> <p>\u5982\u679c\u60a8\u662f\u4f7f\u7528<code>ppw</code>\u521b\u5efa\u7684\u5de5\u7a0b\uff0c\u5219\u9ed8\u8ba4\u4e3b\u9898\u5df2\u7ecf\u662fmaterial\uff0c\u5e76\u4e14\u4f9d\u8d56\u90fd\u5df2\u5b89\u88c5\u597d\u4e86\u3002</p> <p>Material for Mkdocs\u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b9a\u5236\u9879\uff0c\u5305\u62ec\u66f4\u6539\u5b57\u4f53\u3001\u4e3b\u9898\u989c\u8272\u3001logo\u3001favicon\u3001\u5bfc\u822a\u3001\u9875\u5934(header)\u548c\u9875\u811a(footer)\u7b49\u3002\u5982\u679c\u9879\u76ee\u4f7f\u7528Github\u7684\u8bdd\uff0c\u8fd8\u53ef\u4ee5\u589e\u52a0Giscuss\u4f5c\u4e3a\u8bc4\u8bba\u7cfb\u7edf\u3002</p> <p>Material\u5929\u751f\u652f\u6301\u591a\u7248\u672c\u6587\u6863\u3002\u5b83\u7684\u591a\u7248\u672c\u6587\u6863\u662f\u901a\u8fc7mike\u6765\u5b9e\u73b0\u7684\u3002\u540e\u9762\u6211\u4eec\u8fd8\u8981\u4e13\u95e8\u4ecb\u7ecd\u8fd9\u4e2a\u5de5\u5177\u3002</p> <p>Material\u4e5f\u6709\u5b83\u7684\u4e0d\u8db3\u4e4b\u5904\u3002\u5bf9\u4e2d\u6587\u4f7f\u7528\u8005\u800c\u8a00\uff0c\u6700\u5927\u7684\u4e0d\u8db3\u4e4b\u5904\u662f\u5176\u514d\u8d39\u7248\u8fd8\u4e0d\u652f\u6301\u4e2d\u6587\u641c\u7d22\u3002\u4e2d\u6587\u641c\u7d22\u7684\u652f\u6301\u76ee\u524d\u53ea\u5bf9\u9879\u76ee\u7684\u8d5e\u52a9\u8005\u5f00\u653e\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#53","title":"5.3. \u6587\u4ef6\u91cd\u5b9a\u5411","text":"<p>\u5728Sphinx\u90a3\u4e00\u8282\uff0c\u6211\u4eec\u5df2\u7ecf\u9762\u4e34\u8fc7\u540c\u6837\u7684\u95ee\u9898\uff1a READEME, HISTORY, AUTHORS, LICENSE\u7b49\u51e0\u4e2a\u6587\u4ef6\uff0c\u901a\u5e38\u5fc5\u987b\u653e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff0c\u800csphinx\u5728\u6784\u5efa\u6587\u6863\u65f6\uff0c\u53c8\u53ea\u8bfb\u53d6docs\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <p>Mkdocs\u4e5f\u4e0d\u80fd\u652f\u6301\u8fd9\u79cd\u7ed3\u6784\uff0c\u4e0d\u8fc7\u597d\u5728\u6709\u4e00\u4e2a\u597d\u7528\u7684\u63d2\u4ef6\uff0cmkdocs-include-mkdown-plugin\uff0c\u5728\u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u4fee\u6539index.md\u6587\u4ef6\uff0c\u4f7f\u4e4b\u6307\u5411\u7236\u76ee\u5f55\u7684README:</p> <pre><code>{%\n    include-markdown \"../README.md\"\n% }\n</code></pre> <p>\u4fee\u6539mkdocs.yaml\uff0c\u52a0\u8f7dinclude-markdown\u63d2\u4ef6\uff1a <pre><code>site_name: Omicron\n\nnav: \n  - Home: index.md\n  - \u5b89\u88c5: installation.md\n  - History: history.md\n\ntheme: readthedocs\n\nplugins:\n  - include-markdown\n</code></pre> index.md\u5c06\u8f6c\u6362\u6210\u7f51\u7ad9\u7684\u9996\u9875\u3002\u6211\u4eec\u8ba9index.md\u6307\u5411README.md\uff0c\u4ece\u800c\u4f7f\u5f97README.md\u6210\u4e3a\u7f51\u7ad9\u7684\u9996\u9875\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#54","title":"5.4. \u9875\u9762\u5f15\u7528","text":"<p>\u5728\u4ecb\u7ecdMarkdown\u8bed\u6cd5\u65f6\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u8d85\u94fe\u63a5\u8bed\u6cd5\u3002\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5728\u6587\u6863\u4e2d\u5f15\u7528\u5176\u4ed6\u9875\u9762\uff0c\u751a\u81f3\u662f\u9875\u9762\u5185\u7684\u6807\u9898\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u7528\u5230\u5185\u90e8\u94fe\u63a5\u3002\u5185\u90e8\u94fe\u63a5\u7684\u8bed\u6cd5\u662f\uff1a <pre><code>[\u9875\u9762\u6807\u9898](\u9875\u9762\u8def\u5f84#\u6807\u9898\u951a\u70b9)\n</code></pre> \u8981\u4f7f\u7528\u6807\u9898\u951a\u70b9\uff0c\u5fc5\u987b\u5728\u914d\u7f6e\u4e2d\u542f\u7528toc\u7684\u914d\u7f6e\u3002\u5982\u4e0b\u6240\u793a\uff1a <pre><code>markdown_extensions:\n  - toc:\n      permalink: true\n      toc_depth: 5\n      baselevel: 2\n      slugify: !!python/name:pymdownx.slugs.uslugify\n</code></pre> \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6ce8\u610fslugify\u9879\u7684\u914d\u7f6e\u3002\u8fd9\u4e2a\u914d\u7f6e\u7684\u4f5c\u7528\u662f\u5141\u8bb8\u5728\u951a\u70b9\u4e2d\u4f7f\u7528\u975e\u82f1\u6587\u5b57\u7b26\u3002\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5f15\u7528\u7b2c4\u7ae0ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\uff1a <pre><code>[ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868](chap04.md#ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868)\n</code></pre> \u8fd9\u5c06\u751f\u6210\u4e00\u4e2a\u94fe\u63a5\u3002\u70b9\u51fb\u8fd9\u4e2a\u94fe\u63a5\uff0c\u5c06\u8df3\u8f6c\u5230\u7b2c4\u7ae0\u7684ppw\u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\u7684\u6807\u9898\u5904\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#55-apimkdocstrings","title":"5.5. API\u6587\u6863\u548cmkdocstrings","text":"<p>\u524d\u9762\u5df2\u7ecf\u63d0\u5230\u8fc7\u8fd9\u4e2a\u63d2\u4ef6\uff0c MkApi\u3002\u4f46\u5728\u6211\u4eec\u8bd5\u7528\u4e2d\uff0cMkdocstrings\u7684\u7a33\u5b9a\u6027\u66f4\u597d\uff0c\u793e\u533a\u6d3b\u8dc3\u5ea6\u4e5f\u66f4\u9ad8\u4e00\u4e9b\u3002\u56e0\u6b64\u8fd9\u91cc\u6211\u4eec\u4ec5\u4ecb\u7ecdmkdocstrings\u3002</p> <p>Mkdocstrings\u53ea\u652f\u6301google style\u7684docstring, \u5728\u6837\u5f0f\u4e0a\u652f\u6301\u4e86Material, Readthedocs\u548cmkdocs\u4e09\u79cd\u4e3b\u9898\u3002\u8981\u4f7f\u7528mkdocstrings\uff0c\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55: <pre><code>poetry add mkdocstrings\n</code></pre> \u518d\u5728mkdocs.yaml\u4e2d\u914d\u7f6e\uff1a <pre><code>plugins:\n  - mkdocstrings:\n      watch:\n        - sample\n</code></pre> mkdocstrings\u6709\u4ee5\u4e0b\u529f\u80fd\u7279\u6027\uff1a</p>"},{"location":"articles/python/best-practice-python/chap10/#551","title":"5.5.1. \u4ea4\u53c9\u5f15\u7528","text":"<p>\u6211\u4eec\u5728\u9875\u9762\u5f15\u7528\u91cc\u8bb2\u5230\u7684\u90a3\u4e9b\u5f15\u7528\u5728mkdocstrings\u4e2d\u4e5f\u662f\u652f\u6301\u7684\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u9700\u8981\u5b89\u88c5\u4e00\u4e2a\u540d\u4e3aauto-refs\u7684\u63d2\u4ef6\uff0c\u5e76\u8fdb\u884c\u914d\u7f6e\uff1a <pre><code>plugins:\n    - search\n    - autorefs\n    - mkdocstrings:\n</code></pre> autorefs\u5e76\u4e0d\u9700\u8981\u5b89\u88c5\uff0c\u5b83\u4f1a\u968fmkdocstrings\u5b89\u88c5\u800c\u5b89\u88c5\u3002</p> <p>\u63a5\u4e0b\u6765\u4e3b\u8981\u8bb2\u89e3\u4e00\u4e0b\uff0c\u5982\u4f55\u5f15\u7528\u5230\u51fd\u6570\u3001\u7c7b\u3001\u6a21\u5757\u7684\u6587\u6863\u4e2d\u6765\u3002\u5728mkdocstrings\u4e2d\uff0c\u6b64\u7c7b\u5f15\u7528\u7c7b\u4f3c\u4f7f\u7528markdown\u7684\u5f15\u7528\u8bed\u6cd5\u7684\u98ce\u683c\uff0c\u4f46\u7565\u6709\u4e0d\u540c\u3002\u4e3e\u4f8b\u5982\u4e0b\uff1a <pre><code>With a custom title:\n[`Object 1`][full.path.object1]\n\nWith the identifier as title:\n[full.path.object2][]\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u6b64\u7c7b\u5f15\u7528\u662f\u7531\u4e24\u5bf9\u65b9\u62ec\u53f7\uff0c\u800c\u4e0d\u662f\u7531\u4e00\u5bf9\u65b9\u62ec\u53f7\u52a0\u4e00\u5bf9\u5706\u62ec\u53f7\u7ec4\u6210\u3002\u5176\u4e2d\u7b2c\u4e00\u5bf9\u65b9\u62ec\u53f7\u91cc\u9762\u662f\u6807\u9898\uff0c\u7b2c\u4e8c\u5bf9\u65b9\u62ec\u53f7\u91cc\u9762\u662f\u5f15\u7528\u7684\u5bf9\u8c61\u7684\u8def\u5f84\u3002\u4e5f\u53ef\u4ee5\u53ea\u4f7f\u7528\u7f3a\u7701\u7684\u94fe\u63a5\u6587\u5b57\uff0c\u5373\u5bf9\u8c61\u5b57\u9762\u540d\u3002\u6211\u4eec\u518d\u6765\u89e3\u91ca\u4e00\u4e0b\uff0c\u5f15\u7528\u5bf9\u8c61\u7684\u8def\u5f84\u7684\u542b\u4e49\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5e93\uff0c\u540d\u4e3afoo\uff0c\u4e0b\u9762\u6709\u4e00\u4e2a\u6a21\u5757bar, \u8fd9\u4e2a\u6a21\u5757\u5b9a\u4e49\u4e86\u7c7bBaz\uff0c\u800c\u7c7bBaz\u53c8\u5305\u542b\u4e86\u65b9\u6cd5bark\uff0c\u5219\u5982\u679c\u6211\u4eec\u8981\u5728\u67d0\u4e2a\u65b9\u6cd5\uff08\u6bd4\u5982dog_bark\uff09\u4e2d\u5f15\u7528bark\u65b9\u6cd5\u7684\u6587\u6863\uff0c\u5219dog_bark\u7684\u6587\u6863\u5e94\u8be5\u5982\u4e0b\uff1a <pre><code>def dog_bark(msg: str) -&gt; None:\n    \"\"\" Bark like a dog\n\n        See Also:\n            [Baz.bark][foo.bar.Baz.bark]\n        Args:\n            msg: The message to bark\n    \"\"\"\n    ...\n</code></pre> \u8fd9\u91cc\u5404\u5c42\u7ea7\u5bf9\u8c61\u4e4b\u95f4\u7684\u8fde\u63a5\u7b26\u90fd\u662f\".\"\u3002\u8fd9\u65e2\u7b80\u5316\u4e86\u8bb0\u5fc6\u91cf\uff0c\u4e5f\u7b26\u5408Python\u7684\u52a8\u6001\u7c7b\u578b\u7279\u5f81 -- \u5728Python\u4e2d\uff0c\u4e00\u5207\u90fd\u662f\u5bf9\u8c61\u3002</p> <p>Attention</p> <p>\u5982\u679cfoo.bar.Baz.bark\u8fd9\u4e2a\u51fd\u6570\u5e76\u6ca1\u6709\u6587\u6863\uff0c\u90a3\u4e48\u5c06\u4ea7\u751f\u4e00\u4e2a\u65e0\u6548\u94fe\u63a5\u3002</p> <p>\u5982\u679c\u4f7f\u7528mkdocstrings\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9884\u671f\u4e4b\u5916\u7684\u7ed3\u679c\uff0c\u6bd4\u5982\u65e0\u6cd5\u751f\u6210API\u6587\u6863\uff0c\u8bf7\u68c0\u67e5\u5e76\u786e\u4fdd\u4f60\u7684\u4ee3\u7801\u672c\u8eab\u4e0d\u5b58\u5728\u5bfc\u5165\u9519\u8bef\u7b49\u95ee\u9898\u3002</p> <p>\u5728mkdocstrings 0.14\u4e4b\u540e\uff0c\u8df3\u8f6c\u5230\u67d0\u4e2a\u51fd\u6570\u6587\u6863\u5185\u90e8\u7684\u5b50\u6807\u9898\u7684\u80fd\u529b\u4e5f\u5177\u5907\u4e86\u3002\u57280.16\u4e4b\u540e\uff0c\u5b83\u53c8\u6709\u4e86\u7c7b\u4f3cintersphinx\u90a3\u6837\u8de8\u5de5\u7a0b\u5f15\u7528\u7684\u80fd\u529b\u3002\u5177\u4f53\u5982\u4f55\u4f7f\u7528\uff0c\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#552","title":"5.5.2. \u94fe\u63a5\u5230\u4e3b\u63a7\u6587\u6863","text":"<p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u8981\u5728docs\u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u540d\u4e3aapi.md\u7684\u6587\u6863\uff08\u6587\u4ef6\u540d\u53ef\u4ee5\u4efb\u610f\uff09\uff0c\u5e76\u5728mkdocs.yml\u4e2d<code>nav</code>\u4e00\u8282\u4e2d\u914d\u7f6e\uff1a <pre><code>nav:\n  - home: index.md\n  - installation: installation.md\n  - usage: usage.md\n  - modules: api.md\n</code></pre> \u7136\u540e\uff0c\u5728api.md\u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u9700\u8981\u751f\u6210\u6587\u6863\u7684\u5404\u4e2a\u6a21\u5757\uff1a <pre><code>::: my_package.my_module.MyClass\n    handler: python\n    options:\n      members:\n        - method_a\n        - method_b\n      show_root_heading: false\n      show_source: false\n</code></pre> \u4e0a\u9762\u7684\u793a\u4f8b\u662f\u4e00\u4e2a\u914d\u7f6e\u9879\u6bd4\u8f83\u5b8c\u5168\u7684\u4f8b\u5b50\u3002\u4e00\u822c\u5730\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u8c61\u8fd9\u6837\u914d\u7f6e\uff1a <pre><code>::: sample.models.security\n    rendering:\n        heading_level: 1\n</code></pre> \u8fd9\u6837\u5728\u6a21\u5757omicron.models.security\u4e0b\u7684\u6240\u6709\u7c7b\u548c\u51fd\u6570\u90fd\u4f1a\u88ab\u751f\u6210\u6587\u6863\u3002</p> <p>\u5bf9\u4e8e\u5927\u578b\u5de5\u7a0b\uff0c\u6211\u4eec\u503e\u5411\u4e8e\u5c06API\u6587\u6863\u62c6\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u518d\u901a\u8fc7mkdocs.yml\u5173\u8054\u8d77\u6765\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a <pre><code># mkdocs.yml\nnav:\n  - \u7b80\u4ecb: index.md\n  - \u5b89\u88c5: installation.md\n  - \u6559\u7a0b: usage.md\n  - API\u6587\u6863:\n    - timeframe: api/timeframe.md\n    - triggers: api/triggers.md\n    - security: api/security.md\n</code></pre> \u5bf9\u5e94\u5730\uff0c\u6211\u4eec\u5728docs/api\u76ee\u5f55\u4e0b\u751f\u6210\u4e86security.md\u7b49\u51e0\u4e2a\u6587\u6863\uff0c\u6bcf\u4e2a\u6587\u6863\u4e2d\u90fd\u53ea\u5f15\u5165\u4e86\u81ea\u5df1\u5173\u5fc3\u7684\u6a21\u5757\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#56","title":"5.6. \u591a\u7248\u672c\u53d1\u5e03","text":"<p>\u6211\u4eec\u7684\u8f6f\u4ef6\u59cb\u7ec8\u5728\u4e0d\u65ad\u5730\u8fed\u4ee3\uff0c\u800c\u7528\u6237\u53ef\u80fd\u5e76\u4e0d\u4f1a\u968f\u7740\u6211\u4eec\u7684\u6b65\u4f10\u5347\u7ea7\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u63d0\u4f9b\u591a\u4e2a\u7248\u672c\u7684\u6587\u6863\uff0c\u4ee5\u4fbf\u7528\u6237\u80fd\u591f\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002\u5728mkdocs\u4e2d\uff0c\u8fd9\u4e00\u529f\u80fd\u662f\u7531Mike\u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528mkdocs-material\u4e3b\u9898\uff0c\u5219\u53ea\u9700\u8981\u5728mkdocs.yml\u4e2d\u8fdb\u884c\u914d\u7f6e\u5373\u53ef\uff1a <pre><code>extra:\n  version:\n    provider: mike\n</code></pre> \u8fd9\u4f1a\u4f7f\u5f97\u5728\u6587\u6863\u7684header\u533a\u57df\u51fa\u73b0\u4e00\u4e2a\u7248\u672c\u9009\u62e9\u5668\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap10/#6","title":"6. \u5728\u7ebf\u6258\u7ba1\u6587\u6863","text":"<p>\u6700\u597d\u7684\u6587\u6863\u5206\u53d1\u65b9\u5f0f\u662f\u4f7f\u7528\u5728\u7ebf\u6258\u7ba1\uff0c\u5e76\u4e14\u4e00\u65e6\u6709\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u6587\u6863\u80fd\u7acb\u5373\u5f97\u5230\u66f4\u65b0\uff1b\u5e76\u4e14\uff0c\u65e7\u7684\u7248\u672c\u5bf9\u5e94\u7684\u6587\u6863\u4e5f\u80fd\u5f97\u5230\u4fdd\u7559\u3002Readethedocs\uff08\u4ee5\u4e0b\u79f0RTD\uff09\u662fPython\u6587\u6863\u6700\u91cd\u8981\u7684\u6258\u7ba1\u7f51\u7ad9\uff0c\u4e5f\u662f\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\uff0c\u800cgithub pages\u5219\u662f\u540e\u8d77\u4e4b\u79c0\u3002\u7531\u4e8e\u5b83\u4e0egithub\u6709\u8f83\u597d\u7684\u96c6\u6210\u6027\uff0c\u90e8\u7f72\u66f4\u4e3a\u7b80\u5355\u65b9\u4fbf\uff0c\u56e0\u6b64\u6211\u4eec\u4ee5\u4ecb\u7ecdgithub pages\u4e3a\u4e3b\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#601-read-the-docs","title":"6.0.1. Read the docs","text":"<p>\u5173\u4e8e\u5982\u4f55\u4f7f\u7528read the docs, \u8bf7\u53c2\u8003\u5b83\u7684\u5e2e\u52a9\u6587\u6863\u3002\u8fd9\u91cc\u63d0\u793a\u4e00\u4e0b\u9700\u8981\u6ce8\u610f\u7684\u51e0\u4e2a\u6838\u5fc3\u6982\u5ff5\uff1a</p> <ol> <li>read the docs\u6784\u5efa\u6587\u6863\u7684\u65b9\u5f0f\u662f\uff0c\u5b83\u4ecegithub\u6216\u8005\u5176\u5b83\u5728\u7ebf\u6258\u7ba1\u5e73\u53f0\u62c9\u53d6\u4f60\u7684\u4ee3\u7801\uff0c\u5728\u5b83\u7684\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u6784\u5efa\u3002\u6240\u4ee5\uff0c\u5b83\u5bf9\u6587\u6863\u6784\u5efa\u6280\u672f\u6709\u9009\u62e9\u6027\uff0c\u76ee\u524d\u5b83\u652f\u6301\u7684\u5de5\u5177\u6709Sphinx\u548cMkDocs\u4e24\u79cd\u3002</li> <li>\u6211\u4eec\u5728\u64b0\u5199\u6587\u6863\u65f6\uff0c\u5f80\u5f80\u4f1a\u751f\u6210\u672c\u5730\u9884\u89c8\u6587\u6863\u3002\u4f46\u8fd9\u4efd\u6587\u6863\u4e0eread the docs\u4e0a\u7684\u6587\u6863\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\u672c\u5730\u9884\u89c8\u6b63\u786e\u4e0d\u4ee3\u8868read the docs\u80fd\u751f\u6210\u540c\u6837\u7684\u6587\u4ef6\u3002</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e86read the docs\u81ea\u52a8\u540c\u6b65\u4ee3\u7801\u5e76build\uff0c\u90a3\u4e48\u6bcf\u6b21\u5f80github\u4e0apush\u4ee3\u7801\u65f6\uff0c\u90fd\u4f1a\u89e6\u53d1\u4e00\u6b21build\uff0c\u5e76\u5bfc\u81f4\u6587\u6863\u66f4\u65b0\u3002\u6240\u4ee5\u6b63\u786e\u7684\u505a\u6cd5\u662f\u5c06read the docs\u7ed1\u5b9a\u5230\u7279\u5b9a\u7684\u5206\u652f\u4e0a\uff08\u6bd4\u5982release\u548cmain\uff09\uff0c\u53ea\u6709\u91cd\u8981\u7684\u7248\u672c\u53d1\u5e03\u65f6\uff0c\u624d\u5f80\u8fd9\u4e2a\u5206\u652f\u4e0apush\u4ee3\u7801\uff0c\u4ece\u800c\u89e6\u53d1\u6587\u6863\u7f16\u8bd1\u3002read the docs\u76ee\u524d\u5e76\u4e0d\u652f\u6301tags\u3002</li> <li>read the docs\u7f16\u8bd1\u6587\u6863\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u4f9d\u8d56\u95ee\u9898\u3002\u9996\u5148\u5e94\u8be5\u7ed1\u5b9a\u6784\u5efa\u5de5\u5177(Sphinx\u548cMkdocs)\u7684\u7248\u672c\u3002read the docs\u63d0\u4f9b\u4e86readthedocs.yml\u4ee5\u4f9b\u914d\u7f6e\uff08\u653e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff09\u3002\u6839\u636e\u4f60\u4f7f\u7528\u7684API\u6587\u6863\u751f\u6210\u5de5\u5177\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u5bfc\u5165\u4f60\u7684package\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u4e3a\u4f60\u7684\u6784\u5efa\u5de5\u5177\u6307\u5b9a\u4f9d\u8d56\u3002\u5728\u8fd9\u91cc\u6709\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u677f\u3002</li> <li>\u5728\u6587\u6863\u6784\u5efa\u4e2d\u53ef\u80fd\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u4e3a\u4e86\u5e2e\u52a9\u8c03\u8bd5\uff0cread the docs\u53d1\u5e03\u4e86\u5b98\u65b9docker image\uff0c\u4f9b\u5927\u5bb6\u5728\u672c\u5730\u4f7f\u7528\u3002</li> </ol> <p>\u57fa\u4e8e\u4e0a\u8ff0\u539f\u56e0\uff0c\u6211\u4eec\u66f4\u63a8\u8350\u4f7f\u7528github pages\u6765\u6258\u7ba1\u6587\u6863\uff0c\u5b83\u7684\u7b80\u5355\u6613\u7528\uff0c\u672c\u5730\u4e0e\u670d\u52a1\u7aef\u7684\u4e00\u81f4\u6027\u5c06\u4f1a\u4e3a\u4f60\u8282\u7701\u4e0d\u5c11\u65f6\u95f4\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#602-github-pages","title":"6.0.2. Github Pages","text":"<p>Github Pages\u662fGithub\u63d0\u4f9b\u7684\u9759\u6001\u7ad9\u70b9\u6258\u7ba1\u670d\u52a1\uff0c\u5b83\u7684\u539f\u7406\u662f\uff0c\u7531\u7528\u6237\u5728\u672c\u5730\uff08\u6216\u8005CI\u670d\u52a1\u5668\u4e0a\uff09\u7f16\u8bd1\u597d\u9759\u6001\u7ad9\u70b9\u6587\u4ef6\uff0c\u7b7e\u5165github\u670d\u52a1\u5668\u7684\u67d0\u4e2a\u5206\u652f\uff0c\u518d\u8bbe\u7f6e\u8be5\u5206\u652f\u4e3agithub pages\u8bfb\u53d6\u7684\u5206\u652f\u5373\u53ef\u3002\u8fd9\u6837\u751f\u6210\u7684\u7f51\u7ad9\u4f7f\u7528github.io\u7684\u57df\u540d\uff0c\u652f\u6301https\u8bbf\u95ee\u3002\u5982\u679c\u4f60\u9700\u8981\u4f7f\u7528\u81ea\u5df1\u7684\u57df\u540d\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4fee\u6539\u65b9\u5f0f\u3002</p> <p>\u5728github\u4e0a\u8bbe\u7f6egit pages\uff1a</p> <p></p> <p>\u5f53\u4f7f\u7528\u4e86mkdocs\u4e4b\u540e\uff0c\u5982\u679c\u6211\u4eec\u8981\u4ece\u672c\u5730\u53d1\u5e03\u6587\u6863\uff0c\u53ef\u4ee5\u6267\u884c\uff1a <pre><code>mkdocs gh-deploy\n</code></pre> \u5982\u679c\u4f60\u4f7f\u7528mike\u8fdb\u884c\u591a\u7248\u672c\u53d1\u5e03\uff0c\u5219\u6211\u4eec\u4e0d\u5e94\u8be5\u4f7f\u7528mkdocs\u6765\u8fdb\u884c\u672c\u5730\u53d1\u5e03\uff0c\u800c\u662f\u5e94\u8be5\u4f7f\u7528mike: <pre><code>mike deploy [version] [alias] --push\nmike set-default [version-or-alias]\n</code></pre> \u7b2c1\u884c\u4e2d\uff0c\u6211\u4eec\u4e0d\u4ec5\u6307\u5b9a\u4e86\u7248\u672c\u53f7\uff0c\u8fd8\u7ed9\u5b83\u6307\u5b9a\u4e86\u4e00\u4e2a\u522b\u540d\u3002\u522b\u540d\u6709\u7740\u975e\u5e38\u5b9e\u7528\u7684\u529f\u80fd\u3002\u5728\u542f\u7528\u591a\u7248\u672c\u90e8\u7f72\u4e4b\u540e\uff0c\u94fe\u63a5\u90fd\u4f1a\u5e26\u4e0a\u7248\u672c\u53f7\uff0c\u6bd4\u5982\uff0chttp://.../myproject/0.1.0/topic\u3002\u65b0\u7248\u672c\u53d1\u5e03\u540e\uff0c\u8fd9\u4e9b\u94fe\u63a5\u5fc5\u987b\u8981\u5168\u90e8\u66f4\u6539\uff0c\u5426\u5219\u5c31\u4f1a\u6307\u5411\u8fc7\u65f6\u7684\u6587\u6863\uff08\u5f53\u7136\u4e2a\u522b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u786e\u5b9e\u9700\u8981\u6307\u5411\u65e7\u7684\u7248\u672c\u53f7\uff0c\u4f46\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u90fd\u9700\u8981\u6307\u5411\u6700\u65b0\u7684\u7248\u672c\uff09\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4ece\u4e00\u5f00\u59cb\uff0c\u94fe\u63a5\u5c31\u662fhttps://.../myproject/latest/topic\uff0c\u968f\u7740\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u5b83\u603b\u662f\u6307\u5411\u6700\u65b0\u7684\u90a3\u4e2a\u7248\u672c\u3002</p> <p>\u7b2c2\u884c\u4e2d\uff0c\u6211\u4eec\u6307\u5b9a\u4e86\u9ed8\u8ba4\u7248\u672c\u3002\u5728\u591a\u7248\u672c\u90e8\u7f72\u4e0b\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u7248\u672c\uff0c\u5219\u7528\u6237\u5fc5\u987b\u6307\u5b9a\u660e\u786e\u7684\u7248\u672c\u53f7\u624d\u80fd\u8bbf\u95ee\u6587\u6863\u3002\u4f46\u7528\u6237\u53ef\u80fd\u4e8b\u5148\u5e76\u4e0d\u77e5\u9053\u6700\u65b0\u7684\u7248\u672c\u662f\u54ea\u4e00\u4e2a\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#7","title":"7. \u7ed3\u8bba","text":"<p>Sphinx + rst\u8fd9\u6761\u6280\u672f\u6808\u6bd4\u8f83\u6210\u719f\u7a33\u5b9a\uff0c\u4f46\u5b66\u4e60\u66f2\u7ebf\u6bd4\u8f83\u9661\u5ced\uff0crst\u7684\u4e00\u4e9b\u8bed\u6cd5\u8fc7\u4e8e\u7e41\u7410\uff0c\u6587\u6863\u751f\u6210\u6548\u7387\u4e0d\u9ad8\u3002Mkdocs\u6b63\u5728\u6210\u4e3a\u6784\u5efa\u9759\u6001\u7ad9\u70b9\u548c\u6280\u672f\u6587\u6863\u7684\u65b0\u5de5\u5177\uff0c\u76f8\u5173\u529f\u80fd\u3001\u7279\u6027\u9010\u6e10\u4e30\u5bcc\uff0c\u7248\u672c\u4e5f\u8d8b\u4e8e\u7a33\u5b9a\uff0c\u5efa\u8bae\u8bfb\u8005\u5c1d\u8bd5\u4f7f\u7528\u3002</p> <p>\u4e24\u79cd\u6280\u672f\u6808\u7684\u6bd4\u8f83\u5982\u4e0b\uff1a</p> \u9879\u76ee Sphinx Mkdocs \u8bf4\u660e \u4e3b\u63a7\u6587\u6863 index.rst mkdocs.yml - API\u6587\u6863 autodoc+autosummary mkdocstrings mkdocstrings\u5bf9material\u652f\u6301\u8f83\u597d\uff0c\u8fd8\u672a\u8fbe\u52301.0\u91cc\u7a0b\u7891 \u6587\u6863\u91cd\u5b9a\u5411 rst\u53ef\u652f\u6301 \u901a\u8fc7\u63d2\u4ef6\u652f\u6301 - \u8b66\u793a\u6587\u672c \u652f\u6301 \u901a\u8fc7\u6269\u5c55\u548c\u4e3b\u9898\u652f\u6301 - \u94fe\u63a5 \u6587\u6863\u5185+\u8de8\u9879\u76ee \u4f7f\u7528mkdocstrings\u540e \u540cSphinx \u5b9e\u65f6\u9884\u89c8 \u7b2c\u4e09\u65b9 \u5185\u7f6e mkdocs\u5b9e\u65f6\u9884\u89c8\u66f4\u9ad8\u6548 \u8868\u8fbe\u80fd\u529b \u975e\u5e38\u5f3a\uff0c\u591f\u7528 - \u751f\u4ea7\u6548\u7387 \u4e00\u822c \u9ad8\u6548 -"},{"location":"articles/python/best-practice-python/chap11/","title":"11 \u53d1\u5e03\u5e94\u7528","text":"<p>\u6211\u4eec\u7684\u63a2\u7d22\u4e4b\u65c5\uff0c\u5c31\u8981\u63a5\u8fd1Python\u5f00\u53d1\u6d41\u6c34\u7ebf\u7684\u7ec8\u70b9\u4e86\u3002\u7ec8\u70b9\u7ad9\u7684\u4e3b\u9898\u662f\u5982\u4f55\u6253\u5305\u548c\u53d1\u5e03\u5e94\u7528\u3002</p> <p>Python\u5f00\u53d1\u9879\u76ee\u7684\u6210\u679c\uff0c\u53ef\u80fd\u662f\u4e00\u4e2aPython\u5e93(package)\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u72ec\u7acb\u8fd0\u884c\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u6216\u8005\u540e\u53f0\u670d\u52a1\uff09\u3002</p> <p>Python\u5e93\u4e3b\u8981\u662f\u4f9b\u7a0b\u5e8f\u5458\u4e4b\u95f4\u590d\u7528\u4ee3\u7801\uff08\u5e93\uff09\u6765\u4f7f\u7528\u7684\u3002PyPA\uff08PyPA\u662fPython\u8f6f\u4ef6\u57fa\u91d1\u4f1a -- Python Software Foundation\uff0c\u7b80\u79f0PSF\u8d44\u52a9\u7684\u4e00\u4e2a\u6838\u5fc3\u9879\u76ee\uff09\u901a\u8fc7PyPI\u548c\u4e00\u7cfb\u5217\u5de5\u5177\uff0c\u4e3aPython\u5e93\u7684\u5206\u53d1\u63d0\u4f9b\u4e86\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u548c\u57fa\u7840\u8bbe\u65bd\u3002</p> <p>\u5206\u53d1\u5e94\u7528\u7a0b\u5e8f\u5219\u8981\u590d\u6742\u4e0d\u5c11\u3002\u53d6\u51b3\u4e8e\u6211\u4eec\u4f7f\u7528\u7684\u6846\u67b6\u3001\u6280\u672f\u548c\u7528\u6237\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u9700\u8981\u5206\u53d1\u5230\u670d\u52a1\u5e73\u53f0\uff08Serivce platforms\uff09-- \u8fd9\u4e00\u822c\u9002\u7528\u4e8e\u6784\u5efa\u6258\u7ba1\u7684SaaS\u670d\u52a1\uff0c\u6bd4\u5982\u90a3\u4e9b\u90e8\u7f72\u5728Heroku\uff0c Google App Engine\u5e73\u53f0\u4e0a\u7684\u670d\u52a1\uff1b\u4e5f\u53ef\u80fd\u662f\u90e8\u7f72\u5728\u4e91\u4e0a\uff08\u65e0\u8bba\u662f\u516c\u6709\u4e91\u8fd8\u662f\u79c1\u6709\u4e91\uff09\u7684\u5355\u4e2a\u6216\u8005\u4e00\u7ec4\u76f8\u4e92\u5408\u4f5c\u7684\u5bb9\u5668 -- \u8fd9\u4e9b\u90fd\u662f\u9002\u5408\u4e8e\u670d\u52a1\u7684\u6a21\u5f0f\uff1b\u4e5f\u6709\u53ef\u80fd\u8fd9\u662f\u4e2a\u9762\u5411\u6d88\u8d39\u7ea7\u7528\u6237\u7684App\uff0c\u53ef\u80fd\u9700\u8981\u901a\u8fc7App store, Android\u5e02\u573a\uff0c\u6216\u8005Windows\u5546\u5e97\u6765\u5206\u53d1 -- \u8fd9\u5c31\u8fd8\u6d89\u53ca\u5230\u5411\u5bfc\u5f0f\u5b89\u88c5\u7a0b\u5e8f\u7684\u5236\u4f5c\uff0c\u4ee5\u53ca\u5982\u4f55\u8fd0\u884cPython\u7a0b\u5e8f\u7684\u95ee\u9898\u3002</p> <p>Python\u9879\u76ee\u5e94\u8be5\u4f7f\u7528\u54ea\u79cd\u65b9\u5f0f\u8fdb\u884c\u5206\u53d1\uff0c\u53d6\u51b3\u4e8e\u7528\u6237\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u4ee5\u53ca\u662f\u5426\u6d89\u53ca\u5230\u5b89\u88c5\u5b9a\u5236\u5316\u3002\u4e00\u4e9bPython\u5e93\u53ef\u4ee5\u901a\u8fc7console script\u7684\u65b9\u5f0f\uff0c\u5728\u547d\u4ee4\u884c\u4e0b\u8fd0\u884c\u3002\u5982\u679c\u4e00\u4e2aPython\u5e93\u4ee5<code>pip</code>\u7684\u65b9\u5f0f\u5b89\u88c5\u540e\u65e0\u987b\u914d\u7f6e\u5373\u53ef\u8fd0\u884c\uff0c\u5e76\u4e14\u7528\u6237\u81ea\u5df1\u77e5\u9053\u5982\u4f55\u5b89\u88c5Python\uff08\u53ca\u53ef\u80fd\u4f1a\u521b\u5efa\u865a\u62df\u73af\u5883\uff09\uff0c\u8fd9\u6837\u6765\u5206\u53d1\u5e94\u7528\u4e5f\u662f\u5141\u8bb8\u7684\u3002\u4f46\u5bf9\u591a\u6570\u6d88\u8d39\u7ea7\u5e94\u7528\u7684\u7528\u6237\u800c\u8a00\uff0c\u4ed6\u4eec\u6050\u6015\u5e76\u4e0d\u61c2\u5f97\u5982\u4f55\u901a\u8fc7<code>pip</code>\u6765\u5b89\u88c5\u5e94\u7528\uff0c\u5e76\u5728\u547d\u4ee4\u884c\u4e0b\u542f\u52a8\u5e94\u7528\u3002\u6b64\u5916\uff0c\u901a\u8fc7<code>pip</code>\u5b89\u88c5\u65f6\uff0c\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u63a5\u53d7\u7528\u6237\u8f93\u5165\u662f\u4e0d\u88ab\u5141\u8bb8\u7684\uff0c\u56e0\u6b64\uff0c\u5b89\u88c5\u8fc7\u7a0b\u65e0\u6cd5\u5b9a\u5236\uff08\u6bd4\u5982\uff0c\u7528\u6237\u53ef\u4ee5\u9700\u8981\u9009\u62e9\u5b89\u88c5\u76ee\u7684\u5730\u3001\u6216\u8005\u9700\u8981\u7528\u6237\u8f93\u5165\u8d26\u6237\u4fe1\u606f\u7b49\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#1-python","title":"1. \u4ee5Python\u5e93\u7684\u65b9\u5f0f\u6253\u5305\u548c\u5206\u53d1","text":"<p>\u5728\u7a0b\u5e8f\u5e93\u7684\u5206\u53d1\u4e0a\uff0c\u5f88\u591a\u8bed\u8a00\u90fd\u5efa\u7acb\u4e86\u4e2d\u592e\u5b58\u50a8\u5e93\u548c\u5305\u7ba1\u7406\u5668\u751f\u6001\uff0c\u6bd4\u5982Java\u7684Maven\uff0cRuby\u7684RubyGems\uff0cNode.js\u7684npm\uff0cRust\u7684Cargo\uff0c\u751a\u81f3C/C++\u7684Conan\u3002\u4e0e\u5176\u5b83\u8bed\u8a00\u7c7b\u4f3c\uff0cPython\u5e93\u7684\u5206\u53d1\u4e5f\u662f\u901a\u8fc7\u4e00\u4e2a\u4e2d\u592e\u7d22\u5f15\u5e93(The Python Package Index)\u6765\u5b9e\u73b0\u7684\uff0c\u7b80\u79f0PyPI\uff0c\u542f\u7528\u4e8e2003\u5e74\u3002PyPI\u7684\u542f\u7528\u662fPython\u5f97\u4ee5\u52a0\u901f\u53d1\u5c55\u7684\u91cd\u8981\u56e0\u7d20\uff0c\u56e0\u4e3aPython\u5e7f\u53d7\u6b22\u8fce\u7684\u539f\u56e0\u4e4b\u4e00\u5c31\u662f\u5b83\u7684\u751f\u6001\u7cfb\u7edf\u975e\u5e38\u4e30\u5bcc\uff0cPyPI\u5219\u6b63\u662f\u6784\u5efa\u8fd9\u4e2a\u751f\u6001\u7cfb\u7edf\u7684\u6838\u5fc3\u3002</p> <p>\u8ba9\u6211\u4eec\u628a\u65f6\u95f4\u62c9\u56de\u52302000\u5e74\u3002\u5f53Python 1.6\u53d1\u5e03\u65f6\uff0c\u5b83\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6709\u610f\u601d\u7684\u529f\u80fd\uff0cdistutils\uff0c\u5960\u5b9a\u4e86Python\u7684\u6253\u5305\u5de5\u5177\u7684\u5f00\u7aef\u3002\u5f7c\u65f6\u5b83\u7684\u529f\u80fd\u8fd8\u5f88\u7b80\u5355\uff0c\u53ea\u63d0\u4f9b\u4e86\u7b80\u5355\u7684\u6253\u5305\u529f\u80fd\uff0c\u6ca1\u6709\u58f0\u660e\u4f9d\u8d56\u548c\u81ea\u52a8\u5b89\u88c5\u4f9d\u8d56\u7684\u529f\u80fd\u3002</p> <p>2004\u5e74\uff0c distutils\u6f14\u5316\u6210\u4e3asetuptools\uff0c\u5f15\u5165\u4e86\u65b0\u7684\u6253\u5305\u683c\u5f0f -- egg\u3002\u628a\u5305\u683c\u5f0f\u547d\u4e3aegg\u662f\u4e00\u79cd\u7a0b\u5e8f\u5458\u5f0f\u7684\u6d6a\u6f2b\u548c\u5e7d\u9ed8\uff0c\u56e0\u4e3a\u87d2\u86c7\u662f\u901a\u8fc7\u4e0b\u86cb\u6765\u5b9e\u73b0\u7e41\u6b96\u7684\uff0c\u800cPython\u5e93\u6b63\u662fPython\u5f00\u679d\u6563\u53f6\u7684\u4e00\u4e2a\u91cd\u8981\u8f7d\u4f53\u3002\u540c\u6837\u7684\u7c7b\u6bd4\u5728\u5176\u5b83\u8bed\u8a00\u4e2d\u4e5f\u5b58\u5728\uff0c\u6bd4\u5982Ruby\u8bed\u8a00\u4e0egems\u7684\u5173\u7cfb\u3002 egg\u6587\u4ef6\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2azip\u5305\uff0c\u53ea\u4e0d\u8fc7\u540d\u5b57\u4e0d\u540c\u800c\u5df2\u3002\u8fd9\u4e00\u9636\u6bb5\u7684setuptools\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u7684\u547d\u4ee4\uff0ceasy_install\uff0c\u7528\u6765\u5b89\u88c5python eggs\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u547d\u4ee4\u57282.7\u4e4b\u540e\u5c31\u88ab\u79fb\u9664\u4e86\u3002</p> <p>2008\u5e74\uff0cPyPA\u53d1\u5e03pip\uff0c\u66ff\u6362\u6389\u4e86easy_install\uff0c\u968f\u540e\u5c06\u6253\u5305\u5de5\u5177\u7684\u884c\u4e3a\u6807\u51c6\u5316\u4e3aPEP 438\u3002</p> <p>\u57282012\u5e74\u65f6\uff0c\u968f\u7740PEP 427\u7684\u901a\u8fc7\uff0c\u4e00\u79cd\u65b0\u7684\u6253\u5305\u683c\u5f0f\uff0c\u5373Wheel\u683c\u5f0f\u53d6\u4ee3\u4e86egg\u683c\u5f0f\uff0c\u6210\u4e3a\u6784\u5efa\u548c\u6253\u5305\uff08\u4e8c\u8fdb\u5236\uff09Python\u5e93\u7684\u6807\u51c6\u683c\u5f0f\u3002\u4eca\u5929\u4f60\u4ecd\u7136\u80fd\u770b\u5230Python\u5e93\u5b89\u88c5\u540e\uff0c\u4f1a\u7559\u4e0b.egg-info\u6587\u4ef6\uff0c\u8fd9\u4e2a\u540d\u5b57\u53ea\u662f\u5de8\u87d2\u7ecf\u8fc7\u540e\uff0c\u7559\u4e0b\u7684\u5c81\u6708\u75d5\u8ff9\uff0c\u7531pip\u5728\u5b89\u88c5\u65f6\u4e34\u65f6\u751f\u6210\uff0c\u800c\u4e0eegg\u65e0\u5173\u3002</p> <p>\u5c3d\u7ba1\u5728\u300azen of Python\u300b\u4e2d\u5199\u9053\uff0c\"\u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053\"\uff0c\u4f46\u662f\uff0c\u7406\u60f3\u7167\u8fdb\u73b0\u5b9e\u7684\u8fc7\u7a0b\u603b\u8981\u7ecf\u8fc7\u66f2\u6298\u7684\u6295\u5f71\u3002\u6211\u4eec\u4e00\u8def\u8bb2\u8ff0\u4e0b\u6765\uff0c\u8bfb\u8005\u5df2\u7ecf\u53d1\u73b0\uff0cPython\u5728\u865a\u62df\u73af\u5883\u3001\u4f9d\u8d56\u89e3\u6790\u548c\u6253\u5305\u6784\u5efa\u7b49\u9886\u57df\u90fd\u5148\u540e\u51fa\u73b0\u4e86\u597d\u591a\u4e2a\u65b9\u6848\u6765\u89e3\u51b3\u76f8\u4f3c\u7684\u95ee\u9898\uff0c\u51fa\u73b0\u4e86\u8ba9\u4eba\u83ab\u8877\u4e00\u662f\u7684\u201d\u767e\u82b1\u9f50\u653e\u201c\uff0c\u5982\u679c\u6ca1\u6709\u7ecf\u8fc7\u7cfb\u7edf\u7684\u68b3\u7406\uff0c\u5f88\u591a\u4eba\u4f1a\u96be\u514d\u611f\u5230\u56f0\u60d1\uff0c\u4e0d\u77e5\u9053\u54ea\u4e00\u4e2a\u65b9\u6848\u80fd\u591f\u901a\u5411\u672a\u6765\uff0c\u81ea\u5df1\u638c\u63e1\u7684\u6280\u672f\u4e0e\u8d44\u8baf\uff0c\u662f\u5426\u5df2\u7ecf\u88ab\u793e\u533a\u629b\u5f03\u3002\u597d\u5728Python\u793e\u533a\u73b0\u5728\u5df2\u7ecf\u901a\u8fc7\u4e00\u7cfb\u5217\u7684PEP\u56de\u7b54\u4e86\u6807\u51c6\u95ee\u9898\uff0c\u76f8\u5173\u7684\u5de5\u5177\u548c\u751f\u6001\u9010\u6e10\u5728\u9075\u5faa\u6807\u51c6\u7684\u57fa\u7840\u4e0a\u5efa\u7acb\u8d77\u6765\u4e86\uff0c\u4eca\u540e\u7684\u8fd9\u6837\u7684\u201d\u767e\u82b1\u9f50\u653e\u201c\uff0c\u53ef\u80fd\u4f1a\u5c11\u4e00\u4e9b\u3002\u662f\u5426\u9075\u5faa\u6700\u65b0\u7684PEP\uff0c\u4e5f\u6b63\u662f<code>ppw</code>\u5de5\u5177\u548c\u672c\u4e66\u9009\u62e9\u67d0\u9879\u6280\u672f\u7684\u6807\u5c3a\u3002</p> <p>\u5728<code>ppw</code>\u4e2d\uff0c\u6211\u4eec\u7684\u53d1\u5e03\u662f\u5728Github Actions\u4e2d\u5b8c\u6210\u7684\u3002\u8fd9\u90e8\u5206\u6211\u4eec\u5df2\u7ecf\u5728\u6301\u7eed\u96c6\u6210\u90a3\u4e00\u7ae0\u8bb2\u8fc7\u4e86\u3002\u4e07\u4e00\u4f60\u5b58\u5728\u624b\u5de5\u53d1\u5e03\u7684\u9700\u6c42\uff0c\u90a3\u4e48\u8bf7\u56de\u987e\u57fa\u4e8ePoetry\u8fdb\u884c\u53d1\u884c\u5305\u7684\u6784\u5efa\u90a3\u4e00\u8282\u3002</p> <p>\u8fd9\u91cc\u7b80\u8981\u5730\u63d0\u53ca\u4e00\u4e0b\uff0c\u5728Poetry\u51fa\u73b0\u4e4b\u524d\uff0c\u6211\u4eec\u662f\u5982\u4f55\u53d1\u5e03Python\u5e93\u7684\uff0c\u4ee5\u9632\u8bfb\u8005\u5076\u5c14\u8fd8\u4f1a\u9047\u5230\u9700\u8981\u7ef4\u62a4\u8001\u65e7\u7684Python\u9879\u76ee\u7684\u60c5\u51b5\u3002\u6211\u4eec\u9700\u8981\u901a\u8fc7<code>twine</code>\u8fd9\u4e2a\u547d\u4ee4\u6765\u53d1\u5e03Python\u5e93\u3002\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u901a\u8fc7<code>pip</code>\u6765\u5b89\u88c5\uff1a <pre><code>$ pip install twine\n</code></pre></p> <p>\u5c3d\u7ba1<code>ppw</code>\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u522b\u7684\u6280\u672f\u6765\u53d1\u5e03Python\u5e93\uff0c\u4f46\u8fd9\u4e2a\u547d\u4ee4\u4e5f\u4fdd\u7559\u4e86\u4e0b\u6765\u3002\u7528\u5728<code>poetry build</code>\u4e4b\u540e\uff0c\u68c0\u67e5\u6784\u5efa\u7269\u662f\u5426\u5408\u4e4ePyPI\u7684\u89c4\u5b9a\uff0c\u4ee5\u63d0\u524d\u9884\u9632\u53d1\u5e03\u5931\u8d25\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#11","title":"1.1. \u6253\u5305\u548c\u5206\u53d1\u6d41\u7a0b","text":"<p>\u6253\u5305\u548c\u53d1\u5e03\u662f\u4e00\u4e2a\u4ece\u5f00\u53d1\u8005\u7684\u6e90\u4ee3\u7801\u8d77\uff0c\u5230\u7528\u6237\u53ef\u4ee5\u5b89\u88c5\u5e76\u4f7f\u7528\u7684Python\u5e93\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u7ecf\u5386\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a 1. \u51c6\u5907\u4e00\u4e2a\u5305\u542b\u5c06\u8981\u6253\u5305\u7684\u5e93\u7684\u6e90\u4ee3\u7801\u6811\u3002\u8fd9\u901a\u5e38\u662f\u4ece\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u68c0\u51fa\u3002</p> <ol> <li> <p>\u51c6\u5907\u4e00\u4e2a\u63cf\u8ff0\u5305\u5143\u6570\u636e\uff08\u540d\u79f0\u3001\u7248\u672c\u7b49\uff09\u4ee5\u53ca\u5982\u4f55\u521b\u5efa\u6784\u5efa\u5de5\u4ef6\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u5e93\uff0c\u8fd9\u5c06\u662f\u4e00\u4e2a pyproject.toml \u6587\u4ef6\uff0c\u5728\u6e90\u4ee3\u7801\u6811\u4e2d\u624b\u52a8\u7ef4\u62a4\u3002</p> </li> <li> <p>\u521b\u5efa\u8981\u53d1\u9001\u5230\u5e93\u5206\u53d1\u670d\u52a1\uff08\u901a\u5e38\u662f PyPI\uff09\u7684\u6784\u5efa\u7ed3\u679c\uff1b\u751f\u6210\u5de5\u4f5c\u7684\u683c\u5f0f\u662f\"sdist\"\u548c\uff08\u6216\uff09\"wheel\"\u3002\u8fd9\u4e9b\u662f\u7531\u6784\u5efa\u5de5\u5177\u4f7f\u7528\u4e0a\u4e00\u6b65\u4e2d\u7684\u914d\u7f6e\u6587\u4ef6\u521b\u5efa\u7684\u3002</p> </li> <li> <p>\u5c06\u6784\u5efa\u7684\u7ed3\u679c\u4e0a\u4f20\u5230\u5305\u5206\u53d1\u670d\u52a1\u3002</p> </li> </ol> <p>\u6b64\u65f6\uff0cPython\u5e93\u5c31\u51fa\u73b0\u5728\u4e86\u5206\u53d1\u670d\u52a1\u5668\u4e0a\uff08\u901a\u5e38\u662fPyPI)\u3002\u8981\u4f7f\u7528\u8fd9\u4e2a\u5e93\uff0c\u6700\u7ec8\u7528\u6237\u5fc5\u987b\u4e0b\u8f7d\u548c\u5b89\u88c5\u5b83\u3002\u901a\u5e38\u6211\u4eec\u4f7f\u7528<code>pip</code>\u6765\u5b8c\u6210\u8fd9\u4e2a\u8fc7\u7a0b\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#111-sdistwheel","title":"1.1.1. \u5e93\u683c\u5f0f\uff1asdist\u548cwheel","text":"<p>sdist\u548cwheel\u662f\u4e24\u79cd\u4e0d\u540c\u7684\u6253\u5305\u683c\u5f0f\uff0c\u867d\u7136\u672c\u8d28\u4e0a\uff0c\u5b83\u4eec\u90fd\u662fzip\u683c\u5f0f\uff0c\u6253\u5305\u7684\u5185\u5bb9\u4ecd\u7136\u662fPython\u6e90\u4ee3\u7801\u3002\u4e0d\u540c\u7684\u662f\uff0c\u5728sdist\u4e2d\u4f1a\u5305\u542b\u4e00\u4e2asetup.py\u6587\u4ef6\uff0c\u5982\u679c\u8be5\u9879\u76ee\u8fd8\u5305\u542b\u4e00\u4e9bc\u8bed\u8a00\u7684\u6269\u5c55\uff0c\u90a3\u4e48\u8fd9\u4e9b\u6587\u4ef6\u4e5f\u5c06\u5305\u542b\u5728\u5185\u3002\u5728\u5b89\u88c5\u65f6\uff0csetup.py\u53ca\u5fc5\u8981\u7684\u7f16\u8bd1\u8fc7\u7a0b\u5c06\u5728\u7528\u6237\u73af\u5883\u4e0b\u6267\u884c\uff0c\u56e0\u6b64\uff0csdist\u683c\u5f0f\u7684\u5b89\u5168\u6027\u8f83\u4f4e\u3002\u4e00\u4e2a\u6076\u610f\u7684\u5e93\u53ef\u80fd\u5728setup.py\u4e2d\u5f15\u5165\u4efb\u610f\u7684\u4ee3\u7801\u3002\u4f46\u5b83\u7684\u597d\u5904\u4e5f\u662f\u663e\u7136\u6613\u89c1\uff0c\u5982\u679c\u6709\u4e00\u4e9b\u539f\u751f\u4ee3\u7801\u9700\u8981\u5728\u76ee\u6807\u673a\u5668\u4e0a\u8fdb\u884c\u6784\u5efa\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u6709\u4e00\u4e2a\u673a\u5236\u53bb\u89e6\u53d1\u8fd9\u4e2a\u6784\u5efa\u3002</p> <p>wheel\u5219\u5b8c\u5168\u76f8\u53cd\u3002wheel\u4e2d\u4e0d\u5305\u542b\u4efb\u4f55\u53ef\u6267\u884c\u7684\u5b89\u88c5\u811a\u672c\u3002\u5982\u679c\u9879\u76ee\u4e2d\u5305\u542bc\u6269\u5c55\uff0c\u8fd9\u4e9b\u6269\u5c55\u5c06\u88ab\u4e8b\u5148\u7f16\u8bd1\u540e\uff0c\u518d\u5c06\u5176\u7ed3\u679c\u5305\u542b\u5728wheel\u4e2d\u3002Pip\u5728\u5b89\u88c5wheel\u65f6\uff0c\u53ea\u662f\u7b80\u5355\u7684\u6587\u4ef6\u62f7\u8d1d\u3002</p> <p>\u5728Poetry\u6784\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u4f1a\u540c\u65f6\u751f\u6210sdist\u548cwheel\u683c\u5f0f\u7684\u5b89\u88c5\u5305\uff0c\u5982\u679c\u662fsdist\u683c\u5f0f\uff0cpoetry\u4f1a\u751f\u6210\u4e00\u4e2a\u7b80\u5355\u7684setup.py\u6587\u4ef6\u3002\u5728\u5b89\u88c5\u4e0a\uff0c\u5982\u679c\u6ca1\u6709\u7279\u522b\u6307\u5b9a\uff0cpip\u603b\u662f\u4f18\u5148\u9009\u62e9wheel\u683c\u5f0f\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u65e0\u8bba\u662fsdist\u8fd8\u662fwheel\uff0c\u5b83\u4eec\u7684\u5b89\u88c5\u90fd\u4e0d\u662f\u4f20\u7edf\u610f\u4e49\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u5b89\u88c5\uff0c\u5373\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u90fd\u4e0d\u80fd\u63a5\u53d7\u7528\u6237\u8f93\u5165\uff0c\u5b9e\u73b0\u5b9a\u5236\u3002\u5c3d\u7ba1sdist\u5f53\u4e2d\u5b58\u5728setup.py\u7684\u811a\u672c\u53ef\u4ee5\u6267\u884c\u4efb\u610f\u4ee3\u7801\uff0c\u4f46\u8be5\u811a\u672c\u4ecd\u7136\u65e0\u6cd5\u63a5\u5165\u7528\u6237\u6765\u81ea\u4e8e\u63a7\u5236\u53f0\u7684\u8f93\u5165\u3002\u8fd9\u53ef\u80fd\u662f\u4e0d\u592a\u4e3a\u4eba\u6240\u77e5\u7684\u4e00\u4e2a\u51b7\u77e5\u8bc6\u3002\u603b\u4e4b\uff0csdist\u548cwheel\u662f\u7528\u6765\u6253\u5305\u7a0b\u5e8f\u5e93(package)\u7684\uff0c\u5b83\u4eec\u4e0d\u80fd\u7528\u6765\u6253\u5305\u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#112","title":"1.1.2. \u5206\u53d1\u5305\u7684\u6e90\u6570\u636e","text":"<p>\u5728\u521b\u5efa\u7684\u5206\u53d1\u5e03\u4e2d\uff0c\u5305\u542b\u4e86\u4e00\u4e2a\u540d\u4e3aMETADATA\u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a <pre><code>Metadata-Version: 2.1\nName: sample\nVersion: 0.1.0\nSummary: Skeleton project created by Python Project Wizard (ppw).\nLicense: MIT\nRequires-Python: &gt;=3.8,&lt;3.9\nClassifier: Development Status :: 2 - Pre-Alpha\n...\nClassifier: Programming Language :: Python :: 3.9\nProvides-Extra: dev\n...\nRequires-Dist: black (&gt;=22.3.0,&lt;23.0.0) ; extra == \"test\"\n...\nRequires-Dist: virtualenv (&gt;=20.13.1,&lt;21.0.0) ; extra == \"dev\"\nDescription-Content-Type: text/markdown\n\n# sample\n\nthis is hotfix 533\n...\n\n* TODO\n\n## Credits\n\nThis package was created with the [ppw](https://zillionare.github.io/python-project-wizard) tool...\n</code></pre> \u6587\u4ef6\u5185\u5bb9\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u5220\u8282\u3002</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u4e00\u4e9b\u5b57\u6bb5\u6211\u4eec\u9700\u8981\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002</p> <p>Name\uff0cAuthor\uff0cAuthor-email\uff0cLicense\uff0c Homepage, Keywords, Download-URL\u7b49\u5b57\u6bb5\u7684\u542b\u4e49\u4e0d\u8a00\u81ea\u660e\uff0c\u65e0\u987b\u89e3\u91ca\u3002\u5728\u65e7\u5f0f\u7684\u9879\u76ee\uff08\u5373\u901a\u8fc7setuptools\u6765\u6253\u5305\uff09\u4e2d\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u90fd\u8981\u6307\u5b9a\u5728setup.py\u6587\u4ef6\u4e2d\uff0c\u5e76\u4f20\u9012\u7ed9\u4e00\u4e2a\u540d\u4e3a<code>setup</code>\u7684\u53ef\u4ee5\u63a5\u53d7\u975e\u5e38\u591a\u53c2\u6570\u7684\u51fd\u6570\u3002\u5728\u4f7f\u7528\u4e86Poetry\u7684\u9879\u76ee\u4e2d\uff0cPoetry\u4f1a\u4ecepyproject.toml\u6587\u4ef6\u4e2d\u63d0\u53d6\u3002</p> <p>Platform\u5b57\u6bb5\u7528\u6765\u6307\u5b9a\u7279\u6b8a\u7684\u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42\u3002 Supported-Platform\u5b57\u6bb5\uff0c\u7528\u6765\u6307\u5b9a\u66f4\u8be6\u7ec6\u7684\u64cd\u4f5c\u7cfb\u7edf\u548cCPU\u67b6\u6784\u652f\u6301\uff0c\u6bd4\u5982\u6307\u5b9aLinux\u4e3aRedHat\uff0c\u6216\u8005cpu\u67b6\u6784\u4e3aarm\u7b49\u3002 Summary\u5b57\u6bb5\u6765\u7528\u7b80\u8981\u5730\u63cf\u8ff0\u5305\u7684\u529f\u80fd\u3002\u5728\u4f7f\u7528\u4e86Poetry\u7684\u9879\u76ee\u4e2d\uff0c\u5b83\u63d0\u53d6\u81eadescription\u5b57\u6bb5\u3002\u5728PyPI\u4e0a\uff0c\u5b83\u5c06\u663e\u793a\u5728\u8fd9\u91cc\uff1a</p> <p></p> <p>Description\u548cDescription-Content-Type\u5b57\u6bb5\uff1aDescription\u5b57\u6bb5\u7528\u6765\u8be6\u7ec6\u63cf\u8ff0\u5305\u7684\u4e00\u4e9b\u4fe1\u606f\uff0c\u901a\u5e38\u5f00\u53d1\u8005\u4f1a\u628a\u9879\u76ee\u7684README.md\u53caChange History\u7684\u6587\u4ef6\u5185\u5bb9\u590d\u5236\u5230\u8fd9\u91cc\u3002Description-Content-Type\u5b57\u6bb5\u7528\u6765\u6307\u5b9aDescription\u5b57\u6bb5\u7684\u5185\u5bb9\u7c7b\u578b\uff0c\u652f\u6301\u7684\u7c7b\u578b\u6709Markdown\u548creStructuredText\u4e24\u79cd\u3002\u5728\u4f7f\u7528\u4e86Poetry\u7684\u9879\u76ee\u4e2d\uff0cPoetry\u5c06\u81ea\u52a8\u628aREADME\u7684\u5185\u5bb9\u590d\u5236\u8fdb\u6765\u3002\u5728PyPI\u4e0a\uff0c\u5b83\u5c06\u663e\u793a\u5728\u4e0b\u56fe\u4e2d\u7684\u53f3\u4e0b\u4fa7\uff08\u65b9\u6846\u4e2d\uff09\uff1a</p> <p></p> <p>Classifier\u5b57\u6bb5\uff1a\u5206\u7c7b\u5668\u63cf\u8ff0\u4e86\u8fd9\u4e2a\u9879\u76ee\u7684\u4e00\u4e9b\u5206\u7c7b\u5c5e\u6027\u3002\u8fd9\u4e9b\u5c5e\u6027\u4f1a\u5728PyPI\u4e0a\u663e\u793a\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f5c\u4e3a\u7b5b\u9009\u6761\u4ef6\u6765\u8fdb\u884c\u67e5\u627e\u548c\u8fc7\u6ee4\uff0c\u8bf7\u53c2\u89c1\u4e0b\u56fe\uff1a</p> <p></p> <p>PyPI\u7684\u5206\u7c7b\u7cfb\u7edf\u662f\u4e00\u4e2a\u6811\u5f62\u7ed3\u6784\u3002\u6700\u9876\u5c42\u7684\u5206\u7c7b\u662f\u6846\u67b6\uff08Framework)\uff0c \u4e3b\u9898\uff08Topic\uff09\uff0c\u5f00\u53d1\u72b6\u6001\uff08Development Status\uff09\uff0c\u64cd\u4f5c\u7cfb\u7edf\uff08Operating System\uff09\u7b4910\u4e2a\u5927\u7c7b\u522b\u3002\u5176\u5b9e\uff0cPyPi\u4e0a\u7684\u7b2c\u4e09\u65b9\u5e93\u53ef\u8c13\u6d69\u5982\u70df\u6d77\uff0c\u4eba\u5de5\u67e5\u8be2\u8fd9\u4e9b\u5206\u7c7b\u610f\u4e49\u5e76\u4e0d\u5927\u3002\u8fd9\u4e9b\u5206\u7c7b\u7b26\u6709\u52a9\u4e8ePyPI\u7ec4\u7ec7\u548c\u7ba1\u7406\u6240\u6709\u7684\u5e93\uff0c\u4f46\u5e76\u4e0d\u662f\u5f3a\u5236\u7684\uff0c\u5bf9\u5305\u7684\u5b89\u88c5\u4e5f\u6ca1\u6709\u5e2e\u52a9\u3002\u4f46\u662f\uff0cPyPA\u4ecd\u7136\u63a8\u8350\u5728\u4efb\u4f55\u9879\u76ee\u4e2d\uff0c\u90fd\u81f3\u5c11\u58f0\u660e\u8be5\u5e93\u5de5\u4f5c\u7684Python\u7248\u672c\u3001license, \u64cd\u4f5c\u7cfb\u7edf\u7b49\u3002</p> <p>\u6b64\u5916\uff0c\u65b0\u52a0\u5165\u7684'Typing'\u5206\u7c7b\u7b26\u6bd4\u8f83\u6709\u610f\u601d\u3002\u5b83\u7684\u4f5c\u7528\u662f\u544a\u8bc9PyPI\u8fd9\u4e2a\u9879\u76ee\u662f\u4e00\u4e2a\u7c7b\u578b\u6ce8\u89e3\u7684\u9879\u76ee\u3002\u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u662f\u4e00\u4e2a\u7c7b\u578b\u6ce8\u89e3\u7684\u9879\u76ee\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5728\u9879\u76ee\u7684\u6e90\u4ee3\u7801\u76ee\u5f55\u4e0b\u52a0\u5165py.typed\u6587\u4ef6\uff0c\u5e76\u5728pyproject.toml\u4e2d\u52a0\u5165\u8fd9\u4e2a\u5206\u7c7b\u7b26\uff1a <pre><code>classifiers=[\n    'Typing :: Typed',\n]\n</code></pre></p> <p>Requires-Dist\u5b57\u6bb5\uff1a\u8fd9\u4e2a\u5b57\u6bb5\u7528\u6765\u63cf\u8ff0\u9879\u76ee\u7684\u4f9d\u8d56\u5173\u7cfb\u3002<code>pip</code>\u5728\u5b89\u88c5\u65f6\uff0c\u9700\u8981\u8bfb\u53d6\u8fd9\u4e2a\u5b57\u6bb5\u4ee5\u53d1\u73b0\u54ea\u4e9b\u4f9d\u8d56\u9700\u8981\u5b89\u88c5\u3002 Requires-Python\u5b57\u6bb5\uff1a\u8868\u660e\u8fd9\u4e2a\u9879\u76ee\u9700\u8981\u7684Python\u7248\u672c\u3002</p> <p>\u9057\u61be\u7684\u662f\uff0c\u5c3d\u7ba1\u6bcf\u4e00\u4e2a\u5305\u90fd\u5305\u542b\u4e86\u8fd9\u4e9b\u4fe1\u606f\uff0c\u4f46\u662f\u5bf9\u4e8e\u4e00\u4e9b\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u7279\u522b\u662f\u8c61requires-dist\u8fd9\u6837\u7684\u4fe1\u606f\uff0cPyPI\u5e76\u6ca1\u6709\u5c06\u5176\u63d0\u53d6\u51fa\u6765\u5355\u72ec\u7ba1\u7406\u3002\u5176\u5b83\u8bed\u8a00\u7684\u5e93\u7ba1\u7406\u5668\uff0c\u6bd4\u5982maven\uff0c\u5728\u8fd9\u4e00\u70b9\u4e0a\u505a\u5f97\u66f4\u597d\u3002\u4e3a\u4ec0\u4e48\u8fd9\u662f\u4e00\u4e2a\u9057\u61be\uff0c\u6211\u4eec\u5c06\u5728\u5f88\u5feb\u8bb2\u5230\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#12-testpypipypi","title":"1.2. TestPyPI\u548cPyPI","text":"<p>\u5728<code>ppw</code>\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c<code>dev</code>\u5de5\u4f5c\u6d41\u4e2d\u7684<code>publish</code>\u4efb\u52a1\u4f1a\u5c06\u6784\u5efa\u7269\u53d1\u5e03\u5230TestPyPI\u3002\u8fd9\u662f\u4e00\u4e2a\u4f9b\u6d4b\u8bd5\u7528\u7684PyPI\u3002\u8fd9\u4e48\u505a\u7684\u76ee\u7684\u6709\u4e24\u4e2a\uff0c\u4e00\u6765\u6211\u4eec\u5e0c\u671bCI\u603b\u662f\u8986\u76d6\u5230\u5f00\u53d1\u5168\u8fc7\u7a0b\uff0c\u56e0\u6b64\u6784\u5efa\u548c\u53d1\u5e03\u8fd9\u4e24\u6b65\u4e5f\u4e0d\u5e94\u8be5\u7f3a\u5931\u3002\u4e8c\u6765\uff0c\u5728\u4e00\u4e2a\u5927\u578b\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u540c\u65f6\u5f00\u53d1\u7740\u591a\u4e2a\u76f8\u4e92\u4f9d\u8d56\u7684\u9879\u76ee\uff0c\u6b64\u65f6\u6211\u4eec\u5c31\u9700\u8981\u501f\u52a9testpypi\uff0c\u4f7f\u5f97\u5f53\u67d0\u4e2a\u9879\u76ee\u6709\u4e86\u66f4\u65b0\u7684\u7248\u672c\u3001\u4f46\u53c8\u4e0d\u5230\u6b63\u5f0f\u53d1\u5e03\u9636\u6bb5\u4e4b\u524d\uff0c\u5176\u5b83\u4f9d\u8d56\u4e8e\u5b83\u7684\u9879\u76ee\u4e5f\u80fd\u591f\u4f7f\u7528\u5230\u8fd9\u4e2a\u9879\u76ee\u7684\u6700\u65b0\u7684\u7248\u672c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5728pyproject\u4e2d\u6dfb\u52a0\u7b2c\u4e8c\u4e2a\u6e90\uff0c\u6307\u5411testpypi\uff0c\u8fd9\u6837\u5f53\u6211\u4eec\u6307\u5b9a\u8be5\u9879\u76ee\u7684\u6700\u65b0\u5f00\u53d1\u7248\u672c\u65f6\uff0cpoetry\u5c31\u4f1a\u4ece\u67e5\u627etestpypi\u3002</p> <p>\u6211\u4eec\u6765\u4e3e\u4f8b\u8bf4\u660e\u5982\u4f55\u901a\u8fc7testpypi\u5411\u9879\u76ee\u6dfb\u52a0\u4e00\u4e2a\u975e\u6b63\u5f0f\u53d1\u5e03\u7248\u672c\u3002</p> <p>\u6211\u4eec\u4ee5\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u4e3a\u4f8b\u3002\u8fd9\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u591a\u4e2a\u6a21\u5757\u7684\u5927\u578b\u5e94\u7528\u3002\u5176\u4e2d\uff0c<code>zillionare-omicron</code>\u662f\u6570\u636e\u8bfb\u5199\u7684sdk\uff0c <code>zillionare-omega</code>\u662f\u884c\u60c5\u6570\u636e\u670d\u52a1\u5668\uff0c\u5b83\u4f9d\u8d56\u4e8e<code>zillionare-omicron</code>\u3002\u8fd8\u6709\u8bb8\u591a\u5176\u5b83\u6a21\u5757\uff0c\u4e0d\u8fc7\u8981\u7406\u89e3\u6211\u4eec\u8fd9\u91cc\u7684\u793a\u4f8b\uff0c\u53ea\u9700\u8981\u77e5\u9053\u8fd9\u4e24\u4e2a\u6a21\u5757\u5c31\u591f\u4e86\u3002\u5b9e\u9645\u4e0a\uff0c\u4f60\u53ef\u4ee5\u5b8c\u5168\u4e0d\u77e5\u9053\u4ec0\u4e48\u662f\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\uff0c\u53ea\u9700\u8981\u77e5\u9053\u51e0\u4e2a\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5047\u8bbe<code>zillionare-omicron</code>\u5f53\u524d\u6700\u65b0\u7684\u5f00\u53d1\u7248\u672c\u662f1.2.3a1\u3002<code>zillionare-omicron</code>\u4f7f\u7528\u4e86\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\u65b9\u6848\uff0c\u56e0\u6b64\u4ece\u7248\u672c\u53f7\u4e0a\u6211\u4eec\u5f97\u77e5\uff0c\u8fd9\u4e0d\u662f\u6b63\u5f0f\u7248\u672c\uff0c\u53ea\u4f1a\u53d1\u5e03\u5230testpypi\u4e0a\u53bb\u3002\u5982\u679c\u8981\u5728\u9879\u76ee\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u7248\u672c\uff0c\u6211\u4eec\u9700\u8981\u5148\u5c06testpypi\u6dfb\u52a0\u4e3a\u4e00\u4e2a\u6e90\uff0c\u7136\u540e\u5728<code>pyproject.toml</code>\u4e2d\u6307\u5b9a<code>zillionare-omicron</code>\u7684\u7248\u672c\u4e3a<code>1.2.3a1</code>\u3002\u8fd9\u6837\uff0c\u5f53\u6211\u4eec\u6267\u884c<code>poetry install</code>\u65f6\uff0cpoetry\u5c31\u4f1a\u4ecetestpypi\u4e2d\u67e5\u627e<code>zillionare-omicron</code>\u76841.2.3a1\u7248\u672c\uff0c\u7136\u540e\u5b89\u88c5\u5230\u672c\u5730\u3002</p> <p>\u6211\u4eec\u5728\u7b2c5\u7ae0 poetry\u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406\u90a3\u4e00\u8282\u4ecb\u7ecd\u8fc7\u5982\u4f55\u589e\u52a0\u7b2c\u4e8c\u4e2a\u6e90\u3002\u6211\u4eec\u8fd9\u91cc\u7528\u540c\u6837\u7684\u65b9\u6cd5\u6765\u589e\u52a0testpypi\u6e90\uff1a <pre><code>$ poetry source add -s testpypi https://test.pypi.org/simple\n</code></pre> \u7136\u540e\u6211\u4eec\u7684pyproject.toml\u6587\u4ef6\u4e2d\u5c06\u4f1a\u591a\u8fd9\u6837\u4e00\u9879\uff1a <pre><code>[[tool.poetry.source]]\nname = \"testpypi\"\nurl = \"https://test.pypi.org/simple\"\ndefault = false\nsecondary = true\n</code></pre> \u73b0\u5728\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u5bf9zillionare-omicron\u7684\u5f00\u53d1\u4e2d\u7248\u672c\u7684\u4f9d\u8d56\u52a0\u8fdb\u6765\uff1a <pre><code>$ poetry add -v zillionare-omicron^1.2.3a1\n</code></pre> \u547d\u4ee4\u5c06\u6210\u529f\u6267\u884c\uff0c\u4f60\u53ef\u4ee5\u4ece\u66f4\u65b0\u540e\u7684pyproject.toml\u4e2d\u770b\u5230\u5bf9<code>zillionare-omicron</code>\u7684\u5f15\u7528\u3002\u5982\u679c\u6211\u4eec\u6ca1\u6709\u6dfb\u52a0\u8fd9\u4e2a\u6e90\uff0c\u5219\u4e0a\u8ff0\u547d\u4ee4\u5728\u6267\u884c\u65f6\u4f1a\u62a5\u51fa\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>Using virtualenv: /home/aaron/miniconda3/envs/sample\n\n  ValueError\n\n  Could not find a matching version of package zillionare-omicron\n\n  at ~/miniconda3/envs/sample/lib/python3.8/site-packages/poetry/console/commands/init.py:414 in _find_best_version_for_package\n      410\u2502         )\n      411\u2502 \n      412\u2502         if not package:\n      413\u2502             # TODO: find similar\n    \u2192 414\u2502             raise ValueError(f\"Could not find a matching version of package {name}\")\n      415\u2502 \n      416\u2502         return package.pretty_name, selector.find_recommended_require_version(package)\n      417\u2502 \n      418\u2502     def _parse_requirements(self, requirements: list[str]) -&gt; list[dict[str, Any]]:\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap11/#13-pip-python","title":"1.3. Pip: Python\u5305\u7ba1\u7406\u5de5\u5177","text":"<p>\u4f60\u53ef\u80fd\u611f\u5230\u597d\u5947\uff0c<code>pip</code>\u51e0\u4e4e\u662f\u6240\u6709\u5b66\u4e60Python\u7684\u4eba\u6700\u65e9\u63a5\u89e6\u7684\u51e0\u4e2a\u547d\u4ee4\u4e4b\u4e00\uff0c\u4e5f\u662f\u672c\u4e66\u6700\u65e9\u4f7f\u7528\u7684\u90a3\u4e9b\u547d\u4ee4\u4e4b\u4e00\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u5374\u5b89\u6392\u5230\u4e86\u6700\u540e\u6765\u4ecb\u7ecd\uff1f\u539f\u56e0\u662f\uff0c\u56e0\u4e3a\u5927\u5bb6\u975e\u5e38\u719f\u6089<code>pip</code>\u4e86\uff0c\u6240\u4ee5\u5bf9<code>pip</code>\u7684\u4e00\u822c\u6027\u4ecb\u7ecd\u5df2\u7ecf\u4e0d\u592a\u6709\u5fc5\u8981\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c<code>pip</code>\u540c\u6837\u9762\u4e34\u7740\u4f9d\u8d56\u89e3\u6790\u7684\u95ee\u9898\uff0c\u6700\u9002\u5408\u8ba8\u8bba\u8fd9\u4e2a\u95ee\u9898\u7684\u5730\u65b9\uff0c\u5219\u662f\u5728\u4e86\u89e3\u4e86\u6784\u5efa\u548c\u5206\u53d1\u7cfb\u7edf\u7684\u5168\u8c8c\u4e4b\u540e\u3002</p> <p>\u4f9d\u8d56\u89e3\u6790\u3002\u8fd9\u662f\u6211\u4eec\u53c8\u4e00\u6b21\u63a5\u89e6\u5230\u8fd9\u4e2a\u8bcd\u3002\u4e0a\u4e00\u6b21\u8fd8\u662f\u5728\u8bb2Poetry\u7684\u90a3\u4e00\u7ae0\u3002\u662f\u7684\uff0cPoetry\u53ea\u89e3\u51b3\u4e86\u5f00\u53d1\u9636\u6bb5\u7684\u4f9d\u8d56\u95ee\u9898\uff0c\u5e76\u4e3a\u5b89\u88c5\u9636\u6bb5\u7684\u4f9d\u8d56\u89e3\u6790\u6253\u4e0b\u4e86\u826f\u597d\u57fa\u7840\uff0c\u4f46\u662f\uff0c<code>pip</code>\u4ecd\u7136\u8981\u72ec\u81ea\u9762\u4e34\u4f9d\u8d56\u89e3\u6790\u95ee\u9898\u3002</p> <p>\u4e0b\u9762\u7684\u793a\u4f8b\u6765\u81ea\u4e8e<code>pip</code>\u7684\u6587\u6863\uff1a</p> <p><pre><code>$ pip install tea\nCollecting tea\n  Downloading tea-1.9.8-py2.py3-none-any.whl (346 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 346 kB 10.4 MB/s\nCollecting spoon==2.27.0\n  Downloading spoon-2.27.0-py2.py3-none-any.whl (312 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 312 kB 19.2 MB/s\nCollecting cup&gt;=1.6.0\n  Downloading cup-3.22.0-py2.py3-none-any.whl (397 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 397 kB 28.2 MB/s\nINFO: pip is looking at multiple versions of this package to determine\nwhich version is compatible with other requirements.\nThis could take a while.\n  Downloading cup-3.21.0-py2.py3-none-any.whl (395 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 395 kB 27.0 MB/s\n  Downloading cup-3.20.0-py2.py3-none-any.whl (394 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 394 kB 24.4 MB/s\n  Downloading cup-3.19.1-py2.py3-none-any.whl (394 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 394 kB 21.3 MB/s\n  Downloading cup-3.19.0-py2.py3-none-any.whl (394 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 394 kB 26.2 MB/s\n  Downloading cup-3.18.0-py2.py3-none-any.whl (393 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 393 kB 22.1 MB/s\n  Downloading cup-3.17.0-py2.py3-none-any.whl (382 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 382 kB 23.8 MB/s\n  Downloading cup-3.16.0-py2.py3-none-any.whl (376 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 376 kB 27.5 MB/s\n  Downloading cup-3.15.1-py2.py3-none-any.whl (385 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 385 kB 30.4 MB/s\nINFO: pip is looking at multiple versions of this package to determine\nwhich version is compatible with other requirements.\nThis could take a while.\n  Downloading cup-3.15.0-py2.py3-none-any.whl (378 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 378 kB 21.4 MB/s\n  Downloading cup-3.14.0-py2.py3-none-any.whl (372 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 372 kB 21.1 MB/s\n</code></pre> \u5728\u8fd9\u91cc\uff0c<code>tea</code>\u4f9d\u8d56\u4e8e<code>hot-water</code>, <code>spoon</code>, <code>cup</code>\u3002\u5f53\u5b89\u88c5<code>tea</code>\u65f6\uff0c<code>pip</code>\u4e0b\u8f7d\u4e86\u6700\u65b0\u7684<code>spoon</code>\u548c<code>cup</code>\uff0c\u53d1\u73b0\u4e24\u8005\u4e0d\u517c\u5bb9\uff0c\u4e8e\u662f\u5b83\u4e0d\u5f97\u4e0d\u5411\u524d\u641c\u7d22\u517c\u5bb9\u7684\u7248\u672c\uff0c\u8fd9\u4e2a\u529f\u80fd\u88ab\u79f0\u4e4b\u4e3a\u56de\u6eaf\uff0c\u662f\u4ece20.3\u8d77\u624d\u6709\u7684\u529f\u80fd\u3002\u7531\u4e8e\u4f9d\u8d56\u4fe1\u606f\u4e0d\u80fd\u901a\u8fc7\u67e5\u8be2PyPI\u5f97\u5230\uff0c\u6240\u4ee5\u5b83\u4e0d\u5f97\u4e0d\u4e00\u6b21\u53c8\u4e00\u6b21\u7684\u4e0b\u8f7d\u65e9\u524d\u7248\u672c\u7684\u5305\uff0c\u4ece\u8fd9\u4e9b\u5305\u4e2d\u63d0\u53d6\u4f9d\u8d56\u4fe1\u606f\uff0c\u770b\u662f\u5426\u4e0e<code>spoon</code>\u517c\u5bb9\uff0c\u4e0d\u65ad\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u517c\u5bb9\u7684\u7248\u672c\u3002</p> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u5728Poetry\u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\u65f6\u4e5f\u770b\u5230\u8fc7\u3002\u6211\u4eec\u5728\u7b2c5\u7ae0 poetry\u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406\u4e2d\u89e3\u91ca\u8fc7\uff0cPyPI\u4e0a\u5e76\u6ca1\u6709\u67d0\u4e2a\u5e93\u7684\u4f9d\u8d56\u6811\uff0c\u6240\u4ee5\uff0cPoetry\u8981\u77e5\u9053\u67d0\u4e2a\u5e93\u7684\u4f9d\u8d56\u9879\uff0c\u5c31\u5fc5\u987b\u5148\u628a\u5b83\u4e0b\u8f7d\u4e0b\u6765\u3002\u8fd9\u4e2a\u8bf4\u6cd5\u5176\u5b9e\u53ea\u662f\u90e8\u5206\u6b63\u786e\u3002\u5728\u8bfb\u8fc7\u5206\u53d1\u5305\u7684\u6e90\u6570\u636e\u90a3\u4e00\u8282\u4e4b\u540e\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5df2\u7ecf\u4e0a\u4f20\u5230\u4e86PyPI\uff0c\u53ea\u662f\u7531\u4e8e\u67d0\u4e9b\u5386\u53f2\u539f\u56e0\uff0cPyPI\u5e76\u6ca1\u6709\u628a\u5b83\u4eec\u5355\u72ec\u63d0\u53d6\u51fa\u6765\u4ee5\u4f9b\u4f7f\u7528\u800c\u5df2\u3002</p> <p>\u4eba\u4eec\u82b1\u4e86\u8fd9\u4e48\u591a\u529f\u592b\u6765\u89e3\u51b3\u4f9d\u8d56\u95ee\u9898\uff0c\u770b\u6765\u201d\u4f9d\u8d56\u5730\u72f1\u201c\u4e00\u8bf4\uff0c\u5e76\u975e\u865a\u5984\u3002</p> <p>\u95ee\u9898\u662f\uff0c\u65e2\u7136Poetry\u5728\u6dfb\u52a0\u4f9d\u8d56\u65f6\uff0c\u5df2\u7ecf\u8fdb\u884c\u8fc7\u4e86\u4f9d\u8d56\u89e3\u6790\uff0c\u53c8\u751f\u6210\u4e86lock\u6587\u4ef6\uff0c\u4e3a\u4f55<code>pip</code>\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u4e9b\u4fe1\u606f\uff0c\u8fd8\u8981\u91cd\u65b0\u8fdb\u884c\u4e00\u6b21\u4f9d\u8d56\u89e3\u6790\u5462\uff1f\u73b0\u5728\u8bf7\u4f60\u6253\u5f00<code>sample</code>\u5de5\u7a0b\u6784\u5efa\u51fa\u6765\u7684wheel\u6587\u4ef6\u3002\u6211\u4eec\u8bf4\u8fc7\uff0c\u5b83\u662f<code>zip</code>\u683c\u5f0f\u7684\u538b\u7f29\u6587\u4ef6\u3002\u6253\u5f00\u540e\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>.\n\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py\n\u2514\u2500\u2500 sample-0.1.0.dist-info\n    \u251c\u2500\u2500 LICENSE\n    \u251c\u2500\u2500 METADATA\n    \u251c\u2500\u2500 RECORD\n    \u251c\u2500\u2500 WHEEL\n    \u2514\u2500\u2500 entry_points.txt\n</code></pre> \u6211\u4eec\u5728\u8fd9\u91cc\u627e\u4e0d\u5230\u4efb\u4f55\u8ddfpoetry\u6709\u5173\u7684\u4e1c\u897f\u3002\u8fd9\u5e76\u4e0d\u5947\u602a\uff0c\u6bd5\u7adf\uff0c<code>poetry</code>\u4e0e<code>pip</code>\u4e0d\u5c5e\u4e8e\u540c\u4e00\u4e2a\u5f00\u53d1\u8005\uff0c\u800c<code>poetry</code>\u8fd8\u4e0d\u662f\u6807\u51c6\u5e93\u7684\u4e00\u90e8\u5206\uff0c\u6240\u4ee5<code>pip</code>\u6ca1\u6709\u7406\u7531\u53bb\u7406\u89e3\u4efb\u4f55<code>poetry</code>\u76f4\u63a5\u76f8\u5173\u7684\u4e1c\u897f\u3002\u6240\u6709\u7684\u4f9d\u8d56\u4fe1\u606f\u90fd\u5728METADATA\u8fd9\u4e2a\u6587\u4ef6\u91cc\uff0c\u7279\u522b\u662f<code>Requires-Deps</code>: <pre><code>Requires-Dist: black (&gt;=22.3.0,&lt;23.0.0) ; extra == \"test\"\nRequires-Dist: fire (==0.4.0)\nRequires-Dist: flake8 (==4.0.1) ; extra == \"test\"\nRequires-Dist: flake8-docstrings (&gt;=1.6.0,&lt;2.0.0) ; extra == \"test\"\nRequires-Dist: isort (==5.10.1) ; extra == \"test\"\n</code></pre> \u6211\u4eec\u770b\u5230\uff0c\u6709\u4e00\u4e9b\u4f9d\u8d56\u6307\u5b9a\u4e86\u7cbe\u786e\u7684\u7248\u672c\uff0c\u6709\u7684\u5219\u53ea\u6307\u5b9a\u4e86\u7248\u672c\u8303\u56f4\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u4e0d\u7b49\u5f0f\u8bed\u6cd5\uff08\u8bf7\u89c1Poetry\u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u7684\u76f8\u5173\u547d\u4ee4)\u3002\u6240\u4ee5\uff0c\u5c3d\u7ba1Poetry\u901a\u8fc7lock\u6587\u4ef6\u9501\u5b9a\u4e86\u7cbe\u786e\u7684\u7248\u672c\uff0c\u4f46lock\u6587\u4ef6\u53ea\u4f1a\u5728\u5f00\u53d1\u8005\u4e4b\u95f4\u5171\u4eab\uff0c\u4ee5\u52a0\u5feb\u4ed6\u4eec\u7684\u5f00\u53d1\u73af\u5883\u6784\u5efa\u901f\u5ea6\uff0c\u800c\u4e0d\u4f1a\u53d1\u5e03\u7ed9\u7ec8\u7aef\u7528\u6237\u3002\u53d1\u5e03\u7ed9\u7ec8\u7aef\u7528\u6237\u7684\u4f9d\u8d56\u4fe1\u606f\uff0c\u662fPoetry\u6309\u7167pyproject.toml\u6587\u4ef6\u7684\u5185\u5bb9\u751f\u6210\u7684\uff0c\u4e24\u8005\u8bed\u4e49\u5b8c\u5168\u4e00\u81f4\uff0c\u53ea\u4e0d\u8fc7Poetry\u5141\u8bb8\u5f00\u53d1\u8005\u4f7f\u7528\u5305\u62ec\u901a\u914d\u7b26\u3001\u63d2\u5b57\u7b26\u3001\u6ce2\u6d6a\u7b26\u3001\u4e0d\u7b49\u5f0f\u7b49\u591a\u79cd\u8bed\u6cd5\u6765\u6307\u5b9a\u7248\u672c\u53f7\uff0c\u800c\u5728\u751f\u6210METADATA\u65f6\uff0c\u90fd\u88ab\u8f6c\u6362\u6210\u4e0d\u7b49\u5f0f\u8bed\u6cd5\u800c\u5df2\u3002\u6211\u4eec\u518d\u6765\u56de\u5fc6\u4e00\u4e0bsample\u9879\u76ee\u4e2d\u7684pyproject.toml\u6587\u4ef6\u7684\u76f8\u5173\u90e8\u5206: <pre><code>fire = \"0.4.0\"\n\nblack  = { version = \"^22.3.0\", optional = true}\nisort  = { version = \"5.10.1\", optional = true}\nflake8  = { version = \"4.0.1\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\n</code></pre></p> <p>Poetry\u4e3a\u4f55\u4e0d\u5c06<code>lock</code>\u6587\u4ef6\u4e2d\u9501\u5b9a\u7684\u7248\u672c\u53f7\u5199\u5165\u5230METADATA\u6587\u4ef6\u4e2d\u5462\uff1f\u8fd9\u662f\u56e0\u4e3a\uff0clock\u6587\u4ef6\u5b8c\u5168\u9501\u6b7b\u4e86\u4f9d\u8d56\u7684\u7248\u672c\u53f7\uff0c\u8fd9\u6837\u867d\u7136\u5b89\u88c5\u901f\u5ea6\u53d8\u5feb\uff0c\u4f46\u4e5f\u4f1a\u5bfc\u81f4\u4efb\u4f55\u66f4\u65b0\uff0c\u5c31\u8fde\u5b89\u5168\u66f4\u65b0\u4e5f\u4e0d\u53ef\u7528\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u660e\u767d\u4e86\uff0c\u5728Poetry\u5411\u9879\u76ee\u4e2d\u589e\u52a0\u4e00\u4e2a\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u53d1\u751f\u4e86\u56de\u6eaf\uff0c\u90a3\u4e48\u6781\u6709\u53ef\u80fd\u5728<code>pip</code>\u5b89\u88c5\u65f6\u4e5f\u53d1\u751f\u540c\u6837\u7684\u56de\u6eaf\u3002\u8981\u52a0\u5feb<code>pip</code>\u5b89\u88c5\u7684\u901f\u5ea6\uff0c\u6211\u4eec\u5e94\u8be5\u67e5\u770b<code>poetry.lock</code>\u6587\u4ef6\uff0c\u627e\u51fa\u5176\u9501\u5b9a\u7684\u7248\u672c\uff0c\u4ee5\u5b83\u4e3a\u57fa\u70b9\uff0c\u91cd\u65b0\u6307\u5b9a\u4e00\u4e2a\u6070\u5f53\u7684\u7248\u672c\u8303\u56f4\uff0c\u8fd9\u6837\u53ef\u4ee5\u6781\u5927\u7a0b\u5ea6\u4e0a\u907f\u514d\u5728<code>pip</code>\u5b89\u88c5\u65f6\u53d1\u751f\u56de\u6eaf\u3002</p> <p>\u4e00\u4e2a\u597d\u6d88\u606f\u662f\uff0c\u6839\u636e<code>pip</code>\u7684\u6587\u6863\uff0c\u81f4\u529b\u4e8e\u4e0d\u4e0b\u8f7dPython package\u5c31\u80fd\u5f97\u5230\u5176\u4f9d\u8d56\u4fe1\u606f\u7684\u65b9\u6848\u6b63\u5728\u5de5\u4f5c\u5f53\u4e2d\u3002\u8ba9\u6211\u4eec\u671f\u5f85\u5b83\u7684\u5230\u6765\u5427\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#2","title":"2. \u5e94\u7528\u7a0b\u5e8f\u5206\u53d1","text":"<p>\u5e94\u7528\u7a0b\u5e8f\u7684\u6253\u5305\u5206\u53d1\uff0c\u6309\u5b83\u6700\u7ec8\u5206\u7684\u7684\u76ee\u6807\uff0c\u53c8\u53ef\u5927\u81f4\u5206\u4e3a\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u548c\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f^1\u3002\u524d\u8005\u4e00\u822c\u53ea\u9700\u8981\u501f\u52a9\u4e00\u4e9b\u6253\u5305\u5de5\u5177\uff1b\u540e\u8005\u5f80\u5f80\u8981\u5728\u4e00\u5f00\u59cb\uff0c\u5c31\u8981\u4ece\u6846\u67b6\u5165\u624b\u8fdb\u884c\u652f\u6301\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#21","title":"2.1. \u684c\u9762\u5e94\u7528\u7a0b\u5e8f","text":"<p>Python\u6253\u5305\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u7684\u9009\u9879\u975e\u5e38\u4e4b\u591a\uff0c\u5305\u62ec\u8de8\u5e73\u53f0\u7684\u5982pyInstaller^3, \u8fd8\u6709Nuitka[<sup>8]\uff0cbriefcase^5\uff0c\u4e13\u7528\u4e8eWindows\u7684py2exe^6\u548c\u4e13\u7528\u4e8eMac\u7684py2app[</sup>7]\u7b49\u3002\u6b64\u5916\uff0c\u8fd8\u6709cx_Freeze[^4]\uff0cmakeself^2\u7b49\u3002\u8fd9\u91cc\u6211\u4eec\u5c06\u4ecb\u7ecdmakeself, PyInstaller\uff0cNuikta\u3002</p> <p>\u5728\u4ecb\u7ecd\u8fd9\u4e9b\u5de5\u5177\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u8ba8\u8bba\u4e0b\uff0c\u6253\u5305\u5206\u53d1\u4e00\u4e2a\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u610f\u5473\u7740\u4ec0\u4e48\uff1f\u5f53\u6211\u4eec\u5206\u53d1\u4e00\u4e2aPython\u5e93\u65f6\uff0c\u6211\u4eec\u7684\u7528\u6237\u662f\u7a0b\u5e8f\u5458\uff0c\u4ed6\u4eec\u5e94\u8be5\u638c\u63e1\u8bf8\u5982\u521b\u5efa\u865a\u62df\u73af\u5883\u3001\u5b89\u88c5\u4f9d\u8d56\u7b49\u57fa\u672c\u7684Python\u77e5\u8bc6\u3002\u800c\u5f53\u6211\u4eec\u5206\u53d1\u4e00\u4e2a\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u6211\u4eec\u7684\u7528\u6237\u662f\u666e\u901a\u7528\u6237\uff0c\u4ed6\u4eec\u5f88\u53ef\u80fd\u4e0d\u5177\u5907\u8fd9\u4e9b\u77e5\u8bc6\uff0c\u800c\u4e14\u5f88\u53ef\u80fd\u90fd\u4e0d\u77e5\u9053\u5982\u4f55\u8fd0\u884c\u4e00\u4e2aPython\u7a0b\u5e8f\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5e2e\u4ed6\u4eec\u521b\u5efa\u7a0b\u5e8f\u8fd0\u884c\u7684\u5165\u53e3\uff08\u6bd4\u5982\uff0c\u5c06\u7a0b\u5e8f\u5165\u53e3\u653e\u5230\u542f\u52a8\u83dc\u5355\u3001\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u7b49\uff09\u3002\u6b64\u5916\uff0c\u5728\u5b89\u88c5\u65f6\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u8be2\u95ee\u7528\u6237\u5b89\u88c5\u76ee\u5f55\u3001\u663e\u793a\u5e76\u63a5\u53d7\u8bb8\u53ef\u534f\u8bae\u7b49\u3002\u8fd9\u4e9b\u90fd\u662f\u6253\u5305\u5206\u53d1\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u7684\u57fa\u672c\u8981\u6c42\u3002</p> <p>\u4e0d\u662f\u6240\u6709\u6211\u4eec\u5c06\u4ecb\u7ecd\u7684\u5de5\u5177\uff0c\u90fd\u540c\u6837\u7684\u5177\u6709\u4e0a\u8ff0\u80fd\u529b\uff0c\u8bf7\u8bfb\u8005\u6ce8\u610f\u8fa8\u522b\uff0c\u6839\u636e\u9700\u8981\u505a\u51fa\u9009\u62e9\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#211-makeself","title":"2.1.1. makeself\u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305\uff08\u5185\u542b\u6848\u4f8b\uff09","text":"<p>makeself^2\u662f\u4e00\u4e2a\u53ef\u7528\u4ee5Unix/Linux\u548cMacOs\u4e0b\u7684\u81ea\u89e3\u538b\u5de5\u5177\u3002\u5982\u679c\u7528\u6237\u4f7f\u7528Windoes\uff0c\u5219\u5728\u5b89\u88c5\u4e86cygwin\u7684\u524d\u63d0\u4e0b\uff0c\u4e5f\u53ef\u4f7f\u7528\uff08\u4e0d\u8fc7\u8fd9\u6837\u4e00\u6765\uff0c\u57fa\u672c\u4e0a\u5c31\u5c06\u666e\u901a\u7528\u6237\u6392\u9664\u5728\u5916\u4e86\uff0c\u6240\u4ee5\u5e76\u4e0d\u662f\u597d\u7684\u65b9\u6848\uff09\u3002makeself\u672c\u8eab\u662f\u4e00\u4e2a\u5c0f\u578b shell \u811a\u672c\uff0c\u53ef\u4ece\u6307\u5b9a\u76ee\u5f55\u751f\u6210\u53ef\u81ea\u89e3\u538b\u7684\u538b\u7f29\u6587\u6863\u3002\u751f\u6210\u7684\u6587\u4ef6\u663e\u793a\u4e3a shell \u811a\u672c\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728shell\u4e0b\u542f\u52a8\u6267\u884c\uff0c\u6267\u884c\u540e\uff0c\u8fd9\u4e2a\u538b\u7f29\u6587\u6863\u5c06\u81ea\u884c\u89e3\u538b\u7f29\u5230\u4e00\u4e2a\u4e34\u65f6\u76ee\u5f55\uff0c\u5e76\u6267\u884c\u53ef\u9009\u7684\u4efb\u610f\u547d\u4ee4\uff08\u4f8b\u5982\u5b89\u88c5\u811a\u672c\uff09\u3002\u8fd9\u4e0e\u5728 Windows \u4e16\u754c\u4e2d\u4f7f\u7528 WinZip Self-Extractor \u751f\u6210\u7684\u6863\u6848\u975e\u5e38\u76f8\u4f3c\u3002Makeself \u6863\u6848\u8fd8\u5305\u62ec\u7528\u4e8e\u5b8c\u6574\u6027\u81ea\u6211\u9a8c\u8bc1\u7684\u6821\u9a8c\u548c\uff08CRC \u548c/\u6216 MD5/SHA256 \u6821\u9a8c\u548c\uff09\u3002</p> <p>\u6211\u4eec\u4ecb\u7ecd\u8fd9\u4e2a\u5de5\u5177\uff0c\u662f\u56e0\u4e3a\u5728\u8fd0\u7ef4\u9886\u57df\u5b83\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u5728Github\u4e0a\u4e5f\u6709\u8fc7\u5343stars\u3002\u53e6\u5916\uff0c\u5bf9\u4e8ePython\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u8fd9\u4e2a\u6982\u5ff5\u5f88\u53ef\u80fd\u5e76\u4e0d\u964c\u751f\u3002\u5982\u679c\u4f60\u5728Ubuntu\u4e0b\u5b89\u88c5\u8fc7Anaconda\uff0c\u4f60\u5e94\u8be5\u77e5\u9053\uff0cAnaconda\u7684\u5b89\u88c5\u5305\u5c31\u662f\u4e00\u4e2a\u7c7b\u4f3c\u4e8eshell\u811a\u672c\u7684\u538b\u7f29\u5305\uff0c\u4e0d\u786e\u5b9a\u7684\u662f\uff0c\u5b83\u662f\u7528makeself\u6253\u5305\u7684\uff0c\u8fd8\u662f\u7528\u5176\u5b83\u5de5\u5177\u6253\u5305\u7684\u3002</p> <p>Makeself \u7684\u4f7f\u7528\u65b9\u6cd5\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u51e0\u4e4e\u6ca1\u6709\u5b66\u4e60\u6210\u672c\u3002\u5728Ubuntu\u4e0b\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5: <pre><code>$ sudo apt-get install makeself\n</code></pre> \u5728\u5176\u5b83\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u4ece\u5176\u5b98\u7f51^2\u4e0b\u8f7d\u5b89\u88c5\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>conda</code>\u547d\u4ee4\u6765\u5b89\u88c5\uff1a <pre><code>$ conda install -c conda-forge makeself\n</code></pre></p> <p>\u5b83\u7684\u7528\u6cd5\u5982\u4e0b\uff1a</p> <p><pre><code>$ makeself.sh [args] archive_dir file_name label startup_script [script_args]\n</code></pre> args\u662fMakeself\u7684\u53ef\u9009\u53c2\u6570\u3002\u53c2\u6570\u6bd4\u8f83\u591a\uff0c\u6db5\u76d6\u4e86\u5982\u4f55\u538b\u7f29\u3001\u662f\u5426\u52a0\u5bc6\u3001\u89e3\u538b\u7f29\u884c\u4e3a\u7b49\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4e00\u4e00\u8be6\u8ff0\u3002\u8bf7\u8bfb\u8005\u5728\u9700\u8981\u65f6\u53c2\u8003\u5b98\u65b9\u6587\u6863^2\u3002 archive_dir\u662f\u5305\u542b\u5f52\u6863\u6587\u4ef6\u7684\u76ee\u5f55\u540d\uff0c\u6bd4\u5982\u9879\u76ee\u4e0b\u7684dist\u6587\u4ef6\u5939\uff1bfile_name\u662f\u8981\u521b\u5efa\u7684\u5f52\u6863\u6587\u4ef6\u540d\uff0c\u6bd4\u5982install_sample.sh\uff1blabel\u662f\u5f52\u6863\u6587\u4ef6\u7684\u63cf\u8ff0\uff0c\u6bd4\u5982\u201cInstall sample\u201d;startup_script\u662f\u5f52\u6863\u6587\u4ef6\u89e3\u538b\u540e\u6267\u884c\u7684\u811a\u672c\uff0c\u6bd4\u5982install.sh\uff1bscript_args\u662fstartup_script\u7684\u53c2\u6570\u3002</p> <p>\u4ecd\u4ee5<code>sample</code>\u9879\u76ee\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u811a\u672c\u6765\u5b8c\u6210\u6253\u5305\uff1a <pre><code>#!/bin/bash\n\npoetry build\nrm -rf /tmp/sample\nmkdir /tmp/sample\n\nversion=`poetry version | awk '{print $2}'`\n\necho \"version is $version\"\n# prepare archive\ncp dist/sample-$version-py3-none-any.whl /tmp/sample/\n\n# prepare install script\necho \"#! /bin/bash\" &gt; /tmp/sample/install.sh\necho \"pip install ./sample-$version-py3-none-any.whl\" &gt;&gt; /tmp/sample/install.sh\nchmod +x /tmp/sample/install.sh\n\n# packaging with makeself\nmakeself /tmp/sample install_sample.sh \"sample package made by makeself\" ./install.sh\n</code></pre> \u975e\u5e38\u8f7b\u5de7\u548c\u5e72\u51c0\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u4ecb\u7ecd\u5b83\u7684\u76ee\u7684\u3002\u6211\u4eec\u8fd9\u91cc\u4f7f\u7528\u4e86\u4e00\u4e2a\u540d\u4e3a<code>install.sh</code>\u7684\u811a\u672c\u4f5c\u4e3a\u542f\u52a8\u811a\u672c\u3002\u5728\u8fd9\u4e2a\u811a\u672c\u91cc\uff0c\u6211\u4eec\u4ec5\u4ec5\u6f14\u793a\u4e86\u5982\u4f55\u6267\u884c\u5b89\u88c5\u547d\u4ee4\uff0c\u4e00\u4e2a\u5b89\u6574\u7684\u5b89\u88c5\u811a\u672c\u53ef\u80fd\u9700\u8981\uff1a 1. \u68c0\u67e5\u7b26\u5408\u7248\u672c\u8981\u6c42\u7684Python\u662f\u5426\u53ef\u7528\uff0c\u5982\u679c\u4e0d\u53ef\u7528\uff0c\u4e0b\u8f7d\u5e76\u5b89\u88c5\u3002\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u8be2\u95ee\u7528\u6237\u610f\u89c1\uff0c\u5982\u679c\u7528\u6237\u4e0d\u63a5\u53d7\uff0c\u5219\u9000\u51fa\u5b89\u88c5\u3002 2. \u5b89\u88c5virtualenv\uff0c\u5982\u679c\u5f53\u524d\u73af\u5883\u4e0b\u4e0d\u5b58\u5728\u7684\u8bdd\uff1a<code>pip install virtualenv</code> 3. \u901a\u8fc7<code>virtualenv --no-site-packages venv path/to/your/app</code>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u73af\u5883\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u5728\u6b64\u865a\u62df\u73af\u5883\u4e0b\u8fd0\u884c\u3002\u865a\u62df\u73af\u5883\u7684\u8def\u5f84\u4e5f\u5c06\u662f\u6211\u4eec\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u8fd9\u9700\u8981\u5411\u7528\u6237\u8be2\u95ee\u5e76\u63a5\u6536\u8f93\u5165\u3002\u8fd9\u91cc\u7684\u53c2\u6570<code>--no-site-packages</code>\u7684\u4f5c\u7528\u662f\u4e0d\u5c06\u7cfb\u7edf\u73af\u5883\u4e2d\u7684\u5305\u62f7\u8d1d\u8fc7\u6765\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u5e72\u51c0\u7684\u865a\u62df\u73af\u5883\u3002 4. \u5c06\u89e3\u538b\u540e\u7684\u5e94\u7528\u7a0b\u5e8f\u62f7\u8d1d<code>path/to/your/app</code>\u4e2d\u3002 5. \u5207\u6362\u76ee\u5f55\u5230<code>path/to/your/app</code>\u4e0b\uff0c\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff1a<code>source venv/bin/activate</code> 6. \u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f\uff1a<code>pip install ./sample-$version-py3-none-any.whl</code>\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u8fd9\u4e2awhl\u6587\u4ef6\u4e5f\u53ef\u4ee5\u5220\u9664\u3002 7. \u521b\u5efa\u4e00\u4e2a\u542f\u52a8\u811a\u672c\uff08\u5047\u8bbe\u540d\u5b57\u4e3astart.sh\uff09\uff0c\u8fd9\u4e2a\u542f\u52a8\u811a\u672c\u7684\u4f5c\u7528\u662f\u901a\u8fc7\u865a\u62df\u73af\u5883\u4e2d\u7684python\u6765\u8c03\u7528\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f<code>sample</code>\u3002\u5982\u679c<code>sample</code>\u7a0b\u5e8f\u63d0\u4f9b\u4e86<code>console script</code>\uff0c\u90a3\u4e48\u542f\u52a8\u811a\u672c\u7684\u4efb\u52a1\u5c31\u662f\u76f4\u63a5\u8c03\u7528\u5b83\uff1b\u5426\u5219\uff0c\u5c31\u8981\u770b<code>sample</code>\u7684\u5165\u53e3\u7a0b\u5e8f\u662f\u5982\u4f55\u63d0\u4f9b\u7684\u4e86\u3002\u8fd9\u90e8\u5206\u53ea\u80fd\u4ea4\u7ed9\u8bfb\u8005\u81ea\u884c\u5b8c\u6210\u4e86\u3002 8. \u521b\u5efa\u4e00\u4e2a\u8f6f\u94fe\u63a5\uff0c\u5c06\u542f\u52a8\u811a\u672c\u94fe\u63a5\u5230<code>/usr/local/bin</code>\u4e0b\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u4efb\u4f55\u5730\u65b9\u901a\u8fc7<code>sample</code>\u6765\u542f\u52a8\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4e86\u3002\u547d\u4ee4\u662f: <pre><code>$ sudo ln -s path/to/your/app/start.sh /usr/local/bin/sample\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap11/#212-pyinstallernuitka","title":"2.1.2. PyInstaller\u548cNuitka","text":"<p>\u8fd9\u4e24\u8005\u90fd\u662f\u6253\u5305\u5de5\u5177\u3002\u5176\u76ee\u6807\u90fd\u662f\u5c06Python\u7a0b\u5e8f\u6253\u5305\u6210\u4e00\u4e2a\u81ea\u5305\u542b\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff08\u4e5f\u53ef\u80fd\u662f\u6587\u4ef6\u5939\uff09\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u5176\u5206\u53d1\u7ed9\u5ba2\u6237\uff0c\u65e0\u8bba\u5ba2\u6237\u7684\u76ee\u6807\u673a\u5668\u4e0a\u662f\u5426\u5b89\u88c5\u6709Python\uff0c\u90fd\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\uff0c\u5e76\u4e14\u6240\u6709\u7684\u4f9d\u8d56\u90fd\u5df2\u7ecf\u5305\u542b\u4e86\u3002\u9664\u4e86\u4e0a\u8ff0\u529f\u80fd\u5916\uff0c\u4e24\u4e2a\u5de5\u5177\u90fd\u8fd8\u6709\u52a0\u5bc6Python\u7a0b\u5e8f\u7684\u80fd\u529b\uff0c\u8fd9\u4e5f\u662f\u56fd\u5185\u4e0d\u5c11\u5f00\u53d1\u8005\u6240\u9700\u8981\u7684\u529f\u80fd\u3002</p> <p>\u4e0d\u540c\u7684\u662f\uff0cPyInstaller\u53ea\u5bf9Python\u7a0b\u5e8f\u8fdb\u884c\u6253\u5305\uff0c\u5373\u4ece\u6307\u5b9a\u7684python\u6587\u4ef6\u5f00\u59cb\uff0c\u9012\u5f52\u5206\u6790\u5b83\u7684\u4f9d\u8d56\u9879\uff0c\u5c06\u8fd9\u4e9b\u4f9d\u8d56\u9879\u548c\u9002\u914d\u7684Python\u89e3\u91ca\u5668\u4e00\u5e76\u6253\u5305\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u5b83\u53ef\u4ee5\u6309\u8981\u6c42\u5bf9\u751f\u6210\u7684\u5b57\u8282\u7801\u8fdb\u884c\u4e00\u5b9a\u7684\u6df7\u6dc6\uff0c\u4ece\u800c\u8d77\u5230\u52a0\u5bc6\u7684\u4f5c\u7528\u3002\u6700\u7ec8\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u65b9\u5f0f\u8ddf\u666e\u901a\u7684Python\u7a0b\u5e8f\u4e00\u6837\uff0c\u901a\u8fc7\u89e3\u91ca\u5668\u6765\u6267\u884c\u3002</p> <p>Nuitka\u5219\u662f\u5c06Python\u7a0b\u5e8f\u7f16\u8bd1\u6210C\u4ee3\u7801\uff0c\u7136\u540e\u518d\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8fd9\u6837\uff0c\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5c31\u4e0d\u4f9d\u8d56\u4e8ePython\u89e3\u91ca\u5668\u4e86\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u66f4\u5c0f\uff0c\u7406\u8bba\u4e0a\u8fd0\u884c\u901f\u5ea6\u5e94\u8be5\u6bd4\u80a9c\u7a0b\u5e8f\u3002\u4e0d\u8fc7Python\u7a0b\u5e8f\u8f6c\u6362\u4e3ac\u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u90e8\u5206\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cNuitka\u4f1a\u4f18\u5148\u8003\u8651\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u800c\u4e0d\u662f\u4f18\u5316\u901f\u5ea6\uff0c\u56e0\u6b64\u4e00\u822c\u8ba4\u4e3a\u52a0\u901f\u572830%\u4ee5\u5185\u3002\u4f7f\u7528Nuitka\u6253\u5305\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u662f\uff0c\u7531\u4e8e\u6211\u4eec\u53d1\u5e03\u7684\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6240\u4ee5\u80fd\u6bd4\u8f83\u597d\u5730\u4fdd\u62a4\u6e90\u4ee3\u7801\u3002</p> <p>\u770b\u4e0a\u53bbNuitka\u4f3c\u4e4e\u66f4\u6709\u53d1\u5c55\u524d\u666f\uff0c\u6bd5\u7adf\uff0c\u5b83\u6709\u6027\u80fd\u52a0\u6210\u7684\u56e0\u7d20\u3002\u968f\u7740\u4f7f\u7528<code>Type hint</code>\u7684Python\u5e93\u8d8a\u6765\u8d8a\u591a\uff0c\u8fd9\u79cd\u6027\u80fd\u52a0\u6210\u5c06\u4f1a\u8d8a\u660e\u663e\u3002\u56e0\u6b64\uff0c\u8fd9\u91cc\u6211\u4eec\u53ea\u5bf9Nuitka\u8fdb\u884c\u7b80\u5355\u4ecb\u7ecd\u3002\u5982\u679c\u8bfb\u8005\u5bf9PyInstaller\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u6309\u7167\u6211\u4eec\u6587\u4e2d\u7ed9\u51fa\u7684\u5b98\u7f51\u94fe\u63a5\uff0c\u81ea\u884c\u5b66\u4e60\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4ee5\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u5982\u4f55\u4f7f\u7528Nuitka\u6253\u5305Python\u7a0b\u5e8f\u3002\u5c3d\u7ba1\u6211\u4eec\u6240\u6709\u7684\u793a\u4f8b\u90fd\u63a8\u8350\u5728Ubunutu\u6216\u8005MacOS\u4e0a\u8fd0\u884c\uff0c\u4f46\u8fd9\u4e00\u6b21\uff0c\u6211\u4eec\u9700\u8981\u5728windows\u4e0a\u8fd0\u884c\u8fd9\u4e2a\u793a\u4f8b\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u8981\u5b89\u88c5nuitka\uff0c\u53ef\u4ee5\u901a\u8fc7pip\u5b89\u88c5\uff08\u6ce8\u610f\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5728\u5176\u4e2d\u5b89\u88c5nuitka\uff09\uff1a</p> <pre><code>$ pip install nuitka\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>greetings.py</code>\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> greetings.py<pre><code>import fire\n\ndef greeting(name: str):\n    print(f\"hi {name}\")\n\nfire.Fire({\n    \"greeting\": greeting\n})\n</code></pre> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u89c1\u8bc1\u5947\u8ff9\u7684\u65f6\u523b\uff0c\u6211\u4eec\u8fd9\u6837\u8fdb\u884c\u6253\u5305: <pre><code>python -m nuitka greetings.py\n</code></pre> \u8fd9\u4f1a\u5728\u7ed9\u51fa\u4ee5\u4e0b\u8b66\u793a\u540e\uff0c\u7a0b\u5e8f\u7ee7\u7eed\uff1a <pre><code>Nuitka-Options:INFO: Used command line options: greetings.py\nNuitka-Options:WARNING: You did not specify to follow or include anything but main program. Check options and make sure\nNuitka-Options:WARNING: that is intended.\nNuitka:WARNING: Using very slow fallback for ordered sets, please install 'orderedset' PyPI package for best Python\nNuitka:WARNING: compile time performance.\n</code></pre> \u5bf9\u6211\u4eec\u8fd9\u4e2a\u7b80\u5355\u7684\u7a0b\u5e8f\uff0c\u8fd9\u4e9b\u8b66\u544a\u4e0d\u4f1a\u6709\u4efb\u4f55\u5f71\u54cd\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u4e86<code>set</code>\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u5b89\u88c5<code>orderedset</code>\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u7f16\u8bd1\u901f\u5ea6\u3002\u4f46\u63a5\u4e0b\u6765\uff0c\u5b83\u8981\u6c42\u4e0b\u8f7d\u5e76\u5b89\u88c5MinGW64\u548cccache\u3002\u8fd9\u4e2a\u4e0b\u8f7d\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u5982\u679c\u662f\u8fd9\u6837\uff0c\u4f60\u9700\u8981\u81ea\u884c\u4e0b\u8f7d\uff0c\u5e76\u4e14\u5c06\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\u89e3\u538b\u7f29\u540e\uff0c\u6309\u63d0\u793a\u653e\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\uff0c\u6bd4\u5982'C:\\Users\\Administrator\\AppData\\Local\\Nuitka\\Nuitka\\Cache\\downloads\\gcc\\x86_64\\11.3.0-14.0.3-10.0.0-msvcrt-r3'\u3002\u8fd9\u4e2a\u4f4d\u7f6e\u53ef\u80fd\u4f1a\u56e0\u4e3a\u4f60\u7684\u7cfb\u7edf\u4e0d\u540c\u800c\u4e0d\u540c\uff0c\u4f46\u90fd\u4f1a\u6253\u5370\u5728\u547d\u4ee4\u884c\u7a97\u53e3\u4e2d\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5b83\u5f00\u59cb\u8fdb\u884c\u771f\u6b63\u7684\u7f16\u8bd1\uff1a <pre><code>Nuitka:INFO: Starting Python compilation with Nuitka '1.4.3' on Python '3.8' commercial grade 'not installed'.\nNuitka:INFO: Completed Python level compilation and optimization.\nNuitka:INFO: Generating source code for C backend compiler.\nNuitka:INFO: Running data composer tool for optimal constant value handling.\nNuitka:INFO: Running C compilation via Scons.\nNuitka-Scons:INFO: Backend C compiler: gcc (gcc).\nNuitka-Scons:INFO: Backend linking program with 6 files (no progress information available).\nNuitka-Scons:INFO: Compiled 24 C files using ccache.\nNuitka-Scons:INFO: Cached C files (using ccache) with result 'cache miss': 6\nNuitka:INFO: Keeping build directory 'greetings.build'.\nNuitka:INFO: Successfully created 'greetings.exe'.\nNuitka:INFO: Execute it by launching 'greetings.cmd', the batch file needs to set environment.\n</code></pre> \u6839\u636e\u63d0\u793a\uff0c\u6211\u4eec\u770b\u5230\u5b83\u5c06python\u4ee3\u7801\u8f6c\u6362\u6210c\u7684\u6e90\u7801\uff0c\u5e76\u8fdb\u4e00\u6b65\u7f16\u8bd1\u6210windows\u4e0a\u53ef\u4ee5\u8fd0\u884c\u7684\u539f\u751f\u7a0b\u5e8f\u3002\u6700\u7ec8\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e24\u4e2a\u6587\u4ef6\uff0c\u4e00\u4e2a\u662f'greetings.exe'\uff0c\u53e6\u4e00\u4e2a\u662f'greetings.cmd'\u3002\u5982\u679c\u6211\u4eec\u662f\u5728\u521a\u521a\u8fdb\u884c\u6253\u5305\u7684\u7a97\u53e3\u4e2d\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c<code>greetings.exe</code>\uff0c\u5426\u5219\uff0c\u6211\u4eec\u5e94\u8be5\u8fd0\u884c<code>greetings.cmd</code>\u3002</p> <p>\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a <pre><code>$ greetings.exe greeting aaron\n\nhi aaron\n</code></pre> \u8fd9\u4ec5\u4ec5\u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u6240\u4ee5\u770b\u4e0a\u53bb\u53ef\u80fd\u4e0d\u90a3\u4e48\u4ee4\u4eba\u5174\u594b\u3002\u4f46\u5982\u679c\u6211\u4eec\u6253\u7b97\u4ece\u8d44\u6e90\u7ba1\u7406\u5668\u91cc\u627e\u5230\u5b83\uff0c\u53cc\u51fb\u5e76\u8fd0\u884c\u5b83\uff0c\u6211\u4eec\u4f1a\u88ab\u63d0\u793a\u7f3a\u5c11\u67d0\u4e9bpython\u7684dll\u3002\u4e3a\u4e86\u4f7f\u8fd9\u4e2a\u7a0b\u5e8f\u5b8c\u5168\u72ec\u7acb\uff0c\u6211\u4eec\u9700\u8981\u5728\u6253\u5305\u65f6\u52a0\u4e0a--standalone\u53c2\u6570\uff1a <pre><code>$ python -m nuitka --standalone --follow-imports greetings.py\n</code></pre> \u8fd9\u4e00\u6b21\uff0c\u53c8\u4f1a\u63d0\u793a\u4e0b\u8f7d\u4e00\u4e9b\u4e1c\u897f\uff0c\u4e3b\u8981\u662fmsvc\u7684\u8fd0\u884c\u65f6\uff0c\u4f46\u8fd9\u6b21\u4e0b\u8f7d\u4f1a\u975e\u5e38\u987a\u5229\u3002\u6700\u7ec8\uff0c\u7f16\u8bd1\u6210\u529f\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u540d\u4e3agreetings.dist\u7684\u6587\u4ef6\u5939\u3002\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u53cc\u51fb\u8fd0\u884cgreetings.exe\u4e86\uff08\u7531\u4e8e\u6211\u4eec\u7684greetings\u7a0b\u5e8f\u9700\u8981\u63a5\u6536\u7528\u6237\u8f93\u5165\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u662f\u5f97\u4ece\u547d\u4ee4\u884c\u4e2d\u6253\u5f00\u5b83\u3002\u4e0d\u8fc7\u8fd9\u6b21\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u65b0\u751f\u6210\u7684\u6587\u4ef6\u5939\u62f7\u8d1d\u5230\u53e6\u4e00\u4e2a\u673a\u5668\uff0c\u6ca1\u6709\u5b89\u88c5python\u548cnuitka\u7684\u673a\u5668\u4e0a\uff0c\u7136\u540e\u5728\u547d\u4ee4\u884c\u4e0b\u8fd0\u884cgreetings.exe\uff09\uff1a <pre><code>$ greetings.exe greeting aaron\n\nhi aaron\n</code></pre></p> <p>Nuitka\u7684\u6253\u5305\u6784\u5efa\u8fc7\u7a0b\u5df2\u7ecf\u53ef\u4ee5\u548cpoetry\u6574\u5408\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8fd9\u6837\u4fee\u6539<code>pyproject.toml</code>\u5373\u53ef\u5de5\u4f5c\uff1a <pre><code>[build-system]\nrequires = [\"setuptools&gt;=42\", \"wheel\", \"nuitka\", \"toml\"]\nbuild-backend = \"nuitka.distutils.Build\"\n\n[nuitka]\n# These are not recommended, but they make it obvious to have effect.\n\n# boolean option, e.g. if you cared for C compilation commands, leading\n# dashes are omitted\nshow-scons = true\n\n# options with single values, e.g. enable a plugin of Nuitka\nenable-plugin = pyside2\n\n# options with several values, e.g. avoiding including modules, accepts\n# list argument.\nnofollow-import-to = [\"*.tests\", \"*.distutils\"]\n</code></pre></p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u601d\u8003\u4e00\u4e0b\uff0cPyInstaller\u548cNuitka\u7684\u5b9a\u4f4d\u3002\u5b83\u4eec\u662f\u6253\u5305\u7a0b\u5e8f\uff0c\u663e\u7136\u3002\u4f46\u4ed6\u4eec\u5e76\u4e0d\u662f\u5b89\u88c5\u7a0b\u5e8f\u3002\u901a\u8fc7\u5b83\u4eec\u6253\u5305\uff0c\u6211\u4eec\u5b9e\u73b0\u7684\u76ee\u6807\u662f\u8ba9\u8fd9\u4e9b\u7a0b\u5e8f\u53ef\u4ee5\u5728\u7528\u6237\u7684\u684c\u9762\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5728\u4e0d\u5b89\u88c5Python\u548c\u4f9d\u8d56\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\uff0c\u4f46\u662f\uff0c\u5b83\u53ea\u9002\u5408\u65e0\u987b\u5b89\u88c5\u7684\u201c\u7eff\u8272\u7a0b\u5e8f\u201d\uff0c\u5982\u679c\u6211\u4eec\u7684\u7a0b\u5e8f\u9700\u8981\u521b\u5efa\u684c\u9762\u5feb\u6377\u65b9\u5f0f\uff0c\u4fee\u6539\u6ce8\u518c\u8868\uff0c\u90a3\u4e48\u5b83\u5c06\u65e0\u80fd\u4e3a\u529b\u3002</p> <p>\u5982\u679c\u60a8\u7684\u7a0b\u5e8f\u9700\u8981\u6709\u4e00\u4e2a\u8f83\u534e\u4e3d\u7684\u5b89\u88c5\u754c\u9762\uff0c\u5efa\u8bae\u60a8\u67e5\u770b\u4e00\u4e0bInno Setup[<sup>4]\u6216\u8005Wix[</sup>9]\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#22","title":"2.2. \u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f","text":"<p>\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u4e0e\u684c\u9762\u5e94\u7528\u6709\u5f88\u5927\u7684\u4e0d\u540c\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u5373\u4f7f\u6211\u4eec\u80fd\u628a\u4e00\u4e2a\u684c\u9762\u5e94\u7528\u6253\u5305\u6210\u80fd\u5b89\u88c5\u7684\u79fb\u52a8\u5e94\u7528\uff0c\u5176\u7528\u6237\u4f53\u9a8c\u4e5f\u5f88\u96be\u8bf4\u4f1a\u6709\u591a\u597d\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8ePython\u5e94\u7528\u7a0b\u5e8f\u7684\u6253\u5305\u548c\u5206\u53d1\uff0c\u5fc5\u987b\u4ece\u4e00\u5f00\u59cb\u5c31\u8fdb\u884c\u89c4\u5212\uff0c\u5fc5\u987b\u4e00\u5f00\u59cb\u5c31\u4f7f\u7528\u4e0a\u76f8\u5173\u7684\u8de8\u5e73\u53f0\u5f00\u53d1\u7684\u6846\u67b6\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u548c\u6bd4\u8f83\u4e24\u4e2a\u6700\u6d41\u884c\u7684\u6846\u67b6\uff0c<code>Kivy</code>\u548c<code>BeeWare</code>\uff0c\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u9009\u62e9\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#kivy","title":"Kivy","text":"<p>Kivy^10\u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684Python\u6846\u67b6\uff0c\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u4f7f\u7528Python\u6765\u5f00\u53d1\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u548c\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u3002\u5b83\u57fa\u4e8eMIT License\uff0c\u5b8c\u5168\u514d\u8d39\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u662f\uff0c\u6709\u81ea\u5df1\u7684UI\u8bbe\u8ba1\u8bed\u8a00\uff0c\u56e0\u6b64\u5728\u6240\u6709\u7684\u8bbe\u5907\u4e0a\uff0c\u5e94\u7528\u7a0b\u5e8f\u90fd\u6709\u4e00\u81f4\u7684\u884c\u4e3a\u548c\u5916\u89c2\uff1b\u5b83\u4f7f\u7528OpenGL\u6765\u7ed8\u5236UI\uff0c\u56e0\u6b64\u5341\u5206\u9ad8\u6548\u3002 \u4e0b\u56fe\u662f\u4f7f\u7528Kivy\u5f00\u53d1\u7684\u4e00\u4e2a\u56f4\u68cb\u6e38\u620f\uff0c\u540d\u4e3aLazy Baduk\uff0c\u4f60\u53ef\u4ee5\u5728\u8c37\u6b4c\u5e94\u7528\u5546\u5e97\u4e2d\u627e\u5230\u5b83\u3002</p> <p></p> <p>Info</p> <p>\u5982\u679c\u4f60\u5bf9\u56f4\u68cb\u611f\u5174\u8da3\uff0c\u8fd9\u91cc\u63a8\u8350\u4e00\u4e2a\u540d\u4e3aKaTrain\u7684\u56f4\u68cb\u8bad\u7ec3\u8f6f\u4ef6\uff0c\u5b83\u4e5f\u662f\u7528Python\u548cKivy\u5f00\u53d1\u7684\u3002\u5b83\u57fa\u4e8eKataGo -- \u6700\u5f3a\u7b97\u529b\u7684\u5f00\u6e90\u56f4\u68cbAI\uff0c\u4e00\u4e9b\u8c23\u4f20\u8ba4\u4e3a\uff0c\u67d0\u4e9b\u5546\u4e1a\u8f6f\u4ef6\uff0c\u5305\u62ec\u67d0\u4e9b\u56fd\u5bb6\u961f\u7528\u4ee5\u8bad\u7ec3\u7684AI\u56f4\u68cb\u8f6f\u4ef6\uff0c\u90fd\u201c\u501f\u9274\u201d\u4e86KataGo\u7684\u7b97\u6cd5\u3002</p> <p>Kivy\u7684\u77ed\u677f\u53ef\u80fd\u4e5f\u5728\u4e8e\u5b83\u7684\u72ec\u7279\u7684UI\u8bbe\u8ba1\u8bed\u8a00\u3002Kivy\u7684UI toolkit\u4fdd\u8bc1\u4e86\u57fa\u4e8eKivy\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5f88\u597d\u5728\u8fd0\u884c\u5728Android, iOS, Linux\u751a\u81f3Raspberry Pi\u4e0a\uff0c\u4f46\u662f\u4e5f\u4f7f\u5f97\u5b83\u7f3a\u5c11\u4e86\u539f\u751f\u5e94\u7528\u7a0b\u5e8f\u7684\u67d0\u4e9b\u64cd\u4f5c\u80fd\u529b\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#beeware","title":"BeeWare","text":"<p>BeeWare^11\u540c\u6837\u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684Python\u6846\u67b6\u3002\u5b83\u57fa\u4e8eBSD License\uff0c\u5b8c\u5168\u514d\u8d39\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u662f\uff0c\u5b83\u81f4\u529b\u4e8e\u63d0\u4f9b\u63a5\u8fd1\u539f\u751f\u7a0b\u5e8f\u7684\u7528\u6237\u4f53\u9a8c\u3002BeeWare\u7684\u51fa\u73b0\u65f6\u95f4\u8981\u665a\u4e00\u4e9b\uff0c\u4e0d\u8fc7\u5b83\u7684\u53d1\u5c55\u52bf\u5934\u4e5f\u4e0d\u5dee\u3002\u53e6\u5916\uff0c\u5b83\u662f\u7ec4\u4ef6\u5f0f\u7684\uff0cBeeWare\u5305\u542b\u4e86BriefCase\uff0c\u8fd9\u662f\u53e6\u4e00\u4e2a\u4e3a\u4eba\u5e7f\u6cdb\u4f7f\u7528\u7684Python\u6253\u5305\u5de5\u5177\u3002Toga\uff0c\u4e00\u4e2a\u57fa\u4e8ePython\u7684\u8de8\u5e73\u53f0GUI\u6846\u67b6\uff0c\u4e5f\u662fBeeWare\u7684\u4e00\u90e8\u5206\u3002</p> <p>\u79fb\u52a8\u7aef\u7684\u5dee\u5f02\u8fdc\u5927\u4e8e\u684c\u9762\u7aef\uff0c\u56e0\u6b64\uff0c\u80fd\u5229\u7528\u79fb\u52a8\u8bbe\u5907\u7684\u6700\u65b0\u7279\u6027\uff0c\u5bf9\u6253\u9020\u4e00\u6b3e\u5438\u5f15\u4eba\u7684\u79fb\u52a8\u5e94\u7528\u662f\u5341\u5206\u91cd\u8981\u7684\u3002\u51fa\u4e8e\u8fd9\u4e2a\u8003\u8651\uff0c\u4e5f\u8bb8Python\u76ee\u524d\u4ecd\u4e0d\u662f\u6700\u9002\u5408\u7684\u5f00\u53d1\u8bed\u8a00\u3002\u4f46\u662f\uff0c\u4e0d\u7ba1\u662fKivy\uff0c\u8fd8\u662fBeeWare\uff0c\u90fd\u4e3aPython\u5f00\u53d1\u79fb\u52a8\u5e94\u7528\u63d0\u4f9b\u4e86\u4e00\u79cd\u9009\u62e9\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#3","title":"3. \u57fa\u4e8e\u4e91\u7684\u5e94\u7528\u90e8\u7f72","text":"<p>\u6bd4\u8d77\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\uff0cPython\u4f3c\u4e4e\u66f4\u64c5\u957f\u5f00\u53d1\u540e\u53f0\u670d\u52a1\u7a0b\u5e8f\u3002\u5728\u5fae\u670d\u52a1\u67b6\u6784\u4e0b\uff0c\u591a\u8fdb\u7a0b+\u5f02\u6b65IO\uff0c\u4f7f\u5f97Python\u65e0\u6cd5\u5145\u5206\u5229\u7528\u786c\u4ef6\u6027\u80fd\u7684\u77ed\u677f\u88ab\u8865\u9f50\uff0c\u800c\u5b83\u7b80\u6d01\u3001\u9ad8\u6548\u548c\u4e30\u5bcc\u7684\u751f\u6001\u7684\u4f18\u52bf\u5219\u5f97\u5230\u4e86\u5145\u5206\u7684\u53d1\u6325\u3002</p> <p>Python\u7684\u4e91\u90e8\u7f72\u6709Heroku, GoogleApp\u7b49\u65b9\u5f0f\u3002\u4f46\u66f4\u5e7f\u6cdb\u4f7f\u7528\u7684\u65b9\u5f0f\u53ef\u80fd\u662f\u57fa\u4e8e\u4e91\u7684\u5bb9\u5668\u5316\u90e8\u7f72\u3002\u5bb9\u5668\u662f\u4e00\u79cd\u8f7b\u91cf\u5316\u7684\u865a\u62df\u673a\uff0c\u5b83\u4e0e\u865a\u62df\u673a\u4e0d\u540c\u7684\u662f\uff0c\u5b83\u4e0d\u9700\u8981\u4e00\u4e2a\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u800c\u662f\u76f4\u63a5\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684\u5185\u6838\u3002\u8fd9\u6837\uff0c\u5bb9\u5668\u7684\u542f\u52a8\u901f\u5ea6\u6bd4\u865a\u62df\u673a\u5feb\u5f88\u591a\uff0c\u800c\u4e14\u5b83\u4eec\u7684\u8d44\u6e90\u5360\u7528\u4e5f\u66f4\u5c11\u3002\u4e00\u822c\u5730\uff0c\u6211\u4eec\u4f7f\u7528\u5bb9\u5668\u6765\u8fd0\u884c\u67d0\u4e2a\u670d\u52a1\uff0c\u5f53\u8be5\u670d\u52a1\u505c\u6b62\u65f6\uff0c\u5bb9\u5668\u4e5f\u5c31\u7ec8\u7ed3\u4e86\u3002</p> <p>Docker\u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u5bb9\u5668\u5316\u90e8\u7f72\u5de5\u5177\u3002\u6784\u5efa\u57fa\u4e8e\u5bb9\u5668\u7684\u670d\u52a1\uff0c\u4e00\u822c\u5206\u4e3a\u4e24\u4e2a\u6b65\u9aa4\uff1a\u6784\u5efa\u955c\u50cf\u548c\u8fd0\u884c\u5bb9\u5668\u3002\u955c\u50cf\u662f\u901a\u5e38\u7531\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\uff0c\u4e00\u4e2aPython\u89e3\u91ca\u5668\uff0c\u4ee5\u53ca\u6211\u4eec\u7684Python\u670d\u52a1\u7ec4\u6210\u3002\u8fd9\u4e9b\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7Dockerfile\u6765\u63cf\u8ff0\u3002Dockerfile\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u4e00\u7cfb\u5217\u547d\u4ee4\u548c\u53c2\u6570\uff0c\u7528\u4ee5\u6784\u5efa\u4e00\u4e2a\u955c\u50cf\u3002\u955c\u50cf\u662f\u4e00\u4e2a\u53ea\u8bfb\u7684\u6a21\u677f\uff0c\u5b83\u63cf\u8ff0\u4e86\u4e00\u4e2aDocker\u5bb9\u5668\u5e94\u8be5\u5982\u4f55\u8fd0\u884c\u3002\u5f53\u955c\u50cf\u88abDocker\u8fd0\u884c\u65f6\u62c9\u53d6\u5230\u672c\u5730\u5e76\u6267\u884c\u65f6\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u5bb9\u5668\uff0c\u5e76\u4e14\u670d\u52a1\u5c31\u5728\u5bb9\u5668\u4e2d\u8fd0\u884c\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u5982\u4f55\u6784\u5efa\u548c\u8fd0\u884c\u4e00\u4e2aPython\u670d\u52a1\u7684\u5bb9\u5668\u3002\u793a\u4f8b\u7684\u6e90\u4ee3\u7801\u5728code/chap11/docker\u76ee\u5f55\u4e0b\u3002\u6211\u4eec\u4ecd\u7136\u662f\u901a\u8fc7<code>ppw</code>\u6765\u521b\u5efa\u4e00\u4e2a\u540d\u4e3asample\u7684\u9879\u76ee\u3002\u4e0e\u4ee5\u5f80\u4e0d\u540c\u7684\u662f\uff0c\u6211\u4eec\u5c06\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>docker</code>\uff08\u540d\u5b57\u53ef\u4efb\u610f\uff09\u7684\u76ee\u5f55\uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u6587\u4ef6: <pre><code>.\n\u251c\u2500\u2500 build.sh\n\u251c\u2500\u2500 dockerfile\n\u2514\u2500\u2500 rootfs\n    \u2514\u2500\u2500 root\n        \u251c\u2500\u2500 entrypoint.sh\n        \u2514\u2500\u2500 sample\n            \u251c\u2500\u2500 index.html\n            \u2514\u2500\u2500 mars.jpg\n</code></pre> \u6240\u6709\u8ddf\u6784\u5efa\u955c\u50cf\u76f8\u5173\u7684\u6587\u4ef6\u90fd\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u3002</p> <p>\u5176\u4e2d\uff0cbuild.sh\u662f\u4e00\u4e2a\u811a\u672c\uff0c\u7528\u4e8e\u6784\u5efa\u955c\u50cf\u3002dockerfile\u7528\u4e8e\u63cf\u8ff0\u955c\u50cf\u3002rootfs\u662f\u4e00\u4e2a\u76ee\u5f55\uff0c\u7528\u4e8e\u5b58\u653e\u6211\u4eec\u9700\u8981\u5e26\u5230\u955c\u50cf\u4e2d\u7684\u6587\u4ef6\u3002\u5728\u6784\u5efa\u955c\u50cf\u65f6\uff0c\u5b83\u5c06\u88ab\u6620\u5c04\u4e3a\u5bb9\u5668\u7684\u6839\u76ee\u5f55\u3002</p> <p>build.sh\u4e3b\u8981\u7684\u5de5\u4f5c\u662f\u6784\u5efasample\u9879\u76ee\uff0c\u5c06\u76f8\u5e94\u7684\u6587\u4ef6\u62f7\u8d1d\u5230rootfs\u4e0b\uff0c\u518d\u6267\u884c<code>docer build</code>\u547d\u4ee4\u6765\u6784\u5efa\u955c\u50cf\u3002</p> <p>\u4ee5\u4e0b\u662fbuild.sh\u7684\u4e3b\u8981\u5185\u5bb9\uff1a <pre><code>version=`poetry version | awk '{print $2}'`\nwheel=\"/root/sample/sample-$version-py3-none-any.whl\"\n\npoetry build\n\n# \u5c06wheel\u5305\u62f7\u8d1d\u5230rootfs\u76ee\u5f55\u4e0b\u4ee5\u4fbf\u6784\u5efa\u955c\u50cf\u65f6\u8fdb\u884c\u5b89\u88c5\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06wheel\u5305\u4e0a\u4f20\u5230pypi\uff0c\u7136\u540e\u5728\n# Dockerfile\u4e2d\u901a\u8fc7pip install sample\u5b89\u88c5\u3002\ncp ../dist/*$version*.whl rootfs/root/sample/\n\n# \u79fb\u9664\u4e0a\u4e00\u6b21\u7f16\u8bd1\u751f\u6210\u7684\u955c\u50cf\uff0c\u91cd\u65b0\u6784\u5efa\u3002\u8fd9\u5c06\u751f\u6210\u4e00\u4e2a\u540d\u4e3asample\u7684\u955c\u50cf\u3002\n# \u6ce8\u610f\u6211\u4eec\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u901a\u8fc7--build-arg\u4f20\u5165\u7f16\u8bd1\u671f\u53d8\u91cf\u7ed9\u955c\u50cf\ndocker rmi sample\ndocker build --build-arg version=$version --build-arg wheel=$wheel . -t sample\n\n# \u542f\u52a8\u670d\u52a1\ndocker run -d --name sample -p 7080:7080 sample\n</code></pre> \u5728\u8fd9\u4e2a\u6784\u5efa\u811a\u672c\u91cc\uff0c\u6211\u4eec\u9996\u5148\u6784\u5efa\u4e86sample\u9879\u76ee\u7684wheel\u5305\uff0c\u7136\u540e\u5c06\u5b83\u62f7\u8d1d\u5230rootfs\u76ee\u5f55\u4e0b\u3002\u63a5\u7740\uff0c\u6211\u4eec\u6267\u884c<code>docker build</code>\u547d\u4ee4\uff0c\u6784\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3asample\u7684\u955c\u50cf\uff0c\u6700\u540e\uff0c\u6211\u4eec\u4ee5\u6b64\u955c\u50cf\u4e3a\u57fa\u7840\uff0c\u542f\u52a8\u4e86\u4e00\u4e2a\u540d\u4e3asample\u7684\u5bb9\u5668\uff0c\u5e76\u4e14\u5c06\u7aef\u53e37080\u6620\u5c04\u4e3a\u4e3b\u673a\u7aef\u53e3\u3002</p> <p>Dockerfile\u662f\u8fd9\u4e00\u8282\u7684\u6838\u5fc3\uff0c\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770bDockerfile\u7684\u5185\u5bb9\uff1a <pre><code>FROM python:3.8-alpine3.17\n\nWORKDIR /\nCOPY rootfs ./\n\nARG version\nARG pypi=https://pypi.tuna.tsinghua.edu.cn/simple\nARG wheel\nENV PORT=7080\n\nRUN pip config set global.index-url ${pypi} \\\n    &amp;&amp; pip install ${wheel}\n\nEXPOSE $PORT\nENTRYPOINT [\"/root/entrypoint.sh\"]\n</code></pre> \u6784\u5efa\u4efb\u4f55\u955c\u50cf\u65f6\uff0c\u6211\u4eec\u90fd\u662f\u4ece\u4e00\u4e2a\u57fa\u7840\u7684\u955c\u50cf\u5f00\u59cb\u3002\u8fd9\u4e2a\u57fa\u7840\u955c\u50cf\u53ef\u4ee5\u662f\u8c61Linux Alpine\u6216\u8005Ubuntu\u8fd9\u6837\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4e5f\u53ef\u4ee5\u662f\u6784\u5efa\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u7684\u5e94\u7528\u955c\u50cf\u3002\u955c\u50cf\u7684\u6807\u8bc6\u7b26\u4e00\u822c\u662f\"\u5f00\u53d1\u8005/\u955c\u50cf\u540d:\u7248\u672c\"\u7684\u5f62\u5f0f\uff0c\u6bd4\u5982python:3.8-alpine3.17\u3002\u8fd9\u91cc\u5192\u53f7\u4e4b\u540e\u7684\u5b57\u7b26\u4e32\u662f\u6807\u7b7e\uff0c\u4e00\u822c\u662f\u5176\u7248\u672c\u53f7\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u7248\u672c\uff0c\u90a3\u4e48\u9ed8\u8ba4\u662flatest\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5f00\u53d1\u8005\uff0c\u610f\u5473\u7740\u8fd9\u662f\u4e00\u4e2a\u6765\u81ea\u4e8e\u5b98\u65b9\u7684\u955c\u50cf\uff0c\u6216\u8005\u662f\u6211\u4eec\u81ea\u5df1\u6784\u5efa\u7684\u672c\u5730\u955c\u50cf\u3002</p> <p>\u955c\u50cf\u7684\u5206\u53d1\u662f\u4e00\u4e2a\u4e8c\u7ea7\u67b6\u6784\u3002\u5982\u679c\u5728\u672c\u5730\u4e0d\u5b58\u5728python:3.8-alpine3.17\u8fd9\u4e2a\u955c\u50cf\uff0cdocker\u5c31\u4f1a\u53bbDocker Hub[^12]\u4e0a\u67e5\u627e\u3002Docker Hub\uff0c\u7c7b\u4f3c\u4e8ePyPI\uff0c\u662f\u4e00\u4e2a\u516c\u5171\u7684\u955c\u50cf\u4ed3\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u955c\u50cf\u4f9b\u6211\u4eec\u4f7f\u7528\u3002\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770bDocker Hub\u4e0a\u7684python:3.8-alpine3.17\u8fd9\u4e2a\u955c\u50cf\uff0c\u5b83\u7a76\u7adf\u662f\u4ec0\u4e48\u3002\u5728Docker Hub\u4e0a\uff0c\u6211\u4eec\u8981\u901a\u8fc7\u955c\u50cf\u540d\uff08\u5373\u4e0d\u5e26\u7248\u672c\u6807\u7b7e\uff09\u6765\u641c\u7d22\u3002\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u955c\u50cf\u88ab\u4e0b\u8f7d\u8d85\u8fc710\u4ebf\u6b21\u3002\u5bf9\u6bd4java\u955c\u50cf\uff0c\u4ec5\u88ab\u4e0b\u8f7d1\u4ebf\u6b21\u3002\u8fd9\u4e0d\u4ec5\u8bf4\u660ePython\u7684\u4f7f\u7528\u6709\u591a\u4e48\u5e7f\u6cdb\uff0c\u4e5f\u8bf4\u660e\u4e86Python\u5728\u540e\u53f0\u670d\u52a1\u5f00\u53d1\u4e0a\u6709\u591a\u91cd\u8981\u3002</p> <p>\u70b9\u51fb\u4e0a\u56fe\u4e2d\u7684\u94fe\u63a5\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u5165\u8be6\u60c5\u9875\uff0c\u627e\u52303.8-alpine3.17\u8fd9\u4e2a\u6807\u7b7e\uff0c\u70b9\u51fb\u8fdb\u53bb\uff0c\u6211\u4eec\u4f1a\u8df3\u8f6c\u5230Github\u4e0a\uff0c\u67e5\u770b\u5176Dockerfile\u7684\u5185\u5bb9\uff1a</p> <p></p> <p>Alpine\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684Linux\u53d1\u884c\u7248\uff0c\u57fa\u4e8eAlpine\u6784\u5efa\u7684\u955c\u50cf\uff0c\u5176\u5927\u5c0f\u53ea\u67095M\u5de6\u53f3\uff0c\u56e0\u6b64\u5e38\u5e38\u662f\u6784\u5efa\u5fae\u670d\u52a1\u7684\u9996\u9009\u3002\u6211\u4eec\u7684\u955c\u50cf\uff0c\u6700\u7ec8\u4e5f\u662f\u4f7f\u7528\u7684\u8fd9\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3002</p> <p>\u7136\u540e\u6211\u4eec\u6307\u5b9a\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u4e3a\u6839\u76ee\u5f55\uff0c\u5e76\u5c06rootfs\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u62f7\u8d1d\u5230\u5bb9\u5668\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u63a5\u7740\uff0c\u5b83\u5b89\u88c5\u4e86sample\u9879\u76ee\u7684wheel\u5305\u3002\u6700\u540e\uff0c\u5b83\u8bbe\u7f6e\u4e86\u5bb9\u5668\u7684\u5165\u53e3\u70b9\u4e3a/root/entrypoint.sh\u3002</p> <p>\u6211\u4eec\u7528<code>ARG</code>\u6765\u4f20\u9012docker\u7f16\u8bd1\u671f\u53d8\u91cf\u3002\u8fd9\u91cc\u7684version\u548cwheel\u662f\u4e24\u4e2a\u7f16\u8bd1\u5668\u53d8\u91cf\uff0c\u5b83\u4eec\u662f\u7531build.sh\u901a\u8fc7<code>--arg $version</code>\u4f20\u9012\u8fdb\u6765\u7684\u3002<code>EXPOSE</code>\u662f\u5c06\u7aef\u53e3\u66b4\u9732\u51fa\u6765\u3002\u6211\u4eec\u5728<code>entrypoint.sh</code>\u4e2d\u542f\u52a8\u4e86\u4e00\u4e2a\u76d1\u542c\u5728$PORT\u4e0a\u7684HTTP\u670d\u52a1\uff0c\u6211\u4eec\u5fc5\u987b\u628a\u8fd9\u4e2a\u7aef\u53e3\u66b4\u9732\u7ed9\u4e3b\u673a\uff0c\u4ee5\u4fbf\u6211\u4eec\u53ef\u4ee5\u4ece\u4e3b\u673a\u4e0a\u8bbf\u95ee\u8fd9\u91cc\u7684\u670d\u52a1\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u770b\u770b<code>entrypoint.sh</code>\u7684\u5185\u5bb9\uff1a <pre><code>#!/bin/sh\n\npython3 -m http.server -d /root/sample $PORT\n</code></pre> \u7531\u4e8e\u8fd9\u53ea\u662f\u4e2a\u6f14\u793a\u6027\u7684\u7a0b\u5e8f\uff0c\u6211\u4eec\u5728\u8fd9\u91cc\u5e76\u6ca1\u6709\u7528\u5230sample\u7684\u4efb\u4f55\u529f\u80fd\u3002\u60a8\u53ea\u9700\u8981\u77e5\u9053\uff0c\u5982\u679c\u60a8\u60f3\u4f7f\u7528<code>sample</code>\u7684\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u5728\u8fd9\u91cc\u8c03\u7528\u5b83\u7684\u547d\u4ee4\u5373\u53ef\u3002\u8fd9\u4e0e\u6211\u4eec\u5728\u522b\u7684\u5730\u65b9\u8c03\u7528\u5b83\u6ca1\u6709\u4efb\u4f55\u4e0d\u540c\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u53ea\u662f\u7b80\u5355\u5730\u901a\u8fc7python\u7684\u5185\u7f6e\u7684<code>http</code>\u6a21\u5757\u6765\u542f\u52a8\u4e86\u4e00\u4e2a\u7b80\u5355\u7684HTTP\u670d\u52a1\u3002</p> <p>\u5f53\u6211\u4eec\u5728\u672c\u5730\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u5c31\u53ef\u4ee5\u5728Docker Hub\u4e0a\u6ce8\u518c\u8d26\u53f7\uff0c\u5c06\u6211\u4eec\u7684\u955c\u50cf\u53d1\u5e03\u4e0a\u53bb\uff0c\u4f9b\u5176\u5b83\u4eba\u4e0b\u8f7d\uff0c\u8fd9\u6837\u5c31\u5b8c\u6210\u4e86\u57fa\u4e8e\u5bb9\u5668\u7684\u5e94\u7528\u53d1\u5e03\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2a\u79c1\u6709\u4e91\u7684\u955c\u50cf\u4ed3\u5e93\uff0c\u5c06\u955c\u50cf\u53d1\u5e03\u5230\u79c1\u6709\u4e91\u4e0a\uff0c\u4f9b\u5185\u90e8\u90e8\u7f72\u4f7f\u7528\u3002\u6700\u7ec8\u6211\u4eec\u6784\u5efa\u7684\u955c\u50cf\u53ea\u670966MB\u5de6\u53f3\u3002\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8edocker\u6587\u4ef6\u7cfb\u7edf\u7684\u5206\u5c42\u8bbe\u8ba1\uff0c\u5982\u679c\u5176\u5b83\u4eba\u4eceDocker Hub\u4e0a\u4e0b\u8f7d\u6211\u4eec\u7684\u955c\u50cf\uff0c\u4ed6\u4eec\u5b9e\u9645\u4e0a\u8981\u4e0b\u8f7d\u7684\u6570\u636e\u91cf\u4f1a\u66f4\u5c0f\u3002</p> <p>\u8fd9\u5c31\u662f\u6784\u5efa\u57fa\u4e8e\u5bb9\u5668\u7684\u670d\u52a1\u7684\u5168\u90e8\u8fc7\u7a0b\uff0c\u662f\u4e0d\u662f\u51fa\u4eba\u610f\u6599\u5730\u7b80\u5355\u548c\u53ef\u9760\uff1f\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u7528\u4e86\u975e\u5e38\u591a\u7684\u7bc7\u5e45\u6765\u8bb2\u5982\u4f55\u8fdb\u884c\u9694\u79bb\uff0c\u8fd9\u91cc\u63d0\u4f9b\u4e86\u53c8\u4e00\u79cd\u65b9\u5f0f\uff0c\u5b83\u751a\u81f3\u6bd4\u4e4b\u524d\u6240\u6709\u7684\u65b9\u5f0f\u90fd\u66f4\u52a0\u7b80\u5355\u548c\u53ef\u9760\u3002\u8fd0\u884c\u5728\u5bb9\u5668\u4e2d\u7684\u670d\u52a1\uff0c\u72ec\u5360\u4e86\u6587\u4ef6\u7cfb\u7edf\u548c\u8ba1\u7b97\u8d44\u6e90\uff0c\u65e0\u8bba\u662f\u4e0e\u5bbf\u4e3b\u673a\u3001\u8fd8\u662f\u4e0e\u8fd0\u884c\u5728\u540c\u4e00\u5bbf\u4e3b\u673a\u4e0a\u7684\u5176\u5b83\u5bb9\u5668\u90fd\u4e92\u4e0d\u5e72\u6270\u3002\u800c\u4e14\uff0c\u6211\u4eec\u53ef\u4ee5\u65e0\u9650\u6b21\u5730\u4ece\u540c\u4e00\u955c\u50cf\uff0c\u751f\u6210\u76f8\u540c\u7684\u5bb9\u5668\u3002\u53ef\u590d\u73b0\u7684\u90e8\u7f72\u7ec8\u4e8e\u5f97\u5230\u5b8c\u7f8e\u7684\u5b9e\u73b0\u3002</p> <p>\u6211\u4eec\u5728<code>build.sh</code>\u4e2d\uff0c\u6307\u5b9a\u4e86\u5bb9\u5668\u7684\u7aef\u53e3\u4e3a7080\u3002\u73b0\u5728\uff0c\u5bb9\u5668\u5df2\u7ecf\u542f\u52a8\uff0c\u670d\u52a1\u4e5f\u6b63\u5728\u8fd0\u884c\uff0c\u8ba9\u6211\u4eec\u8bbf\u95ee\u5b83\u5427\uff1a</p> <p></p> <p>\u6211\u4eec\u5728\u7b2c\u4e00\u7ae0\u91cc\u770b\u5230\u8fc7\u8fd9\u5f20\u56fe\u3002</p> <p>\u5c31\u8ba9\u6211\u4eec\u4ece\u8fd9\u91cc\u5f00\u59cb\uff0c\u4e5f\u5728\u8fd9\u91cc\u7ed3\u675f\u3002\u73b0\u5728\uff0c\u662f\u4f60\u5f00\u59cb\u81ea\u5df1\u7684\u706b\u661f\u63a2\u7d22\u4e4b\u65c5\u7684\u65f6\u523b\u4e86\u3002</p> <p>[^4]: Inno Setup\u7684\u5b98\u7f51\u662f\uff1ahttps://jrsoftware.org/isinfo.php</p> <p>[^7]: Py2app\u7684\u5b98\u7f51\u5730\u5740\u662f: https://py2app.readthedocs.io/ [^8]: Nuitka\u7684\u5b98\u7f51\u5730\u5740\u662f: https://nuitka.net/ [^9]: WiX\u7684\u5b98\u7f51\u5730\u5740\u662f: https://wixtoolset.org/</p> <p>[^12]: Docker Hub\u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://hub.docker.com</p>"},{"location":"articles/python/visualize/dash/","title":"Dash: \u6838\u5fc3\u6982\u5ff5\u3001\u8def\u7531\u3001Auth \u4e0e Pitfall","text":"<p>Dash \u662f\u4e00\u4e2a\u901a\u8fc7 python \u8bed\u8a00\u6765\u5f00\u53d1 web \u754c\u9762\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u5c06\u524d\u7aef\u7f16\u8bd1\u6210 html/js/css \u5e76\u8fd0\u884c\u7684\u6846\u67b6\u3002\u5b83\u4f7f\u5f97Python\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u6210\u4e3a\u5168\u6808\u5f00\u53d1\u5de5\u7a0b\u5e08\u3002\u5176\u4e3b\u8981\u7279\u70b9\u662f\uff1a</p> <ol> <li> <p>\u5b8c\u5168\u4f7f\u7528 Python \u6765\u5f00\u53d1\uff0c\u65e0\u8bba\u662f\u754c\u9762\u5143\u7d20\u8fd8\u662f\u670d\u52a1\u7aef\u903b\u8f91\u3002Dash \u4e0d\u4ec5\u8d1f\u8d23\u5c06 python \u7f16\u5199\u7684\u754c\u9762\u5143\u7d20\u8f6c\u5316\u4e3a html/js/css\uff0c\u800c\u4e14\u8d1f\u8d23\u524d\u7aef\u4e0e\u540e\u7aef\u7684\u4ea4\u4e92\u3002\u56e0\u6b64\uff0c\u7a0b\u5e8f\u5458\u53ef\u4ee5\u5b8c\u5168\u5728 python \u8bed\u8a00\u6846\u67b6\u5185\u5b8c\u6210\u5168\u90e8\u5de5\u4f5c\u3002</p> </li> <li> <p>Dash \u5185\u7f6e flask \u670d\u52a1\u5668\uff0c\u56e0\u6b64 flask \u7684\u8bf8\u591a\u8fd0\u884c\u673a\u5236\u4e5f\u4e00\u6837\u9002\u7528\uff0c\u6bd4\u5982\u53ef\u4ee5\u5982\u4e0b\u83b7\u53d6 cookie:</p> </li> </ol> <pre><code>import flask\n\nflask.request.cookies.get(\"your cookie name\")\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u5728\u5168\u5c40\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5 callback \u65b9\u6cd5\u4e2d\u4f7f\u7528\uff08\u8fd9\u91cc\u7684 callback \u7279\u6307 Dash \u7684 app.callback\uff09\u3002</p> <ol> <li>\u4e0e plotly \u65e0\u7f1d\u96c6\u6210\uff0c\u5177\u6709\u8f83\u5f3a\u7684\u53ef\u89c6\u5316\u80fd\u529b\u3002\u5c24\u4e3a\u53ef\u8d35\u7684\u662f\uff0c\u53ef\u89c6\u5316\u662f web \u4ea4\u4e92\u5f0f\u7684\uff0c\u4f46\u53c8\u5b8c\u5168\u662f\u901a\u8fc7 Python \u6765\u7f16\u7a0b\u7684\uff08\u6ce8\u610f javascript \u63d0\u4f9b\u4e86\u4ea4\u4e92\u80fd\u529b\uff0c\u800c python \u662f\u4e0d\u53ef\u80fd\u7684\uff09\u3002</li> </ol> <p>\u8fd9\u4e00\u7bc7\u6587\u7ae0\u662f\u6211\u4eec\u5728\u6df1\u5165\u4f53\u9a8c\u8fc7Dash\u4e4b\u540e\uff0c\u5c31\u5b83\u7684\u6838\u5fc3\u6982\u5ff5\u3001\u8def\u7531\u3001Auth\u7b49\u7b49\u8fdb\u884c\u7684\u68b3\u7406\uff0c\u8fd8\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u5e38\u89c1\u7684pitfall\u3002</p> <p>\u6211\u662f\u91cf\u5316\u98ce\u4e91\uff0c\u91cf\u5316\u4ece\u4e1a\u8005\uff0c\u6709\u591a\u5e74\u91cf\u5316\u6846\u67b6\u548c\u7b56\u7565\u7684\u7814\u53d1\u7ecf\u9a8c\u3002\u6b22\u8fce\u5173\u6ce8\uff01\u5982\u679c\u9700\u8981\u672c\u5730\u5316\u90e8\u7f72\u91cf\u5316\u6295\u7814\u6846\u67b6\uff0c\u53ef\u4ee5\u4f7f\u7528 Zillionare 2.0\u3002\u5b83\u57fa\u4e8eInfluxdb\u6784\u5efa\uff0c\u76ee\u524d\u5728\u751f\u4ea7\u73af\u5883\u4e0b\u5df2\u5b58\u50a8\u8d85\u8fc735\u4ebf\u6761\u6d77\u91cf\u884c\u60c5\u6570\u636e\u3002</p>"},{"location":"articles/python/visualize/dash/#1","title":"1. \u6838\u5fc3\u6982\u5ff5","text":"<p>\u5728\u4e00\u822c\u7684 web \u7f16\u7a0b\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u8981\u4e3a\u89c6\u56fe\u51c6\u5907\u4e24\u4e2a handler\uff0c\u4e00\u4e2a\u54cd\u5e94 GET \u8bf7\u6c42\uff0c\u63d0\u4f9b\u521d\u59cb\u5316\u7684\u754c\u9762\uff0c\u4f9b\u7528\u6237\u64cd\u4f5c\uff1b\u53e6\u4e00\u4e2a\u54cd\u5e94 POST \u8bf7\u6c42\uff0c\u63a5\u6536\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u8fdb\u884c\u5904\u7406\u540e\uff0c\u518d\u91cd\u5b9a\u5411\u5230\u65b0\u7684\u89c6\u56fe\u3002</p> <p>\u5728 Dash \u4e2d\uff0c\u4e0a\u8ff0\u4ea4\u4e92\u5bf9\u7528\u6237\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u6211\u4eec\u51c6\u5907\u4e00\u4e2a\u89c6\u56fe\uff0c\u901a\u8fc7 callback \u6765\u5904\u7406\u7528\u6237\u7684\u8f93\u5165\u3002\u5f53\u7528\u6237\u5728\u524d\u7aef\u8fdb\u884c\u8f93\u5165\u65f6\uff0cdash \u81ea\u52a8\u5c06\u8fd9\u4e9b\u6d88\u606f (click \u4e8b\u4ef6\u6216\u8005\u503c\u53d8\u66f4\uff09\u53ca\u65f6\u4f20\u9012\u7ed9\u540e\u7aef\uff0c\u5e94\u7528\u5728\u5219 callback \u4e2d\u5f97\u5230\u8fd9\u4e9b\u8f93\u5165\u503c\uff0c\u5b8c\u6210\u6821\u9a8c\uff0c\u5c06\u7ed3\u679c\u66f4\u65b0\u5230\u540c\u4e00\u4e2a\u89c6\u56fe\u4e2d\u7684\u67d0\u4e9b\u63a7\u4ef6\u4e0a\uff0c\u6216\u8005\u8f93\u51fa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe\uff08\u5982\u679c\u6307\u5b9a\u7684 Output \u4e2d\u7ed1\u5b9a\u4e86\u67d0\u4e2a html \u63a7\u4ef6\u7684 children \u5c5e\u6027\u7684\u8bdd\uff09\u3002</p> <pre><code>layout = dbc.Container(\n    [\n        html.Br(),\n        dbc.Container(\n            [\n                dcc.Location(id=\"urlLogin\", pathname=\"/login\", refresh=True),\n                html.Div(\n                    [\n                        dbc.Container(\n                            html.Img(\n                                src=\"/assets/dash-logo-stripe.svg\", className=\"center\"\n                            ),\n                        ),\n                        dbc.Container(\n                            id=\"loginType\",\n                            children=[\n                                dcc.Input(\n                                    placeholder=\"Enter your username\",\n                                    type=\"text\",\n                                    id=\"usernameBox\",\n                                    className=\"form-control\",\n                                    n_submit=0,\n                                ),\n                                html.Br(),\n                                dcc.Input(\n                                    placeholder=\"Enter your password\",\n                                    type=\"password\",\n                                    id=\"passwordBox\",\n                                    className=\"form-control\",\n                                    n_submit=0,\n                                ),\n                                html.Br(),\n                                html.Button(\n                                    children=\"Login\",\n                                    n_clicks=0,\n                                    type=\"submit\",\n                                    id=\"loginButton\",\n                                    className=\"btn btn-primary btn-lg\",\n                                ),\n                                html.Br(),\n                            ],\n                            className=\"form-group\",\n                        ),\n                    ]\n                ),\n            ],\n            className=\"jumbotron\",\n        ),\n    ]\n)\n\n################################################################################\n# LOGIN BUTTON CLICKED / ENTER PRESSED - REDIRECT TO PAGE1 IF LOGIN DETAILS ARE CORRECT\n################################################################################\n@callback(\n    Output(\"urlLogin\", \"pathname\"),\n    Input(\"loginButton\", \"n_clicks\"),\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n    suppress_callback_exceptions=True,\n)\ndef on_login(n_clicks, username, password):\n    if n_clicks == 0:\n        print(\"first loaded\")\n    else:\n        print(\"login button clicked with:\", username, password)\n        response = dash.callback_context.response\n        if login_user(response, username, password):\n            # JUMP TO INDEX PAGE\n            return \"/\"\n\n@callback(\n    Output(\"usernameBox\", \"className\"),\n    [\n        Input(\"loginButton\", \"n_clicks\"),\n        Input(\"usernameBox\", \"n_submit\"),\n        Input(\"passwordBox\", \"n_submit\"),\n    ],\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n)\ndef update_output(n_clicks, usernameSubmit, passwordSubmit, username, password):\n    print(\"update_output by usernameBox\")\n    if (n_clicks &gt; 0) or (usernameSubmit &gt; 0) or (passwordSubmit &gt; 0):\n        if get_current_user() is None:\n            response = dash.callback_context.response\n            if login_user(response, username, password):\n                return \"form-control\"\n            else:\n                return \"form-control is-invalid\"\n        else:\n            return \"form-control is-invalid\"\n    else:\n        return \"form-control\"\n\n################################################################################\n# LOGIN BUTTON CLICKED / ENTER PRESSED - RETURN RED BOXES IF LOGIN DETAILS INCORRECT\n################################################################################\n@callback(\n    Output(\"passwordBox\", \"className\"),\n    [\n        Input(\"loginButton\", \"n_clicks\"),\n        Input(\"usernameBox\", \"n_submit\"),\n        Input(\"passwordBox\", \"n_submit\"),\n    ],\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n)\ndef update_output(n_clicks, usernameSubmit, passwordSubmit, username, password):\n    print(\"in update_output: passwordBox\")\n    if (n_clicks &gt; 0) or (usernameSubmit &gt; 0) or (passwordSubmit) &gt; 0:\n        if get_current_user() is None:\n            response = dash.callback_context.response\n\n            if login_user(response, username, password):\n                return \"form-control\"\n            else:\n                return \"form-control is-invalid\"\n        else:\n            return \"form-control is-invalid\"\n    else:\n        return \"form-control\"\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u89c6\u56fe\u3002\u6709\u51e0\u70b9\u9700\u8981\u6ce8\u610f\uff1a</p> <ol> <li> <p>\u8fd9\u4e2a\u89c6\u56fe\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a dcc.Location \u5bf9\u8c61\u3002\u5728\u89c6\u56fe\u4e2d\u53ea\u8981\u5b58\u5728\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 callback \u6765\u6539\u53d8\u5176 url \u5c5e\u6027\uff0c\u4ece\u800c\u5f15\u8d77\u91cd\u65b0\u52a0\u8f7d\uff08\u91cd\u65b0\u52a0\u8f7d\u65e2\u53ef\u80fd\u662f\u539f\u89c6\u56fe\uff0c\u4e5f\u53ef\u80fd\u662f\u65b0\u7684\u9875\u9762\uff09</p> </li> <li> <p>\u7b2c\u4e00\u4e2a callback \u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u63a5\u6536\u6765\u81ea usernameBox \u548c passwordBox \u4e2d\u7684\u503c\uff0c\u5224\u65ad\u7528\u6237\u80fd\u5426\u767b\u5f55\u3002\u5982\u679c\u5141\u8bb8\u767b\u5f55\uff0c\u6211\u4eec\u5c31\u4fee\u6539\u4e0a\u8ff0 dcc.Location \u5bf9\u8c61\u7684\u8def\u5f84\u4e3a\"/\"\uff0c\u5728\u67d0\u4e2a\u5730\u65b9\uff0c\u6211\u4eec\u5c06\u8fd9\u4e2a\u8def\u5f84\u6307\u5411\u5e94\u7528\u7a0b\u5e8f\u7684\u7f3a\u7701\u663e\u793a\u9875\uff08\u5373 homepage\uff09\u3002\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7\u5c06\u4e0a\u8ff0\u4e24\u4e2a\u63a7\u4ef6\uff08\u4ee5\u53ca loginButton\uff09\u4f5c\u4e3a\u8f93\u5165\uff0c\u5c06 urlLogin \u63a7\u4ef6\uff08\u5373 dcc.Location\uff09\u4f5c\u4e3a\u8f93\u51fa\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u5e76\u4e14\u5728\u6210\u529f\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd4\u56de\u8def\u5f84\"/\"\u6765\u5b9e\u73b0\u7684\u3002</p> </li> <li> <p>\u5176\u5b83\u4e24\u4e2a\u65b9\u6cd5\u5206\u522b\u5904\u7406\u4e0a\u8ff0\u8f93\u5165\u63a7\u4ef6\u6fc0\u53d1\u6570\u636e\u53d8\u5316\uff0c\u4f46\u9a8c\u8bc1\u4e0d\u80fd\u901a\u8fc7\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u7528\u6237\u63d0\u793a\u54ea\u4e2a\u63a7\u4ef6\u7684\u8f93\u5165\u6709\u9519\u8bef\u3002\u8fd9\u65f6\u6211\u4eec\u4e0d\u4fee\u6539 urlLogin \u63a7\u4ef6\u7684 pathname \u503c\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u4ecd\u7136\u505c\u7559\u5728\u672c\u9875\u9762\u3002</p> </li> </ol>"},{"location":"articles/python/visualize/dash/#2","title":"2. \u8def\u7531","text":"<p>\u4e00\u822c\u800c\u8a00\uff0cDash \u5e94\u7528\u7a0b\u5e8f\u6ca1\u6709\u8def\u7531\u3002\u4f46\u662f\uff0c\u53ea\u8981\u662f\u6784\u5efa\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u90fd\u4e0d\u53ef\u907f\u514d\u5730\u6d89\u53ca\u8def\u7531\u95ee\u9898\uff1a\u5728\u4f20\u7edf c/s \u7a0b\u5e8f\u4e2d\uff0c\u529f\u80fd\u90fd\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u4e2a page\uff08\u6bcf\u4e2a page \u5bf9\u5e94\u4e00\u4e2a url\uff09\uff0c\u670d\u52a1\u7aef\u901a\u8fc7\u54cd\u5e94\u6d4f\u89c8\u5668\u63d0\u4ea4\u7684\u8def\u5f84\uff0c\u6839\u636e\u8def\u7531\u914d\u7f6e\u6765\u751f\u6210\u54cd\u5e94\u9875\u9762\u3002</p> <p>\u5728\u5927\u578b SPA \u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u5373\u4f7f server \u7aef\u53ea\u5904\u7406\u5c11\u6570\u51e0\u4e2a\u8def\u7531\uff0c\u6211\u4eec\u4e5f\u5f80\u5f80\u5728\u524d\u7aef\u751f\u6210\u8def\u7531\u8868\u6765\u5207\u6362\u89c6\u56fe\uff0c\u4ee5\u4fdd\u6301\u4ee3\u7801\u7684\u7b80\u6d01\u53ef\u8bfb\uff08\u53e6\u4e00\u4e2a\u539f\u56e0\u662f\u53ef\u4ee5\u5b9e\u73b0\u5206\u6b65\u52a0\u8f7d\uff0c\u63d0\u9ad8\u521d\u6b21\u54cd\u5e94\u901f\u5ea6\uff09\u3002</p> <p>\u5f88\u663e\u7136\uff0c\u8981\u6784\u5efa\u590d\u6742\u7684 Dash \u5e94\u7528\uff0c\u6211\u4eec\u4e5f\u5fc5\u987b\u4f7f\u7528\u8def\u7531\u3002Dash \u76ee\u524d\u6ca1\u6709\u63d0\u4f9b\u524d\u7aef\u8def\u7531\u673a\u5236\uff0c\u76f8\u53cd\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u591a\u9875\u5e94\u7528\u7684\u65b9\u5f0f\u3002\u5176\u6838\u5fc3\u662f\uff0c\u5982\u679c\u5f53\u524d\u89c6\u56fe\u5904\u7406\u5b8c\u6210\u4e86\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u6539\u53d8\u9875\u9762\u4e2d\u7684 Location \u63a7\u4ef6\u7684 pathname \u5c5e\u6027\uff08\u5f53\u7136\u662f\u901a\u8fc7 callback \u673a\u5236\uff0c\u89c1\u4e0a\u4e00\u8282\uff09\uff0c\u4ece\u800c\u5f15\u8d77\u91cd\u5b9a\u5411\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u8def\u7531\u5b9e\u73b0\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u6309\u7167 Dash \u7684\u60ef\u4f8b\uff0c\u5b9a\u4e49\u4e00\u4e2a layout:</p> <pre><code># ROUTING.PY\n\nlayout = html.Div(\n    [\n        dcc.Location(id=\"router\", refresh=False),\n        html.Div(id=\"page-content\")\n    ],\n    id=\"rootElement\",\n)\n</code></pre> <p>\u8fd9\u4e2a layout \u975e\u5e38\u7b80\u5355\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u6253\u7b97\u7528\u5b83\u6765\u5c55\u793a\u4efb\u4f55\u4e1c\u897f\uff0c\u53ea\u662f\u7b80\u5355\u5730\u7528\u6765\u505a\u8def\u7531\u8f6c\u53d1\u3002\u4e3a\u4e86\u505a\u5230\u8fd9\u4e00\u70b9\uff0c \u6211\u4eec\u9700\u8981\u63d0\u4f9b\u4fee\u6539 ur \u8fd9\u4e2a Location \u63a7\u4ef6\u7684 pathname \u5c5e\u6027\uff08\u5047\u8bbe\u6240\u6709\u7684\u8df3\u8f6c\u90fd\u5728\u672c\u670d\u52a1\u4ee5\u5185\uff09\u7684\u673a\u5236\uff0c\u8fd9\u662f\u901a\u8fc7\u5c06\u8fd9\u4e2a\u63a7\u4ef6\u4f5c\u4e3a Output\uff0cLocation \u63a7\u4ef6\u4f5c\u4e3a\u8f93\u5165\u8fdb\u884c\u7ed1\u5b9a\u6765\u5b9e\u73b0\u7684\uff1a</p> <pre><code># ROUTING.PY\n\n@callback(Output(\"page-content\", \"children\"), \n          [Input(\"router\", \"pathname\")])\ndef _routing(pathname):\n    # ENSURE AUTH\n    if not auth.get_current_user():\n        return auth.layout\n\n    handler = routes.get(pathname, None)\n    if handler is None:\n        return homepage.layout\n\n    return handler()\n</code></pre> <p>\u8fd9\u91cc\u7684 Location \u63a7\u4ef6\u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u5e76\u4e0d\u4f1a\u51fa\u73b0\u5728\u9875\u9762\u5143\u7d20\u4e2d\u3002\u4f3c\u4e4e\u4e00\u4e2a\u9875\u9762\u4e5f\u5141\u8bb8\u591a\u4e2a Location \u63a7\u4ef6\uff0c\u4f46\u90fd\u5c06\u66f4\u65b0\u5f53\u524d\u7a97\u53e3\u7684\u5730\u5740\u3002</p> <p>\u4e0a\u8ff0 callback \u7684\u673a\u5236\u662f\uff0c\u5f53\u68c0\u6d4b\u5230\u5f53\u524d\u7a97\u53e3\u7684 pathname\uff08dash \u7528\u8bed\uff0c\u6307 http://host:port/server_path\uff1fquery_string \u4e2d\u7684 server_path\uff09\u53d1\u751f\u6539\u53d8\u540e\uff0c\u5c06\u4f1a\u89e6\u53d1\u8fd9\u4e2a callback \u8fd0\u884c\uff0c\u5e76\u4e14\u51fd\u6570\u5f97\u5230\u65b0\u7684 pathname\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u68c0\u6d4b\u7528\u6237\u662f\u5426\u5df2\u767b\u5f55\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u8fd4\u56de\u767b\u5f55\u9875\u9762\uff08auth.layout\uff09\uff0c\u5426\u5219\uff0c\u8c03\u7528\u8def\u5f84\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u9875\u9762\u89c6\u56fe\uff0c\u800c dash \u5219\u5c06\u8fd9\u4e2a\u65b0\u7684\u89c6\u56fe\u88c5\u8f7d\u5230\u4e0a\u8ff0\"page-content\"\u4e2d\u3002page-content \u4e2d\u539f\u6765\u7684\u5143\u7d20\u5219\u88ab\u6e05\u9664\uff08\u8fd9\u91cc\u53ef\u80fd\u5f15\u8d77\u5185\u5b58\u95ee\u9898\uff09\u3002</p> <p>\u8fd9\u91cc\u5e76\u6ca1\u6709\u770b\u5230\u4efb\u4f55\u5b9e\u9645\u7684\u8def\u7531\u548c\u8def\u7531\u5904\u7406\u51fd\u6570\u3002\u6240\u6709\u7684\u8def\u7531\uff0c\u90fd\u6536\u96c6\u5728 routing.py \u4e2d\u7684 routes \u96c6\u5408\u4e2d\uff0c\u5e76\u4e14\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u88c5\u9970\u5668\u6765\u8ba9\u7ec4\u4ef6\u81ea\u5df1\u6ce8\u518c\u8def\u7531\uff1a</p> <pre><code># ROUTING.PY\n\nroutes = {}\n\ndef on(pathname: str):\n    \"\"\"\n    dispatch function.\n    \"\"\"\n    def decorator(func):\n        global routes\n\n        routes[pathname] = func\n        return func\n    return decorator\n</code></pre> <p>auth \u89c6\u56fe\u7a0d\u5fae\u590d\u6742\u4e00\u4e9b\uff0c\u4e0e\u8def\u7531\u76f8\u5173\u7684\u90e8\u5206\u662f\uff1a</p> <pre><code>layout = dbc.Container(\n    [\n        html.Br(),\n        dbc.Container(\n            [\n                dcc.Location(id=\"urlLogin\", pathname=\"/login\", refresh=True),\n              ...\n\n# CALLBACK\n@callback(\n    Output(\"urlLogin\", \"pathname\"),\n    Input(\"loginButton\", \"n_clicks\"),\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n    suppress_callback_exceptions=True,\n)\ndef on_login(n_clicks, username, password):\n    if n_clicks == 0:\n       ...\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0cloginButton \u7684\u70b9\u51fb\u3001\u6216\u8005 usernameBox\u3001passwordBox \u7684\u503c\u53d8\u5316\u90fd\u4f1a\u5f15\u8d77\u8fd9\u4e2a callback \u88ab\u8c03\u7528\uff0c\u5e76\u4e14\u5f53\u5b83\u88ab\u8c03\u7528\u65f6\uff0c\u6211\u4eec\u5df2\u7ecf\u62ff\u5230\u4e86\u7528\u6237\u8f93\u5165\u7684 username \u548c password\uff08\u6309\u58f0\u660e\u987a\u5e8f\u7ed1\u5b9a\u5230 Input, State \u5bf9\u8c61\u4e0a\uff09\u3002\u6211\u4eec\u73b0\u5728\u8981\u505a\u7684\u5c31\u662f\uff0c\u68c0\u67e5 username \u548c password \u662f\u5426\u6709\u6548\uff0c\u5982\u679c\u6709\u6548\uff0c\u5219\u8ba9\u7528\u6237\u767b\u5f55\uff0c\u751f\u6210 session\uff0c\u6700\u7ec8\u8fd4\u56de\u4e00\u4e2a\u8def\u5f84\uff08str\uff09\uff0cdash \u4f1a\u5c06\u8fd9\u4e2a\u8def\u5f84\u66f4\u65b0\u5230 Location \u63a7\u4ef6\uff0c\u6700\u7ec8\u5bfc\u81f4 dash \u5411\u540e\u53f0\u8bf7\u6c42\u65b0\u7684\u9875\u9762\u3002 \u6ce8\u518c\u8def\u7531</p> <p>\u5728 auth \u6a21\u5757\u7684 controller.py \u4e2d\uff0c\u6211\u4eec\u6ce8\u518c\u4e24\u4e2a\u8def\u7531\uff1a</p> <pre><code>from .models import get_current_user, remove_current_user\nfrom .view import layout\nfrom alpha.web import routing\n\n@routing.on('/logout')\ndef logout():\n    if  get_current_user():\n        remove_current_user()\n\n    return layout\n\n@routing.on('/login')\ndef login():\n    return layout\n</code></pre> <p>\u5f53\u4e0a\u8ff0 controller.py \u88ab\u5bfc\u5165\u65f6\uff0c\u6ce8\u518c\u5c06\u81ea\u52a8\u5b8c\u6210\u3002\u4f46\u6211\u4eec\u9700\u8981\u6709\u65b9\u6cd5\u6765\u4fdd\u8bc1\u8fd9\u4e2a\u6ce8\u518c\u4e00\u5b9a\u4f1a\u5728\u7a0b\u5e8f\u5f00\u59cb\u524d\u5c31\u5b8c\u6210\u3002\u56e0\u6b64 routing \u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a build_blueprints() \u7684\u65b9\u6cd5\uff1a</p> <pre><code>def build_blueprints():\n    \"\"\"\n    collect all routes by import controller from web/*/controller.py\n    \"\"\"\n    _dir = os.path.dirname(os.path.abspath(__file__))\n    package_prefix = \"alpha.web.\"\n    for pyfile in glob.glob(f\"{_dir}/**/controller.py\"):\n        sub = pyfile.replace(f\"{_dir}/\", \"\").replace(\".py\", \"\").replace(\"/\", \".\")\n        module_name = package_prefix + sub\n        importlib.import_module(module_name)\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u8981\u6c42\uff0c\u6240\u6709\u7684\u9875\u9762\u6a21\u5757\u90fd\u653e\u5728 alpha.web \u76ee\u5f55\u4e0b\uff0c\u5e76\u4e14\u4e8b\u4ef6\u54cd\u5e94\u90fd\u5728 controller.py \u4e2d\u3002\u5982\u679c\u4f60\u7684\u4ee3\u7801\u6709\u5176\u5b83\u7684\u7ec4\u7ec7\u65b9\u5f0f\uff0c\u9700\u8981\u5bf9\u6b64\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u6211\u4eec\u518d\u6765\u770b\u53e6\u4e00\u4e2a\u89c6\u56fe\uff0c\u5373\u6839\u89c6\u56fe\u3002\u5f53\u7528\u6237\u767b\u5f55\u540e\uff0c\u5c31\u4f1a\u8fdb\u5165\u5230\u8fd9\u4e2a\u89c6\u56fe\u3002\u8fd9\u4e2a\u89c6\u56fe\u4f4d\u7f6e\u5728 alpha.web.homepage \u4e0b\uff0c\u5b83\u7684 view \u7279\u522b\u7b80\u5355\uff1a</p> <pre><code>from dash import html, dcc, callback, Input, Output\nfrom alpha.web import auth\n\nlayout = html.Div(\n    [\n        dcc.Location(id=\"homepage\", refresh=False)\n        html.H1(\"logout\"),\n        dcc.Link(\"Logout\", href=\"/logout\"),\n    ], id=\"rootElement\"\n)\n</code></pre> <p>\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u94fe\u63a5\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u540e\uff0c\u5c31\u4f1a\u8df3\u8f6c\u5230/logout \u8fd9\u4e2a\u8def\u5f84\u4e0a\uff08\u8fd9\u662f Dash \u4e2d\u6539\u53d8\u89c6\u56fe\u7684\u53e6\u4e00\u4e2a\u65b9\u6cd5\uff09\u3002\u7136\u540e routing \u6a21\u5757\u68c0\u6d4b\u5230\u65b0\u7684 pathname\uff0c\u4e8e\u662f\u89e6\u53d1 callback\uff0c\u627e\u5230/logout \u7684\u5904\u7406\u51fd\u6570\uff0c\u9000\u51fa\u5f53\u524d\u7528\u6237\uff0c\u5e76\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762\u3002\u56e0\u6b64\uff0c\u8fd9\u91cc\u7684 Location \u7ec4\u4ef6\u5e76\u6ca1\u6709\u8d77\u4f5c\u7528\uff0c\u6211\u4eec\u58f0\u660e\u8fd9\u6837\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u53ea\u662f\u4e3a\u4e86\u5c06\u6765\u4e4b\u7528\u3002</p>"},{"location":"articles/python/visualize/dash/#3-gotcha","title":"3. Gotcha","text":"<p>routing.py \u80fd\u591f\u63d0\u4f9b\u8def\u7531\u7684\u5173\u952e\u539f\u56e0\u662f\uff0crootElement \u662f\u540e\u9762\u6240\u6709\u89c6\u56fe\u7684\u7236\u7ed3\u70b9\uff0c\u53ea\u8981\u8fd9\u4e2a\u8282\u70b9\u5b58\u5728\uff0c\u8def\u7531\u673a\u5236\u5c31\u6709\u6548\u3002</p> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u5373\u4f7f\u5207\u6362\u5230\u4e86 logout \u89c6\u56fe\uff0c\u8fd9\u4e2a rootElement \u4ecd\u7136\u5b58\u5728\u3002\u56e0\u6b64\uff0c\u5728 routing \u4e2d\uff0c\u6211\u4eec\u5fc5\u987b\u5c06\u65b0\u7684\u89c6\u56fe\u66f4\u65b0\u5230\u201cpage-content\"\u8282\u70b9\u4e0b\uff0c\u800c\u4e0d\u662f rootElement \u4e2d\u3002\u5426\u5219\uff0c\u6211\u4eec\u5c06\u6467\u6bc1\u8fd9\u4e2a\u603b\u8def\u7531\u3002</p>"},{"location":"articles/python/visualize/how-to-scale/","title":"\u91cf\u5316\u7b56\u7565\u4e2d\u5982\u4f55\u8fdb\u884c\u7f29\u653e\u548c\u5f52\u4e00\u5316","text":"<p>\u7f29\u653e\u548c\u5f52\u4e00\u5316\u662f\u673a\u5668\u5b66\u4e60\u4e2d\u5fc5\u7136\u9047\u5230\u7684\u4e00\u4e2a\u95ee\u9898\u3002\u5728\u91cf\u5316\u7b56\u7565\u4e2d\uff0c\u4e0d\u7ba1\u662f\u5426\u7528\u5230\u673a\u5668\u5b66\u4e60\uff0c\u6211\u4eec\u4e5f\u5e38\u5e38\u9047\u5230\u7c7b\u4f3c\u95ee\u9898\u3002</p> <p>\u5728\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u91d1\u878d\u5b9e\u6218\u8bfe\u300b\u7b2c12\u8bfe\u4e2d\uff0c\u5bf9\u8fd9\u4e2a\u95ee\u9898\u8fdb\u884c\u4e86\u8f83\u6df1\u5165\u7684\u8ba8\u8bba\u3002\u8fd9\u7bc7\u6587\u7ae0\u65e2\u662f\u5bf9\u8be5\u8bfe\u5185\u5bb9\u7684\u4e00\u4e2a\u6458\u8981\uff0c\u4e5f\u662f\u52a0\u5165\u4e86\u4e00\u4e9b\u65b0\u7684\u601d\u8003\uff0c\u53ef\u4ee5\u72ec\u7acb\u6210\u7bc7\u3002</p> <p>\u4ece\u6570\u5b66\u4e0a\u770b\uff0c\u7f29\u653e\uff08\u5f52\u4e00\u5316\uff09\u662f\u4ece\u4e00\u4e2a\u503c\u57df\u6620\u5c04\u5230\u53e6\u4e00\u4e2a\u503c\u57df\u7684\u8fc7\u7a0b\u3002\u8fd9\u79cd\u6620\u5c04\uff0c\u6709\u7684\u662f\u7ebf\u6027\u7684\uff08\u6bd4\u5982min-max scale\uff09\uff0c\u6709\u65f6\u5019\u5219\u9700\u8981\u975e\u7ebf\u6027\u6620\u5c04\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5e38\u5e38\u9700\u8981\u5c06\u4e00\u4e2a\\((-\\infin, +\\infin)\\)\u7684\u533a\u95f4\u6620\u5c04\u5230\\((-1, 1)\\)\u6216\u8005\\((0, 1)\\)\u4e0a\u3002</p> <p>\u4ece\u91cf\u5316\u4ea4\u6613\u7684\u89d2\u5ea6\u770b\uff0cWR\u6307\u6807\uff08William's R)\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684min-max scale\uff0c\u5b83\u7684\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ WR = \\frac{max(high) - close}{max(high) - min(low)} \\] <p>Attention</p> <p>\u5728\u91cf\u5316\u4ea4\u6613\u4e2d\u4f7f\u7528min-max scale\u4e00\u5b9a\u8981\u975e\u5e38\u5c0f\u5fc3\u3002 \u5b83\u4e3b\u8981\u5b58\u5728\u4e24\u4e2a\u95ee\u9898\u3002 \u5176\u4e00\u662f\u5b83\u5f15\u5165\u4e86\u672a\u6765\u6570\u636e\uff08\u4f46\u4e0d\u662f\u5728\u6240\u6709\u60c5\u51b5\u4e0b\u90fd\u4f1a\u5f15\u5165\u672a\u6765\u6570\u636e\uff0c\u6bd4\u5982William's R\u5728\u5b9e\u65f6\u8ba1\u7b97\u65f6\uff0c\u662f\u4e0d\u5b58\u5728\u672a\u6765\u6570\u636e\u7684\uff1b\u4f46\u5728\u56de\u6d4b\u4e2d\u662f\u5426\u5f15\u5165\u672a\u6765\u6570\u636e\uff0c\u5c31\u8981\u770b\u4f60\u600e\u4e48\u7528\u4e86\u3002 \u5176\u4e8c\u662f\uff0c\u4f7f\u7528\u7ecf\u8fc7min-max scale\u5904\u7406\u7684\u6570\u636e\u6765\u8fdb\u884c\u9884\u6d4b\uff0c\u9884\u6d4b\u503c\u4e00\u5b9a\u5728[min, max]\u533a\u95f4\u5185\u3002\u4f46\u662f\uff0c\u80a1\u4ef7\u4e0d\u5b58\u5728\u786e\u5b9a\u7684min/max\u3002\u5982\u679c\u6211\u4eec\u6839\u636e\u5f53\u4e0b\u7ecf\u8fc7min-max scale\u5904\u7406\u540e\u7684\u6570\u636e\u6765\u9884\u6d4b\u672a\u6765\u7684\u80a1\u4ef7\uff0c\u9884\u6d4b\u51fa\u6765\u7684\u80a1\u4ef7\u662f\u4e0d\u53ef\u80fd\u7a81\u7834\u5f53\u4e0b\u89c1\u5230\u7684\u6700\u5927\u503c\u7684\uff0c\u800c\u5b9e\u9645\u4e0a\uff0c\u80a1\u4ef7\u662f\u53ef\u4ee5\u6da8\u4e0a\u5929\u7684\u3002 \u4e0e\u4e4b\u5bf9\u6bd4\uff0c\u5728\u9e22\u5c3e\u82b1\u6570\u636e\u96c6\u4e2d\uff0c\u6211\u4eec\u5bf9\u82b1\u74e3\u7684\u957f\u5ea6\u548c\u5bbd\u5ea6\u90fd\u53ef\u4ee5\u8fdb\u884cmin-max scale\uff0c\u56e0\u4e3a\u6211\u4eec\u7684\u91c7\u6837\u57fa\u672c\u4e0a\u80fd\u591f\u4ee3\u8868\u603b\u4f53\uff0c\u672a\u6765\u4e5f\u57fa\u672c\u4e0a\u4e0d\u4f1a\u51fa\u73b0\u660e\u663e\u8d85\u51fa\u91c7\u6837\u4e2d\u7684min/max\u7684\u3002</p> <p>\u66f4\u591a\u7684\u65f6\u5019\uff0c\u5728\u91cf\u5316\u4e2d\u6211\u4eec\u9700\u8981\u8fdb\u884c\u975e\u7ebf\u6027\u6620\u5c04\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u66fe\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u5730\u91cf\u662f\u4e00\u79cd\u6bd4\u8f83\u91cd\u8981\u7684\u4ea4\u6613\u4fe1\u53f7\u3002\u5730\u91cf\u89c1\u5730\u4ef7\u3002\u4ec0\u4e48\u662f\u5730\u91cf\uff1f\u6211\u4eec\u53ef\u4ee5\u7528\u5f53\u524d\u6210\u4ea4\u91cf\u662f\u591a\u5c11\u4e2a\u5468\u671f\u4ee5\u6765\u7684\u6700\u4f4e\u503c\u6765\u5ea6\u91cf\u3002\u8fd9\u4e2a\u6570\u503c\u6700\u5c0f\u4e3a1\uff0c\u6700\u5927\u53ef\u4ee5\u662f10\u5929\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u6708\uff0c\u4e00\u5e74\u6216\u8005\u66f4\u957f\uff0c\u56e0\u6b64\uff0c\u5b83\u7684\u53d6\u503c\u8303\u56f4\u4ece\u6570\u5b66\u4e0a\u770b\u662f\\([1, +\\infin]\\)\u3002</p> <p>\u5728\u7b2c13\u8bfe\uff0c\u6211\u4eec\u4ecb\u7ecd\u5706\u5f27\u5e95\u7684\u8bc4\u4ef7\u51fd\u6570\u65f6\uff0c\u4e5f\u8bb2\u5230\u8fc7\u5706\u5f27\u5e95\u7684\u5bbd\u5ea6\u533a\u95f4\u53ef\u80fd\u5728\\([3, +\\infin)\\)\u4e4b\u95f4\u3002</p> <p>\u5bf9\u8fd9\u79cd\u503c\u57df\u8303\u56f4\u4e0d\u786e\u5b9a\u7684\uff0c\u6211\u4eec\u4e00\u822c\u53ef\u4ee5\u7528S\u578b\u51fd\u6570\u6765\u8fdb\u884c\u53d8\u6362\u3002\u8fd9\u4e9b\u51fd\u6570\u5305\u62ec\uff1a</p> \\[ f(x) = sigmoid(x) = \\frac{1}{1 + e^{-x}} \\tag 1 \\] \\[ f(x) = tanh(x) = \\frac{e^x - e^{-x}}{e^x + e^{-x}} \\tag 2 \\] \\[ f(x) = \\frac{x}{1+|x|}  \\tag 3 \\] \\[ f(x) = \\frac{x}{sqrt(1 + x^2)} \\tag 4 \\] <p>\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6211\u4eec\u7684\u91c7\u6837\u6570\u636e\u5b58\u5728\u5468\u671f\u6027\u7279\u70b9\uff0c\u800c\u4e14\u6211\u4eec\u5e0c\u671b\u5728\u53d8\u6362\u540e\uff0c\u4fdd\u7559\u5b83\u4eec\u5728\u5468\u671f\u4e0a\u7684\u5173\u8054\u6027\uff0c\u4e5f\u53ef\u4ee5\u7528\\(sin\\)\u548c\\(cos\\)\u51fd\u6570\u3002\u8fd9\u79cd\u5f52\u4e00\u5316\u65b9\u6cd5\uff0c\u5728\u8457\u540d\u7684\u300aattention is all you need\u300b\u4e00\u6587\u4e2d\u5c31\u4f7f\u7528\u8fc7\uff08\u5bf9token\u7684\u4f4d\u7f6e\u8fdb\u884c\u7f16\u7801\uff09\uff1a</p> <p></p> <p>\u8003\u8651\u5230\u80a1\u4ef7\u6ce2\u52a8\u7684\u5468\u671f\u6027\uff0c\u4e5f\u8bb8\u7c7b\u4f3c\u7684\u65b9\u6cd5\u4e5f\u5e94\u8be5\u5728\u91cf\u5316\u4e2d\u627e\u5230\u8fd0\u7528\u3002</p> <p>\u4f46\u662f\uff0c\u4f7f\u7528sigmoid\u51fd\u6570\u6765\u8fdb\u884c\u5f52\u4e00\u5316\u4e5f\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\u3002\u6bd4\u5982\u5728\u5730\u91cf\u90a3\u4e2a\u4f8b\u5b50\u4e2d\uff0c13\u4e2a\u5468\u671f\u4ee5\u6765\u7684\u5730\u91cf\uff0c\u4e0e120\u5929\u4ee5\u6765\u7684\u5730\u91cf\u76f8\u6bd4\uff0c\u663e\u7136\u4e24\u8005\u5177\u6709\u5b8c\u5168\u4e0d\u540c\u7684\u4fe1\u53f7\u542b\u4e49\uff1a\u4e00\u652f\u4e2a\u80a1\u5f88\u5bb9\u6613\u51fa\u73b013\u4e2a\u5468\u671f\u4ee5\u5185\u7684\u5730\u91cf\uff0c\u800c\u5f88\u96be\u51fa\u73b0120\u4e2a\u5468\u671f\u4ee5\u5185\u7684\u5730\u91cf\u3002\u4e00\u65e6\u51fa\u73b0\uff0c\u5f88\u5bb9\u6613\u51fa\u73b0\u4e00\u5b9a\u5e45\u5ea6\u7684\u53cd\u5f39\u3002</p> <p>\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u5176\u8fdb\u884csigmoid\u5f52\u4e00\u5316\u7684\u8bdd\uff0c\u5b83\u4eec\u7684\u53d6\u503c\u5c06\u4f1a\u662f\u4e00\u6837\u7684\uff1a</p> <p><pre><code>def sigmoid(x):\n    return 1/(1 + np.exp(-x))\n\nprint(\"sigmoid(12) == sigmoid(13)?\", np.isclose(sigmoid(12), sigmoid(13)))\n</code></pre> \u4ece\u4e0a\u4f8b\u53ef\u4ee5\u770b\u51fa\uff0c\u5b9e\u9645\u4e0a\uff0c\u5f53\\(x &gt; 12\\)\u65f6\uff0c\u5728\u8ba1\u7b97\u4e2d\u6211\u4eec\u5c31\u5df2\u7ecf\u65e0\u6cd5\u533a\u5206\u51fd\u6570\u503c\u4e4b\u95f4\u7684\u5dee\u5f02\u4e86\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u4f7f\u7528\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u8981\u5bf9sigmoid\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4f7f\u4e4b\u5728\u67d0\u4e2a\u533a\u95f4\u5185\uff0c\u5177\u6709\u8f83\u9ad8\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ f(x) = \\frac{2}{1+e^{-\\frac{ln(40000)}{b}.(x-b)+ln(0.005)}} - 1 \\] <p>\u6b64\u65f6\u56fe\u5f62\u4e3b\u8981\u7531\u53c2\u6570b\u51b3\u5b9a\u3002\u5f53b\u4e3a15\u65f6\uff0c\u56fe\u5f62\u5982\u4e0b\uff1a</p> <p></p> <p>\u8be5\u5206\u5e03\u533a\u95f4\u4e3a[-1, 1]\uff0cx\u53d6\u503c\u5728[0,b]\u4e4b\u95f4\u65f6\u5206\u5e03\u5bc6\u5ea6\u8f83\u9ad8\u3002</p> <p>\u5728\u975e\u673a\u5668\u5b66\u4e60\u578b\u7684\u91cf\u5316\u6253\u5206\u7b56\u7565\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u503e\u5411\u4e8e\u51fd\u6570\u503c\u57df\u843d\u5728[0,1]\u4e4b\u95f4\uff08\u60f3\u60f3\u770b\uff0cRSI\u548cWR\u90fd\u5728\u8fd9\u4e2a\u533a\u95f4\u5185\uff0c\u800c\u4e0d\u662f[-1,1]\uff09\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u5bf9\u4e0a\u8ff0\u516c\u5f0f\u7565\u52a0\u4fee\u6539\uff0c\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>import matplotlib.pyplot as plt\n\ndef scaled_sigmoid(x, start, end):\n    \"\"\"\u5f53`x`\u843d\u5728`[start,end]`\u533a\u95f4\u65f6\uff0c\u51fd\u6570\u503c\u4e3a[0,1]\u4e14\u5728\u8be5\u533a\u95f4\u6709\u8f83\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\n    \"\"\"\n    n = np.abs(start - end)\n\n    score = 2/(1 + np.exp(-np.log(40_000)*(x - start - n)/n + np.log(5e-3)))\n    return score/2\n\n\nfig, (ax1, ax2, ax3,ax4) = plt.subplots(nrows = 1, ncols = 4, figsize=(12,3))\n\nx = np.linspace(0, 1)\nax1.plot(x, [scaled_sigmoid(i, x[0], x[-1]) for i in x])\nax1.set_title(\"fit (0,1)\")\n\nx = np.linspace(0, 100)\nax2.plot(x, [scaled_sigmoid(i, x[0], x[-1]) for i in x])\nax2.set_title(\"fit (0, 100)\")\n\nx = np.linspace(18, 38)\nax3.plot(x, [scaled_sigmoid(i, x[0], x[-1]) for i in x])\nax3.set_title(\"fit (18, 38)\")\n\nx = np.linspace(0, 100)\nax4.plot(x, [sigmoid(i) for i in x])\nax4.set_title(\"fit (0,100) with original\")\n</code></pre> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u4e0e\u539f\u6765\u7684sigmoid\u76f8\u6bd4\uff0c\u65b0\u7684scaled_sigmoid\u51fd\u6570\u5728[start, end]\u533a\u95f4\u6709\u5f88\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\uff0c\u6b64\u533a\u57df\u5185\u7684\u5206\u5e03\u5bc6\u5ea6\u6700\u9ad8\u3002</p>"},{"location":"articles/python/visualize/matplotlib-1/","title":"matplotlib\u7684\u5e03\u5c40\u95ee\u9898\uff081\uff09","text":"<p>\u8fd9\u4e00\u7bc7\u7b14\u8bb0\uff0c\u6211\u4eec\u6765\u4ecb\u7ecdmatplotlib\u4e2d\u7684\u5e03\u5c40\u6982\u5ff5\u3002</p> <p>matplotlib\u4e2d\u7684\u5e03\u5c40\uff0c\u4e3b\u8981\u6d89\u53ca\u5230GridSpec, layout\u4ee5\u53ca\u76f8\u5173\u7684\u51fd\u6570\u6784\u6210\u3002</p> <p>\u5728matplotlib\u4e2d\uff0c\u9664\u4e86\u50cf\u6211\u4eec\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u6307\u51fa\u7684\u90a3\u6837\uff0c\u76f4\u63a5\u901a\u8fc7<code>fig.add_axes</code>\u65b9\u6cd5\u8fdb\u884c\u5b50\u56fe\u7684\u5b9a\u4f4d\u5916\uff0c\u4e00\u822c\u91c7\u7528\u7f51\u683c\u5b9a\u4f4d\u3002\u5373\u901a\u8fc7subplots\u4e2d\u7684nrows/ncols\u65b9\u6cd5\u6307\u5b9a\u6709\u591a\u5c11\u4e2a\u7b49\u957f\uff08\u5bbd\uff09\u7684\u7f51\u683c\uff0c\u6216\u8005\u901a\u8fc7gridspec\u6307\u5b9a\u7f51\u683c\u7684\u89c4\u683c\u3002</p> <p>\u6307\u5b9a\u7b49\u957f\u7f51\u683c\u7684\u6bd4\u8f83\u7b80\u5355\uff0c\u6211\u4eec\u770b\u770b\u5982\u4f55\u901a\u8fc7gridspec\u6765\u521b\u5efa\u66f4\u590d\u6742\u4e00\u4e9b\u7684\u7f51\u683c\uff1a</p> <p><pre><code>import matplotlib.pyplot as plt\nfrom matplotlib.gridspec import GridSpec\n\ndef annotate_axes(fig):\n    for i, ax in enumerate(fig.axes):\n        ax.text(0.5, 0.5, \"ax%d\" % (i+1), va=\"center\", ha=\"center\")\n        ax.tick_params(labelbottom=False, labelleft=False)\n\n\nfig = plt.figure(facecolor='0.8')\n\nfig.suptitle(\"Controlling spacing around and between subplots\")\n\ngs1 = GridSpec(3, 3, left=0.3, right=0.48, wspace=0.05)\nax1 = fig.add_subplot(gs1[:-1, :])\nax2 = fig.add_subplot(gs1[-1, :-1])\nax3 = fig.add_subplot(gs1[-1, -1])\n\ngs2 = GridSpec(3, 3, left=0.55, right=0.98, hspace=0.05)\nprint(\"gs2 is:\", gs2[:, :-1])\n\nax4 = fig.add_subplot(gs2[:, :-1])\nax5 = fig.add_subplot(gs2[:-1, -1])\nax6 = fig.add_subplot(gs2[-1, -1])\n\nannotate_axes(fig)\n\ndef show_grid(gs, pos):\n    # Get the grid positions\n    bottoms, tops, lefts, rights = gs.get_grid_positions(plt.gcf())\n\n    ax = plt.axes([0,0,1,1], facecolor=(1,1,1,0))\n\n    vlines = sorted([*lefts, *rights])\n    for x in vlines:\n        ax.axvline(x, ls='-', lw=1, ymin=min(bottoms), ymax=max(tops))\n\n    hlines = sorted([*bottoms, *tops])\n    for y in hlines:\n        ax.axhline(y, ls='-', lw=1, xmin=min(lefts), xmax=max(rights))\n\nshow_grid(gs1, [0.3, 0, 0.48, 1])\nshow_grid(gs2, [0.55,0, 0.98, 1])\n\nplt.show()\n</code></pre> \u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5148\u901a\u8fc7GridSpec\u521b\u5efa\u4e86\u4e24\u4e2a3*3\u7684\u7f51\u683c\uff0c\u4e00\u5de6\u4e00\u53f3\uff0c\u7136\u540e\u901a\u8fc7add_subplot\u521b\u5efa\u4e866\u4e2a\u5b50\u56fe\uff0c\u5728\u521b\u5efa\u65f6\uff0c\u5c06gridspec\u4f20\u5165\u3002</p> <p>\u5728\u521b\u5efa\u5b50\u56fe\uff0c\u6211\u4eec\u901a\u8fc7\u7ed9\u5b50\u56fe\u7ed1\u5b9a\u5230\u4e0d\u540c\u7684\u7f51\u683c\uff0c\u5b9e\u73b0\u4e86\u7c7b\u4f3cexcel\u4e2d\u7684\u5355\u5143\u683c\u5408\u5e76\u7684\u6548\u679c\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u5f02\u5f62\u7f51\u683c\u3002</p> <p>)</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u5c55\u793a\u4e86\u975e\u5e38\u591a\u7684\u7ed8\u56fe\u6280\u5de7\uff0c\u503c\u5f97\u597d\u597d\u7814\u7a76\u3002</p> <p>\u9996\u5148\uff0c\u6bcf\u4e2aGridspec\u53ef\u4ee5\u6307\u5b9a\u5b83\u4eec\u5728Figure\u4e2d\u7684\u4f4d\u7f6e\u548c\u5927\u5c0f\u3002\u6bd4\u5982\uff0c\u8fd9\u91cc\u7684gs1\u5c31\u662f\u4ecex\u8f74\u76840.3\u52300.48\u5904\uff08\u5360\u636e\u4e86\u5168\u90e8\u9ad8\u5ea6\uff0c\u56e0\u4e3a\u6ca1\u6709\u6307\u5b9a\uff09\u3002</p> <p>\u5176\u6b21\uff0c\u6211\u4eec\u4e3a\u4e86\u663e\u793a\u6bcf\u4e2a\u7f51\u683c\uff08\u5373\u6bcf\u4e2a3*3\u7684\u5c0f\u683c\u5b50\uff09\u662f\u5982\u4f55\u5206\u914d\u5230\u6bcf\u4e2aax\u7684\uff0c\u6211\u4eec\u5c06\u8fd9\u4e9b\u683c\u5b50\u8fdb\u884c\u4e86\u63cf\u8fb9\u3002</p> <p>\u56e0\u6b64\uff0c\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c1~6\u7684\u5c0f\u7f51\u683c\u90fd\u5206\u914d\u7ed9\u4e86ax1\uff0c\u8fd9\u662f\u7531\u4ee3\u7801gs[:-1,:]\u6765\u6307\u5b9a\u7684\u3002gs[:-1,:]\u610f\u5473\u7740\u628a\u76f4\u5230\u6700\u540e\u4e00\u884c\uff08\u4e0d</p> <p>\u5305\u62ec\uff09\u7684\u6240\u6709\u5217\u5bf9\u5e94\u7684\u7f51\u683c\u90fd\u5206\u914d\u7ed9ax1,\u4e5f\u5c31\u662f\u524d6\u4e2a\u7f51\u683c\u3002\u5173\u4e8e\u5982\u4f55\u9605\u8bfb\u5207\u7247\uff0c\u5728\u6211\u4eec\u8bfe\u7a0b\u7b2c9\u8bb2\u4e2d\u6709\u8be6\u7ec6\u8bf4\u660e\uff0c\u5e76\u4e14\u7ed9\u51fa\u4e86\u7ed8\u56fe\u3002</p> <p>\u5bf9ax2\uff0c\u5206\u914d\u7684\u662fgs1[-1,:-1]\uff0c\u8fd9\u610f\u5473\u7740\u662f\u628a\u6700\u540e\u4e00\u884c\uff0c\u76f4\u5230\u6700\u540e\u4e00\u5217\u7684\u6240\u6709grid\u90fd\u5206\u914d\u7ed9\u5b83\uff0c\u8fd9\u5bf9\u5e94\u7740\u4e24\u4e2a\u5c0f\u7684\u5355\u5143\u683c\uff0c\u53737\u548c8\u53f7\u5355\u5143\u683c\u3002</p> <p>\u6700\u540e\uff0cax3\u5206\u5230\u6700\u540e\u7684\u5355\u5143\u683c\uff0cgs1[-1,-1]\u3002</p> <p>\u5bf9gs2\uff0c\u903b\u8f91\u7c7b\u4f3c\u3002ax4\u5f97\u5230\u4e86gs2[:,:-1]\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u884c\u7684\u524d\u4e24\u5217\u90fd\u5206\u914d\u7ed9\u4e86ax4\uff1bax5\u5219\u662f\u5f97\u5230\u4e86\u6700\u540e\u4e00\u5217\u7684\u524d\u4e24\u884c\uff1bax6\u5f97\u5230\u4e86gs2[-1,-1]\u3002</p> <p>\u6ce8\u610f\u8fd9\u91cc\u8fd8\u6709\u4e00\u4e2a\u6280\u5de7\uff0c\u5373\u5728\u7ed8\u5236\u7f51\u683c\u7ebf\u65f6\uff0c\u6211\u4eec\u662f\u901a\u8fc7\u65b0\u5efa\u7684ax\u6765\u8fdb\u884c\u7ed8\u5236\u7684\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u6211\u4eec\u7684\u7ed8\u5236\u5e94\u8be5\u53d1\u751f\u6210figure\u7ea7\u522b\u4e0a\uff08\u56e0\u4e3a\u8981\u8de8\u8d8a\u4e0d\u540c\u7684axes\uff09\uff0c\u4f46\u662f\uff0cfigure\u5e76\u6ca1\u6709\u76f8\u5e94\u7684\u7ed8\u5236\u76f4\u7ebf\u7684\u65b9\u6cd5\uff08figure\u6709\u54ea\u4e9b\u65b9\u6cd5\uff0c\u5728\u8bfe\u7a0b\u4e00\u5f00\u59cb\u6709\u4ecb\u7ecd\uff09\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u589e\u52a0\u4e00\u4e2a\u4e0eFigure\u540c\u7b49\u5927\u5c0f\u7684ax\uff1a <pre><code>ax = plt.axes([0,0,1,1], facecolor=(1,1,1,0))\n</code></pre> \u901a\u8fc7\u5b83\u6765\u7ed8\u5236\u8fd9\u4e9b\u7f51\u683c\u7ebf\u3002</p> <p>\u8fd9\u91cc\u4ecb\u7ecd\u7684\u65b9\u6cd5\u548c\u539f\u7406\u90fd\u662f\u6bd4\u8f83\u504f\u5e95\u5c42\u7684\uff0c\u5c5e\u4e8ematplotlib\u7684\u9ad8</p> <p>\u7ea7\u7ed8\u5236\u6280\u5de7\uff0c\u638c\u63e1\u4e86\u8fd9\u4e9b\u6280\u5de7\u548c\u539f\u7406\uff0c\u5c31\u7b97\u662f\u7cbe\u901a\u4e86matplotlib\u3002</p> <p>\u7ed8\u56fe\u4e0d\u4ec5\u4ec5\u662f\u521b\u9020\u7f8e\u4e3d\u7684\u53ef\u89c6\u5316\u6548\u679c\uff0c\u66f4\u662f\u4e3a\u4e86\u91ca\u653e\u6570\u636e\u7684\u5168\u90e8\u6f5c\u529b\uff0c\u5e76\u63ed\u793a\u539f\u672c\u9690\u85cf\u7684insights\uff0c\u5b83\u662f\u6570\u5b57\u8bed\u8a00\u548c\u6545\u4e8b\u8bed\u8a00\u4e4b\u95f4\u7684\u6865\u6881\uff0c\u4f7f\u5f97\u4e2a\u4eba\u548c\u7ec4\u7ec7\u80fd\u591f\u505a\u51fa\u660e\u667a\u7684\u51b3\u7b56\uff0c\u5e76\u521b\u9020\u6709\u610f\u4e49\u7684\u53d8\u9769</p> <p>\u672c\u7b14\u8bb0\u662f\u300aPython\u6570\u636e\u5206\u6790\u53ef\u89c6\u5316\u300b\u7684\u4e00\u90e8\u5206\u3002\u5168\u7cfb\u5217\u5c06\u50cf\u672c\u7b14\u8bb0\u4e00\u6837\uff0c\u901a\u8fc7\u8be6\u5c3d\u7684\u56fe\u793a\u3001\u53ef\u8fd0\u884c\u7684\u4ee3\u7801\uff0c\u6df1\u5165\u6d45\u51fa\u5730\u8bb2\u89e3Python\u4e2d\u7684\u7ed8\u56fe\u539f\u7406\u548c\u6280\u5de7\uff0c\u5305\u62ec\uff1a</p>"},{"location":"articles/python/visualize/matplotlib-1/#matplotlib","title":"matplotlib","text":"<p>\u4e3b\u8981\u4ecb\u7ecd\u7ed8\u56fe\u9886\u57df\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5305\u62ec\u56fe\u7684\u6784\u6210\u3001\u5e03\u5c40\u3001\u989c\u8272\u3001\u5750\u6807\u7b49\u57fa\u7840\u6982\u5ff5\u3002</p>"},{"location":"articles/python/visualize/matplotlib-1/#plotly","title":"plotly","text":"<p>plotly\u662f\u4e00\u4e2a\u9ad8\u7ea7\u7ed8\u56fe\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u521b\u5efa\u4ea4\u4e92\u5f0f\u7ed8\u56fe\u751a\u81f3\u52a8\u753b\uff01\u8fd9\u4e00\u90e8\u5206\u6211\u4eec\u8fd8\u5c06\u4ecb\u7ecdDash\uff0c\u5b66\u4f1a\u540e\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4ec5\u4ec5\u901a\u8fc7Dash\uff0c\u5c31\u5b8c\u6210\u4e00\u4e2a\u80fd\u7ed8\u5236\u7cbe\u7f8e\u56fe\u5f62\uff0c\u5e76\u4e0e\u7528\u6237\u4ea4\u4e92\u7684\u7f51\u7ad9\u5e94\u7528\u3002</p> <p></p>"},{"location":"articles/python/visualize/matplotlib-1/#seaborn","title":"seaborn","text":"<p>seaborn\u662f\u57fa\u4e8ematplotlib\u7684\u9ad8\u7ea7\u7ed8\u56fe\u5e93\uff0c\u5b83\u5c4f\u853d\u4e86matplotlib\u4e2d\u7684\u5927\u90e8\u5206\u7ed8\u56fe\u7ec6\u8282\uff0c\u8ba9\u4f60\u805a\u7126\u4e8e\u63a2\u7d22\u6570\u636e\u4e4b\u95f4\u7684\u8054\u7cfb\u4e0e\u8bed\u4e49\uff01</p> <p></p>"},{"location":"articles/python/visualize/matplotlib-1/#pyecharts","title":"PyEcharts","text":"<p>\u8fd9\u662f\u56fd\u4eba\u8d21\u732e\u51fa\u6765\u7684\u4e00\u4e2aApache\u9876\u7ea7\u5e93\uff0c\u7c7b\u4f3c\u4e8eplotly\uff0c\u4e5f\u53ef\u4ee5\u751f\u6210\u4ea4\u4e92\u5f0f\u7ed8\u56fe\u3002</p>"},{"location":"articles/python/visualize/matplotlib-2/","title":"matplotlib\u7684\u5e03\u5c40\u95ee\u9898\uff082\uff09","text":"<p>\u4e0a\u4e00\u671f\u6587\u7ae0\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 GridSpect \u6765\u8fdb\u884c\u5e03\u5c40\u3002\u5f53\u6211\u4eec\u4f7f\u7528 GridSpec \u5e03\u5c40\u65f6\uff0c\u4e00\u822c\u662f\u4e3a\u4e86\u521b\u5efa\u8f83\u590d\u6742\u7684\u5e03\u5c40\uff0c\u6bd4\u5982\u5f02\u5f62\u7f51\u683c\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5f80\u5f80\u662f\u5148\u751f\u6210\u82e5\u5e72\u5c0f\u7684\u7f51\u683c\uff0c\u518d\u901a\u8fc7 span \u6765\u5408\u5e76\u7f51\u683c\uff0c\u4ee5\u751f\u6210\u5f02\u5f62\u7f51\u683c\u3002</p> <p>\u8fd9\u662f\u4e00\u79cd\u81ea\u5e95\u5411\u4e0a\u7684\u65b9\u6cd5\uff0c\u5373\u7531\u5c0f\u7684\u7f51\u683c\u751f\u6210\u5927\u7684\u7f51\u683c\u3002</p> <p>\u8fd9\u7bc7\u7b14\u8bb0\u6211\u4eec\u5c06\u4ecb\u7ecd\u53e6\u4e00\u79cd\u81ea\u9876\u5411\u4e0b\u7684\u65b9\u6cd5\uff0c\u5373\u5148\u751f\u6210\u5927\u7684\u7f51\u683c\uff0c\u518d\u901a\u8fc7 subgridspec\uff0c\u5728\u8fd9\u4e9b\u7f51\u683c\u4e2d\uff0c\u8fdb\u4e00\u6b65\u5207\u5206\u51fa\u5c0f\u7684\u7f51\u683c\u3002</p>"},{"location":"articles/python/visualize/matplotlib-2/#-subgridspec","title":"\u81ea\u9876\u5411\u4e0b - subgridspec","text":"<p><pre><code>import matplotlib.pyplot as plt\n\ndef my_text(name):\n    exec(\n        name\n        + \".text(0.5, 0.5, name, ha='center', \"\\\n        \"va='center', fontsize=16, color='darkgrey')\"\n    )\n\nfig = plt.figure(constrained_layout=True)\n\n# \u751f\u6210\u4e00\u884c\u4e24\u5217\u7684\u7b49\u9762\u79ef\u7f51\u683c\ngs = fig.add_gridspec(1, 2)\n\n# \u5c06\u7b2c\u4e00\u4e2a\u7f51\u683c\u518d\u5212\u5206\u6210 2 * 2 \u7684\u5355\u5143\u683c\ngs_left = gs[0].subgridspec(2, 2)\n\n# \u5c06\u7b2c\u4e8c\u4e2a\u7f51\u683c\u518d\u5212\u5206\u6210 3 * 1 \u7684\u5355\u5143\u683c\ngs_right = gs[1].subgridspec(3, 1)\n\nfor a in range(2):\n    for b in range(2):\n        exec(f\"ax{a}{b} = fig.add_subplot(gs_left[{a},{b}])\")\n        my_text(f\"ax{a}{b}\")\n\nfor a in range(3):\n    exec(f\"ax{a} = fig.add_subplot(gs_right[{a}])\")\n    my_text(f\"ax{a}\")\n\n# \u589e\u52a0 FIGURE-LEVEL \u7684\u6807\u9898\n_ = fig.suptitle(\"nested gridspecs\")\n</code></pre> \u8fd9\u79cd\u65b9\u6cd5\u8f83\u4e4b\u4e0a\u4e00\u7bc7\u4e2d\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u4f3c\u4e4e\u66f4\u4e3a\u4f18\u96c5\u548c\u7b26\u5408\u76f4\u89c9\u3002</p>"},{"location":"articles/python/visualize/matplotlib-2/#mosaic","title":"\u795e\u5947\u7684 Mosaic","text":"<p>\u5bf9\u4e8e\u5bc6\u96c6\u3001\u5747\u5300\u7684\u7f51\u683c\uff0c\u6211\u4eec\u6709 Figure.subplots\uff1b\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u5e03\u5c40\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Gridspec + \u5355\u5143\u683c\u5408\u5e76\uff0c\u6216\u8005\u672c\u7bc7\u8bb2\u7684 subgridspec \u65b9\u6cd5\u6765\u521b\u5efa\u7f51\u683c\u3002</p> <p>\u4f46\u662f\uff0c\u6211\u4eec\u4ecd\u7136\u8981\u8bb0\u4f4f\u6211\u4eec\u662f\u5982\u4f55\u5408\u5e76\u8fd9\u4e9b\u5355\u5143\u683c\u7684\uff0c\u4ee5\u53ca\u8bb0\u4f4f\u5408\u5e76\u540e\u7684\u5355\u5143\u683c (Axes \u5bf9\u8c61\uff09\u7684\u7d22\u5f15\u3002</p> <p>subplot_mosaic \u63d0\u4f9b\u4e86\u4e00\u4e2a\u76f4\u89c2\u5730\u3001\u8bed\u4e49\u5316\u5e03\u5c40\u548c\u547d\u540d Axes \u7684\u65b9\u6cd5\u3002\u8fd9\u79cd\u65b9\u6cd5\u4f5c\u4e3a Grid \u5e03\u5c40\u4e2d\u7684\u4e00\u79cd\uff0c\u6b63\u5728 R\uff0cWeb \u7b49\u591a\u4e2a\u5730\u65b9\u6d41\u884c\u3002</p> <p>subplot_mosaic \u51fd\u6570\u63d0\u4f9b\u4e86\u4e00\u79cd\u4f18\u96c5\u4e14\u53ef\u8bfb\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u590d\u6742\u7684\u5b50\u56fe\u6392\u5217\u3002\u6211\u4eec\u4e0d\u7528\u4ece\u6570\u5b57\u89d2\u5ea6\u8003\u8651\u5b50\u56fe\u7f51\u683c\uff0c\u800c\u662f\u6839\u636e\u5e03\u5c40\u6a21\u5f0f\u6765\u8003\u8651\u5b83\u4eec\u3002\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u8868\u793a\u4e3a\u5b57\u7b26\u4e32\u5217\u8868\u5217\u8868\u7684\u53ef\u89c6\u5316\u5e03\u5c40\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5b57\u7b26\u4e32\u4ee3\u8868\u4e00\u4e2a\u5b50\u56fe\u3002\u6bcf\u4e2a\u552f\u4e00\u7684\u5b57\u7b26\u4e32\u5bf9\u5e94\u4e00\u4e2a\u552f\u4e00\u7684\u5b50\u56fe\uff0c\u800c\u5e03\u5c40\u4e2d\u91cd\u590d\u7684\u5b57\u7b26\u4e32\u5c06\u521b\u5efa\u8de8\u8d8a\u91cd\u590d\u4f4d\u7f6e\u7684\u66f4\u5927\u7684\u5b50\u56fe\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u7406\u89e3\u5b83\uff1a</p> <pre><code>import numpy as np\n\n# \u7528\u6765\u6807\u8bc6\u5b50\u56fe\u5bf9\u8c61 (AXES)\ndef identify_axes(ax_dict, fontsize=48):\n    kw = dict(ha=\"center\", va=\"center\", fontsize=fontsize, color=\"darkgrey\")\n    for k, ax in ax_dict.items():\n        ax.text(0.5, 0.5, k, transform=ax.transAxes, **kw)\n\nfig = plt.figure(layout=\"constrained\")\nnp.random.seed(19680801)\nhist_data = np.random.randn(1_500)\nax_dict = fig.subplot_mosaic(\n    [\n        [\"bar\", \"plot\"],\n        [\"hist\", \"image\"],\n    ],\n)\nax_dict[\"bar\"].bar([\"a\", \"b\", \"c\"], [5, 7, 9])\nax_dict[\"plot\"].plot([1, 2, 3])\nax_dict[\"hist\"].hist(hist_data)\nax_dict[\"image\"].imshow([[1, 2], [2, 1]])\n\n# \u628a AXES \u540d\u5b57\u6807\u8bb0\u5728\u5b50\u56fe\u4e0a\nidentify_axes(ax_dict)\n</code></pre> <p>![50%]](https://images.jieyu.ai/images/2023/07/promo-pyvisual-matplot-2-1.png)</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u7684\u4f18\u7f8e\u4e4b\u5904\u5728\u4e8e\uff0c\u6211\u4eec\u5728\u521b\u5efa\u6bcf\u4e2a\u5b50\u56fe\u65f6\uff0c\u5c31\u7ed9\u4e86\u5b83\u4eec\u4e00\u4e2a\u540d\u5b57\uff0c\u540e\u9762\u7ed8\u56fe\uff08\u7b2c 12 \u5230\u7b2c 15 \u884c\uff09\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u540d\u5b57\u6765\u5f15\u7528\u8fd9\u4e9b\u5b50\u56fe\u3002</p> <p>\u5728\u5b9a\u4e49\u7f51\u683c\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2a 22 \u7684\u5b57\u7b26\u4e32\u6570\u7ec4\u6765\u8868\u793a\u8981\u751f\u6210\u4e00\u4e2a 22 \u7684\u7f51\u683c\uff0c\u8fd9\u4e5f\u5f88\u7b26\u5408\u76f4\u89c9\u3002</p> <p>\u66f4\u6709\u8da3\u7684\u662f\uff0c\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u5acc\u5f03\u6570\u7ec4\u5b9a\u4e49\u8fc7\u4e8e\u7e41\u590d\uff1a</p> <pre><code>mosaic = \"AB;CD\"\nfig = plt.figure(layout=\"constrained\")\nax_dict = fig.subplot_mosaic(mosaic)\n\nidentify_axes(ax_dict)\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u5b9a\u4e49 ABCD 4 \u4e2a\u5b50\u56fe\uff0c\u4ec5\u4ec5\u662f\u901a\u8fc7 mosaic = \"AB;CD\"\u5c31\u5b8c\u6210\u4e86\u6307\u5b9a\u3002</p> <p>![50%]](https://images.jieyu.ai/images/2023/07/promotion-mosaic-abcd.png)</p> <p>\u5982\u679c\u6211\u4eec\u628a mosaic \u6307\u5b9a\u4e3a\u8fd9\u6837\uff1a <pre><code>\"\"\"\nABD\nCCD\n\"\"\"\n</code></pre> \u5e94\u8be5\u5f88\u5bb9\u6613\u731c\u5230\u8fd9\u5c06\u751f\u6210\u4ec0\u4e48\u6837\u7684\u7f51\u683c\u5e03\u5c40\u3002\u6211\u4eec\u901a\u8fc7\u4ee3\u7801\u6f14\u793a\u4e00\u4e0b\uff1a</p> <pre><code>axd = plt.figure(layout=\"constrained\").subplot_mosaic(\n    \"\"\"\n    ABD\n    CCD\n    \"\"\"\n)\n\naxd[\"A\"].bar([\"a\", \"b\", \"c\"], [5, 7, 9])\naxd[\"C\"].plot([1,2,3])\nidentify_axes(axd)\n</code></pre> <p>\u5bf9 Axes \u7684\u5f15\u7528\u975e\u5e38\u76f4\u89c2\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 axd[\"A\"] \u6216\u8005 axd[\"C\"] \u5373\u53ef\u3002</p> <p>![50%]](https://images.jieyu.ai/images/2023/07/promotion-mosaic-abdccd.png)</p> <p>\u5982\u679c\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u66f4\u602a\u5f02\u7684\u5e03\u5c40\uff0c\u6bd4\u5982\uff0c\u5728\u67d0\u4e2a\u4f4d\u7f6e\u4e0a\uff0c\u6211\u4eec\u60f3\u7559\u7a7a\uff1a</p> <pre><code>    A.C\n    BBB\n    .D.\n    \"\"\"\n</code></pre> <p>\u4f7f\u7528\".\"\u7684\u5730\u65b9\u5c06\u4f1a\u7559\u7a7a\u3002\u8fd9\u5c06\u751f\u6210\u4e0b\u56fe\uff1a</p> <p>![50%]](https://images.jieyu.ai/images/2023/07/promo-pyvis-matplot-4.png)</p> <p>\u4e0a\u9762\u6211\u4eec\u751f\u6210\u7684\u90fd\u662f\u5747\u5300\u957f\u5ea6\u7684\u5b50\u56fe\uff08\u5728\u5408\u5e76\u4e4b\u524d\uff09\u3002subplot_mosaic \u63a5\u53d7 gridspec_kw \u53c2\u6570\uff1a</p> <pre><code>axd = fig.subplot_mosaic(\n    mosaic,\n    gridspec_kw={\n        \"bottom\": 0.05,\n        \"top\": 0.75,\n        \"left\": 0.6,\n        \"right\": 0.95,\n        \"wspace\": 0.5,\n        \"hspace\": 0.5,\n    },\n)\n</code></pre> <p>\u4e5f\u8bb8\u6211\u4eec\u8fd8\u6000\u5ff5 subgridspec \u90a3\u79cd\u81ea\u9876\u5411\u4e0b\u7684\u521b\u5efa\u65b9\u5f0f--\u6ca1\u95ee\u9898\uff0csubplot_mosaic \u652f\u6301\u5d4c\u5957\uff1a</p> <pre><code>inner = [\n    [\"inner A\"],\n    [\"inner B\"],\n]\n\n# \u5728\u8fd9\u91cc\u6211\u4eec\u628a INNER \u7f51\u683c\u5d4c\u5957\u8fdb\u6765\u4e86\nouter_nested_mosaic = [\n    [\"main\", inner],\n    [\"bottom\", \"bottom\"],\n]\naxd = plt.figure(layout=\"constrained\").subplot_mosaic(\n    outer_nested_mosaic, empty_sentinel=None\n)\nidentify_axes(axd, fontsize=36)\n</code></pre> <p>![50%]](https://images.jieyu.ai/images/2023/07/promo-pyvis-matplot-2-5.png)</p> <p>\u597d\uff0c\u770b\u5b8c\u8fd9\u4e00\u671f\u6587\u7ae0\uff0c\u4f60\u5e94\u8be5\u5b8c\u5168\u7cbe\u901a matplotlib \u7684\u5e03\u5c40\u4e86\uff01</p>"},{"location":"articles/python/visualize/qq-plot/","title":"\u539f\u7406","text":"<p>\u5047\u8bbe\u6709\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\uff0c\u6211\u4eec\u60f3\u77e5\u9053\u5b83\u662f\u5426\u670d\u4ece\u67d0\u79cd\u5206\u5e03\uff0c\u6211\u4eec\u662f\u5426\u80fd\u591f\u901a\u8fc7\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u5bf9\u5b83\u8fdb\u884c\u5224\u5b9a\uff1f</p> <p>\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u7528\u5230 Q-Q \u56fe\uff0c\u5373 Quantile-Quantile \u56fe\uff0c\u53c8\u79f0\u5206\u4f4d\u56fe\uff0c\u5b83\u662f\u53ef\u89c6\u5316\u7edf\u8ba1\u63a8\u65ad\u7684\u91cd\u8981\u624b\u6bb5\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u6709\u8fd9\u6837\u4e00\u4e2a\u4e8b\u5b9e\uff1a</p> <ol> <li>\u5982\u679c X \u662f\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u90a3\u4e48\\([X, X]\\)\u5728\u4e8c\u7ef4\u5e73\u9762\u4e0a\u7684\u56fe\u50cf\u5c06\u662f\u5b8c\u5168\u843d\u5728\u4e00\u6761 45 \u5ea6\u89d2\u7684\u76f4\u7ebf\u4e0a\u7684\u6563\u70b9\u56fe\uff1b</li> <li> <p>\u5982\u679c\u6709\u53e6\u5916\u4e00\u4e2a\u6570\u636e\u96c6 Y\uff0c\u5c06 X \u4e0e Y \u5206\u522b\u6392\u5e8f\u540e\uff0c\u5982\u679c\u4efb\u610f\u5750\u6807\u4f4d\\(i\\)\u4e0a\u7684\\(X_i\\)\u548c\\(Y_i\\)\u5b8c\u5168\u76f8\u7b49\uff0c\u6211\u4eec\u4ecd\u5c06\u5f97\u5230\u76f8\u540c\u7684\u56fe\u5f62\uff1b</p> </li> <li> <p>\u5982\u679c\u4efb\u610f\u5750\u6807\u4f4d\\(i\\)\u4e0a\u7684\\(X_i\\)\u548c\\(Y_i\\)\u90fd\u8fd1\u4f3c\u76f8\u7b49\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u5206\u5e03\u5728\u8fd9\u6761\u76f4\u7ebf\u4e24\u4fa7\u4e0d\u8fdc\u5904\u7684\u6563\u70b9\u56fe\u3002</p> </li> </ol> <pre><code>X = stats.norm.rvs(size=1000)\nY = stats.norm.rvs(size=1000)\n\nplt.scatter(sorted(X), sorted(Y), s=1)\nplt.plot(X, X, color='orange')\n</code></pre> <p></p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4ece\u6807\u51c6\u6b63\u6001\u5206\u5e03\u4e2d\u62bd\u6837\u5206\u522b\u62bd\u6837\u4e24\u6b21\uff0c\u5f97\u5230\\(X\\)\u548c\\(Y\\)\uff0c\u5bf9\u5b83\u4eec\u8fdb\u884c\u6392\u5e8f\u540e\u8fdb\u884c\u7ed8\u56fe\uff0c\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u5206\u5e03\u5728 45 \u5ea6\u76f4\u7ebf\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u5df2\u7ecf\u7ed9\u4e86\u6211\u4eec\u4e00\u4e2a\u5224\u522b\u67d0\u4e2a\u5206\u5e03\u662f\u5426\u5c5e\u4e8e\u6807\u51c6\u6b63\u6001\u5206\u5e03\u7684\u4e00\u4e2a\u7b97\u6cd5\u3002\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e3a\u4ec0\u4e48\u5bf9\u5c5e\u4e8e\u540c\u4e00\u5206\u5e03\u7684\\(X\\)\u548c\\(Y\\)\uff0c\u8fdb\u884c\u6392\u5e8f\u540e\uff0c\u5bf9\u5e94\u4f4d\u7f6e\u7684\u5143\u7d20\u5e94\u8be5\u5927\u81f4\u76f8\u7b49\u3002\u8fd9\u5c31\u9700\u8981\u5f15\u5165\u5206\u4f4d\u6570\u7684\u6982\u5ff5\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6709\u968f\u673a\u53d8\u91cf X\uff0c\u5047\u8bbe\u5b83\u670d\u4ece\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff0c\u90a3\u4e48\u5728 50%\u5206\u4f4d\u5904\uff0cX \u7684\u91c7\u6837\u70b9\\(x_1\\)\u5e94\u8be5\u975e\u5e38\u63a5\u8fd1\u4e8e 0\uff08\u7531\u4e8e\u662f\u968f\u673a\u53d8\u91cf\uff0c\u6240\u4ee5\u4e5f\u5f88\u96be\u5b8c\u5168\u76f8\u7b49\uff09\uff0c\u56e0\u4e3a\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff0c\u5728 50%\u5206\u4f4d\u5904\u7684\u53d6\u503c\u5c31\u662f 0\uff1b\u63a8\u5e7f\u5230 25%\u5206\u4f4d\u5904\uff0c75%\u5206\u4f4d\u5904\uff0c\\(X\\)\u5728\u8fd9\u4e9b\u5206\u4f4d\u6570\u4e0a\u7684\u53d6\u503c\uff0c\u4e5f\u5e94\u8be5\u4e0e\u6807\u51c6\u6b63\u6001\u5206\u5e03\u53d6\u503c\u975e\u5e38\u63a5\u8fd1\uff1b\u6216\u8005\u8fdb\u4e00\u6b65\u63a8\u5e7f\uff0c\u5728\u4efb\u610f\u5206\u4f4d\u6570\u5904\uff0c\u4e24\u8005\u7684\u91c7\u6837\u503c\u90fd\u5e94\u8be5\u975e\u5e38\u63a5\u8fd1\u3002</p> <p>\u56e0\u6b64\uff0c\u6309\u7167\u5206\u4f4d\u6570\u5206\u522b\u5bf9\\(X\\)\u548c\u6807\u51c6\u6b63\u6001\u5206\u5e03\u8fdb\u884c\u91c7\u6837\uff0c\u518d\u8fdb\u884c\u7ed8\u56fe\uff0c\u8fd9\u6837\u7684\u56fe\u5f62\u5c31\u662f\u4e00\u4e2a\u5206\u5e03\u5728 45 \u5ea6\u76f4\u7ebf\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p> <p>\u5728\u5b9e\u9645\u7ed8\u56fe\u4e2d\uff0c\u6211\u4eec\u4f1a\u7b80\u5316\u4e0a\u8ff0\u7b97\u6cd5\uff0c\u4e0d\u53bb\u8fdb\u884c\u5206\u4f4d\u6570\u8ba1\u7b97\uff0c\u800c\u662f\u4ee5\u6392\u5e8f\u8fdb\u66ff\u4ee3\u3002\u5c06 X \u4e0e Y \u6392\u5e8f\u540e\uff0c\u5982\u679c\u6837\u672c\u603b\u6570\u662f N\uff0c\u90a3\u4e48\u6392\u5e8f\u540e\u7684\u7b2c\\(n\\)\u4e2a\u5143\u7d20\uff0c\u5c31\u88ab\u8ba4\u4e3a\u662f\u7b2c \\(n/N\\)\u5206\u4f4d\u6570\u5904\u7684\u968f\u673a\u53d8\u91cf\u53d6\u503c\uff1b\u5982\u679c\u7b2c\\(n\\)\u4e2a\u5143\u7d20\u5904\u7684\\(X_n\\)\u4e0e\\(Y_n\\)\u975e\u5e38\u63a5\u8fd1\uff0c\u90a3\u4e48\u70b9\\([X_n, Y_n]\\)\u5c06\u843d\u5728\u76f4\u7ebf \\(Y = X\\) \u9644\u8fd1\uff0c\u4e5f\u5c31\u662f 45 \u5ea6\u89d2\u7684\u76f4\u7ebf\u4e0a\u3002</p> <p>\u8fd9\u79cd\u7b80\u5316\uff0c\u5728 n \u503c\u8f83\u5927\u65f6\uff0c\u662f\u5b8c\u5168\u751f\u6548\u7684\uff1b\u5728 n \u503c\u8f83\u5c0f\u65f6\uff0c\u6709\u53ef\u80fd\u51fa\u73b0\u8f83\u5927\u504f\u5dee\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5f53 n \u4ece 10 \u5f00\u59cb\uff0c\u4f9d\u6b21\u500d\u589e\u5230 1280 \u65f6\u7684\u7ed8\u56fe\uff1a</p> <pre><code>fig, axes = plt.subplots(nrows=2, ncols=4, figsize=(16,8))\naxes = axes.flatten()\n\nfor i, n in enumerate((10, 20, 40, 80, 160, 320, 640, 1280)):\n    X = stats.norm.rvs(size=n)\n    Y = stats.norm.rvs(size=n)\n\n    ax = axes[i]\n    ax.scatter(sorted(stats.zscore(X)), sorted(Y), s=3)\n    ax.plot(X, X, '--', color='grey')\n</code></pre> <p></p> <p>\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53 n \u5927\u4e8e\u7b49\u4e8e 320 \u65f6\uff0c\u5927\u591a\u6570\u70b9\u90fd\u843d\u5728\u76f4\u7ebf\u4e24\u4fa7\u9644\u8fd1\u3002</p>"},{"location":"articles/python/visualize/qq-plot/#_2","title":"\u4efb\u610f\u6b63\u6001\u5206\u5e03\u68c0\u9a8c","text":"<p>\u5982\u679c\\(X\\)\u662f\u4e00\u4e2a norm(loc, scale) \u7684\u6b63\u6001\u5206\u5e03\uff0c\u90a3\u4e48\uff0c\u5982\u679c\u6211\u4eec\u4ecd\u4ee5 [$X, \\(Y] \u7ed8\u56fe\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4e00\u4e2a\u5206\u5e03\u5728\u76f4\u7ebf\\)Y = (X - loc)/scale $\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p> <pre><code>np.random.seed(78)\nloc = 5\nscale = 3\nX = stats.norm.rvs(loc=loc, scale = scale, size=1000)\nY = stats.norm.rvs(size=1000)\n\nplt.scatter(sorted(X), sorted(Y), s=1)\nplt.plot(X, X, color='orange')\n\nx2 = np.linspace(min(X), max(X), len(X))\ny2 = x2 / scale - loc / scale\nplt.plot(x2, y2, color='cyan')\n\nplt.text(5, 5, \"[X,X]\")\nplt.text(10, 2, \"[X,Y]\", color='blue')\nplt.text(10, 3.5, \"[X, (X-loc)/scale]\", color='red')\n</code></pre> <p></p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u8003\u8651\u5148\u5c06\\(X\\)\u8fdb\u884c zscore \u5316\uff0c\u8fd9\u6837\u518d\u4e0e\u6807\u51c6\u6b63\u6001\u5206\u5e03\u7684\u91c7\u6837\u8fdb\u884c\u7ed8\u56fe\u3002\u5982\u679c\\(X\\)\u670d\u4ece\u6b63\u6001\u5206\u5e03\uff0c\u6b64\u65f6\u5f97\u5230\u7684\u56fe\u5f62\uff0c\u4ecd\u7136\u662f\u591a\u6570\u70b9\u5206\u5e03\u5728\\(y=x\\)\u76f4\u7ebf\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p>"},{"location":"articles/python/visualize/qq-plot/#q-q","title":"\u80fd\u7ed8\u5236 Q-Q \u56fe\u7684\u5e93","text":"<p>\u4e0a\u9762\u7684\u4ee3\u7801\u5df2\u7ecf\u7ed9\u51fa\u4e86\u7ed8\u5236\u65b9\u6cd5\uff0c\u4f46\u4e3b\u8981\u662f\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u5176\u539f\u7406\u3002\u5b9e\u9645\u8fd0\u7528\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u501f\u52a9 scipy.stats \u4e2d\u7684 probplot \u65b9\u6cd5\uff1a</p> <pre><code>import numpy as np\nimport scipy.stats as stats\nimport matplotlib.pyplot as plt\n\n# GENERATE A RANDOM DATASET FOLLOWING A NORMAL DISTRIBUTION\nnp.random.seed(0)\ndata = np.random.normal(loc=5, scale=2, size=100)\n\n# GENERATE A Q-Q PLOT\nplt.figure(figsize=(8, 8))\nstats.probplot(data, dist=\"norm\", plot=plt)\nplt.title('Q-Q plot')\nplt.ylabel('Sample quantiles \uff08\u6837\u672c\u5206\u4f4d\u6570\uff09')\nplt.xlabel('Theoretical quantiles \uff08\u7406\u8bba\u5206\u4f4d\u6570\uff09')\nplt.grid(True)\nplt.show()\n</code></pre> <p>\u5f53\u7136\u73b0\u5728\u6211\u4eec\u660e\u767d\uff0cprobplot \u65b9\u6cd5\u53ea\u4e0d\u8fc7\u662f\u6309\u7167\u6211\u4eec\u63d0\u4f9b\u7684 dist \u53c2\u6570\uff0c\u5728\u5185\u90e8\u751f\u6210\u4e86\u540c\u6837\u957f\u5ea6\u7684\u7406\u8bba\u5206\u5e03\u91c7\u6837\u6570\u636e\uff0c\u5bf9\u5f85\u68c0\u9a8c\u5206\u5e03\u548c\u7406\u8bba\u5206\u5e03\u90fd\u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u7ed8\u5236\u56de\u5f52\u76f4\u7ebf\u4e0e\u6563\u70b9\u56fe\u800c\u5df2\u3002</p> <p>\u4e0a\u8ff0\u4ee3\u7801\u5c06\u7ed8\u5236\u51fa\u8fd9\u4e2a\u56fe\u5f62\uff1a</p> <p></p> <p>\u53e6\u5916\uff0c \u5728 statsmodels \u5e93\u4e2d\uff0c\u4e5f\u901a\u8fc7 graphics.gofplots \u63d0\u4f9b\u4e86 qqplot \u65b9\u6cd5\u3002</p>"},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/","title":"\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f","text":"<p>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f\u672c\u6587\u9996\u5148\u8fa8\u6790\u4e86\u5f52\u4e00\u5316\u3001\u6807\u51c6\u5316\u4e0e\u6b63\u5219\u5316\u4e09\u4e2a\u672f\u8bed\uff0c\u7136\u540e\u5206\u6790\u4e86min-max, sin, sigmoid\u7b49\u5f52\u4e00\u5316\u51fd\u6570\u5728\u91cf\u5316\u4e2d\u4f7f\u7528\u65f6\u5e38\u72af\u7684\u9519\u8bef\uff0c\u8bb2\u89e3\u4e86\u5982\u4f55\u5236\u4f5c\u4e00\u4e2a\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570\u3002\u6700\u540e\uff0c\u4ee5\u4e00\u4e9b\u91cf\u5316\u56e0\u5b50\u5f52\u4e00\u5316\u793a\u4f8b\u4f5c\u4e3a\u7ed3\u675f\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_1","title":"\u5f52\u4e00\u5316\u3001\u6807\u51c6\u5316\u4e0e\u6b63\u5219\u5316\u8fa8\u6790","text":"<p>\u5f52\u4e00\u5316\u3001\u6807\u51c6\u5316\u4e0e\u6b63\u5219\u5316\u662f\u673a\u5668\u5b66\u4e60/\u6df1\u5ea6\u5b66\u4e60\u4e2d\u76f8\u4f3c\u4f46\u53c8\u76f8\u533a\u522b\u7684\u51e0\u4e2a\u6982\u5ff5\u3002</p> <p>\u5f52\u4e00\u5316 (normalization)\u662f\u6307\u5c06\u6570\u636e\u5206\u5e03\u6620\u5c04\u5230[0,1]\u7684\u533a\u95f4\u6765\u3002\u6211\u4eec\u53ef\u80fd\u662f\u5728\u7edf\u8ba1\u5b66\u4e2d\u6700\u521d\u63a5\u89e6\u5230\u8fd9\u4e00\u6982\u5ff5\uff0c\u4e3b\u8981\u65b9\u6cd5\u6709min-max scaling, \u4f46\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u5e38\u5e38\u4f7f\u7528\u7684\u5f52\u4e00\u5316\u65b9\u6cd5\u8fdc\u4e0d\u6b62\u4e8e\u6b64\uff0c\u8fd8\u6709tanh, sigmoid, sin\u7b49\u7b49\u3002min-max\u5f52\u4e00\u5316\u7684\u516c\u5f0f\u662f\uff1a</p> \\[ X' = \\frac{X - min(x)}{max(X) - min(X)} \\] <p>\u4e0d\u662f\u6240\u6709\u80fd\u5b9e\u73b0\u53d8\u91cf\u5230\u503c\u57df[0,1]\u4e4b\u95f4\u7684\u6620\u5c04\u7684\u51fd\u6570\uff0c\u90fd\u80fd\u62ff\u6765\u505a\u5f52\u4e00\u5316\u51fd\u6570\u7684\u3002\u5f52\u4e00\u5316\u51fd\u6570\u5fc5\u987b\u6ee1\u8db3\u7684\u4e00\u4e2a\u6761\u4ef6\u5c31\u662f\uff0c\u5b83\u4e0d\u80fd\u6539\u53d8\u6570\u636e\u4e4b\u95f4\u7684\u4f4d\u7f6e\u5173\u7cfb\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6709\u81ea\u53d8\u91cf\\([x_0, x_1]\\)\uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u662f\\([y_0, y_1]\\),\u4e14\\(x_0 &gt;= x_1\\)\u7684\u8bdd\uff0c\u90a3\u4e48\\(y_0 &gt;= y_1\\)\u4e5f\u5fc5\u987b\u5f97\u5230\u6ee1\u8db3\u3002\u8fd9\u4e2a\u89c4\u5219\uff0c\u53ef\u79f0\u5355\u8c03\u6027\u539f\u5219\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u50cfsin\u8fd9\u6837\u7684\u51fd\u6570\u5f88\u5c11\u7528\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff08\u4f46\u4e5f\u4e0d\u7edd\u5bf9\uff01\uff09\u3002\u53e6\u5916\uff0c\u4ec0\u4e48\u624d\u662f\u4e00\u4e2a\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570\uff1f\u6211\u4eec\u4e5f\u5c06\u5728\u540e\u9762\u7ee7\u7eed\u8ba8\u8bba\u3002</p> <p>\u5728\u5b9e\u73b0\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528sklearn.preprocessing.MinMaxScaler\u6765\u8fdb\u884c\u8f6c\u6362\u3002</p> <p>\u6807\u51c6\u5316 (standardization)\u4e00\u822c\u662f\u6307\u5c06\u6570\u636e\u6309\u4ee5\u4e0b\u516c\u5f0f\u8fdb\u884c\u5904\u7406\uff1a</p> \\[ z = \\frac{X - \\mu}{\\sigma} \\] <p>\u5373z-score\u5316\u3002\u8fdb\u884c\u6807\u51c6\u5316\u5904\u7406\u4ee5\u540e\uff0c\u51fd\u6570z\u5c06\u670d\u4ece \\(N(0,1)\\)\u7684\u6b63\u6001\u5206\u5e03\u3002\u5728\u5b9e\u73b0\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528sklearn.preprocessing.StandardScaler\uff08\u6216\u8005scale()\uff09\u6765\u5904\u7406\u3002</p> <p>\u5f52\u4e00\u5316\u4e0e\u6807\u51c6\u5316\u5b9e\u9645\u4e0a\u6709\u8f83\u5927\u7684\u533a\u522b\u3002\u5b9e\u73b0\u5f52\u4e00\u5316\u540e\uff0c\u6570\u636e\u96c6\u7684\u503c\u57df\u5c06\u843d\u5728[0,1]\uff08\u6216\u8005\u5728[-1,1]\u4e4b\u95f4\u3002\u901a\u8fc7\u5f52\u4e00\u5316\u5904\u7406\uff0c\u4e0d\u540c\u91cf\u7eb2\u7684\u7269\u7406\u91cf\u5b9e\u73b0\u4e86\u53bb\u91cf\u7eb2\u5316\uff0c\u4ece\u800c\u5b83\u4eec\u53ef\u4ee5\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u4ee5\u76f8\u540c\u7684\u5b66\u4e60\u7387\uff08learning-rate\uff09\u6765\u8fdb\u884c\u68af\u5ea6\u4f18\u5316\u3002\u4f46\u6807\u51c6\u5316\u540e\u7684\u6570\u636e\u96c6\uff0c\u5b83\u7684\u503c\u57df\u6ca1\u6709\u8303\u56f4\u9650\u5236\uff0c\u56e0\u800c\u5b83\u4ecd\u7136\u662f\u6709\u91cf\u7eb2\u7684\u3002\u8fd9\u6837\u4e0d\u540c\u7684\u56e0\u5b50\u88ab\u6807\u51c6\u5316\u540e\uff0c\u4ecd\u7136\u5728\u91cf\u7eb2\u4e0a\u4e0d\u4e00\u81f4\uff0c\u6240\u4ee5\u662f\u4e0d\u80fd\u653e\u5230\u4e00\u8d77\u8fdb\u884c\u8bad\u7ec3\u7684\u3002\u53e6\u5916\uff0c\u6807\u51c6\u5316\u6709\u610f\u4e49\u7684\u524d\u63d0\u662f\uff0c\u6570\u636e\u96c6\u672c\u8eab\u8981\u6ee1\u8db3\u6b63\u6001\u5206\u5e03\u3002</p> <p>\u6b63\u5219\u5316\u5219\u662f\u5c06\u6807\u51c6\u5316\u540e\u7684\u6570\u636e\u96c6\uff0c\u9664\u4ee5\u5b83\u7684\u8303\u6570\uff0c\u4ece\u800c\u6570\u636e\u88ab\u7f29\u653e\u5230[-1,1]\u533a\u95f4\u5185\u3002\u6b63\u5219\u5316\u540e\u7684\u7ed3\u679c\u6d88\u9664\u4e86\u91cf\u7eb2\uff0c\u662f\u9002\u7528\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u3002\u6b63\u5219\u5316\u7684\u516c\u5f0f\u662f</p> \\[ X' = \\frac{X}{||X||} \\] <p>\u5728sklearn\u4e2d\uff0c\u5b9e\u73b0\u65b9\u6cd5\u662fsklearn.preprocessing.Normalizer\u3002</p> <p>\u5982\u679c\u662f\u673a\u5668\u5b66\u4e60\uff0c\u90e8\u5206\u7b97\u6cd5\uff0c\u6bd4\u5982decision-tree\u548cboost\u7c7b\u7684\u7b97\u6cd5\uff0c\u8fd9\u4e09\u79cd\u53d8\u6362\u90fd\u662f\u6ca1\u6709\u5fc5\u8981\u505a\u7684\u3002\u56e0\u4e3a\u8fd9\u4e9b\u7b97\u6cd5\u4e0e\u91cf\u7eb2\u65e0\u5173\u3002</p> <p>\u4f46\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u6d89\u53ca\u5230\u6743\u91cd\u4f18\u5316\u7684\u5b66\u4e60\u7387\u95ee\u9898\uff0c\u56e0\u6b64\u5404\u5411\u91cf\uff08\u5728\u91cf\u5316\u4e2d\u5373\u4e3a\u56e0\u5b50\uff09\u7684\u91cf\u7eb2\u5fc5\u987b\u7edf\u4e00\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u5b9e\u73b0\u5f52\u4e00\u5316\u6216\u8005\u6b63\u5219\u5316\u3002\u663e\u7136\uff0c\u6807\u51c6\u5316\u662f\u6ca1\u6709\u592a\u591a\u610f\u4e49\u7684\u3002</p> <p>\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\u5f52\u4e00\u5316\u7684\u65b9\u6cd5\u5f88\u591a\uff0c\u8fdc\u4e0d\u6b62\u7edf\u8ba1\u5b66\u4e0a\u7684min-max scaler\u8fd9\u4e00\u79cd\u3002\u5177\u4f53\u7528\u54ea\u4e00\u79cd\uff0c\u8ddf\u6211\u4eec\u7684\u7684\u6570\u636e\u5206\u5e03\u3001\u8981\u89e3\u51b3\u7684\u95ee\u9898\u662f\u76f8\u5173\u7684\uff0c\u6240\u4ee5sigmoid, tanh, sin\uff08\u8fd9\u4e2a\u6700\u65e9\u5728NMT\u4e2d\u4f7f\u7528\uff09,min-max\u7b49\u90fd\u6709\u4f7f\u7528\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_2","title":"\u5e38\u89c1\u7684\u5f52\u4e00\u5316\u51fd\u6570\u8ba8\u8bba","text":"","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#min-max-scale","title":"min-max scale","text":"<p>\u5728\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u4e2d\uff0c\u51b3\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u80a1\u4ef7\u3001\u6216\u8005\u4efb\u4f55\u5b83\u7684\u4e00\u9636\u7ebf\u6027\u53d8\u6362\u6765\u8fdb\u884cmin-max scale\u6765\u4f5c\u4e3a\u56e0\u5b50\u3002\u5728\u5f88\u591a\u9886\u57df\uff0cmin-max\u5f52\u4e00\u5316\u662f\u6709\u6548\u7684\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u9886\u57df\u4e2d\u7684\u6570\u636e\u662f\u6709\u754c\u7684\u3002\u6bd4\u5982\uff0c\u4eba\u7684\u8eab\u9ad8\uff0c\u5927\u7ea6\u662f20cm\u5230250cm\u3002\u8fd9\u662f\u4e00\u4e2a\u786e\u5b9a\u7684\u4e0a\u4e0b\u754c\u3002\u4f46\u80a1\u7968\u4ef7\u683c\u53ea\u6709\u4e0b\u754c\uff0c\u6ca1\u6709\u4e0a\u754c\u3002\u6bd4\u5982\u4e07\u79d1\u7684\u80a1\u4ef7\uff0c\u4ee5\u540e\u590d\u6743\u6765\u770b\uff0c\u57282018\u5e74\u8fbe\u5230\u8fc73700\u5143\u3002\u5982\u679c\u6211\u4eec\u91c7\u75282000\u5e74\u4ee5\u524d\u7684\u80a1\u4ef7\u4f5c\u4e3a\u56e0\u5b50\uff0c\u5e76\u4e14\u8fdb\u884cmin-max scale\uff0c\u90a3\u4e48\u6700\u7ec8\u7684\u9884\u6d4b\u503c\u662f\u51b3\u4e0d\u4f1a\u8d85\u8fc7\u5f53\u65f6\u7684\u6700\u9ad8\u4ef7\u7684\u3002</p> <p>\u4f46\u662f\u6da8\u8dcc\u5e45\u3001RSI\u7b49\u6307\u6807\u5219\u6bd4\u8f83\u9002\u5408\u8fdb\u884cmin-max scale\u3002\u4f60\u5e94\u8be5\u6ce8\u610f\u5230\uff0c\u5b83\u4eec\u662f\u80a1\u4ef7\u7684\u4e8c\u9636\u51fd\u6570\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#sigmoidtanh","title":"sigmoid\u548ctanh","text":"<p>\u8fd9\u4e24\u4e2a\u51fd\u6570\u6548\u679c\u51e0\u4e4e\u76f8\u540c\uff0c\u4f46\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528sigmoid\u4f1a\u591a\u4e00\u4e9b\uff0c\u56e0\u4e3a\u5b83\u5728\u6c42\u5bfc\u65f6\uff0c\u8ba1\u7b97\u6027\u80fd\u66f4\u597d\u3002</p> \\[     S = \\frac{1}{1 + e^{-x}} \\] <p>\u5bf9sigmoid\u51fd\u6570\u8fdb\u884c\u6c42\u5bfc\uff0c\u5176\u7ed3\u679c\u4e3a</p> \\[ dS = S * (1 - S) \\] <p>\u8fd9\u6837\u5728\u8ba1\u7b97\u4e2d\u53ef\u4ee5\u5229\u7528\u539f\u51fd\u6570\uff0c\u6240\u4ee5\u901f\u5ea6\u66f4\u5feb\u3002</p> <p>\u4e24\u8005\u7684\u53d8\u6362\u56fe\u5f62\u5982\u4e0b\uff1a</p> <p></p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#sine","title":"sine","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u4f7f\u7528sin\u51fd\u6570\u6765\u8fdb\u884c\u5f52\u4e00\u5316\u3002\u56e0\u4e3a\u5b83\u7684\u53d6\u503c\u6709\u5468\u671f\u6027\u3002\u4f46\u8fd9\u4e5f\u4e0d\u7edd\u5bf9\uff0c\u5728google\u65e9\u671f\u7684NMT\u6a21\u578b\u4e2d\uff0c\u5c31\u5927\u91cf\u4f7f\u7528\u4e86sin\u6765\u8fdb\u884c\u5f52\u4e00\u5316\uff0c\u56e0\u4e3a\u5b83\u6b63\u597d\u80fd\u63d0\u53d6\u4e24\u4e2a\u76f8\u5173\u8054\u7684\u8bed\u7d20\u4e4b\u95f4\u95f4\u9694\u7684\u5468\u671f\u6027\u3002\u5c3d\u7ba1\u5f88\u5c11\u770b\u5230\u62a5\u9053\u91cf\u5316\u7b56\u7565\u5728\u6df1\u5ea6\u5b66\u4e60\u4e0a\u4f7f\u7528sin\u51fd\u6570\uff0c\u4f46\u8003\u8651\u5230\u7ecf\u6d4e\u7684\u5468\u671f\u6027\uff0c\u4ea4\u6613\u884c\u4e3a\u7684\u5468\u671f\u6027\uff0c\u5468\u671f\u7c7b\u7684\u5f52\u4e00\u5316\u51fd\u6570\u4e00\u5b9a\u53ef\u4ee5\u5728\u56e0\u5b50\u63d0\u53d6\u4e2d\u53d1\u6325\u4f5c\u7528\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#z-score","title":"z-score\u548c\u6b63\u5219\u5316","text":"<p>\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0cz-score\u65b9\u6cd5\u4e0d\u80fd\u53bb\u91cf\u7eb2\uff0c\u56e0\u800c\u4e00\u822c\u4e0d\u9002\u7528\u4e8e\u6df1\u5ea6\u5b66\u4e60\u3002\u6b63\u5219\u5316\u65b9\u6cd5\u80fd\u5c06\u6570\u636e\u538b\u7f29\u5728[0-1]\u533a\u95f4\uff0c\u6211\u4eec\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8ddfmin-max\u4e00\u6837\uff0c\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u62ff\u80a1\u4ef7\u53d8\u6362\u4f5c\u4e3a\u56e0\u5b50\u3002\u5f53\u7136\u8fd9\u4e00\u70b9\uff0c\u53ef\u80fd\u5bf9\u5176\u5b83\u65b9\u6cd5\u4e5f\u662f\u9002\u7528\u7684\u3002</p> <p>\u6709\u4eba\u4f1a\u8ba4\u4e3a\uff0c\u80a1\u4ef7\u6ce2\u52a8\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u8fd9\u662f\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528z-score\u53d8\u6362\u7684\u539f\u56e0\uff0c\u5b9e\u9645\u4e0a\u4e3b\u8981\u539f\u56e0\u8fd8\u662f\u91cf\u7eb2\u95ee\u9898\u3002\u662f\u5426\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u66f4\u591a\u5730\u662f\u610f\u5473\u7740\u6211\u4eec\u80fd\u5426\uff08\u5982\u4f55\uff09\u8fdb\u884c\u7edf\u8ba1\u63a8\u65ad\u7684\u95ee\u9898\u3002\u53e6\u5916\uff0c\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\u7684\u6570\u636e\uff0c\u6570\u636e\u70b9\u4e4b\u95f4\u7684\u5206\u5e03\u4f1a\u51fa\u73b0\u624e\u5806\uff0c\u4e0d\u591f\u5747\u5300\u7684\u95ee\u9898\u3002</p> <p>\u8fd9\u4e5f\u5f15\u51fa\u6765\u5f52\u4e00\u5316\u51fd\u6570\u7684\u8bc4\u4ef7\u95ee\u9898\uff0c\u5373\u4ec0\u4e48\u662f\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_3","title":"\u4ec0\u4e48\u662f\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570","text":"<p>\u5728\u91cf\u5316\u7b56\u7565\u4e2d\uff0c\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570\uff0c\u9996\u5148\u8981\u6ee1\u8db3\u5355\u8c03\u6027\u539f\u5219\uff0c\u5176\u6b21\uff0c\u8981\u4f7f\u5f97\u6700\u5e38\u51fa\u73b0\u7684\u6570\u636e\u70b9\uff0c\u6709\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u6b64\u5916\uff0c\u8fd8\u6d89\u53ca\u5230\u5206\u8fa8\u7387\u95ee\u9898\u3002</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6709\u4e00\u4e9b\u51fd\u6570\uff0c\u5728\u6570\u5b66\u4e0a\u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u4f46\u5728\u8ba1\u7b97\u673a\u5b9e\u73b0\u4e2d\uff0c\u7531\u4e8e\u6d6e\u70b9\u6570\u8bef\u5dee\u95ee\u9898\uff0c\u4f1a\u5bfc\u81f4\u5b9e\u9645\u4e0a\u4e0d\u6ee1\u8db3\u5355\u8c03\u6027\u3002</p> <p>\u6bd4\u5982 sigmoid(13) \u548csigmoid(26)\uff0c\u54ea\u4e2a\u5927\uff1f\u4ece\u6570\u5b66\u4e0a\u770b\uff0c\\(26 &gt; 13\\)\uff0c\u56e0\u6b64\uff0c \\(sigmoid(26) &gt; sigmoid(13)\\)\u6210\u7acb\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u9a8c\u8bc1\u8fd9\u4e24\u4e2a\u6570\u503c\u662f\u76f8\u7b49\u7684\uff1a</p> <pre><code>import numpy as np\n\ndef sigmoid(x):\n    return 1/(1 + np.exp(-x))\n\nassert sigmoid(13) - sigmoid(26) &lt; 1e-7\n</code></pre> <p>1e-7\u662f32\u4f4d\u6d6e\u70b9\u6570\u6240\u80fd\u7cbe\u786e\u8868\u793a\u7684\u6700\u5c0f\u7cbe\u5ea6\u3002\u800c\u6211\u4eec\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u6743\u91cd\u77e9\u9635\u4e00\u822c\u4f7f\u752832 bit\uff0c\u73b0\u572816-bit\u7684\u6743\u91cd\u4e5f\u5f88\u5e38\u89c1\u4e86\u3002</p> <p>sigmoid(13)\u4e0esigmoid(26)\u76f8\u7b49\uff01\u8fd9\u610f\u5473\u7740\u5355\u8c03\u6027\u539f\u5219\u88ab\u6253\u7834\u3002</p> <p>\u53e6\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u5bf9\u6570\u636e\u8fdb\u884cz-score\u5316?\u8fd9\u662f\u4e3a\u4e86\u8ba9\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u7684\u6570\u636e\u6bb5\uff0c\u5b83\u4eec\u90fd\u6620\u5c04\u5230\u4ee50\u4e3a\u4e2d\u5fc3\u9644\u8fd1\u7684\u533a\u57df\u4e0a\u6765\uff0c\u5728\u8fd9\u4e00\u533a\u6bb5\uff0c\u54cd\u5e94\u7075\u654f\u5ea6\u6700\u9ad8\u3002</p> <p>\u4ecesigmoid\u4e0etanh\u7684\u5bf9\u6bd4\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u5bf9sigmoid\u800c\u8a00\uff0c\u5728[-5\uff0c5]\u533a\u95f4\u5185\u7684\u6570\u503c\uff0c\u5b83\u7684\u4eecsigmoid\u503c\u5bf9x\u6709\u8f83\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u533a\u95f4\uff0c\u5219\u51fa\u73b0\u949d\u5316\u3002\u8fd9\u79cd\u949d\u5316\u610f\u5473\u7740\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u66f4\u5c0f\u7684\u5b66\u4e60\u7387(learning-rate)\u624d\u80fd\u8fdb\u884c\u8f83\u597d\u7684\u8c03\u6821\u3002</p> <p>\u6240\u4ee5\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u76f4\u63a5\u4f7f\u7528sigmoid\uff0c\u800c\u662f\u4f7f\u7528\u5b83\u7684\u4e00\u4e2a\u53d8\u6362\u7248\u672c\uff1a</p> <pre><code>def scaled_sigmoid(x, start, end):\n    \"\"\"\u5f53`x`\u843d\u5728`[start,end]`\u533a\u95f4\u65f6\uff0c\u51fd\u6570\u503c\u4e3a[0,1]\u4e14\u5728\u8be5\u533a\u95f4\u6709\u8f83\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\n    \"\"\"\n    n = np.abs(start - end)\n\n    score = 2/(1 + np.exp(-np.log(40_000)*(x - start - n)/n + np.log(5e-3)))\n    return score/2\n</code></pre> <p>\u4e0b\u9762\u7684\u56fe\uff0c\u663e\u793a\u4e86\u5f53\u6570\u636e\u4e3b\u8981\u5206\u5e03\u5728\u4e0d\u540c\u7684[start, end]\u533a\u95f4\u65f6\uff0c\u53d8\u6362\u540e\u7684sigmoid\u65b9\u6cd5\u90fd\u80fd\u4f7f\u5f97\u4e2d\u5fc3\u5206\u5e03\u6709\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6 -- \u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u505az-score\u53d8\u6362\u7684\u539f\u56e0\u3002</p> <p></p> <p>\u5728\u5b50\u56fe1\u4e2d\uff0c\u6211\u4eec\u8ba9\u6570\u636e\u5728[0,1]\u4e4b\u95f4\u6709\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u5b50\u56fe2\u4e2d\uff0c\u5982\u679c\u6570\u636e\u7ecf\u5e38\u843d\u572850\u9644\u8fd1\uff0c\u6b63\u8d1f50\u4e4b\u95f4\u6ce2\u52a8\uff0c\u4e5f\u80fd\u5f97\u5230\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u5b50\u56fe4\u5219\u663e\u793a\u7684\u662f\u539f\u59cb\u7684sigmoid\u5728[0,100]\u4e4b\u95f4\u7684\u53d6\u503c\u60c5\u51b5\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_4","title":"\u56e0\u5b50\u5f52\u4e00\u5316\u793a\u4f8b","text":"","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_5","title":"\u6da8\u505c\u540e\u6574\u7406\u5468\u671f\u56e0\u5b50","text":"<p>\u80a1\u7968\u6da8\u505c\u662f\u5f3a\u52bf\u7684\u8868\u73b0\uff08\u4f60\u53ef\u4ee5\u81ea\u5df1\u5c1d\u8bd5\u4e00\u4e0b\uff0c\u65e9\u76d810\uff1a00\u5f3a\u6da8\u505c\u7684\u80a1\u7968\uff0c\u8981\u7ef4\u6301\u5b83\u4e0d\u6253\u5f00\u4f1a\u6709\u591a\u96be\uff09\u3002\u8003\u8651\u5230\u6da8\u505c\u5f53\u5929\u65e0\u6cd5\u4e70\u8fdb\uff0c\u4f46\u540e\u7eed\u53ef\u80fd\u8c03\u6574\u4e00\u6bb5\u65f6\u95f4\uff0c\u53ef\u80fd\u6709\u4f4e\u4f4d\u8fdb\u573a\u7684\u673a\u4f1a\u3002\u6211\u4eec\u60f3\u77e5\u9053\uff0c\u5927\u6982\u5728\u6da8\u505c\u540e\u7b2c\u51e0\u5929\u8fdb\u573a\uff0c\u6210\u529f\u7387\u6700\u9ad8\u3002</p> <p>Tip</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u7eaf\u7cb9\u53ea\u770b\u65f6\u95f4\u5468\u671f\uff0c\u5e94\u8be5\u662f1, 3, 5, 8\u7b49fib\u5e8f\u5217\u300210\u548c20\u4e5f\u662f\u4e0d\u9519\u7684\u6570\u5b57\uff0c\u521a\u597d\u5bf9\u5e94\u4e24\u5468\u548c\u4e00\u4e2a\u6708\u3002</p> <p>\u8fd9\u662f\u53ef\u4ee5\u4f7f\u7528sin\u8fdb\u884c\u5f52\u4e00\u5316\u7684\u4f8b\u5b50\u3002\u6da8\u505c\u540e\u7684\u8c03\u6574\u5929\u6570\uff0c\u672c\u6765\u5c31\u6ca1\u6709\u5355\u8c03\u7684\u610f\u4e49\uff08\u5373\uff0c\u4e0d\u4f1a\u8c03\u6574\u8d77\u4e45\uff0c\u4e0a\u6da8\u6982\u7387\u8d8a\u5927\uff09\uff0c\u76f8\u53cd\uff0c\u5b83\u53ef\u80fd\u5448\u73b0\u67d0\u79cd\u5468\u671f\u56e0\u7d20\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_6","title":"\u5730\u91cf\u56e0\u5b50","text":"<p>\u5982\u679c\u67d0\u652f\u80a1\u7968\u3001\u6216\u8005\u6279\u6570\u67d0\u4e00\u5929\u89c1\u4e86\u5730\u91cf\uff0c\u8fd9\u610f\u5473\u7740\u4eba\u6c14\u51b7\u6e05\u5230\u6781\u70b9\uff0c\u4e0b\u8dcc\u4e5f\u5230\u4e86\u5c3d\u5934\u3002\u6240\u8c13\u5730\u91cf\u89c1\u5730\u4ef7\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u7528\u5f53\u5929\u7684\u6210\u4ea4\u91cf\u662f\u591a\u5c11\u5929\uff08n\uff09\u4ee5\u6765\u7684\u6700\u5c0f\u503c\u6765\u63cf\u8ff0\u5730\u91cf\u3002\u663e\u7136\uff0c\u8fd9\u4e2a\u503c\u8d8a\u5927\u8d8a\u597d\u3002\u4f46\u5b83\u4e5f\u4e0d\u53ef\u80fd\u65e0\u9650\u5927\uff0c\u5982\u679c\u771f\u662f\u8fd9\u6837\uff0c\u5730\u91cf\u89c1\u5730\u4ef7\u8fd9\u4e00\u80a1\u8c1a\u4e5f\u5c31\u4e0d\u6210\u7acb\u4e86\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u7edf\u8ba1\u4e00\u4e0b\uff0c\u7136\u540e\u53d6\u4e00\u4e2a\u5408\u7406\u7684\u533a\u95f4\uff0c\u7528\u4e0a\u9762\u7684scaled_sigmoid\u6765\u63d0\u53d6\u56e0\u5b50\uff0c\u7528\u4ee5\u6df1\u5ea6\u5b66\u4e60\u3002\u8fd9\u4e2a\u533a\u95f4\u7684\u4e0b\u754c\uff0c\u53ef\u80fd\u81f3\u5c11\u5f9730\u8d77\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_7","title":"\u6982\u7387\u56e0\u5b50","text":"<p>\u4e00\u4e9b\u6570\u636e\u8f6c\u6362\u6210\u6982\u7387\u4e4b\u540e\uff0c\u5929\u7136\u5c31\u662f\u5206\u5e03\u5728[0,1]\u4e4b\u95f4\u7684\u3002\u6240\u4ee5\uff0c\u5f53\u6211\u4eec\u6ca1\u6709\u5f52\u4e00\u5316\u601d\u8def\u65f6\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7ecf\u9a8c\u5206\u5e03\u51fd\u6570\uff0c\u6c42\u5f97\u7ecf\u9a8ccdf/ppf\u51fd\u6570\uff0c\u4ece\u800c\u5f97\u5230\u67d0\u4e2a\u6570\u636e\u51fa\u73b0\u65f6\uff0c\u5bf9\u5e94\u7684\u6982\u7387\u3002\u8fd9\u4e2a\u6982\u7387\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u6df1\u5ea6\u5b66\u4e60\u7684\u56e0\u5b50\u3002</p> <p>\u5bf9\u672c\u6587\u4e2d\u7684\u4e00\u4e9b\u6982\u5ff5\uff0c\u6bd4\u5982\u6d6e\u70b9\u8bef\u5dee\uff0c\u5f52\u4e00\u5316\u51fd\u6570\u7684\u4f5c\u7528\uff0cCDF/PPF\uff0c\u4e0d\u592a\u7406\u89e3\u7684\u8bdd\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7cfb\u7edf\u5730\u5b66\u4e60\u4e00\u4e9b\u91cf\u5316\u8bfe\u7a0b\u3002\u672c\u7bc7\u5185\u5bb9\u6574\u7406\u81ea\u6211\u4eec\u7684\u8bfe\u7a0b\u7d20\u6750\uff0c\u6b22\u8fce\u52a0\u5165\uff01</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/","title":"\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801","text":"<p>\u65e2\u7136c/java/python\u7b49\u8bed\u8a00\u7684\u7d22\u5f15\u90fd\u4ece\u96f6\u5f00\u59cb\uff0c\u56e0\u6b64\u6211\u4eec\u7684\u76d8\u70b9\u4e5f\u4ece\u4e00\u884c\u4ee3\u7801\u4e5f\u6ca1\u6709\u7684\u9879\u76ee\u5f00\u59cb</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#0-no-code","title":"0\u884c: No Code","text":"<p>\u8fd9\u4e2a\u9879\u76ee\u53ea\u6709\u96f6\u884c\u4ee3\u7801\uff0c\u5177\u6709\u8f7b\u91cf\u7ea7\u3001\u8de8\u5e73\u53f0\u3001\u5168\u81ea\u52a8\u4e0d\u53ef\u63cf\u8ff0\u4e4b\u7f8e\uff0c\u4e00\u4e3e\u65a9\u83b7github 50k </p> <p>Tip</p> <p>\u5728 github \u4e0a\u6709\u4e00\u4e2a\u9ad8\u8fbe 50k stars \u7684\u9879\u76ee\uff0c\u540d\u4e3a nocode\u3002\u5b83\u786e\u5b9e\u505a\u5230\u4e86\u4e0d\u4ea7\u751f\u4efb\u4f55 bug\uff1a</p> <p>No code is the best way to write secure and reliable applications. Write nothing; deploy nowhere.</p> <p>\u4e0d\u5199\u4ee3\u7801\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f bug\uff0c\u8fd9\u771f\u662f\u6781\u9ad8\u7684\u4f5b\u5bb6\u667a\u6167\uff1a\u83e9\u63d0\u672c\u65e0\u6811\uff0c\u660e\u955c\u4ea6\u975e\u53f0\uff0c\u672c\u6765\u65e0\u4e00\u7269\uff0c\u4f55\u5904\u60f9\u5c18\u57c3\uff1f\u4e0d\u8fc7\uff0c\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u9879\u76ee\uff0c\u8fd8\u662f\u88ab\u4eba\u63d0\u4ea4\u4e86\u8d85\u8fc7 3k \u7684 issues\uff08\u5f53\u6211\u4eec\u8ba4\u4e3a\u9879\u76ee\u4e2d\u5b58\u5728 bug\uff0c\u6216\u8005\u6709\u65b0\u7684\u529f\u80fd\u9700\u6c42\uff0c\u5c31\u53ef\u4ee5\u63d0\u51fa\u4e00\u4e2a issue\uff09\uff0c\u8fdc\u8d85\u5e73\u5747\u6c34\u5e73\uff0c\u8fd9\u4e5f\u7b97\u662f\u7a0b\u5e8f\u5458\u7684\u5e7d\u9ed8\u5427\uff1f</p> <p> - \u6458\u81ea\u300aPython\u80fd\u505a\u5927\u9879\u76ee\u300b</p> <p>\u8981\u8bc4\u8bba\u8fd9\u6837\u7684\u9879\u76ee\uff0c\u4e5f\u5fc5\u987b\u5112\u91ca\u9053\u517c\u4fee\u4e4b\uff1a</p> <p>Quote</p> <p>\u7a7a\u5373\u662f\u8272 \u8272\u5373\u662f\u7a7a \u9053\u53ef\u9053 \u975e\u5e38\u9053 \u540d\u53ef\u540d \u975e\u5e38\u540d \u9053\u672c\u65e0\u8a00 \u8a00\u8bf4\u662f\u5984 \u9605\u5c3d\u5929\u4e0b\u7801\uff0c\u5fc3\u4e2d\u5df2\u65e0\u7801\uff01</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#1","title":"1\u884c\uff1a\u96f7\u795e\u4e4b\u9524","text":"<p>\u8fd9\u884c\u4ee3\u7801\u51fa\u73b0\u5728\u6e38\u620f\u96f7\u795e\u4e4b\u9524\u4e2d\uff0c\u5b83\u662f\u4e00\u4e2a\u5e73\u65b9\u6839\u5012\u6570\u901f\u7b97\u6cd5\uff0c\u5373\u6c42\uff1a</p> \\[x^{\\frac{-1}{2}}\\] <p>\u8fd9\u4e2a\u51fd\u6570\u4e00\u822c\u4eba\u4e0d\u5927\u7528\u5f97\u5230\uff0c\u4f46\u5728\u6e38\u620f\u4e2d\u505a\u5149\u5f71\u8ddf\u8e2a\u662f\u5fc5\u5907\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5927\u5bb6\u8fd8\u662f\u770b\u56fe\u5427\uff1a</p> <p></p> <p>\u6211\u4e5f\u4e0d\u60f3\u591a\u89e3\u91ca\u4e86\u3002\u770b\u7740\u8fd9\u56fe\uff0c\u4e0d\u50cf\u662f\u505a\u6e38\u620f\uff0c\u8fd9\u7b80\u76f4\u5c31\u662f\u7a0b\u5e8f\u5458\u7684\u5934\u53d1\u3002\u518d\u7814\u7a76\u591a\u4e86\uff0c\u5934\u53d1\u5c31\u66f4\u5c11\u4e86\u3002</p> <p>\u603b\u4e4b\uff0c\u8fd9\u884c\u725bx\u7684\u4ee3\u7801\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>i  = 0x5f3759df - ( i &gt;&gt; 1 );\n</code></pre> <p>\u4ee3\u7801\u4f5c\u8005\u662f\u7ea6\u7ff0.\u5361\u9a6c\u514b\u3002\u5b83\u7684\u725bx\u4e4b\u5904\uff0c\u5728\u4e8e\u4f5c\u8005\u4ee5\u8fd1\u79d1\u62c9\u9a6c\u52aa\u91d1\u4f3c\u7684\u76f4\u89c9\uff0c\u53d1\u73b0\u4e86 0x5f3759df \u8fd9\u4e2a\u5e38\u6570\u3002\u8fd9\u4e2a\u7b97\u6cd5\u540e\u6765\u8fd8\u88abchatGPT\u6284\u8d70\u4e86\u3002</p> <p>\u4e0d\u8fc7\uff0c\u65e2\u7136\u54b1\u4eec\u662f\u8bb2\u91cf\u5316\u7684\u53f7\uff0c\u6211\u4eec\u4e5f\u8bb2\u4e00\u4e2a\u91cf\u5316\u4e2d\u4f1a\u7528\u5230\u7684\u4e00\u884c\u4ee3\u7801\u7684\u4f8b\u5b50\u3002\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5728\u6211\u4eec\u8bb2MPT\u90a3\u90e8\u5206\u65f6\u63d0\u8fc7\u3002</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#1_1","title":"1\u884c\uff1a\u72c4\u5229\u514b\u96f7\u5206\u5e03","text":"<p>\u5728\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u6c42\u89e3MPT\u7684\u6709\u6548\u524d\u6cbf\u65f6\uff0c\u6211\u4eec\u9700\u8981\u751f\u6210\u65e0\u6570\u6743\u91cd\u5411\u91cf\u3002\u5982\u679c\u6709n\u4e2a\u8d44\u4ea7\uff0c\u6211\u4eec\u9700\u8981\u8fd9\u6837\u751f\u6210\uff1a</p> <pre><code>import numpy as np\n\nweights = np.array(np.random.random(len(stocks)))\nweights = weights/np.sum(weights)  \n</code></pre> <p>\u7b2c2\u884c\u662f\u5fc5\u987b\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u786e\u4fdd\u5404\u9879\u8d44\u4ea7\u6743\u91cd\u4e4b\u548c\u52a0\u8d77\u6765\u4e3a1\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u72c4\u5229\u514b\u96f7\u5206\u5e03\u4e00\u884c\u4ee3\u7801\u641e\u5b9a\uff1a</p> <pre><code>from numpy.random import dirichlet\n\nw = dirichlet(np.ones(n), n)\n</code></pre>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#2-shuffle","title":"2\u884c\uff1a shuffle","text":"<p>\u5bf9\u4e8e\u7ed9\u5b9a\u7684 n \u4e2a\u5143\u7d20\uff0c\u751f\u6210\u4e00\u4e2a\u6392\u5217\uff0c\u4f7f\u5f97\u6bcf\u4e00\u4e2a\u5143\u7d20\u90fd\u80fd\u7b49\u6982\u7387\u5730\u51fa\u73b0\u5728\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u3002\u8fd9\u5c31\u662fshuffle\u7b97\u6cd5\u7684\u9b54\u529b\u3002</p> <pre><code>for(int i = n - 1; i &gt;= 0 ; i -- )\n    // rand(0, i) \u751f\u6210 [0, i] \u4e4b\u95f4\u7684\u968f\u673a\u6574\u6570\n    swap(arr[i], arr[rand(0, i)]) \n</code></pre> <p>\u4e0d\u8fc7\uff0c\u76f8\u5bf9\u4e8e0\u548c1\u884c\u800c\u8a00\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u6734\u7d20\u592a\u591a\u4e86\u3002\u968f\u673a\u6570\u751f\u6210\u3001\u62bd\u6837\u5728\u91cf\u5316\u4e2d\u4f7f\u7528\u5f97\u975e\u5e38\u666e\u904d\u3002\u8fd9\u91cc\u6211\u4eec\u4e3e\u4e00\u4e2a\u504f\u5e94\u7528\u4e00\u70b9\u7684\u4f8b\u5b50\uff0c</p> <p>\u4e24\u884c\u4ee3\u7801\u6c42\u51famaxdrawdown\u7684\u533a\u95f4\uff1a</p> <pre><code>import numpy as np\n# close\u662f\u6536\u76d8\u4ef7\u5e8f\u5217\n# \u6700\u5927\u56de\u64a4\u7ed3\u675f\u7684\u4f4d\u7f6e \u6700\u4f4e\u7684\u90a3\u4e2a\u4f4d\u7f6e\ni = np.argmax((np.maximum.accumulate(close) - close))\n# \u56de\u64a4\u5f00\u59cb\u7684\u4f4d\u7f6e \u6700\u9ad8\u7684\u90a3\u4e2a\u70b9\nj = np.argmax(data['close'][:i])  \n</code></pre>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#4","title":"4\u884c","text":"<p>\u53d1\u6325\u7a7a\u95f4\u592a\u5927\u4e86\uff0c\u6211\u4eec\u5c31\u4e0d\u8bb2\u4f8b\u5b50\u4e86\u3002\u4e0d\u8fc7\uff0c\u8fd9\u91cc\u7ed9\u4e00\u4e2a\u91cf\u5316\u4e2d\u5e38\u7528\u7684\u65f6\u95f4\u7b97\u6cd5\u3002\u6211\u4eec\u5728\u505a\u7279\u5f81\u63d0\u53d6\u3001\u56de\u6d4b\u65f6\u5e38\u5e38\u8981\u6307\u5b9a\u5468\u671f\u3002\u5728\u63d0\u53d6\u884c\u60c5\u6570\u636e\u65f6\uff0c\u53c8\u9700\u8981\u77e5\u9053\u8d77\u59cb\u65f6\u95f4\uff0c\u90a3\u4e48\uff0c\u5728\u77e5\u9053\u7ed3\u675f\u65e5\u671f\uff0c\u8981\u7b97\u51fan\u4e2a\u5468\u671f\u4ee5\u524d\u662f\u54ea\u4e2a\u65f6\u95f4\uff0c\u600e\u4e48\u8ba1\u7b97\uff1f</p> <p>\u5982\u679c\u8981\u6c42\u8ba1\u7b97\u7684\u662f\u65e5\u7ebf\uff0c\u8fd9\u4e2a\u8ba1\u7b97\u4e0d\u7b97\u590d\u6742\uff0c\u4f46\u4f60\u5fc5\u987b\u6709\u4ea4\u6613\u65e5\u5386\uff0c\u8fd9\u6837\u624d\u80fd\u6392\u9664\u6389\u4f11\u5e02\u65e5\u3002</p> <p>\u5982\u679c\u8981\u6c42\u8ba1\u7b97\u7684\u662f\u5206\u949f\u7ebf\u522b\u7684\u7ebf\uff0c\u6bd4\u598230\u5206\u949f\u7ebf\uff0c\u8fd9\u4e2a\u8ba1\u7b97\u5c31\u6bd4\u8f83\u590d\u6742\u3002\u6211\u4eec\u4e0d\u4ec5\u8981\u8003\u8651\u5230\u4f11\u5e02\u65e5\uff0c\u8fd8\u8981\u8003\u8651\u5230\u8de8\u5929\u7684\u60c5\u51b5\u3002zillionare\u91cf\u5316\u6846\u67b6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u7b97\u6cd5\u3002\u5b83\u5148\u6839\u636e\u5468\u671fn\uff0c\u5c0630\u5206\u949f\u7684tick\u5c55\u5f00\uff0c\u5e76\u4e0e\u65e5\u671f\u5408\u5e76\uff0c\u8fd9\u6837\u8ba1\u7b97\u5c31\u53d8\u6210\u4e86\u7ebf\u6027\u7684\uff1a</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#1-2-3-4-5tm-momenthour-60-momentminute-new_tick_pos-clsticksframe_typeindextm-n-days-new_tick_pos-lenclsticksframe_type-min_part-new_tick_pos-lenclsticksframe_type","title":"<pre><code>tm = moment.hour * 60 + moment.minute\n\nnew_tick_pos = cls.ticks[frame_type].index(tm) + n\ndays = new_tick_pos // len(cls.ticks[frame_type])\nmin_part = new_tick_pos % len(cls.ticks[frame_type])\n</code></pre>","text":"<pre><code>date_part = cls.day_shift(moment.date(), days)\nminutes = cls.ticks[frame_type][min_part]\nh, m = minutes // 60, minutes % 60\n</code></pre> <p>\u4ee3\u7801\u4f7f\u7528\u7684ticks\u6570\u7ec4\uff0c\u572830\u5206\u949f\u7ea7\u522b\u662f\u8fd9\u6837\u7684\uff1a</p> <p><pre><code>ticks = [600, 630, ..., 900]\n</code></pre> 600\u5373\u65e9\u4e0a10\u70b9\u3002\u8fd9\u91cc\u7528\u4e86\u4e00\u4e2aday_shift\u51fd\u6570\uff0c\u5b83\u5c31\u662f\u7b80\u5355\u5730\u4f7f\u7528\u4ea4\u6613\u65e5\u5386\u8fdb\u884c\u641c\u7d22\u3002\u6700\u7ec8\u6211\u4eec\u8fd8\u505a\u4e86\u4e00\u4e2a\u4f18\u5316\uff0c\u901a\u8fc7\u6c42\u6a21\u8fd0\u7b97\u4ee3\u66ff\u4e86\u5b9e\u9645\u4e0a\u7684ticks\u6570\u7ec4\u5c55\u5f00\uff0c\u4ece\u800c\u628a\u7a7a\u95f4\u4e5f\u7701\u4e86\u4e0b\u6765\u3002\u8fd9\u5728<code>n</code>\u6bd4\u8f83\u5927\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u975e\u5e38\u6709\u7528\u7684\u3002</p> <p>\u505a\u91cf\u5316\u4f1a\u6709\u4e0d\u5c11\u5e95\u5c42\u5de5\u5177\u51fd\u6570\u8981\u5199\uff0c\u5982\u679c\u81ea\u5df1\u6ca1\u65f6\u95f4\uff0c\u4e5f\u53ef\u4ee5\u53c2\u8003zillionare\u91cf\u5316\u6846\u67b6\u7684\u4ee3\u7801\u3002</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/14/%E5%A6%82%E4%BD%95%E5%85%8D%E7%99%BB%E5%BD%95%E9%87%8D%E5%90%AFminiqmt/","title":"\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?","text":"<p>\u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3miniqmt\u5728\u4f7f\u7528\u4e2d\uff0c\u96be\u514d\u4f1a\u9047\u5230\u4e0d\u7a33\u5b9a\u7684\u65f6\u5019\u3002\u76ee\u524d\uff0cxtquant\u5305\u8fd8\u6ca1\u6709\u63d0\u4f9b\u81ea\u52a8\u91cd\u8fde\u7684\u529f\u80fd\u3002\u5f53\u6211\u4eec\u53d1\u73b0xtquant\u5de5\u4f5c\u4e0d\u6b63\u5e38\u7684\u65f6\u5019\uff0c\u9700\u8981\u91cd\u542fminiqmt\uff0c\u91cd\u5efa\u65b0\u7684\u8fde\u63a5\uff08\u4e00\u5b9a\u8981\u4f7f\u7528\u65b0\u7684sessionid\uff09\u3002\u95ee\u9898\u662f\uff0c\u6709\u4e9b\u7248\u672c\u7684qmt\uff0c\u6bd4\u5982\u56fd\u91d1\u7684\u7248\u672c\uff0c\u5e76\u6ca1\u6709\u63d0\u4f9b\u514d\u5bc6\u767b\u5f55\uff0c\u600e\u4e48\u529e\uff1f</p> <p>\u6709\u4e00\u4e2a\u975e\u516c\u5f00\u7684\u65b9\u6cd5\u3002\u56fd\u91d1\u7248\u7684qmt\u5728\u767b\u5f55\u65f6\uff0c\u4f1a\u751f\u6210\u4e00\u4e2alinkMini\u7684\u6587\u4ef6\u3002\u8be5\u6587\u4ef6\u5305\u542b\u4e86\u5bc6\u7801\u53ca\u5176\u5b83\u4fe1\u606f\uff0c\u5f53\u8be5\u6587\u4ef6\u5b58\u5728\u4e8e\\bin.x64\u76ee\u5f55\u4e0b\u65f6\uff0cminiqmt\u5c31\u80fd\u514d\u767b\u5f55\u542f\u52a8\u3002</p> <p>linkMini\u6587\u4ef6\u662f\u5728qmt\uff08\u6ce8\u610f\u548cminiqmt\uff0c\u5373\u6781\u7b80\u6a21\u5f0f\u76f8\u5bf9\u5e94\uff09\u767b\u5f55\u540e\u751f\u6210\u7684\uff0c\u5b83\u53ea\u5b58\u5728\u5f88\u77ed\u7684\u65f6\u95f4\uff0c\u7acb\u523b\u53c8\u88ab\u5220\u9664\u4e86\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u628a\u8fd9\u4e2a\u6587\u4ef6copy\u51fa\u6765\uff1a</p> <pre><code>:loop\nif exist linkMini (\n    copy linkMini linkMini_copy \n    echo finish\n    goto end\n)\nif exist linkmini (\n    copy linkmini linkMini_copy \n    echo finish\n    goto end\n)\necho continue\ntimeout /t 0.1 &gt;nul\ngoto loop\n:end\n</code></pre> <p>\u8fd9\u4e2a\u811a\u672c\u9700\u8981\u653e\u5230\\bin.x64\u76ee\u5f55\u4e0b\u8fd0\u884c\u3002copy\u6210\u529f\u540e\uff0c\u811a\u672c\u5c31\u4f1a\u81ea\u52a8\u9000\u51fa\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u4e5f\u9000\u51faQMT\uff0c\u8fdb\u5165\u5230bin.x64\u76ee\u5f55\uff0c\u590d\u5236\u4e00\u4efdlinkMini_copy\u4e3alinkMini\uff0c\u7136\u540e\u4fee\u6539\u5176\u5b89\u5168\u5c5e\u6027\uff1a</p> <p></p> <p>\u6211\u4eec\u9700\u8981\u5c06system\u53causers\u7528\u6237\u7ec4\u4e0b\u7684\u6743\u9650\u4e2d\u7684\u5141\u8bb8\u5b8c\u5168\u53d6\u6d88\uff0c\u5728\u62d2\u7edd\u90e8\u5206\uff0c\u9009\u4e2d\u5199\u5165\u3002\u8fd9\u6837\u8bbe\u7f6e\u4e4b\u540e\uff0c\u8be5\u6587\u4ef6\u53d8\u6210\u53ea\u8bfb\uff0c\u4e0d\u4f1a\u88abqmt\u5220\u9664\u6389\u3002</p> <p>\u6b64\u65f6\u6211\u4eec\u5c31\u53ef\u4ee5\u81ea\u52a8\u91cd\u542fminiqmt\u4e86\uff0c\u56e0\u4e3a\u6709\u53c2\u6570\u4f20\u9012\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u8981\u901a\u8fc7\u811a\u672c\u6765\u5b9e\u73b0\uff1a</p> <pre><code>@echo on\ntitle run MiniQmt without logon\n\nset qmtPath=D:\\QMT\\bin.x64\nCD /D %qmtPath%\n\ntaskkill /F /IM xtMiniQmt.exe /T\n\nstart \"\" \"xtMiniQmt.exe\" linkMini\n</code></pre> <p>\u8be5\u65b9\u6848\u7531\u91cf\u5316\u7fa4\u91cc\u5c0f\u4f19\u4f34\u63d0\u51fa\uff0c\u7279\u522b\u611f\u8c22\uff01</p>","tags":["quantlib","python","xtquant"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/","title":"200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8","text":"<p>\u53bb\u5e74 15 \u65e5\u7684\u7b14\u8bb0\u6316\u4e86\u4e2a\u5751\uff0c\u7ed9\u51fa\u4e86\u91cf\u5316\u6570\u636e\u548c\u56e0\u5b50\u7684\u5b58\u50a8\u65b9\u6848\u6280\u672f\u5bfc\u56fe\u3002\u8fd9\u4e00\u7bc7\u7b14\u8bb0\u5c31\u5f00\u59cb\u586b\u5751\u3002</p> <p>\u5373\u4f7f\u6211\u4eec\u8d2d\u4e70\u4e86\u5728\u7ebf\u6570\u636e\u670d\u52a1\uff0c\u6bd4\u5982 tushare, \u805a\u5bbd\u7684\u8d26\u53f7\uff0c\u6211\u4eec\u4ecd\u7136\u8981\u6784\u5efa\u81ea\u5df1\u7684\u672c\u5730\u5b58\u50a8\uff0c\u4e3a\u4ec0\u4e48\uff1f</p> <p>\u539f\u56e0\u5982\u4e0b\uff1a</p> <ol> <li>\u5728\u7ebf\u6570\u636e\u670d\u52a1\u4e00\u822c\u90fd\u6709 quota \u9650\u5236\uff08\u6bd4\u5982\u805a\u5bbd\uff09\u3002\u5982\u679c\u6211\u4eec\u8981\u9891\u7e41\u5730\u8fdb\u884c\u56de\u6d4b\uff0c\u5f88\u5bb9\u6613\u7528\u5c3d quota\u3002</li> <li>\u5982\u679c\u6211\u4eec\u5728\u56de\u6d4b\u65f6\uff0c\u4f7f\u7528\u7684\u6570\u636e\u8981\u4ece\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\uff0c\u7f51\u7edc\u5ef6\u65f6\u4f1a\u5927\u5927\u5f71\u54cd\u5230\u56de\u6d4b\u901f\u5ea6\u3002</li> </ol> <ol> <li>\u5373\u4f7f\u5728\u7ebf\u6570\u636e\u670d\u52a1\u63d0\u4f9b\u4e86\u56e0\u5b50\u5e93\uff08\u6bd4\u5982 Alpha 101\uff0c Alpha 191 \u56e0\u5b50\u5e93\uff09\uff0c\u4f46\u662f\uff0c\u771f\u6b63\u80fd\u6218\u80dc\u5e02\u573a\u7684\u56e0\u5b50\uff0c\u5fc5\u7136\u6765\u81ea\u4e8e\u4f60\u81ea\u5df1\u7684\u72ec\u7279\u7814\u7a76\uff0c\u6240\u4ee5\uff0c \u6211\u4eec\u4e5f\u8981\u89e3\u51b3\u81ea\u5df1\u63d0\u53d6\u7684\u56e0\u5b50\u5982\u4f55\u5b58\u50a8\u7684\u95ee\u9898\uff0c\u8fd9\u4e5f\u51b3\u5b9a\u4e86\u6211\u4eec\u4ecd\u7136\u8981\u6784\u5efa\u81ea\u5df1\u7684\u672c\u5730\u5b58\u50a8\u3002</li> </ol> <p>\u8fd9\u4e00\u7bc7\u7b14\u6211\u4eec\u4ecb\u7ecd HDF5\uff0c\u8fd9\u662f\u6700\u9002\u5408\u4e2a\u4eba\u4ea4\u6613\u8005\u7684\u5165\u95e8\u65b9\u6848\u3002HDF5 \u53ef\u4ee5\u5904\u7406\u76f8\u5f53\u5927\u5bb9\u91cf\u7684\u6570\u636e\u3002</p> <p></p> <p>\u6839\u636e Kesheng Wu \u7b49\u4eba\u7684\u7814\u7a76\uff0c\u4ed6\u4eec\u5206\u6790 2007 \u5e74\u5230 2012 \u5e74 7 \u6708\u95f4\u7684\u671f\u8d27\u4ea4\u6613\u6570\u636e\uff0c\u4ee5\u6784\u5efa VPIN \u56e0\u5b50\u65f6\uff0c\u5904\u7406\u7684\u4ea4\u6613\u6570\u636e\u8fbe 30 \u4ebf\u6761\uff0cCSV \u6587\u4ef6\u7684\u5927\u5c0f\u8fbe\u5230\u4e86 140GB\u3002\u5f53\u4f7f\u7528\u8fd9\u4e48\u591a\u6570\u636e\u8fdb\u884c VPIN \u8ba1\u7b97\u65f6\uff0c\u4f7f\u7528 CSV \u6587\u4ef6\u7684\u65f6\u95f4\u662f 142 \u79d2\uff1b\u5c06\u5176\u8f6c\u6362\u6210 HDF5 \u683c\u5f0f\u540e\uff0c\u540c\u6837\u7684\u8ba1\u7b97\u5219\u53ea\u82b1\u4e86 0.4 \u79d2\uff0cHDF5\u5feb\u4e86200\u591a\u500d\uff01</p> <p>HDF\uff08Hierarchical Data Format\uff09\u662f\u4e00\u79cd\u4e3a\u5b58\u50a8\u548c\u5904\u7406\u5927\u5bb9\u91cf\u79d1\u5b66\u6570\u636e\u8bbe\u8ba1\u7684\u6587\u4ef6\u683c\u5f0f\u53ca\u76f8\u5e94\u5e93\u6587\u4ef6\u3002\u6700\u65e9\u7531 NCSA \uff08\u7f8e\u56fd\u56fd\u5bb6\u8d85\u7ea7\u8ba1\u7b97\u5e94\u7528\u4e2d\u5fc3\uff09 \u7814\u7a76\u5f00\u53d1\uff0c\u73b0\u7531\u975e\u76c8\u5229\u7ec4\u7ec7 HDF Group \u7ef4\u62a4\u3002\u6700\u65b0\u7684\u683c\u5f0f\u662f\u7b2c 5 \u7248\uff0c\u56e0\u6b64\u5c31\u88ab\u79f0\u4e3a HDF5\u3002HDF \u6700\u521d\u63d0\u4f9b\u4e86\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u6bd4\u5982\u5149\u6805\u56fe\u50cf\u548c\u6ce8\u89e3\u7b49\uff0c\u800c\u5728\u7b2c 5 \u7248\u4e2d\uff0c\u7b80\u5316\u5230\u53ea\u652f\u6301\u79d1\u5b66\u6570\u636e\u96c6\uff08\u5373\u540c\u8d28\u591a\u7ef4\u6570\u7ec4\uff09\u548c\u7fa4\u7ec4\u4e24\u79cd\u7c7b\u578b\u3002</p> <p>HDF5 \u5b98\u65b9\u7248\u672c\u662f\u57fa\u4e8e C/C++ \u7684\uff0c\u4f46\u4e5f\u50cf MATLAB\u3001Java\u3001Python\u3001R \u548c Julia \u8fd9\u4e9b\u8bed\u8a00\u4e5f\u6709\u81ea\u5df1\u7248\u672c\u7684 HDF5 API\u3002</p> <p>\u4f5c\u4e3a\u91cf\u5316\u4eba\uff0c\u6211\u4eec\u4f7f\u7528\u6700\u591a\u7684\u662f h5py\u3002</p> <p> h5py \u7684 logo</p>","tags":["quantlib","hdf5","h5py"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/#hdf5","title":"HDF5 \u7684\u57fa\u672c\u6982\u5ff5","text":"<p>HDF5 \u4f7f\u7528\u6587\u4ef6\u6765\u5b58\u50a8\u6570\u636e\u3002\u5b83\u5305\u542b\u4e24\u79cd\u5bf9\u8c61\uff0c\u5373\u6570\u636e\u96c6(\u8fd9\u662f\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u7684\u6570\u636e\u96c6\u5408\uff09\u548c\u7fa4\u7ec4\uff08\u7c7b\u4f3c\u4e8e\u6587\u4ef6\u5939\uff0c\u5176\u4e0b\u53ef\u5305\u542b\u6570\u636e\u96c6 datasets \u548c\u5176\u5b83\u7fa4\u7ec4\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u6765\u7406\u89e3 h5py \u4e2d\u7684\u57fa\u672c\u5bf9\u8c61\uff1a</p> <p>\u7fa4\u7ec4\u8c61\u5b57\u5178\u4e00\u6837\u5de5\u4f5c\uff0c\u800c\u6570\u636e\u96c6\u5219\u50cf Numpy \u6570\u7ec4\u4e00\u6837\u5de5\u4f5c\u3002</p> <p>h5py \u7684 API \u6bd4\u8f83\u57fa\u7840\uff0c\u7528\u6cd5\u5e76\u4e0d\u590d\u6742\u3002\u4f46\u4f5c\u4e3a\u884c\u60c5\u548c\u56e0\u5b50\u6570\u636e\u5e93\uff0c\u6211\u4eec\u9700\u8981\u81ea\u5df1\u6784\u5efa\u4e00\u4e9b\u529f\u80fd\u3002\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u5c06\u6f14\u793a\u6211\u4eec\u5982\u4f55\u5b58\u50a8\u884c\u60c5\u6570\u636e\uff0c\u5e76\u5b9e\u73b0\u6bcf\u65e5\u66f4\u65b0\uff1a</p> <pre><code>codes = [\"000001.XSHE\", \"600000.XSHG\"]\nh5file = \"/tmp/bars.h5\"\nh5 = h5py.File(h5file, \"a\")\n\nfor name in (\"1m\", \"5m\", \"10m\", \"30m\", \"1d\"):\n    if name not in h5.keys():\n        h5.create_group(f\"/{name}\")\n</code></pre> <p>\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6309\u884c\u60c5\u7684\u5468\u671f\u9891\u7387\uff0c\u5206\u522b\u521b\u5efa\u4e86\u82e5\u5e72\u4e2a group\u3002\u63a5\u4e0b\u6765\u7684\u884c\u60c5\u6570\u636e \u5c31\u4f1a\u4ee5\u8bc1\u5238\u4ee3\u7801\u4e3a name\uff0c\u5b58\u50a8\u5728\u8fd9\u4e9b group \u4e2d\u3002</p> <pre><code>def convert_frame(bars):\n    # H5 \u4e0d\u80fd\u5904\u7406 NP.DATETIME64\uff0c\u8f6c\u6362\u6210\u6574\u6570\n    dtype = bars.dtype.descr\n    dtype[0] = ('frame', 'i8')\n\n    return bars.astype(dtype)\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528 omicron \u6765\u83b7\u53d6\u884c\u60c5\u6570\u636e\u3002\u5b83\u8fd4\u56de\u7684\u884c\u60c5\u6570\u636e\u4e2d\uff0c\u6709\u4e00\u4e2a frame \u5b57\u6bb5\uff0c\u6570\u636e\u7c7b\u578b\u4e3a np.datetime64\uff0c\u662f h5py \u4e0d\u80fd\u5904\u7406\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u5b83\u8f6c\u6362\u4e3a epoch \u65f6\u95f4\u6765\u4fdd\u5b58\u3002h5py \u4e5f\u5141\u8bb8\u6211\u4eec\u76f4\u63a5\u4fdd\u5b58\u65f6\u95f4\u7c7b\u578b\uff08\u4ee5\u4e0d\u900f\u660e\u7684\u65b9\u5f0f\uff09\uff0c\u4f46\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u4e0d\u518d\u652f\u6301\u4e00\u4e9b\u67e5\u8be2\u64cd\u4f5c\u4e86\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u4e0b\u8ff0\u65b9\u6cd5\u6765\u628a\u65b0\u7684\u6570\u636e\u8ffd\u52a0\u5230\u4e4b\u524d\u7684\u6570\u636e\u96c6\u4e2d\uff1a</p> <pre><code>def append_ds(name: str, bars):\n    ds = h5.get(name)\n    if ds is None:\n        ds = h5.create_dataset(name, data = bars, chunks=True, maxshape=(None,))\n    else:\n        nold = ds.shape[0]\n        nnew = len(bars)\n        ds.resize(nold + nnew, axis=0)\n        ds[-nnew:] = bars\n\n    return ds\n</code></pre> <p>\u8fd9\u91cc\u8fd8\u5c55\u793a\u4e86\u83b7\u53d6\u6570\u636e\u96c6\u7684\u65b9\u6cd5 get\uff0c\u521b\u5efa\u6570\u636e\u96c6\u7684\u65b9\u6cd5 create_dataset \u548c resize \u65b9\u6cd5\u3002\u4e3a\u4e86\u652f\u6301 resize\uff0c\u6211\u4eec\u5728\u521b\u5efa\u6570\u636e\u96c6\u65f6\uff0c\u8fd8\u5fc5\u987b\u58f0\u660e chunks = True \u4ee5\u53ca amxshape=(None,)\u3002</p> <p>\u6dfb\u52a0\u65b0\u7684\u6570\u636e\u662f\u4ee5\u5207\u7247\u8bed\u6cd5\u6765\u5b8c\u6210\u7684\u3002\u73b0\u5728\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u6bcf\u65e5\u8ffd\u52a0\u6570\u636e\u7684\u529f\u80fd\uff1a</p> <pre><code># \u6bcf\u65e5\u589e\u52a0\u884c\u60c5\u6570\u636e\nasync def save_bars(codes:List[str], ft: FrameType):    \n    for code in codes:\n        bars = await Stock.get_bars(code, 240, ft)\n        append_ds(f\"/{ft.value}/{code}\", convert_frame(bars))\n</code></pre> <p>\u6700\u540e\uff0c\u6211\u4eec\u5199\u4e00\u4e2a\u663e\u793a\u5176\u6570\u636e\u7ed3\u6784\u7684\u51fd\u6570\uff1a</p> <pre><code># \u663e\u793a H5 \u6587\u4ef6\u7ed3\u6784\n\ndef h5_tree(val, pre=''):\n    items = len(val)\n    for key, val in val.items():\n        items -= 1\n        if items == 0:\n            # THE LAST ITEM\n            if type(val) == h5py._hl.group.Group:\n                print(pre + '\u2514\u2500\u2500 ' + key)\n                h5_tree(val, pre+'    ')\n            else:\n                print(pre + '\u2514\u2500\u2500 ' + key + ' (%d)' % len(val))\n        else:\n            if type(val) == h5py._hl.group.Group:\n                print(pre + '\u251c\u2500\u2500 ' + key)\n                h5_tree(val, pre+'\u2502   ')\n            else:\n                print(pre + '\u251c\u2500\u2500 ' + key + ' (%d)' % len(val))\n\nh5_tree(h5)\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230\u7c7b\u4f3c\u4e0b\u9762\u7684\u8f93\u51fa\uff1a</p> <pre><code>\u251c\u2500\u2500 1d\n\u2502   \u251c\u2500\u2500 000001.XSHE (240)\n\u2502   \u2514\u2500\u2500 600000.XSHG (240)\n\u2514\u2500\u2500 1m\n    \u251c\u2500\u2500 000001.XSHE (1200)\n    \u2514\u2500\u2500 600000.XSHG (1200)\n</code></pre> <p>\u8fd9\u6837\uff0c\u4f7f\u7528 hdf5 \u6765\u5b58\u50a8\u884c\u60c5\u6570\u636e\u7684\u57fa\u672c\u7ed3\u6784\u5c31\u5b8c\u6210\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u8fdb\u884c\u67e5\u8be2\uff1a</p> <pre><code>filter = mbars[\"close\"] &gt; 14.77\nmbars[filter]\n</code></pre> <p>\u6211\u4eec\u6a21\u62df\u4e86\u4e00\u4e2a 40 \u5e74\u5206\u949f\u7ebf\u7684\u6570\u636e\u96c6\uff0c\u5728\u8fdb\u884c\u4e0a\u8ff0\u67e5\u8be2\u65f6\uff0c\u9700\u8981\u6267\u884c 0.2 \u79d2\u3002</p> <p>\u4e0a\u8ff0\u5b58\u50a8\u7ed3\u6784\u6709\u4e00\u4e2a\u4e0d\u5229\u4e4b\u5904\uff0c\u5c31\u662f\u5728\u67e5\u8be2\u6a2a\u622a\u9762\u6570\u636e\uff08\u6bd4\u5982\uff0c\u8981\u67e5\u8be2\u67d0\u4e2a\u65f6\u95f4\u70b9\u4e0a\u6240\u6709\u4e2a\u80a1\u7684\u6536\u76d8\u4ef7\uff09\u65f6\uff0c\u901f\u5ea6\u4f1a\u6bd4\u8f83\u6162\uff0c\u56e0\u4e3a\u5faa\u73af\u96be\u4ee5\u907f\u514d\u3002hdf5 \u63d0\u4f9b\u4e86 virtual dataset \u8fd9\u4e00\u529f\u80fd\uff0c\u4f46\u5b83\u5e76\u4e0d\u9002\u5408\u53ef\u53d8\u957f\u7684\u6570\u636e\u96c6\u3002</p> <p>\u529e\u6cd5\u4e4b\u4e00\u662f\uff0c\u5728\u5b58\u50a8\u884c\u60c5\u6570\u636e\u65f6\uff0c\u628a\u4e2a\u80a1\u7684\u4ee3\u7801\u4e5f\u5b58\u50a8\u8fdb\u6765\u3002\u5f53\u7136\uff0c\u4e3a\u4e86\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\uff0c\u6211\u4eec\u9700\u8981\u5c06\u4ee5\u5b57\u7b26\u4e32\u8868\u793a\u7684\u8bc1\u5238\u4ee3\u7801\uff0c\u4e8b\u5148\u8f6c\u6362\u6210\u4e3a\u6574\u6570\u683c\u5f0f\u3002\u6bd4\u5982\uff0c\u8c61 000001.XSHE \u8fd9\u6837\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u6210\u4e3a 100001\uff0c600000.XSHG \u8f6c\u6362\u4e3a 2600000\uff1a\u5373\u4f7f\u7528 7 \u4f4d\u6570\u8bc1\u5238\u4ee3\u7801\uff0c\u7b2c 1 \u4f4d\u975e\u96f6\uff0c\u4e3a\u4ea4\u6613\u6240\u7f16\u7801\u3002</p> <p>\u4f46\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u6570\u636e\u96c6\u53d8\u5927\uff0c\u6211\u4eec\u6267\u884c\u67e5\u8be2\u7684\u901f\u5ea6\u4e5f\u4f1a\u53d8\u957f\u3002\u56e0\u6b64\u6211\u4eec\u5728\u8bbe\u8ba1\u65f6\uff0c\u8981\u7efc\u5408\u8003\u8651\u4e24\u79cd\u573a\u666f\u7684\u4f7f\u7528\u5360\u6bd4\u3002</p>","tags":["quantlib","hdf5","h5py"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/#need-for-speed","title":"Need for speed!","text":"<p>\u89c9\u5f97 h5py \u8fd8\u4e0d\u591f\u5feb\uff1f\uff01\u90a3\u4e48\uff0c\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 Parallel HDF5\u3002\u8fd9\u662f\u5728 ubuntu \u4e0a\u5b89\u88c5\u5b83\u7684\u6b65\u9aa4\uff1a</p> <p><pre><code>sudo apt update\n\n# \u5b89\u88c5\u652f\u6301\u5e76\u884c\u8fd0\u7b97\u7684 HDF5 \u539f\u751f\u5e93\nsudo apt install libhdf5-mpi-dev\n\n# \u68c0\u67e5 HDF5 \u5e76\u884c\u8fd0\u7b97\u662f\u5426\u5f00\u542f\nh5pcc\n\n# \u9700\u8981\u8fd9\u4e00\u6b65\u4ee5\u4e0b\u8f7d H5PY\nsudo apt install -y pkg-config\n\n# \u5b89\u88c5\u652f\u6301\u5e76\u884c\u8fd0\u7b97\u7684 H5PY\nexport CC=mpicc\nexport HDF5_MPI=\"ON\"\npip install --no-binary=h5py h5py\n</code></pre> \u6700\u540e\u4e00\u6b65\uff0c\u5728 pip install \u65f6\u6307\u5b9a --no-binary=h5py \u8981\u5212\u91cd\u70b9\u3002\u901a\u8fc7\u8fd9\u91cc\u7684\u6307\u5b9a\uff0c\u6211\u4eec\u5c06\u4e0b\u8f7d h5py \u7684\u6e90\u7801\uff0c\u5728\u672c\u5730\u6267\u884c\u7f16\u8bd1\uff0c\u518d\u5b89\u88c5 h5py\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5b89\u88c5 wheel \u683c\u5f0f\u7684 h5py\u3002\u5982\u679c\u662f\u4ece wheel \u683c\u5f0f\u8fdb\u884c\u5b89\u88c5\uff0c\u6211\u4eec\u5c06\u65e0\u6cd5\u5f97\u5230\u5e76\u884c\u8ba1\u7b97\u7684 hdf5 \u529f\u80fd\u3002</p> <p>\u5173\u4e8e\u5e76\u884c\u7248\u672c\u7684 h5py \u7684\u4f7f\u7528\uff0c\u53ef\u4ee5\u53c2\u8003\u8fd9\u4e2a\u94fe\u63a5\u3002\u65e0\u6cd5\u67e5\u770b\u5916\u94fe\u7684\uff0c\u53ef\u4ee5 google \u5927\u5bcc\u7fc1\u91cf\u5316\uff0c\u5728\u5b98\u7f51\u4e0a\u67e5\u770b\u540c\u540d\u6587\u7ae0\u548c\u793a\u4f8b\u4ee3\u7801\u3002</p>","tags":["quantlib","hdf5","h5py"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/#need-even-more-speed","title":"Need even more speed!","text":"<p>\u5c3d\u7ba1 hdf5 \u63d0\u4f9b\u4e86\u5b58\u50a8\u548c\u8bbf\u95ee\u6d77\u91cf\u6570\u636e\u7684\u80fd\u529b\uff0c\u4f46\u662f\uff0c\u5b83\u7684\u6587\u6863\u3001\u53ca\u4efb\u4f55\u4e00\u672c\u6559\u7a0b\u90fd\u4e0d\u4f1a\u544a\u8bc9\u4f60\uff0c\u5b83\u4e0d\u80fd\u63d0\u4f9b\u57fa\u4e8e\u7d22\u5f15\u7684\u67e5\u8be2\u3002\u968f\u7740\u4f60\u7684\u6570\u636e\u96c6\u8d8a\u6765\u8d8a\u5927\uff0c\u67e5\u8be2\u901f\u5ea6\u5c06\u4f1a\u4ee5\u7ebf\u6027\u589e\u52a0\u7684\u65b9\u5f0f\u53d8\u6162\u3002</p> <p>Tip</p> <p>\u5f53\u6211\u4eec\u8fdb\u884c\u6280\u672f\u9009\u578b\u65f6\uff0c\u6211\u4eec\u603b\u662f\u5e0c\u671b\u5168\u9762\u4e86\u89e3\u4e00\u95e8\u6280\u672f\u7684\u4f18\u52bf\u548c\u7f3a\u9677\u3002\u4f46\u662f\uff0c\u5b98\u65b9\u6587\u6863\u5e38\u5e38\u53ea\u4ecb\u7ecd\u5b83\u7684\u4f18\u70b9\uff0c\u5bf9\u5176\u7f3a\u70b9\u5219\u907f\u800c\u4e0d\u8c08\u3002\u5947\u602a\u7684\u662f\uff0c\u7b2c\u4e09\u65b9\u7684\u6559\u7a0b\u4e5f\u5f80\u5f80\u5bf9\u5b83\u7684\u7f3a\u9677\u4e5f\u5f80\u5f80\u95ea\u70c1\u5176\u8f9e\u3002\u539f\u56e0\u53ef\u80fd\u662f\uff0c\u4e00\u65e6\u4ed6\u4eec\u8c08\u53ca\u4e86\u8fd9\u95e8\u6280\u672f\u7684\u7f3a\u9677\uff0c\u5c31\u53ef\u80fd\u5bfc\u81f4\u8bfb\u8005\u5931\u53bb\u5b66\u4e60\u7684\u5174\u8da3\uff0c\u8fdb\u800c\u964d\u4f4e\u8be5\u6559\u7a0b\u7684\u6d41\u91cf\u3002\u8fd9\u4e5f\u8bb8\u662f\u4f60\u5e94\u8be5\u5e38\u8bfb\u6211\u7684\u535a\u6587\u7684\u539f\u56e0 -- \u6211\u5e76\u4e0d\u5e0c\u671b\u4f60\u56e0\u4e3a\u6211\u7684\u6587\u7ae0\uff0c\u9009\u62e9\u4e86\u5e76\u4e0d\u6070\u5f53\u7684\u6280\u672f\uff0c\u5728\u6d6a\u8d39\u4e86\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u4e0d\u5f97\u4e0d\u4ece\u5934\u518d\u6765\u9009\u62e9\u65b0\u7684\u6280\u672f\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\u4e4b\u4e00\u662f\u5c06\u6570\u636e\u5207\u5206\u4e3a\u591a\u4e2adataset\uff0c\u6bcf\u4e2a dataset \u7684\u540d\u5b57\u4e0e\u65f6\u95f4\u5173\u8054\u8d77\u6765\uff0c\u8fd9\u6837\u5728\u8fdb\u884c\u4e0e\u65f6\u95f4\u76f8\u5173\u7684\u67e5\u8be2\u65f6\uff0c\u5c31\u53ef\u4ee5\u83b7\u5f97\u8f83\u597d\u7684\u52a0\u901f\u3002\u53e6\u4e00\u4e2a\u65b9\u6cd5\u662f\u4f7f\u7528 fastquery\uff0c\u5b83\u5efa\u7acb\u4e86\u4e00\u4e2a\u57fa\u4e8e bitmap \u7684\u7d22\u5f15\u3002\u4e0d\u8fc7\u6211\u5e76\u6ca1\u6709\u770b\u5230\u73b0\u6210\u7684 python \u5e93\u3002</p> <p></p> <p>\u53e6\u4e00\u4e2a\u65b9\u6848\u53ef\u80fd\u662f\uff0c\u4ec5\u4ec5\u5c06 hdf5 \u4f5c\u4e3a\u57fa\u7840\u7684\u6301\u4e45\u5316\u8bbe\u65bd\uff0c\u800c\u5bf9\u5b83\u7684\u67e5\u8be2\u64cd\u4f5c\uff0c\u5168\u90e8\u901a\u8fc7 modin -- \u8fd9\u662f pandas \u7684\u5e73\u66ff\uff0c\u53ef\u4ee5\u8f7d\u5165\u8fdc\u5927\u4e8e\u7269\u7406\u5185\u5b58\u7684\u6587\u4ef6--\u6765\u64cd\u4f5c\u6570\u636e\u96c6\u3002</p> <p>\u5f53\u7136\uff0c\u4ece\u6211\u4eec\u7684\u6d4b\u8bd5\u6765\u770b\uff0c\u5982\u679c\u4f60\u53ea\u9700\u8981\u5904\u7406\u5230\u65e5\u7ebf\u7ea7\u522b\u7684\u884c\u60c5\u6570\u636e\uff0c\u90a3\u4e48\u76f4\u63a5\u4f7f\u7528\u65e0\u7d22\u5f15\u7684\u67e5\u8be2\uff0c\u901f\u5ea6\u4e0a\u662f\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\u7684\u3002\u6240\u4ee5\uff0c\u8fd9\u662f\u5bf9\u4e2a\u4eba\u7814\u7a76\u8005\u800c\u8a00\uff0c\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u5c31\u653e\u5728\u672c\u7cfb\u5217\u7b2c\u4e00\u7bc7\u4e2d\u8fdb\u884c\u63a8\u8350\u3002</p> <p>\u5982\u679c\u4f60\u5e0c\u671b\u5b58\u50a8\u5230\u5206\u949f\u7ea7\u7684\u6570\u636e\uff0c\u8fd8\u8981\u4fdd\u6301\u975e\u5e38\u597d\u7684\u67e5\u8be2\u901f\u5ea6\uff0c\u600e\u4e48\u529e\uff1f\u8fd9\u5c31 pyarrow + parquet \u53ef\u4ee5\u53d1\u529b\u7684\u5730\u65b9\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u7bc7\u91cc\u4ecb\u7ecd\u3002</p> <p>\u672c\u6587\u9644\u6709h5py\u4f7f\u7528\u793a\u4f8b\u4ee3\u7801\u3002notebook\u53ef\u4ee5\u5728\u5927\u5bcc\u7fc1\u91cf\u5316\u7f51\u7ad9\u83b7\u5f97\u3002\u5982\u679c\ud83d\udd17\u65e0\u6cd5\u663e\u793a\uff0c\u53ef\u4ee5google\u5927\u5bcc\u7fc1\u91cf\u5316\u3002</p> <p>Tip</p> <ol> <li>hdf5\u662f\u4e00\u79cd\u5b58\u50a8\u548c\u5904\u7406\u5927\u5bb9\u91cf\u79d1\u5b66\u6570\u636e\u7684\u6587\u4ef6\u683c\u5f0f\u53ca\u76f8\u5e94\u5e93</li> <li>hdf5\u7684\u8bfb\u5199\u901f\u5ea6\u662fcsv\u7684\u6570\u767e\u500d\u3002\u5728240M\u8bb0\u5f55\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u901f\u5ea6\u7ea6\u4e3a0.2\u79d2\u3002</li> <li>\u8bfb\u53d6hdf5\u6587\u4ef6\u7684python\u5e93\u662fh5py</li> <li>\u884c\u60c5\u6570\u636e\u5e94\u8be5\u6309\u5468\u671f\u521b\u5efa\u7fa4\u7ec4\u3002\u5b50\u6570\u636e\u96c6\u4ee5\u8bc1\u5238\u4ee3\u7801\u4e3akey\u3002</li> <li>\u4ecb\u7ecd\u4e86\u521b\u5efa\u3001\u67e5\u8be2\u548c\u8ffd\u52a0\u884c\u60c5\u6570\u636e\u5230hdf5\u6587\u4ef6\u4e2d\u3002</li> <li>\u589e\u5f3ahdf5\u6027\u80fd\u7684\u51e0\u79cd\u65b9\u5f0f\u3002</li> </ol>","tags":["quantlib","hdf5","h5py"]},{"location":"blog/2024/01/03/%E5%AD%98%E4%BA%8650tbpyarrow--parquet/","title":"\u5b58\u4e8650TB\uff01pyarrow + parquet","text":"<p> \u5728\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u6307\u51fa\uff0c\u5982\u679c\u6211\u4eec\u53ea\u5728\u65e5\u7ebf\u7ea7\u522b\u4e0a\u5b58\u50a8\u884c\u60c5\u6570\u636e\u548c\u56e0\u5b50\uff0cHDF5 \u65e0\u8bba\u5982\u4f55\u90fd\u662f\u591f\u7528\u4e86\u3002\u5373\u4f7f\u662f\u5728\u5b58\u50a8\u4e86 40 \u5e74\u5206\u949f\u7ebf\u7684\u5355\u4e2a\u80a1\u6570\u636e\u96c6\u4e0a\uff0c\u67e5\u8be2\u65f6\u95f4\u4e5f\u53ea\u82b1\u4e86 0.2 \u79d2 -- \u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u8db3\u591f\u5feb\u4e86\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u9700\u8981\u5728\u5206\u949f\u7ea7\u522b\u4e0a\u8fdb\u884c\u6a2a\u622a\u9762\u6570\u636e\u67e5\u8be2\u7684\u8bdd\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u4e2a\u4eba\u4ea4\u6613\u8005\u786e\u5b9e\u6709\u6761\u4ef6\uff08\u7f51\u901f\u548c\u786c\u4ef6\uff09\u505a\u9ad8\u9891\u4ea4\u6613\uff0c\u5904\u7406 tick \u7ea7\u548c level 2 \u7684\u6570\u636e\u5c06\u662f\u5fc5\u8981\u7684\u3002\u5982\u6b64\u4e00\u6765\uff0c\u6211\u4eec\u5904\u7406\u6570\u636e\u7684\u89c4\u6a21\u5c31\u8fbe\u5230\u4e86TB\u7ea7\u522b\uff0c\u4f46\u6211\u4eec\u8fd8\u60f3\u4fdd\u6301\u67e5\u8be2\u65f6\u95f4\u5728\u6beb\u79d2\u7ea7\u3002\u6216\u8005\uff0c\u60a8\u786e\u5b9e\u9700\u8981\u5728\u5206\u949f\u7ea7\u522b\u4e0a\u8fdb\u884c\u6a2a\u622a\u9762\u6570\u636e\u67e5\u8be2\uff0c\u8fd9\u4e9b\u573a\u666f\u4e0b\uff0cHDF5 \u5c31\u96be\u582a\u5927\u4efb\u4e86\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5f97\u62dc\u6258 pyarrow + parquet \u4e86\u3002\u5b83\u4eec\u672c\u6765\u5c31\u662f\u5927\u6570\u636e\u89e3\u51b3\u65b9\u6848\u4e4b\u4e00\u3002\u672c\u6587\u7684\u6807\u9898\u662f\u5b58\u4e86 50TB\u3002\u535a\u4e3b\u5e76\u6ca1\u6709\u8fd9\u4e2a\u5b58\u50a8\u8bbe\u65bd\u8fdb\u884c\u5b9e\u9a8c\u3002\u4f46\u8fd9\u4e00\u6570\u5b57\u5e76\u975e\u675c\u64b0\uff1a</p> <p></p> <p>!!! tip level 2 \u6570\u636e\u6709\u591a\u5927\uff1f     \u636e dolphin\uff08\u4e00\u79cd\u9ad8\u6548\u7684\u65f6\u5e8f\u6570\u636e\u5e93\uff09\u7684\u62a5\u544a\uff0cA \u80a1\u7684 level 2 \u6570\u636e\u8fbe\u5230\u4e86\u4e00\u5929 10GB \u7684\u6570\u636e\u91cf\u3002</p>","tags":["quantlib","pyarrow","parquet","tutorial"]},{"location":"blog/2024/01/03/%E5%AD%98%E4%BA%8650tbpyarrow--parquet/#pyarrow","title":"pyarrow","text":"<p>\u8981\u4ecb\u7ecd pyarrow\uff0c\u6211\u4eec\u5148\u5f97\u4ece Apache Arrow \u8bf4\u8d77\u3002Apache Arrow \u5b9a\u4e49\u4e86\u4e00\u79cd\u4e0e\u5f00\u53d1\u8bed\u8a00\u65e0\u5173\u7684\u5217\u5b58\u50a8\uff08\u5185\u5b58\u4e2d\uff09\u683c\u5f0f\uff0c\u4ee5\u4fbf\u5728 CPU/GPU \u4e0a\u9ad8\u6548\u5730\u6267\u884c\u6570\u636e\u8bfb\u53d6\u548c\u5206\u6790\u4efb\u52a1\u3002</p> <p>pyarrow \u662f Apache Arrow \u5e93\u7684\u4e00\u4e2a python \u5b9e\u73b0\u3002Apache Arrow \u8fd8\u6709 R\uff0c Java \u7b49\u591a\u79cd\u5176\u5b83\u5b9e\u73b0\u3002\u4f46\u662f\uff0c Pyarrow \u662f Apache Arrow \u5b9e\u73b0\u4e2d\u7684\u5934\u7b49\u516c\u6c11\uff0c\u8bb8\u591a\u5148\u8fdb\u7684\u529f\u80fd\u90fd\u7387\u5148\u5728\u8fd9\u91cc\u5b9e\u73b0\u4e86\uff0c\u7136\u540e\u624d\u662f R \u7b49\u5176\u5b83\u8bed\u8a00\u3002</p> <p>Pyarrow \u652f\u6301\u4ece 3.8 \u5230 3.11 \u7684 Python \u7248\u672c\u3002\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install pyarrow\n</code></pre>","tags":["quantlib","pyarrow","parquet","tutorial"]},{"location":"blog/2024/01/03/%E5%AD%98%E4%BA%8650tbpyarrow--parquet/#parquet","title":"Parquet","text":"<p>parquet \u662f\u4e00\u79cd\u6570\u636e\u5b58\u50a8\u683c\u5f0f\u3002\u5728\u5927\u6570\u636e\u5b58\u50a8\u8bed\u5883\u4e0b\uff0c\u6211\u4eec\u8fd8\u5e38\u5e38\u770b\u5230 feather \u8fd9\u79cd\u683c\u5f0f\u3002\u4e24\u8005\u7684\u533a\u522b\u662f\uff0cparquet \u63d0\u4f9b\u4e86 RLE \u538b\u7f29\uff0c\u5b57\u5178\u7f16\u7801\uff08\u4e0e pandas \u4e2d\u7684 category \u66ff\u6362\u7c7b\u4f3c\uff09\u548c\u6570\u636e\u9875\u538b\u7f29\u3002\u56e0\u6b64\uff0c\u5728\u8bfb\u5199\u901f\u5ea6\u4e0a\u8981\u6162\u4e8e feather\uff0c\u4f46\u66f4\u7701\u78c1\u76d8\u7a7a\u95f4\u3002</p>","tags":["quantlib","pyarrow","parquet","tutorial"]},{"location":"blog/2024/01/03/%E5%AD%98%E4%BA%8650tbpyarrow--parquet/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>pyarrow \u4e2d\u6700\u57fa\u672c\u7684\u6982\u5ff5\u4e3b\u8981\u6709\uff1a 1. array -- \u5b83\u662f\u4e00\u5217\u540c\u6784\u7684\u6570\u636e\uff0c\u4f46\u901a\u5e38\u5141\u8bb8\u51fa\u73b0 None\u3002 2. \u4e00\u7cfb\u5217\u7b49\u957f\u7684 arry \u5b9e\u4f8b\u6784\u6210 Record Batch\u3002batch \u53ef\u4ee5\u50cf array \u4e00\u6837\u8fdb\u884c\u5207\u7247 3. \u5728 batch \u4e4b\u4e0a\uff0c\u8fd8\u6709 Table \u7684\u6982\u5ff5\u3002table \u7531\u4e00\u4e9b\u5217\u6784\u6210\uff0c\u6bcf\u4e00\u5217\u90fd\u662f\u4e00\u4e2a ChunkedArray\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u8981\u63a5\u89e6\u5230 schema \u7684\u6982\u5ff5\uff0c\u8fd9\u5c06\u5728\u540e\u9762\u7ed3\u5408\u793a\u4f8b\u8fdb\u884c\u8bf4\u660e\u3002</p> <p>pyarrow \u7684\u4e3b\u8981\u529f\u80fd\uff1a 1. \u63d0\u4f9b\u5404\u79cd I/O \u63a5\u53e3 (memory and IO interfaces)\uff0c\u6bd4\u5982\u4e0e\u5e38\u89c1\u7684\u5176\u5b83\u683c\u5f0f\uff0c\u6bd4\u5982 CSV, dataframe, S3, minio\uff0c\u672c\u5730\u6587\u4ef6\u7b49\u4e4b\u95f4\u7684\u8bfb\u5199\u8f6c\u6362\u3002 2. \u4e3a\u6570\u636e\u63d0\u4f9b\u8868\u683c\uff08tabluar datasets\uff09\u5316\u7684\u89c6\u56fe\u548c\u76f8\u5173\u64cd\u4f5c\u3002 3. \u63d0\u4f9b\u57fa\u7840\u51fd\u6570 (compute Functions)\uff0c\u5982 group, \u805a\u5408\u67e5\u8be2\uff0cjoin \u64cd\u4f5c\uff0c\u67e5\u8be2\u64cd\u4f5c\uff08\u8868\u8fbe\u5f0f\uff0c\u53c2\u7167 pandas\uff09\u3002</p> <p>\u4e0a\u8ff0\u529f\u80fd\u5206\u7c7b\u4e2d\uff0c\u62ec\u53f7\u4e2d\u7684\u82f1\u6587\u4e5f\u6b63\u5bf9\u5e94\u7740 Arrow \u7684\u6587\u6863\uff0c\u4ee5\u4fbf\u5927\u5bb6\u5728\u9700\u8981\u65f6\u67e5\u8be2\u3002</p>","tags":["quantlib","pyarrow","parquet","tutorial"]},{"location":"blog/2024/01/03/%E5%AD%98%E4%BA%8650tbpyarrow--parquet/#_2","title":"\u884c\u60c5\u6570\u636e\u5b58\u50a8\u65b9\u6848","text":"<p>\u5c3d\u7ba1\u6211\u4eec\u4ecb\u7ecd pyarrow + parquet \u662f\u4e3a\u4e86\u5b58\u50a8 level 2 \u7684\u6570\u636e\uff0c\u4f46\u6211\u624b\u5934\u5e76\u6ca1\u6709\u76f8\u5e94\u7684 level 2 \u6570\u636e\u6e90\uff0c\u6240\u4ee5\uff0c\u4e5f\u65e0\u6cd5\u505a\u51fa\u53ef\u5b9e\u9645\u8fd0\u884c\u7684\u793a\u4f8b\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u6784\u9020 1 \u5206\u949f\u884c\u60c5\u7684\u6570\u636e\u96c6\u6765\u6f14\u793a\u5982\u4f55\u901a\u8fc7 pyarrow \u6765\u5199\u5165\u3001\u589e\u52a0\u548c\u67e5\u8be2\u6570\u636e\u3002</p> <p>\u6211\u4eec\u628a\u6bcf\u4e00\u5929\u6240\u6709\u8bc1\u5238\u54c1\u79cd\u7684 1 \u5206\u949f\u884c\u60c5\u653e\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6240\u6709\u7684\u5206\u949f\u7ebf\u90fd\u653e\u5728 1m \u76ee\u5f55\u4e0b\u3002\u8fd9\u91cc\u6211\u4eec\u6ca1\u6709\u4f7f\u7528 partition\uff0c\u4f46\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u8981\u8003\u8651\u6309\u5e74\u8fdb\u884c\u5206\u949f\u7ebf\u7684 patition\u3002\u5bf9 level 2 \u7684\u6570\u636e\uff0c\u53ef\u80fd\u8981\u6309\u6708\u6216\u8005\u5468\u8fdb\u884c partition\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u6bcf\u4e2a parquet \u6587\u4ef6\u7684\u5927\u5c0f\u6700\u597d\u5728 20M \u548c 2GB \u4e4b\u95f4\uff0c\u6240\u4ee5\uff0c\u5bf9\u4e8e\u5206\u949f\u7ebf\u4ee5\u4e0a\u7ea7\u522b\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u8003\u8651\u6309\u5468\u6216\u8005\u66f4\u5927\u7684\u5c3a\u5ea6\u5199\u5165\u4e00\u4e2a\u6587\u4ef6\u3002</p> <p>\u8fd9\u662f\u78c1\u76d8\u6587\u4ef6\u7ed3\u6784\u793a\u4f8b\uff1a</p> <pre><code>/tmp/pyarrow\n\u251c\u2500\u2500 1d\n\u251c\u2500\u2500 1m\n\u2502   \u251c\u2500\u2500 2023-12-27.parquet\n\u2502   \u251c\u2500\u2500 2023-12-28.parquet\n\u2502   \u2514\u2500\u2500 2023-12-29.parquet\n\u2514\u2500\u2500 factors\n</code></pre> <p>\u9996\u5148\uff0c\u6211\u4eec\u5b9a\u4e49\u5b58\u50a8\u5b57\u6bb5\uff1a</p> <pre><code>import pyarrow as pa\n\nschema = pa.schema([\n        (\"symbol\", pa.string()),\n        (\"frame\", pa.date64()),\n        (\"open\", pa.float32()),\n        (\"high\", pa.float32()),\n        (\"low\", pa.float32()),\n        (\"close\", pa.float32()),\n        (\"volume\", pa.float64()),\n        (\"money\", pa.float64()),\n        (\"factor\", pa.float64())\n])\n</code></pre> <p>pyarrow \u652f\u6301\u5b57\u7b26\u4e32\u7c7b\u578b\u548c\u65e5\u671f\u7c7b\u578b\uff01</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u5b9e\u73b0\u6570\u636e\u8ffd\u52a0\u548c\u8bfb\u5199\u90e8\u5206\u3002\u7531\u4e8e\u6211\u4eec\u662f\u5c06\u6bcf\u5929\u7684\u5206\u949f\u7ebf\u5b58\u4e3a\u4e00\u4e2a parquet \u6587\u4ef6\uff0c\u6240\u4ee5\u4ee3\u7801\u975e\u5e38\u7b80\u5355\uff1a</p> <pre><code>import arrow\nimport pyarrow.parquet as pq\n\nasync def save_1m_bars(codes, dt: datetime.datetime):\n    tables = None\n\n    for code in codes:\n        bars = await Stock.get_bars(code, 240, FrameType.MIN1, end=dt)\n        data = [[code] * len(bars)]\n\n        data.extend([\n                    bars[key] for key in bars.dtype.names\n                ])\n        table = pa.Table.from_arrays(data, schema=schema)\n        if tables is None:\n            tables = table\n        else: # \u62fc\u63a5\u8868\n            tables = pa.concat_tables([tables, table])\n\n    # \u5199\u5165\u78c1\u76d8\n    name = arrow.get(dt).format(\"YYYY-MM-DD\")\n    pq.write_table(tables, f\"/tmp/pyarrow/1m/{name}.parquet\")\n</code></pre> <p>Warning</p> <p>\u6ce8\u610f\u8fd9\u6bb5\u4ee3\u7801\u5f00\u5934\u5904\uff0c\u6211\u4eec\u5f15\u5165\u4e86 arrow \u8fd9\u4e2a\u5e93\u3002\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7528\u7684 Python \u65f6\u95f4\u5e93\u3002\u5728\u8fd9\u4e2a\u65f6\u95f4\u5e93\u4e2d\uff0c \u4e3b\u8981\u7684\u6570\u636e\u7ed3\u6784\u4e5f\u79f0\u4f5c Arrow\u3002</p> <p>omicron \u8fd4\u56de\u7684 bars \u662f\u4e00\u4e2a numpy structured array\uff0c\u5728\u8f6c\u6362\u6210 pyarrow Table \u65f6\uff0c\u6211\u4eec\u9700\u8981\u5148\u5c06\u5b83\u62c6\u6210 List[array] \u7684\u683c\u5f0f\uff0c\u7136\u540e\u901a\u8fc7 from_arrays \u6765\u751f\u6210\u4e00\u4e2a\u5b50 table\uff0c\u5b83\u5305\u542b\u4e86\u67d0\u652f\u4e2a\u80a1\u7684 1 \u5206\u949f\u884c\u60c5\u6570\u636e\u3002</p> <p>\u7531\u4e8e\u6211\u4eec\u8981\u5c06\u6240\u6709\u7684\u4e2a\u80a1\u3001\u6307\u6570\u6570\u636e\u5b58\u653e\u5728\u540c\u4e00\u5f20\u5927\u8868\u91cc\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u8fd8\u8c03\u7528\u4e86 concat_tables \u6765\u5b9e\u73b0\u62fc\u63a5\u3002\u5728\u5176\u5b83\u5e38\u89c1\u7684\u7c7b\u4f3c\u6570\u636e\u7ed3\u6784\u4e2d\uff0c\u65e0\u8bba\u662f numpy, \u8fd8\u662f pandas \u6216\u8005 hdf5\uff0c\u8fd9\u79cd\u62fc\u63a5\u90fd\u6709\u6bd4\u8f83\u6602\u8d35\u7684\u4ee3\u4ef7\uff0c\u4f46\u5728 pyarrow \u4e2d\uff0c\u8fd9\u79cd\u62fc\u63a5\u51e0\u4e4e\u662f\u96f6\u6210\u672c\u7684\uff01\u6ca1\u6709\u6570\u636e\u88ab\u62f7\u8d1d\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u6f14\u793a\u4e00\u4e0b\u5982\u4f55\u8c03\u7528 save_1m_bars \u6765\u4fdd\u5b58\u6570\u636e\uff1a</p> <pre><code>codes = [\"000001.XSHE\", \"600000.XSHG\"]\nfor i in (25, 26, 27, 28, 29):\n    dt = datetime.datetime(2023, 12, i, 15)\n    await save_1m_bars(codes, dt)\n</code></pre>","tags":["quantlib","pyarrow","parquet","tutorial"]},{"location":"blog/2024/01/03/%E5%AD%98%E4%BA%8650tbpyarrow--parquet/#_3","title":"\u67e5\u8be2\u6570\u636e","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u628a\u521a\u521a\u5199\u8fdb\u53bb\u7684\u6570\u636e\uff0c\u518d\u8bfb\u56de\u6765\uff1a</p> <pre><code>import pyarrow.dataset as ds\n\ndataset = ds.dataset(\"/tmp/pyarrow/1m\")\ndataset.files\n</code></pre> <p>dataset \u5728\u8fd9\u91cc\uff0c\u53ea\u662f\u4e00\u79cd\u5143\u6570\u636e\u3002\u5230\u6b64\u4e3a\u6b62\uff0c\u5b83\u5e76\u4e0d\u4f1a\u771f\u7684\u4ece\u78c1\u76d8\u4e0a\u52a0\u8f7d\u4efb\u4f55\u6570\u636e\u3002\u52a0\u8f7d\u6570\u636e\u662f\u4ece to_table, \u6216\u8005\u67d0\u4e2a\u67e5\u8be2\u5f00\u59cb\u7684\u3002</p> <p>\u4e0a\u8ff0\u4ee3\u7801\u5c06\u663e\u793a\u8be5\u6570\u636e\u96c6\u6240\u5305\u542b\u7684\u78c1\u76d8\u6587\u4ef6\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5c06 dataset \u8f6c\u6362\u6210\u4e00\u5f20\u5927\u8868\uff1a</p> <pre><code>table = dataset.to_table()\ntable\n</code></pre> <p>\u8fd9\u5c06\u8f93\u51fa table \u7684\u6570\u636e\u5b57\u6bb5\u5b9a\u4e49\uff0c\u4ee5\u53ca\u90e8\u5206\u6570\u636e\u3002</p> <p>to_table \u5c06\u4f1a\u628a\u6240\u6709\u7684\u6570\u636e\u90fd\u52a0\u8f7d\u8fdb\u5185\u5b58\u3002\u5982\u679c\u6570\u636e\u91cf\u5f88\u5927\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u5185\u5b58\u4e0d\u591f\u7528\u3002\u56e0\u6b64\uff0c\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u80fd\u4f7f\u7528 RecordBatch:</p> <pre><code>for rb in dataset.to_batches():\n    print(rb.to_pandas())\n</code></pre> <p>\u6bcf\u4e00\u4e2a RecordBatch, \u90fd\u6709\u4e00\u4e2a to_pandas \u65b9\u6cd5\uff0c\u8fd9\u6837\u5c31\u8fdb\u5165\u4e86\u4f60\u6240\u719f\u6089\u7684\u9886\u57df\u3002</p> <p>\u4f46\u66f4\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u901a\u8fc7\u67e5\u8be2\uff0c\u53ea\u52a0\u8f7d\u6211\u4eec\u9700\u8981\u7684\u90a3\u90e8\u5206\u6570\u636e\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 pyarrow.compute \u4e2d\u7684\u8868\u8fbe\u5f0f\u8bed\u6cd5\uff0c\u4e3b\u8981\u662ffield\u51fd\u6570\uff0c\u903b\u8f91\u8fd0\u7b97\u7b26\u548cbitwise\u8fd0\u7b97\u7b26\uff08\u6b64\u5904\u672a\u6f14\u793a\uff0c\u5373 &amp; | \u7b49\uff09\uff1a</p> <pre><code>import pyarrow.compute as pc\n\nfilter = (pc.field(\"frame\") &gt; pc.scalar(datetime.datetime(2023, 12, 28, 15)))\ndataset.filter(filter).to_table().to_pandas()\n</code></pre> <p>\u6eba\u6c34\u4e09\u5343\uff0c\u53ea\u53d6\u4e00\u74e2\u3002\u8fd9\u6b21\u6211\u4eec\u53ea\u628a\u5176\u4e2d\u7684 480 \u6761\u8bb0\u5f55\u52a0\u8f7d\u7684\u4e86\u5185\u5b58\u4e2d\u3002</p> <p></p> <p>Tip</p> <ol> <li>Apache Arrow\u662f\u4e00\u79cd\u57fa\u4e8e\u5217\u5411\u91cf\u7684\u5185\u5b58\u5b58\u50a8\u683c\u5f0f</li> <li>Pyarrow\u662f\u57fa\u4e8eArrow\u7684\u4e00\u4e2a\u5c01\u88c5\u5e93\uff0c\u5b9e\u73b0IO\uff0c\u8ba1\u7b97\u548c\u63d0\u4f9b\u8868\u683c\u89c6\u56fe\u3002</li> <li>\u901a\u8fc7from_arrays\u751f\u6210Table, \u901a\u8fc7concat_table\u8fdb\u884c\u62fc\u63a5\uff0c\u901a\u8fc7write_table\u6765\u5199\u5165\u6570\u636e\u5230\u78c1\u76d8\u4e2d\u3002</li> <li>\u901a\u8fc7dataset\u6765\u52a0\u8f7d\u4e00\u7ec4\u6570\u636e\u96c6\uff0c\u901a\u8fc7to_table, to_batches\u6216\u8005filter\u6765\u5c06\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\u3002</li> </ol>","tags":["quantlib","pyarrow","parquet","tutorial"]},{"location":"blog/2023/12/27/xtquant-%E4%B8%AD%E7%9A%84%E6%9D%BF%E5%9D%97%E6%95%B0%E6%8D%AE/","title":"xtquant \u4e2d\u7684\u677f\u5757\u6570\u636e","text":"<p>Tip</p> <ol> <li>xtquant \u4e2d\u6709\u54ea\u4e9b\u677f\u5757\u548c\u677f\u5757\u5206\u7c7b\uff1f<ol> <li>\u5982\u4f55\u83b7\u53d6\u677f\u5757\u7684\u6210\u4efd\u80a1\uff1f</li> <li>\u5982\u4f55\u83b7\u53d6\u6307\u6570\u7684\u884c\u60c5\u6570\u636e\uff1f</li> </ol> </li> </ol> <p>xtquant \u662f\u4e00\u4e2a Python \u5e93\uff0c\u63d0\u4f9b\u4e86\u884c\u60c5\u6570\u636e\u548c\u5b9e\u76d8\u63a5\u53e3\u3002\u53ea\u8981\u60a8\u7684\u5238\u5546\u652f\u6301 QMT\uff0c\u5e76\u4e14\u60a8\u4e5f\u7533\u8bf7\u5230\u4e86\u91cf\u5316\u63a5\u53e3\u6743\u9650\uff0c\u5c31\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\u8fd9\u4e9b\u6570\u636e\u548c\u5b9e\u76d8\u63a5\u53e3\uff0c\u8fd9\u4e5f\u662f\u76ee\u524d\u6027\u4ef7\u6bd4\u8f83\u9ad8\u3001\u95e8\u69db\u8f83\u4f4e\u7684\u63a5\u5165\u65b9\u5f0f\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4f1a\u901a\u8fc7\u591a\u7bc7\u7b14\u8bb0\u6765\u4ecb\u7ecd\u8fd9\u4e2a\u5e93\u3002</p> <p>\u4eca\u5929\u8981\u63a2\u7d22\u7684\u662f\uff0cxtquant \u4e2d\u7684\u677f\u5757\u662f\u5982\u4f55\u7ec4\u7ec7\u7684\u3002\u8fd9\u90e8\u5206\u5185\u5bb9\uff0c\u867d\u7136\u5728\u5b98\u65b9\u6587\u6863\u6709\u4e00\u4e9b\u4ecb\u7ecd\uff0c\u4f46\u5e76\u6ca1\u6709\u628a API \u7684\u4f7f\u7528\u4e32\u8054\u8d77\u6765\u3002\u6709\u4e00\u4e9b\u77e5\u8bc6\u70b9\u4e5f\u662f\u7ecf\u8be2\u95ee\u5b98\u65b9\u624d\u77e5\u9053\u7684\uff0c\u53ef\u80fd\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u8fd9\u4ecd\u7136\u662f\u72ec\u5bb6\u8d44\u6599\uff0c\u503c\u5f97\u6536\u85cf\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/xtquant-%E4%B8%AD%E7%9A%84%E6%9D%BF%E5%9D%97%E6%95%B0%E6%8D%AE/#xtquant","title":"Xtquant \u4e2d\u6709\u54ea\u4e9b\u677f\u5757","text":"<p>xtquant \u4e2d\u7684\u677f\u5757\u5217\u8868\u901a\u8fc7 get_sector_list \u6765\u83b7\u53d6\u3002\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5217\u8868\uff1a</p> <pre><code>from xtquant import xtdata\nsectors = xtdata.get_sector_list()\nfor i in range(0, len(sectors), 6):\n    print(\" \".join(sectors[i:i+6]))\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230 5000 \u591a\u4e2a\u677f\u5757\u540d\u79f0\uff0c\u6458\u5f55\u5176\u4e2d\u7684\u90e8\u5206\u663e\u793a\u5982\u4e0b\uff1a</p> <pre><code>\u4e0a\u671f\u6240\u4e0a\u8bc1 A \u80a1\uff0c\u4e0a\u8bc1 B \u80a1\uff0c\u4e0a\u8bc1\u671f\u6743\uff0c\u4e0a\u8bc1\u8f6c\u503a\uff0c\u4e2d\u91d1\u6240\n\u521b\u4e1a\u677f\uff0c\u5927\u5546\u6240\uff0c\u677f\u5757\u52a0\u6743\u6307\u6570\uff0c\u677f\u5757\u6307\u6570\uff0c\u6982\u5ff5\u6307\u6570\uff0c\u6caa\u5e02 ETF\n\u6caa\u5e02\u503a\u5238\uff0c\u6caa\u5e02\u57fa\u91d1\uff0c\u6caa\u5e02\u6307\u6570\uff0c\u6caa\u6df1 A \u80a1\uff0c\u6caa\u6df1 B \u80a1\uff0c\u6caa\u6df1 ETF\n\u8fc5\u6295\u4e00\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\uff0c\u8fc5\u6295\u4e09\u7ea7\u884c\u4e1a\u677f\u5757\u52a0\u6743\u6307\u6570\uff0c\u8fc5\u6295\u4e09\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\n\u90d1\u5546\u6240\uff0c\u9999\u6e2f\u8054\u4ea4\u6240\u6307\u6570\uff0c\u9999\u6e2f\u8054\u4ea4\u6240\u80a1\u7968\uff0cETF \u4e3b\u9898\u6307\u6570\uff0cETF \u503a\u5238\u578b\uff0cETF \u5546\u54c1\u578b\nETF \u80a1\u7968\u578b\uff0cETF \u884c\u4e1a\u6307\u6570\uff0cETF \u8d27\u5e01\u578b\uff0cETF \u8de8\u5883\u578b\uff0cTGN3D \u6253\u5370\uff0cTGN5G\nTGNMicroLED \u6982\u5ff5\uff0cTGNMiniLED,TGNMLOps \u6982\u5ff5\uff0cTGNMR\n...\n</code></pre> <p>\u677f\u5757\u6bd4\u8f83\u591a\u3002\u4e0b\u9762\u6211\u4eec\u4ecb\u7ecd\u5b83\u7684\u51e0\u4e2a\u91cd\u8981\u5f52\u7c7b\uff1a</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/xtquant-%E4%B8%AD%E7%9A%84%E6%9D%BF%E5%9D%97%E6%95%B0%E6%8D%AE/#_1","title":"\u6307\u6570\u7c7b","text":"<p>\u5728\u540d\u79f0\u4e2d\u51fa\u73b0\u6307\u6570\u4e00\u8bcd\u7684\uff0c\u5927\u7ea6\u6709 80 \u4e2a\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u677f\u5757\u662f\u7531\u6307\u6570\u7684\u4ee3\u7801\u7ec4\u6210\u7684\uff1a</p> <p></p> <p>\u6211\u4eec\u770b\u770b\u6caa\u6df1\u6307\u6570\u8fd9\u4e2a\u677f\u5757\u90fd\u7531\u54ea\u4e9b\u6307\u6570\u7ec4\u6210\uff1a</p> <pre><code>for sector in xtdata.get_stock_list_in_sector('\u6caa\u6df1\u6307\u6570'):\n    detail = xtdata.get_instrument_detail(sector)\n    name = detail[\"InstrumentName\"]\n    print(sector, name)\n</code></pre> <p>\u8fd9\u91cc\u5927\u7ea6\u6709 600 \u79cd\u6307\u6570\uff0c\u6bd4\u5982\u6211\u4eec\u5e38\u7528\u7684\u4e0a\u8bc1\u6307\u6570 (000001.SH), \u4e0a\u8bc1 50\uff0c\u4e0a\u8bc1 300 \u7b49\u90fd\u5728\u8fd9\u91cc\u9762\u3002\u5982\u679c\u4f60\u8981\u83b7\u53d6\u4e2d\u8bc1 1000 \u7684\u884c\u60c5\u6570\u636e\uff0c\u4f46\u4e0d\u77e5\u9053\u5b83\u7684\u4ee3\u7801\u662f\u591a\u5c11\uff0c\u5c31\u9700\u8981\u5728\u8fd9\u91cc\u67e5\u8be2\uff1a</p> <pre><code>for sector in xtdata.get_stock_list_in_sector('\u6caa\u6df1\u6307\u6570'):\n    detail = xtdata.get_instrument_detail(sector)\n    name = detail[\"InstrumentName\"]\n    if name == \"\u4e2d\u8bc1 1000\":\n        print(sector)\n</code></pre> <p>\u4ee3\u7801\u662f\"000852.SH\"\u548c\"399852.SZ\"\uff0c\u5b83\u4eec\u5206\u522b\u662f\u4e2d\u8bc1 1000 \u5728\u6caa\u6307\u548c\u6df1\u6307\u4e2d\u7684\u4ee3\u7801\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4ecb\u7ecd\u7684\u65b9\u6cd5\uff0c\u6765\u83b7\u53d6\u8fd9\u4e2a\u6307\u6570\u7684\u884c\u60c5\uff1a</p> <pre><code>xtdata.download_history_data(\"399852.SZ\", period=\"1d\")\nxtdata.get_market_data(stock_list=[\"399852.SZ\"], period='1d', count=10)\n</code></pre>","tags":["xtquant"]},{"location":"blog/2023/12/27/xtquant-%E4%B8%AD%E7%9A%84%E6%9D%BF%E5%9D%97%E6%95%B0%E6%8D%AE/#_2","title":"\u6982\u5ff5\u548c\u540c\u82b1\u987a\u6982\u5ff5","text":"<p>\u6ce8\u610f\u201c\u6982\u5ff5\u6307\u6570\u201d\u8fd9\u4e2a\u677f\u5757\uff0c\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u5217\u51fa\u5b83\u5305\u542b\u7684\u6307\u6570\uff1a</p> <pre><code>for code in xtdata.get_stock_list_in_sector(\"\u6982\u5ff5\u6307\u6570\"):\n    detail = xtdata.get_instrument_detail(code)\n    name = detail[\"InstrumentName\"]\n\n    print(sector, name)\n</code></pre> <p>\u90e8\u5206\u8f93\u51fa\u5982\u4e0b\uff1a</p> <p><pre><code>102566.BKZS GNoled \u6750\u6599\n101285.BKZS GN \u9f99\u864e\u699c\u70ed\u95e8\n102109.BKZS GN \u592a\u9633\u80fd\n102512.BKZS GN \u5b89\u90a6\u7cfb\n101602.BKZS GN \u9972\u6599\n101219.BKZS GN \u5ba4\u5916\u7ecf\u6d4e\n</code></pre> \u4f46\u662f\u4f3c\u4e4e\u62ff\u4e0d\u5230\u8fd9\u4e9b\u677f\u5757\u7684\u6307\u6570\u3002\u6211\u4eec\u5c06\u7ee7\u7eed\u54a8\u8be2\u5b98\u65b9\uff0c\u5f97\u5230\u53cd\u9988\u540e\u518d\u5411\u5927\u5bb6\u62a5\u544a\u3002\u5982\u679c\u60a8\u73b0\u5728\u5c31\u9700\u8981\u8fd9\u4e9b\u677f\u5757\u7684\u6307\u6570\uff0c\u90a3\u4e48\u53ef\u4ee5\u624b\u5de5\u8ba1\u7b97\u4e00\u4e2a\u7b49\u6743\u6307\u6570\u51fa\u6765\u3002</p> <p>\u4ee5 GNoled \u6750\u6599\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u62ff\u5230\u5b83\u7684\u6210\u4efd\u80a1\u6784\u6210\uff0c\u8fdb\u800c\u5f97\u5230\u6240\u6709\u6210\u4efd\u80a1\u7684\u884c\u60c5\uff1a</p> <pre><code>secs = xtdata.get_stock_list_in_sector('GNoled \u6750\u6599')\nxtdata.download_history_data2(secs, period='1d', start_time=\"20231220\")\n\nbarss = xtdata.get_market_data(stock_list=secs, count=10)\nbarss\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u5f97\u5230\u8f93\u51fa\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u6c42\u7b49\u6743\u6307\u6570\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u8f6c\u7f6e\uff0c\u4ee5\u53ca\u6c42\u5747\u503c\u65f6\uff0c\u6211\u4eec\u4f20\u5165\u7684 axis=1 \u7684\u53c2\u6570\u3002</p> <pre><code>barss[\"close\"].T.mean(axis=1)\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u5f97\u5230\u7684\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>20231220    19.030909\n20231221    19.072121\n20231222    18.880909\n20231225    18.978485\n</code></pre> <p>\u6211\u4eec\u770b\u5230\u677f\u5757\u540d\u5b57\u4e2d\uff0c\u597d\u591a\u4ee5 T \u5f00\u5934\u7684\uff0c\u6bd4\u5982 TGN\uff0cTHY \u7b49\u3002\u5b98\u65b9\u6587\u6863\u4e2d\u4f3c\u4e4e\u6ca1\u6709\u5173\u4e8e\u5b83\u4eec\u7684\u8bf4\u660e\uff0c\u731c\u6d4b\u53ef\u80fd\u662f\u540c\u82b1\u987a\u6982\u5ff5\u3001\u540c\u82b1\u987a\u884c\u4e1a\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/xtquant-%E4%B8%AD%E7%9A%84%E6%9D%BF%E5%9D%97%E6%95%B0%E6%8D%AE/#_3","title":"\u7533\u4e07\u884c\u4e1a\u5206\u7c7b\u677f\u5757","text":"<p>\u5982\u679c\u4f60\u5e0c\u671b\u5f97\u5230\u6309\u7533\u4e07\u884c\u4e1a\u5206\u7c7b\u7684\u677f\u5757\uff0c\u5e94\u8be5\u7528\u4ee5\u4e0b\u4ee3\u7801\u8fdb\u884c\u67e5\u8be2\uff1a</p> <pre><code>for code in xtdata.get_stock_list_in_sector(\"\u8fc5\u6295\u4e00\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\"):\n    detail = xtdata.get_instrument_detail(code)\n    name = detail[\"InstrumentName\"]\n    if name.startswith(\"SW\"):\n        print(code, name)\n</code></pre> <p>\u8fd9\u6837\u5f97\u5230\u7684\u662f\u7533\u4e07\u4e00\u7ea7\u884c\u4e1a\u677f\u5757\u3002\u5982\u679c\u8981\u67e5\u8be2\u4e8c\u7ea7\u3001\u4e09\u7ea7\uff0c\u5e94\u8be5\u5206\u522b\u4f7f\u7528\u8fc5\u6295\u4e8c\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\u548c\u8fc5\u6295\u4e09\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\u3002\u4f46\u4f3c\u4e4e\u4e5f\u65e0\u6cd5\u83b7\u53d6\u5b83\u4eec\u7684\u6307\u6570\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/xtquant-%E4%B8%AD%E7%9A%84%E6%9D%BF%E5%9D%97%E6%95%B0%E6%8D%AE/#_4","title":"\u53ef\u8f6c\u503a","text":"<p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u67e5\u627e\u6240\u6709\u7684\u53ef\u8f6c\u503a\uff0c\u5e76\u5f97\u5230\u5b83\u4eec\u7684\u4ee3\u7801\u548c\u540d\u5b57\uff1a</p> <pre><code>for sector in xtdata.get_sector_list():\n    if sector.find(\"\u53ef\u8f6c\u503a\") != -1:\n        print(sector)\nxtdata.get_stock_list_in_sector(\"\u6caa\u6df1 A \u80a1\")\nxtdata.get_stock_list_in_sector(\"\u53ef\u8f6c\u503a\u7b49\u6743\")\nxtdata.get_instrument_detail(\"110047.SH\")\n</code></pre> <p>\u8fd9\u5c06\u8f93\u51fa 110043SH \u65e0\u9521\u8f6c\u503a\u3002\u6211\u4eec\u53ef\u4ee5\u7531\u5b83\u7684\u4ee3\u7801\uff0c\u8fdb\u4e00\u6b65\u5f97\u5230\u5b83\u7684\u884c\u60c5\u6570\u636e\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/xtquant-%E4%B8%AD%E7%9A%84%E6%9D%BF%E5%9D%97%E6%95%B0%E6%8D%AE/#_5","title":"\u5c0f\u7ed3","text":"<p>Tip</p> <ol> <li>xtquant \u4e2d\uff0cget_sector_list \u4f1a\u5f97\u5230\u4e00\u4e2a\u677f\u5757\u540d\u79f0\u5217\u8868\u3002\u901a\u8fc7\u677f\u5757\u540d\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5f97\u5230\u5404\u4e2a\u677f\u5757\u7684\u6210\u5206\u80a1\u6784\u6210\u3002</li> <li>\u4e0a\u8ff0\u8fd4\u56de\u503c\u4e2d\uff0c\u6709\u4e00\u7c7b\u7279\u6b8a\u7684\u677f\u5757\uff0c\u5b83\u4eec\u7684\u540d\u5b57\u4e2d\u5e26\u6709\u201c\u6307\u6570\u201d\u8fd9\u4e2a\u8bcd\u3002</li> <li>\u6307\u6570\u677f\u5757\u4e2d\uff0c\u6bd4\u5982\u6caa\u6df1\u6307\u6570\uff0c\u5305\u542b\u4e86\u6211\u4eec\u6700\u5e38\u89c1\u3001\u6700\u5e38\u7528\u7684\u4e00\u4e9b\u6307\u6570\uff0c\u5982\u4e0a\u8bc1\uff0c\u6caa\u6df1 300 \u7b49\uff0c\u8fd9\u4e9b\u6307\u6570\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u884c\u60c5\u6570\u636e</li> <li>\u5176\u5b83\u677f\u5757\uff0c\u5373\u4f7f\u662f\u540d\u5b57\u4e2d\u5305\u542b\u6307\u6570\u7684\uff0c\u6bd4\u5982\u6982\u5ff5\u6307\u6570\uff0c\u4f3c\u4e4e\u4e5f\u65e0\u6cd5\u83b7\u53d6\u5230\u5176\u6307\u6570\u3002</li> <li>\u5bf9\u83b7\u53d6\u4e0d\u5230\u6307\u6570\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u624b\u5de5\u8ba1\u7b97\u5176\u7b49\u6743\u6307\u6570\u3002</li> </ol>","tags":["xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/","title":"\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT","text":"<p>\u5b66\u4e60\u8981\u70b9</p> <ul> <li>xtquant \u63d0\u4f9b\u4e86\u6570\u636e\u548c\u4ea4\u6613\u63a5\u53e3</li> <li>xtquant \u53ef\u4ee5\u72ec\u7acb\u4e8e QMT \u4e4b\u5916\u8fd0\u884c</li> <li>download_history_data</li> <li>download_history_data2</li> <li>get_market_data</li> </ul>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/#qmt-xtquant","title":"QMT \u548c XtQuant \u7b80\u4ecb","text":"<p>QMT \u662f\u76ee\u524d\u63a5\u5165\u95e8\u69db\u6700\u4f4e\u7684\u91cf\u5316\u5b9e\u76d8\u63a5\u53e3\u4e4b\u4e00\u3002\u5b83\u63d0\u4f9b\u4e86\u672c\u5730\u90e8\u7f72\u7684\u91cf\u5316\u5e73\u53f0\uff08\u53ef\u4ee5\u56de\u6d4b\u548c\u5b9e\u76d8\uff09\uff0c\u4e5f\u63d0\u4f9b\u4e86\u53ef\u72ec\u7acb\u4e8e\u8be5\u5e73\u53f0\u8fd0\u884c\u7684 SDK\uff0c\u5373 XtQuant\u3002</p> <p>XtQuant \u4ec5\u63d0\u4f9b\u884c\u60c5\u6570\u636e\u548c\u4ea4\u6613\u63a5\u53e3\uff0c\u4e0d\u63d0\u4f9b\u56de\u6d4b\u529f\u80fd\u3002\u76ee\u524d\u901a\u8fc7 XtQuant \u83b7\u53d6\u666e\u901a\u884c\u60c5\u6570\u636e\u662f\u514d\u8d39\u7684\uff0c\u4f46\u6709\u6d41\u901f\u9650\u5236\uff0c\u636e\u6d4b\u8bd5\uff0c\u4f4e\u4e8e 1 \u79d2\u83b7\u53d6\u4e00\u6b21\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002</p>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/#xtquant","title":"XtQuant \u83b7\u53d6\u884c\u60c5\u6570\u636e","text":"<p>XtQuant \u4e2d\uff0c\u6570\u636e\u83b7\u53d6\u4e00\u822c\u5206\u4e24\u4e2a\u9636\u6bb5\uff0c\u9996\u5148\u662f\u7f13\u5b58\u9636\u6bb5\uff0c\u7136\u540e\u662f\u8bfb\u53d6\u9636\u6bb5\u3002</p> <p>\u7f13\u5b58\u9636\u6bb5\u7684 API \u4e00\u822c\u4ee5 download_\u5f00\u5934\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u8981\u83b7\u53d6\u5386\u53f2\u884c\u60c5\u6570\u636e\uff0c\u9996\u5148\u8981\u8fdb\u884c\u7f13\u5b58\u3002\u4f7f\u7528\u7684 API \u662f\uff1a</p> <pre><code>def download_history_data(stock_code: str='', \n                      period: str='', \n                      start_time: str='', \n                      end_time: str='', \n                      incrementally: Optional[bool]=None\n                      )\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u8981\u4e00\u6b21\u4e0b\u8f7d\u591a\u652f\u8bc1\u5238\u7684\u884c\u60c5\u6570\u636e\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>download_history_data2</code>\u8fd9\u4e2a API\u3002</p> <p>\u5982\u679c\u5728 start_time \u5230 end_time \u533a\u95f4\u7684\u6570\u636e\u88ab\u7f13\u5b58\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8c03\u7528<code>get_market_data</code>\u6765\u83b7\u53d6\u884c\u60c5\u6570\u636e\u3002</p> <pre><code>def get_market_data(field_list = [], \n                    stock_list = [], \n                    period = '1d',\n                    start_time = '', \n                    end_time = '', \n                    count = -1,\n                    dividend_type = 'none', \n                    fill_data = True\n)\n</code></pre> <p>\u8be5\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6'1m', '5m', '15m', '30m', '1h', '1d'\u548c\u5206\u7b14 (<code>tick</code>) \u6570\u636e\u3002\u4e0d\u540c\u7684\u5468\u671f\u4e0b\uff0c\u8fd4\u56de\u7684\u5b57\u6bb5\u6709\u6240\u4e0d\u540c\u3002\u9664\u5206\u7b14\u5916\uff0c\u80fd\u8fd4\u56de\u7684\u6570\u636e\u5305\u62ec\u65f6\u95f4\uff0cOHLC\uff0cvolume\uff08\u6210\u4ea4\u624b\uff09\u548c amount\uff08\u6210\u4ea4\u91d1\u989d\uff09\u3002</p> <p>Warning</p> <p><code>fill_data</code>\u5efa\u8bae\u90fd\u8bbe\u7f6e\u4e3a False\u3002\u5b83\u7684\u884c\u4e3a\u662f\u4f7f\u7528\u524d\u4e00\u6761\u6570\u636e\u8fdb\u884c\u586b\u5145\uff0c\u7c7b\u4f3c\u4e8e pandas \u7684 fillna \u4e2d\u7684<code>ffil</code>\u3002\u4f46\u884c\u60c5\u8f6f\u4ef6\u5728\u8ba1\u7b97\u6280\u672f\u6307\u6807\u65f6\uff0c\u90fd\u662f\u8df3\u8fc7\u8fd9\u4e9b\u7f3a\u5931\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u7684\u586b\u5145\u6570\u636e\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u5e94\u8be5\u5c06<code>fill_data</code>\u8bbe\u7f6e\u4e3a False, \u4ee5\u907f\u514d\u4e0e\u5176\u5b83\u4eba\u884c\u4e3a\u4e0d\u4e00\u81f4\u3002</p> <p>\u6ce8\u610f\u8be5\u65b9\u6cd5\u4e0d\u80fd\u8fd4\u56de\u590d\u6743\u56e0\u5b50\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u662f\u4e3a\u4e86\u76f4\u63a5\u4f7f\u7528\u8fd4\u56de\u7684\u6570\u636e\uff0c\u800c\u662f\u8981\u5c06\u5176\u8f6c\u5b58\u5230\u5176\u5b83\u6570\u636e\u5e93\u7684\u8bdd\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u8c03\u7528<code>get_divid_factors</code>\u6765\u83b7\u5f97\u590d\u6743\u56e0\u5b50\uff0c\u4e0e\u8fd9\u91cc\u83b7\u5f97\u7684\u672a\u590d\u6743\u6570\u636e\u4e00\u8d77\u4fdd\u5b58\u3002\u76f4\u63a5\u8f6c\u5b58\u4efb\u4f55\u5df2\u7ecf\u590d\u6743\u7684\u6570\u636e\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u5373\u4f7f\u662f\u540e\u590d\u6743\uff0c\u4e5f\u5b58\u5728\u51fa\u9519\u7684\u53ef\u80fd\u3002</p>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/#_1","title":"\u793a\u4f8b","text":"<pre><code>from xtquant import xtdata\n\nstocks = ['000001.SZ', '600000.SH']\nxtdata.download_history_data(stocks[0], '1d')\nxtdata.download_history_data(stocks[1], '1d')\n\n# \u6216\u8005\n# XTDATA.DOWNLOAD_HISTORY_DATA2(STOCKS, '1D')\n\nend = \"20231220\"\nbars = xtdata.get_market_data(stock_list=stocks, \n                              period='1d', \n                              end_time=end, \n                              count=-1, \n                              dividend_type=\"front_ratio\")\n\nend = \"20231220\"\nbars = xtdata.get_market_data(stock_list=stocks, period='1d', end_time=end, count=-1, dividend_type=\"front_ratio\")\n\ndisplay(bars['close'].T.tail())\n</code></pre> <p>get_market_data\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2adict\u3002\u5b83\u7684key\u662f\u884c\u60c5\u5b57\u6bb5\uff0c\u6bd4\u5982<code>time</code>, <code>open</code>, <code>close</code>\u7b49\u3002\u5176\u503c\u5219\u662f\u4ee5\u8bc1\u5238\u4ee3\u7801\u4e3a\u7d22\u5f15\uff0c\u4ee5\u65f6\u95f4\u4e3a\u5217\u7684\u5404\u4e2a\u5b57\u6bb5\u503c\u3002\u5728\u4e0a\u8ff0\u793a\u4f8b\u7684\u8f93\u51fa\u4e2d\uff0c\u6211\u4eec\u5c06\u5176\u8fdb\u884c\u4e86\u8f6c\u7f6e\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u5b83\u4eec\u7684\u65b9\u5f0f\u3002</p> <p>\u6700\u7ec8\u8f93\u51fa\u5982\u4e0b\uff1a</p> <p></p> <p>\u6ce8\u610f xtquant \u4f7f\u7528\u7684\u65e5\u671f\u683c\u5f0f\uff0c\u5982\u679c\u5468\u671f\u4e3a 1d\uff0c\u5219\u662f\"YYYYMMDD\"\u3002\u5982\u679c\u5468\u671f\u4e3a\u5206\u949f\u7ea7\uff0c\u5219\u4e3a\"YYYYMMDDHHmmss\"\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u65f6\u95f4\u662f datatime.datetime \u7684\u8bdd\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u5f0f\u6765\u683c\u5f0f\u5316\uff1a</p> <pre><code>import datetime\n\nnow = datetime.datetime.now()\nprint(now.strftime(\"%Y%m%d%H%M%S\"))\n\nimport arrow\narrow.get(now).format(\"YYYYMMDDHHmmss\")\n</code></pre> <p><code>strftime</code>\u7684\u683c\u5f0f\u4e32\u4e0d\u5bb9\u6613\u8bb0\u5fc6\uff0c arrow \u65f6\u95f4\u5e93\u5728\u8fd9\u70b9\u4e0a\u8fdb\u884c\u4e86\u6539\u8fdb\uff0c\u5468\u671f\u7531\u5927\u5230\u5c0f\uff0c\u8868\u793a\u5f62\u5f0f\u4e5f\u5b9e\u73b0\u4e86\u9012\u8fdb\uff0c\u6bd4\u8f83\u5bb9\u6613\u8bb0\u5fc6\u3002\u5728\u4e0d\u6d89\u53ca\u5230\u6027\u80fd\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5c06\u5176\u8f6c\u6362\u4e3a Arrow \u5bf9\u8c61\uff0c\u518d\u8fdb\u884c\u683c\u5f0f\u5316\u3002</p>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/","title":"QMT/XtQuant \u4e4b\u5f00\u53d1\u73af\u5883\u7bc7","text":"<p>Tip</p> <ol> <li>XtQuant \u83b7\u53d6\u53ca\u5b89\u88c5</li> <li>XtQuant \u5de5\u4f5c\u539f\u7406 \uff08\u56fe2\uff09</li> <li>\u7248\u672c\u548c\u6587\u6863\u4e00\u81f4\u6027\u95ee\u9898 \uff08\u56fe3\uff09</li> <li>\u4f7f\u7528 VsCode \u8fdc\u7a0b\u5f00\u53d1</li> </ol>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#_1","title":"\u83b7\u53d6\u53ca\u5b89\u88c5","text":"<p>XtQuant \u662f\u53ef\u4ee5\u8131\u79bb QMT \u8fd0\u884c\u7684\u884c\u60c5\u548c\u4ea4\u6613\u63a5\u53e3\u5e93\uff0c\u5373\u53f3\u56fe\u4e2d\u5bf9\u5e94\u7684\u201c\u539f\u751f Python\u201d\u6982\u5ff5\u3002\u5b83\u6ca1\u6709 wheels \u683c\u5f0f\u7684\u5b89\u88c5\u5305\uff0c\u8981\u5b89\u88c5\u5b83\uff0c\u6211\u4eec\u8981\u5230\u8fc5\u6295\u7684\u5b98\u7f51\u4e0a \u4e0b\u8f7d \u6e90\u4ee3\u7801\u5305\u3002XtQuant \u4f7f\u7528\u4e86\u6253\u5305\u65e5\u671f\u6765\u6807\u8bc6\u7248\u672c\u3002</p> <p></p> <p>\u4e0b\u8f7d\u4e0b\u6765\u7684\u662f\u4e00\u4e2a zip \u5305\uff0c\u91cc\u9762\u6709\u4e00\u4e9b python \u6587\u7ae0\u548c windows dll \u6587\u4ef6\u3002\u5b83\u80fd\u652f\u6301\u4ece 3.8 \u5230 3.11 \u7684\u5404\u79cd\u7248\u672c\uff0c\u8fd9\u4e00\u70b9\u76f8\u5bf9\u4e8e\u5176\u5b83\u4ea7\u54c1\uff0c\u662f\u6709\u4e00\u5b9a\u4f18\u52bf\u7684\u5730\u65b9\u3002XtQuant \u6587\u6863\u4e2d\u6697\u793a\u5b83\u53ef\u4ee5\u5b89\u88c5\u5728 Linux \u4e0a\uff0c\u4f46\u6ca1\u6709\u8db3\u591f\u7684\u6587\u6863\u548c\u7528\u4f8b\uff0c\u6240\u4ee5\u5efa\u8bae\u6682\u65f6\u4e0d\u8981\u5c1d\u8bd5\u8fd9\u79cd\u65b9\u5f0f\u3002</p> <p>\u6211\u4eec\u7684\u5efa\u8bae\u662f\uff0c\u5c31\u4e0e QMT \u5b89\u88c5\u5728\u540c\u4e00\u53f0 Windows \u673a\u5668\u4e0a\uff0c\u4f46\u8981\u5148\u521b\u5efa\u865a\u62df\u73af\u5883\u3002</p> <p>\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u65b9\u5f0f\u662f\u901a\u8fc7 Conda\uff08\u5047\u5b9a\u865a\u62df\u73af\u5883\u540d\u4e3a myquant)</p> <pre><code>conda create -n myquant python=3.10\n</code></pre> <p>\u521b\u5efa\u597d\u865a\u62df\u73af\u5883\u4e4b\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u627e\u5230 site-packages \u76ee\u5f55\uff1a</p> <pre><code>conda run -n myquant python -m site\n</code></pre> <p>\u5982\u679c\u4f60\u8981\u8fdb\u4e00\u6b65\u5b66\u4e60 Conda \u547d\u4ee4\uff0c\u53ef\u4ee5\u9605\u8bfb \u300aPython \u80fd\u505a\u5927\u9879\u76ee\u300b \u8fd9\u672c\u4e66\u3002\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u8f93\u51fa\uff1a</p> <pre><code>D:\\\\conda\\\\envs\\\\myquant\\\\lib\\\\site-packages\n</code></pre> <p>\u73b0\u5728\uff0c\u628a\u89e3\u538b\u7f29\u540e\u7684\u5305\u62f7\u8d1d\u5230 site-packages \u76ee\u5f55\u4e0b\uff0c\u5b89\u88c5\u5c31\u5b8c\u6210\u4e86\u3002\u6ce8\u610f\u76ee\u5f55\u540d\u4e3a xtquant\uff0c\u8be5\u76ee\u5f55\u4e0b\u5e94\u8be5\u6709\u4e00\u4e2a\u540d\u4e3a__init__.py \u7684\u6587\u4ef6\u3002\u5982\u679c\u4e0d\u662f\u8fd9\u6837\uff0c\u90a3\u4e48\u4f60\u89e3\u538b\u7f29\u65f6\u505a\u9519\u4e86\u3002</p>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#xtquant","title":"XtQuant \u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u4ec5\u4ec5\u4ece\u8fc5\u6295\u5b98\u7f51\u4e0b\u8f7d XtQuant \u5e76\u5b89\u88c5\uff0c\u662f\u65e0\u6cd5\u8ba9 XtQuant \u6b63\u5e38\u5de5\u4f5c\u7684\u3002</p> <p>XtQuant \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4ee3\u7406\uff0c\u5b83\u9700\u8981\u4e0e QMT \u5ba2\u6237\u7aef\u5408\u4f5c\uff0c\u624d\u80fd\u5b8c\u6210\u6570\u636e\u4e0b\u8f7d\u4e0e\u4ea4\u6613\u3002\u5728\u8c03\u7528 XtQuant \u7684 API \u65f6\uff0cXtQuant \u4f1a\u521b\u5efa\u4e0e Qmt \u7684 socket \u901a\u8baf\uff0c\u628a\u7528\u6237\u8bf7\u6c42\u8f6c\u53d1\u7ed9 Qmt \u6765\u5b8c\u6210\u3002Qmt \u8f6f\u4ef6\u5728\u7f51\u4e0a\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u4f60\u5fc5\u987b\u627e\u4e00\u4e2a\u5238\u5546\u5f00\u8bbe\u8d26\u6237\uff0c\u7136\u540e\u624d\u80fd\u4ece\u5ba2\u670d\u5904\u62ff\u5230\u8f6f\u4ef6\u3002</p> <p>\u5b89\u88c5 Qmt \u540e\uff0c\u5fc5\u987b\u4fdd\u8bc1 Qmt \u6216\u8005 Qmt-mini \u59cb\u7ec8\u5728\u7ebf\u3002\u5426\u5219\uff0cXtQuant \u4e5f\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002</p>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#_2","title":"\u7248\u672c\u548c\u6587\u6863\u4e00\u81f4\u6027\u95ee\u9898","text":"","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#qmt-xtquant","title":"\u8fc5\u6295\u662f\u8f6f\u4ef6\u5f00\u53d1\u5546\uff0c\u6700\u7ec8\u4e3a\u6211\u4eec\u63d0\u4f9b\u670d\u52a1\u7684\uff0c\u662f\u91c7\u8d2d\u4e86 QMT \u53ca XtQuant","text":"<p>\u7684\u5238\u5546\u3002\u53ef\u80fd\u56e0\u4e3a\u8fd9\u79cd\u539f\u56e0\uff0c\u5bfc\u81f4\u6211\u4eec\u4ece\u8fc5\u6295\u5b98\u7f51\u4e0a\u4e0b\u8f7d\u7684 XtQuant \u7248\u672c\uff0c\u5238\u5546\u670d\u52a1\u7aef\u8fd8\u6ca1\u5347\u7ea7\uff0c\u56e0\u6b64\uff0c\u6587\u6863\u91cc\u63d0\u5230\u7684\u65b0\u529f\u80fd\u548c bug \u4fee\u590d\uff0c\u6682\u65f6\u4ecd\u7136\u4e0d\u53ef\u7528\u3002</p> <p>\u6bd4\u5982\uff0c\u5728 20231209 \u8fd9\u4e2a\u7248\u672c\u4e2d\uff0c\u589e\u52a0\u4e86 get_etf_info \u53ca\u83b7\u53d6\u5386\u53f2\u6da8\u8dcc\u505c\u6570\u636e\u3002\u4f46\u622a\u6b62 12 \u6708 20 \u65e5\uff0c\u6709\u7684\u5238\u5546\u7684\u5ba2\u6237\u8fd8\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e9b\u65b0\u7684\u63a5\u53e3\u3002\u5982\u679c\u4f60\u8c03\u7528\u8fd9\u4e9b API\uff0c\u4f1a\u629b\u51fa\"function not realize\"\u7684\u9519\u8bef\u3002</p>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#vscode","title":"\u4f7f\u7528 VsCode \u8fdc\u7a0b\u5f00\u53d1","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Windows \u505a\u5f00\u53d1\u673a\uff0c\u53ef\u4ee5\u4e0d\u770b\u8fd9\u4e00\u90e8\u5206\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684</p> <p></p> <p>\u662f Linux \u6216\u8005 Mac \u4f5c\u4e3a\u5f00\u53d1\u673a\uff0c\u662f\u53ef\u4ee5\u4e0d\u8fdc\u7a0b\u767b\u5f55\u5230\u5b89\u88c5 QMT \u7684 windows \u673a\u5668\uff0c\u800c\u76f4\u63a5\u5728\u672c\u5730\u673a\u5668\u4e0a\u8fdb\u884c\u5f00\u53d1\u7684\u3002</p> <p>\u57fa\u672c\u6b65\u9aa4\u662f\uff1a</p> <ol> <li>\u5728 windows \u4e0a\u5b89\u88c5 openssh server\u3002\u4e5f\u6709\u53ef\u80fd\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u8fc7\u4e86</li> <li>\u5728 vscode \u4e2d\uff0c\u70b9\u51fb Remote Explorer</li> <li>\u5982\u6807\u53f7 2 \u6240\u793a\uff0c\u70b9\u51fb\u6dfb\u52a0\u8fdc\u7a0b windows \u673a\u5668\u3002</li> <li>\u6b64\u540e\u7684\u6bcf\u6b21\u8fde\u63a5\u90fd\u9700\u8981\u8f93\u5165\u5bc6\u7801\u3002\u60a8\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u901a\u8fc7\u5bc6\u94a5\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u5b9e\u73b0\u514d\u5bc6\u767b\u5f55\uff0c\u53ef\u4ee5\u53c2\u8003 \u5fae\u8f6f\u5b98\u65b9\u6587\u6863</li> </ol>","tags":["quantlib"]},{"location":"blog/2023/12/29/connor-rsi-the-best/","title":"\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0","text":"<p>\u5982\u679c\u8bf4\u5728\u591a\u56e0\u5b50\u65f6\u4ee3\uff0c\u6211\u4eec\u53ef\u4ee5\u4ec5\u51ed\u4e00\u4e2a\u56e0\u5b50\u5c31\u6784\u5efa\u51fa\u7b56\u7565\uff0c\u5e76\u4e14\u8fd8\u5f88\u6709\u53ef\u80fd\u8dd1\u8d62\u5e02\u573a\u7684\u8bdd\uff0c\u8fd9\u4e2a\u56e0\u5b50\u5c31\u662f\u4e0d\u4e8c\u4e4b\u9009\u3002</p> <p>\u8fd9\u4e2a\u56e0\u5b50\u5c31\u662f Connor's RSI\u3002\u5b83\u88ab Nirvana Systems \u79f0\u4f5c\u7ec8\u6781\u6280\u672f\u6307\u6807\u3002\u6211\u6df1\u6df1\u5730\u8d5e\u540c\u8fd9\u4e00\u70b9\u3002Nirvana Systems \u5728\u5b83\u7684\u7f51\u7ad9\u4e0a\u53d1\u5e03\u4e86\u5173\u4e8e\u5982\u4f55\u751f\u6210\u548c\u4f7f\u7528\u8fd9\u4e00\u6307\u6807\u7684\u6587\u7ae0\u3002\u8457\u540d\u7684\u56de\u6d4b\u6846\u67b6 backtrader \u53ca\u548c\u7b56\u7565\u5e73\u53f0 TradingView \u90fd\u5185\u7f6e\u4e86\u8fd9\u4e00\u6307\u6807\u3002</p> <p>!!! tip \u5899\u88c2\u63a8\u8350\uff01     \u672c\u6587\u6700\u521d\u53d1\u8868\u4e8e\u67d0\u4e4e\uff0c\u4e00\u5468\u5185\u6536\u83b7\u8d85 800 \u6b21\u8d5e\u85cf\u3002\u6211\u4eec\u7279\u522b\u5c06\u5176\u9009\u5f55\u4e3a\u5c0f\u7ea2\u4e66\u5e74\u5ea6\u6536\u5b98\u4e4b\u4f5c\uff0c\u5185\u5bb9\u4e30\u5bcc\uff0c\u5efa\u8bae\u8d5e\u85cf\u4ee5\u5907\u4eca\u540e\u9605\u8bfb\u3002</p> <p>\u4e3a\u4ec0\u4e48 Conners RSI \u88ab\u79f0\u4e3a\u7ec8\u6781\u6280\u672f\u6307\u6807\uff0c\u5b83\u6709\u54ea\u4e9b\u4f18\u52bf\uff1f\u6210\u529f\u80cc\u540e\u7684\u539f\u7406\u662f\u4ec0\u4e48\uff0c\u53c8\u8be5\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e00\u6307\u6807\u5462\uff1f</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi","title":"\u5982\u4f55\u6784\u5efa Connor's RSI","text":"<p>Conners RSI \u662f\u5728\u6807\u51c6 RSI \u7684\u57fa\u7840\u4e0a\uff0c\u6df7\u5408\u4e86\u53e6\u5916\u4e24\u4e2a\u6307\u6807\u5f97\u5230\u7684\u3002</p> <p>\u7b2c\u4e00\u4e2a\u6307\u6807\u5c31\u662f Streaks\u3002\u5b83\u662f\u7edf\u8ba1\u8fde\u7eed\u4e0a\u6da8\u6216\u8005\u4e0b\u8dcc\u7684\u5468\u671f\u6570\uff0c\u5c06\u4e0a\u6da8\u4e0e\u4e0b\u8dcc\u7684\u5468\u671f\u6570\u4e4b\u6bd4\u6765\u6c42\u5f97\u7684 RSI\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u8ba1\u7b97 Streaks \u6307\u6807\uff1a</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-numpy-def-streaksclose-result-conds-close1close-1-close1close-1-flags-npselectconds-1-1-0-find_runs-v-_-l-find_runsflags-for-i-in-rangelenv-if-vi-0-resultextend0-li-else-resultextendvi-x-for-x-in-range1-li-1-return-npinsertresult-0-0","title":"<pre><code># \u672c\u6bb5\u4ee3\u7801\u4f7f\u7528\u4e86\u8f83\u5f3a\u7684 NUMPY \u6280\u5de7\uff0c\u5efa\u8bae\u53cd\u590d\u7814\u8bfb\ndef streaks(close):\n    result = []\n    conds = [close[1:]&gt;close[:-1], close[1:]&lt;close[:-1]]\n\n    flags = np.select(conds, [1,-1], 0)\n\n    # FIND_RUNS \u51fd\u6570\u6765\u81ea\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5212\u5206\u6570\u7ec4\u4e2d\n    # \u8fde\u7eed\u51fa\u73b0\u7684\u76f8\u540c\u503c\u3002\u662f\u91cf\u5316\u4e2d\u975e\u5e38\u57fa\u7840\u7684\u4e00\u4e2a\u51fd\u6570\u3002\n    v, _, l = find_runs(flags)\n    for i in range(len(v)):\n        if v[i] == 0:\n            result.extend([0] * l[i])\n        else:\n            result.extend([v[i] * x for x in range(1, (l[i] + 1))])\n\n    return np.insert(result, 0, 0)\n</code></pre>","text":"<p>\u4e0b\u56fe\u663e\u793a\u4e86\u6bcf\u65e5\u6536\u76d8\u4ef7\uff0c\u53ca\u7531\u6b64\u8ba1\u7b97\u7684 streaks \u6307\u6807\uff1a</p> <p></p> <p>\u7b2c\u4e8c\u4e2a\u6307\u6807\u5c31\u662f\u5f53\u65e5\u7684\u6da8\u8dcc\u5e45\uff0c\u5728\u8fc7\u53bb\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u7684\u6da8\u8dcc\u5e45\u4e2d\u7684\u6392\u540d\u3002percent_rank \u662f\u4e00\u4e2a\u5e38\u7528\u7684\u7edf\u8ba1\u51fd\u6570\uff0c\u5728 pandas \u4e2d\u5c31\u6709\u5b9e\u73b0\u3002\u8fd9\u91cc\u6211\u4eec\u7ed9\u51fa\u5b83\u7684 numpy \u5b9e\u73b0\uff1a</p> <pre><code>def percent_rank(close):\n    roc = close[1:]/close[:-1] - 1\n    return np.array([sum(roc[i + 1 - self.prank:i + 1] &lt; roc[i]) / self.prank for i in range(len(roc))]) * 100\n</code></pre> <p>\u8fd9\u4e24\u4e2a\u6307\u6807\u52a0\u4e0a\u7ecf\u5178 RSI\uff0c\u5c31\u5408\u6210\u4e86 Conners RSI:</p> \\[ CRSI = [RSI(6) + RSI(Streak, 2) + PercentRank(20)] / 3 \\]","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi_1","title":"\u4e3a\u4ec0\u4e48 Connor's RSI \u5e94\u8be5\u66f4\u6709\u6548\uff1f","text":"<p>\u6211\u4eec\u5148\u770b Streak \u6307\u6807\u3002\u7ecf\u5178\u7684 RSI \u662f\u5173\u4e8e\u7d2f\u79ef\u4e0a\u6da8\u5e45\u5ea6\u4e0e\u7d2f\u79ef\u6ce2\u52a8\u5e45\u5ea6\uff08\u7edd\u5bf9\u503c\uff09\u7684\u4e00\u4e2a\u5206\u6570\uff0c\u662f\u5b9a\u91cf\u7684\u5206\u6790\u3002Streak \u5219\u628a\u4e0a\u6da8\u4e0e\u4e0b\u8dcc\u8fdb\u884c\u4e86\u4e8c\u503c\u5316\uff0c\u5b83\u76f8\u5f53\u4e8e\u662f\u5b9a\u6027\u7684\u5206\u6790\u3002\u589e\u52a0\u8fd9\u6837\u4e00\u4e2a\u6307\u6807\uff0c\u610f\u4e49\u4f55\u5728\u5462\uff1f</p> <p></p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u4ece\u6982\u7387\u4e0a\u8bb2\uff0c\u80a1\u7968\u8fde\u6da8\u5468\u671f\u6570\u8d8a\u957f\uff0c\u5219\u8d8a\u53ef\u80fd\u53cd\u751f\u53cd\u8f6c\uff08\u5373\u4e0b\u8dcc\uff09\uff1b\u53cd\u4e4b\u4ea6\u7136\u3002\u5927\u5bb6\u53ef\u4ee5\u6309\u7167\u6211\u4eec\u5728\u300a\u6570\u636e\u5206\u6790\u4e0e Python \u5b9e\u73b0\u300b\u90a3\u51e0\u8282\u8bfe\u4e2d\uff0c\u4ecb\u7ecd\u7684 PDF/CDF \u7684\u65b9\u6cd5\uff0c\u6765\u81ea\u884c\u4f30\u8ba1\u5f53\u67d0\u4e2a\u6807\u7684\u8fde\u7eed\u4e0a\u6da8 N \u5929\u540e\uff0c\u63a5\u4e0b\u6765\u7ee7\u7eed\u4e0a\u6da8\u7684\u6982\u7387\u6709\u591a\u5927\u3002</p> <p>\u63d0\u793a\uff1a\u4f60\u4e5f\u53ef\u4ee5\u628a\u8fd9\u4e2a\u95ee\u9898\u5f53\u6210\u4e00\u4e2a\u6b63\u6001\u5206\u5e03\u6765\u76f4\u63a5\u6c42\u4e00\u4e2a\u7406\u8bba\u4e0a\u7684\u89e3\u7b54\u3002\u5bf9\u4e00\u4e2a\u4e8c\u503c\u5206\u5e03\u7684\u591a\u6b21\u5b9e\u9a8c\uff0c\u5b83\u4eec\u7684\u7d2f\u79ef\u5206\u5e03\u6b63\u597d\u662f\u4e00\u4e2a\u6b63\u6001\u5206\u5e03\u3002\u5173\u4e8e\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u53c2\u770b Galton Board\u3002</p> <p>\u6240\u4ee5\uff0cStreak \u662f\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\uff0c\u4f46\u4ecd\u7136\u662f\u7528\u6982\u7387\u5206\u6790\u7684\u65b9\u6cd5\uff0c\u6765\u6355\u6349\u7ecf\u5178 RSI \u6240\u4e0d\u80fd\u6355\u6349\u7684\u4e00\u4e9b conner case!</p> <p>\u540c\u6837\u5730\uff0cPercentRank \u4ece\u53e6\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u63cf\u7ed8\u4e86\u5f53\u524d\u5e02\u573a\u7684\u5f3a\u5f31\u3002\u5982\u679c\u5728\u8fc7\u53bb 20 \u5929\u5185\uff0c\u53ea\u6709 3 \u5929\u7684\u6da8\u5e45\u4f4e\u4e8e\u4eca\u5929\uff0c\u90a3\u4e48\u4eca\u5929\u7684\u76f8\u5bf9\u5f3a\u5f31\u5c31\u662f 15%\uff0c\u6b21\u65e5\u4e0a\u6da8\u7684\u53ef\u80fd\u6027\u5927\uff1b\u5982\u679c 17 \u5929\u7684\u6da8\u5e45\u4f4e\u4e8e\u4eca\u5929\uff0c\u90a3\u4e48\u4eca\u5929\u7684\u76f8\u5bf9\u5f3a\u5f31\u5c31\u662f 85%\uff0c\u6b21\u65e5\u4e0b\u8dcc\u7684\u53ef\u80fd\u6027\u53d8\u5927\u3002</p> <p>\u5982\u679c\u4f60\u5bf9 K \u7ebf\u548c\u6ce2\u6d6a\u7406\u8bba\u6bd4\u8f83\u719f\u6089\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u5927\u6da8\u610f\u5473\u7740\u884c\u60c5\u52a0\u901f\u8d76\u9876\uff1b\u5927\u8dcc\u5219\u662f\u884c\u60c5\u52a0\u901f\u8d76\u5e95\uff0c\u540e\u9762\u8d8b\u52bf\u9006\u8f6c\u662f\u5927\u6982\u7387\u4e8b\u4ef6\u3002\u800c PercentRank \u5219\u662f\u5bf9\u8fd9\u4e2a\u8fc7\u7a0b\u6700\u7b80\u5355\u3001\u4f46\u4ecd\u6709\u4e00\u5b9a\u51c6\u786e\u5ea6\u7684\u523b\u753b\uff01</p> <p>Tip</p> <p>Nirvana Systems \u5f00\u53d1\u4e86\u8fd9\u4e2a\u6307\u6807\uff0c\u4f46 Nirvana Systems \u5e76\u6ca1\u6709\u50cf\u6211\u4eec\u8fd9\u6837\uff0c\u6df1\u5165\u89e3\u6790\u5b83\u80cc\u540e\u7684\u539f\u7406\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u65e2\u6709\u6982\u7387\u8bba\u7684\u7406\u8bba\u652f\u6491\uff0c\u4e5f\u80fd\u7528\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u539f\u7406\u8fdb\u884c\u89e3\u91ca\u3002</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi_2","title":"\u5b9e\u6218\u4e2d\u7684 Connor's RSI","text":"<p>\u6211\u4eec\u5148\u662f\u7528\u6700\u8fd1 1000 \u5929\u7684\u6caa\u6307\uff0c\u4f7f\u7528 backtrader \u8fdb\u884c\u4e86\u6d4b\u8bd5\u3002\u56de\u6d4b\u8868\u660e\uff0c\u6700\u8fd1 4 \u5e74\u4ee5\u6765\uff08\u8fd1\u4f3c\u4e8e 1000 \u4e2a\u4ea4\u6613\u65e5\uff09\uff0c\u6caa\u6307\u4ec5\u4e0a\u6da8 5.76%\uff0c\u4f46\u901a\u8fc7 cornner's RSI \u7b56\u7565\u6284\u5e95\u9003\u9876\uff0c\u6211\u4eec\u5728\u6307\u6570\u4e0a\u7adf\u7136\u83b7\u5f97\u8d85\u8fc7 44%\u7684\u6536\u76ca\u3002\u5982\u679c\u662f\u5bf9\u4e2a\u80a1\u8fdb\u884c\u64cd\u4f5c\uff0c\u6536\u76ca\u5f88\u53ef\u80fd\u662f\u6570\u500d\u3002</p> <p>\u8fd9\u6bb5\u65f6\u95f4\u6caa\u6307\u662f\u4e0a\u6da8\u7684\uff0c\u4f60\u53ef\u80fd\u6000\u7591\uff0c\u4e5f\u8bb8Cornnor's RSI\u7684\u6210\u529f\u53ea\u662f\u5076\u7136\u3002</p> <p>\u5982\u679c\u6211\u4eec\u968f\u673a\u76f2\u9009\uff0c\u9009\u4e2d\u4e86\u6781\u7aef\u4e0d\u597d\u7684\u884c\u60c5\uff0cConnor's RSI \u53c8\u5c06\u8868\u73b0\u5982\u4f55\uff1f</p> <p>\u8fd1\u4e24\u5e74\u6765\u6052\u751f\u6307\u6570\u5c31\u5b9b\u5982\u4e0b\u8dcc\u7684\u98de\u5200\uff0c\u6ca1\u6709\u6bd4\u8fd9\u66f4\u597d\u7684\u4f8b\u5b50\u4e86\uff1a</p> <p> \u56fe\u7247\u6765\u6e90\uff1awww.taindicators.com</p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u6700\u597d\u4e0d\u8981\u53bb\u63a5\u4e0b\u8dcc\u4e2d\u7684\u98de\u5200\u3002\u4f46\u4ece\u4ed6\u4eba\u7684\u56de\u6d4b\u6765\u770b\uff0cConnor's RSI \u8fd8\u662f\u80fd\u6293\u4f4f\u5176\u4e2d\u7684\u4e00\u4e9b\u53cd\u5f39\uff0c\u800c\u8eb2\u8fc7\u4e00\u4e9b\u4e0b\u8dcc\uff0c\u603b\u4f53\u4e0a\u770b\uff0c\u8981\u6bd4\u6307\u6570\u5f3a\u4e0d\u5c11\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u81ea\u5df1\u7684\u91cf\u5316\u6846\u67b6\u968f\u673a\u9009\u62e9\u4e86\u4e00\u4e9b\u4e2a\u80a1\u8fdb\u884c\u56de\u6d4b\uff1a</p> <p></p> <p>\u8fd9\u652f\u4e2a\u80a1\u8fd1\u4e00\u5e74\u6765\u4e00\u76f4\u5728\u6a2a\u76d8\u3002buy-and-hold \u7b56\u7565\u8868\u660e\u5176\u6536\u76ca\u4ec5\u4e3a 2.26%\uff0c\u4f46\u4f7f\u7528 Connor's RSI\uff0c\u6536\u76ca\u8fbe\u5230 12.14%\uff0c\u80dc\u7387\u5219\u662f 100%\u3002</p> <p>\u6211\u4eec\u4ece 2019 \u5e74 1 \u6708 25 \u65e5\u5230 2023 \u5e74 11 \u6708 14 \u65e5\u671f\u95f4\u8fdb\u884c\u56de\u6d4b\u3002\u533a\u95f4\u5185\u4e2a\u80a1\u5168\u7a0b\u6a2a\u76d8\uff0c\u4f46 Connor's RSI \u83b7\u5f97\u4e86 157.92%\u7684\u5229\u6da6\u7387\uff0c\u80dc\u7387\u4e5f\u8fbe\u5230 80.77%\uff0c\u53ef\u8c13\u51fa\u624b\u4fbf\u6709\u3002\u53e6\u5916\uff0c\u5b83\u4ec5\u4ec5\u4ea4\u6613 26 \u6b21\uff0c\u8fd8\u6709\u76f8\u5f53\u591a\u7684\u65f6\u95f4\u662f\u7a7a\u4ed3\uff0c\u6240\u4ee5\uff0c\u8fd9\u6bb5\u65f6\u95f4\u7684\u8d44\u91d1\u8fd8\u53ef\u4ee5\u5206\u914d\u5230\u5176\u5b83\u6807\u7684\u4e0a\uff0c\u4ece\u800c\u6709\u53ef\u80fd\u8fbe\u5230\u66f4\u597d\u7684\u6536\u76ca\u3002</p> <p>\u6570\u636e\u57fa\u4e8e\u5386\u53f2\uff0c\u4ec5\u4e3a\u6f14\u793a\u6307\u6807\u7528\u6cd5\uff0c\u8bf7\u52ff\u636e\u6b64\u64cd\u4f5c</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi_3","title":"\u5173\u4e8e Connor's RSI \u7684\u66f4\u6df1\u5165\u601d\u8003","text":"<p>Connor's RSI \u662f\u4e00\u4e2a\u5929\u624d\u7684\u53d1\u73b0\uff0c\u5145\u5206\u53cd\u6620\u4e86\u6982\u7387\u8bba\u548c\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u4e00\u4e9b\u539f\u7406\u3002\u4f46\u7531\u4e8e\u6280\u672f\u5b9e\u73b0\u4e0a\u7684\u9650\u5236\uff0c\u5b83\u7684\u6f5c\u529b\u6ca1\u6709\u5b8c\u5168\u91ca\u653e\u3002 wg</p> <p>Connor's RSI \u5c06\u4e09\u4e2a\u7ef4\u5ea6\u7684\u6570\u636e\uff0c\u8fdb\u884c\u4e86\u7b49\u6743\u91cd\u7684\u5e73\u5747\u3002\u5728\u4f20\u7edf\u7684\u591a\u56e0\u5b50\u5206\u6790\u65b9\u6cd5\u4e2d\uff0c\u7ebf\u6027\u56de\u5f52\u662f\u8fd0\u7528\u7684\u6700\u591a\u7684\u6280\u672f\uff0cConnor's RSI \u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u7ebf\u6027\u56de\u5f52\u3002\u8fd9\u4e5f\u662f\u4f20\u7edf\u91d1\u878d\u754c\u6240\u719f\u6089\u7684\u65b9\u6cd5\u3002</p> <p>\u5728\u5f53\u5e74\uff0c\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u8fd8\u6ca1\u6709\u88ab\u91d1\u878d\u754c\u6240\u4e86\u89e3\u3002\u4f46\u4eca\u5929\uff0c\u53ef\u80fd\u5f88\u591a\u4eba\u90fd\u610f\u8bc6\u5230\uff0cConnor's RSI \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4e09\u56e0\u5b50\u7ec4\u5408\uff0c\u53ef\u4ee5\u901a\u8fc7\u673a\u5668\u5b66\u4e60\uff0c\u6765\u523b\u753b\u4e09\u4e2a\u56e0\u5b50\u4e4b\u95f4\u76f8\u4e92\u4f5c\u7528\u3001\u76f8\u4e92\u5f25\u8865\u7684\u590d\u6742\u5173\u7cfb\u3002</p> <p>Nirvana Systems \u5bf9 RSI \u7684\u62d3\u5c55\uff0c\u4e5f\u53cd\u6620\u4e86\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u5bf9\u5f85\u7ecf\u5178\u7684\u6280\u672f\u6307\u6807\u3002\u6709\u4e00\u4e9b\u7ecf\u5178\u7684\u6307\u6807\uff0c\u6211\u4eec\u4e0d\u5e94\u8be5\u7b80\u5355\u5730\u8ba4\u4e3a\u5b83\u4eec\u597d\u6216\u8005\u4e0d\u597d\uff08\u4f5c\u8005\u4e5f\u66fe\u7ecf\u9677\u5165\u8fc7\u8fd9\u4e2a\u8bef\u533a\uff09\uff0c\u800c\u662f\u5e94\u8be5\u4ee5\u626c\u5f03\u7684\u6001\u5ea6\uff0c\u6df1\u5165\u5206\u6790\u5176\u4f5c\u7528\u673a\u5236\uff0c\u4ee5\u68c0\u9a8c\u5176\u5728\u65b0\u7684\u6280\u672f\u6761\u4ef6\u4e0b\uff0c\u662f\u5426\u80fd\u7115\u53d1\u65b0\u7684\u751f\u673a\u3002\u6bd5\u7adf\uff0c\u4efb\u4f55\u65b0\u7684\u53d1\u73b0\uff0c\u7ec8\u7a76\u53ea\u662f\u5bf9\u7ecf\u5178\u7684\u81f4\u656c\uff01</p> <p>\u53ea\u6709\u5f53\u4f60\u8fdb\u5165\u5230\u8fd9\u4e00\u5c42\u6b21\uff0c\u624d\u7b97\u662f\u771f\u6b63\u6709\u4e86\u72ec\u7acb\u601d\u8003\u80fd\u529b\uff0c\u624d\u80fd\u771f\u6b63\u7b97\u662f\u72ec\u5f53\u4e00\u9762\u7684\u91cf\u5316\u4eba\u3002</p> <p>Quote</p> <p>\u8001\u5175\u4e0d\u6b7b\uff0c\u4ed6\u4eec\u53ea\u662f\u51cb\u96f6\u3002\u81f4\u656c WELLES WILDER \u548c\u4ed6\u7684 RSI\uff01</p> <p></p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/","title":"\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5","text":"","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/#_1","title":"\u4ec0\u4e48\u662f\u9057\u4f20\u7b97\u6cd5\uff1f","text":"<ul> <li>\u9057\u4f20\u7b97\u6cd5\u5229\u7528\u81ea\u7136\u9009\u62e9\u7684\u6982\u5ff5\u6765\u786e\u5b9a\u95ee\u9898\u7684\u6700\u4f73\u89e3\u51b3\u65b9\u6848\u3002</li> <li>\u9057\u4f20\u7b97\u6cd5\u901a\u5e38\u7528\u4f5c\u4f18\u5316\u5668\uff0c\u8c03\u6574\u53c2\u6570\u4f7f\u5f97\u76ee\u6807\u6700\u4f18</li> <li>\u9057\u4f20\u7b97\u6cd5\u53ef\u4ee5\u72ec\u7acb | \u5728\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u6784\u5efa\u4e2d\u4f7f\u7528\u3002</li> </ul> <p>\u6bd4\u5982\uff0c\u4ea4\u6613\u89c4\u5219\u53ef\u80fd\u4f7f\u7528MACD, RSI\u7b49\u6307\u6807\uff0c\u9057\u4f20\u7b97\u6cd5\u5c06\u503c\u8f93\u5165\u5230\u8fd9\u4e9b\u53c2\u6570\u4e2d\uff0c\u4ee5\u5229\u6da6\u6700\u5927\u5316\u4e3a\u76ee\u6807\u3002\u968f\u7740\u65f6\u95f4\u63a8\u79fb\uff0c\u7a81\u53d8\u4ea7\u751f\uff0c\u7a81\u53d8\u4e2d\u6709\u5229\u7684\u5f71\u54cd\u88ab\u4fdd\u7559\u7ed9\u4e0b\u4e00\u4ee3\u3002</p> <p>\u9057\u4f20\u64cd\u4f5c\u5171\u6709\u4e09\u79cd\u7c7b\u578b\uff1a</p> <ol> <li>\u4ea4\u53c9(crossover)\u4ee3\u8868\u751f\u7269\u5b66\u4e2d\u7684\u7e41\u6b96\u548c\u4ea4\u53c9\uff0c\u5373\u5b69\u5b50\u5177\u6709\u7236\u6bcd\u7684\u67d0\u4e9b\u7279\u5f81</li> <li>\u7a81\u53d8(Mutations)\u4ee3\u8868\u751f\u7269\u7a81\u53d8\uff0c\u901a\u8fc7\u5f15\u5165\u968f\u673a\u7684\u5c0f\u53d8\u5316\u6765\u7ef4\u6301\u4ece\u4e00\u4ee3\u5230\u4e0b\u4e00\u4ee3\u7684\u9057\u4f20\u591a\u6837\u6027\u3002</li> <li>\u9009\u62e9\uff08Selections\uff09\u662f\u4ece\u7fa4\u4f53\u4e2d\u9009\u62e9\u4e2a\u4f53\u57fa\u56e0\u7ec4\u7528\u4e8e\u4ee5\u540e\u80b2\u79cd\uff08\u91cd\u7ec4\u6216\u4ea4\u53c9\uff09\u7684\u9636\u6bb5\u3002</li> </ol>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/#_2","title":"\u9057\u4f20\u7b97\u6cd5\u7684\u5b9e\u73b0\u6b65\u9aa4","text":"<ol> <li>\u521d\u59cb\u5316\u4e00\u4e2a\u968f\u673a\u7fa4\u4f53\uff0c\u5176\u4e2d\u6bcf\u4e2a\u67d3\u8272\u4f53\u7684\u957f\u5ea6\u4e3a n\uff0c\u5176\u4e2d n \u662f\u53c2\u6570\u7684\u6570\u91cf\u3002\u5373\uff0c\u5efa\u7acb\u968f\u673a\u6570\u91cf\u7684\u53c2\u6570\uff0c\u6bcf\u4e2a\u53c2\u6570\u5177\u6709n\u4e2a\u5143\u7d20\u3002</li> <li>\u9009\u62e9\u53ef\u589e\u52a0\u7406\u60f3\u7ed3\u679c\uff08\u5927\u6982\u662f\u51c0\u5229\u6da6\uff09\u7684\u67d3\u8272\u4f53\u6216\u53c2\u6570\u3002</li> <li>\u5c06\u7a81\u53d8\u6216\u4ea4\u53c9\u7b97\u5b50\u5e94\u7528\u4e8e\u9009\u5b9a\u7684\u7236\u6bcd\u5e76\u751f\u6210\u540e\u4ee3\u3002</li> <li>\u4f7f\u7528\u9009\u62e9\u7b97\u5b50\u5c06\u540e\u4ee3\u548c\u5f53\u524d\u79cd\u7fa4\u91cd\u7ec4\uff0c\u5f62\u6210\u65b0\u7684\u79cd\u7fa4\u3002</li> <li>\u91cd\u590d\u7b2c\u4e8c\u6b65\u5230\u7b2c\u56db\u6b65</li> </ol>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/#python","title":"Python\u9057\u4f20\u7b97\u6cd5\u5e93","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 geneticalgorithm \u8fd9\u4e2apython\u5e93\uff0c\u5728\u91cf\u5316\u7b56\u7565\u4e2d\u8fd0\u7528\u9057\u4f20\u7b97\u6cd5\u3002</p> <pre><code>pip install geneticalgorithm\n</code></pre> <pre><code>import numpy as np\nfrom geneticalgorithm import geneticalgorithm as ga\n\ndef f(X):\n    # X\u4e3a\u56e0\u5b50\u3002\u5728\u672c\u65b9\u6cd5\u4e2d\uff0c\u6839\u636e\u56e0\u5b50\u5bfb\u627e\u80a1\u7968\uff0c\u8ba1\u7b97\u6536\u76ca\u7387\u5e76\u8fd4\u56de\n\nvarbound=np.array([[0,10]]*3)\n\nmodel=ga(function=f,dimension=3,variable_type='real',\n        variable_boundaries=varbound)\n\nmodel.run()\n</code></pre> <p>\u9057\u4f20\u7b97\u6cd5\u4e5f\u662f\u4f18\u5316\u7b97\u6cd5\u7684\u4e00\u79cd\uff0c\u5bf9\u4e0d\u660e\u767d\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u5bf9\u7167\u4f18\u5316\u7b97\u6cd5\u7684\u6982\u5ff5\u6765\u7406\u89e3\u3002</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/","title":"\u7f8a\u7fa4\u6548\u5e94\u53ca\u5176\u56e0\u5b50\u5316","text":"<p>\u5728\u4e4b\u524d\u7684\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u591a\u6b21\u5c06\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u4e0eA\u80a1\u4e2d\u6d41\u884c\u7684\u80a1\u8c1a\u3001\u89c4\u5f8b\u548c\u5927V\u7684\u7ecf\u9a8c\u4e4b\u8c08\u7ed3\u5408\u8d77\u6765\uff0c\u6211\u4eec\u620f\u79f0\u4e3a\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u7684\u4e2d\u56fd\u5316\u3002\u672c\u7bc7\u7b14\u8bb0\u5c06\u7ee7\u7eed\u6cbf\u7740\u8fd9\u4e00\u601d\u8def\u5c55\u5f00\uff0c\u4ecb\u7ecd\u7f8a\u7fa4\u6548\u5e94\uff0c\u4ee5\u53ca\u5728A\u80a1\u4e2d\uff0c\u5b83\u6709\u54ea\u4e9b\u8868\u73b0\uff0c\u5982\u4f55\u5b9e\u73b0\u56e0\u5b50\u5316\uff0c\u7b49\u7b49\u3002</p> <p>\u4eca\u5929\u6211\u4eec\u8981\u4ecb\u7ecd\u7684\u80a1\u8c1a\uff0c\u662f\u517b\u5bb6\u5fc3\u6cd5\u91cc\u4e2d\u7684\u4e00\u6761\uff0c\u5f97\u6563\u6237\u8005\u5f97\u5929\u4e0b\u3002\u5b83\u5b9e\u9645\u4e0a\u8bb2\u7684\u662f\u8981\u5145\u5206\u5229\u7528\u7f8a\u7fa4\u6548\u5e94\u3002</p> <p>\u7f8a\u7fa4\u6548\u5e94\u7406\u8bba ( The Effect of Sheep Flock)\uff0c\u4e5f\u79f0\u4e3a\u7f8a\u7fa4\u884c\u4e3a\uff08Herd Behavior\uff09\u3001\u4ece\u4f17\u5fc3\u7406\uff08Herd Instinct\uff09\uff0c\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u91cd\u8981\u7406\u8bba\u4e4b\u4e00\u3002</p> <p>\u7ecf\u6d4e\u5b66\u91cc\u7ecf\u5e38\u7528\u201c\u7f8a\u7fa4\u6548\u5e94\u201d\u6765\u63cf\u8ff0\u7ecf\u6d4e\u4e2a\u4f53\u7684\u4ece\u4f17\u8ddf\u98ce\u5fc3\u7406\u3002\u7f8a\u7fa4\u662f\u4e00\u79cd\u5f88\u6563\u4e71\u7684\u7ec4\u7ec7\uff0c\u53ea\u8981\u4e00\u53ea\u9886\u5934\u7f8a\u5e26\u52a8\uff0c\u5176\u5b83\u7684\u7f8a\u5c31\u4f1a\u8ddf\u7740\u8d70\uff0c\u6839\u672c\u4e0d\u4f1a\u601d\u8003\u524d\u65b9\u662f\u5426\u4f1a\u6709\u72fc\uff08\u5371\u9669\uff09\uff0c\u6216\u8005\u6b63\u5728\u8fdc\u79bb\u4e30\u8302\u7684\u6c34\u8349\uff08\u5229\u76ca\uff09\u3002</p> <p>\u5728\u6295\u8d44\u9886\u57df\uff0c\u7f8a\u7fa4\u6548\u5e94\u51e0\u4e4e\u65e0\u65f6\u4e0d\u523b\u5728\u53d1\u6325\u4f5c\u7528\u3002\u5373\u4f7f\u662f\u5728\u4ef7\u503c\u6295\u8d44\u9886\u57df\uff0c\u8fd9\u79cd\u6548\u5e94\u4e5f\u662f\u975e\u5e38\u660e\u663e\u7684\u3002\u6bd4\u5982\uff0c\u4eba\u4eec\u4f1a\u82b1\u6570\u767e\u4e07\u5143\u4e70\u4e0b\u5df4\u83f2\u7279\u7684\u5348\u9910\u65f6\u95f4\uff0c\u5c31\u662f\u4e3a\u4e86\u5f97\u5230\u4ed6\u7684\u6295\u8d44\u4e0a\u7684\u6307\u70b9\u3002\u5df4\u83f2\u7279\u4e0e A \u80a1\u6700\u8457\u540d\u7684\u4f8b\u5b50\u662f\u8d2d\u4e70\u5e76\u63a8\u8350\u4e86\u67d0\u77f3\u6cb9\uff0c\u8fd9\u5bfc\u81f4\u5927\u6279\u6563\u6237\u8ddf\u98ce\uff0c\u88ab\u5957\u5728 6000 \u70b9\u7684\u5c71\u5188\u4e0a\u3002</p> <p>Christie and Huang \u5728 1995 \u5e74\uff0c\u7387\u5148\u5bf9\u5168\u5e02\u573a\u8303\u56f4\u4e0b\u7684\u7f8a\u7fa4\u6548\u5e94\u8fdb\u884c\u4e86\u5b9e\u8bc1\u7814\u7a76\uff0c\u8be5\u7814\u7a76\u6ca1\u6709\u53d1\u73b0\u7f8e\u56fd\u3001\u65e5\u672c\u548c\u9999\u6e2f\u5e02\u573a\u5b58\u5728\u7f8a\u7fa4\u6548\u5e94\u7684\u8bc1\u636e\uff0c\u4f46\u5728\u53f0\u6e7e\u3001\u97e9\u56fd\u5e02\u573a\u5219\u6bd4\u8f83\u80af\u5b9a\u5730\u53d1\u73b0\u4e86\u7f8a\u7fa4\u6548\u5e94\u3002</p> <p></p> <p>\u4f5c\u4e3a\u91cf\u5316\u535a\u4e3b\uff0c\u6211\u66f4\u5173\u5fc3\u5982\u4f55\u5c06\u8fd9\u79cd\u6548\u5e94\u56e0\u5b50\u5316\u3002\u4e0b\u9762\uff0c\u5c31\u4ecb\u7ecd\u51e0\u4e2a\u76f8\u5173\u7684\u56e0\u5b50\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/#_1","title":"\u65b0\u5f00\u6237\u4eba\u6570\u56e0\u5b50","text":"<p>\u65b0\u5f00\u6237\u4eba\u6570\u53ef\u4ee5\u901a\u8fc7 akshare \u6765\u83b7\u53d6\uff1a</p> <pre><code>import akshare as ak\n\n# \u5f97\u5230\u6bcf\u6708\u65b0\u5f00\u6237\u4eba\u6570\naccounts_df = ak.stock_account_statistics_em()\naccounts_df\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u4e86 2015 \u5e74 4 \u6708\u4ee5\u6765\u7684\u6295\u8d44\u8005\u8d26\u6237\u6570\u636e\u3002</p> <p></p> <p>\u5b83\u7684\u8fd4\u56de\u503c\u4e2d\uff0c\u6709\u4e00\u5217\u4e3a\u6570\u636e\u65e5\u671f\uff0c\u5176\u683c\u5f0f\u5f62\u5982\"2015-04\"\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5176\u8f6c\u6362\u6210\u4e3a\u6b63\u89c4\u7684\u65e5\u671f\u683c\u5f0f\u3002</p> <pre><code># \u8fd9\u91cc\u6f14\u793a\u4e86\u5982\u4f55\u53d6 DATAFRAME \u7684\u6570\u636e\u5355\u5143\nend = accounts_df.iloc[0][\"\u6570\u636e\u65e5\u671f\"]\nstart = accounts_df.iloc[-1][\"\u6570\u636e\u65e5\u671f\"]\n\nyr, month = end.split(\"-\")\nend = datetime.date(int(yr), int(month) + 1, 1)\n</code></pre> <pre><code># tf.floor \u662f OMICRON \u7684\u51fd\u6570\uff0c\u5b83\u5c06\u65e5\u671f\u5bf9\u9f50\u5230\u4e0a\u4e00\u4e2a\u5df2\u7ed3\u675f\u7684\u5468\u671f\n# \u5728 OMICRON \u4e2d\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u65f6\u95f4\u8fd0\u7b97\u51fd\u6570\uff0c\u662f\u91cf\u5316\u4e2d\u5fc5\u5907\u7684\nend = tf.floor(end, FrameType.MONTH)\n\nyr, month = start.split(\"-\")\nstart = datetime.date(int(yr), int(month) + 1, 1)\nstart = tf.floor(start, FrameType.MONTH)\n</code></pre> <p>\u6211\u4eec\u5f97\u5230\u4e86\u6295\u8d44\u8005\u8d26\u6237\u6570\u636e\u4e2d\u7684\u8d77\u6b62\u65f6\u95f4\uff0c\u73b0\u5728\u5c31\u53ef\u4ee5\u53d6\u6307\u6570\u884c\u60c5\uff0c\u5e76\u8fdb\u884c\u7ed8\u56fe\u3002</p> <pre><code># \u83b7\u53d6\u4e0a\u8bc1\u6307\u6570\nbars = await Stock.get_bars_in_range(\"000001.XSHG\", \n                                    FrameType.MONTH, \n                                    start, end)\n\n# \u5c06\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u4e0e\u4e0a\u8bc1\u6307\u6570\u8d70\u52bf\u5bf9\u5e94\u8d77\u6765\ndf = pd.DataFrame({\"xshg\": bars[\"close\"][::-1] / 10, \n                   \"investor\": accounts_df[\"\u65b0\u589e\u6295\u8d44\u8005-\u6570\u91cf\"]})\ndf.index = accounts_df[\"\u6570\u636e\u65e5\u671f\"]\n\nfig = px.line(df)\nfig.update_layout(hovermode=\"x unified\")\nfig.show()\n</code></pre> <p>\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u6708\u65b0\u589e\u6295\u8d44\u8005\u7684\u4eba\u6570\u7684\u4e0a\u9650\u5927\u7ea6\u662f\u5728 220 \u4e07\u5de6\u53f3\uff0c\u4e0b\u9650\u5728 100 \u4e07\u5de6\u53f3\u3002\u8fd9\u4e2a\u4e0a\u4e0b\u9650\uff0c\u4e0e\u968f\u540e\u4e0a\u8bc1\u7684\u6307\u6570\u8d70\u52bf\uff0c\u6709\u4e00\u5b9a\u7684\u76f8\u5173\u6027\u3002\u76ee\u524d\u6211\u4eec\u53ef\u4ee5\u6570\u51fa\u6765\u7684\u662f\uff0c\u5927\u7ea6\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u5904\u4e8e\u4e0b\u9650\u65f6\uff0c\u4e0a\u8bc1\u5927\u7ea6\u6709 70%\u5de6\u53f3\u7684\u6982\u7387\u5904\u4e8e\u5e95\u90e8\uff1b\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u5904\u4e8e\u4e0a\u9650\u65f6\uff0c\u4e0a\u8bc1\u4e5f\u5927\u7ea6\u6709 70%\u5904\u5728\u5934\u90e8\u3002</p> <p>\u8fd9\u53ea\u662f\u4e00\u4e2a\u89c6\u89c9\u4e0a\u7684\u89c4\u5f8b\u3002\u5728\u8bfe\u7a0b\u7684\u7b2c\u4e09\u90e8\u5206\uff08\u7edf\u8ba1\u79d1\u5b66\u4e0e Python \u6570\u636e\u5206\u6790\uff09\uff0c\u4f1a\u4ecb\u7ecd\u5982\u4f55\u7528\u7edf\u8ba1\u5b66\u7684\u89c4\u5f8b\u6765\u63cf\u8ff0\u8fd9\u79cd\u76f8\u5173\u6027\u3002\u53e6\u5916\uff0c\u5728\u5b66\u4e60\u4e86\u7b2c\u4e09\u90e8\u5206\u4e4b\u540e\uff0c\u6211\u4eec\u4e5f\u5c06\u77e5\u9053\uff1a\u5982\u679c\u5f53\u6708\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u8fbe\u5230 200 \u4e07\uff0c\u4e0b\u4e2a\u6708\u6295\u8d44\u8005\u4eba\u6570\u7ee7\u7eed\u589e\u52a0\u7684\u53ef\u80fd\u6027\u4f1a\u662f\u591a\u5c11\uff1f</p> <p>\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\u3002\u6bd5\u7adf\uff0c\u5728\u51fb\u9f13\u4f20\u82b1\u7684\u6e38\u620f\u4e2d\uff0c\u9f13\u70b9\u662f\u4e0d\u80fd\u505c\u7684\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/#_2","title":"\u4eba\u6c14\u6307\u6570\u56e0\u5b50","text":"<p>Akshare\u4e2d\u6709\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u53ef\u4ee5\u83b7\u53d6\u80a1\u5427\u91cc\uff0c\u67d0\u4e2a\u6807\u7684\u7684\u4eba\u6c14\u6307\u6570\u3002\u663e\u7136\uff0c\u4eba\u6c14\u6307\u6570\u662f\u4e00\u4e2a\u5178\u578b\u7684\u6563\u6237\u6307\u6570\uff0c\u6bd5\u7adf\uff0c\u673a\u6784\u94b1\u591a\uff0c\u6563\u6237\u4eba\u591a\u3002</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u662f\uff1a</p> <pre><code>import akshare\n\nakshare.stock_hot_rank_detail_realtime_em(\"SZ000665\")\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a</p> <p></p> <p>\u8fd9\u91cc\u7684\u6570\u636e\u8db3\u591f\u4e30\u5bcc\uff0c\u80fd\u5426\u6210\u4e3a\u4e00\u4e2a\u56e0\u5b50\uff0c\u5927\u5bb6\u53ef\u4ee5\u62ffalphalens\u6765\u505a\u505a\u770b\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/#_3","title":"\u7ed3\u675f\u8bed","text":"<p>A\u80a1\u662f\u4e00\u4e2a\u6709\u7740\u660e\u663e\u7f8a\u7fa4\u6548\u5e94\u7684\u5e02\u573a\uff0c\u5f97\u6563\u6237\u8005\u5f97\u5929\u4e0b\u3002\u8fd9\u91cc\u53ea\u4e3e\u4e86\u4e24\u4e2a\u56e0\u5b50\u7684\u4f8b\u5b50\uff0c\u8fd8\u6709\u66f4\u591a\u7684\u56e0\u5b50\u6709\u5f85\u53d1\u6398\u3002</p> <p>\u4f5c\u4e3a\u4e00\u540d\u91cf\u5316\u6846\u67b6\u5f00\u53d1\u8005\uff0c\u6211\u975e\u5e38\u8ba4\u53ef\u548c\u5f3a\u8c03\u5411\u725b\u6563\u548c\u5927 V \u5b66\u4e60\uff0c\u540e\u9762\u4f1a\u6709\u66f4\u591a\u7b14\u8bb0\uff0c\u53d1\u6398\u5927V\u64cd\u4f5c\u7ecf\u9a8c\u80cc\u540e\u7684\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u539f\u7406\uff0c\u5e76\u5c1d\u8bd5\u5c06\u5176\u91cf\u5316\u3002</p> <p>\u5efa\u4e86\u4e00\u4e2a\u5c0f\u7ea2\u4e66\u5b66\u4e60\u6253\u5361\u7fa4\uff0c\u575a\u6301\u5b66\u4e60\u7684\u670b\u53cb\u53ef\u4ee5\u8fdb\u6765\u6253\u5361\u3002\u4eca\u65e5\u6253\u5361\u8bed\u5f55\uff1a</p>  \u51cc\u6668\u4e24\u70b9 \u6211\u770b\u5230\u6d77\u68e0\u82b1\u672a\u7720 \u6000\u5ff5\u8d77\u5f53\u5e74\u4e0d\u7720\u4e0d\u4f11 \u4e00\u8d77\u8d76due\u7684\u65f6\u5149 \u575a\u6301\u5b66\u4e60  \u5728\u672a\u6765 \u9047\u89c1\u66f4\u597d\u7684\u81ea\u5df1","tags":["strategy"]},{"location":"blog/2023/12/23/%E7%90%83%E9%98%9F%E5%92%8C%E7%A1%AC%E5%B8%81%E5%9B%A0%E5%AD%90/","title":"\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50","text":"<p>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50\u6700\u521d\u6765\u81ea\u4e8e\u8036\u9c81\u5927\u5b66 Tobias Moskowitz \u7684\u53d1\u8868\u4e8e 2021 \u5e74 9 \u6708\u7684\u4e00\u7bc7\u8bba\u6587\uff0c\u53d1\u5e03\u4ee5\u6765\uff0c\u5f97\u5230\u4e86\u8d85\u8fc7 14 \u6b21\u4ee5\u4e0a\u7684\u5f15\u7528\u3002\u8fd9\u7bc7\u8bba\u6587\u540d\u4e3a\u300aAsset Pricing and Sports Betting\u300b\u3002</p> <p>Moskowitz \u4ece\u8fd9\u6837\u4e00\u4e2a\u73b0\u8c61\u5f00\u59cb\uff1a\u5f53\u4eba\u4eec\u629b\u4e00\u679a\u786c\u5e01\u65f6\uff0c\u5982\u679c\u4e0a\u6b21\u629b\u51fa\u4e86\u6b63\u9762\uff0c\u4eba\u4eec\u503e\u5411\u4e8e\u731c\u6d4b\u4e0b\u6b21\u662f\u53cd\u9762\uff1b\u800c\u5f53\u7403\u8d5b\u7684\u4e00\u4e2a\u65b0\u8d5b\u5b63\u5f00\u59cb\u65f6\uff0c\u4eba\u4eec\u66f4\u503e\u5411\u4e8e\u731c\u6d4b\u4e0a\u8d5b\u5b63\u7684\u51a0\u519b\uff0c\u4f9d\u65e7\u4f1a\u5728\u672c\u8d5b\u5b63\u593a\u51a0\u3002\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u8fd9\u79cd\u5dee\u522b\u5462\uff1f</p> <p>\u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u53ef\u77e5\u6027\u7406\u8bba\u4e86\u3002\u4eba\u4eec\u5bf9\u629b\u786c\u5e01\u8fd9\u4ef6\u6d3b\u52a8\u672c\u8eab\u6bd4\u8f83\u4e86\u89e3\uff0c\u5bf9\u4e8e\u5176\u53d1\u751f\u7684\u6982\u7387\u6bd4\u8f83\u786e\u5b9a\uff0c\u56e0\u6b64\uff0c\u503e\u5411\u4e8e\u5229\u7528\u81ea\u5df1\u638c\u63e1\u7684\u7406\u8bba\u548c\u53ef\u77e5\u6027\uff0c\u4ece\u800c\u5f97\u51fa\u4e0b\u4e00\u6b21\u629b\u786c\u5e01\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u53cd\u8f6c\u8fd9\u4e00\u671f\u671b\u3002</p> <p>\u800c\u5f53\u4e00\u4e2a\u65b0\u8d5b\u5b63\u5f00\u59cb\u65f6\uff0c\u5982\u679c\u8ba9\u4eba\u4eec\u731c\u6d4b\u54ea\u53ea\u7403\u961f\u4f1a\u593a\u51a0\uff0c\u7531\u4e8e\u4eba\u4eec\u5bf9\u65b0\u8d5b\u5b63\u7684\u7403\u961f\u3001\u7403\u961f\u7684\u6210\u5458\u548c\u56e2\u961f\u78e8\u5408\u7b49\u4e0d\u662f\u5f88\u4e86\u89e3\uff0c\u5373\u201c\u51a0\u519b\u662f\u8c01\u201d\u8fd9\u4ef6\u4e8b\u7684\u201c\u53ef\u77e5\u6027\u201d\u8f83\u4f4e\uff0c\u56e0\u6b64\u53ea\u80fd\u4ee5\u8fd9\u4e9b\u7403\u961f\u7684\u5386\u53f2\u6210\u7ee9\u6765\u8003\u5bdf\u5b83\u4eec\uff0c\u6b64\u65f6\u4eba\u4eec\u66f4\u503e\u5411\u4e8e\u731c\u6d4b\u4e0a\u8d5b\u5b63\u7684\u51a0\u519b\u3002</p> <p>Tip</p> <p>\u51a0\u519b\u7403\u961f\u6548\u5e94\u8fd9\u79cd\u73b0\u8c61\u5728\u57fa\u91d1\u6295\u8d44\u4e2d\u975e\u5e38\u5e38\u89c1\u3002\u6bd4\u5982\uff0c\u4eba\u4eec\u901a\u5e38\u4f1a\u9009\u62e9\u8d2d\u4e70\u4e0a\u4e00\u5e74\u516c\u52df\u57fa\u91d1\u51a0\u519b\u4e3b\u7406\u7684\u4ea7\u54c1\uff0c\u65e0\u8bba\u662f\u8001\u7684\u57fa\u91d1\uff0c\u8fd8\u662f\u65b0\u53d1\u7684\u57fa\u91d1\u3002\u8fd9\u4f1a\u5bfc\u81f4\u8be5\u57fa\u91d1\u7ba1\u7406\u7684\u89c4\u6a21\u8fc5\u901f\u6269\u5927\uff0c\u6700\u7ec8\u5bfc\u81f4\u8239\u5927\u96be\u6389\u5934\uff0c\u5728\u65b0\u7684\u4e00\u5e74\u91cc\u8868\u73b0\u4e0d\u4f73\uff0c\u4ece\u800c\u51fa\u73b0\u51a0\u519b\u9b54\u5492\u3002\u5728\u51a0\u519b\u57fa\u91d1\u7ecf\u7406\u8eab\u4e0a\uff0c\u52a8\u91cf\u548c\u53cd\u8f6c\u6548\u5e94\u662f\u4e00\u4f53\u4e24\u9762\uff0c\u4e00\u4e2a\u5468\u671f\u800c\u5df2\u3002</p> <p>Moskowitz \u8ba4\u4e3a\uff0c\u5982\u679c\u4e00\u4e2a\u6807\u7684\u4fe1\u606f\u662f\u53ef\u77e5\u7684\uff0c\u5219\u5904\u4e8e\u786c\u5e01\u6a21\u5f0f -- \u63a5\u4e0b\u6765\u53ef\u80fd\u53d1\u751f\u8d8b\u52bf\u53cd\u8f6c\uff1b\u800c\u5982\u679c\u4fe1\u606f\u662f\u672a\u77e5\u7684\uff0c\u5219\u4f1a\u5904\u5728\u7403\u961f\u6a21\u5f0f\uff0c\u5373\u52a8\u91cf\u5ef6\u7eed\u3002</p> <p>\u5982\u4f55\u8bc4\u5224\u6807\u7684\u4fe1\u606f\u53ef\u77e5\u5462\uff1fMoskowitz \u8ba4\u4e3a\uff0c\u53ef\u4ee5\u4f9d\u636e\u516c\u53f8\u662f\u5426\u53d1\u5e03\u4e86\u4e1a\u7ee9\u9884\u544a\uff1a\u53d1\u5e03\u4e86\u4e1a\u7ee9\u9884\u544a\u7684\u516c\u53f8\uff0c\u5176 \u201c\u53ef\u77e5\u6027\u201d\u5c31\u4f1a\u63d0\u9ad8\uff0c\u6295\u8d44\u8005\u5bf9\u4e8e\u5176\u672a\u6765\u8d70\u52bf\u5c31\u6709\u4e86\u6e05\u6670\u7684\u5224\u65ad\u3002</p> <p>\u770b\u5230\u8fd9\u91cc\uff0c\u6709\u7ecf\u9a8c\u7684\u6295\u8d44\u8005\u4f1a\u7acb\u5373\u4e0e A \u80a1\u5bf9\u4e0a\u53f7\uff1a\u8fd9\u4e0d\u5c31\u662f A \u80a1\u7684\u5229\u597d\u51fa\u5c3d\u662f\u5229\u7a7a\uff1b\u5229\u7a7a\u51fa\u5c3d\u662f\u5229\u597d\uff0c\u6216\u8005\u8bf4\u5229\u597d\u89c1\u5149\u6b7b\u5417\uff1f\u4e8b\u5b9e\u5c31\u662f\u5982\u6b64\uff0c\u53ea\u4e0d\u8fc7 Moskowitz \u5bf9\u6b64\u73b0\u8c61\u8fdb\u884c\u4e86\u7406\u8bba\u603b\u7ed3\u3002</p> <p>\u5982\u4f55\u5c06\u5176\u6784\u5efa\u6210\u56e0\u5b50\u4ee5\u4f9b\u6295\u8d44\u5462\uff1f\u6309\u7167 Moskowitz \u7684\u539f\u59cb\u5b9a\u4e49\u6765\u751f\u6210\u56e0\u5b50\uff0c\u9700\u8981\u63d0\u53d6\u4e1a\u7ee9\u9884\u544a\u4fe1\u606f\u3002\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u514d\u8d39\u7684 akshare \u6765\u83b7\u53d6\u8fd9\u90e8\u5206\u4fe1\u606f\u3002</p> <pre><code>import akshare as ak\n\nstock_yjyg_em_df = ak.stock_yjyg_em(date=\"20230930\")\nprint(stock_yjyg_em_df[[\"\u80a1\u7968\u7b80\u79f0\",\"\u9884\u6d4b\u6307\u6807\",\"\u4e1a\u7ee9\u53d8\u52a8\u5e45\u5ea6\"]])\n</code></pre> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\u7684\u662f\uff0c\u65e5\u671f\u53c2\u6570\u662f\u6709\u89c4\u5f8b\u7684\uff0c\u4f60\u53ea\u80fd\u4f7f\u7528\u5b63\u5ea6\u672b\u7684\u65e5\u671f\uff0c\u5373 0331\uff0c0630\uff0c0930 \u548c 1231\uff08\u524d\u9762\u52a0\u4e0a\u5e74\u4efd\uff09\u3002\u5982\u679c\u8f93\u5165\u5176\u5b83\u65e5\u671f\uff0c\u5219\u5c06\u629b\u51fa\u5f02\u5e38\u3002</p> <p>\u6700\u540e\u6211\u4eec\u5f97\u5230\u5982\u4e0b\u793a\u4f8b\u7ed3\u679c\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u516c\u544a\u81ea\u5e26\u6709\u65e5\u671f\uff0c\u56e0\u6b64\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u662f PIT \u5408\u683c\u7684\u6570\u636e\u3002</p> <p>\u8981\u6784\u5efa\u56e0\u5b50\uff0c\u53ef\u4ee5\u4ee5\u516c\u544a\u53d1\u5e03\u6b21\u65e5\u8d77\uff0c\u5206\u522b\u53d6 1\uff0c3\uff0c 5\uff0c 8\uff0c 10\uff0c 13 \u7b49\u5468\u671f\u7684\u6536\u76ca\u7387\uff0c\u5bf9\u56e0\u5b50\u8fdb\u884c\u8bc4\u4f30\u3002\u56e0\u5b50\u8bc4\u4f30\u662f\u901a\u7528\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528 quantpian \u7684 Alphalens \u5e93\uff0c\u6211\u4eec\u5728\u7b2c 15 \u8bfe\u4e2d\u6709\u4e13\u95e8\u4ecb\u7ecd\uff0c\u5e76\u63d0\u4f9b\u4e86\u4f7f\u7528\u793a\u4f8b\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8d58\u8ff0\u4e86\u3002</p>","tags":["strategy","factor"]},{"location":"blog/2023/12/23/%E7%90%83%E9%98%9F%E5%92%8C%E7%A1%AC%E5%B8%81%E5%9B%A0%E5%AD%90/#quize","title":"Quize","text":"<p>\u672c\u7bc7\u7b14\u8bb0\u63d0\u5230\u4e86 PIT \u5408\u683c\u8fd9\u4e2a\u8bcd\uff0c\u4f60\u77e5\u9053\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u5417\uff1fPIT\u6570\u636e\u662f\u6211\u4eec\u4ece\u6570\u636e\u6e90\u5934\u907f\u514d\u672a\u6765\u6570\u636e\u7684\u91cd\u8981\u624b\u6bb5\u3002\u5982\u679c\u60f3\u77e5\u9053\uff0c\u8bf7\u7559\u8a00\u8bc4\u8bba\u5427\u3002</p>","tags":["strategy","factor"]},{"location":"blog/2023/12/24/net-high-net-low-factor/","title":"\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50","text":"<p>\u4e2a\u80a1\u7684\u9876\u5e95\u5f3a\u5f31\u6bd4\u8f83\u96be\u4ee5\u628a\u63e1\uff0c\u5b83\u4eec\u7684\u5076\u7136\u6027\u592a\u5f3a\u3002\u8463\u4e8b\u957f\u6709\u53ef\u80fd\u8dd1\u8def\uff0c\u4e2a\u80a1\u4e5f\u53ef\u80fd\u9047\u5230\u7a81\u53d1\u5229\u597d\uff08\u6bd4\u5982\u7ade\u4e89\u5bf9\u624b\u4ed3\u5e93\u5931\u706b\uff09\u3002\u5728\u4e2a\u80a1\u7684\u9876\u5e95\u5904\uff0c\u60c5\u7eea\u5360\u636e\u4e3b\u5bfc\u5730\u4f4d\uff0c\u7406\u6027\u9000\u907f\u6b21\u5e2d\uff0c\u6280\u672f\u6307\u6807\u51fa\u73b0\u949d\u5316\uff0c\u8fdb\u5165\u73b0\u72b6\u4e0d\u53ef\u63cf\u8ff0\uff0c\u4e00\u5207\u7686\u6709\u53ef\u80fd\u7684\u72b6\u6001\u3002</p> <p>\u4f46\u662f\uff0c\u884c\u4e1a\u6307\u6570\u4f5c\u4e3a\u591a\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u53e0\u52a0\uff0c\u5c31\u4f1a\u51fa\u73b0\u4e00\u5b9a\u7684\u89c4\u5f8b\u6027\uff08\u53d7A4\u7cfb\u7edf\u6027\u5f71\u54cd\u7684\u5076\u7136\u6027\u6211\u4eec\u5148\u6392\u9664\u5728\u5916\uff0c\u6bd5\u7adf\u4e5f\u4e0d\u662f\u5929\u5929\u6709A4\uff09\u3002\u8fd9\u662f\u56e0\u5b50\u5206\u6790\u548c\u6280\u672f\u5206\u6790\u53ef\u4ee5\u4e00\u5c55\u8eab\u624b\u7684\u5730\u65b9\u3002</p> <p>\u4eca\u5929\u8981\u4ecb\u7ecd\u7684\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50\uff0c\u53ef\u4ee5\u7528\u6765\u6355\u6349\u884c\u4e1a\u5f3a\u5f31\u8d8b\u52bf\u4ee5\u53ca\u53cd\u8f6c\uff0c\u4ee5\u6b64\u56e0\u5b50\u4e3a\u57fa\u7840\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u5efa\u6307\u6570\u589e\u5f3a\u7b56\u7565\u3002</p> <p>Tip</p> <ol> <li>NHNL\u56e0\u5b50\u5982\u4f55\u5b9a\u4e49</li> <li>\u951a\u5b9a\u6548\u5e94\u662f\u672c\u56e0\u5b50\u7684\u57fa\u77f3</li> <li>\u4ece\u56e0\u5b50\u5230\u7b56\u7565\u5b9e\u73b0</li> <li>\u5982\u4f55\u4f7f\u7528XtQuant\u6765\u83b7\u5f97\u6570\u636e</li> </ol>","tags":["factor","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_1","title":"\u56e0\u5b50\u5b9a\u4e49","text":"<p>\u51c0\u65b0\u9ad8\u5360\u6bd4\u6307\u6807\u662f\u6307\u884c\u4e1a\u6307\u6570\u4e2d\uff0c\u521b\u5e74\u5ea6\u65b0\u9ad8\u4e0e\u5e74\u5ea6\u65b0\u4f4e\u4e4b\u5dee\u7684\u4e2a\u80a1\u6570\u5360\u5168\u884c\u4e1a\u4e2a\u80a1\u6570\u7684\u767e\u5206\u6bd4\uff1a</p> \\[     (NHNL)\\% = (count(HHV) - count(LLV))/N \\] <p>Tip</p> <p>\u4ece\u56e0\u5b50\u5b9a\u4e49\u53ef\u4ee5\u770b\u51fa\uff0c\u5b83\u4e0d\u662f\u5728[-1,1]\u533a\u95f4\u5747\u5300\u5206\u5e03\u7684\u3002\u5728\u673a\u5668\u5b66\u4e60\u4e2d\u4f7f\u7528\u8fd9\u4e00\u65b9\u6848\uff0c\u4f1a\u6709\u8f7b\u5fae\u7684\u68af\u5ea6\u4f18\u5316\u56f0\u96be\u3002\u867d\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u4effRSI\u7684\u601d\u8def\uff0c\u5c06\u5176\u6539\u9020\u4e3a\uff1a</p> \\[     (NHNL)\\% = (count(HHV) - count(LLV))/(count(HHV) + count(LLV)) \\] <p>\u4f46\u8fd9\u6837\u505a\u663e\u7136\u6ca1\u6709\u5bf9\u5e94\u7684\u903b\u8f91\u5b58\u5728\u3002\u8fd9\u662f\u6211\u4eec\u5728\u505a\u56e0\u5b50\u5206\u6790\u65f6\u8981\u6ce8\u610f\u7684\u70b9\u3002\u4e0d\u8981\u523b\u821f\u6c42\u5251\u3002</p>","tags":["factor","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_2","title":"\u56e0\u5b50\u80cc\u540e\u7684\u903b\u8f91","text":"<p>\u8be5\u56e0\u5b50\u7684\u4e3b\u8981\u91d1\u878d\u539f\u7406\u662f\u951a\u5b9a\u6548\u5e94\u3002\u884c\u4e3a\u91d1\u878d\u5b66\u544a\u8bc9\u6211\u4eec\uff0c\u7edd\u5927\u591a\u6570\u6295\u8d44\u8005\u90fd\u6709\u5f88\u5f3a\u7684\u951a\u5b9a\u6548\u5e94\u3002\u6295\u8d44\u8005\u59cb\u7ec8\u4f1a\u4ee5\u81ea\u5df1\u4e70\u5165\u80a1\u7968/\u57fa\u91d1\u65f6\u7684\u4ef7\u683c\uff08\u5373\u951a\u5b9a\u6210\u672c\uff09\u4e3a\u57fa\u51c6\uff0c\u89c6\u81ea\u5df1\u7684\u8d26\u6237\u662f\u5904\u4e8e\u6d6e\u76c8\u8fd8\u662f\u6d6e\u4e8f\u72b6\u6001\uff0c\u6765\u786e\u5b9a\u81ea\u5df1\u7684\u64cd\u4f5c\u3002</p> <p>\u521b\u5e74\u5ea6\u65b0\u9ad8\u7684\u4e2a\u80a1\uff0c\u5176\u80a1\u7968\u6301\u6709\u8005\u5747\u4e3a\u6d6e\u76c8\u72b6\u6001\uff0c\u5373\u4f7f\u5176\u8ba1\u5212\u5356\u51fa\uff0c\u4e5f\u5e0c\u671b\u7b49\u884c\u60c5\u518d\u4e0a\u6da8\u4e00\u6bb5\u65f6\u95f4\uff0c\u56e0\u6b64\u5176\u629b\u538b\u76f8\u5bf9\u8f83\u5c0f\uff1b\u800c\u521b\u5e74\u5ea6\u65b0\u4f4e\u7684\u4e2a\u80a1\uff0c\u56e0\u5176\u80a1\u7968\u6301\u6709\u8005\u5747\u4e3a\u6d6e\u4e8f\u72b6\u6001\uff0c\u56e0\u6b64\u53ea\u8981\u884c\u60c5\u53cd\u5f39\u4fbf\u6709\u6295\u8d44\u8005\u5356\u51fa\uff0c\u629b\u538b\u53cd\u800c\u8f83\u5927\u3002\u8fd9\u6837\u5c31\u51fa\u73b0\u4e86\u718a\u5e02\u4e0d\u8a00\u5e95\uff0c\u725b\u5e02\u4e0d\u8a00\u9876\u7684\u89c4\u5f8b\uff0c\u6216\u8005\u8bf4\u65b0\u9ad8\u4e4b\u540e\u8fd8\u6709\u65b0\u9ad8\uff0c\u65b0\u4f4e\u4e4b\u540e\u8fd8\u6709\u65b0\u4f4e\u7684\u80a1\u8c1a\u3002</p> <p>Tip</p> <p>\u4f55\u65f6\u8fd9\u4e00\u8d8b\u52bf\u88ab\u53cd\u8f6c\uff1f\u4e0a\u8ff0\u6548\u5e94\u672c\u8d28\u4e0a\u662f\u52a8\u91cf\u56e0\u5b50\u3002\u5728\u52a8\u91cf\u5ef6\u7eed\u65f6\uff0c\u53cd\u8f6c\u56e0\u5b50\u7684\u529b\u91cf\u4e5f\u5728\u79ef\u805a\u3002\u6b64\u65f6\u53ef\u4ee5\u5173\u6ce8\u53cd\u5f39\u56e0\u5b50\u5982\u6708\u7ebfRSI\u662f\u5426\u5230\u4e86\u524d\u9ad8\u3002\u5982\u679c\u6708\u7ebfRSI\u5230\u4e86\u524d\u9ad8\uff0c\u518d\u51fa\u73b0\u786e\u8ba4\u4fe1\u53f7\uff0c\u5219\u4e00\u4e2a\u4ee5\u5b63\u4e3a\u5355\u4f4d\u7684\u9876\u5c31\u5f88\u53ef\u80fd\u51fa\u73b0\u4e86\u3002</p> <p>\u57fa\u4e8e\u8fd9\u4e00\u539f\u7406\uff0c\u663e\u7136\uff0c\u51c0\u65b0\u9ad8\u56e0\u5b50\u80fd\u8f83\u597d\u5730\u523b\u753b\u884c\u4e1a\u6307\u6570\u7684\u5f3a\u5f31\u3002</p>","tags":["factor","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_3","title":"\u4fe1\u53f7\u6784\u5efa","text":"<p>\u534e\u798f\u8bc1\u5238\u4ee5\u4e2d\u4fe1\u4e00\u7ea7\u884c\u4e1a\u6307\u6570\u4e3a\u4f8b\uff0c\u7ed9\u51fa\u4e86\u4ee5\u4e0b\u53c2\u8003\u6307\u6807\uff1a</p> \\[ NHNL = \\begin{cases}          x \\geq 30\\% \\ \u8d2a\u5a6a\\\\\\         20\\% \\leq x \\lt 30\\% \\ \u4e50\u89c2\\\\\\         -20\\% \\lt x \\lt 20\\% \\ \u6b63\u5e38\u533a\u95f4\\\\\\         -30\\% \\lt x \\leq -20\\% \\ \u60b2\u89c2\\\\\\         x \\leq -30\\% \\ \u6050\u60e7 \\end{cases} \\] <p>\u4e3a\u4e86\u9632\u6b62\u4e00\u7ea7\u884c\u4e1a\u6307\u6570\u4e2a\u80a1\u6570\u592a\u5c11\u5f15\u53d1\u7684\u8fc7\u5927\u6ce2\u52a8\uff0c\u4ed6\u4eec\u5efa\u8bae\u5f53\u4e00\u7ea7\u884c\u4e1a\u6307\u6570\u4e0a\u5e02\u8d85\u8fc7 1 \u5e74\u7684\u4e2a\u80a1\u6570\u5c0f\u4e8e 40 \u65f6\uff0c\u5c06\u9608\u503c\u653e\u5bbd\u4e3a\u00b130%/40%\u3002</p> <p>\u5efa\u8bae\u8be5\u6307\u6807\u8fd9\u6837\u4f7f\u7528\uff08\u4ee5\u5355\u8fb9\u505a\u591a\u4e3a\u4f8b\uff09\uff1a</p> <ol> <li>\u5f53NHNL\u8fdb\u884c\u4e50\u89c2\u533a\u95f4\u65f6\uff0c\u5f00\u59cb\u5efa\u4ed3\uff0c\u6b64\u65f6\u662f\u52a8\u91cf\u7b56\u7565</li> <li>\u5f53NHNL\u8fdb\u5165\u8d2a\u5a6a\u533a\u95f4\u65f6\uff0c\u6ce8\u610f\u53ef\u80fd\u5230\u6765\u7684\u53cd\u8f6c\u3002\u9996\u6b21\u4ece\u8d2a\u5a6a\u533a\u95f4\u8dcc\u56de\u4e50\u89c2\u533a\u95f4\u65f6\uff0c\u505a\u7a7a\u4fe1\u53f7\u51fa\u73b0\uff0c\u4e0b\u4e00\u4ea4\u6613\u65e5\u5f00\u76d8\u5356\u51fa\u3002</li> <li>\u5f53NHNL\u8fdb\u884c\u6050\u614c\u533a\u95f4\u65f6\uff0c\u6ce8\u610f\u53ef\u80fd\u5230\u6765\u7684\u53cd\u8f6c\u3002\u9996\u6b21\u4ece\u6050\u614c\u533a\u95f4\u6da8\u56de\u60b2\u89c2\u533a\u95f4\u65f6\uff0c\u4e0b\u4e00\u4ea4\u6613\u65e5\u5f00\u76d8\u4e70\u5165\u3002\u6b64\u65f6\u6ce8\u610f\u8bbe\u7f6e\u597d\u6b62\u635f\u4f4d\uff0c\u53cd\u5f39\u5ef6\u7eed\u624d\u80fd\u7ee7\u7eed\u6301\u6709\u3002</li> </ol>","tags":["factor","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_4","title":"\u4ee3\u7801","text":"<p>\u4ee3\u7801\u7684\u5173\u952e\u662f\u8981\u83b7\u53d6\u884c\u4e1a\u6307\u6570\u53ca\u6210\u4efd\u80a1\u884c\u60c5\uff0c\u56e0\u4e3a\u8ba1\u7b97\u4e00\u5e74\u5185\u7684\u65b0\u9ad8\u548c\u65b0\u4f4e\u975e\u5e38\u5bb9\u6613\u3002</p> <p>\u6211\u4eec\u4ee5XtQuant\u4e3a\u4f8b\u8fdb\u884c\u6f14\u793a\u3002XtQuant\u662f\u8fc5\u6295\u7814\u53d1\u7684\u884c\u60c5\u6570\u636e\u53ca\u5b9e\u76d8\u63a5\u53e3\uff0c\u5f00\u901a\u91cf\u5316\u6743\u9650\u7684\u8bdd\uff0c\u53ef\u4ee5\u514d\u8d39\u83b7\u5f97\u884c\u60c5\u6570\u636e\uff0c\u56e0\u6b64\u5b83\u662f\u53c8\u4e00\u4e2a\u4f18\u79c0\u7684\u514d\u8d39\u6570\u636e\u6e90\u3002\u6211\u4eec\u5728\u7b2c24\u8bfe\u6709\u8be6\u7ec6\u4ecb\u7ecd\u5b83\u7684\u4f7f\u7528\u3002</p> <pre><code>sectors = set()\n\nfor item in get_sector_list():\n    for i in range(6, 1, -1):\n        key = item[:i]\n\n        if key.startswith(\"SW1\"):\n            sectors.add(key)\n            break\nprint(sectors)\n\n# \u663e\u793a\uff1a\n'SW1\u7164\u70ad', 'SW1\u4ea4\u901a\u8fd0', 'SW1\u7efc\u5408', 'SW1\u901a\u4fe1' ...\n</code></pre> <p>\u6211\u4eec\u5927\u7ea6\u62ff\u523040\u4e2a\u7533\u4e07\u4e00\u7ea7\u677f\u5757\u540d\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u9700\u8981\u83b7\u53d6\u677f\u5757\u5185\u7684\u6bcf\u652f\u6210\u5206\u80a1\u7684\u8bc1\u5238\u4ee3\u7801:</p> <pre><code>xt.get_stock_list_in_sector(\"SW1\u7164\u70ad\")\n\n# \u663e\u793a\uff1a\n\n['600121.SH',\n '600123.SH',\n '600157.SH',\n '600188.SH',\n '600348.SH',\n '600395.SH',\n ...\n]\n</code></pre> <p>\u83b7\u53d6\u4e2a\u80a1\u884c\u60c5\u6570\u636e\u7684\u65b9\u6cd5\u5728\u6700\u8fd1\u7684\u7b14\u8bb0\u4e2d\u6709\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u4e0d\u518d\u91cd\u590d\u3002</p> <p>Tip</p> <p>\u638c\u63e1\u83b7\u53d6\u8bc1\u5238\u5217\u8868\u3001\u518d\u904d\u5386\u4e4b\u4ee5\u83b7\u5f97\u884c\u60c5\u6570\u636e\uff0c\u662f\u4e00\u4e2a\u57fa\u672c\u65b9\u6cd5\u3002\u4e5f\u662f\u6211\u4eec\u638c\u63e1\u4e00\u4e2a\u6570\u636e\u6e90\u65f6\uff0c\u5fc5\u987b\u9996\u5148\u638c\u63e1\u7684API\u3002\u8fd9\u662f\u6211\u4eec\u7b2c\u4e00\u8bfe\u8d77\uff0c\u5c31\u8ddf\u5927\u5bb6\u4ecb\u7ecd\u8fc7\u7684\u3002</p> <p>\u66f4\u591a\u7684\u4ee3\u7801\u4e0d\u4fbf\u4e00\u4e00\u6f14\u793a\u3002\u6211\u4eec\u6709\u793a\u4f8bnotebook\u53ef\u4ee5\u63d0\u4f9b\u3002\u6700\u7ec8\u6211\u4eec\u80fd\u5f97\u5230\u8fd9\u6837\u4e00\u4e2a\u6548\u679c\uff1a</p> <p></p>","tags":["factor","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#quiz","title":"Quiz","text":"<p>\u8bf7\u8bf4\u8bf4\u4e3a\u4ec0\u4e48\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50\u4e0d\u662f\u5728[-1,1]\u533a\u95f4\u5185\u5747\u5300\u5206\u5e03\u7684\u3002\u4e3a\u4e86\u5f97\u51fa\u7ed3\u8bba\uff0c\u4f60\u7528\u4e86\u51e0\u79d2\uff1f</p> <p>\u6839\u636e\u534e\u798f\u8bc1\u5238-\u5e02\u573a\u60c5\u7eea\u6307\u6807\u4e13\u9898\uff08\u4e94\uff09\uff0c\u8fdb\u884c\u4e86\u63d0\u70bc\u548c\u6539\u5199\uff0c\u7279\u6b64\u81f4\u8c22\uff01</p>","tags":["factor","strategy"]},{"location":"blog/2023/12/26/how-regret-factor-get-5.5-sharpe-ratio/","title":"Sharpe 5.5!\u9057\u61be\u89c4\u907f\u56e0\u5b50","text":"<p>\u5982\u679c\u5728\u4f60\u4e70\u5165\u4e4b\u540e\uff0c\u80a1\u4ef7\u4e0b\u8dcc\uff0c\u4f60\u4f1a\u5728\u7b2c\u4e8c\u5929\u6025\u7740\u629b\u5417\uff1f\u53cd\u4e4b\uff0c\u5982\u679c\u5728\u4f60\u5356\u51fa\u4e4b\u540e\uff0c\u80a1\u4ef7\u4e0a\u6da8\uff0c\u4f60\u4f1a\u53cd\u624b\u8ffd\u5165\u5417\uff1f</p> <p>\u5148\u522b\u6025\u7740\u56de\u7b54\uff0c\u6211\u4eec\u6765\u770b\u770b\u79d1\u5b66\u7814\u7a76\u7684\u7ed3\u8bba\u662f\u600e\u6837\u7684\u3002\u5173\u4e8e\u8fd9\u7c7b\u95ee\u9898\uff0c\u90fd\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7814\u7a76\u7684\u8303\u7574\u3002\u5177\u4f53\u5230\u8fd9\u4e2a\u573a\u666f\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd0\u7528\u9057\u61be\u7406\u8bba\u6765\u89e3\u91ca\u3002\u9057\u61be\u7406\u8bba\uff0c\u53c8\u79f0\u9057\u61be\u89c4\u907f\u7406\u8bba\uff08 Fear of Regret Theory\uff09\uff0c\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u91cd\u8981\u7406\u8bba\u4e4b\u4e00\uff0c\u8be5\u7406\u8bba\u8ba4\u4e3a\uff0c\u975e\u7406\u6027\u7684\u6295\u8d44\u8005\u5728\u505a\u51b3\u7b56\u65f6\uff0c\u4f1a\u503e\u5411\u4e8e\u907f\u514d\u4ea7\u751f\u540e\u6094\u60c5\u7eea\u5e76\u8ffd\u6c42\u81ea\u8c6a\u611f\uff0c\u907f\u514d\u627f\u8ba4\u4e4b\u524d\u7684\u51b3\u7b56\u5931\u8bef\u3002</p> <p>Tips</p> <ol> <li>\u9057\u61be\u89c4\u907f\u7406\u8bba\uff0c\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u91cd\u8981\u7406\u8bba\u4e4b\u4e00</li> <li>\u4e70\u5165\u5f53\u65e5\u6d6e\u4e8f\u4f1a\u5bfc\u81f4\u60dc\u552e\u5fc3\u7406\uff0c\u8fdb\u5165\u9057\u61be\u89c4\u907f\u7406\u8bba\u8303\u7574</li> <li>\u901a\u8fc7\u8ba2\u5355\u5e8f\u53f7\u6765\u786e\u5b9a\u8d44\u91d1\u7684\u4e70\u5165\u65b9\u5411</li> </ol> <p>\u4f8b\u5982\uff0c\u6295\u8d44\u8005\u4e0d\u613f\u610f\u5356\u51fa\u4e0b\u8dcc\u6d6e\u4e8f\u7684\u80a1\u7968\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u7531\u4e8e\u5931\u8d25\u6295\u8d44\u6240\u5bfc\u81f4\u7684\u9057\u61be\u548c\u75db\u82e6\u5fc3\u60c5\u3002\u540c\u6837\u5730\uff0c\u5f53\u6295\u8d44\u8005\u5356\u6389\u624b\u4e2d\u80a1\u7968\u540e\uff0c\u53d1\u73b0\u5176\u5f00\u59cb\u4e0d\u65ad\u4e0a\u6da8\uff0c\u4e5f\u4f1a\u4e3a\u4e86\u907f\u514d\u4ea7\u751f\u9057\u61be\u548c\u540e\u6094\u60c5\u7eea\uff0c\u4ece\u800c\u4e0d</p> <p>\u4f1a\u8003\u8651\u518d\u5c06\u5176\u4e70\u56de\u3002\u6709\u4e00\u4e9b\u5927V\u7684\u89c2\u70b9\uff0c\u6240\u8c13\u53ea\u8d5a\u8ba4\u77e5\u8303\u56f4\u5185\u7684\u94b1\uff0c\u5356\u51fa\u540e\uff0c\u6da8\u4e0a\u5929\u4e5f\u4e0e\u6211\u65e0\u5173\uff0c\u4e00\u65b9\u9762\u53ef\u80fd\u662f\u6b63\u786e\u7684\u6295\u8d44\u7406\u5ff5\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u4e5f\u672a\u5c1d\u4e0d\u662f\u4e00\u79cd\u81ea\u6211\u8fa9\u89e3\u800c\u5df2\u3002</p> <p>\u90a3\u4e48\u662f\u5426\u53ef\u4ee5\u57fa\u4e8e\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u7406\u8bba\uff0c\u6765\u6316\u6398\u51fa\u91cf\u5316\u56e0\u5b50\u5462\uff1f\u6700\u8fd1\u6211\u4eec\u62ff\u5230\u4e86\u4e00\u4efd\u56fd\u91d1\u8bc1\u5238\u5206\u6790\u5e08\u9ad8\u667a\u5a01\u7684\u7814\u62a5\uff0c\u4ed6\u6b63\u597d\u505a\u4e86\u8fd9\u4e2a\u7814\u7a76\uff0c\u8fd9\u91cc\u4e5f\u5206\u4eab\u7ed9\u5927\u5bb6\u3002</p> <p>\u9ad8\u667a\u5a01\u63a8\u6d4b\uff0c\u5f53\u5929\u4e3b\u4e70\u7684\u4eba\uff0c\u5982\u679c\u5728\u6536\u76d8\u540e\u5904\u4e8e\u6d6e\u4e8f\u7684\u72b6\u6001\uff0c\u4f1a\u51fa\u73b0\u60dc\u552e\u5fc3\u7406\uff0c\u4e14\u6d6e\u4e8f\u6bd4\u8d8a\u5927\uff0c\u5904\u4e8e\u6d6e\u4e8f\u7684\u8d44\u91d1\u91cf\u8d8a\u591a\uff0c\u8be5\u80a1\u6807\u7684\u5356\u51fa\u629b\u538b\u4e5f\u8d8a\u5c0f\u3002\u53cd\u4e4b\uff0c\u5219\u4e70\u5165\u52a8\u529b\u4e5f\u8d8a\u5c0f\u3002</p> <p>\uff08\u672c\u6587\u4f5c\u8005\uff1a\u8fd9\u70b9\u53ef\u4ee5\u53c2\u8003\u4e1c\u8d22\u80a1\u5427\u6570\u636e\uff0c\u770b\u770b\u8be5\u80a1\u6709\u591a\u5c11\u94c1\u7c89\u548c\u65b0\u7c89\u3002\u5982\u679c\u94c1\u7c89\u5360\u6bd4\u8f83\u5927\uff0c\u5356\u51fa\u540e\u6ca1\u6709\u4e70\u5165\u52a8\u529b\uff0c\u5219\u8be5\u80a1\u540e\u7eed\u4e00\u6bb5\u65f6\u95f4\uff0c\u53ef\u80fd\u51fa\u73b0\u4e70\u65b9\u8d44\u91d1\u4e0d\u8db3\u7684\u60c5\u51b5\u3002\u5982\u679c\u65b0\u7c89\u6bd4\u8f83\u591a\uff0c\u5219\u4e0d\u4e00\u5b9a\u6210\u7acb\uff09\u3002</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u63a8\u6d4b\uff0c\u4ed6\u6784\u5efa\u4e86\u4ee5\u4e0b4\u4e2a\u56e0\u5b50\uff1a</p> <p></p> <p>\u5728\u786e\u5b9a\u4e70\u5356\u65b9\u5411\u4e0a\uff0c\u4ed6\u4f7f\u7528\u4e86\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u5c0f\u6280\u5de7\uff0c\u5c31\u662f\u6309\u4e70\u5356\u8ba2\u5355\u53f7\u7684\u987a\u5e8f\u6765\u533a\u5206\u662f\u4e3b\u4e70\u8fd8\u662f\u4e3b\u5356\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u4ee5\u7b2c\u4e00\u5355\u4e3a\u4f8b\uff0c\u4e70\u5355\u53f7\u5728\u524d\uff0c\u5356\u5355\u53f7\u5728\u540e\uff0c\u56e0\u6b64\u8be5\u4ea4\u6613\u662f\u4e70\u65b9\u5148\u6302\u5355\uff0c\u5356\u65b9\u4e3b\u52a8\u5339\u914d\u6210\u4ea4\uff0c\u5b9a\u4e3a\u4e3b\u5356\u5355\u3002\u4ee5\u4e0b\u7c7b\u63a8\u3002</p> <p>\u4ece2016\u5e74\u52302022\u5e74\u4ee5\u6765\uff0c\u5bf9\u4e2d\u8bc11000\u80a1\u7968\u6c60\u8fdb\u884c\u56de\u6d4b\uff0c\u4ee5\u4e0b\u662f\u56de\u6d4b\u6307\u6807\uff1a</p> <p></p> <p></p> <p>\u5bf9\u6bd4\u4e00\u4e0b\u4e2d\u8bc11000\u4ece2016\u5e741\u6708\u4ee5\u6765\u7684\u6708k\u7ebf\uff08\u56fe\u4e2d\u7ad6\u865a\u7ebf\u5904\u4f4d\u7f6e\u4e3a2016\u5e741\u6708\uff09\uff1a</p> <p>\u6570\u636e\u770b\u4e0a\u53bb\u662f\u771f\u4e0d\u9519\uff0c\u7279\u522b\u662fHCVOL\u8fd9\u4e2a\u56e0\u5b50\uff0c\u590f\u666e\u7387\u9ad8\u8fbe5.5\uff0c\u53ef\u8c13\u662f\u65e0\u654c\u7684\u5b58\u5728\u4e86\u3002</p> <p>\u4f46\u8fd9\u4e2a\u7406\u8bba\u7684\u524d\u63d0\u662f\u5426\u6210\u7acb\uff1f\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u9057\u61be\u89c4\u907f\u7406\u8bba\u7684\u57fa\u77f3\uff0c\u662f\u6295\u8d44\u8005\u7684\u975e\u7406\u6027\u51b3\u7b56\u3002\u8fd9\u4e00\u524d\u63d0\u5728A\u80a1\u662f\u5426\u6210\u7acb\u5462\uff1f</p> <p>A\u80a1\u73b0\u5728\u7684\u91cf\u5316\u6e17\u900f\u7387\u624d\u4e0d\u523030%\uff0c\u663e\u7136\uff0c\u5e02\u573a\u4e0a\u7684\u591a\u6570\u6295\u8d44\u8005\u4ecd\u7136\u662f\u975e\u7406\u6027\u7684\uff08\u57fa\u4e8e\u6570\u5b66\u6a21\u578b\u3001\u4e0d\u53d7\u60c5\u7eea\u5e72\u6270\uff09\uff1b\u800c\u67d0\u4f1a\u524d\u4e0d\u4e45\u4e5f\u6279\u8bc4\u8fc7\uff0c\u73b0\u5728\u57fa\u91d1\u64cd\u4f5c\u4e5f\u51fa\u73b0\u6563\u6237\u5316\u7684\u503e\u5411\u3002\u8fd9\u8bf4\u660e\uff0c\u5728A\u80a1\u5e02\u573a\u4e0a\uff0c\u4ecd\u7136\u5b58\u5728\u5927\u91cf\u975e\u7406\u6027\u7684\u6295\u8d44\u8005\uff0c\u4e0a\u8ff0\u7406\u8bba\u786e\u5b9e\u662f\u53ef\u7528\u7684\u3002</p> <p>\u6b64\u5916\uff0c\u9ad8\u667a\u5a01\u5728\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u65e5\u5185\u6570\u636e\uff0c\u4f7f\u7528\u4e86\u5206\u65f6\u5747\u4ef7\u6765\u4f5c\u4e3a\u6295\u8d44\u8005\u7684\u951a\u5b9a\u6210\u672c\uff0c\u8fdb\u800c\u8ba1\u7b97\u51fa\u6d6e\u4e8f\u6295\u8d44\u8005\u7684\u6bd4\u4f8b\u3002</p> <p>\u4e5f\u6709\u62ff\u65e5\u7ebf\u53ca\u5468\u7ebf\u6570\u636e\u548c\u6362\u624b\u7387\u6765\u8ba1\u7b97\u6295\u8d44\u8005\u951a\u5b9a\u6210\u672c\u7684\u505a\u6cd5\uff0c\u6bd4\u5982\u5728CGO\u56e0\u5b50\u4e2d\uff0c\u6211\u4eec\u5c31\u8fd9\u6837\u8ba1\u7b97\u5927\u591a\u6570\u6295\u8d44\u8005\u7684\u6210\u672c\u4ef7\u3002\u4e0d\u8fc7\uff0c\u8ba1\u7b97\u884c\u4e3a\u91d1\u878d\u5b66\u8ba1\u7b97\u7684\u662f\u60c5\u7eea\uff0c\u770b\u8d77\u6765\u4f7f\u7528\u5468\u7ebf\u4f3c\u4e4e\u6ca1\u4ec0\u4e48\u9053\u7406\u3002\u65e5\u5185\u548c\u65e5\u95f4\u7684\u6ce2\u52a8\u53d7\u60c5\u7eea\u5f71\u54cd\u66f4\u5927\u4e00\u4e9b\u3002</p>","tags":["factor"]},{"location":"blog/2023/12/25/santa-claus-rally/","title":"Santa Claus Rally","text":"<p>\u6bcf\u5929\u575a\u6301\u53d1\u8d34 \u3002\u5343\u5b57\u5de6\u53f3\uff0c\u56fe\u6587\u5e76\u8302\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#_1","title":"\u58f0\u660e\uff1a\u8fd9\u4e00\u5929\u6211\u4eec\u4e5f\u6ca1\u6709\u6f0f\u53d1\u3002","text":"<p>Santa Claus Rally \u662f\u6307 12 \u6708 25 \u65e5\u5723\u8bde\u8282\u524d\u540e\u80a1\u5e02\u7684\u6301\u7eed\u4e0a\u6da8\u8fd9\u6837\u4e00\u4e2a\u73b0\u8c61\u3002\u300a\u80a1\u7968\u4ea4\u6613\u5458\u5e74\u9274\u300b\u7684\u521b\u59cb\u4eba Yale Hirsch \u4e8e 1972 \u5e74\u521b\u9020\u4e86\u8fd9\u4e2a\u5b9a\u4e49\uff0c\u4ed6\u5c06\u5f53\u5e74\u6700\u540e\u4e94\u4e2a\u4ea4\u6613\u65e5\u548c\u6b21\u5e74\u524d\u4e24\u4e2a\u4ea4\u6613\u65e5\u7684\u65f6\u95f4\u8303\u56f4\u5b9a\u4e49\u4e3a\u53cd\u5f39\u65e5\u671f\u3002</p> <p>\u6839\u636e CFRA Research \u7684\u53d1\u73b0\uff0c\u81ea 1945 \u5e74\u4ee5\u6765\uff0cS&amp;P 500 \u6307\u6570\uff08\u6807\u51c6\u666e\u5c14 500 \u6307\u6570\uff09\u5728\u4e00\u5e74\u7684\u6700\u540e 5 \u4e2a\u4ea4\u6613\u65e5\u548c\u65b0\u5e74\u7684\u524d\u4e24\u4e2a\u4ea4\u6613\u65e5\u5747\u5b9e\u73b0\u4e86\u6b63\u56de\u62a5\uff0c\u8fd9\u4e03\u5929\u4e2d\u6709 79.2%\u7684\u65f6\u95f4\u80a1\u7968\u4ef7\u683c\u5448\u73b0\u4e0a\u6da8\u8d8b\u52bf\u3002\u300a\u80a1\u7968\u4ea4\u6613\u8005\u5e74\u9274\u300b\u6c47\u7f16\u4e86\u4ece 1950 \u5e74\u5230 2022 \u5e74\u7684\u6570\u636e\uff0c\u663e\u793a Santa Claus Rally \u53d1\u751f\u4e86 58 \u6b21\uff08\u7ea6\u5360\u6240\u6709\u5e74\u4efd\u7684 80%\uff09\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#_2","title":"\u4e0a\u6da8\u884c\u60c5\u51fa\u73b0\u539f\u56e0","text":"<p>J.P. Morgan \u8868\u793a\uff1a\u6295\u8d44\u8005\u5728\u5e86\u795d\u8282\u65e5\u65f6\u7684\u4e50\u89c2\u60c5\u7eea\uff0c\u5229\u7528\u8282\u65e5\u5956\u91d1\u8fdb\u884c\u6295\u8d44\uff0c\u5e74\u7ec8\u7a0e\u6536\u8003\u91cf\u4ee5\u53ca\u5e74\u672b\u6d88\u8d39\u8005\u4fc3\u9500\u7b49\uff0c\u90fd\u53ef\u80fd\u662f Santa Claus Rally \u51fa\u73b0\u7684\u539f\u56e0\u3002\u6709\u4e00\u90e8\u5206\u7406\u8bba\u548c\u6469\u6839\u5927\u901a\u7684\u89c2\u70b9\u76f8\u4f3c\uff0c\u4f46\u4e5f\u6709\u53e6\u4e00\u79cd\u7406\u8bba\u8ba4\u4e3a\uff0c\u8fd9\u662f\u4e00\u5e74\u4e2d\u673a\u6784\u6295\u8d44\u8005\u4f11\u5047\u7684\u65f6\u95f4\uff0c\u5c06\u5e02\u573a\u7559\u7ed9\u6563\u6237\u6295\u8d44\u8005\u800c\u4ed6\u4eec\u5f80\u5f80\u66f4\u770b\u6da8\u3002</p> <p>\u8fd9\u91cc\u60f3\u989d\u5916\u63d0\u4e00\u4e0b\u6709\u5173\u201c\u6d88\u8d39\u60c5\u51b5\u201d\u7684\u80cc\u666f\u3002\u5728\u611f\u6069\u8282\u4e4b\u540e\u7684\u661f\u671f\u4e94\uff08\u7ea6\u4e3a 11 \u6708 24 \u65e5\uff09\u5728\u56fd\u5916\u88ab\u79f0\u4e3a\u201c\u9ed1\u4e94\u201d\uff0c\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u65fa\u76db\u7684\u6d88\u8d39\u9700\u6c42\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u4f1a\u63d0\u9ad8\u516c\u53f8\u4e1a\u7ee9\uff0c\u5c24\u5176\u662f\u96f6\u552e\u4e1a\uff0c\u4ece\u800c\u62c9\u9ad8\u80a1\u4ef7\u3002\u540c\u65f6\uff0c\u80a1\u5e02\u7684\u4fe1\u606f\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\u8fdb\u884c\u8c03\u6574\uff0c\u540c\u65f6\u4e5f\u6709\u591a\u671f\u51b2\u51fb\u7684\u7279\u70b9\uff08\u5373 t-2 \u671f\u7684\u56e0\u5b50\u4e5f\u4f1a\u5bf9 t \u671f\u56e0\u5b50\u4ea7\u751f\u5f71\u54cd\uff09\uff0c\u56e0\u6b64\u8fd9\u79cd\u5f71\u54cd\u5927\u6982\u7387\u4f1a\u6301\u7eed\u5230\u5723\u8bde\u8282\u3002</p> <p>\u6211\u4eec\u4e5f\u731c\u6d4b\u6295\u8d44\u8005\u7684\u5fc3\u7406\u6697\u793a\u4e5f\u4f1a\u4fc3\u6210\u8fd9\u4e2a\u4e0a\u6da8\u8d8b\u52bf\u3002Yale Hirsch \u7ecf\u5e38\u5f15\u7528\u8fd9\u6837\u4e00\u53e5\u8bdd\uff1a\u201cIf Santa Claus should fail to call, bears may come to Broad And Wall\"\uff0c\u610f\u601d\u5c31\u662f\u5982\u679c Santa Claus Rally \u4e0d\u51fa\u73b0\uff0c\u672a\u6765\u90a3\u4e00\u5e74\u7684\u6295\u8d44\u60c5\u51b5\u4e0d\u4f1a\u5f88\u4e50\u89c2\u3002\u6240\u4ee5\u5982\u679c\u5e02\u573a\u53cd\u6620\u51fa\u4e00\u70b9\u7684\u4e50\u89c2\u60c5\u7eea\uff0c\u4f1a\u52a0\u5267\u4e0a\u6da8\u884c\u60c5\uff0c\u53cd\u4e4b\u5219\u4f1a\u6709\u6240\u6076\u5316\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#santa-claus-rally","title":"Santa Claus Rally \u5386\u53f2\u884c\u60c5","text":"","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#santa-claus-rally_1","title":"Santa Claus Rally \u8d77\u59cb\u65f6\u95f4","text":"<p>\u5173\u4e8e Santa Claus Rally \u5f00\u59cb\u7684\u786e\u5207\u65f6\u95f4\u5176\u5b9e\u662f\u5b58\u5728\u4e89\u8bae\u7684\u3002\u5927\u591a\u6570\u6295\u8d44\u8005\u8ba4\u4e3a\u4e0a\u6da8\u8d8b\u52bf\u59cb\u4e8e\u5723\u8bde\u8282\u524d\u4e00\u5468\uff0c\u800c\u4e5f\u6709\u4e00\u4e9b\u4eba\u8ba4\u4e3a\u65f6\u95f4\u533a\u95f4\u662f\u4ece\u5723\u8bde\u8282\u5f00\u59cb\uff0c\u5ef6\u4f38\u81f3 1 \u6708 2 \u65e5\u3002\u5c3d\u7ba1\u5b58\u5728\u65f6\u95f4\u754c\u5b9a\u7684\u4e89\u8bae\uff0c\u4f46\u80a1\u5e02\u7684\u6301\u7eed\u4e0a\u6da8\u8d8b\u52bf\u5374\u662f\u4e0d\u53ef\u4e89\u8bae\u7684\u4e8b\u5b9e\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#12","title":"12 \u6708\u60c5\u51b5","text":"<p>\u5f53\u6295\u8d44\u8005\u8003\u8651 S&amp;P 500 \u5728 2002 \u5e74\u81f3 2022 \u5e74 12 \u6708 25 \u65e5\u524d\u4e00\u5468\u7684 20 \u5e74\u8868\u73b0\u65f6\uff0c\u51e0\u4e4e\u6ca1\u6709\u8bc1\u636e\u8868\u660e\u4f1a\u51fa\u73b0 Santa Claus Rally \u7684\u8ff9\u8c61\u3002\u6211\u4eec\u53c2\u8003\u4e0b\u56fe\u53ef\u4ee5\u53d1\u73b0\uff0c\u867d\u7136\u6709 13 \u5e74\u7684\u56de\u62a5\u7387\u4e3a\u6b63\uff0c\u4f46\u4e5f\u6709 5 \u5e74\u7684\u56de\u62a5\u7387\u4e3a\u8d1f\uff0c2 \u5e74\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\u3002\u867d\u7136\u5927\u90e8\u5206\u6295\u8d44\u8005\u4f1a\u5c06\u5723\u8bde\u8282\u524d\u51e0\u5468\u80a1\u7968\u4e0a\u6da8\u4e5f\u5f52\u4e8e Santa Claus Rally\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u80fd\u5bf9 12 \u6708\u62b1\u6709\u8fc7\u4e8e\u4e50\u89c2\u7684\u60c5\u7eea\uff0c\u6bd5\u7adf\u5386\u53f2\u8fd8\u662f\u5b58\u5728\u6536\u76ca\u7387\u4e3a\u8d1f\u7684\u60c5\u51b5\u3002</p> <p></p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#1","title":"1 \u6708\u60c5\u51b5","text":"<p>\u6839\u636e Yale Hirsch \u7684\u8bf4\u6cd5\uff0c1 \u6708\u4efd\u7684\u524d\u4e24\u4e2a\u4ea4\u6613\u65e5\u5305\u542b\u5728 Santa Claus Rally \u4e4b\u4e2d\u3002\u6295\u8d44\u8005\u53ef\u80fd\u4f1a\u5728\u9884\u671f 1 \u6708\u4efd\u80a1\u4ef7\u4e0a\u6da8\u7684\u60c5\u51b5\u4e0b\u8d2d\u4e70\u80a1\u7968\uff0c\u4f53\u73b0\u4e3a\u79ef\u6781\u7684\u60c5\u7eea\uff0c\u8fd9\u4e5f\u79f0\u4e3a 1 \u6708\u6548\u5e94\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#_3","title":"\u6807\u666e\u6307\u6570\u7684\u53cd\u6a21\u5f0f","text":"<p>\u867d\u7136\u5386\u53f2\u6570\u636e\u4f3c\u4e4e\u652f\u6301\u201cSanta Claus Rally\u201d\u7684\u7ed3\u8bba\u4ee5\u53ca\u5b83\u53ef\u80fd\u9884\u793a\u7740\u672a\u6765\u4e00\u5e74\u7684\u60c5\u51b5\uff0c\u4f46\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fc7\u53bb\u7684\u8868\u73b0\u5e76\u4e0d\u4e00\u5b9a\u662f\u672a\u6765\u56de\u62a5\u7684\u9884\u6d4b\u6307\u6807\uff0c\u800c\u4e14\u5e76\u975e\u6240\u6709\u5e74\u4efd\u90fd\u9075\u5faa\u8fd9\u4e00\u8d8b\u52bf\u3002</p> <p>\u4f8b\u5982\uff1a\u5728 2015 \u5e74\u5e74\u672b\u6536\u76ca\u7387\u4e3a\u8d1f\uff0c\u4f46\u662f S&amp;P 500 \u5728 2016 \u7684\u6536\u76ca\u7387\u4e3a+12%\uff1b\u5c3d\u7ba1\u5728 2021 \u5e74\u5730\u51fa\u73b0\u4e86 Santa Claus Rally\uff08\u5373\u80a1\u4ef7\u4e0a\u6da8\uff09\uff0c\u4f46 S&amp;P 500 \u5728 2022 \u5e74\u6536\u76ca\u7387\u4e3a\u8d1f\uff0c\u751a\u81f3\u662f\u8fd9\u51e0\u5e74\u6700\u4f4e\u6536\u76ca\u7387\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u65e2\u8981\u5173\u6ce8\u5723\u8bde\u884c\u60c5\u51fa\u73b0\u7684\u53ef\u80fd\u6027\uff0c\u4f46\u4e5f\u8981\u660e\u767d\uff0c\u5b83\u6709\u4e00\u5b9a\u7684\u968f\u673a\u6027\u3002\u5b83\u4e0d\u662f\u72ee\u5b50\u5ea7\u6d41\u661f\u96e8\uff0c\u6bcf\u5e74 11 \u6708\u5c31\u4e00\u5b9a\u4f1a\u51fa\u73b0\u3002\u786e\u5b9a\u4f1a\u6765\u7684\uff0c\u53ea\u6709\u5723\u8bde\u8001\u4eba\uff0c\u5982\u679c\u4f60\u662f\u90a3\u4e2a\u4e56\u5b69\u5b50\u7684\u8bdd\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#merry-christmas-and-happy-new-year","title":"Merry Christmas And Happy New Year!","text":"<p>A \u80a1\u4e5f\u6709\u7c7b\u4f3c\u7684\u884c\u60c5\uff0c\u4e00\u822c\u79f0\u4e4b\u4e3a\u6625\u8282\u884c\u60c5\u3002\u636e\u7edf\u8ba1\uff0c\u51fa\u73b0\u6625\u8282\u884c\u60c5\u7684\u6982\u7387\u5728 80%\u4ee5\u4e0a\uff0c\u4f46\u662f\uff0c\u6625\u8282\u884c\u60c5\u5f00\u59cb\u7684\u65f6\u95f4\u4e0d\u786e\u5b9a\u3002\u6709\u4ece 12 \u6708\u4e2d\u65ec\u5f00\u59cb\u7684\uff0c\u4e5f\u6709\u4ece 1 \u6708\u540e\u7684\uff1b\u6709\u6625\u8282\u524d\u7ed3\u675f\u7684\uff0c\u4e5f\u6709\u6301\u7eed\u5230\u4e24\u4f1a\u671f\u95f4\u7684\u3002</p> <p></p>","tags":["strategy"]},{"location":"blog/archive/2024/","title":"2024","text":""},{"location":"blog/archive/2023/","title":"2023","text":""},{"location":"blog/category/quantlib/","title":"quantlib","text":""},{"location":"blog/category/strategy/","title":"strategy","text":""},{"location":"blog/category/xtquant/","title":"xtquant","text":""},{"location":"blog/category/factor/","title":"factor","text":""},{"location":"blog/category/strategies/","title":"strategies","text":""},{"location":"blog/category/python/","title":"python","text":""},{"location":"blog/page/2/","title":"Index","text":""},{"location":"blog/archive/2023/page/2/","title":"2023","text":""},{"location":"tags/","title":"\u6807\u7b7e","text":""},{"location":"tags/#algorithm","title":"algorithm","text":"<ul> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#algorithms","title":"algorithms","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#factor","title":"factor","text":"<ul> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>Sharpe 5.5!\u9057\u61be\u89c4\u907f\u56e0\u5b50</li> </ul>"},{"location":"tags/#h5py","title":"h5py","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#hdf5","title":"hdf5","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#machine-learning","title":"machine learning","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#parquet","title":"parquet","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#pyarrow","title":"pyarrow","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#python","title":"python","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quant","title":"quant","text":"<ul> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quantlib","title":"quantlib","text":"<ul> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> <li>QMT/XtQuant \u4e4b\u5f00\u53d1\u73af\u5883\u7bc7</li> </ul>"},{"location":"tags/#sklearn","title":"sklearn","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#strategy","title":"strategy","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> <li>\u7f8a\u7fa4\u6548\u5e94\u53ca\u5176\u56e0\u5b50\u5316</li> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>Santa Claus Rally</li> </ul>"},{"location":"tags/#tutorial","title":"tutorial","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#xtquant","title":"xtquant","text":"<ul> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>xtquant \u4e2d\u7684\u677f\u5757\u6570\u636e</li> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"},{"location":"tags/#_2","title":"\u6280\u672f\u6307\u6807","text":"<ul> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> </ul>"},{"location":"tags/#_3","title":"\u6570\u636e\u6e90","text":"<ul> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"}]}