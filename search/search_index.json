{"config":{"lang":["zh"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Home","text":"\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8 <p>\u5728\u4eca\u5e741\u67082\u65e5\u548c1\u67083\u65e5\uff0c\u65c5\u6e38\u677f\u5757\u4e24\u652f\u4e2a\u80a1\u5148\u540e\u6da8\u505c\uff0c\u6b64\u540e\u4e00\u652f\u6708\u5185\u4e09\u500d\uff0c\u53e6\u4e00\u652f\u8fde\u7eed6\u4e2a\u6da8\u505c\u3002\u4e8b\u540e\u590d\u76d8\uff0c\u6211\u4eec\u5982\u4f55\u57281\u67082\u65e5\u7b2c\u4e00\u652f\u4e2a\u80a1\u6da8\u505c\u4e4b\u540e\uff0c\u901a\u8fc7\u91cf\u5316\u5206\u6790\uff0c\u627e\u51fa\u7b2c\u4e8c\u652f\u80a1\uff1f!!! warning    \u65e0\u8bba\u590d\u76d8\u591a\u4e48\u7cbe\u5f69\uff0c\u8bf7\u6ce8\u610f\uff0c\u672c\u6587\u5199\u4f5c\u7684\u76ee\u7684\u53ea\u662f\u5206\u4eab\u91cf\u5316\u6280\u672f\uff1a\u5982\u4f55\u8fdb\u884c\u76f8\u5173\u6027\u5206\u6790\u3002...</p> <p>2024-03-07</p> \u91cf\u5316\u4eba\u5982\u4f55\u7528\u597d Jupyter\uff1f\uff08\u4e8c\uff09 <p>\u5f53\u6211\u4eec\u4f7f\u7528 Jupyter \u65f6\uff0c\u5f88\u663e\u7136\u6211\u4eec\u7684\u4e3b\u8981\u76ee\u7684\u662f\u63a2\u7d22\u6570\u636e\u3002\u8fd9\u7bc7\u6587\u7ae0\u5c06\u4ecb\u7ecd\u5982\u4f55\u5229\u7528 JupySQL \u6765\u8fdb\u884c\u6570\u636e\u67e5\u8be2--\u751a\u81f3\u4ee3\u66ff\u4f60\u6b63\u5728\u4f7f\u7528\u7684 Navicat, dbeaver \u6216\u8005 pgAdmin\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u5c06\u4ecb\u7ecd\u5982\u4f55\u66f4\u654f\u6377\u5730\u63a2\u7d22\u6570\u636e\uff0c\u76f8\u4fe1\u8fd9\u4e9b\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u4f60\u7701\u4e0b 90%\u7684 c...</p> <p>2024-03-05</p> \u91cf\u5316\u4eba\u5982\u4f55\u7528\u597dJupyter\u73af\u5883\uff1f\uff08\u4e00\uff09 <p>\u7f51\u4e0a\u6709\u5f88\u591ajupyter\u7684\u4f7f\u7528\u6280\u5de7\u3002\u4f46\u6211\u76f8\u4fe1\uff0c\u8fd9\u7bc7\u6587\u7ae0\u4f1a\u8ba9\u4f60\u5168\u9762\u6da8\u59ff\u52bf\u3002\u5f88\u591a\u7528\u6cd5\uff0c\u4f60\u5e94\u8be5\u6ca1\u89c1\u8fc7\u3002- \u663e\u793a\u591a\u4e2a\u5bf9\u8c61\u503c- \u9b54\u6cd5\uff1a%precision %psource %lsmagic %quickref\u7b49- vscode\u4e2d\u7684interactive window---...</p> <p>2024-03-04</p> \u4e3a\u4ec0\u4e48\u91cf\u5316\u4eba\u5e94\u8be5\u4f7f\u7528duckdb\uff1f <p>\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4ecb\u7ecd\u4e86\u901a\u8fc7duckdb\uff0c\u4f7f\u7528SQL\u8fdb\u884cDataFrame\u7684\u64cd\u4f5c\u3002\u6211\u4eec\u8fd8\u7279\u522b\u4ecb\u7ecd\u4e86\u5b83\u72ec\u6709\u7684 **Asof Join** \u529f\u80fd\uff0c\u7531\u4e8e\u91cf\u5316\u4eba\u5e38\u5e38\u5904\u7406\u8de8\u5468\u671f\u884c\u60c5\u5bf9\u9f50\uff0c\u8fd9\u4e00\u529f\u80fd\u56e0\u6b64\u683c\u5916\u5b9e\u7528\u3002\u4f46\u662fduckdb\u7684\u597d\u624b\u6bb5\uff0c\u4e0d\u6b62\u5982\u6b64\u3002* \u5b8c\u5168\u66ff\u4ee3sqlite\uff0c\u4f46\u547d\u4ee4\u96c6\u751a\u81f3\u8d85\u8fc7\u4e86Postgres* \u6613\u7528\u6027\u6781\u4f73* \u6027\u80fd\u602a\u517d\u4f5c\u4e3a\u53c8\u4e00\u6b3e\u6765\u81ea\u4eba\u70df\u7a00\u5c11\u7684\u8377\u5170\u7684\u8f6f\u4ef6\uff0c\u5317\u5883\u8fd9\u4e00\u82e6\u5bd2\u4e4b\u5730\uff0c\u518d\u4e00\u6b21\u8ba9\u4eba\u60ca\u559c\u3002\u79d1\u6280\u7684\u4e8b\u513f\uff0c\u771f\u662f\u5806\u4eba\u6ca1\u7528\u3002</p> <p>2024-02-01</p> \u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe! <p>\u5bf9\u6709\u4e00\u5b9aSQL\u57fa\u7840\u7684\u4eba\u6765\u8bf4\uff0cpandas\u4e2d\u7684\u67e5\u8be2\u4f1a\u6709\u70b9\u7e41\u7410\u3002\u5728\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u4eec\u5c06\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u5728\u7528SQL\u65b9\u4fbf\u7684\u5730\u65b9\uff0c\u6211\u4eec\u7528SQL\uff1b\u5728\u7528\u539f\u751f\u67e5\u8be2\u65b9\u4fbf\u7684\u5730\u65b9\uff0c\u6211\u4eec\u5c31\u7528\u539f\u751f\u67e5\u8be2\u3002\u8fd9\u4e2a\u642d\u5b50\u4f1a\u662f\u8c01\u5462\uff1f</p> <p>2024-01-29</p> \u6539\u7528\u5341\u8fdb\u5236\uff01\u70b9\u5dee\u5982\u4f55\u5f71\u54cd\u7b56\u7565 <p>\u7b14\u8bb0[\u5de6\u6570\u6548\u5e94\u3001\u6574\u6570\u5173\u53e3\u4e0e\u5149\u6298\u5c04](http://www.jieyu.ai/blog/2024/01/23/left-side-effect-integer-pressure/)\u4e2d\u5f15\u7528\u4e86\u5357\u52a0\u5dde\u5927\u5b66Lawrence Harris\u7684[\u4e00\u7bc7\u8bba\u6587](/assets/ebooks/Stock-price-clustering-and-price-discreteness.pdf)\u4e2d\uff0c\u54c8\u7406\u65af\u7814\u7a76\u4e86\u4ea4\u6613\u4ef7\u683c\u7684\u805a\u7c7b\u6548\u5e94\u3002\u805a\u7c7b\u6548\u5e94\u5bf9\u6211\u4eec\u786e\u5b9a\u538b\u529b\u4f4d\u3001\u5b8c\u5584\u4e0b\u5355\u7b97\u6cd5\u90fd\u6709\u4e00\u5b9a\u7684\u5f71\u54cd\u3002\u4f46\u662f\uff0c2001\u5e74\uff0c\u7f8e\u80a1\u53d8\u66f4\u4ea4\u6613\u5236\u5ea6\uff0c\u7531\u5206\u6570\u5236\u5207\u6362\u4e3a\u5341\u8fdb\u5236\u3002\u8fd9\u4e2a\u53d8\u5316\u5c31\u5bfc\u81f4\u4e86\u4ed6\u7684\u7814\u7a76\u7ed3\u8bba**\u4f5c\u5e9f**\u3002</p> <p>2024-01-26</p> \u6765\u81ea\u4e16\u5764\uff01\u5bfb\u627eAlpha \u6784\u5efa\u4ea4\u6613\u7b56\u7565\u7684\u91cf\u5316\u65b9\u6cd5 <p>\u95ee\uff1a\u5e38\u5e38\u770b\u5230\u6709\u4eba\u8bf4Alpha seeking\uff0c\u8fd9\u7a76\u7adf\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u81ea\u5df1\u56de\u7b54\u4e0d\u5982\u63a8\u8350\u4e00\u672c\u4e66\uff1a\u300aFinding Alphas: A Quantitative Approach to Building Trading Strategies\u300b\uff0c\u5b83\u7684\u9898\u76ee\u6b63\u597d\u5c31\u662f\u5bfb\u627eAlpha\u3002\u6211\u62ff\u5230\u7684PDF\u662f2019\u5e74\u7684\u7b2c\u4e8c\u7248\u3002\u6765\u81eaWorldQuant\uff08\u4e16\u5764\uff09\u7684Igor Tulchinshky\u7b49\u4eba\uff0cIgor Tulchinshky\u662f\u4e16\u5764\u7684\u521b\u59cb\u4eba\u3002</p> <p>2024-01-25</p> \u5de6\u6570\u6548\u5e94 \u6574\u6570\u5173\u53e3\u4e0e\u5149\u6298\u5c04 <p>\u5e38\u5e38\u6709\u4eba\u95ee\uff0c\u65b0\u7684\u56e0\u5b50/\u7b56\u7565\u4ece\u54ea\u91cc\u6765\uff1f\u4eca\u5929\u7684\u7b14\u8bb0\u6216\u8bb8\u80fd\u542f\u53d1\u4f60\u7684\u601d\u8def\u3002\u4ece1932\u5e74\u8d77\uff0c\u7814\u7a76\u4eba\u5458\u5c31\u6ce8\u610f\u5230\u4ee59\u7ed3\u5c3e\u7684\u4ef7\u683c\uff08\u6bd4\u5982\\$3.99\uff09\uff0c\u5728\u6d88\u8d39\u8005\u7684\u8ba4\u77e5\u4e2d\uff0c\u8981\u8fdc\u8fdc\u5c0f\u4e8e\u90bb\u8fd1\u7684\u6574\u6570\u4ef7\u683c\uff08\\$4.00\uff09\u3002\u540e\u6765\u8fd9\u4e00\u6548\u5e94\u88ab\u79f0\u4e3a left-digit effect\u3002\u5728\u8bc1\u5238\u4ea4\u6613\u4e2d\uff0c\u7c7b\u4f3c\u7684\u60c5\u51b5\u4e00\u6837\u5b58\u5728\uff0c\u4e0d\u8fc7\u5b83\u7684\u8868\u73b0\u5f62\u5f0f\u662f\u6574\u6570\u5173\u53e3\u538b\u529b\u3002</p> <p>2024-01-24</p> \u9f99\u51e4\u5448\u7965\uff1a\u8fd9\u79cd\u65e0\u5e95\u9650\u7092\u4f5c\uff0c\u5982\u4f55\u7528\u91cf\u5316\u65b9\u6cd5\u53d1\u73b0\u5b83\uff1f <p>\u4f5c\u4e3a\u91cf\u5316\u4eba\uff0c\u6211\u4eec\u654f\u9510\u5730\u89c2\u5bdf\u5e02\u573a\uff0c\u4e0d\u653e\u8fc7\u4efb\u4f55\u4e00\u4e2a\u53ef\u80fd\u4ea7\u751f\u5229\u6da6\u7684\u673a\u4f1a\u3002\u4e00\u65e6\u53d1\u73b0\u8fd9\u6837\u7684\u673a\u4f1a\uff0c\u6211\u4eec\u51b3\u4e0d\u4f1a\u5728\u4e4e\u5176\u5b83\u4eba\u600e\u4e48\u770b\u600e\u4e48\u60f3\uff0c\u4e66\u4e0a\u6709\u6ca1\u6709\u8fd9\u4e48\u8bb2\u3002**\u4f46\u662f\uff0c\u5927\u80c6\u5047\u8bbe\uff0c\u5c0f\u5fc3\u6c42\u8bc1\u3002**\u4eca\u5929\u5e26\u6765\u7684\u56e0\u5b50\uff0c\u633a\u9b54\u5e7b\u7684\uff0c\u6211\u628a\u5b83\u53eb\u505a\u9b54\u6027\u6c49\u5b57\u3002\u5982\u679c\u4f60\u96be\u4ee5\u63a5\u53d7\u8fd9\u79cd\u65e0\u5e95\u7ebf\u7684\u7092\u4f5c\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u6362\u4e00\u4e2a\u540d\u5b57\uff1a\u53e6\u7c7b\u56e0\u5b50\u3002</p> <p>2024-01-23</p> \u91cf\u5316\u7814\u7a76\u5458\u5982\u4f55\u5199\u4e00\u624b\u597d\u4ee3\u7801 <p>\u5373\u4f7f\u662fQuant Research\uff0c \u5199\u4e00\u624b\u9ad8\u8d28\u91cf\u7684\u4ee3\u7801\u4e5f\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u518d\u597d\u7684\u601d\u8def\uff0c\u5982\u679c\u4e0d\u80fd\u6b63\u786e\u5730\u5b9e\u73b0\uff0c\u90fd\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u53ea\u6709\u6b63\u786e\u5b9e\u73b0\u4e86\u3001\u901a\u8fc7\u56de\u6d4b\u68c0\u9a8c\u8fc7\u4e86\uff0c\u624d\u80fd\u7b97\u662f\u771f\u6b63\u505a\u51fa\u6765\u4e86\u7b56\u7565\u3002\u5199\u4e00\u624b\u9ad8\u8d28\u91cf\u7684\u4ee3\u7801\u7684\u610f\u4e49\uff0c\u5bf9Quant developer\u6765\u8bb2\u5c31\u66f4\u662f\u81ea\u4e0d\u5f85\u8a00\u4e86\u3002\u8fd9\u7bc7notebook\u7b14\u8bb0\u5c31\u4ecb\u7ecd\u4e00\u4e9bpython best practice\u3002</p> <p>2024-01-18</p> ClickHouse: One table to rule them all! <p>\u524d\u9762\u51e0\u7bc7\u7b14\u8bb0\u6211\u4eec\u8ba8\u8bba\u4e86\u5b58\u50a8\u6d77\u91cf\u884c\u60c5\u6570\u636e\u7684\u4e2a\u4eba\u6280\u672f\u65b9\u6848\u3002\u5b83\u4eec\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e4b\u4e3a\u4e2a\u4eba\u65b9\u6848\uff0c\u5e76\u4e0d\u662f\u56e0\u4e3a\u6027\u80fd\u5f31\uff0c\u800c\u662f\u6307\u5728\u8fd9\u4e9b\u65b9\u6848\u4e2d\uff0c\u6570\u636e\u90fd\u5b58\u50a8\u5728\u672c\u5730\uff0c\u4e5f\u53ea\u9002\u5408\u5355\u673a\u67e5\u8be2\u3002\u6570\u636e\u6e90\u5f88\u8d35 -- \u5728\u8fd9\u4e2a\u51ac\u5929\uff0c\u6211\u4eec\u5df2\u7ecf\u542c\u8bf4\uff0c\u67d0\u4e9b\u4e0a\u4e86\u89c4\u6a21\u7684\u673a\u6784\uff0c\u4e5f\u5728\u8ba9\u5458\u5de5\u5171\u4eab\u4e07\u5f97\u8d26\u53f7\u4e86\u3002\u6240\u4ee5\uff0c\u5171\u4eab\u7f51\u7edc\u5b58\u50a8\uff0c\u4ece\u800c\u53ea\u9700\u8981\u4e00\u4e2a\u6570\u636e\u8d26\u53f7\uff0c\u5c31\u6210\u4e3a\u5408\u7406\u7684\u9700\u6c42\u3002\u66f4\u4e0d\u5fc5\u8bf4\uff0c\u96c6\u4e2d\u7ba1\u7406\u624d\u53ef\u80fd\u8ba9 IT \u6765\u8fdb\u884c\u6570\u636e\u7ef4\u62a4\uff0c\u800c\u5206\u6790\u5e08\u53ea\u9700\u8981\u4e13\u6ce8\u4e8e\u7b56\u7565\u5c31\u597d\u3002</p> <p>2024-01-17</p> \u627e\u6821\u53cb\uff01\u8d77\u5e95\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba <p>\u56fd\u5185\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba\u7684\u6bd5\u4e1a\u5b66\u6821\u65b0\u9c9c\u51fa\u7089\uff0c\u6709\u6ca1\u6709\u4f60\u7684\u6821\u53cb\uff1f\u4ece\u4e13\u4e1a\u4e0a\u770b\uff0c\u6570\u5b66\uff08\u5305\u62ec\u7edf\u8ba1\u3001\u91d1\u878d\u6570\u5b66\uff09\u3001\u8ba1\u7b97\u673a\uff08\u542b\u7535\u5b50\u4fe1\u606f\u3001\u8f6f\u4ef6\uff09\u3001\u7269\u7406\u662f\u5206\u5e03\u6700\u591a\u7684\u4e13\u4e1a\u3002\u4f46\u4e5f\u51fa\u73b0\u4e86\u6587\u79d1\u4e13\u4e1a\uff08\u653f\u6cbb\u7ecf\u6d4e\u5b66\uff09\u548c\u5546\u5b66\u4e13\u4e1a\u3002\u4ece\u5730\u57df\u5206\u5e03\u4e0a\u770b\uff0c\u4eac\u3001\u6caa\u3001\u6d59\u9886\u5148\uff0c\u4e2d\u90e8\u5730\u533a\u4ec5\u6709\u6c5f\u897f\u8d22\u7ecf\u5927\u5b66\u4e3a\u4ee3\u8868\uff0c\u897f\u90e8\u5730\u533a\u4ec5\u6709\u56db\u5ddd\u5927\u5b66\u548c\u897f\u5b89\u4ea4\u5927\u4e24\u6240\u9ad8\u6821\u5165\u56f4\u3002</p> <p>2024-01-16</p>"},{"location":"authors/","title":"Authors","text":""},{"location":"authors/#credits","title":"Credits","text":""},{"location":"authors/#development-lead","title":"Development Lead","text":"<ul> <li>Aaron Yang code@jieyu.ai</li> </ul>"},{"location":"authors/#contributors","title":"Contributors","text":"<p>None yet. Why not be the first?</p>"},{"location":"contact/","title":"Follow Us","text":""},{"location":"contact/#5","title":"\u91cf\u5316\u98ce\u4e91@\u5c0f\u7ea2\u4e66 \uff085\u4e07\u7c89\uff09","text":"<p>\u6211\u4eec\u5728\u5c0f\u7ea2\u4e66\u4e0a\u6709\u63a5\u8fd15\u4e07\u4eba\u5173\u6ce8\uff0c\u662f\u91cf\u5316\u9886\u57df\u7b2c\u4e00IP\u3002\u641c\u7d22\u91cf\u5316\u98ce\u4e91\uff0c\u6309\u7528\u6237\u6392\u5e8f\uff0c\u7b2c\u4e00\u4e2a\u5c31\u662f\u6211\u4eec\u3002\u6b22\u8fce\u70b9\u51fbFollow</p> <p></p>"},{"location":"contact/#_1","title":"\u91cf\u5316\u98ce\u4e91@\u516c\u4f17\u53f7","text":"<p>\u6bcf\u65e5\u66f4\u65b0\uff0c\u5185\u5bb9\u6db5\u76d6 Python \u7f16\u7a0b\u548c\u91cf\u5316\u7b56\u7565\u7814\u7a76\u3001\u91cf\u5316\u6846\u67b6\u5f00\u53d1\u3002\u901a\u8fc7\u516c\u4f17\u53f7\uff0c\u53ef\u4ee5\u53ca\u65f6\u83b7\u5f97\u6211\u4eec\u7684\u5185\u5bb9\u66f4\u65b0\uff0c\u8054\u7cfb\u5230\u8bfe\u7a0b\u52a9\u7406\u3002</p> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u81ea\u52a9\u6d88\u606f\uff0c\u53d1\u9001\"\u8d44\u6e90\" \u4e00\u8bcd\uff0c\u83b7\u53d6\u4ee5\u4e0b\u8d44\u6e90\u7f51\u76d8\u94fe\u63a5\uff1a</p> <ol> <li>\u5386\u5e74\u91cf\u5316\u76f8\u5173\u7814\u62a5\u7ea6100\u4efd</li> <li>151\u4e2a\u91cf\u5316\u7b56\u7565pdf</li> <li>\u91cf\u5316\u5165\u95e8\u7535\u5b50\u4e66</li> </ol>"},{"location":"contact/#_2","title":"\u91cf\u5316\u98ce\u4e91@\u77e5\u4e4e \uff08\u4e07\u7c89\uff09","text":"<p>\u6211\u4eec\u5728\u77e5\u4e4e\u4e0a\u67091.2\u4e07\u7c89\u4e1d\u3002\u6b22\u8fce\u70b9\u51fbFollow</p>"},{"location":"contact/#qq","title":"\u5343\u4ebaQQ\u7fa4","text":"<p>1000\u591a\u91cf\u5316\u4eba\u6b63\u5728 QQ\u7fa4 \u91cc\u7b49\u4f60\uff01</p>"},{"location":"contact/#github","title":"Github","text":"<p>\u60a8\u4e5f\u53ef\u4ee5\u5728Github\u4e0aFollow Us\u3002</p>"},{"location":"free-resources/","title":"\u798f\u5229","text":""},{"location":"free-resources/#qmt","title":"\u514d\u8d39\u5f00\u901a QMT \u91cf\u5316\u6743\u9650","text":"<p>\u73b0\u5728\u8d77\uff0c\u65e0\u8bba\u65b0\u8001\u7528\u6237\uff0c\u90fd\u53ef\u4ee5\u514d\u8d39\u7533\u8bf7\u5f00\u901a\u91cf\u5316\u6743\u9650\uff0c\u8d5a\u9001QMT\u91cf\u5316\u8f6f\u4ef6\u548c\u4f7f\u7528\u6307\u5bfc\uff0c\u540d\u989d\u6709\u9650\uff0c\u8bf7\u8054\u7cfb quantfans_99 (\u5bbd\u7c89)! </p> <p>\u4e8c\u7ef4\u7801\u5728\u4e0b\u9762\u3002</p>"},{"location":"free-resources/#_1","title":"\u514d\u8d39\u91cf\u5316\u7814\u7a76\u73af\u5883","text":"<p>\u6211\u4eec\u5f00\u653e\u4e86\u4e00\u4e2a\u5728\u7ebf\u91cf\u5316\u73af\u5883\uff0c\u4e5f\u662f\u6211\u4eec\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u91d1\u878d\u5b9e\u6218\u8bfe\u300b\u7684\u5b9e\u9a8c\u73af\u5883\u3002</p> <p>\u8fd9\u4e2a\u73af\u5883\u4e2d\uff0c\u63d0\u4f9b\u4e862005\u5e74\u4ee5\u6765\u8d85\u8fc730\u4ebf\u6761\u884c\u60c5\u6570\u636e\uff08\u5206\u949f\u7ea7\u8d77\uff09\uff0c\u5b9e\u65f6\u884c\u60c5\u6570\u636e\uff085\u79d2\u5ef6\u8fdf\uff09\uff0c\u5728\u7ebf\u56de\u6d4b\u548c\u6a21\u62df\u76d8\u63a5\u53e3\uff08\u5b9e\u76d8\u9700\u8981\u53e6\u5916\u5f00\u901a\uff09\u3002</p> <p>\u73af\u5883\u7531\u4e00\u4e2a256GB\u5185\u5b58\uff0c192\u6838cpu\u7684\u96c6\u7fa4\u8fd0\u884c\u3002</p> <p>\u73af\u5883\u4e2d\u63d0\u4f9b\u4e86\u793a\u4f8b\u4ee3\u7801\u548c\u793a\u4f8b\u7b56\u7565\uff0c\u5e76\u5728\u4e0d\u65ad\u66f4\u65b0\u4e2d\u3002\u5de6\u56fe\u662f\u5728\u8be5\u73af\u5883\u4e2d\uff0c\u6211\u4eec\u63d0\u4f9b\u7684\u5eb7\u7eb3RSI\u7b56\u7565\u56de\u6d4b\u793a\u4f8b\uff08\u4ec5\u4e3a\u6f14\u793a\u91cf\u5316\u6846\u67b6\u529f\u80fd\uff0c\u975e\u6295\u8d44\u5efa\u8bae\uff01\uff09\u3002</p> <p>\u60a8\u53ef\u4ee5\u70b9\u3010\u8fd9\u91cc\u3011\u767b\u5f55\uff0c\u5bc6\u7801\u662f1234\u3002</p> <p>\u5728\u6839\u76ee\u5f55\u4e0b\u6709\u4f7f\u7528\u8bf4\u660e\uff1a</p> <p></p>"},{"location":"history/","title":"History","text":""},{"location":"history/#100a1-2020313","title":"1.0.0.a1 (2020/3/13)","text":"<ol> <li>A\u80a1\u884c\u60c5\u6570\u636e\u7684\u5b9e\u65f6\u83b7\u53d6\u53ca\u540c\u6b65\u4efb\u52a1\u3002</li> <li>\u63d0\u4f9b\u4ece2015\u5e74\u4ee5\u6765\u768430\u5206\u949f\u7ebf\u53ca\u4ee5\u4e0aK\u7ebf\u6570\u636e\u5bfc\u5165\u3002</li> <li>\u884c\u60c5\u6570\u636e\u7684\u672c\u5730\u5316\u5b58\u50a8\u53caSDK\u3002</li> <li>\u8d22\u52a1\u6570\u636e\u540c\u6b65\u3001\u672c\u5730\u5316\u5b58\u50a8\u53caSDK\u3002</li> <li>\u6570\u636e\u8bbf\u95eeSDK\u5305\u62ec\u4ee5\u4e0b\u529f\u80fd\uff1a     a. \u8bc1\u5238\u5217\u8868\u548c\u4ea4\u6613\u65e5\u5386     b. \u65f6\u95f4\u5e27\u7684\u8ba1\u7b97\u3001\u57fa\u4e8e\u65f6\u95f4\u5e27\u7684\u89e6\u53d1\u5668\uff08\u7528\u4ee5\u6839\u636e\u6536\u76d8\u65f6\u95f4\u81ea\u5b9a\u4e49\u4efb\u52a1\uff0c\u6bd4\u5982\u89e6\u53d1\u4ea4\u6613\u7b56\u7565\uff09     c. \u884c\u60c5\u6570\u636e\u8bbf\u95ee\uff1a\u5bf9\u4efb\u4f55\u4e00\u6bb5\u884c\u60c5\u6570\u636e\uff0c\u4ec5\u6709\u672a\u540c\u6b65\u5230\u672c\u5730\u7684\u6570\u636e\u624d\u4f1a\u5411\u4e0a\u6e38\u670d\u52a1\u5668\u8bf7\u6c42\uff0c\u5e76\u81ea\u52a8\u5c06\u5df2\u95ed\u5408\u7684\u6570\u636e\u5728\u672c\u5730\u7f13\u5b58\uff0c\u907f\u514d\u518d\u6b21\u5411\u4e0a\u6e38\u670d\u52a1\u5668\u8bf7\u6c42\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5bf9\u7528\u6237\u5b8c\u5168\u900f\u660e\uff0c\u65e0\u987b\u7528\u6237\u53c2\u4e0e\u3002     d. \u5e02\u503c\u6570\u636e\u8bbf\u95ee\u3002</li> <li>\u63d0\u4f9b\u5bb9\u5668\u5316\u90e8\u7f72\u7248\u672c</li> <li>\u91cf\u5316\u4ea4\u6613\u6559\u7a0b\uff080-9\uff09</li> </ol>"},{"location":"history/#010-2020-11-01","title":"0.1.0 (2020-11-01)","text":"<ul> <li>\u6587\u6863</li> </ul>"},{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2020, Aaron Yang</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"tags/","title":"\u6807\u7b7e","text":""},{"location":"tags/#alphalens","title":"Alphalens","text":"<ul> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>\u56e0\u5b50\u5206\u6790\uff083\uff09- \u90fd\u662f\u5751\uff01\u8fd9\u4e48\u7b80\u5355\u7684Alpha\u8ba1\u7b97\uff0c\u7adf\u7136\u9519\u4e86\uff1f\uff01</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(4) - Information Coefficient\u65b9\u6cd5</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> </ul>"},{"location":"tags/#cdf","title":"CDF","text":"<ul> <li>KS Test, \u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u548c\u6284\u5e95\u6caa\u6307</li> </ul>"},{"location":"tags/#jupyter","title":"Jupyter","text":"<ul> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597d Jupyter\uff1f\uff08\u4e8c\uff09</li> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597dJupyter\u73af\u5883\uff1f\uff08\u4e00\uff09</li> </ul>"},{"location":"tags/#ks-test","title":"KS-Test","text":"<ul> <li>KS Test, \u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u548c\u6284\u5e95\u6caa\u6307</li> </ul>"},{"location":"tags/#poetry","title":"Poetry","text":"<ul> <li>05 Poetry: \u9879\u76ee\u7ba1\u7406\u7684\u8bd7\u548c\u8fdc\u65b9</li> </ul>"},{"location":"tags/#python","title":"Python","text":"<ul> <li>05 Poetry: \u9879\u76ee\u7ba1\u7406\u7684\u8bd7\u548c\u8fdc\u65b9</li> </ul>"},{"location":"tags/#algorithm","title":"algorithm","text":"<ul> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#algorithms","title":"algorithms","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#blog","title":"blog","text":"<ul> <li>2024\u5e74\uff0c\u514d\u8d39\u535a\u5ba2\u8d5a\u94b1\u65b9\u6848</li> </ul>"},{"location":"tags/#books","title":"books","text":"<ul> <li>\u6765\u81ea\u4e16\u5764\uff01\u5bfb\u627eAlpha \u6784\u5efa\u4ea4\u6613\u7b56\u7565\u7684\u91cf\u5316\u65b9\u6cd5</li> </ul>"},{"location":"tags/#clickhouse","title":"clickhouse","text":"<ul> <li>ClickHouse: One table to rule them all!</li> </ul>"},{"location":"tags/#duckdb","title":"duckdb","text":"<ul> <li>\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe!</li> </ul>"},{"location":"tags/#factor","title":"factor","text":"<ul> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> </ul>"},{"location":"tags/#h5py","title":"h5py","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#hdf5","title":"hdf5","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#investing","title":"investing","text":"<ul> <li>\u6539\u7528\u5341\u8fdb\u5236\uff01\u70b9\u5dee\u5982\u4f55\u5f71\u54cd\u7b56\u7565</li> </ul>"},{"location":"tags/#jupyter-notebook","title":"jupyter-notebook","text":"<ul> <li>Jupyter Notebook\u4e2d\u5982\u4f55\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1f</li> </ul>"},{"location":"tags/#machine-learning","title":"machine learning","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#pandas","title":"pandas","text":"<ul> <li>\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe!</li> </ul>"},{"location":"tags/#parquet","title":"parquet","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#pearson","title":"pearson","text":"<ul> <li>\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8</li> </ul>"},{"location":"tags/#ppw","title":"ppw","text":"<ul> <li>05 Poetry: \u9879\u76ee\u7ba1\u7406\u7684\u8bd7\u548c\u8fdc\u65b9</li> </ul>"},{"location":"tags/#pyarrow","title":"pyarrow","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#python_1","title":"python","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u4e3a\u4ec0\u4e48\u91cf\u5316\u4eba\u5e94\u8be5\u4f7f\u7528duckdb\uff1f</li> <li>Jupyter Notebook\u4e2d\u5982\u4f55\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1f</li> <li>\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe!</li> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quant","title":"quant","text":"<ul> <li>\u6765\u81ea\u4e16\u5764\uff01\u5bfb\u627eAlpha \u6784\u5efa\u4ea4\u6613\u7b56\u7565\u7684\u91cf\u5316\u65b9\u6cd5</li> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quantlib","title":"quantlib","text":"<ul> <li>\u4e3a\u4ec0\u4e48\u91cf\u5316\u4eba\u5e94\u8be5\u4f7f\u7528duckdb\uff1f</li> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> <li>QMT/XtQuant \u4e4b\u5f00\u53d1\u73af\u5883\u7bc7</li> </ul>"},{"location":"tags/#review","title":"review","text":"<ul> <li>\u79c1\u52df\u91cf\u5316\u7b56\u7565\u5927\u76d8\u70b9-2024\u5e74\u521d</li> </ul>"},{"location":"tags/#sklearn","title":"sklearn","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#spearman","title":"spearman","text":"<ul> <li>\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8</li> </ul>"},{"location":"tags/#static-site","title":"static-site","text":"<ul> <li>2024\u5e74\uff0c\u514d\u8d39\u535a\u5ba2\u8d5a\u94b1\u65b9\u6848</li> </ul>"},{"location":"tags/#statistics","title":"statistics","text":"<ul> <li>KS Test, \u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u548c\u6284\u5e95\u6caa\u6307</li> </ul>"},{"location":"tags/#story","title":"story","text":"<ul> <li>\u627e\u6821\u53cb\uff01\u8d77\u5e95\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba</li> </ul>"},{"location":"tags/#strategy","title":"strategy","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> <li>\u7f8a\u7fa4\u6548\u5e94\u53ca\u5176\u56e0\u5b50\u5316</li> <li>\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8</li> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> <li>\u9f99\u51e4\u5448\u7965\uff1a\u8fd9\u79cd\u65e0\u5e95\u9650\u7092\u4f5c\uff0c\u5982\u4f55\u7528\u91cf\u5316\u65b9\u6cd5\u53d1\u73b0\u5b83\uff1f</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>\u5de6\u6570\u6548\u5e94 \u6574\u6570\u5173\u53e3\u4e0e\u5149\u6298\u5c04</li> <li>\u79c1\u52df\u91cf\u5316\u7b56\u7565\u5927\u76d8\u70b9-2024\u5e74\u521d</li> <li>Santa Claus Rally</li> <li>Z-score \u56e0\u5b50\u7684\u6df1\u5165\u601d\u8003</li> </ul>"},{"location":"tags/#tools","title":"tools","text":"<ul> <li>2024\u5e74\uff0c\u514d\u8d39\u535a\u5ba2\u8d5a\u94b1\u65b9\u6848</li> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597d Jupyter\uff1f\uff08\u4e8c\uff09</li> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597dJupyter\u73af\u5883\uff1f\uff08\u4e00\uff09</li> <li>\u91cf\u5316\u7814\u7a76\u5458\u5982\u4f55\u5199\u4e00\u624b\u597d\u4ee3\u7801</li> </ul>"},{"location":"tags/#xtquant","title":"xtquant","text":"<ul> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>xtquant \u4e2d\u7684\u677f\u5757\u6570\u636e</li> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"},{"location":"tags/#zscore","title":"zscore","text":"<ul> <li>Z-score \u56e0\u5b50\u7684\u6df1\u5165\u601d\u8003</li> </ul>"},{"location":"tags/#_2","title":"\u56e0\u5b50","text":"<ul> <li>\u56e0\u5b50\u5206\u6790\uff083\uff09- \u90fd\u662f\u5751\uff01\u8fd9\u4e48\u7b80\u5355\u7684Alpha\u8ba1\u7b97\uff0c\u7adf\u7136\u9519\u4e86\uff1f\uff01</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(4) - Information Coefficient\u65b9\u6cd5</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>Sharpe 5.5!\u9057\u61be\u89c4\u907f\u56e0\u5b50</li> <li>Z-score \u56e0\u5b50\u7684\u6df1\u5165\u601d\u8003</li> </ul>"},{"location":"tags/#_3","title":"\u56e0\u5b50\u5206\u6790","text":"<ul> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>\u56e0\u5b50\u5206\u6790\uff083\uff09- \u90fd\u662f\u5751\uff01\u8fd9\u4e48\u7b80\u5355\u7684Alpha\u8ba1\u7b97\uff0c\u7adf\u7136\u9519\u4e86\uff1f\uff01</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(4) - Information Coefficient\u65b9\u6cd5</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> </ul>"},{"location":"tags/#_4","title":"\u6280\u672f\u6307\u6807","text":"<ul> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> </ul>"},{"location":"tags/#_5","title":"\u6570\u636e\u6e90","text":"<ul> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"},{"location":"tags/#_6","title":"\u6da8\u505c\u677f","text":"<ul> <li>\u9f99\u51e4\u5448\u7965\uff1a\u8fd9\u79cd\u65e0\u5e95\u9650\u7092\u4f5c\uff0c\u5982\u4f55\u7528\u91cf\u5316\u65b9\u6cd5\u53d1\u73b0\u5b83\uff1f</li> </ul>"},{"location":"tags/#_7","title":"\u8bfe\u7a0b","text":"<ul> <li>\u4e8c\u5341\u56db\u8bfe\u5185\u5bb9\u8be6\u60c5</li> <li>\u5e38\u89c1\u95ee\u9898</li> <li>\u5927\u5bcc\u7fc1\u91cf\u531624\u8bfe\u7f16\u6392\u8bf4\u660e</li> <li>\u8bfe\u7a0b\u7b80\u4ecb</li> <li>\u8bfe\u7a0b\u5927\u7eb2</li> <li>\u8bfe\u7a0b\u9884\u89c8</li> </ul>"},{"location":"tags/#_8","title":"\u91cf\u5316\u4f20\u5947","text":"<ul> <li>\u627e\u6821\u53cb\uff01\u8d77\u5e95\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba</li> </ul>"},{"location":"tags/#_9","title":"\u91cf\u5316\u6570\u636e\u5b58\u50a8","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> <li>ClickHouse: One table to rule them all!</li> </ul>"},{"location":"articles/coursea/24lectures/detail/","title":"\u4e8c\u5341\u56db\u8bfe\u5185\u5bb9\u8be6\u60c5","text":"<p>\u517140\u4e07\u5b57\uff0c461\u6bb5\u8d85\u8fc77000\u884c\u4ee3\u7801\uff08\u53e6\u6709\u82e5\u5e72\u7b56\u7565\u4ee3\u7801\u4f5c\u4e3a\u798f\u5229\u8d60\u9001\uff0c\u672a\u8ba1\u5165\uff09\uff0c\u8fd9\u95e8\u8bfe\u7528\u4e00\u53e5\u8bdd\u4ecb\u7ecd\uff1a\u6db5\u76d6\u4e86\u91cf\u5316\u4ea4\u6613\u5168\u6d41\u7a0b\u3001\u5b66\u5b8c\u5c31\u80fd\u8fdb\u5165\u5b9e\u6218\u7684\u8bfe\u7a0b\u3002</p> <p>\u8fd9\u95e8\u8bfe\u7a0b\u5171\u5206\u516d\u4e2a\u90e8\u5206\uff0c24\u4e2a\u7ae0\u8282\u3002\u4e0b\u9762\u662f\u5404\u4e2a\u90e8\u5206\u53ca\u7ae0\u8282\u4e3b\u8981\u5185\u5bb9\u4ecb\u7ecd\uff0c\u4e5f\u900f\u9732\u51fa\u6211\u4eec\u5728\u9009\u9898\u4e0e\u8bfe\u7a0b\u7f16\u6392\u65b9\u9762\u7684\u8003\u8651\uff1a</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/detail/#_1","title":"\u4e00\u3001 \u6570\u636e\u4ece\u4f55\u800c\u6765","text":"<p>\u91cf\u5316\u4ea4\u6613\u7684\u524d\u63d0\u662f\u8981\u6709\u6d77\u91cf\u7684\u53ef\u9760\u6570\u636e\u3002</p> <p>\u5728\u6570\u636e\u6e90\u7684\u9009\u62e9\u4e0a\uff0c\u673a\u6784\u6295\u8d44\u8005\u9009\u62e9\u7684\u91d1\u878d\u7ec8\u7aef\u4e3b\u8981\u6709\u4e1c\u65b9\u8d22\u5bccChoice\u3001Wind\u8d44\u8baf\u91d1\u878d\u7ec8\u7aef\uff0c\u6570\u636e\u6e90\uff08\u5e93\uff09\u4f9b\u5e94\u5546\u4e3b\u8981\u6709Wind\u8d44\u8baf\u3001\u6052\u751f\u805a\u6e90\u3001\u671d\u9633\u6c38\u7eed\u3001\u5929\u8f6f\u3001\u5de8\u6f6e\u3001\u5929\u76f8\u3001\u5de8\u7075\u3001\u56fd\u6cf0\u5b89\u3001\u901a\u8054\u7b49\u3002\u671d\u9633\u6c38\u7eed\u5728\u5206\u6790\u5e08\u4e00\u81f4\u9884\u671f\u3001\u76c8\u5229\u9884\u6d4b\u6570\u636e\u4ee5\u53ca\u79c1\u52df\u57fa\u91d1\u6570\u636e\u65b9\u9762\u5360\u636e\u4f18\u52bf\u3002\u5929\u8f6f\u79d1\u6280\u5728\u9ad8\u9891\u884c\u60c5\u6570\u636e\u4e0a\u6bd4\u8f83\u7a81\u51fa\u3002\u56fd\u6cf0\u5b89\u6570\u636e\u5e93\u4e3b\u8981\u4e3a\u5b66\u672f\u7528\u9014\u5176\u4e2d\u516c\u53f8\u91d1\u878d\u6570\u636e\u8f83\u4e3a\u5b8c\u5584\u3002</p> <p>\u4e2a\u4eba\u53ca\u5c0f\u578b\u79c1\u52df\u6295\u8d44\u8005\u4e3b\u8981\u4f7f\u7528\u7684\u6570\u636e\u6e90\u6709 tushare\uff0cakshare\uff0cjqdatasdk\u7b49\u7b49\u3002\u8fd9\u4e5f\u662f\u8fd9\u90e8\u5206\u8bfe\u7a0b\u4e3b\u8981\u8981\u4ecb\u7ecd\u7684\u5185\u5bb9\u3002</p> <p></p> <p>\u8fd9\u4e00\u90e8\u5206\u603b\u51715\u8bfe\u65f6\u3002\u6211\u4eec\u4f1a\u91cd\u70b9\u4ecb\u7ecd akshare, tushare, jqdatasdk\u548comicron -- \u8fd9\u662f\u5927\u5bcc\u7fc1\u6846\u67b6\u81ea\u5e26\u7684\u6570\u636esdk\u3002\u4e5f\u4f1a\u63d0\u53cayfinance\u548c\u5176\u5b83\u4e00\u4e9b\u6570\u636e\u6e90\u3002\u6211\u4eec\u4f1a\u544a\u8bc9\u4f60\u54ea\u4e9b\u80fd\u7528\uff0c\u54ea\u4e9b\u73b0\u5728\u4e0d\u80fd\u7528\u4e86\uff0c\u4ee5\u514d\u803d\u8bef\u65f6\u95f4\u3002</p> <p>\u5e2e\u5927\u5bb6\u7701\u65f6\u95f4\uff0c\u662f\u672c\u8bfe\u7a0b\u91cd\u8981\u76ee\u6807\u4e4b\u4e00\u3002 \u6211\u4eec\u76f8\u4fe1\uff0c\u5373\u4f7f\u6ca1\u6709\u6211\u4eec\u8fd9\u95e8\u8bfe\uff0c\u60a8\u4e5f\u53ef\u80fd\u81ea\u5df1\u62fc\u6e4a\u4e00\u4e2a\u91cf\u5316\u6559\u7a0b\u51fa\u6765\uff0c\u53ea\u4e0d\u8fc7\u53ef\u80fd\u8981\u82b1\u5f88\u4e45\u624d\u80fd\u627e\u5230\u6b63\u786e\u7684\u65b9\u5411\uff0c\u4f1a\u5931\u53bb\u5148\u53d1\u4f18\u52bf\u3002</p> <p>\u5728\u4ecb\u7ecd\u6bcf\u4e00\u4e2a\u6570\u636e\u6e90\u65f6\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u5b83\u7684API\u98ce\u683c\uff0c\u6587\u6863\u98ce\u683c\uff0cAPI\u5f52\u7c7b\uff0c\u5177\u4f53\u4ecb\u7ecd\u5982\u4f55\u5b9e\u73b0\u83b7\u53d6\u4ea4\u6613\u65e5\u5386\u3001\u8bc1\u5238\u5217\u8868\u548c\u884c\u60c5\u6570\u636e\u3002\u6bcf\u4e2a\u6570\u636e\u6e90\u90fd\u4f1a\u63d0\u4f9b\u51e0\u5341\u4e2a\u751a\u81f3\u66f4\u591a\u7684API\uff0c\u6240\u4ee5\u5f52\u7c7b\u4ecb\u7ecd\u5f88\u91cd\u8981\u3002\u638c\u63e1\u6bcf\u4e2a\u6846\u67b6\u7684API\u98ce\u683c\u548c\u6587\u6863\u5e2e\u52a9\u4e4b\u540e\uff0c\u8fdb\u884c\u63a2\u7d22\u5c31\u662f\u518d\u5bb9\u6613\u4e0d\u8fc7\u7684\u4e8b\u513f\u4e86\u3002</p> <p>\u8003\u8651\u5230\u8bb2\u8ff0\u91cf\u5316\u8bfe\u7a0b\u65f6\uff0c\u5982\u679c\u8ba9\u5b66\u5458\u81ea\u5df1\u53bb\u8d2d\u4e70\u6570\u636e\uff08\u514d\u8d39\u6570\u636e\u5b58\u5728\u79cd\u79cd\u9650\u5236\uff09\u4f3c\u4e4e\u4e0d\u592a\u5408\u7406\uff1b\u4f46\u5982\u679c\u6ca1\u6709\u6570\u636e\uff0c\u5f88\u591a\u7a0b\u5e8f\u4e5f\u6ca1\u6cd5\u6f14\u793a\uff1a\u4e3a\u4e86\u786e\u4fdd\u66f4\u597d\u7684\u4f53\u9a8c\uff0c\u6211\u4eec\u6784\u5efa\u4e86\u4e00\u4e2a\u91cf\u5316\u73af\u5883\uff0c\u63d0\u4f9b\u5b9e\u65f6\u884c\u60c5\u548c\u5386\u53f2\u884c\u60c5\u6570\u636e\uff08\u7ea630\u4ebf\u6761\uff09\u548c\u56de\u6d4b\u5e73\u53f0\u4f9b\u5927\u5bb6\u4f7f\u7528\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u4ecb\u7ecdomicron -- \u5f88\u62a5\u6b49\u6211\u4eec\u57282019\u5e74\u65f6\uff0c\u53d6\u4e86\u8fd9\u4e48\u4e2a\u540d\u5b57\uff0c\u8fd9\u4e2a\u540d\u5b57\u706b\u904d\u4e86\u5168\u7403\uff0c\u4f46\u6211\u4eec\u8fd8\u6ca1\u6709\u3002</p> <p>\u6b64\u5916\uff0c\u8fd9\u90e8\u5206\u8bfe\u4e5f\u662f\u6574\u4e2a\u7cfb\u5217\u4e2d\uff0c\u6253\u57fa\u7840\u7684\u90e8\u5206\u3002\u6211\u4eec\u4f1a\u4ecb\u7ecd\u8ddf\u6570\u636e\u5904\u7406\u5bc6\u5207\u76f8\u5173\u7684\u77e5\u8bc6\uff0c\u6bd4\u5982\u8bc1\u5238\u4ee3\u7801\u7f16\u7801\u3001\u4ea4\u6613\u6240\u7f16\u7801\u3001\u590d\u6743\u3001\u91d1\u878d\u6570\u636e\u5904\u7406\u4e2d\u7684\u56db\u820d\u4e94\u5165\u95ee\u9898\u3002\u8fd9\u91cc\u4f1a\u6d89\u53ca\u5230\u4e00\u4e9b\u770b\u4f3c\u7b80\u5355\uff0c\u7edd\u5927\u591a\u6570\u4eba\u6ca1\u6709\u5728\u610f\u6216\u8005\u601d\u8003\u8fc7\uff0c\u4f46\u5374\u5341\u5206\u91cd\u8981\u7684\u95ee\u9898\uff1a</p> <p>\u4f60\u5e73\u5e38\u4f7f\u7528\u7684\u56db\u820d\u4e94\u5165\u65b9\u6cd5\uff0c\u662f\u6b63\u786e\u7684\u5417\uff1f</p> <p>\u4f60\u53ef\u80fd\u4ece\u6765\u6ca1\u60f3\u8fc7\u8fd9\u4e2a\u95ee\u9898\u3002\u4e0d\u5c31\u662f\u7528math.round\u561b\u3002\u96be\u9053\u8fd9\u8fd8\u4f1a\u6709\u9519\uff1f\u4f46\u662f\u4f60\u4e00\u5b9a\u77e5\u9053\uff0c\u56db\u820d\u4e94\u5165\u51fa\u9519\u7684\u540e\u679c\uff1a\u5bf9\u4e8e2\u5143\u4ee5\u4e0b\u7684\u4f4e\u4ef7\u80a1\uff0c\u56db\u820d\u4e94\u5165\u53ef\u80fd\u5e26\u67651\u5206\u94b1\u7684\u8bef\u5dee\uff0c\u76f8\u5f53\u4e8e\u81f3\u5c110.5\u4e2a\u767e\u5206\u70b9\uff01</p> <p>\u8fd9\u8fd8\u4e0d\u662f\u820d\u5165\u8bef\u5dee\u60df\u4e00\u7684\u5f71\u54cd\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u8fd8\u4f1a\u4ece\u5fae\u89c2\u7ed3\u6784\u4e0a\uff0c\u5f71\u54cd\u5230\u4ef7\u683c\u81ea\u7531\u5ea6\uff0c\u5f71\u54cd\u5230\u59d4\u4e70\u59d4\u5356\u7684\u5206\u5e03\u3002\u611f\u5174\u8da3\u7684\u8bfb\u8005\uff0c\u5c24\u5176\u662f\u505a\u9ad8\u9891\u7684\u540c\u5b66\u53ef\u4ee5\u53c2\u8003Is Stock Price Rounded for Economic Reasons in the Chinese Markets\u8fd9\u7bc7\u8bba\u6587\uff0c\u4e86\u89e3\u4e0b\u6574\u6570\u4ef7\u683c\u3001\u5409\u7965\u6570\u5b57\u5728A\u80a1\u4ef7\u683c\u4e2d\u7684\u7279\u6b8a\u4f5c\u7528\uff0c\u4ee5\u53ca\u901a\u8fc7\u53c2\u8003\u6587\u732e\u53d1\u73b0\u5728\u5168\u7403\u5e02\u573a\u4e0a\u7684\u7c7b\u4f3c\u89c4\u5f8b\u3002</p> <p>\u73b0\u5728\u544a\u8bc9\u4f60\uff0cPython\u7684\u5b9e\u73b0\u771f\u7684\u9519\u4e86\uff01</p> <p>\u4e00\u4e9b\u91cf\u5316\u6559\u7a0b\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u524d\u590d\u6743\uff0c\u800c\u662f\u4f7f\u7528\u540e\u590d\u6743\u3002\u6211\u4eec\u4f1a\u8ba9\u4f60\u91cd\u65b0\u601d\u8003\u8fd9\u4e2a\u95ee\u9898\u3002\u5f53\u6211\u4eec\u63ed\u793a\u524d\u590d\u6743\u4e0e\u540e\u590d\u6743\u4e4b\u95f4\uff0c\u53ea\u662f\u4e00\u4e2a\u7ebf\u6027\u53d8\u6362\u5173\u7cfb\u4e4b\u540e\uff0c\u4e5f\u8bb8\u4f60\u4f1a\u601d\u8003\u5f97\u66f4\u6df1\u5165\u4e00\u4e9b\uff1a\u56e0\u4e3a\u4f60\u77e5\u9053\uff0c\u7ebf\u6027\u53d8\u6362\u4e0d\u4ea7\u751f\u4efb\u4f55\u65b0\u7684\u77e5\u8bc6\uff0c\u90a3\u4e48\u524d\u590d\u6743\u4e0e\u540e\u590d\u6743\u7a76\u7adf\u6709\u4f55\u533a\u522b\uff1f</p> <p>\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u8fd8\u4f1a\u5411\u4f60\u63ed\u793a\u6570\u636e\u7684\u4ef7\u503c\u3002\u6211\u4eec\u4f1a\u4ecb\u7ecd\u6295\u8d44\u8005\u4eba\u6570\u3001\u6307\u6570\u7684PE\u503c\u7b49\u6570\u636e\u5982\u4f55\u83b7\u53d6\uff0c\u5e76\u4e14\u5b83\u4eec\u662f\u5982\u4f55\u4e0e\u6caa\u6307\u7684\u6da8\u8dcc\u76f8\u5173\u7684\uff0c\u8fd9\u5bf9\u4e8e\u6211\u4eec\u8fdb\u884c\u5927\u5468\u671f\u4e0a\u7684\u62e9\u65f6\u6bd4\u8f83\u6709\u5e2e\u52a9\u3002</p> <p>\u6709\u4e00\u4e9b\u5e93\u975e\u5e38\u6709\u7528\uff0c\u4e5f\u5199\u5f97\u633a\u597d\u3002\u4f46\u8f6f\u4ef6\u4e5f\u662f\u4e00\u95e8\u5145\u6ee1\u9057\u61be\u7684\u6280\u672f\u3002\u6211\u4eec\u4e5f\u4f1a\u5bf9\u67d0\u4e9b\u5f00\u6e90\u8f6f\u4ef6\u63d0\u4f9b\u6539\u8fdb\u5efa\u8bae\u3002\u5982\u679c\u4f60\u6b63\u5728\u5bfb\u627e\u5982\u4f55\u5728\u5f00\u6e90\u91cf\u5316\u8f6f\u4ef6\u4e0a\u505a\u51fa\u8d21\u732e\uff0c\u4e5f\u8bb8\u4f60\u53ef\u4ee5\u4ece\u6211\u4eec\u7684\u8fd9\u4e9b\u5efa\u8bae\u51fa\u53d1\uff0c\u5e2e\u52a9\u4ed6\u4eec\u5b8c\u5584\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/detail/#_2","title":"\u4e8c\u3001\u521d\u8bc6\u7b56\u7565","text":"<p>\u6211\u4eec\u7528\u4e09\u4e2a\u8bfe\u65f6\uff0c\u4ece\u4e09\u4e2a\u7ef4\u5ea6\u4ecb\u7ecd\u4e86\u4e09\u4e2a\u7b56\u7565\u3002\u6211\u4eec\u628a\u7b56\u7565\u5b89\u6392\u5728\u7b2c\u4e8c\u90e8\u5206\uff0c\u4e00\u65b9\u9762\u4e0a\u5b8c\u7b2c\u4e00\u90e8\u5206\u7684\u8bfe\uff0c\u6709\u7684\u540c\u5b66\u53ef\u80fd\u5df2\u7ecf\u8dc3\u8dc3\u6b32\u8bd5\u4e86\uff1b\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8fd9\u4e9b\u7b56\u7565\u4f1a\u4ece\u4e0d\u540c\u7684\u89d2\u5ea6\u5411\u6211\u4eec\u5c55\u793a\uff0c\u505a\u597d\u4e00\u4e2a\u7b56\u7565\u7a76\u7adf\u9700\u8981\u54ea\u4e9b\u6280\u80fd\uff0c\u5e2e\u52a9\u7406\u89e3\u540e\u9762\u7684\u8bfe\u7a0b\u4e3a\u4ec0\u4e48\u8fd9\u6837\u7f16\u6392\u3002</p> <p></p> <p>\u7b2c6\u8bfe\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u5c0f\u5e02\u503c\u7b56\u7565\uff0c\u8fd9\u662f\u57fa\u672c\u9762\u7ef4\u5ea6\u3002\u5c0f\u5e02\u503c\u56e0\u5b50\u662fFama\uff08\u53c8\u79f0FF)\u4e09\u56e0\u5b50\u3002\u8be5\u56e0\u5b50\u7684\u6709\u6548\u6027\u5f97\u5230\u4e86\u534e\u5c14\u8857\u6570\u5341\u5e74\u7684\u9a8c\u8bc1\uff0c\u5728A\u80a12017\u5e74\u4e4b\u524d\u4e5f\u662f\u975e\u5e38\u6709\u6548\uff0c\u6b64\u540e\u8fdb\u5165\u9636\u6bb5\u6027\u6709\u6548\u3001\u9636\u6bb5\u6027\u5931\u6548\u7684\u72b6\u6001\u3002\u8fd9\u8282\u8bfe\u89e3\u7b54\u4e86\u8fd9\u6837\u51e0\u4e2a\u95ee\u9898\uff1a</p> <ol> <li>\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u7b56\u7565\uff0c\u5b83\u81f3\u5c11\u8981\u5b9e\u73b0\u54ea\u4e9b\u529f\u80fd\uff1f</li> <li>\u56de\u6d4b\u7ed3\u675f\uff0c\u5982\u4f55\u5c06\u8d44\u4ea7\u66f2\u7ebf\u548c\u7b56\u7565\u6307\u6807\u7ed8\u5236\u51fa\u6765\uff1f</li> <li>\u4f18\u5316\u7b56\u7565\u5e94\u8be5\u4ece\u54ea\u4e9b\u65b9\u5411\u5165\u624b?</li> </ol> <p>\u8fd9\u8282\u8bfe\u7684\u4ee3\u7801\u90fd\u662f\u77ed\u5e73\u5feb\u7684\uff0c\u5bb9\u6613\u7406\u89e3\uff0c\u6ca1\u6709\u6280\u5de7\u3002\u4f46\u662f\u6211\u4eec\u7559\u4e0b\u4e00\u9053\u4f5c\u4e1a\u9898\uff0c\u5982\u4f55\u5c06\u7b56\u7565\u548c\u56de\u6d4b\u4e2d\u7684\u516c\u5171\u90e8\u5206\u62bd\u8c61\u51fa\u6765\uff0c\u5f62\u6210\u53ef\u590d\u7528\u7684\u6846\u67b6\uff1f</p> <p>Easy saying than done. \u5f53\u4f60\u81ea\u5df1\u624b\u4f5c\u8fc7\u4e00\u6b21\u4e4b\u540e\uff0c\u5bf9\u91cf\u5316\u7684\u7406\u89e3\u4e00\u5b9a\u4f1a\u66f4\u6df1\u5165\u4e00\u4e2a\u5c42\u6b21\u3002\u5728\u7b2c19\u8bfe\u6211\u4eec\u5f00\u59cb\u8bb2backtrader\u8fd9\u6837\u590d\u6742\u7684\u56de\u6d4b\u6846\u67b6\u65f6\uff0c\u4f60\u5c31\u5e94\u8be5\u80fd\u5f88\u5feb\u8fdb\u5165\u72b6\u6001\uff0c\u4e5f\u80fd\u7406\u89e3\u8fd9\u6837\u7684\u95ee\u9898\uff1a</p> <p>\u4e3a\u4ec0\u4e48\u6211\u7684\u7b56\u7565\u603b\u662f\u56de\u6d4b\u5403\u8089\u3001\u5b9e\u76d8\u5403\u571f\uff1f</p> <p>\u8fd9\u4e0d\u4e00\u5b9a\u662f\u4f60\u7684\u9519\u3002\u56de\u6d4b\u6846\u67b6\u6709\u4ed6\u81ea\u5df1\u7684\u9009\u62e9\u548c\u96be\u5904\uff0c\u6ca1\u6709\u5f00\u53d1\u8fc7\u56de\u6d4b\u6846\u67b6\u7684\u4eba\u4e0d\u77e5\u9053\uff0c\u66f4\u4e0d\u53ef\u80fd\u8bb2\u7ed9\u4f60\u542c\u3002\u4f46\u5982\u679c\u4f60\u4e0d\u4e86\u89e3\u81ea\u5df1\u7684\u6b66\u5668\u7684\u7f3a\u9677\uff0c\u5982\u4f55\u786e\u4fdd\u5b83\u4eec\u5728\u6218\u573a\u4e0a\u4e00\u5b9a\u80fd\u6253\u54cd\uff1f</p> <p>\u7b2c7\u8bfe\uff0c\u6211\u4eec\u4ecb\u7ecd\u5e03\u6797\u5e26\u7b56\u7565\u3002\u8fd9\u662f\u6280\u672f\u5206\u6790\u7ef4\u5ea6\u3002\u5c3d\u7ba1\u5e03\u6797\u5e26\u53ea\u4f7f\u7528\u4e86\u6700\u7b80\u5355\u7684\u7edf\u8ba1\u7406\u8bba -- \u6b63\u6001\u5206\u5e03\u7684\u4e00\u4e9b\u7279\u6027\uff0c\u73b0\u5728\u6211\u4eec\u5df2\u4e0d\u592a\u4f1a\u5355\u72ec\u4f7f\u7528\u5b83\u4e86\uff1b\u4f46\u5b83\u4f5c\u4e3a\u4e00\u4e2a\u5355\u4e00\u7b56\u7565\uff0c\u66fe\u7ecf\u5927\u653e\u5f02\u5f69\uff0c\u6210\u5c31\u4e86\u4e00\u5bb6\u521b\u4e1a\u516c\u53f8\u3002\u800c\u4e14\u6b63\u6001\u5206\u5e03\u539f\u7406\u662f\u7edf\u8ba1\u548c\u91d1\u878d\u6570\u636e\u5206\u6790\u4e2d\u7ed5\u4e0d\u8fc7\u53bb\u7684\u77e5\u8bc6\u70b9\u3002</p> <p>\u6280\u672f\u5206\u6790\uff08\u5e7f\u4e49\u6765\u8bb2\uff0c\u5373\u9664\u5f00\u57fa\u672c\u9762\u5206\u6790\u548c\u5b8f\u89c2\u62e9\u65f6\u4e4b\u5916\uff09\u662fA\u80a1\u4e2d\u7b49\u53ca\u4ee5\u4e0b\u89c4\u6a21\u8d44\u91d1\u6700\u6709\u6548\u7684\u7b56\u7565\u65b9\u6cd5\u3002\u6211\u4eec\u4ece\u6700\u65b0\u4e00\u671f\u7684\u534e\u6cf0\u91d1\u5de5\u7684\u7814\u62a5\uff082023\u5e748\u6708\uff09\u53ef\u4ee5\u770b\u51fa\uff0c7\u6708\u6700\u6709\u6548\u7684\u56e0\u5b50\u4ecd\u7136\u662f\u53cd\u8f6c\u56e0\u5b50\u3001\u6ce2\u52a8\u7387\u56e0\u5b50\uff0c\u5c0f\u5e02\u503c\u56e0\u5b50\u6392\u7b2c\u4e09\uff0c\u8fd9\u4ecd\u7136\u662f\u4e00\u4e2a\u6280\u672f\u4e3a\u738b\u7684\u65f6\u4ee3\u3002</p> <p></p> <p>\u8fd9\u4e9b\u56e0\u5b50\u8868\u73b0\u6570\u636e\u63ed\u793a\u4e86\u7b56\u7565\u7814\u7a76\u7684\u5927\u81f4\u65b9\u5411\uff0c\u4f60\u5e94\u8be5\u6709\u66f4\u597d\u7684\u65b9\u6cd5\u53bb\u5bfb\u627e\u53cd\u8f6c\u3001\u5403\u900f\u6ce2\u52a8\u3002\u5982\u679c\u5bf9\u8fd9\u4e9b\u56e0\u5b50\u7684\u5b9e\u73b0\u611f\u5174\u8da3\uff0c\u6211\u4eec\u4e5f\u4f1a\u5728\u540e\u7eed\u8bfe\u7a0b\u4e2d\u63a8\u51fa\u3002</p> <p>\u7b2c8\u8bfe\uff0c\u6211\u4eec\u4ecb\u7ecd\u7f51\u683c\u4ea4\u6613\u6cd5\uff0c\u8fd9\u662f\u4e0d\u9700\u8981\u7b56\u7565\u7684\u7b56\u7565\uff0c\u662f\u4ece\u4ea4\u6613\u7ef4\u5ea6\u6784\u5efa\u7b56\u7565\u3002\u5b83\u5145\u5206\u4f53\u73b0\u4e86\u91cf\u5316\u7684\u4f18\u52bf\uff1a\u907f\u514d\u60c5\u7eea\u5316\u64cd\u4f5c\uff0c\u4e25\u683c\u6309\u7eaa\u5f8b\u6267\u884c\uff0c\u5373\u4f7f\u6ca1\u6709\u7b56\u7565\uff0c\u4e5f\u5f88\u6709\u53ef\u80fd\u5b9e\u73b0\u76c8\u5229\u3002</p> <p>\u5f53\u4f60\u6709\u4e86\u4e00\u5f20\u6e14\u7f51\u65f6\uff0c\u91cd\u8981\u7684\u662f\u77e5\u9053\u8be5\u5728\u54ea\u513f\u6492\u7f51\u3002 \u7f51\u683c\u4ea4\u6613\u6210\u529f\u7684\u524d\u63d0\u662f\uff0c\u80a1\u4ef7\u5728\u533a\u95f4\u5185\u957f\u671f\u6a2a\u76d8\u3002\u6211\u4eec\u63d0\u793a\u4e86\u4ec0\u4e48\u6837\u7684\u60c5\u51b5\u4e0b\u3001\u6216\u8005\u4ec0\u4e48\u6837\u7684\u6807\u7684\u5bb9\u6613\u4ea7\u751f\u957f\u671f\u6a2a\u76d8\u3002\u8fd9\u65e2\u6709\u57fa\u4e8e\u884c\u4e3a\u91d1\u878d\u5b66\u539f\u7406\u5f97\u51fa\u7684\u7ed3\u8bba\uff0c\u4e5f\u6709\u57fa\u4e8e\u4ea4\u6613\u89c4\u5219\u5f97\u5230\u7684\u7b54\u6848\u3002\u800c\u5b66\u5b8c\u540e\u9762\u7684\u8bfe\u7a0b\uff0c\u4f60\u5c06\u6709\u80fd\u529b\u901a\u8fc7\u7a0b\u5e8f\u6765\u53d1\u73b0\u8fd9\u6837\u7684\u6807\u7684\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/detail/#python","title":"\u4e09\u3001 Python\u91cf\u5316\u4ea4\u6613\u6570\u636e\u5206\u6790","text":"<p>\u7b2c9\u8bfe\u5c06\u4ecb\u7ecdNumpy\u548cPandas\uff0c\u5b83\u4eec\u4e00\u822c\u662f\u4f5c\u4e3a\u91cf\u5316\u4ea4\u6613\u7684\u57fa\u7840\u6570\u636e\u7ed3\u6784\uff0c\u540c\u65f6\u6211\u4eec\u4e5f\u6709\u5927\u91cf\u7684\u64cd\u4f5c\u9700\u8981numpy\u548cpandas\u6765\u5b8c\u6210\u3002</p> <p>\u9884\u6d4b\u6da8\u8dcc\u662f\u56f0\u96be\u7684\uff0c\u4f46\u5728\u67d0\u4e9b\u6781\u7aef\u573a\u5408\u4e0b\u5219\u662f\u53ef\u80fd\u7684\u3002\u6bd4\u5982\uff0c\u4e0a\u8bc1\u5df2\u7ecf\u51fa\u73b0\u4e867\u8fde\u9633\uff0c\u660e\u5929\u4e0a\u6da8\u548c\u4e0b\u8dcc\u7684\u6982\u7387\u662f\u591a\u5927\uff1f\u8fd9\u4e2a\u65f6\u5019\u9884\u6d4b\u4e0b\u8dcc\uff0c\u5c06\u4f1a\u6709\u6709\u5f88\u5927\u6982\u7387\u6b63\u786e\u3002\u6211\u4eec\u5148\u653e\u5f03\u8fd9\u4e2a\u6982\u7387\u8ba1\u7b97\u95ee\u9898\uff0c\u56de\u5230\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u95ee\u9898\u4e0a\u6765\uff0c\u5982\u4f55\u901a\u8fc7\u7a0b\u5e8f\u68c0\u6d4b\u51fa\u67d0\u4e2a\u6807\u7684\u5f53\u524d\u51fa\u73b0\u4e86N\u8fde\u9633\uff1f</p> <p>\u51e0\u4e4e\u6bcf\u4e2a\u80fd\u5199\u7a0b\u5e8f\u3001\u53c8\u7565\u61c2\u8bc1\u5238\u7684\u4eba\u90fd\u80fd\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002\u4f46\u4f60\u9700\u8981\u5b9e\u73b0\u5f97\u66f4\u597d\uff0c\u6bd4\u5982\uff0c\u4e0d\u4f7f\u7528\u5faa\u73af\uff0c\u53ea\u7528\u4e00\u884c\u4ee3\u7801\uff0c\u5e76\u4e14\u628a\u8fc7\u53bb\u51e0\u5e74\u6240\u6709N\u8fde\u9633\u4e00\u6b21\u627e\u51fa\u6765...\u901f\u5ea6\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u56e0\u4e3a\u5373\u4f7f\u4f60\u6bcf\u65e5\u53ea\u505a\u4e00\u6b21\u4ea4\u6613\uff0c\u5728\u6536\u76d8\u524d\u8fdb\u884c\u8c03\u4ed3\u6362\u80a1\uff0c\u90a3\u4e48\u5b9e\u9645\u4e0a\u4f60\u53ea\u670914\uff1a56\u523014\uff1a58\u8fd9\u6837\u4e24\u5206\u949f\u5de6\u53f3\u7684\u65f6\u95f4\uff0c\u628a\u5e02\u573a\u4e0a\u6240\u6709\u54c1\u79cd\u904d\u5386\u4e00\u6b21\uff08\u5e76\u4e14\u8fdb\u884c\u7b56\u7565\u8ba1\u7b97\uff09\uff0c\u4f60\u7684\u7a0b\u5e8f\u6700\u597d\u5f97\u5feb\u70b9\uff0c\u5b9e\u8df5\u8868\u660e\uff0c\u8fd9\u5e76\u4e0d\u5bb9\u6613\u3002</p> <p>\u8fd9\u4e00\u8bfe\u91cc\uff0c\u6211\u4eec\u628a\u5e38\u7528\u91cf\u5316\u6846\u67b6\u4e2d\u9ad8\u9891\u51fa\u73b0\u7684numpy\u51fd\u6570\u51e0\u4e4e\u90fd\u8bb2\u4e86\u4e00\u904d\uff0c\u8fd9\u90e8\u5206\u7684\u4e60\u9898\u4e5f\u6bd4\u8f83\u6709\u6280\u5de7\uff0c\u638c\u63e1\u5b83\u4eec\uff0c\u5feb\u901f\u6210\u4e3aNumpy/Pandas\u9ad8\u624b\uff01</p> <p></p> <p>\u7b2c10\u8bfe\u6211\u4eec\u4ecb\u7ecdtalib\uff0c\u8fd9\u662f\u6700\u91cd\u8981\u7684\u6280\u672f\u5206\u6790\u5e93\u4e4b\u4e00\uff0c\u5f88\u591a\u91cf\u5316\u6846\u67b6\u90fd\u96c6\u6210\u4e86\u5b83\u3002</p> <p>\u7b2c11\u8bfe\u548c\u7b2c12\u8bfe\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u7edf\u8ba1\u77e5\u8bc6\u3002\u4f60\u5f88\u5feb\u5c31\u4f1a\u770b\u5230\u5b83\u4eec\u7684\u5de8\u5927\u5a01\u529b\uff01</p> <p></p> <p>\u8fd9\u4e24\u8bfe\u5f53\u4e2d\uff0c\u6211\u4eec\u9a8c\u8bc1\u4e86\u6caa\u6307\u7a76\u7adf\u670d\u4ece\u4ec0\u4e48\u6982\u7387\u5206\u5e03\u8fd9\u4e00\u57fa\u7840\u6027\u95ee\u9898 \uff0c\u4e5f\u56de\u7b54\u4e86\u201c\u5982\u679c\u4e0a\u8bc1\u6307\u6570\u4e0b\u8dcc4%\uff0c\u80fd\u6284\u5e95\u5417\uff1f\u201d\u8fd9\u6837\u7684\u95ee\u9898\u3002\u66f4\u591a\u7684\u7c7b\u4f3c\u95ee\u9898\uff0c\u76f8\u4fe1\u5b66\u5b8c\u540e\uff0c\u4f60\u81ea\u7136\u80fd\u63a2\u7d22\u548c\u89e3\u7b54\u4e86\u3002</p> <p>\u5f88\u591a\u4eba\u8ba4\u4e3a\uff0c\u6982\u7387\u7684\u4e1c\u897f\u6bd4\u8f83\u96be\u7406\u89e3\uff0c\u6bd4\u5982\u8c61pdf\uff08\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff09/cdf\uff08\u7d2f\u79ef\u5206\u5e03\u51fd\u6570\uff09\u8fd9\u6837\u7684\u6982\u5ff5\u5c31\u662f\u3002\u4f46\u6211\u4eec\u4ece\u76f4\u65b9\u56fe\u8bb2\u8d77\uff0c\u518d\u8bbe\u60f3\u76f4\u65b9\u56fe\u7684\u6bcf\u4e2a\u5206\u7bb1\u5927\u5c0f\u8d8b\u8fd1\u4e8e0\uff0c\u8fd9\u6837\u5c31\u5f97\u5230\u4e86pdf\uff0c\u76f8\u4fe1\u5982\u679c\u8fd9\u4e48\u8bb2\uff0c\u52a0\u4e0a\u65e0\u6570\u7684\u56fe\u548c\u4ee3\u7801\uff0c\u6982\u7387\u548c\u7edf\u8ba1\u4e5f\u6ca1\u90a3\u4e48\u96be\u7406\u89e3\uff1f</p> <p>\u7ed3\u5408\u6211\u4eec\u4e4b\u524d\u5b66\u8fc7\u7684\u77e5\u8bc6\uff0c\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u6bd4\u8f83\u6709\u96be\u5ea6\u7684k\u7ebf\u5f62\u6001\u68c0\u6d4b\u4e86\u3002\u8fd9\u5c31\u662f\u7b2c13\u8bfe\u7684\u4e3b\u8981\u5185\u5bb9 -- \u6280\u672f\u5f62\u6001\u5206\u6790\u3002</p> <p>K\u7ebf\u5f62\u6001\u68c0\u6d4b\u5728\u4e00\u4e2a\u6563\u6237\u4e3a\u4e3b\u7684\u5e02\u573a\u4e2d\u975e\u5e38\u6709\u7528\uff0c\u5b83\u662f\u5c06\u6ce2\u6d6a\u7406\u8bba\u7a0b\u5e8f\u5316\u6267\u884c\u7684\u57fa\u7840\u3002\u77ed\u7ebf\u4ea4\u6613\u7684\u672c\u8d28\u662f\u7b79\u7801\uff0c\u4efb\u4f55\u4e0a\u6da8\u548c\u4e0b\u8dcc\u90fd\u5fc5\u7136\u843d\u5165\u6709\u9650\u7684\u51e0\u79cd\u8303\u5f0f\u5f53\u4e2d\uff0c\u56e0\u6b64\uff0ck\u7ebf\u5f62\u6001\u68c0\u6d4b\uff0c\u5373\u4f7f\u4e0d\u80fd\u7528\u6765\u505a\u9884\u6d4b\uff0c\u4e5f\u80fd\u7528\u6765\u505a\u4e8b\u540e\u786e\u8ba4\u3002</p> <p></p> <p>\u8fd9\u4e00\u8bfe\u4e2d\u6211\u4eec\u7ed9\u51fa\u4e86\u4e00\u4e2a\u5b8c\u5168\u81ea\u9002\u5e94\u7684\u68c0\u6d4b\u9876\u5e95\u7684\u65b9\u6cd5\uff1a\u57fa\u4e8e\u6982\u7387\u5206\u5e03\u7406\u8bba\uff0c\u6709\u575a\u5b9e\u7684\u6570\u5b66\u57fa\u7840\u3002</p> <p>\u7ea2\u70b9\u8fd9\u662f\u6211\u4eec\u4f7f\u7528\u81ea\u9002\u5e94\u7b97\u6cd5\u68c0\u6d4b\u9876\u5e95\u7684\u7ed3\u679c\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u9876\u548c\u5e95\uff0c\u6211\u4eec\u8fdb\u884c\u4e86\u652f\u6491\u7ebf\u548c\u538b\u529b\u7ebf\u7684\u6d4b\u7b97\u3002\u5f53\u4e8b\u5b9e\u6446\u5728\u6211\u4eec\u9762\u524d\u65f6\uff0c\u4f60\u4e0d\u5f97\u4e0d\u627f\u8ba4\uff0c\u753b\u7ebf\u6d3e\u6709\u65f6\u786e\u5b9e\u5728A\u80a1\u638c\u63a7\u4e86\u5e02\u573a\uff1a</p> <p></p> <p>\u6211\u4eec\u5f53\u7136\u53ef\u4ee5\u8fd0\u7528\u5b83\u6765\u505a\u66f4\u591a\u7684\u4e8b\u60c5\uff0c\u6bd4\u5982\u68c0\u6d4bM\u5934\u548cW\u5e95\uff1a</p> <p></p> <p>\u6216\u8005\u5e73\u53f0\u6574\u7406\u7a81\u7834\uff08\u8fd9\u91cc\u6211\u4eec\u628a\u673a\u5668\u5b66\u4e60\u91cc\u7684\u4e8c\u7ef4\u805a\u7c7b\u7b97\u6cd5\u79fb\u690d\u5230\u4e86\u4e00\u7ef4\u65f6\u95f4\u5e8f\u5217\u4e0a\uff09\uff1a</p> <p></p> <p>\u8fd8\u6709\u667a\u80fdRSI\u7684\u539f\u7406\u548c\u7b97\u6cd5\uff0c\u7b49\u7b49\u3002</p> <p>\u5982\u679c\u4f60\u5b66\u4e60\u8bfe\u7a0b\u7684\u76ee\u6807\u662f\u4e3a\u4e86\u6362\u5de5\u4f5c\uff0c\u90a3\u4e48\u7b2c14\u8bfe\u7684\u5185\u5bb9--\u56e0\u5b50\u5206\u6790\u4e0d\u53ef\u6216\u7f3a\u3002\u6211\u4eec\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u56e0\u5b50\u5206\u6790\u7684\u65b9\u65b9\u9762\u9762\uff1a\u56de\u5f52\u3001IC\u548c\u5206\u5c42\uff0c\u4ece\u539f\u7406\u5230\u5b9e\u73b0\u3002</p> <p></p> <p>\u5f53\u4f60\u8d70\u5b8c\u4e86\u56e0\u5b50\u5206\u6790\u7684\u5168\u6d41\u7a0b\uff0c\u5df2\u4e00\u89c8\u5927\u90e8\u5206\u7ec6\u8282\u548c\u6846\u67b6\u4e4b\u540e\uff0c\u7b2c15\u8bfe\u628a\u4f60\u5e26\u5230\u4e86Alphalens\u9762\u524d\u3002\u73b0\u5728\uff0c\u5b66\u4e60Alphalens\u5e94\u8be5\u8f7b\u677e\u8bb8\u591a\uff0c\u56e0\u4e3a\u4f60\u5df2\u7ecf\u77e5\u9053\u5b83\u662f\u4ec0\u4e48\uff0c\u8981\u5e72\u4ec0\u4e48\u3002</p> <p>Info</p> <p>Alphalens\u662fQuantpian\u5f00\u53d1\u7684pyfolio\u5e93\u4e2d\u7684\u4e00\u90e8\u5206\u3002Quantpian\u66fe\u7ecf\u662f\u5168\u7403\u6700\u5927\u7684\u5f00\u6e90Quant\u793e\u533a\uff0c\u5b83\u7684\u6210\u529f\uff0c\u4e5f\u63a8\u52a8\u4e86\u56fd\u5185\u5982\u805a\u5bbd\uff0c bigquant\u7b49\u521b\u4e1a\u516c\u53f8\u7684\u53d1\u5c55\u3002\u5982\u4eca\uff0cQuantpian\u5df2\u6210\u4e3a\u5386\u53f2\uff0cAlphalens\u5df2\u6210\u4e3a\u91cf\u5316\u9057\u4ea7\uff0c\u8fd8\u6ca1\u6709\u65b0\u7684\u7ef4\u62a4\u8005\uff0c\u5982\u679c\u4f60\u64c5\u957f\u7a0b\u5e8f\u5f00\u53d1\uff0c\u90a3\u4e48\uff0c\u5728\u5b66\u5b8c\u8fd9\u95e8\u8bfe\u7a0b\uff0c\u638c\u63e1\u4e86\u8db3\u591f\u7684\u9886\u57df\u77e5\u8bc6\uff0c\u4e5f\u53ef\u80fd\u6210\u4e3a\u5b83\u7684\u7ef4\u62a4\u8005\uff0c\u8bb8\u8fd9\u4e5f\u662f\u4f60\u53ef\u4ee5\u53d6\u5f97\u6210\u5c31\u7684\u5730\u65b9\uff01</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/detail/#_3","title":"\u56db\u3001 \u6570\u636e\u53ef\u89c6\u5316","text":"<p>\u7b2c16\u8bfe\u5230\u7b2c18\u8bfe\u6211\u4eec\u4e13\u6ce8\u4e8e\u53ef\u89c6\u5316\u3002</p> <p></p> <p>\u7ed8\u56fe\u4e0d\u4ec5\u4ec5\u4e3a\u4e86\u521b\u9020\u7f8e\u4e3d\u7684\u53ef\u89c6\u5316\u6548\u679c\uff0c\u66f4\u662f\u4e3a\u4e86\u91ca\u653e\u6570\u636e\u7684\u5168\u90e8\u6f5c\u529b\uff0c\u5e76\u63ed\u793a\u539f\u672c\u9690\u85cf\u7684insights\uff0c\u5b83\u662f\u6570\u5b57\u8bed\u8a00\u548c\u6545\u4e8b\u8bed\u8a00\u4e4b\u95f4\u7684\u6865\u6881\uff0c\u4f7f\u5f97\u4e2a\u4eba\u548c\u7ec4\u7ec7\u80fd\u591f\u505a\u51fa\u6709\u660e\u667a\u7684\u51b3\u7b56\uff0c\u5e76\u521b\u9020\u6709\u610f\u4e49\u7684\u53d8\u9769\u3002</p> <p>\u5728\u91cf\u5316\u4ea4\u6613\u4e2d\uff0c\u6211\u4eec\u56fa\u7136\u4ee5\u81ea\u52a8\u5316\u7a0b\u5e8f\u4e3a\u4e3b\uff0c\u4f46\u4ecd\u7136\u5728\u56e0\u5b50\u63a2\u7d22\u3001\u751f\u6210\u56de\u6d4b\u62a5\u544a\u3001\u7b97\u6cd5\u7814\u7a76\u7b49\u65b9\u9762\uff0c\u501f\u52a9\u6211\u4eec\u7684\u76f4\u89c9\u3002\u8fd9\u79cd\u76f4\u89c9\u6b63\u662f\u6765\u81ea\u4e8e\u56fe\u5f62\u3002</p> <p>\u6211\u4eec\u5728\u8bfe\u7a0b\u4e2d\u5411\u5927\u5bb6\u4ecb\u7ecdmatplotlib\uff0cplotly, seaborn\u548cpyecharts\u8fd9\u4e9b\u7ed8\u56fe\u754c\u7684\u8d85\u7ea7\u660e\u661f\u4eec\u3002\u540c\u65f6\uff0c\u575a\u6301\u672c\u8bfe\u7a0b\u4e00\u4ee5\u8d2f\u4e4b\u7684\u7406\u5ff5\uff0c\u89e3\u5256\u4e86\u7ed8\u56fe\u6846\u67b6\u3001\u90e8\u5206\u8fd8\u539f\u4e86\u5f15\u64ce\u76d6\u4e0b\u7684\u8fd0\u884c\u673a\u5236\uff0c\u4ece\u800c\u4f7f\u5f97\u4f60\u5728\u9762\u4e34\u65b0\u7684\u6846\u67b6\u548c\u65b0\u7684\u95ee\u9898\u65f6\uff0c\u51b3\u4e0d\u4f1a\u832b\u7136\u65e0\u63aa\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/detail/#_4","title":"\u4e94\u3001 \u7b56\u7565\u4e0e\u56de\u6d4b","text":"<p>\u7b2c19\u8bfe\u548c\u7b2c20\u8bfe\uff0c\u6211\u4eec\u4ecb\u7ecdbacktrader, \u5f53\u4e0b\u6700\u6d41\u884c\u7684\u7eaf\u56de\u6d4b\u6846\u67b6\u3002</p> <p></p> <p>\u7b2c21\u8bfe\uff0c\u5728\u80fd\u591f\u719f\u7ec3\u5730\u8fdb\u884c\u56de\u6d4b\u4e4b\u540e\uff0c\u6211\u4eec\u6765\u5b66\u4e60\u5e94\u8be5\u5982\u4f55\u8bc4\u4ef7\u6211\u4eec\u7684\u7b56\u7565\u3002\u6211\u4eec\u4f1a\u4ecb\u7ecdsharpe\u7387\uff0csortino\uff0c annual return\u7b49\u7b49\u4f17\u591a\u6307\u6807\uff0c\u5b83\u4eec\u662f\u5982\u4f55\u63ed\u793a\u7b56\u7565\u5728\u98ce\u9669\u4e0e\u76c8\u5229\u4e4b\u95f4\u7684\u5e73\u8861\u7279\u6027\uff1b\u6211\u4eec\u8fd8\u4f1a\u4ecb\u7ecd\u4e00\u4e2a\u4e13\u4e1a\u800c\u7b80\u5355\u6613\u7528\u7684\u7b56\u7565\u8bc4\u4f30\u6307\u6807\u7ed8\u56fe\u5e93 - quantstats\u3002</p> <p>\u56de\u6d4b\u5c31\u50cf\u4eba\u751f\u4e00\u6837\uff0c\u5904\u5904\u5145\u6ee1\u4e86\u9677\u9631\uff0c\u6709\u4e00\u4e9b\u662f\u6846\u67b6\u672c\u8eab\u5e26\u6765\u7684 -- \u6bd4\u5982\u4e00\u4e9b\u6846\u67b6\u65e0\u6cd5\u4f7f\u7528\u771f\u5b9e\u590d\u6743\uff08\u8c61backtrader\uff0c\u5982\u679c\u662f\u5728__init__\u4e2d\u4e00\u6b21\u6027\u751f\u6210\u4e86\u6307\u6807\uff0c\u65e0\u8bba\u662f\u4f7f\u7528\u54ea\u79cd\u590d\u6743\u6570\u636e\uff0c\u4f60\u90fd\u4f7f\u7528\u4e86\u672a\u6765\u6570\u636e\uff01\uff09\uff1b\u6709\u4e00\u4e9b\u5219\u662f\u4f60\u7684\u7b56\u7565\u3001\u8ba1\u7b97\u7cbe\u5ea6\u3001\u8bef\u7528\u672a\u6765\u51fd\u6570\u3001\u5206\u7ea2\u3001\u4ea4\u6613\u89c4\u5219\u7b49\u7b49\u5e26\u6765\u7684\u3002\u6211\u4eec\u5c06\u5728\u8fd9\u4e00\u8bfe\u4e2d\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u4e9bpitfall\u3002</p> <p>\u6211\u4eec\u8fd8\u4f1a\u4ecb\u7ecd\u5927\u5bcc\u7fc1\u7684\u56de\u6d4b\u6846\u67b6\uff0c\u8fd9\u4e0d\u662f\u515c\u552e\u79c1\u8d27\uff0c\u800c\u662f\u56e0\u4e3a\u8c61backtrader\u8fd9\u6837\u7684\u6846\u67b6\uff0c\u8981\u4e48\u907f\u514d\u4e0d\u4e86\u524d\u9762\u63d0\u5230\u7684\u56de\u6d4b\u9677\u9631\uff0c\u8981\u4e48\u4f60\u5f97\u82b1\u5f88\u591a\u529f\u592b\u53bb\u6539\u9020\u5b83\u3002\u8003\u8651\u5230\u5927\u5bcc\u7fc1\u662f\u5f00\u6e90\u7684\u3001\u5e76\u4e14\u56de\u6d4b\u6846\u67b6\u51e0\u4e4e\u5df2\u7ecf\u652f\u6301\u4e86\u5206\u5e03\u5f0f\u56de\u6d4b -- \u5982\u679c\u6211\u8981\u6539\u52a8backtrader\uff0c\u8fd8\u4e0d\u5982\u63a5\u53d7\u5927\u5bcc\u7fc1\u56de\u6d4b\u6846\u67b6 -- \u5982\u679c\u4f60\u7684\u516c\u53f8\u6b63\u5728\u5bfb\u627e\u4e00\u6b3e\u7b26\u5408A\u80a1\u4ea4\u6613\u89c4\u5219\uff0c\u80fd\u89e3\u51b3\u590d\u6743\u95ee\u9898\uff0c\u6700\u597d\u8fd8\u5177\u6709\u5206\u5e03\u5f0f\u57fa\u7840 -- \u5efa\u8bae\u4f60\u8ba4\u771f\u5b66\u5b8c\u8fd9\u4e00\u8bfe\u3002</p> <p>\u8fd9\u662f\u7b2c22\u8bfe\u7684\u5185\u5bb9\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/detail/#_5","title":"\u516d\u3001 \u63a5\u5165\u5b9e\u76d8","text":"<p>\u7b2c23\u548c\u7b2c24\u8bfe\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u5982\u4f55\u63a5\u5165\u5b9e\u76d8\u4ea4\u6613\u3002\u4f60\u4e5f\u5c06\u4ece\u8fd9\u91cc\u79bb\u5f00\u5f69\u6392\u573a\uff0c\u8fdb\u5165\u73b0\u573a\u76f4\u64ad\u3002</p> <p>\u6211\u4eec\u4f1a\u4ecb\u7ecd\u6ca1\u6709\u8d44\u91d1\u95e8\u69db\u7684easy_trader\uff0c\u548c\u6709\u4e00\u5b9a\u8d44\u91d1\u95e8\u69db\u7684ptrade\uff0cqmt\uff0c\u548c\u4e1c\u8d22\u3001\u534e\u6cf0\u91cf\u5316\u4ea4\u6613\u5e73\u53f0\u3002QMT\u662f\u8fc5\u6295\u63a8\u51fa\u7684\u91cf\u5316\u5e73\u53f0\uff0c\u9664\u4e86\u5185\u7f6e\u7b56\u7565\u7f16\u8f91\u3001\u56de\u6d4b\u8fd0\u884c\u529f\u80fd\u4e4b\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3aXtQuant\u7684Python\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684\u6570\u636e\u548c\u4ea4\u6613\u529f\u80fd\u3002\u76ee\u524dQMT\u662f\u91cf\u5316\u7a0b\u5e8f\u63a5\u5165\u5b9e\u76d8\u6027\u4ef7\u6bd4\u6700\u9ad8\u7684\u65b9\u6848\u3002</p> <p>\u5341\u5e74\u78e8\u4e00\u5251\uff0c\u971c\u5203\u672a\u66fe\u8bd5\u3002\u8fc7\u8fd9\u4e48\u591a\u8bfe\u7a0b\u7684\u5b66\u4e60\u4ee5\u53ca\u7ec3\u4e60\uff0c\u6211\u786e\u4fe1\uff0c\u4f60\u7684ATM\u673a\uff0c\u5df2\u7ecf\u51c6\u5907\u597d\u4e86\uff01</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/faq/","title":"\u5e38\u89c1\u95ee\u9898","text":"","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/faq/#_1","title":"\u62a5\u540d\u6d41\u7a0b\u548c\u5b66\u4e60\u73af\u5883","text":"<p>\u8bfe\u7a0b\u600e\u4e48\u5b66\uff1f</p> <p>\u8bfe\u7a0b\u4ee5\u89c6\u9891\u3001notebook\u548c\u7b54\u7591\u65b9\u5f0f\u63d0\u4f9b\u3002\u89c6\u9891\u5728\u8354\u679d\u5fae\u8bfe\u4e0a\uff0cnotebook\u7531\u6211\u4eec\u63d0\u4f9b\u7684\u670d\u52a1\u5668host\u3002\u6bcf\u5468\u63d0\u4f9b\u4e00\u6b21\u96c6\u4e2d\u7b54\u7591\uff0c\u65f6\u95f4\u662f\u5468\u65e5\u665a8\u70b9\uff0c\u5f62\u5f0f\u4e3a\u817e\u8baf\u4f1a\u8bae\u3002 \u8d2d\u4e70\u540e\uff0c\u52a0\u5bbd\u7c89\uff08quantfans_99\uff09\u8d26\u53f7\uff0c\u5f00\u901a\u8bfe\u4ef6\u670d\u52a1\u5668\u8d26\u53f7\uff0c\u5373\u53ef\u5f00\u59cb\u5b66\u4e60\u3002\u5bbd\u7c89\u8fd8\u5c06\u4e3a\u60a8\u548c\u8001\u5e08\u5efa\u7acb\u8bfe\u7a0b\u5c0f\u7fa4\u3002 \u8d2d\u4e70\u8bf7\u70b9\u51fb\u94fe\u63a5</p> <p>\u5b66\u8fd9\u95e8\u8bfe\u9700\u8981\u591a\u4e45\uff1f</p> <p>\u8bfe\u7a0b\u5171\u670924\u7ae0\uff0c\u7ea640\u4e07\u5b57\u8282\uff0c\u89c6\u9891\u65f6\u957f\uff08\u7cbe\u526a\u548c1.2\u500d\u52a0\u901f\uff09\u7ea630\u5c0f\u65f6\u3002\u5efa\u8bae2\u4e2a\u6708\u5b66\u5b8c\uff0c\u4f46\u53d6\u51b3\u4e8e\u60a8\u7684\u80cc\u666f\u548c\u80fd\u5206\u914d\u7684\u65f6\u95f4\u3002 \u8bfe\u7a0b\u89c6\u9891\u4f1a\u6c38\u4e45\u514d\u8d39\u6536\u770b\u3002\u8bfe\u4ef6\u670d\u52a1\u5668\u4f7f\u7528\u671f\u9650\u4e00\u822c\u4e3a4\u4e2a\u6708\uff0c\u5982\u679c4\u4e2a\u6708\u5185\u6ca1\u6709\u5b66\u5b8c\uff0c\u53ef\u5411\u6211\u4eec\u63d0\u51fa\u7533\u8bf7\uff0c\u5408\u7406\u4f7f\u7528\u3002\u4e5f\u53ef\u4ee5\u6309\u6211\u4eec\u63d0\u4f9b\u7684\u8f6f\u4ef6\uff0c\u81ea\u884c\u90e8\u7f72\u5927\u5bcc\u7fc1\u91cf\u5316\u7814\u7a76\u73af\u5883\uff0c\u4e0b\u8f7d\u8bfe\u4ef6\u81ea\u884c\u90e8\u7f72\u3002\u8bfe\u4ef6\u670d\u52a1\u5668\u4ec5\u4f9b\u5b66\u4e60\u4f7f\u7528\uff0c\u4e0d\u80fd\u7528\u4f5c\u4e91\u670d\u52a1\u5668\u3002</p> <p>\u54ea\u4e9b\u4eba\u9002\u5408\u5b66\u4e60\u8fd9\u95e8\u8bfe/\u524d\u7f6e\u6761\u4ef6\uff1f</p> <p>\u4efb\u4f55\u4eba\uff0c\u53ea\u8981\u5177\u6709\u57fa\u672c\u7684Python\u7f16\u7a0b\u77e5\u8bc6\uff0c\u548c\u5927\u5b66\u6c34\u5e73\u7684\u6570\u5b66\u77e5\u8bc6\uff0c\u90fd\u53ef\u4ee5\u62a5\u540d\u5b66\u4e60\u8fd9\u95e8\u8bfe\u3002\u5177\u4f53\u60c5\u51b5\u53ef\u4ee5\u54a8\u8be2\u5bbd\u7c89\uff08quantfans_99\uff09\uff0c\u8bf7\u5979\u5e2e\u4f60\u8bc4\u4f30\u662f\u5426\u8fbe\u5230\u4e86\u5165\u95e8\u6761\u4ef6\u3002\u5982\u679c\u60a8\u6709\u4e00\u5b9a\u7f16\u7a0b\u57fa\u7840\uff0c\u6b63\u5728\u5b66\u4e60Python\uff0c\u4e5f\u53ef\u4ee5\u5148\u62a5\u540d\u8bfe\u7a0b\uff0c\u8001\u5e08\u53ef\u4ee5\u63d0\u4f9b\u514d\u8d39\u8f85\u5bfc\u3002</p> <p>\u4f60\u4eec\u63d0\u4f9b\u5b66\u4e60\u73af\u5883\u5417\uff1f</p> <p>\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u7531192CPU\u6838\u3001256GB\u5185\u5b58\u6784\u6210\u7684\u670d\u52a1\u5668\u96c6\u7fa4\u4e3a\u5b66\u5458\u670d\u52a1\uff0c\u5b66\u5458\u901a\u8fc7\u6d4f\u89c8\u5668\u767b\u5f55\u540e\uff0c\u5373\u53ef\u5728\u7ebf\u5b66\u4e60\u548c\u8fd0\u884c\u6211\u4eec\u7684\u793a\u4f8b\u4ee3\u7801\u3002\u5728\u8be5\u73af\u5883\u4e2d\uff0c\u6211\u4eec\u6709\u8d85\u8fc730\u4ebf\u6761\u5546\u7528\u6570\u636e\uff082024\u5e74\u8d77\u7531\u805a\u5bbd\u8d5e\u52a9\uff09\uff0c\u4ec5\u8fd9\u4e9b\u6570\u636e\u7684\u8ba2\u9605\u8d39\u5c31\u8d85\u8fc72\u4e07\u5143\u3002</p> <p>\u4f60\u4eec\u7684\u5b66\u4e60\u73af\u5883\u6709\u4f55\u4f18\u52bf\uff0c\u81ea\u5df1\u642d\u73af\u5883\u53ef\u4ee5\u5417\uff1f</p> <p>\u8fd9\u4e2a\u73af\u5883\u6700\u5927\u7684\u4f18\u52bf\u5c31\u662f\u6211\u4eec\u63d0\u4f9b\u4e86\u56de\u6d4b\u529f\u80fd\uff08\u4e0d\u662f\u57fa\u4e8ebactrader\u7684\u56de\u6d4b\uff09\u53ca\u5546\u7528\u6570\u636e\u3002\u6211\u4eec\u7684\u56de\u6d4b\u662f\u5728\u5206\u949f\u7ebf\u57fa\u7840\u4e0a\u8fdb\u884c\u64ae\u5408\u7684\uff0c\u5e76\u4e14\u81ea\u52a8\u5b9e\u73b0\u4e86T+1\u9650\u5236\u3001\u6da8\u8dcc\u505c\u4ea4\u6613\u9650\u5236\uff0c\u80fd\u6700\u5927\u7a0b\u5ea6\u771f\u5b9e\u8fd8\u539f\u4ea4\u6613\u73b0\u573a\u3002\u8fd9\u4e9b\u6570\u636e\u91cf\u7279\u522b\u5de8\u5927\uff0c\u65e0\u6cd5\u590d\u5236\u3002\u56e0\u6b64\uff0c\u60a8\u81ea\u5df1\u642d\u5efa\u7684\u73af\u5883\uff0c\u8fd8\u9700\u8981\u8d2d\u4e70\u6570\u636e\uff0c\u624d\u80fd\u771f\u5b9e\u8fd8\u539f\u4ea4\u6613\u73b0\u573a\u3002\u53ea\u6709\u57fa\u4e8e\u771f\u5b9e\u7684\u6570\u636e\uff0c\u60a8\u8fdb\u884c\u7b56\u7565\u8c03\u4f18\u624d\u6709\u610f\u4e49\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/faq/#_2","title":"\u804c\u4e1a\u89c4\u5212\u76f8\u5173\u95ee\u9898","text":"<p>\u5b66\u5b8c\u8fd9\u95e8\u8bfe\uff0c\u54ea\u4e9b\u5185\u5bb9\u53ef\u4ee5\u5199\u8fdb\u7b80\u5386\uff1f</p> <p>\u91cf\u5316\u662f\u4e00\u4e2a\u7ade\u4e89\u6bd4\u8f83\u6fc0\u70c8\u7684\u884c\u4e1a\uff0c\u524d\u6392\u673a\u6784\u5bf9\u5b66\u5386\u8981\u6c42\u5f88\u9ad8\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u4efb\u4f55\u4e00\u95e8\u91cf\u5316\u8bfe\u7a0b\uff08\u5168\u7403\uff09\u53ef\u4ee5\u76f4\u63a5\u5e2e\u4eba\u65a9\u83b7Offer\u3002\u4f46\u662f\uff0c\u5728\u4f60\u80fd\u591f\u62ff\u5230interview\u673a\u4f1a\u7684\u524d\u63d0\u4e0b\uff0c\u8fd9\u95e8\u8bfe\u5c06\u7ed9\u4f60\u4ece\u9762\u8bd5\u4e2d\u80dc\u51fa\u7684\u5e95\u6c14\uff0c\u56e0\u4e3a\u8fd9\u95e8\u8bfe\u4e2d\u4f20\u6388\u7684\u5b9e\u6218\u7ecf\u9a8c\uff0c\u53ef\u4ee5\u8ba9\u4f60\u770b\u8d77\u6765\u50cf\u6709\u4e86\u4e09\u5e74\u5de5\u4f5c\u7ecf\u9a8c\u4e00\u6837\u3002\u9664\u4e86top 10\uff0c\u5176\u5b83\u673a\u6784\u5f80\u5f80\u90fd\u9700\u8981\u65b0\u4eba\u6709hands-on\u7684\u80fd\u529b\uff0c\u80fd\u8fc5\u901f\u6295\u5165\u5de5\u4f5c\uff0c\u5e76\u4e14\u80fd\u4e0e\u540c\u4e8b\u5c55\u5f00\u534f\u4f5c\u3002\u8fd9\u662f\u4f60\u53ef\u4ee5\u80dc\u51fa\u7684\u5730\u65b9\u3002</p> <p>\u4f60\u4eec\u6709\u8ba4\u8bc6\u7684\u730e\u5934\u53ef\u4ee5\u5e2e\u5fd9\u63a8\u8350\u5de5\u4f5c\u5417\uff1f</p> <p>\u5f53\u7136\u6709\uff01\u6211\u4eec\u7684\u8d26\u53f7\u91cf\u5316\u98ce\u4e91\u662f\u5c0f\u7ea2\u4e66\u4e0a\u91cf\u5316\u8d5b\u9053\u7b2c\u4e00\u540d\uff0c\u730e\u5934\u516c\u53f8\u90fd\u4f1a\u4e3b\u52a8\u4e0e\u6211\u4eec\u5408\u4f5c\u3002</p> <p>\u4f60\u4eec\u6709\u54ea\u4e9b\u5b66\u5458\u5728\u5b66\u4e60\u8fd9\u95e8\u8bfe\uff1f</p> <p>\u8fd9\u95e8\u8bfe\u7684\u5b66\u5458\u6709\u6765\u81eaMIT\u7684\u535a\u58eb\u3001\u6709\u9999\u6e2f\u6295\u884c\u5458\u5de5\u3001\u6709\u56fd\u5185\u57fa\u91d1\u7ba1\u7406\u4eba\u3001\u4e92\u8054\u7f51\u5927\u5382\u5458\u5de5\u3001\u79c1\u52df\u8001\u603b\u548c\u5458\u5de5\uff0c\u4e5f\u6709\u6b63\u5728\u8bfb\u7814\uff0c\u5373\u5c06\u5bfb\u627e\u5de5\u4f5c\u7684\u7855\u58eb\u7814\u7a76\u751f\u548c\u4e2a\u4eba\u4ea4\u6613\u8005\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u5b66\u4e60\u91cf\u5316\u4ea4\u6613\uff1f</p> <p>\u53ea\u6709\u5b66\u4f1a\u7406\u8d22\uff0c\u624d\u80fd\u62e5\u6709\u7761\u540e\u6536\u5165\u3002\u5b66\u4f1a\u91cf\u5316\u4ea4\u6613\uff0c\u4e0d\u518d\u4e3a\u91d1\u94b1\u5de5\u4f5c\uff0c\u800c\u662f\u8ba9\u91d1\u94b1\u4e3a\u4f60\u5de5\u4f5c\uff01</p> <p>\u5b66\u5b8c\u8fd9\u95e8\u8bfe\uff0c\u662f\u4e0d\u662f\u5c31\u80fd\u8d5a\u94b1\u4e86\uff1f</p> <p>Yes And No. \u8fd9\u95e8\u8bfe\u662f\u4e00\u95e8\u7efc\u5408\u6027\u8bfe\u7a0b\uff0c\u91cd\u70b9\u5728\u4e8e\u89e3\u51b3\u6709\u7b56\u7565\u601d\u8def\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u4f55\u5c06\u5176\u7a0b\u5e8f\u5316\u3001\u79d1\u5b66\u5316\u3002\u5b66\u5b8c\u8fd9\u95e8\u8bfe\u7a0b\uff0c\u5982\u679c\u60a8\u662f\u7ecf\u9a8c\u4e30\u5bcc\u7684\u4ea4\u6613\u8005\uff0c\u90a3\u4e48\u60a8\u5c06\u80fd\u8fd0\u7528\u672c\u95e8\u8bfe\u7a0b\u6240\u8bb2\u6388\u7684\u65b9\u6cd5\uff0c\u91cd\u65b0\u68b3\u7406\u81ea\u5df1\u7684\u4ea4\u6613\u7ecf\u9a8c\uff0c\u53bb\u4f2a\u5b58\u771f\uff0c\u5c06\u5176\u4e2d\u6709\u6548\u7684\u7ecf\u9a8c\u4ee5\u7a0b\u5e8f\u7684\u65b9\u5f0f\u56fa\u5316\u4e0b\u6765\uff0c\u4ece\u800c\u907f\u514d\u60c5\u7eea\u6ce2\u52a8\u3001\u4eba\u8111\u8ba1\u7b97\u80fd\u529b\u4e0d\u8db3\u3001\u65e0\u6cd5\u6d1e\u6089\u548c\u5206\u6790\u5e02\u573a\u5168\u666f\u7684\u56f0\u6270\uff1b\u5982\u679c\u60a8\u6ca1\u6709\u4ea4\u6613\u7ecf\u9a8c\uff0c\u60a8\u4e5f\u5c06\u638c\u63e1\u79d1\u5b66\u7684\u91cf\u5316\u7406\u8bba\u548c\u7814\u7a76\u65b9\u6cd5\uff0c\u83b7\u5f97\u6253\u5f00\u7b56\u7565\u5b9d\u5e93\u7684\u94a5\u5319\u3002\u603b\u4e4b\uff0c\u5b66\u5b8c\u8fd9\u95e8\u8bfe\uff0c\u65e0\u8bba\u662f\u8ddf\u81ea\u5df1\u6bd4\uff0c\u8fd8\u662f\u8ddf\u5176\u5b83\u4ea4\u6613\u8005\u6bd4\uff0c\u60a8\u90fd\u5c06\u83b7\u5f97\u660e\u663e\u7684\u8fdb\u6b65\u3002\u4f46\u662f\uff0c\u80fd\u5426\u8d5a\u94b1\u4e0d\u4ec5\u4ec5\u8ddf\u81ea\u5df1\u7684\u80fd\u529b\u63d0\u5347\u6709\u5173\uff0c\u8fd8\u8ddf\u5e02\u573a\u5bc6\u5207\u76f8\u5173\u3002\u5982\u679c\u5e02\u573a\u5728\u4e0b\u884c\uff0c\u5e76\u4e14\u4e0d\u80fd\u505a\u7a7a\uff0c\u90a3\u4e48\u8d5a\u4e5f\u96be\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/faq/#_3","title":"\u91cf\u5316\u6846\u67b6\u76f8\u5173\u95ee\u9898","text":"<p>\u4f60\u4eec\u7684\u8bfe\u7a0b\u6709backtrader\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u4ecb\u7ecd\u5927\u5bcc\u7fc1\u91cf\u5316\u7684\u56de\u6d4b\u529f\u80fd\uff1f</p> <p>backtrader\u6709\u4ee5\u4e0b\u51e0\u4e2a\u91cd\u8981\u4e0d\u8db3\uff1a 1. \u5b83\u65e0\u6cd5\u5bf9\u63a5A\u80a1\u7684\u5b9e\u76d8\u4ea4\u6613\u3002\u60a8\u5fc5\u987b\u81ea\u5df1\u5f00\u53d1\u9002\u5408\u56fd\u5185\u7684\u884c\u60c5\u63a5\u6536\u548c\u5b9e\u76d8\u63a5\u53e3\u624d\u80fd\u5c06\u7b56\u7565\u8f6c\u5165\u5b9e\u76d8\u3002</p> <ol> <li> <p>backtrader\u4e0d\u80fd\u63d0\u4f9b\u52a8\u6001\u524d\u590d\u6743\u3002\u4f46\u8fd9\u662f\u60df\u4e00\u6b63\u786e\u7684\u590d\u6743\u673a\u5236\u3002</p> </li> <li> <p>backtrader\u7406\u8bba\u4e0a\u53ef\u4ee5\u57fa\u4e8e1\u5206\u949f\u7ebf\u8fdb\u884c\u64ae\u5408\uff0c\u4f46\u8003\u8651\u5230\u6570\u636e\u62f7\u8d1d\u95ee\u9898\uff0c\u5b9e\u9645\u4e0a\u65e0\u6cd5\u5b9e\u73b0\u3002\u57fa\u4e8e\u65e5\u7ebf\u8fdb\u884c\u64ae\u5408\u4f1a\u5bfc\u81f4\u865a\u5047\u6210\u4ea4\u3002\u6bd4\u5982\u5f53\u5929\u6807\u7684\u6700\u4f4e\u4ef7\u4e0b\u63a2\u523010.2\u5143\uff0c\u5982\u679c\u4f60\u572810.3\u5143\u5904\u8fdb\u884c\u59d4\u4e701\u4e07\u624b\uff0cbacktrader\u5c31\u4f1a\u8ba9\u4f60\u6210\u4ea4\u3002\u4f46\u6709\u53ef\u80fd\u572810.3\u53ca\u4ee5\u4e0b\uff0c\u5f53\u5929\u5c31\u53ea\u6210\u4ea4\u4e86\u4e00\u624b\uff0c\u56e0\u6b64\u56de\u6d4b\u65f6\uff0c\u6700\u5927\u6210\u4ea4\u91cf\u4e5f\u5e94\u8be5\u5c31\u662f1\u624b\uff0c\u4f46backtrader\u4f1a\u4ee5\u5168\u5929\u6210\u4ea4\u91cf\u4e3a\u9650\uff0c\u8ba9\u5176\u6210\u4ea4\u3002\u57fa\u4e8e\u5206\u949f\u7ebf\u8fdb\u884c\u62df\u5408\uff0c\u5c31\u53ef\u4ee5\u57fa\u672c\u907f\u514d\u8fd9\u79cd\u865a\u5047\u6210\u4ea4\u3002</p> </li> <li> <p>backtrader\u4e0d\u77e5\u9053A\u80a1\u7684\u4ea4\u6613\u5236\u5ea6\uff0c\u56e0\u6b64\u5b83\u4e0d\u9650\u5236T+1\u5356\u51fa\u548c\u6da8\u8dcc\u505c\u4ea4\u6613\u3002\u8fd9\u4f1a\u5bfc\u81f4\u56de\u6d4b\u4e0e\u5b9e\u76d8\u7b56\u7565\u8868\u73b0\u5dee\u5f02\u592a\u5927\u3002</p> </li> </ol> <p>\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u6709\u4f55\u4f18\u52bf\uff1f</p> <ol> <li> <p>\u4f18\u79c0\u7684\u56de\u6d4b\u548c\u7b56\u7565\u7cfb\u7edf\u3002\u7b56\u7565\u8f6c\u5b9e\u76d8\u65e0\u987b\u8fdb\u884c\u4ee3\u7801\u4fee\u6539\uff0c\u66ff\u6362\u56de\u6d4b\u670d\u52a1\u5668\u5730\u5740\u4e3a\u5b9e\u76d8\u670d\u52a1\u5668\u5730\u5740\u5373\u53ef\u3002\u514d\u4e8e\u4fee\u6539\u5c31\u4f1a\u51cf\u5c11\u9519\u8bef\u3002\u6b64\u5916\uff0c\u52a8\u6001\u524d\u590d\u6743\u3001\u57fa\u4e8e\u5206\u949f\u6570\u636e\u7684\u64ae\u5408\u90fd\u662f\u9886\u5148\u4f18\u52bf\u3002</p> </li> <li> <p>\u6d77\u91cf\u6570\u636e\u5904\u7406\u80fd\u529b\u3002\u6211\u4eec\u662f\u56fd\u5185\u7387\u5148\u4f7f\u7528\u65f6\u5e8f\u6570\u636e\u5e93\u4fdd\u5b58\u884c\u60c5\u6570\u636e\u7684\u5f00\u53d1\u8005\u3002</p> </li> <li> <p>\u4f18\u79c0\u7684\u4ee3\u7801\u8d28\u91cf\u548c\u6587\u6863\u8d28\u91cf\u3002\u6587\u6863\u8d28\u91cf\u786e\u5b9e\u5f88\u91cd\u8981\u3002</p> </li> <li> <p>\u63d0\u4f9b\u4e86\u8bb8\u591a\u7b97\u6cd5\u548c\u91cf\u5316\u4ea4\u6613\u5e38\u7528\u51fd\u6570\u3002\u6bd4\u5982\u6211\u4eec\u7684\u65e5\u5386\u8fd0\u7b97\u5e93\u3001\u7ed8\u56fe\u5e93\u3001\u5f62\u6001\u8bc6\u522b\u7b49\u90fd\u662f\u72ec\u5bb6\u529f\u80fd\u3002</p> </li> </ol> <p>\u5b66\u5b8c\u540e\u6211\u80fd\u7528\u4f60\u4eec\u7684\u5927\u5bcc\u7fc1\u91cf\u5316\u8f6f\u4ef6\u5417\uff1f</p> <p>\u53ef\u4ee5\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u7684\u4f18\u52bf\u4e4b\u4e00\u3002\u5b66\u5b8c\u8bfe\u7a0b\u540e\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u7684\u91cf\u5316\u8f6f\u4ef6\u5728\u672c\u5730\u90e8\u7f72\uff0c\u7acb\u5373\u5f00\u59cb\u4ea4\u6613\u3002 \u5927\u5bcc\u7fc1\u91cf\u5316\u8f6f\u4ef62.0\u662f\u5f00\u6e90\u8f6f\u4ef6\uff0c\u4f46\u6211\u4eec\u53ea\u5bf9\u5b66\u5458\u63d0\u4f9b\u5b89\u88c5\u5305\u548c\u6307\u5bfc\u3002\u90e8\u7f722.0\u9700\u8981\u8d2d\u4e70\u805a\u5bbd\u6570\u636e\u3002</p> <p>\u5927\u5bcc\u7fc1\u91cf\u5316\u8f6f\u4ef6\u672a\u6765\u89c4\u5219\uff1f</p> <p>\u6211\u4eec\u6b63\u5728\u5f00\u53d12.1\u7248\u672c\uff0c\u9884\u8ba1\u4eca\u5e746\u6708\u524d\u4ea4\u4ed8\u3002\u8fd9\u4e00\u7248\u672c\u5c06\u4f7f\u7528clickhouse\u4f5c\u4e3a\u6570\u636e\u5e93\uff0c\u4ee5\u4fbf\u80fd\u652f\u6301tick\u7ea7\u6570\u636e\u5b58\u50a8\u5e76\u4ecd\u7136\u4fdd\u6301\u5f88\u597d\u7684\u6027\u80fd\u3002\u5728\u5b9e\u76d8\u63a5\u53e3\u548c\u884c\u60c5\u65b9\u9762\uff0c\u6211\u4eec\u5c06\u63a5\u5165QMT\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/faq/#_4","title":"\u5176\u5b83\u95ee\u9898","text":"<p>\u6211\u6709\u4e00\u5757GPU\uff0c\u5728\u91cf\u5316\u4e2d\u80fd\u7528\u4e0a\u5417\uff1f</p> <p>\u5982\u679c\u76f4\u63a5\u4ece\u4ef7\u683c\u6570\u636e\u5165\u624b\u7684\u8bdd\uff0c\u8fd9\u6837\u7aef\u5230\u7aef\u7684AI\u6280\u672f\u73b0\u5728\u8fd8\u6ca1\u6709\u6210\u719f\uff0c\u4e5f\u6709\u53ef\u80fd\u6c38\u8fdc\u4e0d\u4f1a\u6210\u719f\u3002\u4ef7\u683c\u6570\u636e\u5305\u542b\u4e86\u76f8\u5f53\u5927\u7684\u566a\u58f0\uff0c\u6216\u8005\u8bf4\uff0c\u5b83\u662f\u4e00\u4e2a\u591a\u5bf9\u591a\u7684\u6620\u5c04\uff0c\u56e0\u6b64\u65e0\u6cd5\u4ece\u4e2d\u8fdb\u884c\u6709\u6548\u5730\u5b66\u4e60\u3002 \u76ee\u524d\u6700\u6210\u719f\u7684\u91cf\u5316\u7b56\u7565\u4e0eAI\u7ed3\u5408\u7684\u65b9\u6848\u662f\u4eba\u5de5\u63d0\u53d6\u56e0\u5b50\uff0c\u901a\u8fc7\u673a\u5668\u5b66\u4e60\uff0c\u7279\u522b\u662fXGBoost\u8fd9\u7c7b\u7b97\u6cd5\u6765\u8fdb\u884c\u56e0\u5b50\u7ec4\u5408\u3002XGBoost\u65e0\u6cd5\u5229\u7528GPU\u3002\u5982\u679c\u4f7f\u7528lightGBM,\u80fd\u5728\u90e8\u5206\u9636\u6bb5\u4e2d\u5229\u7528CPU\u3002NLP\u5728\u91cf\u4eba\u4ea4\u6613\u4e2d\u7684\u4f5c\u7528\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u4f46\u662f\u5927\u6a21\u578b\u9700\u8981\u7684\u8fd0\u884c\u73af\u5883\u662f\u591a\u6570\u4eba\u65e0\u6cd5\u627f\u53d7\u7684\u3002</p> <p>\u6211\u8be5\u5982\u4f55\u7533\u8bf7\u91cf\u5316\u4ea4\u6613\u6743\u9650\uff1f\u6709\u54ea\u4e9b\u95e8\u69db\uff1f</p> <p>\u4e00\u822c\u65b0\u5f00\u6237\u53ef\u4ee5\u540c\u65f6\u7533\u8bf7\u91cf\u5316\u4ea4\u6613\u6743\u9650\u3002\u53ef\u4ee5\u8ddf\u5bbd\u7c89\uff08quantfans_99\uff09\u54a8\u8be2\uff0c\u5e2e\u60a8\u627e\u5230\u95e8\u69db\u6700\u4f4e\u3001\u8d44\u8d39\u6700\u4f18\u7684\u5238\u5546\u3002</p> <p>\u53ef\u4ee5\u4ecb\u7ecd\u4e0b\u8001\u5e08\u5417?</p> <p> <p> Aaron </p> </p> <ul> <li> <p>IBM/Oracle\u9ad8\u7ea7\u8f6f\u4ef6\u7814\u53d1\u7ecf\u7406</p> </li> <li> <p>\u6d77\u8c5a\u6d4f\u89c8\u5668\uff08\u7ea2\u6749\u8d44\u672c\u6295\u8d44\uff09\u526f\u603b\u88c1</p> </li> <li> <p>\u91cf\u5316\u6295\u8d44\u516c\u53f8\u8054\u521b</p> </li> <li> <p>Zillionare\u5f00\u6e90\u91cf\u5316\u6846\u67b6\u53d1\u8d77\u4eba</p> </li> <li> <p>\u300aPython\u80fd\u505a\u5927\u9879\u76ee\u300b\u4f5c\u8005\uff08\u5c06\u7531\u673a\u68b0\u5de5\u4e1a\u51fa\u7248\u793e\u51fa\u7248\uff09\u3002</p> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/","title":"\u5927\u5bcc\u7fc1\u91cf\u531624\u8bfe\u7f16\u6392\u8bf4\u660e","text":"","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#01","title":"01 \u8bfe\u7a0b\u5185\u5bb9","text":"<p>\u672c\u8bfe\u7a0b\u6db5\u76d6\u4e86\u4ece\u83b7\u5f97\u6570\u636e\uff0c\u5230\u6570\u636e\u9884\u5904\u7406\u3001\u56e0\u5b50\u63d0\u53d6\u4e0e\u5206\u6790\u3001\u56de\u6d4b\u3001\u53ef\u89c6\u5316\u5230\u5b9e\u76d8\u7684\u5168\u6d41\u7a0b\uff0c\u4ecb\u7ecd\u4e86\u4f17\u591a\u91cf\u5316\u5fc5\u5907\u5e93\u7684\u7528\u6cd5\uff0c\u5305\u62ec\uff1a</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_1","title":"\u5982\u4f55\u83b7\u53d6\u6570\u636e","text":"<p>\u6211\u4eec\u4f1a\u4ecb\u7ecdakshare, tushare, jqdatasdk\u8fd9\u4e9b\u5e38\u7528\u5e93\uff0c\u4e5f\u4f1a\u4ecb\u7ecd\u673a\u6784\u5728\u7528\u4ec0\u4e48\u6570\u636e\u5e93</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#python","title":"Python\u91d1\u878d\u6570\u636e\u5206\u6790","text":"<pre><code>- numpy\n- pandas\n- scipy\uff08\u91cd\u70b9stats\u548csignal\uff09\n- scikit-learn \uff08preprocessing, metrics\u7b49\uff09\n- statsmodel\uff08ECDF\uff0c\u7ecf\u9a8c\u6982\u7387\u5206\u5e03\uff09\n- statistics \uff08python\u5185\u7f6e\u7edf\u8ba1\u5e93\uff09\n- zigzag \uff08\u9876\u5e95\u5206\u6790\uff0c\u673a\u5668\u5b66\u4e60\u6807\u6ce8\u53ca\u5f62\u6001\u68c0\u6d4b\uff09\n- ckwraps\uff08\u4e00\u7ef4\u6570\u636e\u805a\u7c7b\uff0c\u7528\u4ee5\u5e73\u53f0\u68c0\u6d4b\u7b49\uff09\n- talib\u548c\u6280\u672f\u6307\u6807\uff08RSI, ATR\uff0c\u5747\u7ebf\uff09\n</code></pre>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_2","title":"\u56e0\u5b50\u5206\u6790\u65b9\u6cd5","text":"<pre><code>- alphalens\n- jqfactor\n</code></pre>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_3","title":"\u7ed8\u56fe\u4e0e\u53ef\u89c6\u5316","text":"<pre><code>- matplotlib\n- plotly\n- pyecharts\n- seaborn\n</code></pre>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_4","title":"\u56de\u6d4b","text":"<pre><code>- backtrader\uff08\u56de\u6d4b\u6846\u67b6\uff09\n- Zillionare (\u56de\u6d4b\u6846\u67b6)\n- empyrical \uff08\u7b56\u7565\u6307\u6807\u5206\u6790\uff09\n- quantstats (\u56de\u6d4b\u6307\u6807\u53ef\u89c6\u5316)\n</code></pre>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_5","title":"\u5b9e\u76d8","text":"<pre><code>- easytrader\uff08\u57fa\u4e8e\u952e\u9f20\u6a21\u62df\uff09\n- ptrade\uff08ptrade\u5b9e\u76d8\u63a5\u53e3\uff09\n- emt\uff08\u4e1c\u8d22\u6587\u4ef6\u5355\uff09\n- qmt\uff08qmt\u5b9e\u76d8\u63a5\u53e3\uff09\n</code></pre>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_6","title":"\u5176\u5b83","text":"<pre><code>- sympy \uff08\u7b26\u53f7\u6570\u5b66\u8fd0\u7b97\uff0c\u8bba\u6587\u795e\u5668\uff09\n- pyfolio (\u98ce\u9669\u3001\u56e0\u5b50\u5206\u6790)\n- ta (\u65f6\u5e8f\u56e0\u5b50\u5e93)\n</code></pre> <p>\u5185\u5bb9\u4e4b\u5e7f\uff0c\u6df1\u5ea6\u4e4b\u6df1\u4e3a\u5e02\u9762\u4e0a\u4ec5\u89c1\u3002\u5b66\u5b8c\u8fd9\u95e8\u8bfe\uff0c\u60a8\u5c06\u638c\u63e1\u91cf\u5316\u4ea4\u6613\u5b9e\u65bd\u7684\u5168\u8fc7\u7a0b\uff0c\u5e76\u4e14\u62e5\u6709\u575a\u5b9e\u7684\u6570\u636e\u5206\u6790\u80fd\u529b\u3001\u5355\u56e0\u5b50\u5206\u6790\u6280\u80fd\u3001\u6280\u672f\u5f62\u6001\u5206\u6790\u80fd\u529b\uff0c\u5177\u5907\u673a\u5668\u5b66\u4e60\u9884\u5907\u77e5\u8bc6\u3001\u6982\u7387\u4e0e\u7edf\u8ba1\u57fa\u7840\u77e5\u8bc6\uff0c\u5177\u5907\u9605\u8bfb\u7814\u62a5\u548c\u5b66\u672f\u8bba\u6587\u5e76\u590d\u73b0\u7684\u80fd\u529b\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_7","title":"\u8bfe\u7a0b\u7279\u70b9","text":"","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_8","title":"\u5185\u5bb9\u7279\u70b9","text":"<p>\u4e00\u662f\u5b9e\u6218\u6027\u5f3a\uff0c\u5c3d\u7ba1\u8bfe\u7a0b\u6709\u4e00\u5b9a\u7684\u7406\u8bba\u6df1\u5ea6\uff08\u6eaf\u6e90\u4e86\u591a\u4e2a\u7b56\u7565\u3001\u56e0\u5b50\u7684\u7406\u8bba\u6765\u6e90\u3001\u6d89\u53ca\u7edf\u8ba1\u6982\u7387\u548c\u884c\u4e1a\u91d1\u878d\u5b66\uff09\uff0c\u5728\u8bb2\u89e3\u7406\u8bba\u80cc\u666f\u540e\uff0c\u91cd\u70b9\u5728\u4e8e\u8054\u7cfb\u5b9e\u9645\uff0c\u544a\u8bc9\u5b66\u5458\u8bba\u6587\u4e2d\u7684\u6570\u5b66\u516c\u5f0f\uff0c\u5728Python\u4e2d\u7531\u54ea\u4e2a\u5e93\u3001\u54ea\u4e2a\u65b9\u6cd5\u6765\u5b9e\u73b0\uff0c\u7ed8\u5236\u51fa\u6765\u7684\u56fe\u662f\u4ec0\u4e48\uff0c\u4e00\u822c\u5728\u4ec0\u4e48\u91cf\u5316\u573a\u666f\u4e0b\u4f7f\u7528\uff0c\u80fd\u591f\u89e3\u51b3\u4ec0\u4e48\u95ee\u9898\u3002</p> <p>\u6280\u672f\u5f62\u6001\u5206\u6790\u548c\u62e9\u65f6\u4e5f\u662f\u5b9e\u6218\u7684\u4e00\u4e2a\u91cd\u70b9\u3002\u8bfe\u7a0b\u4e2d\u8bb2\u89e3\u7684\u7b97\u6cd5\uff0c\u57fa\u4e8e\u7edf\u8ba1\u6982\u7387\u548c\u673a\u5668\u5b66\u4e60\u7406\u8bba\uff0c\u7b97\u6cd5\u7684\u81ea\u9002\u5e94\u80fd\u529b\u5f3a\uff0c\u5f62\u6001\u6355\u6349\u51c6\u786e\uff0c\u6709\u8f83\u5f3a\u7684\u5b9e\u7528\u4ef7\u503c\uff0c\u5bf9\u4e8e\u6ce2\u6d6a\u7406\u8bba\u7684\u7a0b\u5e8f\u5316\u6709\u975e\u5e38\u5b9e\u9645\u7684\u4ef7\u503c\u3002</p> <p>\u7b2c\u4e8c\uff0c\u4ee3\u7801\u8d28\u91cf\u9ad8\uff0c\u6ce8\u91cd\u89c4\u8303\u548c\u6587\u6863\uff0c\u5bf9\u6027\u80fd\u6316\u6398\u5230\u6781\u81f4\uff08\u6388\u8bfe\u4eba\u5f00\u53d1\u7684\u5f00\u6e90\u91cf\u5316\u6846\u67b6\uff0c\u5b8c\u5168\u4f7f\u7528Python\uff0c\u5b9e\u73b0\u4e8630\u4ebf\u6761\u6570\u636e\u7684\u9ad8\u901f\u5b58\u50a8\u4e0e\u8bbf\u95ee\uff09\uff0c\u591a\u6570\u4ee3\u7801\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002</p> <p>\u7b2c\u4e09\uff0c\u6388\u8bfe\u4eba\u77e5\u8bc6\u9762\u5e7f\uff0c\u80fd\u878d\u6c47\u8d2f\u901a\u3002\u6bd4\u5982\u5728\u4ecb\u7ecd\u5927\u5bcc\u7fc1\u7684\u884c\u60c5\u6570\u636e\uff0c\u5728\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6211\u4eec\u4f7f\u752832\u4f4d\u6d6e\u70b9\u6570\u800c\u4e0d\u662f64\u4f4d\u6d6e\u70b9\u6570\u6765\u5b58\u50a8OHLC\u6570\u636e\u65f6\uff0c\u6211\u4eec\u8054\u7cfb\u4e86\u6df1\u5ea6\u5b66\u4e60\u6027\u80fd\u4f18\u5316\u65b9\u9762\u7684\u6700\u65b0\u8fdb\u5c55\uff1a</p> <p>Quote</p> <p>\u6211\u4eec\u4f7f\u7528np.float32\u6765\u5b58\u50a8OHLC\u8fd9\u4e9b\u6570\u636e\uff0c\u53ea\u5bf9\u6210\u4ea4\u989d\u3001\u6210\u4ea4\u91cf\u4f7f\u7528np.float64\u3002\u4f7f\u7528\u66f4\u5c0f\u7684\u5b57\u8282\u6570\u6765\u5b58\u50a8\u6570\u636e\uff0c\u662f\u5f53\u524dAI\u6027\u80fd\u4f18\u5316\u7684\u91cd\u8981\u65b9\u5411\u3002\u5927\u7ea62020\u5e74\u5b66\u754c\u5f00\u59cb\u4f7f\u7528int16\u6765\u538b\u7f29\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\uff0c\u800c\u6700\u8fd1\u5bf9\u5927\u6a21\u578b\u7684\u538b\u7f29\u4e2d\uff0c\u751a\u81f3\u5f00\u59cb\u4f7f\u7528int8\u3002</p> <p>\u53c8\u6bd4\u5982\uff0c\u5f88\u591a\u670b\u53cb\u8bfb\u8fc7\u6211\u4eec\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\u7684\u6587\u7ae0\u3002\u591a\u6570\u4eba\u8ba4\u4e3a\u8fd9\u7bc7\u6587\u7ae0\u9887\u6709\u6df1\u5ea6\u3002\u8fd9\u7bc7\u6587\u7ae0\u5b9e\u9645\u4e0a\u6765\u81ea\u4e8e\u6211\u4eec\u8bfe\u7a0b\u7684\u7b2c\u5341\u4e09\u8bfe\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_9","title":"\u7f16\u6392\u7279\u70b9","text":"<p>\u8bfe\u7a0b\u4e00\u822c\u4ee5\u601d\u7ef4\u5bfc\u56fe\u5f00\u59cb\uff0c\u52fe\u8fde\u51fa\u5168\u8bfe\u77e5\u8bc6\u70b9\uff0c\u6bd4\u5982\uff1a</p> <p></p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/how-the-course-are-composed/#_10","title":"\u5b9e\u9a8c\u73af\u5883","text":"<p>\u8bfe\u7a0b\u5728\u7ebf\u5b9e\u9a8c\u73af\u5883\u7531\u4e00\u4e2a256GB\u5185\u5b58\uff0c192cpu\u7684\u96c6\u7fa4\u63d0\u4f9b\uff0c\u5b66\u751f\u65e0\u987b\u51c6\u5907\u5b9e\u9a8c\u73af\u5883\u548c\u6570\u636e\u3002\u5728\u7ebf\u5b9e\u9a8c\u73af\u5883\u63d0\u4f9b\u4e8630\u4ebf\u6761\u884c\u60c5\u6570\u636e\u3001\u5b9e\u65f6\u884c\u60c5\u6570\u636e\u548c\u5728\u7ebf\u56de\u6d4b\u80fd\u529b\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u884c\u6a21\u62df\u76d8\u6d4b\u8bd5\u3002</p> <p>\u4e00\u4e2a\u597d\u7684\u7b56\u7565\uff0c\u5f80\u5f80\u9700\u8981\u901a\u8fc7\u51e0\u8f6e\u725b\u718a\u5468\u671f\u7684\u6d4b\u8bd5\u3002\u5728\u6211\u4eec\u7684\u5b9e\u9a8c\u73af\u5883\u91cc\uff0c\u51c6\u5907\u4e8618\u5e74\u7684\u6570\u636e\u3002\u8fd9\u662f\u4efb\u4f55\u901a\u8fc7CSV\u6765\u51c6\u5907\u6570\u636e\u7684\u8bfe\u7a0b\u505a\u4e0d\u5230\u7684\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/intro/","title":"\u8bfe\u7a0b\u7b80\u4ecb","text":"\u6211\u4eec\u63d0\u4f9b\u8bfe\u7a0b\u9884\u89c8!\u70b9\u51fb\u67e5\u770b <p>\u8fd9\u4e2a\u73af\u5883\u4e2d\uff0c\u63d0\u4f9b\u4e862005\u5e74\u4ee5\u6765\u8d85\u8fc730\u4ebf\u6761\u884c\u60c5\u6570\u636e\uff08\u5206\u949f\u7ea7\u8d77\uff09\uff0c\u5b9e\u65f6\u884c\u60c5\u6570\u636e\uff085\u79d2\u5ef6\u8fdf\uff09\uff0c\u5728\u7ebf\u56de\u6d4b\u548c\u6a21\u62df\u76d8\u63a5\u53e3\uff08\u5b9e\u76d8\u9700\u8981\u53e6\u5916\u5f00\u901a\uff09\u3002</p> <p>\u73af\u5883\u7531\u4e00\u4e2a256GB\u5185\u5b58\uff0c192\u6838cpu\u7684\u96c6\u7fa4\u8fd0\u884c\u3002</p> <p>\u3010\u60a8\u53ef\u4ee5\u70b9\u8fd9\u91cc\u767b\u5f55\u3011\uff0c\u5bc6\u7801\u662f1234\u3002\u767b\u5f55\u540e\uff0c\u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u4f7f\u7528\u8bf4\u660e\u6587\u6863\uff0c\u53cc\u51fb\u6253\u5f00\uff0c\u4f1a\u51fa\u73b0\u5982\u4e0b\u5185\u5bb9\uff1a</p> <p></p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/intro/#1","title":"1. \u7b80\u4ecb","text":"<p>\u672c\u8bfe\u7a0b\u662f\u4e00\u95e8\u4e2d\u9ad8\u7ea7\u8bfe\u7a0b\uff0c\u5b83\u9762\u5411\u6253\u7b97\u8fdb\u5165\u91cf\u5316\u4ea4\u6613\u9886\u57df\u7684\u5b66\u751f\u3001\u7a0b\u5e8f\u5458\u548c\u6b63\u5728\u4ece\u4e8b\u4e3b\u89c2\u4ea4\u6613\u7684\u673a\u6784\u6295\u8d44\u8005\u548c\u4e2a\u4eba\u6295\u8d44\u8005\u3002</p> <p>\u8bfe\u7a0b\u6db5\u76d6\u4e86\u91cf\u5316\u4ea4\u6613\u7684\u5168\u6d41\u7a0b\uff0c\u5373\u5982\u4f55\u83b7\u53d6\u6570\u636e\uff0c\u5982\u4f55\u8003\u5bdf\u6570\u636e\u7684\u5206\u5e03\u3001\u5173\u8054\u6027\uff0c\u56e0\u5b50\u548c\u6a21\u5f0f\u7684\u53d1\u73b0\u548c\u63d0\u53d6\uff0c\u5982\u4f55\u7f16\u5199\u7b56\u7565\u3001\u8fdb\u884c\u56de\u6d4b\u548c\u8bc4\u4f30\uff0c\u6700\u7ec8\u5c06\u7b56\u7565\u63a5\u5165\u5b9e\u76d8\u3002</p> <p>\u5b66\u4e60\u5b8c\u6210\u672c\u8bfe\u7a0b\u4e4b\u540e\uff0c\u60a8\u5c06\u4f1a\u5bf9\u91cf\u5316\u4ea4\u6613\u6709\u5168\u9762\u548c\u7cfb\u7edf\u7684\u4e86\u89e3\uff0c\u80fd\u591f\u72ec\u7acb\u5b9e\u65bd\u91cf\u5316\u7b56\u7565\u7684\u5f00\u53d1\u3001\u8c03\u8bd5\u3001\u56de\u6d4b\u53ca\u5b9e\u76d8\u4ea4\u6613\uff0c\u5e76\u4e14\u80fd\u8bc4\u4f30\u548c\u6539\u8fdb\u81ea\u5df1\u7684\u7b56\u7565\u3002\u60a8\u5c06\u6709\u80fd\u529b\u590d\u73b0\u8bba\u6587\u3001\u7ecf\u5178\u91cf\u5316\u4ea4\u6613\u7b56\u7565\u6216\u8005\u5b9e\u73b0\u7b56\u7565\u601d\u60f3\u3002\u5982\u679c\u81ea\u5df1\u5df2\u7ecf\u6709\u4e86\u6210\u529f\u7684\u4ea4\u6613\u7ecf\u9a8c\uff0c\u5219\u5c06\u6709\u5982\u864e\u6dfb\u7ffc\u4e4b\u611f\u3002</p> <p>\u798f\u5229</p> <ol> <li>\u5b66\u5b8c\u672c\u8bfe\u7a0b\uff0c\u5c06\u9644\u8d60\u5927\u5bcc\u7fc1\u91cf\u5316\u8f6f\u4ef6\u3002\u5f00\u901a\u91cf\u5316\u4ea4\u6613\u6743\u9650\u540e\uff0c\u5373\u53ef\u5f00\u59cb\u4ea4\u6613\uff01</li> <li>\u672c\u8bfe\u7a0b\u9644\u9001\u5927\u91cf\u793a\u4f8b\u4ee3\u7801\u53ca\u7b56\u7565\uff0c\u540e\u7eed\u66f4\u65b0\u6c38\u4e45\u53ef\u5f97</li> <li>\u6bcf\u5468\u7b54\u7591\u8f85\u5bfc</li> </ol> <p>\u8bfe\u7a0b\u5a92\u4ecb\u4e3a\u5f55\u64ad\u89c6\u9891\u3001Notebook\u6587\u7a3f\u548c\u6bcf\u5468\u4e00\u6b21\u7b54\u7591\u8f85\u5bfc\u3002\u6587\u5b57\u7a3f\u90e8\u5206\u7ea640\u4e07\u5b57\u8282\u3002\u672c\u8bfe\u7a0b\u5c06\u4e3a\u5b66\u5458\u63d0\u4f9b\u53ef\u8fd0\u884c\u8fd9\u4e9bNotebook\u7684\u5b9e\u9a8c\u73af\u5883\uff0c\u5728\u8be5\u5b9e\u9a8c\u73af\u5883\u4e2d\uff1a</p> <ul> <li>192\u6838CPU\u548c256GB\u5185\u5b58\uff08\u5b66\u5458\u5171\u4eab\uff09</li> <li>Jupyter Lab\u7b56\u7565\u5f00\u53d1\u73af\u5883</li> <li>\u8d85\u8fc730\u4ebf\u6761\u5206\u949f\u7ea7\u884c\u60c5\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u76d8\u4e2d\u5b9e\u65f6\u6570\u636e</li> <li>\u56de\u6d4b\u670d\u52a1\u3002\u60a8\u53ef\u4ee5\u7acb\u5373\u7f16\u5199\u7b56\u7565\u5e76\u8fd0\u884c\u56de\u6d4b</li> <li>\u4eff\u771f\u4ea4\u6613\u3002\u672c\u73af\u5883\u4e2d\u53ef\u63d0\u4f9b\u4eff\u771f\u4ea4\u6613\uff0c\u4f9b\u60a8\u68c0\u9a8c\u81ea\u5df1\u7684\u7b56\u7565</li> </ul> <p>\u8fd9\u662f\u4e00\u95e8\u6bd4\u8f83\u786c\u6838\u7684\u8bfe\u7a0b\uff0c\u6211\u4eec\u5728\u5185\u5bb9\u7f16\u6392\u4e0a\u505a\u5230\u4e86\u987a\u5e8f\u8bb2\u8ff0\u3001\u5c42\u5c42\u9012\u8fdb\u3001\u524d\u540e\u7167\u5e94\u3001\u53d6\u820d\u5f97\u5f53\u3002\u5728\u5185\u5bb9\u4e0a\uff0c\u8fd8\u6709\u8bb8\u591a\u5176\u5b83\u5730\u65b9\u96be\u5f97\u4e00\u89c1\u7684\u77e5\u8bc6\u70b9\uff0c\u6211\u4eec\u5217\u4e3e\u4e00\u4e8c\uff1a</p> <p>Question</p> <ol> <li>A\u80a1\u62a5\u4ef7\u7684\u6700\u5c0f\u5355\u4f4d\u662f\u5206\u3002\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5c0f\u6570\u56db\u820d\u4e94\u5165\u5230\u767e\u5206\u4f4d\u30022\u5143\u4ee5\u4e0b\u7684\u4e2a\u80a1\u51fa\u73b0\u820d\u5165\u8bef\u5dee\u65f6\uff0c\u6211\u4eec\u5c06\u627f\u53d70.5%\u7684\u635f\u5931\u3002\u5982\u679c\u6bcf\u5929\u8fdb\u884c\u4e00\u6b21\u8fd9\u6837\u7684\u4ea4\u6613\uff0c\u5e74\u5316\u635f\u5931\u4f1a\u8fbe\u5230\u60ca\u4eba\u7684247%\uff01\u53ef\u662f\uff0c\u60a8\u4f7f\u7528\u7684\u56db\u820d\u4e94\u5165\u65b9\u6cd5\uff0c\u5b83\u662f\u6b63\u786e\u7684\u5417\uff1f</li> <li>\u6709\u4eba\u8bf4\u56de\u6d4b\u4e2d\u8981\u4f7f\u7528\u540e\u590d\u6743\uff0c\u8fd9\u4e2a\u7ed3\u8bba\u662f\u6b63\u786e\u7684\u5417\uff1f\u4f60\u5c06\u5982\u4f55\u8bc1\u660e\uff1f</li> <li>\u5982\u679c\u60a8\u7684\u7b56\u7565\u5728\u56de\u6d4b\u4e2d\u5f97\u5230\u590f\u666e\u662f2\uff0c\u4e00\u822c\u800c\u8a00\uff0c\u8fd9\u662f\u4e2a\u4e0d\u9519\u7684\u7b56\u7565\u3002\u4f46\u5728\u5b9e\u76d8\u4e2d\uff0c\u5b83\u5f00\u59cb\u56de\u64a4\u4e86\uff0c\u590f\u666e\u4e5f\u5728\u53d8\u5dee\u3002\u5f53\u56de\u64a4\u8fbe\u5230\u591a\u5c11\u65f6\uff0c\u53ef\u4ee5\u65ad\u5b9a\uff0c\u7b56\u7565\u7684\u8fd0\u884c\u73af\u5883\u5df2\u4e0d\u5b58\u5728\uff0c\u5fc5\u987b\u4e2d\u6b62\u5b9e\u76d8\uff08\u5176\u5b83\u4eba\u53ef\u80fd\u544a\u8bc9\u60a8\uff0c\u91cf\u5316\u7a0b\u5e8f\u4e00\u65e6\u8fd0\u884c\uff0c\u5c31\u5fc5\u987b\u625b\u8fc7\u53bb\uff09\uff1f</li> <li>\u5982\u679c\u6b64\u65f6\u6caa\u6307\u4e0b\u8dcc4%\u3002\u80fd\u5426\u57fa\u4e8e\u8fc7\u53bb1000\u4e2a\u4ea4\u6613\u65e5\u7684\u6570\u636e\uff0c\u4ece\u7edf\u8ba1\u5b66\u7684\u539f\u7406\u63a8\u65ad\u51fa\u7ee7\u7eed\u4e0b\u8dcc\u7684\u6982\u7387\u4e3a\u591a\u5927\uff1f\u6362\u8a00\u4e4b\uff0c\u6b64\u65f6\u662f\u5426\u53ef\u4ee5\u6284\u5e95\u4e70\u5165\u4e86\uff1f</li> </ol>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/intro/#2","title":"2. \u8bfe\u7a0b\u5927\u7eb2\u53ca\u7f16\u6392\u8bf4\u660e","text":"<p>Tip</p> <p>\u66f4\u8be6\u7ec6\u7684\u8bfe\u7a0b\u5927\u7eb2\u89c1\u8fd9\u91cc</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/intro/#3","title":"3. \u91cf\u5316\u77e5\u8bc6\u4f53\u7cfb\u4e0e\u672c\u8bfe\u7a0b\u5b9a\u4f4d","text":"<p>\u91cf\u5316\u4ea4\u6613\u4e0d\u4ec5\u5728\u56fd\u5185\u662f\u65b0\u751f\u4e8b\u7269\uff0c\u5c31\u8fde\u4ece\u5b83\u5728\u534e\u5c14\u8857\u5360\u636e\u4e3b\u6d41\u5730\u4f4d\u5230\u73b0\u5728\uff0c\u4e5f\u4e0d\u8fc7 20 \u591a\u5e74\u5386\u53f2\u3002\u56e0\u6b64\uff0c\u5173\u4e8e\u91cf\u5316\u4ea4\u6613\uff0c\u5f88\u5c11\u770b\u5230\u4f53\u7cfb\u5316\u7684\u77e5\u8bc6\u7ed3\u6784\u68b3\u7406\u3002</p> <p>\u6211\u4eec\u6839\u636e\u81ea\u5df1\u7684\u7ecf\u9a8c\uff0c\u7ed3\u5408\u56fd\u5185\u5916\u540c\u7c7b\u8bfe\u7a0b\u3001\u540c\u884c\u4ea4\u6d41\u7684\u7ed3\u679c\uff0c\u901a\u8fc7\u5bf9\u4e3b\u6d41\u91cf\u5316\u6846\u67b6\u3001\u91cf\u5316\u5e38\u7528\u5e93\u7684\u68b3\u7406\u548c\u5bf9\u91cd\u8981\u8bba\u6587\u7684\u9605\u8bfb\u68b3\u7406\uff0c\u603b\u7ed3\u51fa\u5982\u4e0b\u5b66\u4e60\u8def\u7ebf\u56fe\uff1a</p> <p></p> <p>\u5728\u8fd9\u4e2a\u8def\u7ebf\u56fe\u4e2d\uff0c\u6700\u4e0b\u9762\u4e00\u5c42\u53ef\u4ee5\u770b\u4f5c\u662f\u5b66\u4e60\u91cf\u5316\u7684\u524d\u7f6e\u6761\u4ef6\u3002\u5173\u4e8e Python \u57fa\u7840\uff0c\u6211\u4eec\u6709\u8f83\u597d\u7684\u82f1\u6587\u6559\u6750\u53ef\u4ee5\u63d0\u4f9b\u3002\u8be5\u6559\u6750\u6bd4\u8f83\u7b80\u7ec3\uff0c\u4e0d\u9700\u8981\u82b1\u5f88\u591a\u65f6\u95f4\u5c31\u80fd\u5b66\u5b8c\uff0c\u5e76\u4e14\u4e0e\u6211\u4eec\u7684\u8bfe\u7a0b\u80fd\u5f88\u597d\u8854\u63a5\u3002\u5de5\u5177\u90e8\u5206\u53ef\u4ee5\u5728\u5b66\u4e60\u8fc7\u7a0b\u4e2d\uff0c\u8fb9\u7ec3\u8fb9\u5b66\u3002\u6570\u5b66\u90e8\u5206\u53ea\u8981\u8fbe\u5230\u8fc7\u8fd9\u4e2a\u57fa\u7840\u5373\u53ef\uff0c\u5728\u6211\u4eec\u7684\u8bfe\u7a0b\u4e2d\uff0c\u4f1a\u5e26\u9886\u5927\u5bb6\u590d\u4e60\u76f8\u5173\u7684\u5185\u5bb9\u3002</p> <p>\u6700\u4e0a\u9762\u4e00\u5c42\uff0c\u60a8\u53ef\u4ee5\u5728\u5165\u884c\u4e4b\u540e\uff0c\u6839\u636e\u81ea\u5df1\u7684\u76ee\u6807\uff0c\u6709\u9009\u62e9\u6027\u5730\u6df1\u5165\u5b66\u4e60\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/intro/#4","title":"4. \u8bfe\u7a0b\u6ce8\u518c\u6d41\u7a0b","text":"<ul> <li>\u8054\u7cfb quantfans_99 \uff08\u5bbd\u7c89\uff09\u8fdb\u884c\u54a8\u8be2\uff0c\u83b7\u5f97\u4e0b\u5355\u94fe\u63a5</li> <li>\u901a\u8fc7\u5e73\u53f0\u8d2d\u4e70\u8bfe\u7a0b</li> <li>\u8d2d\u4e70\u5b8c\u6210\u5f53\u65e5\uff0c\u52a9\u6559\uff08\u5bbd\u7c89\uff09\u5f00\u901a\u5b9e\u9a8c\u8d26\u53f7\uff0c\u5c06\u8bfe\u7a0b\u767b\u5f55\u7f51\u5740\u3001\u8d26\u53f7\u5bc6\u7801\u53d1\u9001\u7ed9\u5b66\u5458</li> <li>\u52a9\u6559\u5efa\u7acb\u8bfe\u7a0b\u8f85\u5bfc\u7fa4\uff0c\u9080\u8bf7\u8001\u5e08\u548c\u5b66\u5458\u52a0\u5165</li> <li>\u5b66\u5458\u5f00\u59cb\u5b66\u4e60\uff0c\u5b66\u4e60\u4e2d\u9047\u5230\u95ee\u9898\uff0c\u901a\u8fc7\u5fae\u4fe1\u7fa4\u63d0\u95ee\uff0c\u79c1\u8bfe\u73ed\u5f53\u5929\u7b54\u7591\u3002\u5176\u5b83\u73ed\u6bcf\u5468\u65e5\u7ebf\u4e0a\u4f1a\u8bae\u7b54\u7591\u3002</li> <li>\u4e24\u4e2a\u6708\u540e\uff0c\u5b66\u5458\u7ed3\u675f\u8bfe\u7a0b\u5b66\u4e60\u3002\u8bfe\u7a0b\u89c6\u9891\u53ef\u6c38\u4e45\u89c2\u770b\u3002\u5b9e\u9a8c\u73af\u5883\u4fdd\u75594\u4e2a\u6708\uff0c\u6b64\u540e\u53ef\u7533\u8bf7\u514d\u8d39\u4fdd\u7559\uff08\u5728\u8d44\u6e90\u8db3\u591f\u7684\u60c5\u51b5\u4e0b\uff09\u3002\u5982\u679c\u8d44\u6e90\u4e0d\u591f\uff0c\u5b66\u5458\u53ef\u81ea\u884c\u5728\u672c\u5730\u90e8\u7f72\u3002</li> </ul> <p>\u8bfe\u7a0b\u5b9e\u9a8c\u73af\u5883\u5982\u4e0b\uff1a</p> <p> </p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/intro/#5","title":"5. \u8bfe\u7a0b\u5b9a\u4ef7","text":"<p>2024\u5e743\u6708\u8bfe\u7a0b\u5b9a\u4ef7\u4e3a4900\u5143\u3002</p> <p>\u672c\u8bfe\u7a0b\u4e3b\u4f53\u5df2\u7ecf\u5b8c\u6210\uff0c\u540e\u7eed\u4f1a\u8fdb\u884c\u4fee\u8ba2\u5b8c\u5584\uff0c\u8865\u5145\u793a\u4f8b\u3001\u4e60\u9898\u548c\u7b56\u7565\uff0810\u4e2a\uff09\uff0c\u5e76\u5305\u542b\u4e00\u4e2a\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u6765\u7ec4\u5408\u591a\u56e0\u5b50\u7684\u7b56\u7565\u3002</p> <p>\u968f\u7740\u5185\u5bb9\u4e0d\u65ad\u4e30\u5bcc\uff0c\u4ef7\u683c\u4e5f\u5c06\u6bcf\u6708\u4e0a\u8c03\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/intro/#6","title":"6. \u4f18\u60e0\u5238\u9886\u53d6","text":"<p>\u4f60\u53ef\u4ee5\u5728 Github Repo\u4e0a\u4e3a\u6211\u4eec\u70b9\u8d5e\uff0c\u7136\u540e\u51ed\u7528\u6237\u540d\u5411\u5bbd\u7c89\uff08\u5fae\u4fe1\uff1a quantfans_99 \uff09\u9886\u53d6100\u5143\u4f18\u60e0\u5238\u4e00\u5f20\u3002\u4f18\u60e0\u5238\u53ef\u8d60\u9001\u7ed9\u4ed6\u4eba\u3002\u6bcf\u6b21\u8bfe\u7a0b\u53ef\u4f7f\u7528\u4e0d\u8d85\u8fc7\u603b\u989d20%\u7684\u4f18\u60e0\u5238\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/","title":"\u8bfe\u7a0b\u5927\u7eb2","text":"","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#1","title":"\u7b2c1\u8bfe \u5bfc\u8bba","text":"<ul> <li>1.1. \u91cf\u5316\u4ea4\u6613\u7b56\u7565\u5206\u7c7b<ul> <li>1.1.1. \u5bf9\u51b2\u7b56\u7565</li> <li>1.1.2. \u9ad8\u9891\u5957\u5229</li> <li>1.1.3. \u6280\u672f\u5206\u6790\u7c7b\u7b56\u7565</li> </ul> </li> <li>1.2. \u672c\u8bfe\u7a0b\u7684\u5b9a\u4f4d</li> <li>1.3. \u5982\u4f55\u5b66\u4e60\u672c\u8bfe\u7a0b<ul> <li>1.3.1. \u77e5\u8bc6\u50a8\u5907</li> <li>1.3.2. \u5728\u7ebf\u5b9e\u9a8c\u73af\u5883</li> </ul> </li> <li>1.4. \u5c0f\u7ed3</li> <li>1.5. \u53c2\u8003\u8d44\u6599</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#2-akshare","title":"\u7b2c2\u8bfe \u8bc1\u5238\u5e38\u8bc6\u53ca\u6570\u636e\u6e90\u4e4b Akshare","text":"<ul> <li>2.1. \u4ea4\u6613\u6240\u53ca\u8bc1\u5238\u4ee3\u7801</li> <li>2.2.1. Akshare<ul> <li>2.2.1.1. \u5728\u8bfe\u4ef6\u73af\u5883\u4e0b\u5b89\u88c5 akshare</li> <li>2.2.1.2. \u5b9e\u65f6\u80a1\u7968\u6570\u636e</li> <li>2.2.1.3. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>2.2.1.4. \u8bc1\u5238\u5217\u8868</li> <li>2.2.1.5. \u4ea4\u6613\u65e5\u5386</li> <li>2.2.1.6. \u5c01\u88c5\u548c\u6539\u8fdb\u5efa\u8bae</li> <li>2.2.1.7. \u7ec3\u4e60</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#3-tusharejqdatasdk","title":"\u7b2c3\u8bfe \u6570\u636e\u6e90\u4e4b Tushare\u3001JqDataSdk","text":"<ul> <li>3.1. TUSHARE<ul> <li>3.1.1. \u5728\u8bfe\u4ef6\u73af\u5883\u4e0b\u5b89\u88c5\u548c\u8bbe\u7f6e token</li> <li>3.1.2. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>3.1.3. \u8bc1\u5238\u5217\u8868</li> <li>3.1.4. \u4ea4\u6613\u65e5\u5386</li> </ul> </li> <li>3.2. \u805a\u5bbd\u672c\u5730\u6570\u636e<ul> <li>3.2.1. \u5728\u8bfe\u4ef6\u73af\u5883\u4e0b\u5b89\u88c5\u548c\u8bbe\u7f6e\u8d26\u53f7</li> <li>3.2.2. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>3.2.3. \u8bc1\u5238\u5217\u8868</li> <li>3.2.4. \u4ea4\u6613\u65e5\u5386</li> </ul> </li> <li>3.3. BAOSTOCK<ul> <li>3.3.1. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>3.3.2. \u8bc1\u5238\u5217\u8868</li> </ul> </li> <li>3.4. YFINANCE</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#4-zillionare","title":"\u7b2c4\u8bfe \u4f7f\u7528Zillionare\u6765\u83b7\u53d6\u6570\u636e","text":"<ul> <li>4.1. Omicron<ul> <li>4.1.1. \u521d\u59cb\u5316 omicron</li> <li>4.1.2. \u5b9e\u65f6\u80a1\u7968\u6570\u636e</li> <li>4.1.3. \u80a1\u7968\u5386\u53f2\u6570\u636e</li> <li>4.1.4. \u8bc1\u5238\u5217\u8868</li> <li>4.1.5. \u4ea4\u6613\u65e5\u5386</li> <li>4.1.6. \u677f\u5757\u6570\u636e</li> </ul> </li> <li>4.2. \u6570\u636e\u89e3\u8bfb A \u80a1: \u6295\u8d44\u8005\u4eba\u6570\u4e0e\u5e02\u573a\u8d70\u52bf\u5173\u7cfb</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#5","title":"\u7b2c5\u8bfe \u4e60\u9898\u8bb2\u89e3","text":"","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#6","title":"\u7b2c6\u8bfe \u5c0f\u5e02\u503c\u7b56\u7565","text":"<ul> <li>6.1. \u5c0f\u5e02\u503c\u7b56\u7565\u7b80\u4ecb</li> <li>6.2. \u7b56\u7565\u5b9e\u73b0<ul> <li>6.2.1. \u521d\u59cb\u5316</li> <li>6.2.2. \u7ed8\u56fe</li> <li>6.2.3. \u7b56\u7565\u4e3b\u4f53\u4ee3\u7801</li> </ul> </li> <li>6.3. \u7b56\u7565\u4f18\u5316<ul> <li>6.3.1. \u62e9\u65f6\u4f18\u5316</li> <li>6.3.2. \u89c4\u5219\u4f18\u5316</li> <li>6.3.3. \u53c2\u6570\u4f18\u5316</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#7","title":"\u7b2c7\u8bfe \u5e03\u6797\u5e26\u7b56\u7565","text":"<ul> <li>7.1. \u4f7f\u7528coursea\u7684\u521d\u59cb\u5316</li> <li>7.2. \u57fa\u4e8e\u57fa\u7c7b\u7684\u5e03\u6797\u5e26\u7b56\u7565</li> <li>7.3. \u7b56\u7565\u4f18\u5316\u65b9\u5411\u8ba8\u8bba<ul> <li>7.3.1. \u53c2\u6570\u4f18\u5316</li> <li>7.3.2. \u8d8b\u52bf\u5224\u65ad</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#8","title":"\u7b2c8\u8bfe","text":"<ul> <li>8.1. \u4ec0\u4e48\u662f\u7f51\u683c\u4ea4\u6613\uff1f</li> <li>8.2. \u4ee3\u7801\u5b9e\u73b0<ul> <li>8.2.1. \u521d\u59cb\u5316</li> <li>8.2.2. \u8bc4\u4f30\u51fd\u6570</li> <li>8.2.3. \u7b56\u7565\u884c\u4e3a\u5206\u6790</li> </ul> </li> <li>8.3. \u6280\u672f\u5b9e\u73b0\u95ee\u9898<ul> <li>8.3.1. \u59d4\u6258\u4ef7\u683c\u548c\u4ea4\u6613\u65f6\u673a</li> <li>8.3.2. \u9001\u8f6c\u95ee\u9898</li> <li>8.3.3. \u4ea4\u6613\u5355\u4f4d</li> </ul> </li> <li>8.4. \u7b56\u7565\u4f18\u5316: \u4ece1.37%\u523079.8%!<ul> <li>8.4.1. \u9009\u62e9\u6709\u201c\u754c\u201d\u7684\u6807\u7684</li> <li>8.4.1.1. \u5927\u5e02\u503c\u80a1\u7968</li> <li>8.4.1.2. \u8d85\u8dcc\u80a1\u7968</li> <li>8.4.1.3. \u53ef\u8f6c\u503a</li> <li>8.4.2. \u57fa\u4e8e\u5386\u53f2\u6570\u636e\uff0c\u786e\u5b9a\u7f51\u683c\u53c2\u6570</li> <li>8.4.3. \u63d0\u9ad8\u8d44\u91d1\u5229\u7528\u7387</li> </ul> </li> <li>8.5. \u8d8b\u52bf\u8ddf\u8e2a\u7f51\u683c</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#9-numpy-pandas","title":"\u7b2c9\u8bfe Numpy \u548c Pandas","text":"<ul> <li>9.1. Numpy<ul> <li>9.1.1. \u521b\u5efa\u6570\u7ec4</li> <li>9.1.1.1. vanilla version</li> <li>9.1.1.2. \u9884\u7f6e\u7279\u6b8a\u6570\u7ec4</li> <li>9.1.1.3. \u901a\u8fc7\u5df2\u6709\u6570\u7ec4\u8f6c\u6362</li> <li>9.1.2. \u67e5\u770b (inspecting) \u6570\u7ec4\u7279\u6027</li> <li>9.1.3. \u6570\u7ec4\u64cd\u4f5c</li> <li>9.1.3.1. \u5347\u7ef4</li> <li>9.1.3.2. \u964d\u7ef4</li> <li>9.1.3.3. \u8f6c\u7f6e</li> <li>9.1.3.4. \u589e\u52a0/\u5220\u9664\u5143\u7d20</li> <li>9.1.4. \u903b\u8f91\u8fd0\u7b97\u548c\u6bd4\u8f83</li> <li>9.1.5. \u96c6\u5408\u8fd0\u7b97</li> <li>9.1.6. \u6570\u5b66\u8fd0\u7b97</li> <li>9.1.6.1. \u70b9\u4e58</li> <li>9.1.6.2. \u805a\u5408\u8fd0\u7b97\u548c\u7edf\u8ba1\u51fd\u6570</li> <li>9.1.7. \u8bfb\u53d6\u3001\u67e5\u627e\u548c\u641c\u7d22</li> <li>9.1.7.1. \u7d22\u5f15\u548c\u5207\u7247</li> <li>9.1.7.2. \u67e5\u627e\u3001\u66ff\u6362\u3001\u7b5b\u9009</li> <li>9.1.8. \u7c7b\u578b\u8f6c\u6362\u548c typing module</li> <li>9.1.9. Structured Array</li> <li>9.1.10. IO</li> <li>9.1.11. \u91cf\u5316\u4ea4\u6613\u4e2d\u5e38\u7528\u51fd\u6570\u793a\u4f8b</li> <li>9.1.11.1. REF(close, n)</li> <li>9.1.11.2. EVERY(cond, n)</li> <li>9.1.11.3. LAST(cond_list, n, m)</li> <li>9.1.11.4. BARSLAST</li> <li>9.1.11.5. CROSS</li> </ul> </li> <li>9.2. Pandas<ul> <li>9.2.1. creation</li> <li>9.2.2. \u6570\u636e\u8bbf\u95ee</li> <li>9.2.3. \u904d\u5386 dataframe</li> </ul> </li> <li>9.3. pandas vs numpy</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#10-ta-lib","title":"\u7b2c10\u8bfe Ta-Lib","text":"<ul> <li>10.1. \u5b89\u88c5talib<ul> <li>10.1.1. \u539f\u751f\u5e93\u7684\u5b89\u88c5</li> <li>10.1.1.1. Macos</li> <li>10.1.1.2. Linux</li> <li>10.1.1.3. Windows</li> <li>10.1.1.4. \u4f7f\u7528conda</li> <li>10.1.1.5. \u7b2c\u4e09\u65b9\u6784\u5efa\u7684wheel\u5305</li> <li>10.1.2. \u5b89\u88c5python wrapper</li> </ul> </li> <li>10.2. ta-lib\u6982\u89c8<ul> <li>10.2.1. \u5173\u4e8e\u5e2e\u52a9\u6587\u6863</li> <li>10.2.2. \u4e24\u7c7b\u63a5\u53e3</li> <li>10.2.3. \u65b9\u6cd5\u6982\u89c8</li> </ul> </li> <li>10.3. \u5e38\u7528\u6307\u6807\u51fd\u6570<ul> <li>10.3.1. ATR</li> <li>10.3.2. \u79fb\u52a8\u5e73\u5747\u7ebf</li> <li>10.3.2.1. SMA</li> <li>10.3.2.2. EMA</li> <li>10.3.2.3. WMA</li> <li>10.3.3. \u5e03\u6797\u5e26</li> <li>10.3.4. MACD</li> <li>10.3.5. RSI</li> <li>10.3.6. OBV \uff08on-balance volume)</li> </ul> </li> <li>10.4. \u6a21\u5f0f\u8bc6\u522b\u51fd\u6570<ul> <li>10.4.1. CDL3LINESTRIKE</li> <li>10.4.2. CDL3WHITESOLDIERS</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#11-python1","title":"\u7b2c11\u8bfe Python\u4e0e\u6570\u636e\u79d1\u5b66\uff081\uff09","text":"<ul> <li>11.1. \u8003\u5bdf\u6570\u636e\u5206\u5e03<ul> <li>11.1.1. \u5bfb\u627e\u6570\u636e\u7684\u4e2d\u5fc3</li> <li>11.1.1.1. \u5747\u503c\u548c\u8d28\u5fc3</li> <li>11.1.1.2. \u4e2d\u4f4d\u6570</li> <li>11.1.1.3. \u4f17\u6570</li> <li>11.1.2. \u91cf\u5316\u6570\u636e\u7684\u5206\u6563\u7a0b\u5ea6</li> <li>11.1.2.1. \u5206\u4f4d\u6570</li> <li>11.1.2.2. \u65b9\u5dee\u548c\u6807\u51c6\u5dee</li> <li>11.1.2.3. \u9891\u6570\u3001PMF\u3001PDF\u3001CDF\u3001PPF\u548c\u76f4\u65b9\u56fe</li> <li>11.1.2.4. \u6982\u7387\u5bc6\u5ea6\u548c\u6982\u7387\u5bc6\u5ea6\u51fd\u6570</li> <li>11.1.2.5. \u7d2f\u79ef\u6982\u7387\u548c\u7d2f\u79ef\u6982\u7387\u51fd\u6570CDF</li> <li>11.1.2.6. CDF\u4f30\u8ba1\u53ca\u5176\u5e94\u7528</li> <li>11.1.2.7. \u51e0\u4e2a\u6982\u5ff5\u4e4b\u95f4\u7684\u5173\u7cfb</li> <li>11.1.3. \u6570\u636e\u7684\u5206\u5e03\u5f62\u6001</li> <li>11.1.4. \u4e2d\u5fc3\u77e9\u7684\u6982\u5ff5</li> <li>11.1.5. \u504f\u5ea6\u3001\u5cf0\u5ea6\u5728\u6295\u8d44\u4e2d\u7684\u89e3\u91ca\u4e0e\u5e94\u7528</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#12-python2","title":"\u7b2c12\u8bfe \u6570\u636e\u5206\u6790\u4e0ePython\u5b9e\u73b0\uff082\uff09","text":"<ul> <li>12.1. \u7edf\u8ba1\u63a8\u65ad\u65b9\u6cd5<ul> <li>12.1.1. \u5206\u4f4d\u56fe</li> <li>12.1.3. \u5047\u8bbe\u68c0\u9a8c\u65b9\u6cd5</li> </ul> </li> <li>12.2. \u62df\u5408\u3001\u56de\u5f52\u548c\u6b8b\u5dee<ul> <li>12.2.1. \u6b8b\u5dee\u53ca\u5176\u5ea6\u91cf</li> <li>12.2.1.1. max_error</li> <li>12.2.1.2. mean_absolute_error</li> <li>12.2.1.3. mean_absolute_percentage_error</li> <li>12.2.1.4. mean_squared_error</li> <li>12.2.1.5. rooted mean squared error</li> <li>12.2.2. \u56de\u5f52\u5206\u6790</li> </ul> </li> <li>12.3. \u76f8\u5173\u6027<ul> <li>12.3.1. \u534f\u65b9\u5dee\u548c\u76f8\u5173\u7cfb\u6570</li> <li>12.3.2. \u76ae\u5c14\u900a\u76f8\u5173\u6027\u548c\u65af\u76ae\u5c14\u66fc\u76f8\u5173\u6027</li> <li>12.3.3. \u76f8\u5173\u6027\u5206\u6790\u793a\u4f8b</li> </ul> </li> <li>12.4. \u8ddd\u79bb\u548c\u76f8\u4f3c\u6027<ul> <li>12.4.1. \u5e38\u89c1\u8ddd\u79bb\u5b9a\u4e49\u5217\u4e3e</li> <li>12.4.2. \u5982\u4f55\u8ba1\u7b97\u8ddd\u79bb</li> </ul> </li> <li>12.5. \u5f52\u4e00\u5316</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#13","title":"\u7b2c13\u8bfe \u6280\u672f\u5206\u6790\u5b9e\u6218","text":"<ul> <li>13.1. \u7bb1\u4f53\u7684\u68c0\u6d4b<ul> <li>13.1.1. \u57fa\u4e8e\u7edf\u8ba1\u7684\u65b9\u6cd5</li> <li>13.1.2. \u57fa\u4e8e\u805a\u7c7b\u7684\u7b97\u6cd5</li> </ul> </li> <li>13.2. \u5bfb\u627e\u5c71\u5cf0\u4e0e\u6ce2\u8c37<ul> <li>13.2.1. scipy\u4e2d\u7684\u5b9e\u73b0</li> <li>13.2.2. \u7b2c\u4e09\u65b9\u5e93\uff1azigzag</li> <li>13.2.3. \u5982\u4f55\u5e73\u6ed1\u66f2\u7ebf</li> <li>13.2.4. \u53cc\u9876\u6a21\u5f0f\u7684\u68c0\u6d4b</li> <li>13.2.5. \u5706\u5f27\u5e95\u7684\u68c0\u6d4b</li> </ul> </li> <li>13.3. \u51f9\u51f8\u6027\u68c0\u6d4b</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#14","title":"\u7b2c14\u8bfe \u56e0\u5b50\u5206\u6790","text":"<ul> <li>14.1. \u56e0\u5b50\u5206\u7c7b</li> <li>14.2. \u56e0\u5b50\u5206\u6790<ul> <li>14.2.1. \u9884\u5904\u7406</li> <li>14.2.1.1. \u5f02\u5e38\u503c\u5904\u7406</li> <li>14.2.1.2. \u7f3a\u5931\u503c\u5904\u7406</li> <li>14.2.1.3. \u5206\u5e03\u8c03\u6574</li> <li>14.2.1.4. \u6807\u51c6\u5316</li> <li>14.2.1.5. \u4e2d\u6027\u5316</li> </ul> </li> <li>14.3. \u5355\u56e0\u5b50\u6d4b\u8bd5<ul> <li>14.3.1. \u56de\u5f52\u6cd5</li> <li>14.3.1.1. \u56de\u5f52\u6cd5\u7684\u56e0\u5b50\u8bc4\u4ef7</li> <li>14.3.2. IC\u5206\u6790\u6cd5</li> <li>14.3.2.1. IC\u5206\u6790\u6cd5\u7684\u56e0\u5b50\u8bc4\u4ef7</li> <li>14.3.3. \u5206\u5c42\u56de\u6d4b\u6cd5</li> <li>14.\u4ee3\u7801\u5b9e\u73b0</li> <li>14.3.4. \u4e09\u79cd\u65b9\u6cd5\u7684\u533a\u522b\u4e0e\u8054\u7cfb</li> </ul> </li> <li>14.\u56e0\u5b50\u8bc4\u4ef7\u4f53\u7cfb</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#15-alphalens","title":"\u7b2c15\u8bfe Alphalens\u53ca\u5176\u5b83","text":"<ul> <li>15.1. Alphalens<ul> <li>15.1.1. Alphalens\u8c03\u7528\u6d41\u7a0b</li> <li>15.1.2. \u6570\u636e\u9884\u5904\u7406</li> <li>15.1.3. \u56e0\u5b50\u5206\u6790</li> <li>15.1.4. Alphalens\u5e38\u89c1\u9519\u8bef\u548c\u8b66\u544a</li> <li>15.1.4.1. \u65f6\u533a\u95ee\u9898</li> <li>15.1.4.2. MaxLossExceedError</li> <li>15.1.4.3. FutureWarning</li> </ul> </li> <li>15.2. JQFactor\u548cjqfactor-analyzer</li> <li>15.3. sympy</li> <li>15.4. statistics</li> <li>15.5. statsmodels<ul> <li>15.5.1. OLS\uff08\u666e\u901a\u6700\u5c0f\u4e8c\u4e58\u6cd5\uff09\u4f30\u8ba1</li> <li>15.5.2. \u6bd4\u8f83OLS\u4e0eRLM</li> <li>15.5.3. ARIMA\u6a21\u578b\u4e0e\u65f6\u95f4\u5e8f\u5217\u9884\u6d4b</li> </ul> </li> <li>15.6. zipline</li> <li>15.7. pyfolio</li> <li>15.8. ta</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#16-matplotlib","title":"\u7b2c16\u8bfe Matplotlib \u7ed8\u56fe","text":"<ul> <li>16.1. matplot \u7b80\u4ecb</li> <li>16.2. \u56fe\u662f\u5982\u4f55\u6784\u6210\u7684<ul> <li>16.2.1. \u6700\u9876\u5c42\u7684\u6982\u5ff5</li> <li>16.2.2. pyplot, Figure\u4e0eAxes\u4e4b\u95f4\u7684\u5173\u7cfb</li> <li>16.2.3. layout</li> <li>16.2.4. Figure Anatomy</li> </ul> </li> <li>16.3. \u9ad8\u9891\u4f7f\u7528\u5bf9\u8c61<ul> <li>16.3.1. Axis</li> <li>16.3.1.1. spine\u5b9a\u4f4d\u4e0e\u9690\u85cf</li> <li>16.3.1.2. \u5171\u4eabx\u8f74</li> <li>16.3.1.3. \u523b\u5ea6</li> <li>16.3.2. \u6587\u672c\u548c\u4e2d\u6587</li> <li>16.3.3. \u6837\u5f0f\u548c\u989c\u8272</li> <li>16.3.3.1. colormap</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#17-plotly","title":"\u7b2c17\u8bfe Plotly \u7ed8\u56fe","text":"<ul> <li>17.1. Plotly \u4e2d\u7684\u57fa\u672c\u6982\u5ff5</li> <li>17.2. Plotly \u6a21\u5757\u7ed3\u6784<ul> <li>17.2.1. Plotly Express</li> <li>17.2.2. Graph Objects</li> <li>17.2.3. \u5176\u5b83</li> </ul> </li> <li>17.3. \u6bd4\u8f83 plotly express \u4e0e go.Figure</li> <li>17.4. Plotly \u80a1\u7968\u5206\u6790\u56fe\u7ed8\u5236<ul> <li>17.4.1. K \u7ebf\u56fe\u7ed8\u5236</li> <li>17.4.2. \u53e0\u52a0\u6280\u672f\u6307\u6807</li> <li>17.4.3. \u5b50\u56fe</li> <li>17.4.4. \u663e\u793a\u533a\u57df</li> <li>17.4.5. \u4ea4\u4e92\u5f0f\u63d0\u793a</li> </ul> </li> <li>17.5. \u8272\u5f69<ul> <li>17.5.1. \u79bb\u6563\u8272\u5f69\u5e8f\u5217</li> <li>17.5.2. \u8fde\u7eed\u8272\u9636</li> </ul> </li> <li>17.6. \u4e3b\u9898\u548c\u6a21\u677f</li> <li>17.7. Dash \u7b80\u4ecb<ul> <li>17.7.1. Hellow World</li> <li>17.7.2. \u8fde\u63a5\u5230\u6570\u636e</li> <li>17.7.3. \u589e\u52a0\u4ea4\u4e92\u5f0f\u63a7\u4ef6</li> <li>17.7.4. \u7f8e\u5316\u5e94\u7528\u7a0b\u5e8f</li> <li>17.7.5. \u6df1\u5165Dash</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#18-seaborn-pyecharts","title":"\u7b2c18\u8bfe Seaborn \u4e0e PyEcharts \u7ed8\u56fe","text":"<ul> <li>18.1. Seaborn<ul> <li>18.1.1. Seaborn \u7ed8\u56fe\u6982\u89c8</li> <li>18.1.1.1. \u7edf\u8ba1\u5173\u7cfb\u7684\u53ef\u89c6\u5316</li> <li>18.1.1.2. \u6570\u636e\u5206\u5e03\u7684\u53ef\u89c6\u5316</li> <li>18.1.1.3. \u4e8c\u5143\u5206\u5e03\u7684\u53ef\u89c6\u5316</li> <li>18.1.1.4. \u8054\u5408\u5206\u5e03\u548c\u8fb9\u7f18\u5206\u5e03</li> <li>18.1.1.5. \u56de\u5f52\u62df\u5408</li> <li>18.1.2. \u4e3b\u9898</li> <li>18.1.3. \u8c03\u8272\u677f\u7684\u4f7f\u7528</li> <li>18.1.3.1. \u5b9a\u6027\u8c03\u8272\u677f</li> <li>18.1.3.2. \u8fde\u7eed\u8c03\u8272\u677f</li> <li>18.1.3.3. \u53d1\u6563\u8c03\u8272\u677f</li> </ul> </li> <li>18.2. PyEcharts<ul> <li>18.2.1. \u5728 Notebook/Jupyterlab \u4e2d\u8fd0\u884c</li> <li>18.2.2. \u8c03\u7528\u4e60\u60ef</li> <li>18.2.3. \u4f7f\u7528\u9009\u9879</li> <li>18.2.4. \u5b50\u56fe\u548c\u5e03\u5c40</li> <li>18.2.4.1. Grid \u5e03\u5c40</li> <li>18.2.4.2. Page \u5e03\u5c40</li> <li>18.2.4.3. tab \u5e03\u5c40</li> <li>18.2.4.4. Timeline</li> </ul> </li> <li>18.3. \u5173\u4e8e\u989c\u8272\u548c\u7f8e\u5b66</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#19-backtrader-1","title":"\u7b2c19\u8bfe backtrader \u56de\u6d4b\u6846\u67b6\uff081\uff09","text":"<ul> <li>19.1. \u5feb\u901f\u5f00\u59cb</li> <li>19.2. backtrader \u8bed\u6cd5\u7cd6<ul> <li>19.2.1. \u65f6\u95f4\u7ebf (Line)</li> <li>19.2.2. \u8fd0\u7b97\u7b26\u91cd\u8f7d</li> </ul> </li> <li>19.3. Data Feeds<ul> <li>19.3.1. GenericCSVData</li> <li>19.3.2. Pandas Feed</li> <li>19.3.3. \u81ea\u5b9a\u4e49\u4e00\u4e2a Feed</li> <li>19.3.4. \u589e\u52a0\u65b0\u7684\u6570\u636e\u5217</li> </ul> </li> <li>19.4. \u591a\u5468\u671f\u6570\u636e<ul> <li>19.4.1. \u591a\u5468\u671f\u6280\u672f\u6307\u6807\u6bd4\u8f83</li> </ul> </li> <li>19.5. \u6307\u6807<ul> <li>19.5.1. \u5185\u7f6e\u6307\u6807\u5e93</li> <li>19.5.2. \u81ea\u5b9a\u4e49\u6307\u6807</li> <li>19.5.2.1. \u6700\u5c0f\u5468\u671f</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#20-backtrader-2","title":"\u7b2c20\u8bfe backtrader \u56de\u6d4b\u6846\u67b6\uff082\uff09","text":"<ul> <li>20.1. Cerebro<ul> <li>20.1.1. \u589e\u52a0\u8bb0\u5f55\u5668\uff08\u65e5\u5fd7\uff09</li> <li>20.1.2. \u589e\u52a0\u89c2\u5bdf\u8005</li> <li>20.1.3. \u6267\u884c\u4e0e\u7ed8\u56fe</li> </ul> </li> <li>20.2. Order<ul> <li>20.2.1. notify_order</li> </ul> </li> <li>20.3. \u4ea4\u6613\u4ee3\u7406<ul> <li>20.3.1. \u8d44\u4ea7\u4e0e\u6301\u4ed3\u67e5\u8be2</li> <li>20.3.2. \u6210\u4ea4\u91cf\u9650\u5236</li> <li>20.3.2.1. FixedSize</li> <li>20.3.2.2. FixedBarPerc</li> <li>20.3.2.3. BarPointPerc</li> <li>20.3.3. \u4ea4\u6613\u65f6\u673a - Cheat-On-Open</li> <li>20.3.4. \u4ea4\u6613\u65f6\u673a - Cheat-on-Close</li> <li>20.3.5. \u4ea4\u6613\u51fd\u6570</li> <li>20.3.5.1. \u666e\u901a\u4ea4\u6613\u51fd\u6570</li> <li>20.3.5.2. order_target \u7cfb\u5217</li> <li>20.3.6. \u7ec4\u5408\u4ea4\u6613</li> <li>20.3.7. OCO \u8ba2\u5355</li> <li>20.3.8. \u6ed1\u70b9\u3001\u4ea4\u6613\u8d39\u7528</li> <li>20.3.8.1. \u56fa\u5b9a\u6ed1\u70b9</li> <li>20.3.8.2. \u767e\u5206\u6bd4\u6ed1\u70b9</li> <li>20.3.9. \u4ea4\u6613\u8d39\u7528</li> </ul> </li> <li>20.4. \u53ef\u89c6\u5316<ul> <li>20.4.1. \u89c2\u5bdf\u5668</li> <li>20.4.1.1. Broker \u89c2\u5bdf\u5668</li> <li>20.4.1.2. BuySell \u89c2\u5bdf\u5668</li> <li>20.4.1.3. Trade \u89c2\u5bdf\u5668</li> <li>20.4.1.4. TimeReturn \u89c2\u5bdf\u5668</li> <li>20.4.1.5. DrawDown \u89c2\u5bdf\u5668</li> <li>20.4.1.6. Benchmark \u89c2\u5bdf\u5668</li> <li>20.4.2. \u5b9a\u5236\u7ed8\u56fe</li> <li>20.4.3. \u6536\u96c6\u56de\u6d4b\u6570\u636e</li> </ul> </li> <li>20.5. \u4f18\u5316</li> <li>20.6. \u5c0f\u7ed3</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#21","title":"\u7b2c21\u8bfe \u7b56\u7565\u56de\u6d4b\u8bc4\u4f30","text":"<ul> <li>21.1. \u56de\u62a5\u7387<ul> <li>21.1.1. \u7b80\u5355\u56de\u62a5\u7387</li> <li>21.1.2. \u5bf9\u6570\u56de\u62a5\u7387</li> <li>21.1.3. Cumulative Returns</li> <li>21.1.4. Aggregate Returns</li> <li>21.1.5. Annual Return</li> </ul> </li> <li>21.2. \u98ce\u9669\u8c03\u6574\u6536\u76ca\u7387<ul> <li>21.2.1. sharpe ratio</li> <li>21.2.2. sharpe \u6bd4\u7387\u4e0e\u8d44\u4ea7\u66f2\u7ebf\u7684\u5173\u7cfb</li> <li>21.2.3. sortino \u6307\u6807</li> <li>21.2.4. Max DrawDown \uff08\u6700\u5927\u56de\u64a4\uff09</li> <li>21.2.5. Sharpe \u4e0e max drawdown \u7684\u5173\u7cfb</li> <li>21.2.6. \u5e74\u5316\u6ce2\u52a8\u7387</li> <li>21.2.7. Calmar Ratio</li> <li>21.2.8. Omega Ratio</li> </ul> </li> <li>21.3. \u57fa\u51c6\u5bf9\u7167\u7c7b\u6307\u6807<ul> <li>21.3.1. information ratio</li> <li>21.3.2. alpha/beta</li> </ul> </li> <li>21.4. \u7b56\u7565\u8bc4\u4f30\u7684\u53ef\u89c6\u5316<ul> <li>21.4.1. Metrics</li> <li>21.4.2. plots</li> <li>21.4.3. basic \u548c full</li> <li>21.4.4. html</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#22","title":"\u7b2c22\u8bfe \u56de\u6d4b\u9677\u9631","text":"<ul> <li>22.1. \u5e78\u5b58\u8005\u504f\u5dee</li> <li>22.2. Look-ahead bias<ul> <li>22.2.1. \u5f15\u7528\u9519\u8bef</li> <li>22.2.2. \u5077\u4ef7</li> <li>22.2.3. \u590d\u6743\u5f15\u8d77\u7684\u524d\u89c6\u504f\u5dee</li> <li>22.2.4. PIT\u6570\u636e</li> </ul> </li> <li>22.3. \u590d\u6743\u5f15\u8d77\u7684\u95ee\u9898<ul> <li>22.3.1. \u4f7f\u7528\u590d\u6743\u6570\u636e\u7684\u5fc5\u8981\u6027</li> <li>22.3.2. \u540e\u590d\u6743\u7684\u95ee\u9898</li> <li>22.3.3. \u590d\u6743\u76f8\u5173\u7684\u5176\u5b83\u95ee\u9898</li> </ul> </li> <li>22.4. \u4ea4\u6613\u89c4\u5219<ul> <li>22.4.1. T+1\u4ea4\u6613</li> <li>22.4.2. \u6da8\u3001\u8dcc\u9650\u5236</li> </ul> </li> <li>22.5. \u8fc7\u5ea6\u62df\u5408</li> <li>22.6. \u56de\u6d4b\u65f6\u957f</li> <li>22.7. \u56de\u6d4b\u4e0e\u5b9e\u76d8\u7684\u5dee\u5f02<ul> <li>22.7.1. \u4fe1\u53f7\u95ea\u70c1</li> <li>22.7.2. \u51b2\u51fb\u6210\u672c</li> <li>22.7.3. \u4e0d\u53ef\u80fd\u6210\u4ea4\u7684\u4ef7\u683c</li> <li>22.7.4. \u64ae\u5408\u95ee\u9898</li> </ul> </li> <li>22.8. \u5927\u5bcc\u7fc1\u56de\u6d4b\u6846\u67b6<ul> <li>22.8.1. \u56de\u6d4b\u529f\u80fd\u7b80\u4ecb</li> <li>22.8.1.1. \u67b6\u6784\u548c\u98ce\u683c</li> <li>22.8.2. \u7b56\u7565\u6846\u67b6</li> <li>22.8.2.1. \u6570\u636e\u548c\u6570\u636e\u683c\u5f0f</li> <li>22.8.2.2. \u8de8\u5468\u671f\u6570\u636e</li> <li>22.8.2.3. \u9a71\u52a8\u6a21\u5f0f\u4e0e\u6027\u80fd</li> <li>22.8.2.4. \u56de\u6d4b\u62a5\u544a</li> <li>22.8.3. \u4e00\u4e2a\u5b8c\u6574\u7684\u7b56\u7565\u793a\u4f8b</li> <li>22.8.4. \u53c2\u6570\u4f18\u5316</li> </ul> </li> <li>22.9. \u53c2\u8003\u6587\u732e</li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#23-1","title":"\u7b2c23\u8bfe \u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3 (1)","text":"<ul> <li>23.1. easytrader<ul> <li>23.1.1. \u5b89\u88c5</li> <li>23.1.2. \u751f\u547d\u671f</li> <li>23.1.2.1. \u8fde\u63a5\u5ba2\u6237\u7aef</li> <li>23.1.2.2. \u83b7\u53d6\u8d26\u6237\u4fe1\u606f</li> <li>23.1.2.3. \u4ea4\u6613</li> <li>23.1.3. \u670d\u52a1\u5668\u6a21\u5f0f</li> <li>23.1.4. \u81ea\u52a8\u8ddf\u5355</li> </ul> </li> <li>23.2. \u4e1c\u65b9\u8d22\u5bcc EMC \u667a\u80fd\u4ea4\u6613\u7ec8\u7aef<ul> <li>23.2.1. \u5b89\u88c5</li> <li>23.2.1.1. \u914d\u7f6e\u6587\u4ef6\u5355\u76ee\u5f55</li> <li>23.2.2. \u8fd0\u884c\u548c\u7ef4\u62a4</li> <li>23.2.2.1. \u542f\u52a8</li> <li>23.2.2.2. \u6bcf\u65e5\u7ef4\u62a4</li> <li>23.2.3. \u6545\u969c\u6392\u9664\u4e0e\u5e2e\u52a9</li> <li>23.2.4. \u64ae\u5408\u914d\u7f6e\u89c4\u5219</li> </ul> </li> <li>23.3. Trader-gm-adaptor<ul> <li>23.3.1. \u5192\u70df\u6d4b\u8bd5</li> <li>23.3.2. \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4ea4\u4e92</li> <li>23.3.2.1. \u5ba2\u6237\u7aef\u8bf7\u6c42</li> <li>23.3.2.2. \u8fd4\u56de\u7ed3\u679c</li> <li>23.3.3. API \u793a\u4f8b</li> <li>23.3.3.1. \u8d44\u4ea7\u8868</li> <li>23.3.3.2. \u6301\u4ed3\u8868</li> <li>23.3.3.3. \u9650\u4ef7\u4e70\u5165</li> <li>23.3.3.4. \u5e02\u4ef7\u4e70\u5165</li> <li>23.3.3.5. \u9650\u4ef7\u5356\u51fa</li> <li>23.3.3.6. \u5e02\u4ef7\u5356\u51fa</li> <li>23.3.3.7. \u53d6\u6d88\u59d4\u6258</li> <li>23.3.3.8. \u67e5\u8be2\u5f53\u65e5\u59d4\u6258</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/outline/#24-2","title":"\u7b2c24\u8bfe \u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3\uff082\uff09","text":"<ul> <li>24.1. ptrade<ul> <li>24.1.1. \u7533\u8bf7\u4e0e\u5b89\u88c5</li> <li>24.1.2. \u7b56\u7565\u6846\u67b6\u6982\u8ff0</li> <li>24.1.2.1. initialize</li> <li>24.1.2.2. before_trading_start</li> <li>24.1.2.3. handle_data</li> <li>24.1.2.4. after_trading_end</li> <li>24.1.3. \u4e00\u4e2a\u53cc\u5747\u7ebf\u7b56\u7565</li> <li>24.1.4. \u590d\u6743\u673a\u5236</li> </ul> </li> <li>24.2. QMT<ul> <li>24.2.1. \u5b89\u88c5\u548c\u7533\u8bf7\u91cf\u5316\u6743\u9650</li> <li>24.2.2. \u529f\u80fd\u6982\u89c8</li> <li>24.2.2.1. \u6211\u7684\u677f\u5757</li> <li>24.2.2.2. \u6a21\u578b\u7814\u7a76</li> <li>24.2.2.3. \u6a21\u578b\u4ea4\u6613</li> </ul> </li> <li>24.3. QMT-Mini</li> <li>24.4. XtData<ul> <li>24.4.1. \u83b7\u53d6\u8bc1\u5238\u5217\u8868</li> <li>24.4.2. \u83b7\u53d6\u4ea4\u6613\u65e5\u5386</li> <li>24.4.3. \u83b7\u53d6\u884c\u60c5\u6570\u636e</li> </ul> </li> <li>24.5. XtTrader<ul> <li>24.5.1. \u5c01\u88c5\u6210web\u670d\u52a1</li> </ul> </li> </ul>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/24lectures/preview/","title":"\u8bfe\u7a0b\u9884\u89c8","text":"<p>\u5728\u51b3\u5b9a\u8d2d\u4e70\u4e4b\u524d\uff0c\u60a8\u53ef\u4ee5\u767b\u5f55\u6211\u4eec\u7684\u8bfe\u4ef6\u73af\u5883\u8fdb\u884c\u9884\u89c8\u3002</p> <p>\u8fd9\u4e2a\u73af\u5883\u4e2d\uff0c\u63d0\u4f9b\u4e862005\u5e74\u4ee5\u6765\u8d85\u8fc730\u4ebf\u6761\u884c\u60c5\u6570\u636e\uff08\u5206\u949f\u7ea7\u8d77\uff09\uff0c\u5b9e\u65f6\u884c\u60c5\u6570\u636e\uff085\u79d2\u5ef6\u8fdf\uff09\uff0c\u5728\u7ebf\u56de\u6d4b\u548c\u6a21\u62df\u76d8\u63a5\u53e3\uff08\u5b9e\u76d8\u9700\u8981\u53e6\u5916\u5f00\u901a\uff09\u3002</p> <p>\u73af\u5883\u7531\u4e00\u4e2a256GB\u5185\u5b58\uff0c192\u6838cpu\u7684\u96c6\u7fa4\u8fd0\u884c\u3002</p> <p>\u60a8\u53ef\u4ee5\u70b9\u3010\u8fd9\u91cc\u3011\u767b\u5f55\uff0c\u5bc6\u7801\u662f1234\u3002\u767b\u5f55\u540e\uff0c\u60a8\u5c06\u770b\u5230\u6709\u4e00\u4e2a\u4f7f\u7528\u8bf4\u660e\u6587\u6863\uff0c\u53cc\u51fb\u6253\u5f00\uff0c\u4f1a\u51fa\u73b0\u5982\u4e0b\u5185\u5bb9\uff1a</p> <p></p> <p>\u5982\u679c\u60f3\u5c1d\u8bd5\u4e00\u4e0b\uff0c\u60a8\u53ef\u4ee5\u70b9\u3010\u8fd9\u91cc\u3011\u767b\u5f55\uff0c\u5bc6\u7801\u662f1234\u3002</p>","tags":["\u8bfe\u7a0b"]},{"location":"articles/coursea/qmt/intro/","title":"\u73a9\u8f6cXtQuant\u91cf\u5316\u4ea4\u6613","text":"<p>QMT\u662f\u8fc5\u6295\u516c\u53f8\u63a8\u51fa\u7684\u91cf\u5316\u4ea4\u6613\u8f6f\u4ef6\uff0c\u5b83\u662f\u5238\u7aef\u91c7\u8d2d\u8f6f\u4ef6\uff0c\u56e0\u6b64\u5177\u6709\u91cf\u5316\u5b9e\u76d8\u63a5\u53e3\u3002\u5f53\u524d\u5b9a\u5236\u91c7\u8d2d\u4e86QMT\u7684\u5238\u5546\u7ea650\u5bb6\u5de6\u53f3\uff0c\u5f00\u901a\u91cf\u5316\u6743\u9650\u7684\u95e8\u69db\u4ece\u6570\u4e07\u5143\u5230\u6570\u5341\u4e07\u5143\u4e0d\u7b49\uff0c\u5f00\u901a\u91cf\u5316\u6743\u9650\u9664\u4ecd\u7136\u80fd\u4eab\u53d7\u5230\u4e07\u4e00\uff08\u751a\u81f3\u514d\u4e94\uff09\u7684\u8d39\u7387\u4f18\u60e0\u5916\uff0c\u8fd8\u5c06\u514d\u8d39\u83b7\u5f97\u5386\u53f2\u548c\u5b9e\u65f6\u4ea4\u6613\u884c\u60c5\u6570\u636e\uff0c\u662f\u76ee\u524d\u6027\u4ef7\u6bd4\u8f83\u9ad8\u7684\u4e00\u79cd\u5b9e\u76d8\u63a5\u5165\u65b9\u6848\u3002</p>"},{"location":"articles/coursea/qmt/intro/#_1","title":"\u8bfe\u7a0b\u9009\u9898","text":"<p>\u4f5c\u4e3a\u91cf\u5316\u8f6f\u4ef6\uff0cQMT\u63d0\u4f9b\u4e86\u4e24\u79cd\u4f7f\u7528\u65b9\u5f0f\u3002\u4e00\u79cd\u662f\u5185\u7f6e\u91cf\u5316\u4ea4\u6613\u5e73\u53f0\u3002\u901a\u8fc7\u5185\u7f6ePython\u73af\u5883\uff0c\u5b9e\u73b0\u7b56\u7565\u5f00\u53d1\u3001\u56de\u6d4b\u548c\u5b9e\u76d8\u4ea4\u6613\u3002\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u4f7f\u7528QMT\u63d0\u4f9b\u7684XtQuant\u5e93\uff0c\u901a\u8fc7\u7b2c\u4e09\u65b9\u91cf\u5316\u6846\u67b6\u9a71\u52a8\uff0c\u6765\u5b9e\u73b0\u7b56\u7565\u5f00\u53d1\u3001\u56de\u6d4b\u548c\u5b9e\u76d8\u4ea4\u6613\u3002</p> <p>\u901a\u8fc7XtQuant+\u7b2c\u4e09\u65b9\u91cf\u5316\u6846\u67b6\u5b9e\u73b0\u91cf\u5316\u4ea4\u6613\uff0c\u6709\u8bb8\u591a\u7a81\u51fa\u7684\u4f18\u70b9\uff1a</p> <ol> <li>\u66f4\u597d\u7684\u7b56\u7565\u5f00\u53d1\u7f16\u8f91\u5de5\u5177\u3002\u4f7f\u7528\u7b2c\u4e09\u65b9\u91cf\u5316\u6846\u67b6\uff0c\u60a8\u5c06\u53ef\u4ee5\u4f7f\u7528Vs Code\u6216\u8005PyCharm\u6765\u8fdb\u884c\u7b56\u7565\u5f00\u53d1\u4e0e\u8c03\u8bd5\uff0c\u8fd9\u4e24\u79cd\u5f00\u53d1\u5de5\u5177\u7684\u6548\u7387\u8fdc\u8d85QMT\u5185\u7f6e\u7684\u7f16\u7a0b\u754c\u9762\u3002</li> <li>\u66f4\u5feb\u7684\u56de\u6d4b\u901f\u5ea6\u3002\u591a\u540d\u7528\u6237\u53cd\u9988\uff0c\u5728QMT\u5185\u90e8\u8fdb\u884c\u56de\u6d4b\uff0c\u901f\u5ea6\u8fd8\u662f\u6bd4\u8f83\u6162\u7684\u3002</li> <li>\u4e0d\u53d7\u9650\u5236\u5730\u56de\u6d4b\u65f6\u95f4\u3002\u90e8\u5206\u5238\u5546\u63d0\u4f9b\u7684QMT\u5728\u5468\u672b\u4f1a\u8fdb\u884c\u7ef4\u62a4\uff0c\u6b64\u65f6\u65e0\u6cd5\u8fdb\u884c\u7b56\u7565\u5f00\u53d1\u4e0e\u56de\u6d4b\u3002\u6b64\u5916\uff0c\u4e00\u4e9b\u5238\u5546\u63d0\u4f9b\u7684QMT\uff0c\u6a21\u62df\u76d8\u4ea4\u6613\u65f6\u95f4\u53c8\u5fc5\u987b\u662f\u5728\u76d8\u540e\u624d\u80fd\u8fdb\u884c\u3002</li> <li>\u907f\u514d\u9501\u5b9a\u6548\u5e94\u3002\u4f7f\u7528QMT\u5185\u7f6e\u7684\u91cf\u5316\u529f\u80fd\uff0c\u4e0d\u53ef\u907f\u514d\u5730\u4ea7\u751f\u9501\u5b9a\u6548\u5e94\uff0c\u8fd9\u5c06\u5305\u62ec\uff1a</li> <li>\u6280\u672f\u9501\u5b9a\u3002\u5185\u7f6eQMT\u4e0d\u80fd\u4efb\u610f\u5b89\u88c5Python\u5e93\u3002\u8fd9\u5c06\u5bfc\u81f4\u60a8\u65e0\u6cd5\u4f7f\u7528\u5148\u8fdb\u7684\u6280\u672f\uff0c\u5728\u91cf\u5316\u7ade\u8d5b\u4e2d\uff0c\u8f93\u5728\u8d77\u8dd1\u7ebf\u4e0a\u3002</li> <li>\u6570\u636e\u9501\u5b9a\u3002\u4f7f\u7528\u5185\u7f6eQMT\u65f6\uff0c\u9047\u5230QMT\u672a\u63d0\u4f9b\u7684\u6570\u636e\uff0c\u4f46\u7b2c\u4e09\u65b9\u6570\u636e\u6e90\u53ef\u63d0\u4f9b\uff0c\u6b64\u65f6\u80fd\u5426\u83b7\u53d6\uff0c\u5982\u4f55\u83b7\u53d6\uff0c\u76ee\u524d\u8fd8\u672a\u770b\u5230\u6587\u6863\u548c\u793a\u4f8b\u3002\u91cf\u5316\u4eba\u90fd\u6709\u81ea\u5df1\u7684\u56e0\u5b50\u5e93\uff0c\u5982\u4f55\u5728\u5185\u7f6e\u73af\u5883\u4e0b\uff0c\u63d0\u53d6\u3001\u50a8\u5b58\u548c\u8bfb\u53d6\u56e0\u5b50\u5e93\uff0c\u8fd9\u4e5f\u662f\u5b98\u65b9\u6587\u6863\u672a\u63d0\u53ca\u7684\u4e00\u4e2a\u65b9\u9762\u3002</li> <li>\u8fc1\u79fb\u9501\u5b9a\u3002\u4e00\u65e6\u5927\u91cf\u8f6f\u4ef6\u8d44\u4ea7\u9501\u5b9a\u5728QMT\u5185\u7f6e\u5e73\u53f0\u4e0a\uff0c\u672a\u6765\u8fc1\u79fb\u7684\u6210\u672c\u5c06\u5f88\u9ad8\u3002\u89e6\u53d1\u91cf\u5316\u5e73\u53f0\u7684\u4e8b\u4ef6\u5f88\u591a\uff0c\u6bd4\u5982\uff0c\u5176\u5b83\u5238\u5546\u63d0\u4f9b\u4e86\u66f4\u4f18\u60e0\u7684\u8d39\u7387\uff1b\u6216\u8005\u60a8\u9700\u8981\u5728\u591a\u4e2a\u5238\u5546\u5904\u5f00\u591a\u4e2a\u6237\u5934\uff1b\u6216\u8005\u67d0\u4e2a\u5fc5\u987b\u7684\u6570\u636e\u53ea\u5728\u5176\u5b83\u5e73\u53f0\u4e0a\u63d0\u4f9b\u7b49\u7b49\u3002\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u5916\u5728\u56e0\u7d20\uff0c\u6bd4\u59822023\u5e74\u5c31\u53d1\u751f\u4e86\u805a\u5bbd\u548c\u4e00\u521b\u7ec8\u6b62\u5408\u4f5c\uff0c\u4ece\u800c\u5bfc\u81f4\u7528\u6237\u4e0d\u5f97\u4e0d\u628a\u7b56\u7565\u5f80QMT\u4e0a\u8fc1\u79fb\u7684\u60c5\u51b5\u3002</li> </ol> <p>\u57fa\u4e8e\u4ee5\u4e0a\u539f\u56e0\uff0c\u672c\u8bfe\u7a0b\u5c06\u4e3b\u8981\u8bb2\u6388\u5982\u4f55\u5b9e\u73b0\u7b2c\u4e09\u65b9\u91cf\u5316\u6846\u67b6\u4e0b\uff0c\u96c6\u6210XtQuant\u4ee5\u5b9e\u73b0\u91cf\u5316\u4ea4\u6613\u3002</p> <p>\u4e3b\u8981\u5185\u5bb9\u6709\uff1a</p> <ol> <li>\u5f00\u901a\u548c\u5b89\u88c5QMT\u53caXtQuant</li> <li>XtQuant\u7684\u6570\u636e\u529f\u80fd</li> <li>XtQuant\u7684\u4ea4\u6613\u63a5\u53e3</li> <li>\u5c06XtQuant\u5c01\u88c5\u6210\u670d\u52a1</li> <li>\u4e0e\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u96c6\u6210</li> </ol> <p>Info</p> <p>\u5927\u5bcc\u7fc1\u6846\u67b62.1\u7248\u672c\u5c06\u96c6\u6210XtData\u7684\u6570\u636e\u548c\u4ea4\u6613\u63a5\u53e3\uff0c\u6210\u4e3a\u652f\u6301QMT\u91cf\u5316\u4ea4\u6613\u7684\u5b8c\u6574\u4e09\u65b9\u5e73\u53f0\u3002\u6570\u636e\u5b58\u50a8\u57fa\u4e8eClick House\u6784\u5efa\uff0c\u53ef\u5728\u5bb9\u7eb3\u5c11\u91cf\u6570\u636e\u7684\u540c\u65f6\uff0c\u63d0\u4f9b\u6781\u4f4e\u7684\u67e5\u8be2\u54cd\u5e94\u65f6\u95f4\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/","title":"\u8d44\u672c\u8d44\u4ea7\u5b9a\u4ef7\u6a21\u578b","text":"<p>\u8d44\u672c\u8d44\u4ea7\u5b9a\u4ef7\u6a21\u578b\uff08CAPM\uff09\u63cf\u8ff0\u4e86\u8d44\u4ea7\u7684\u9884\u671f\u56de\u62a5\u4e0e\u5e02\u573a\u7cfb\u7edf\u98ce\u9669\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5b83\u7531\u5a01\u5ec9. \u590f\u666e\u7b49\u4eba\u5728 1960 \u5e74\u4ee3\u63d0\u51fa\u3002\u5a01\u5ec9. \u590f\u666e\u83b7\u5f97\u4e86 1990 \u5e74\u7684\u8bfa\u8d1d\u5c14\u7ecf\u6d4e\u5b66\u5956\u3002CAPM \u88ab\u8ba4\u4e3a\u662f\u7ecf\u6d4e\u5b66\u7684\u4e03\u4e2a\u57fa\u672c\u7406\u8bba\u4e4b\u4e00\u3002</p> <p>CAPM \u8868\u793a\u8d44\u4ea7\u7684\u9884\u671f\u6536\u76ca\u7b49\u4e8e\u65e0\u98ce\u9669\u6536\u76ca\u52a0\u4e0a\u98ce\u9669\u6ea2\u4ef7\u3002 CAPM \u7684\u5047\u8bbe\u662f\u6295\u8d44\u8005\u662f\u7406\u6027\u7684\uff0c\u5e0c\u671b\u83b7\u5f97\u6700\u5927\u5316\u56de\u62a5\u5e76\u5c3d\u53ef\u80fd\u964d\u4f4e\u98ce\u9669\u3002\u56e0\u6b64\uff0cCAPM \u7684\u76ee\u6807\u662f\u8ba1\u7b97\u76f8\u5bf9\u4e8e\u65e0\u98ce\u9669\u5229\u7387\u7684\u7ed9\u5b9a\u98ce\u9669\u6ea2\u4ef7\uff0c\u6295\u8d44\u8005\u53ef\u4ee5\u9884\u671f\u83b7\u5f97\u7684\u56de\u62a5\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":""},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#risk-free-rate","title":"Risk-Free Rate\uff08\u65e0\u98ce\u9669\u5229\u7387\uff09","text":"<p>\u5f53\u6295\u8d44\u8005\u51b3\u5b9a\u4e70\u5165\u80a1\u7968\u7b49\u9ad8\u98ce\u9669\u8d44\u4ea7\u65f6\uff0c\u4ed6\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u83b7\u5f97\u9ad8\u4e8e\u65e0\u98ce\u9669\u8d44\u4ea7\u7684\u6536\u76ca\u3002\u4e00\u822c\u8ba4\u4e3a\uff0c\u94f6\u884c\u5b58\u6b3e\u5229\u7387\u548c\u56fd\u503a\u6536\u76ca\u7387\u90fd\u662f\u65e0\u98ce\u9669\u7684\u3002\u4e0d\u8fc7\uff0c\u4e00\u822c\u540c\u671f\u7684\u56fd\u503a\u6536\u76ca\u7387\u4f1a\u9ad8\u4e8e\u540c\u671f\u94f6\u884c\u5b58\u6b3e\uff0c\u6240\u4ee5\u6211\u4eec\u5e38\u628a\u56fd\u503a\u6536\u76ca\u7387\u5f53\u6210\u65e0\u98ce\u9669\u5229\u7387\u3002\u4e0d\u540c\u671f\u9650\u7684\u56fd\u503a\u5229\u7387\u6536\u76ca\u4e0d\u540c\uff0c\u4e00\u822c\u5bf9\u6807\u65f6\uff0c\u4f7f\u7528\u4e0e\u98ce\u9669\u8d44\u4ea7\u9884\u671f\u6295\u8d44\u65f6\u95f4\u76f8\u540c\u5c31\u597d\u3002\u6bd4\u5982\uff0c\u5982\u679c\u662f\u6d41\u52a8\u6027\u597d\u7684\u80a1\u7968\uff0c\u4e5f\u4e0d\u6253\u7b97\u957f\u671f\u6301\u6709\uff0c\u5219\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u5e74\u671f\u56fd\u503a\u5229\u7387\u4f5c\u4e3a\u65e0\u98ce\u9669\u5229\u7387\u3002\u5982\u679c\u662f\u4e0d\u52a8\u4ea7\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 5 \u5e74\u671f\u56fd\u503a\u5229\u7387\u4f5c\u4e3a\u5bf9\u6807\u7684\u65e0\u98ce\u9669\u5229\u7387\u3002</p> <p>\u5982\u4f55\u83b7\u53d6\u56fd\u503a\u5229\u7387\u5462\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 akshare:</p> <p><pre><code>import akshare as ak\nimport arrow\nimport numpy as np\nimport random\nimport pandas as pd\n\nrandom.seed(78)\n\nnow = arrow.now()\nstart = now.shift(years=-1)\nend = f\"{now.year}{now.month:02d}{now.day:02d}\"\nstart = f\"{start.year}{start.month:02d}{start.day:02d}\"\n\nbond = ak.bond_china_yield(start_date=start, end_date=end)\nbond.set_index(keys='\u66f2\u7ebf\u540d\u79f0', inplace=True)\nbond\n</code></pre> \u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u8fd1\u4e00\u5e74\u7684\u5404\u79cd\u503a\u5238\u6536\u76ca\u7387\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u201c\u4e2d\u503a\u56fd\u503a\u6536\u76ca\u7387\u66f2\u7ebf\u201d\u4e00\u5e74\u671f\u7684\u5e73\u5747\u503c\u5f53\u4f5c\u4e00\u5e74\u671f\u56fd\u503a\u6536\u76ca\uff1a</p> <p><pre><code>rf = bond[bond.index=='\u4e2d\u503a\u56fd\u503a\u6536\u76ca\u7387\u66f2\u7ebf']['1\u5e74'].mean()\nprint(rf)\n\nrf = rf / 100\n</code></pre> \u8f93\u51fa\u662f 2.06\u3002\u8fd9\u4e2a\u503c\u5e94\u8be5\u89e3\u8bfb\u4e3a 2.06%\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#r_m","title":"\u5e02\u573a\u56de\u62a5 \\(r_m\\)","text":"<p>\u5e02\u573a\u56de\u62a5\u7387\u8868\u793a\u4e3a\\(r_m\\) \uff0c\u5305\u62ec\u5e02\u573a\u4e0a\u7684\u6240\u6709\u8bc1\u5238\u3002\u4f46\u4e00\u822c\u6211\u4eec\u53ea\u4f7f\u7528\u67d0\u4e9b\u6307\u6570\uff0c\u6bd4\u5982\u4e0a\u8bc1 50\uff0c\u6caa\u6df1 300\u3002\u5982\u679c\u6295\u8d44\u504f\u597d\u6210\u957f\u80a1\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u4e2d\u8bc1 1000\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_2","title":"\ud835\udefd \u8d1d\u5854","text":"<p>\ud835\udefd \u662f\u8861\u91cf\u80a1\u7968\u76f8\u5bf9\u4e8e\u6574\u4f53\u5e02\u573a\uff08\u4f8b\u5982\u6caa\u6df1 300 \u6307\u6570\uff09\u6ce2\u52a8\u6027\u7684\u6307\u6807\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\ud835\udefd \u4ee3\u8868\u56de\u5f52\u7ebf\u7684\u659c\u7387\uff0c\u5373\u5e02\u573a\u56de\u62a5\u4e0e\u4e2a\u80a1\u56de\u62a5\u7684\u5173\u7cfb\u3002</p> <p>CAPM \u4e2d\u4f7f\u7528 \ud835\udefd \u6765\u63cf\u8ff0\u7cfb\u7edf\u98ce\u9669\u6216\u5e02\u573a\u98ce\u9669\u4e0e\u8d44\u4ea7\u9884\u671f\u56de\u62a5\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u6839\u636e\u5b9a\u4e49\uff0c\u6211\u4eec\u8bf4\u6574\u4e2a\u5e02\u573a\u7684\u8d1d\u5854\u503c\u4e3a 1.0\uff0c\u4e2a\u80a1\u6839\u636e\u5176\u76f8\u5bf9\u4e8e\u5e02\u573a\u7684\u6ce2\u52a8\u7a0b\u5ea6\u8fdb\u884c\u6392\u540d\u3002</p> <ul> <li>\u5982\u679c\u4e2a\u80a1\u7684 Beta = 1.0\uff0c\u8fd9\u610f\u5473\u7740\u5176\u4ef7\u683c\u4e0e\u5e02\u573a\u5b8c\u5168\u76f8\u5173</li> <li>\u5982\u679c Beta &lt; 1.0\uff08\u79f0\u4e3a\u201c\u9632\u5fa1\u6027\u201d\uff09\uff0c\u8fd9\u8868\u660e\u8be5\u8bc1\u5238\u7406\u8bba\u4e0a\u7684\u6ce2\u52a8\u6027\u4f4e\u4e8e\u5e02\u573a</li> <li>\u5982\u679c Beta &gt; 1.0 \u6216\u201c\u6fc0\u8fdb\u201d\uff0c\u5219\u8868\u660e\u8d44\u4ea7\u4ef7\u683c\u6bd4\u5e02\u573a\u6ce2\u52a8\u66f4\u5927</li> </ul>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#capm","title":"CAPM \u516c\u5f0f","text":"<p>\u8be5\u516c\u5f0f\u5b9a\u4e49\u5982\u4e0b\uff1a</p> \\[ r_i = r_f + \\beta(r_m - r_f) \\] <p>\u8fd9\u91cc\uff1a * \\(r_i\\)\u662f\u8bc1\u5238\uff08\u4e2a\u80a1\uff09\u7684\u9884\u671f\u56de\u62a5 * \\(r_f\\)\u662f\u65e0\u98ce\u9669\u5229\u7387 * \\(\\beta_i\\)\u662f\u8bc1\u5238\u76f8\u5bf9\u4e8e\u5e02\u573a\u7684\ud835\udefd\u503c * \\(r_m - r_f\\)\u88ab\u79f0\u4e3a\u98ce\u9669\u6ea2\u4ef7</p> <p>\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u89e3\u8bfb\u8fd9\u4e2a\u516c\u5f0f\u3002\u5982\u679c\u6807\u666e 500 \u7684\u6574\u4f53\u56de\u62a5\u7387\u662f 12.4%\uff0c\u65e0\u98ce\u9669\u7387\u5229\u7387\u4e3a 0%\uff0c\u800c APPL \u7684\ud835\udefd\u4e3a 1.1 \u7684\u8bdd\uff0c\u5219\u6295\u8d44\u8005\u4e70\u5165 APPL\uff0c\u4ed6\u671f\u671b\u83b7\u5f97 13.7%\u7684\u56de\u62a5\uff0c\u4ee5\u8865\u507f\u627f\u62c5\u7684\u989d\u5916\u98ce\u9669\u3002</p> <p>\u8981\u4f7f\u7528 CAPM \u6a21\u578b\uff0c\u6838\u5fc3\u662f\u8ba1\u7b97\u4e2a\u80a1\u76f8\u5bf9\u4e8e\u5e02\u573a\u7ec4\u5408\uff08\u6307\u6570\uff09\u7684\ud835\udefd\u3002\u4e0b\u9762\u6211\u4eec\u5c31\u901a\u8fc7 Python \u6765\u8fdb\u884c\u5b9e\u73b0\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#python-capm","title":"\u57fa\u4e8e Python \u7684 CAPM \u5b9e\u73b0","text":"<p>\u6211\u4eec\u4f7f\u7528\u7684\u5e02\u573a\u7ec4\u5408\u662f\u6caa\u6df1 300\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u8981\u4ece\u4e2d\u62bd\u53d6\u4e2a\u80a1\u3002\u6211\u4eec\u5c06\u968f\u673a\u62bd\u53d6 10 \u652f\u4e2a\u80a1\u6765\u8fdb\u884c\u8ba1\u7b97\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_3","title":"\u83b7\u53d6\u6570\u636e","text":"<p>\u4e3a\u4e86\u786e\u4fdd\u6240\u6709\u4eba\u90fd\u80fd\u62ff\u5230\u6570\u636e\uff0c\u6211\u4eec\u4ecd\u7136\u4f7f\u7528 akshare\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u901a\u8fc7 akshare \u83b7\u53d6\u8fc7\u53bb\u4e00\u5e74\u7684\u6caa\u6df1 300 \u7684\u884c\u60c5\u6570\u636e\uff1a</p> <pre><code>import akshare as ak\n\nhs300 = ak.stock_zh_index_daily(symbol=\"sz399300\")\nhs300.index = pd.to_datetime(hs300[\"date\"])\nprint(hs300)\n</code></pre> <p>\u6211\u4eec\u5bf9\u8fc7\u53bb\u4e00\u5e74\u7684\u6caa\u6df1 300 \u7684\u6536\u76ca\u60c5\u51b5\u8fdb\u884c\u901f\u89c8\uff1a</p> <pre><code>now = arrow.now()\nyear_ago = now.shift(years = -1)\n\nyear_ago = hs300[hs300.index &gt;= np.datetime64(year_ago)].index[0]\n# PRINT(YEAR_AGO)\n\n# \u8ba1\u7b97\u4e70\u5165\u5e76\u6301\u6709\u7684\u6536\u76ca\uff08\u6700\u8fd1\u4e00\u5e74\uff09\nbuy_price = hs300[hs300.index == year_ago].iloc[0][\"close\"]\nbuy_and_hold = hs300[\"close\"][-1]/buy_price - 1\nprint(f\"\u4e70\u5165\u5e76\u6301\u6536\u76ca\uff1a{buy_and_hold:.2%}\")\n\n# \u901a\u8fc7\u5747\u503c\u63a8\u7b97\u5e74\u5316\u6536\u76ca\nmarket_returns = hs300[\"close\"].pct_change().dropna()\nmarket_annual = (1 + market_returns[market_returns.index &gt;= year_ago].mean()) ** 242 - 1\nprint(f\"\u5e74\u5316\u6536\u76ca\uff1a{market_annual:.2%}\")\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u8fc7\u53bb\u4e00\u5e74\u91cc\uff0c\u4ee5\u4e70\u5165\u5e76\u6301\u6709\u6cd5\u8ba1\uff0c\u6caa\u6df1300\u7684\u6536\u76ca\u662f-4.22%\uff1b\u5982\u679c\u6309\u6bcf\u65e5\u6536\u76ca\u53d6\u5747\u503c\uff0c\u518d\u5e74\u5316\uff0c\u5219\u5f97\u5230\u6536\u76ca\u662f-3.31%\uff0c\u4e24\u8005\u76f8\u5dee\u4e0d\u5927\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u83b7\u53d6\u6caa\u6df1 300 \u6210\u4efd\u80a1\uff0c\u4ee5\u4fbf\u4ece\u4e2d\u62bd\u53d6\u4e2a\u80a1\u8fdb\u884c\u68c0\u9a8c\uff1a</p> <pre><code>import akshare as ak\nindex_stock_cons_df = ak.index_stock_cons(symbol=\"399300\")\nprint(index_stock_cons_df)\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u968f\u673a\u53d6 10 \u652f\u80a1\u7968\uff0c\u83b7\u53d6\u884c\u60c5\uff0c\u5e76\u8ba1\u7b97\u6bcf\u65e5\u6536\u76ca\u7387\uff1a</p> <pre><code>np.random.seed(78)\n\nstocks = random.sample(index_stock_cons_df['\u54c1\u79cd\u4ee3\u7801'].to_list(), 10)\n\nframes = {}\n\nnow = arrow.now()\nstart = now.shift(years = -1)\nend = now.format(\"YYYYMMDD\")\nstart = start.format(\"YYYYMMDD\")\n\n# \u83b7\u53d6 10 \u652f\u80a1\u7968\u7684\u884c\u60c5\u6570\u636e\nfor code in stocks:\n    bars = ak.stock_zh_a_hist(symbol=code, period=\"daily\", start_date=start, end_date=end, adjust=\"qfq\")\n    bars.index = pd.to_datetime(bars[\"\u65e5\u671f\"])\n    frames[code] = bars[\"\u6536\u76d8\"]\n\n# \u4e0e\u6307\u6570\u884c\u60c5\u6570\u636e\u5408\u5e76\nstart = np.datetime64(now.shift(years = -1))\nframes[\"399300\"] = hs300[hs300.index &gt;= start][\"close\"]\n\ndf = pd.DataFrame(frames)\n\n# \u8ba1\u7b97\u6bcf\u65e5\u6536\u76ca\nreturns = df.pct_change()\n\n# \u5982\u679c\u5b58\u5728 NAN\uff0c\u5219\u540e\u9762\u7684\u56de\u5f52\u6cd5\u5c06\u65e0\u6cd5\u805a\u5408\nreturns.dropna(how='any', inplace=True)\nreturns.style.format('{:,.2%}')\n</code></pre>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_4","title":"\u8ba1\u7b97\ud835\udefd","text":"<p>\u6211\u4eec\u5c06\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u6765\u8ba1\u7b97\ud835\udefd\u3002\u4e00\u79cd\u662f\u56de\u5f52\u6cd5\uff0c\u4e00\u79cd\u662f\u534f\u65b9\u5dee\u6cd5\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_5","title":"\u56de\u5f52\u6cd5","text":"<p>\u5728 numpy \u4e2d\u6709\u4e00\u4e2a polyfit \u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u8fdb\u884c\u591a\u9879\u5f0f\u62df\u5408\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u4e00\u6b21\u9879\u62df\u5408\uff0c\u90a3\u4e48\u5f97\u5230\u7684\u7cfb\u6570\u5c31\u662f\u8981\u6c42\u7684\ud835\udefd\u3002</p> <pre><code>cols = df.columns\nbetas = {}\nfor name in cols:\n    beta, alpha = np.polyfit(returns[name], returns[\"399300\"], deg=1)\n    print(name, f\"{beta:.2%} {alpha:.2%}\")\n    betas[name] = beta\n</code></pre> <p>\u4ece\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u6709\u4e00\u652f\u80a1\u7968\u5b58\u5728\u6b63\u7684 alpha\uff0c\u540c\u65f6\u8fd8\u5b58\u5728 10%\u4ee5\u4e0a\u7684 beta \u6536\u76ca\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u6765\u770b\u770b\uff0c\u5982\u679c\u4e70\u5165\u8fd9\u652f\u80a1\u7968\uff0c\u5b83\u4eec\u7684\u9884\u671f\u6536\u76ca\u5e94\u8be5\u662f\u591a\u5c11\uff1a</p> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c\u6211\u4eec\u4f7f\u7528\u7684 risk_free \u662f\u5e74\u5316\u6536\u76ca\uff0c\u56e0\u6b64\u6211\u4eec\u6700\u7ec8\u8ba1\u7b97\u51fa\u6765\u7684\u9884\u671f\u6536\u76ca\uff0c\u4e5f\u5e94\u8be5\u662f\u5e74\u5316\uff08\u6216\u8005\u90fd\u7edf\u4e00\u5230\u65e5\u5316\uff09\uff1a</p> <pre><code>code = \"002756\"\nbeta = betas[code]\n\n# \u56de\u5f52\u6cd5\u5f97\u5230\u7684\u9884\u671f\u6536\u76ca\nexpected_return = rf + beta * (market_annual - rf)\nprint(f\"code beta: {beta:.2f}, Er: {expected_return:.2%}\")\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230 002756 \u7684 beta \u662f 0.11\uff0c\u4e00\u5e74\u671f\u7684\u9884\u671f\u6536\u76ca\u662f 1.51%\u5de6\u53f3\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_6","title":"\u534f\u65b9\u5dee\u6cd5","text":"<p><pre><code>params = {}\n\nfor name in cols:\n    cov = np.cov(returns[\"399300\"], returns[name])\n    beta = cov[0,1]/cov[1,1]\n\n    expected_return = rf + beta * (market_annual - rf)\n    print(f\"{name} beta: {beta:.2%}, Er: {expected_return:.2%}\")\n    params[name] = beta\n\nbeta = params[code]\n\n# \u56de\u5f52\u6cd5\u5f97\u5230\u7684\u9884\u671f\u6536\u76ca\nexpected_return = rf + beta * (market_annual - rf)\nprint(f\"code beta: {beta:.2f}, Er: {expected_return:.2%}\")\n</code></pre> \u8fd9\u6837\u5f97\u5230 002756 \u7684 beta \u662f0.11\uff0c\u5e74\u5316\u9884\u671f\u6536\u76ca\u662f1.51%\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/capm/#_7","title":"\u53ef\u89c6\u5316","text":"<p>\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u5f0f\uff0c\u5c06\u4e2a\u80a1\u4e0e\u6caa\u6df1300\u7684\u6da8\u8dcc\u76f8\u5173\u6027\u8fdb\u884c\u53ef\u89c6\u5316\uff0c\u4ece\u800c\u5f97\u5230\u66f4\u76f4\u89c2\u7684\u5370\u8c61\u3002</p> <pre><code>import plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\n\nci = sorted(set(returns[code].index).intersection(set(returns[\"399300\"].index)))\n\ny = returns[code][ci]\nx = returns[\"399300\"][ci]\n\ndf = pd.DataFrame({\n    \"\u6caa\u6df1300\": sorted(returns[\"399300\"][ci]),\n    \"\u6807\u7684\": sorted(returns[code][ci])\n})\n\nfig = make_subplots(\n    rows=1,\n    cols=2\n)\n\nfig.add_trace(go.Scatter(x=df[\"\u6caa\u6df1300\"], y=df[\"\u6807\u7684\"]))\nfig2 = px.line(df)\nfig.add_trace(fig2[\"data\"][0], row=1, col=2)\nfig.add_trace(fig2[\"data\"][1], row=1, col=2)\n\nfig['layout']['xaxis']['title']='\u6caa\u6df1300'\nfig['layout']['yaxis']['title']='\u6807\u7684'\n\nfig.show()\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u4e0b\u56fe\uff1a</p> <p></p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-1/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(1) - \u57fa\u672c\u6982\u5ff5","text":"<p>\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\uff08MPT\uff09\u662f\u7531\u9a6c\u79d1\u7ef4\u8328\u4e8e 1952 \u5e74\u63d0\u51fa\u7684\uff0c\u662f\u73b0\u4ee3\u91d1\u878d 7 \u4e2a\u57fa\u672c\u7406\u8bba\u4e4b\u4e00\u3002\u5b83\u7528\u6570\u5b66\u672f\u8bed\u63cf\u8ff0\u4e86\u591a\u5143\u5316\u548c\u98ce\u9669\u7ba1\u7406\u7b49\u6982\u5ff5\uff0c\u4e3a\u6295\u8d44\u8005\u63d0\u4f9b\u4e86\u6784\u5efa\u591a\u5143\u5316\u6295\u8d44\u7ec4\u5408\u7684\u5de5\u5177\u96c6\uff0c\u5373\u5047\u5b9a\u6295\u8d44\u8005\u6295\u8d44\u4e8e\u591a\u4e2a\u8d44\u4ea7\uff0c\u5728\u6ee1\u8db3\u7ed9\u5b9a\u9884\u671f\u56de\u62a5\u7387\u4e0b\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f18\u5316\u6c42\u89e3\u51fa\u98ce\u9669\u6700\u5c0f\u7684\u6295\u8d44\u7ec4\u5408\u3002</p> <p>\u6240\u6709\u7684\u8fd9\u4e9b\u8d44\u4ea7\u7ec4\u5408\u6784\u6210\u4e00\u6761\u66f2\u7ebf\uff08\u4ee5\u8d44\u4ea7\u7ec4\u5408\u7684\u6807\u51c6\u5dee\u4e3a\u6a2a\u8f74\uff0c\u9884\u671f\u56de\u62a5\u7387\u4e3a\u7eb5\u8f74\uff09\uff0c\u79f0\u4e3a\u524d\u6cbf\u8d44\u4ea7\u7ec4\u5408\u66f2\u7ebf\uff0c\u5176\u4e2d\u66f2\u7ebf\u7684\u4e0a\u534a\u90e8\u5206\u53c8\u88ab\u79f0\u4e3a\u6709\u6548\u524d\u6cbf\u3002</p> <p></p> <p>\u8fd9\u4e2a\u56fe\u662f\u4e00\u4e2a\u4e0a\u4e0b\u5bf9\u79f0\u56fe\uff0c\u5728\u56fe\u7684\u4e0b\u534a\u90e8\u5206\u4e0a\u7684\u6bcf\u4e00\u4e2a\u70b9\uff0c\u90fd\u53ef\u4ee5\u5728\u4e0a\u534a\u90e8\u5206\u627e\u5230\u4e00\u4e2a\u5bf9\u5e94\u70b9\uff0c\u5b83\u4eec\u5177\u6709\u76f8\u540c\u7684\u98ce\u9669\uff0c\u4f46\u6709\u6548\u524d\u6cbf\u4e0a\u7684\u70b9\u5177\u6709\u66f4\u5927\u7684\u9884\u671f\u6536\u76ca\u7387\u3002\u56e0\u6b64\u4e0b\u534a\u90e8\u5206\u6295\u8d44\u662f\u6ca1\u6709\u6295\u8d44\u8005\u613f\u610f\u6301\u6709\u7684\u3002</p> <p>\u6bcf\u4e2a\u6295\u8d44\u8005\u6839\u636e\u81ea\u5df1\u7684\u98ce\u9669\u627f\u53d7\u80fd\u529b\uff08\u6548\u7528\u51fd\u6570\uff09\uff0c\u5728\u6709\u6548\u524d\u6cbf\u4e0a\u9009\u62e9\u81ea\u5df1\u7684\u6295\u8d44\u7ec4\u5408\u3002</p> <p>\u9a6c\u79d1\u7ef4\u8328\u4e5f\u56e0\u4e3a\u5bf9 MPT \u7406\u8bba\u7684\u8d21\u732e\uff0c\u4ece\u800c\u83b7\u5f97\u4e86 1990 \u5e74\u8bfa\u8d1d\u5c14\u7ecf\u6d4e\u5b66\u5956\u3002\u4ed6\u672c\u4eba\u975e\u5e38\u770b\u597d\u901a\u8fc7\u8d44\u4ea7\u7ec4\u5408\u6765\u5206\u6563\u6295\u8d44\u98ce\u9669\u8fd9\u4e00\u7406\u5ff5\uff0c\u8ba4\u4e3a\u201c\u8d44\u4ea7\u7ec4\u5408\u662f\u6295\u8d44\u4e2d\u60df\u4e00\u514d\u8d39\u53ef\u5f97\u7684\u5348\u9910\u201d\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-1/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>\u6211\u4eec\u4ee5\u6700\u7b80\u5355\u7684\u4e24\u4e2a\u98ce\u9669\u8d44\u4ea7\u7ec4\u5408\u4e3a\u4f8b\u6765\u89e3\u91ca\u6709\u6548\u524d\u6cbf\uff1a</p> \\[ R_p = w_1R_1 + (1-w_1)R_2 \\] <p>\u8fd9\u91cc\uff1a</p> <p>\\(R_p\\) \u662f\u7ec4\u5408\u7684\u6536\u76ca \\(W_1\\) \u662f\u8d44\u4ea7 1 \u7684\u914d\u6bd4\u6743\u91cd \\(R_1\\) \u662f\u8d44\u4ea7 1 \u7684\u6536\u76ca\u3002</p> <p>\u7ec4\u5408\u7684\u98ce\u9669\u7528\u65b9\u5dee\u6765\u8861\u91cf\uff1a</p> \\[ \\sigma_p = \\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 + 2w_1w_2Cov(R_1, R_2)}\\newline          =\\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 + 2w_1w_2\\rho_{1,2}\\sigma_1\\sigma_2} \\] <p>\u8fd9\u91cc\u7684\\(\\rho_{1,2}\\) \u662f\u8d44\u4ea7 1 \u4e0e\u8d44\u4ea7 2 \u4e4b\u95f4\u7684\u76f8\u5173\u7cfb\u6570\u3002</p> <p>\u5f53\u4e24\u4e2a\u8d44\u4ea7\u7684\u76f8\u5173\u7cfb\u6570\u4e3a 1 \u65f6\uff0c\u4e0a\u5f0f\u5c31\u5316\u7b80\u4e3a\uff1a</p> \\[ \\sigma_p =\\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 + 2w_1w_2\\sigma_1\\sigma_2}\\newline         =\\sqrt{(w_1\\sigma_1 + w_2\\sigma_2)^2}\\newline          = w_1\\sigma_1 + w_2\\sigma_2 \\] <p>\u5f53\u4e24\u4e2a\u8d44\u4ea7\u4e4b\u95f4\u7684\u76f8\u5173\u7cfb\u6570\u4e3a-1 \u65f6\uff0c</p> \\[ \\sigma_p =\\sqrt{w_1^2\\sigma_1^2 + w_2^2\\sigma_2^2 - 2w_1w_2\\sigma_1\\sigma_2}\\newline         =\\sqrt{(w_1\\sigma_1 - w_2\\sigma_2)^2}\\newline          = w_1\\sigma_1 - w_2\\sigma_2 \\] <p>\u4ece\u4e0a\u5f0f\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u4e24\u4e2a\u8d44\u4ea7\u5b8c\u5168\u8d1f\u76f8\u5173\uff0c\u90a3\u4e48\u7b49\u6743\u91cd\u914d\u7f6e\u4e24\u4e2a\u8d44\u4ea7\uff0c\u5219\u8d44\u4ea7\u6536\u76ca\u53d8\u4e3a\u96f6\uff0c\u4ece\u800c\u6784\u6210\u4e00\u4e2a\u65e0\u98ce\u9669\u7684\u7ec4\u5408\u3002\u6b64\u65f6\u7531\u4e8e \\(\\sigma_p\\)\u7b49\u4e8e\u96f6\uff0c\u6240\u4ee5\u5b83\u5c31\u6210\u4e3a\u56fe\u5f62\u4e0a\u6700\u5de6\u7aef\u7684\u70b9\u3002</p> <p>\u5f53\u5176\u4e2d\u4e00\u4e2a\u8d44\u4ea7\u4e3a 100%\u65f6\uff0c\u5219\u6784\u6210\u56fe\u5f62\u4e2d\u4e0a\u4e0b\u4e24\u4e2a\u70b9\u3002</p> <p>\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\uff0c\u6211\u4eec\u5c06\u9996\u5148\u7528 4 \u4e2a\u6807\u7684\u7684\u7ec4\u5408\uff0c\u5148\u540e\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u548c\u4f18\u5316\u7b97\u6cd5\u5206\u522b\u6f14\u793a\u5982\u4f55\u6c42\u5f97\u6700\u4f73\u8d44\u4ea7\u7ec4\u5408\uff0c\u8fd9\u662f\u6bd4\u8f83\u5e95\u5c42\u7684\u65b9\u6cd5\uff0c\u5f53\u6211\u4eec\u638c\u63e1\u539f\u7406\u4e4b\u540e\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u6765\u5b8c\u6210\u8fd9\u9879\u5de5\u4f5c\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-1/#_2","title":"\u6536\u76ca\u7387\u3001\u590f\u666e\u548c\u6ce2\u52a8\u7387\u8ba1\u7b97","text":"<p>\u8ba9\u6211\u4eec\u9996\u5148\u4efb\u610f\u5206\u914d\u4e00\u7ec4\u6743\u91cd\uff0c\u770b\u770b\u8fd9\u6837\u5f97\u5230\u7684\u7ec4\u5408\u7684\u6536\u76ca\u7387\u3001\u590f\u666e\u7387\u7b49\u5404\u9879\u53c2\u6570\u5982\u4f55\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u662f\u4e86\u89e3\uff1a</p> <ol> <li>\u5982\u4f55\u83b7\u53d6\u6570\u636e</li> <li>\u5982\u4f55\u4ea7\u751f\u968f\u673a\u6743\u91cd\u5411\u91cf\uff08\u91cd\u70b9\u662f\u6ee1\u8db3\u6743\u91cd\u548c\u4e3a 1 \u7684\u7ea6\u675f\u6761\u4ef6\uff09</li> <li>\u5982\u4f55\u8ba1\u7b97\u590f\u666e\u7387\u3001\u6ce2\u52a8\u7387\u7b49\u6307\u6807\u3002</li> </ol> <p>\u5047\u5b9a\u6211\u4eec\u7684\u8d44\u4ea7\u7ec4\u5408\u662f\uff1a</p> <pre><code>600519 \u8d35\u5dde\u8305\u53f0\n300750 \u5b81\u5fb7\u65f6\u4ee3\n300059 \u4e1c\u65b9\u8d22\u5bcc\n601398 \u5de5\u5546\u94f6\u884c\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u83b7\u5f97\u5b83\u4eec\u8fd1\u4e00\u5e74\u7684\u6536\u76ca\uff0c\u4fdd\u5b58\u5728 returns dataframe \u4e2d\uff1a</p> <pre><code>import arrow\nimport akshare as ak\nimport pandas as pd\nimport numpy as np\nfrom IPython.display import display\n\n\nstocks = [\"600519\", \"300750\", \"300059\", \"601398\"]\n\nframes = {}\n\nnow = arrow.now()\nstart = now.shift(years = -1)\nend = now.format(\"YYYYMMDD\")\nstart = start.format(\"YYYYMMDD\")\n\nfor code in stocks:\n    bars = ak.stock_zh_a_hist(symbol=code, \n                              period=\"daily\", \n                              start_date=start, \n                              end_date=end, \n                              adjust=\"qfq\")\n\n    bars.index = pd.to_datetime(bars[\"\u65e5\u671f\"])\n    frames[code] = bars[\"\u6536\u76d8\"]\n\nprices = pd.DataFrame(frames)\nreturns = prices.pct_change()\n\nreturns.dropna(how='any', inplace=True)\ndisplay(returns.head().style.format('{:,.2%}'))\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u6211\u4eec\u5728\u524d\u4e00\u7bc7\u6587\u7ae0\u8bb2 CAPM \u65f6\u5df2\u7ecf\u89c1\u8fc7\u4e86\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5148\u968f\u673a\u5206\u914d\u4e00\u4e2a\u6743\u91cd\uff08\u8fd9\u662f\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u7684\u7b2c\u4e00\u6b65\uff09\uff0c\u8ba1\u7b97\u51fa\u5b83\u7684\u590f\u666e\u7387\uff1a</p> <pre><code>import numpy as np\nfrom empyrical import sharpe_ratio\n\nweights = np.array(np.random.random(4))\nprint('Random Weights:')\nprint(weights)\n\nprint('\\nRebalance')\nweights = weights/np.sum(weights)\nprint(weights)\n\n# \u751f\u6210\u6bcf\u65e5\u6bcf\u4e2a\u6807\u7684\u5bf9\u7ec4\u5408\u7684\u8d21\u732e\nweighted_returns = weights * returns\nweighted_returns.head()\n\n# \u628a\u6bcf\u4e00\u884c\u6309\u5217\u52a0\u603b\uff0c\u5c31\u5f97\u5230\u4e86\u6bcf\u65e5\u8d44\u4ea7\u6536\u76ca\nport_returns = weighted_returns.sum(axis=1)\n\n# \u7136\u540e\u8ba1\u7b97\u7ec4\u5408\u8d44\u4ea7\u7684\u6ce2\u52a8\ncov = np.cov(port_returns.T)\nport_vol = np.sqrt(np.dot(np.dot(weights, cov), weights.T)) # 0.01\n\n# \u4f7f\u7528 sharpe_ratio\u6765\u8ba1\u7b97\u590f\u666e\u7387\nsr = sharpe_ratio(port_returns) # 0.18\n\nprint(\"Sharpe Ratio and Vol\")\nprint(f\"{sr:.2f} {port_vol:.2f}\")\n</code></pre> <p>\u5728\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5148\u662f\u968f\u673a\u751f\u6210\u4e86\u4e00\u4e2a\u6743\u91cd\u77e9\u9635\uff0c\u7136\u540e\u5bf9\u5b83\u8fdb\u884c\u4e86\u5f52\u4e00\u5316\uff08\u6743\u91cd\u77e9\u9635\u5404\u9879\u4e4b\u548c\u5fc5\u987b\u4e3a 1\uff09\u3002</p> <p>\u4e00\u4e9b\u6587\u7ae0\u4f1a\u4f7f\u7528\u5bf9\u6570\u6536\u76ca\u7387\u3002\u4f46\u662f\uff0c\u5728\u8ba1\u7b97\u65b9\u5dee\u65f6\uff0c\u591a\u6570\u4eba\u503e\u5411\u4e8e\u51e0\u4f55\u65b9\u5dee\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff08\u4ece google \u641c\u7d22\u7ed3\u679c\u770b\uff09\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u4e86 empyrical \u4e2d\u7684 sharpe_ratio \u65b9\u6cd5\u6765\u8ba1\u7b97\u590f\u666e\u7387\uff0c\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5c06 risk_free \u5229\u7387\u8bbe\u7f6e\u4e3a 0\u3002 empyrical \u662f\u7528\u6765\u8ba1\u7b97\u7b56\u7565\u5404\u9879\u6307\u6807\uff0c\u5982\u590f\u666e\u7387\u3001sortino\u3001maxdrawdown \u7b49\u6307\u6807\u7684\u5de5\u5177\uff0c\u7531 quantpian \u5f00\u53d1\u5e76\u5f00\u6e90\u3002\u50cf\u8fd9\u6837\u7684\u5e38\u7528\u91cf\u5316\u5e93\uff0c\u5728\u5927\u5bcc\u7fc1\u91cf\u4ee3\u4ea4\u6613\u8bfe\u7a0b\u4e2d\u90fd\u6709\u4ecb\u7ecd\u3002</p> <p>\u6700\u7ec8\uff0c\u6211\u4eec\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <pre><code>Random Weights:\n[0.48349071 0.32903015 0.85308562 0.64038565]\n\nRebalance\n[0.20966711 0.14268485 0.36994299 0.27770505]\nSharpe Ratio and Vol\n0.72 0.01\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u4e86\u8be5\u8d44\u4ea7\u7ec4\u5408\u7684\u590f\u666e\u7387\u4e3a 0.72\u3002\u4e00\u822c\u8ba4\u4e3a\uff0c\u5982\u679c\u6211\u4eec\u6295\u8d44\u7684\u662f\u6307\u6570\u6216\u8005\u6743\u91cd\u80a1\uff0c\u90a3\u4e48\u590f\u666e\u8d85\u8fc7 1 \u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u6295\u8d44\uff1b\u5bf9\u5176\u5b83\u9ad8\u98ce\u9669\u6743\u76ca\u7c7b\u6295\u8d44\uff0c\u4e00\u822c\u8981\u8d85\u8fc7 1.8\uff0c\u4f46\u5f88\u5c11\u6709\u8d44\u4ea7\u80fd\u8d85\u8fc7 3\u3002\u5728\u5927\u5bcc\u7fc1\u91cf\u5316\u4ea4\u6613\u8bfe\u7a0b\u91cc\uff0c\u6211\u4eec\u901a\u8fc7\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u8ba8\u8bba\u4e86\u590f\u666e\u7387\u4e0e\u6700\u5927\u56de\u64a4\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5373\u590f\u666e\u7387\u4e3a 1 \u65f6\uff0c\u5bf9\u5e94\u7684\u6700\u5927\u56de\u64a4\u4e3a\u591a\u5c11\u662f\u53ef\u80fd\u51fa\u73b0\u7684\uff1b\u590f\u666e\u7387\u4e3a 2 \u65f6\uff0c\u5bf9\u5e94\u7684\u6700\u5927\u56de\u64a4\u4e3a\u591a\u5c11\u662f\u53ef\u80fd\u51fa\u73b0\u7684\uff0c\u7b49\u7b49\u3002</p> <p>\u4e00\u5207\u51c6\u5907\u5de5\u4f5c\u90fd\u5df2\u5c31\u7eea\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u6765\u6c42\u5f97\u4e0a\u8ff0\u8d44\u4ea7\u7ec4\u5408\u7684\u6700\u4f18\u914d\u7f6e\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-2/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(2) - \u8499\u7279\u5361\u6d1b\u65b9\u6cd5","text":"<p>\u6240\u8c13\u8499\u7279\u5361\u6d1b\u6a21\u62df\uff0c\u5c31\u662f\u968f\u673a\u4ea7\u751f\u5927\u91cf\u7684\u8d44\u4ea7\u5206\u914d\u65b9\u6848\uff0c\u7136\u540e\u518d\u8ba1\u7b97\u5404\u79cd\u5206\u914d\u65b9\u6848\u4e0b\uff0c\u6240\u5f97\u5230\u7684\u6ce2\u52a8\u7387\u3001\u590f\u666e\u7387\uff0c\u518d\u6839\u636e\u6700\u4f18\u7684\u590f\u666e\u7387\uff0c\u53cd\u67e5\u8d44\u4ea7\u5206\u914d\u65b9\u6848\u3002</p> <p>\u4e3b\u8981\u64cd\u4f5c\u6211\u4eec\u5728\u4e0a\u4e00\u8282\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u8fd9\u4e00\u6b65\u4e3b\u8981\u505a\u7684\u4e8b\u60c5\u662f\u4e0d\u65ad\u5730\u91cd\u590d\u3002\u6211\u4eec\u5148\u628a\u4ee3\u7801\u7ed9\u51fa\u6765\uff0c\u518d\u8fdb\u884c\u89e3\u91ca\uff1a</p> <pre><code>num_ports = 5000\n\nw = np.zeros((num_ports, len(stocks)))\nvol_arr = np.zeros(num_ports)\nsharpe_arr = np.zeros(num_ports)\nport_return_arr = np.zeros((num_ports, len(returns)))\ncov_arr = np.zeros(num_ports)\n\nfor i in range(num_ports):\n    weights = np.array(np.random.random(len(stocks)))\n    weights = weights/np.sum(weights)  \n\n    w[i,:] = weights\n\n    weighted_returns = weights * returns\n    port_return_i = weighted_returns.sum(axis=1)\n    port_return_arr[i,:] = port_return_i\n\n    cov = np.cov(port_return_i)\n    cov_arr[i] = cov\n    vol_arr[i] = np.sqrt(np.dot(weights.T, np.dot(cov, weights)))\n    sharpe_arr[i] = sharpe_ratio(port_return_i)\n</code></pre> <p>\u6211\u4eec\u4e3b\u8981\u5b9a\u4e49\u4e86\u8fd9\u6837\u56db\u4e2a\u6570\u7ec4\uff1a</p> <ol> <li>\u6743\u91cd\u77e9\u9635 all_weights\u3002\u6211\u4eec\u6253\u7b97\u91cd\u590d 5000 \u6b21\u91c7\u6837\uff0c\u7531\u4e8e\u8d44\u4ea7\u7ec4\u5408\u5171\u6709 4 \u4e2a\u6807\u7684\uff0c\u6240\u4ee5\uff0c\u5b83\u662f\u4e00\u4e2a 5000 * 4 \u7684\u77e9\u9635\u3002\u6bcf\u4e00\u884c\u5bf9\u5e94\u4e00\u6b21\u8d44\u4ea7\u7ec4\u5408\u5206\u914d\u3002</li> <li>\u590f\u666e\u7387\u6570\u7ec4\u3002\u5b83\u662f\u4e00\u4e2a size \u4e3a 5000 \u7684\u6570\u7ec4\uff0c\u8bb0\u5f55\u4e86\u6bcf\u4e00\u6b21\u8ba1\u7b97\u51fa\u6765\u7684 sharepe \u7387\u3002</li> <li>\u6ce2\u52a8\u7387\u6570\u7ec4\u3002\u5b83\u4e5f\u662f\u4e00\u4e2a size \u4e3a 5000 \u7684\u6570\u7ec4\uff0c\u8bb0\u5f55\u4e86\u6bcf\u4e00\u6b21\u8ba1\u7b97\u90ae\u6765\u7684\u6ce2\u52a8\u7387\u3002</li> <li>port_return_arr\uff0c\u5728\u793a\u4f8b\u4e2d\uff0c\u5b83\u662f\u4e00\u4e2a 5000 * 241 \u5927\u5c0f\u7684\u77e9\u9635\uff0c\u6bcf\u4e00\u884c\u8bb0\u5f55\u4e86\u7ec4\u5408\u5728\u8fc7\u53bb\u4e00\u5e74\u4e2d\u6bcf\u4e00\u5929\u7684\u6536\u76ca\u3002</li> </ol> <p>\u5f53\u4e0a\u8ff0\u4ee3\u7801\u8fd0\u884c\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u5f97\u5230\u4e86 5000 \u7ec4\u590f\u666e\u503c\u3002\u6839\u636e\u590f\u666e\u503c\u7684\u5b9a\u4e49\uff0c\u6211\u4eec\u76f4\u63a5\u627e\u5230\u590f\u666e\u503c\u6700\u5927\u7684\u90a3\u4e00\u7ec4\uff0c\u5c31\u662f\u98ce\u9669\u6700\u5c0f\u3001\u6536\u76ca\u6700\u9ad8\u7684\u8d44\u4ea7\u7ec4\u5408\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-2/#_1","title":"\u786e\u5b9a\u6700\u4f73\u6295\u8d44\u7ec4\u5408","text":"<p>\u6211\u4eec\u4f7f\u7528 np.argmax \u6765\u5bfb\u627e\u590f\u666e\u6700\u5927\u65f6\u7684\u4f4d\u7f6e\uff0c\u6b64\u70b9\u5373\u4e3a\u6700\u4f73\u6295\u8d44\u7ec4\u5408\uff1a</p> <pre><code># \u68c0\u67e5\u6700\u9ad8\u7684 SHARPE\npos = np.argmax(sharpe_arr)\nprint(pos, sharpe_arr[pos])\nprint(\"stocks\", stocks)\nprint(\"Portfolio Allocation:\", w[pos])\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u8d44\u4ea7\u5206\u914d\u65b9\u6848\u7c7b\u4f3c\u5982\u4e0b\uff1a</p> \u6807\u7684 1 \u6807\u7684 2 \u6807\u7684 3 \u6807\u7684 4 \u6bd4\u4f8b 35.3% 0.3% 0.8% 64% <p>\u6211\u4eec\u5c06\u4e0a\u8ff0\u8bd5\u9a8c\u7ed3\u679c\u7ed8\u5236\u6210\u56fe\u5f62\uff0c\u6765\u770b\u770b\u662f\u5426\u7b26\u5408\u6709\u6548\u524d\u6cbf\u7406\u8bba\uff1a</p> <pre><code>import matplotlib.pyplot as plt\n\nannual_return = np.prod((1 + port_return_arr), axis=1) - 1\nplt.scatter(vol_arr, annual_return, c=sharpe_arr, cmap='RdYlBu')\nplt.colorbar(label='Sharpe Ratio')\n\nplt.scatter(vol_arr[pos], annual_return[pos], c='red',s=80)\n</code></pre> <p>\u6211\u4eec\u4ee5\u6ce2\u52a8\u7387\u4e3a x \u8f74\uff0c\u5e74\u5316\u56de\u62a5\u4e3a y \u8f74\u3002\u5728\u6bcf\u4e00\u4e2a x \u4e0a\uff0c\u90fd\u5b58\u5728\u82e5\u5e72\u7ec4\u5e74\u5316\u56de\u62a5\u6570\u636e\uff0c\u6709\u6b63\u6709\u8d1f\u3002\u663e\u7136\uff0c\u5bf9\u4e8e\u540c\u4e00\u4e2a x\uff0c\u6b63\u597d\u662f\u90a3\u4e9b\u5904\u5728\u6709\u6548\u524d\u6cbf\u4e0a\u7684\u7ec4\u5408\uff0c\u6b63\u597d\u662f\u6536\u76ca\u6700\u5927\u6216\u8005\u4e8f\u635f\u6700\u5927\u7684\u7ec4\u5408\u3002</p> <p>\u6309\u7167 MPT \u7406\u8bba\uff0c\u53ea\u6709\u90a3\u4e9b\u5728 y \u8f74\u4e0a\u65b9\uff0c\u4e14\u5904\u4e8e\u6709\u6548\u524d\u6cbf\u4e0a\u7684\u624d\u662f\u503c\u5f97\u5173\u6ce8\u7684\u7ec4\u5408\uff0c\u7136\u540e\u6839\u636e\u6211\u4eec\u7684\u98ce\u9669\u627f\u53d7\u80fd\u529b\uff0c\u6765\u9009\u62e9\u8fd9\u6761\u7ebf\u4e0a\u5bf9\u5e94\u7684\u7ec4\u5408\u3002</p> <p>\u6211\u4eec\u628a\u590f\u666e\u7387\u6700\u9ad8\u7684\u90a3\u7ec4\u65b9\u6848\uff0c\u7528\u7ea2\u8272\u7684\u70b9\u6807\u6ce8\u51fa\u6765\u3002</p> <p></p> <p>\u4ece\u8d70\u52bf\u56fe\u6765\u770b\uff0c\u6211\u4eec\u8fd9\u6837\u6c42\u51fa\u6765\u7684\u8d44\u4ea7\u7ec4\u5408\u786e\u5b9e\u662f\u6700\u4f18\u7684\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u5c06\u5b83\u4e0e\u6587\u7ae0\u5f00\u5934\u7684\u90a3\u4e2a\u56fe\u76f8\u6bd4\uff0c\u6211\u4eec\u4f1a\u5f97\u51fa\u4ec0\u4e48\u7ed3\u8bba\uff1f</p> <ol> <li> <p>\u8fd9\u628a\u724c\u4e0d\u884c\u3002\u5982\u679c\u4f60\u613f\u610f\u627f\u62c5\u8f83\u5927\u98ce\u9669\uff0c\u8fd9\u628a\u724c\u4e5f\u4e0d\u80fd\u7ed9\u4f60\u60f3\u8981\u7684\u6536\u76ca\u3002\u6d6a\u5f97\u4e0d\u591f\u72e0\u3002</p> </li> <li> <p>\u8d44\u4ea7\u7ec4\u5408\u5e76\u6ca1\u6709\u5f62\u6210\u76f4\u89c2\u7684\u6709\u6548\u524d\u6cbf\uff0c\u539f\u56e0\u4e3b\u8981\u662f\u6295\u8d44\u7ec4\u5408\u6574\u4f53\u7684\u6536\u76ca\u7387\u53d7\u7ec4\u5408\u5185\u8d44\u4ea7\u7684\u6536\u76ca\u7387\u9650\u5236\uff0c\u5373min(\u7ec4\u5408\u5185\u8d44\u4ea7\u6536\u76ca\u7387)\u2264\u8d44\u4ea7\u7ec4\u5408\u6536\u76ca\u7387\u2264max(\u7ec4\u5408\u5185\u8d44\u4ea7\u6536\u76ca\u7387)\uff0c\u56e0\u6b64\u5e76\u4e0d\u662f\u80fd\u5b9e\u73b0\u6240\u6709\u6536\u76ca\u7387\u3002</p> </li> </ol> <p>\u56e0\u6b64\u6211\u4eec\u5f97\u5230\u7ed3\u8bba\uff1a\u4f60\u5f97\u91cd\u65b0\u9009\u6807\u7684\u3002</p> <p>\u53e6\u5916\uff0c\u5982\u679c\u4f60\u73b0\u5728\u5c31\u6025\u4e8e\u7528MPT\u6765\u8fdb\u884c\u6295\u8d44\u3002\u3002\u3002\u4f60\u8fd8\u5f97\u518d\u5b66\u70b9\u5565\u3002</p> <p>\u5386\u53f2\u5f53\u7136\u603b\u662f\u5728\u91cd\u590d\u81ea\u5df1\uff0c\u4e00\u5207\u5386\u53f2\u90fd\u662f\u5f53\u4ee3\u53f2\u3002\u4f46\u662f\u4ecd\u7136\u6709\u5f88\u591a\u4e1c\u897f\u8981\u8ba8\u8bba\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5e94\u8be5\u653e\u591a\u5c11\u652f\u6807\u7684\u5230\u8fd9\u4e2a\u7ec4\u5408\u91cc\u6765\uff1f\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\u53ea\u4f7f\u7528\u4e864\u652f\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u6caa\u6df1300\u6216\u8005\u4e2d\u8bc11000\u6765\u505a\u6307\u589e\uff0c\u4f1a\u4e0d\u4f1a\u66f4\u597d\u4e00\u70b9\uff1f</p> <p>\u5176\u6b21\uff0c\u4e0a\u8ff0\u4e24\u5e45\u56fe\u662f\u9488\u5bf9\u540c\u4e00\u8d44\u4ea7\u7ec4\u5408\uff0c\u4e0d\u540c\u65f6\u95f4\u6bb5\u60c5\u51b5\u6240\u5f62\u6210\uff0c\u5f88\u660e\u663e\u6536\u76ca\u53ca\u98ce\u9669\u90fd\u6709\u8f83\u5927\u5dee\u5f02\u3002\u5982\u679c\u6211\u4eec\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u70b9\u6765\u4f18\u5316\u6295\u8d44\u7ec4\u5408\uff0c\u6211\u4eec\u5f97\u5230\u7684\u4ed3\u4f4d\u663e\u7136\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u56e0\u6b64\u6211\u4eec\u63d0\u51fa\u95ee\u9898\uff1a\u6211\u4eec\u5e94\u8be5\u591a\u4e45\u8ba1\u7b97\u4e00\u6b21\u5e76\u6267\u884c\u8c03\u4ed3\uff1f\u4f1a\u4e0d\u4f1a\u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff0c\u6bcf\u6b21\u8c03\u4ed3\u662f\u5728\u7528\u8fc7\u53bb\u7684\u6700\u4f18\u89e3\uff0c\u800c\u5b83\u5f88\u5feb\u5c31\u53d8\u6210\u4e86\u6b21\u4f18\u6216\u8005\u6700\u52a3\u89e3\uff1f\u4e5f\u5c31\u662f\uff0c\u8fd9\u4e2a\u7ec4\u5408\u5b83\u7684\u52a8\u91cf\u5468\u671f\u662f\u591a\u4e45\uff1f</p> <p>\u663e\u7136\uff0c\u4efb\u4f55\u4e00\u4e2a\u6709\u4ef7\u503c\u7684\u65b9\u6848\uff0c\u5f80\u5f80\u90fd\u4e0d\u662f\u4e00\u7bc7\u77ed\u6587\u80fdcover\u7684\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u7eed\u7684\u6587\u7ae0\u4e2d\u4e0d\u65ad\u6df1\u5165\u63a2\u8ba8\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u597d\uff0c\u6211\u4eec\u5148\u653e\u4e0b\u8fd9\u4e9b\u95ee\u9898\uff0c\u5148\u6765\u770b\u4e00\u4e2a\u6280\u672f\u95ee\u9898\uff1a</p> <p>\u6267\u884c\u4e0a\u8ff0\u5faa\u73af5000\u6b21\uff0c\u6211\u4eec\u82b1\u4e86\u5927\u7ea6 5.2 \u79d2\u3002</p> <p>\u8fd9\u662f\u53ea\u67094\u652f\u6807\u7684\u7684\u60c5\u51b5\u3002\u5f88\u663e\u7136\uff0c\u968f\u7740\u6807\u7684\u6570\u7684\u589e\u52a0\uff0c\u6211\u4eec\u9700\u8981\u66b4\u529b\u641c\u7d22\u7684\u7a7a\u95f4\u4e5f\u968f\u4e4b\u53d8\u5927\u3002\u8fd9\u79cd\u65b9\u6cd5\uff0c\u5728\u6807\u7684\u6570\u589e\u52a0\u523050\u652f\u3001100\u652f\u65f6\uff0c\u662f\u5426\u8fd8\u53ef\u884c\u5462\uff1f</p> <p>\u5728\u8ba8\u8bba\u53ef\u884c\u6027\u95ee\u9898\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u8fdb\u884c\u4e00\u4e9b\u901f\u5ea6\u4f18\u5316\u3002</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u7b97\u6cd5\uff0c\u628a\u90e8\u5206\u8ba1\u7b97\u79fb\u51fa\u4e86\u5faa\u73af\uff1a</p> <pre><code>from empyrical import sharpe_ratio\nimport time\nstart = time.time()\nnum_ports = 5000\nall_weights = np.random.rand(num_ports, len(stocks))\n\nshape = (len(all_weights), -1)\nall_weights = all_weights/all_weights.sum(axis=1).reshape(shape)\n\n# got 241 daily summed returns over 5000 iters\nall_port_returns = np.dot(all_weights,returns.T)\n\nall_cov = np.cov(all_port_returns).diagonal()\n\n# \u8ba1\u7b97\u6ce2\u52a8\u7387\nall_vol = []\nall_sharpe = []\n\nannual_return = np.prod((1 + all_port_returns), axis=1) - 1\n\nfor i in range(num_ports):\n    all_vol.append(np.sqrt(np.dot(all_weights[i].T, np.dot(all_cov[i], all_weights[i]))))\n    all_sharpe.append(sharpe_ratio(all_port_returns[i]))\n\nend = time.time()\nprint(\"\u8ba1\u7b97\u7528\u65f6\", end-start)\n\n# \u7ed8\u56fe\nall_vol = np.array(all_vol)\npos = np.argsort(all_vol)\n\nplt.scatter(all_vol, annual_return, c=all_sharpe, cmap='RdYlBu')\nplt.colorbar(label='Sharpe Ratio')\n\nmax_sharpe_pos = np.argmax(all_sharpe)\nplt.scatter(all_vol[max_sharpe_pos], annual_return[max_sharpe_pos], c='red',s=80)\n</code></pre> <p>\u4e0d\u8fc7\uff0c\u5728\u6309\u884c\u8ba1\u7b97\u6ce2\u52a8\u7387\u548c\u590f\u666e\u7387\u7684\u65f6\u5019\uff0c\u6211\u4e0d\u5f97\u4e0d\u505a\u51fa\u59a5\u534f\uff0c\u6539\u7528\u5faa\u73af\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff08\u6295\u8d44\u7ec4\u5408\u4e2d\u53ea\u67094\u53ea\u6807\u7684\uff09\uff0c\u6211\u4eec\u73b0\u5728\u7684\u6267\u884c\u65f6\u95f4\u9700\u89810.65\u79d2\u3002\u63d0\u5347\u4e86\u5927\u69828\u500d\u7684\u901f\u5ea6\uff08\u521d\u59cb\u4e3a5.2s\u5de6\u53f3\uff09\u3002</p> <p>PyPortfolioOpt\u7684\u4f5c\u8005\u66fe\u5728\u4e00\u4e2a\u793a\u4f8b\u4e2d\u7528\u5230\u4e86\u8fd9\u6837\u7684\u65b9\u6cd5\uff1a</p> <p><pre><code>n_samples = 10000\nw = np.random.dirichlet(np.ones(ef.n_assets), n_samples)\nrets = w.dot(ef.expected_returns)\nstds = np.sqrt(np.diag(w @ ef.cov_matrix @ w.T))\nsharpes = rets / stds\n</code></pre> \u8ba1\u7b97\u901f\u5ea6\u975e\u5e38\u4e4b\u5feb\uff08\u5c0f\u4e8e0.1\u79d2\uff09\uff0c\u4f46\u9700\u8981\u5bf9\u5176\u4e2d\u7684ef.cov_matrix\u8fdb\u884c\u66ff\u6362\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u7814\u7a76\u4e0b\u5b83\u7684\u6e90\u7801\u3002</p> <p>\u5bf9\u4e8e\u4e00\u4e2a\u4ec5\u67094\u652f\u6807\u7684\u7684\u7ec4\u5408\u6765\u8bf4\uff0c\u8fd9\u4e2a\u901f\u5ea6\uff08\u4e0d\u52301\u79d2\uff09\u663e\u7136\u53ef\u4ee5\u4ee4\u4eba\u6ee1\u610f\u4e86\u3002\u4f46\u6211\u4eec\u4e5f\u5728\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\uff0c\u63d0\u51fa\u4e00\u4e2a\u95ee\u9898\uff0c\u968f\u7740\u6807\u7684\u6570\u7684\u589e\u52a0\uff0c\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u6a21\u62df\u65b9\u6cd5\uff0c\u6211\u4eec\u9700\u8981\u66b4\u529b\u641c\u7d22\u7684\u7a7a\u95f4\u4e5f\u968f\u4e4b\u53d8\u5927\u3002\u90a3\u4e48\uff0c\u7a76\u7adf\u4f1a\u589e\u5927\u591a\u5c11\u5462\uff0c\u6b64\u65f6\u8fd8\u53ef\u4e0d\u53ef\u884c\uff1f</p> <p>\u6211\u4eec\u5148\u6765\u770b\u53ea\u6709\u4e24\u652f\u6807\u7684\u60c5\u51b5\u3002\u5047\u8bbe\u8d44\u4ea7\u6743\u91cd\u7684\u95f4\u9694\u662f1%\uff0c\u5373\u67d0\u4e2a\u8d44\u4ea7\u8981\u4e48\u5206\u914d1%\uff0c\u8981\u4e48\u5206\u914d2%\uff0c\u800c\u4e0d\u4f1a\u5206\u914d1.05%\u8fd9\u6837\u7684\u975e\u6574\u6570\u6743\u91cd\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u7b97\u5f97\uff0c\u5982\u679c\u8981\u628a\u8fd9\u4e9b\u6743\u91cd\u5206\u5e03\u5168\u90e8\u6a21\u62df\u5230\uff0c\u641c\u7d22\u7a7a\u95f4\u5c06\u662f\uff1a</p> <p>A: 1-100 ~ 101\u4e2a\u9009\u62e9\u9879 B: 1\u4e2a\u9009\u62e9\u9879</p> <p>\u5f53A\u7684\u6743\u91cd\u9009\u5b9a\u4ee5\u540e\uff0c\u5728\u6743\u91cd\u548c\u4e3a1\u7684\u7ea6\u675f\u4e0b\uff0cB\u5c31\u53ea\u6709\u4e00\u4e2a\u9009\u62e9\u3002\u56e0\u6b64\uff0c\u603b\u5171\u662f101\u6b21\u641c\u7d22\u3002</p> <p>\u5f53\u5982\u679c\u6807\u7684\u6570\u91cf\u4e0a\u5347\uff0c\u6211\u4eec\u4e3a\u4e86\u6a21\u62df\u5c3d\u53ef\u80fd\u591a\u7684\u60c5\u51b5\uff0c\u4e00\u5b9a\u4f1a\u6269\u5927\u6a21\u62df\u6b21\u6570\uff0c\u56e0\u6b64\u603b\u7684\u8fd0\u884c\u65f6\u957f\u8fc5\u901f\u4e0a\u6da8\u3002\u540c\u65f6\u968f\u7740\u6807\u7684\u6570\u7684\u589e\u52a0\uff0c\u6211\u4eec\u8981\u641c\u7d22\u7684\u6b21\u6570\u9700\u8981\u5448\u6307\u6570\u7ea7\u589e\u52a0\uff0c\u800c\u4e0d\u662f\u6309\u6807\u7684\u6570\u7ebf\u6027\u589e\u52a0\u3002</p> <p>\u56e0\u6b64\uff0c\u641c\u7d22\u6b21\u6570\u662f\u4e00\u4e2a\u7ec4\u5408\u95ee\u9898\u3002\u5047\u8bbe\u5b58\u5728\u56db\u4e2a\u6807\u7684\uff0c\u5e76\u4e0d\u662f\u7b80\u5355\u76844\u00d7100\u5c31\u53ef\u4ee5\u6a21\u62df\u51fa\u6240\u6709\u7ec4\u5408\uff0c\u800c\u662f\u5b58\u5728\uff1a \\(C_{99}^3\\)\u79cd\u5206\u914d\u65b9\u6848\u3002</p> <p>\u5bf9\u4efb\u610fn\u4e2a\u6807\u7684\uff0c\u6bcf\u4e2a\u6807\u7684\u7684\u6743\u91cd\u95f4\u9694\u63091%\u8ba1\u7b97\u7684\u8bdd\uff0c\u8fd9\u4e2a\u641c\u7d22\u7a7a\u95f4\u5c06\u662f\uff1a</p> <p>\\(C_{101-(n-1)}^{n-1}\\)\u6b21\u3002\u5982\u679c\u6211\u4eec\u670950\u652f\u6807\u7684\uff0c\u5219\u9700\u8981\u641c\u7d22\u6700\u5c111.998e+21\u4ebf\u6b21\uff01</p> <p>Tip</p> <p>\u53ef\u4ee5\u4f7f\u7528 math.comb\u6765\u8ba1\u7b97\u7ec4\u5408\u6570\u3002</p> <p>\u6240\u4ee5\uff0c\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\uff0c\u4f1a\u5b58\u5728\u65e0\u6cd5\u7a77\u5c3d\u6240\u6709\u6837\u672c\u7a7a\u95f4\u7684\u53ef\u80fd\u6027\u3002\u6211\u4eec\u5fc5\u987b\u91c7\u7528\u6570\u5b66\u7684\u65b9\u6cd5\uff0c\u6765\u4f18\u5316\u8fd9\u4e2a\u6c42\u89e3\u8fc7\u7a0b\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(3) - \u4f18\u5316\u7b97\u6cd5","text":"<p>\u5bfb\u627e\u7ed9\u5b9a\u6536\u76ca\u7387\u4e0b\u7684\u6700\u5c0f\u6ce2\u52a8\u7387\uff0c\u6216\u8005\u7ed9\u5b9a\u6ce2\u52a8\u7387\u4e0b\u7684\u6700\u5927\u590f\u666e\u7387\uff0c\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u7c7b\u5e38\u89c1\u7684\u4f18\u5316\u95ee\u9898\uff0c\u5373\uff1a</p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Scipy.optimize\u5de5\u5177\u5e93\u6765\u6c42\u89e3\u7c7b\u4f3c\u95ee\u9898\u3002</p> <p>scipy.optimize\u5305\u7684\u4e3b\u8981\u529f\u80fd * SciPy Optimize\u63d0\u4f9b\u6700\u5c0f\u5316(\u6216\u6700\u5927\u5316)\u76ee\u6807\u51fd\u6570\u7684\u529f\u80fd\uff0c\u53ef\u80fd\u5b58\u5728\u7ea6\u675f\u3002 * \u5b83\u5305\u62ec\u89e3\u51b3\u975e\u7ebf\u6027\u95ee\u9898(\u652f\u6301\u5c40\u90e8\u548c\u5168\u5c40\u4f18\u5316\u7b97\u6cd5) \uff0c\u7ebf\u6027\u89c4\u5212\uff0c\u7ea6\u675f\u548c\u975e\u7ebf\u6027\u6700\u5c0f\u4e8c\u4e58\uff0c\u6839\u5bfb\u627e\u548c\u66f2\u7ebf\u62df\u5408\u3002 * \u5f53\u6211\u4eec\u9700\u8981\u4f18\u5316\u8f93\u5165\u51fd\u6570\u7684\u53c2\u6570\u65f6\uff0cscipy.optimize\u5305\u542b\u5f88\u591a\u6709\u7528\u7684\u65b9\u6cd5\uff0c\u5e76\u53ef\u4ee5\u5904\u7406\u4e0d\u540c\u79cd\u7c7b\u7684\u51fd\u6570</p> <p>\u5b83\u63d0\u4f9b\u4ee5\u4e0b\u65b9\u6cd5\uff1a * minimize_scalar( )\uff1a\u4f7f\u4e00\u4e2a\u53d8\u91cf\u6700\u5c0f\u5316 * minimize( )\uff1a\u4f7f\u591a\u4e2a\u53d8\u91cf\u6700\u5c0f\u5316 * curve_fit( )\uff1a\u5bfb\u627e\u6700\u4f18\u66f2\u7ebf\uff0c\u9002\u5408a set of data * root_scalar( )\uff1a\u6c42\u4e00\u4e2a\u53d8\u91cf\u7684\u96f6\u70b9 * root( )\uff1a\u6c42\u591a\u4e2a\u53d8\u91cf\u7684\u96f6\u70b9 * linprog( )\uff1a\u5728\u7ebf\u6027\u7b49\u5f0f\u548c\u4e0d\u7b49\u5f0f\u7684\u7ea6\u675f\u4e0b\uff0c\u6700\u5c0f\u5316\u7ebf\u6027\u76ee\u6807\u51fd\u6570</p> <p>\u5728\u8fd9\u4e9b\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecdminimize_scalar\u548cminimize\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#minimize_scalar","title":"minimize_scalar","text":"<p>\u6709\u4e00\u7c7b\u95ee\u9898\uff0c\u6bd4\u5982\u89e3\u65b9\u7a0b\uff0c\u5b83\u7684\u89e3\u662f\u4e00\u4e2a\u6570\u5b57\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u7528 minimize_scalar \u65b9\u6cd5\u6765\u6c42\u89e3\u3002</p> <p>\u4f8b\u5982\uff0c\u6211\u4eec\u7684\u51fd\u6570\u4e3a\uff1a</p> <p>\\(y=3x^4-2x+1\\)</p> <p>minimize_scalar( )\u5c31\u662f\u5e2e\u52a9\u6211\u4eec\u627e\u5230\u51fd\u6570\u6700\u5c0f\u503c(y\u6700\u5c0f)\u65f6\u7cbe\u786e\u7684\u5750\u6807\u3002\u901a\u4fd7\u5730\u8bf4\uff0c\u5c31\u662f\u89e3\u65b9\u7a0b\u3002</p> <p><pre><code>from scipy.optimize import minimize_scalar\n\ndef objective_function(x):\n    return 3 * x ** 4 - 2 * x + 1\n# \u5b9a\u4e49\u9700\u8981\u6c42\u89e3\u7684\u51fd\u6570\n\nres = minimize_scalar(objective_function)\n# \u6c42\u51fa\u51fd\u6570\u7684\u6700\u5c0f\u503c\n\nprint(res)\n</code></pre> \u6211\u4eec\u91cd\u70b9\u89e3\u91ca\u4e00\u4e0b\u8f93\u51fa\u7ed3\u679c\uff0c\u8fd9\u5c06\u5728\u540e\u9762\u7ee7\u7eed\u4f7f\u7528\uff1a</p> <pre><code> message: \n          Optimization terminated successfully;\n          The returned value satisfies the termination criteria\n          (using xtol = 1.48e-08 )\n success: True\n     fun: 0.17451818777634331\n       x: 0.5503212087491959\n     nit: 12\n    nfev: 15\n</code></pre> <p>\u8fd9\u91cc\u7684fun\u662f\u51fd\u6570\u503c\uff0cx\u662f\u53d8\u91cf\u503c\uff0c\u5982\u679c\u6211\u4eec\u628ax\u7684\u503c\u4ee3\u5165\u5230\u516c\u5f0f \\(3*x^4-2*x+1\\)\uff0c\u6211\u4eec\u4f1a\u5f97\u5f97\u52300.17,\u5373fun\u7684\u503c\u3002</p> <p>\u8981\u6ce8\u610f\uff0c\u4e0d\u662f\u6240\u6709\u60c5\u51b5\u90fd\u80fd\u8fdb\u884c\u4f18\u5316\u6c42\u89e3\u7684\u3002\u6bd4\u5982\uff0c\\(y=x^3\\)\u6ca1\u6709\u6700\u5c0f\u503c\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u5b83\u6c42\u89e3\uff0c\u4f1a\u5bfc\u81f4overflowerror.</p> <p>\u53e6\u5916\u7684\u60c5\u51b5\u662f\uff0c\u5b58\u5728\u591a\u4e2a\u6700\u5c0f\u503c\u7684\u60c5\u51b5\uff0c\u6b64\u65f6minimize_scalar\u4e0d\u80fd\u4fdd\u8bc1\u627e\u5230\u51fd\u6570\u7684\u5168\u5c40\u6700\u5c0f\u503c\u3002</p> <p>\u6211\u4eec\u4ee5\\(y=x^4-x^2\\)\u4e3a\u4f8b\uff0c\u5b83\u5b58\u5728\u591a\u4e2a\u6700\u5c0f\u503c\uff0cminimize_scalar ()\u4e0d\u80fd\u4fdd\u8bc1\u627e\u5230\u51fd\u6570\u7684\u5168\u5c40\u6700\u5c0f\u503c\u3002\u6211\u4eec\u5c1d\u8bd5\u4e00\u4e0b\uff1a</p> <p><pre><code>from scipy.optimize import minimize_scalar\n# help(minimize)\n\ndef objective_function(x):\n    return x**4 - x**2\n\nres = minimize_scalar(objective_function)\nres\n</code></pre> \u6211\u4eec\u5c06\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a</p> <pre><code> message: \n          Optimization terminated successfully;\n          The returned value satisfies the termination criteria\n          (using xtol = 1.48e-08 )\n success: True\n     fun: -0.24999999999999994\n       x: 0.7071067853059209\n     nit: 11\n    nfev: 14\n</code></pre> <p>\u8fd9\u6837\u6c42\u89e3\u51fa\u6765\u7684\u65b9\u7a0b\u7684\u6839\u662f0.707\u3002\u4f46\u6211\u4eec\u77e5\u9053\uff0c\u8be5\u65b9\u7a0b\u81f3\u5c11\u8fd8\u6709\u4e00\u4e2a-0.707\u7684\u6839\uff0c\u56e0\u6b64\uff0c minimize_scalar\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u662f\u65e0\u6cd5\u627e\u51fa\u5168\u90e8\u7684\u6839\u7684\u3002\u4f46\u6211\u4eec\u53ef\u80fd\u901a\u8fc7\u8bbe\u5b9a\u53c2\u6570\uff0c\u6765\u63a7\u5236\u7528\u4e8e\u4f18\u5316\u7684\u6c42\u89e3\u5668\u3002\u4e00\u5171\u6709\u4e09\u79cd\u8bbe\u5b9a\u65b9\u5f0f\uff1a * brent:\u5e03\u4f26\u7279\u7b97\u6cd5\uff0c\u4e5f\u662f\u8be5\u51fd\u6570\u7684\u9ed8\u8ba4\u7b97\u6cd5 * golden:\u9ec4\u91d1\u5206\u5272\u7b97\u6cd5\uff0c\u6839\u636e\u5df2\u6709\u7814\u7a76\uff0c\u8be5\u65b9\u5f0f\u6548\u679c\u7565\u5dee\u4e8ebrent * bounded:\u5e03\u4f26\u7279\u7b97\u6cd5\u7684\u201c\u6709\u754c\u5b9e\u73b0\u201d</p> <p>brent\u548cgolden\u5c5e\u4e8ebracket\uff1a\u8fd9\u662f\u4e00\u4e2a\u7531\u4e24\u4e2a\u6216\u4e09\u4e2a\u5143\u7d20\u7ec4\u6210\u7684\u5e8f\u5217\uff0c\u5b83\u63d0\u4f9b\u4e86\u5bf9\u6700\u5c0f\u533a\u57df\u8fb9\u754c\u7684\u521d\u59cb\u731c\u6d4b\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u6c42\u89e3\u5668\u5e76\u4e0d\u4fdd\u8bc1\u6240\u627e\u5230\u7684\u6700\u5c0f\u503c\u5c06\u5728\u6b64\u8303\u56f4\u5185\u3002</p> <p>bounded\u5c5e\u4e8ebounds\uff1a\u8fd9\u662f\u4e00\u4e2a\u4e24\u4e2a\u5143\u7d20\u7684\u5e8f\u5217\uff0c\u4e25\u683c\u9650\u5236\u641c\u7d22\u533a\u57df\u7684\u6700\u5c0f\u503c\u3002\u56e0\u6b64\u5f53\u6700\u5c0f\u503c\u5728\u5df2\u77e5\u8303\u56f4\u5185\u65f6\uff0c\u9650\u5236\u641c\u7d22\u533a\u57df\u624d\u662f\u6709\u7528\u7684\u3002\u8fd9\u4e2a\u6982\u5ff5\u6211\u4eec\u5728\u540e\u9762\u8fd8\u5c06\u8fdb\u4e00\u6b65\u63a5\u89e6\u3002\u6211\u4eec\u6765\u770b\u4f7f\u7528bounds\u65b9\u5f0f\u7684\u4f8b\u5b50\uff1a</p> <pre><code># \u5f53\u6211\u4eec\u91c7\u7528bounds\u65b9\u5f0f\u9650\u5b9a\u65f6\nres = minimize_scalar(objective_function, method='bounded', bounds=(-1, 0))\nres\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6c42\u89e3\u7684x\u5c06\u843d\u5728\u533a\u95f4(-1,0)\u4e4b\u95f4\uff0c\u6211\u4eec\u56e0\u6b64\u5f97\u5230\uff1a</p> <pre><code> message: Solution found.\n success: True\n  status: 0\n     fun: -0.24999999999998732\n       x: -0.707106701474177\n     nit: 10\n    nfev: 10\n</code></pre> <p>\u8fd9\u6b21\u6211\u4eec\u5f97\u5230\u4e86\u671f\u671b\u4e2d\u7684\u8d1f\u6570\u89e3\u3002</p> <p>\u4e0d\u8fc7\uff0c\u6700\u4f73\u8d44\u4ea7\u7ec4\u5408\u7684\u6c42\u89e3\u8981\u6bd4\u8fd9\u4e2a\u590d\u6742\uff0c\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u53e6\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5373<code>minimize</code>\u65b9\u6cd5\uff0c\u5177\u4f53\u4f18\u5316\u7b97\u6cd5\u5219\u662f\u6700\u5c0f\u987a\u5e8f\u4e8c\u4e58\u6cd5\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#minimize","title":"\u4f7f\u7528 minimize \u65b9\u6cd5","text":"<p>\u5728\u524d\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4e86\u89e3\u4e86\u76ee\u6807\u51fd\u6570\u3001bounds\u9650\u5b9a\u65b9\u5f0f\u4ee5\u53ca\u6c42\u89e3\u7ed3\u679c OptimizeResults\u5bf9\u8c61\uff0c\u7279\u522b\u662f\u5b83\u7684<code>fun</code>\u5c5e\u6027\u548c<code>x</code>\u5c5e\u6027\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u8981\u4ecb\u7ecd\u7ea6\u675f\uff08constraints\uff09\u6982\u5ff5\u3002\u638c\u63e1\u8fd9\u4e9b\u6982\u5ff5\u4e4b\u540e\uff0c\u5c31\u57fa\u672c\u638c\u63e1\u4e86\u51f8\u4f18\u5316\u3002</p> <p>\u6211\u4eec\u5148\u6765\u770b<code>minimize</code>\u65b9\u6cd5\u7684\u7b7e\u540d\uff1a</p> <p><pre><code>scipy.optimize.minimize(fun, \n                        x0, \n                        args=(), \n                        method=None, \n                        jac=None, \n                        hess=None, \n                        hessp=None, \n                        bounds=None, \n                        constraints=(), \n                        tol=None, \n                        callback=None, \n                        options=None)\n</code></pre> \u6211\u4eec\u91cd\u70b9\u4ecb\u7ecd\u8ddf\u672c\u7ae0\u4e3b\u9898\u76f8\u5173\u7684\u53c2\u6570\uff0c\u4e3b\u8981\u662f<code>fun</code>, <code>x0</code>, <code>method</code>, <code>bounds</code>\u548c<code>constraints</code>\u3002</p> <p>\u8fd9\u91cc\u7684<code>fun</code>\u662f\u6307\u76ee\u6807\u51fd\u6570\uff0c\u4e4b\u524d\u6211\u4eec\u5df2\u7ecf\u63a5\u89e6\u8fc7\u8fd9\u4e2a\u6982\u5ff5\u3002\u5982\u679c\u76ee\u6807\u51fd\u6570\u9700\u8981\u4f20\u5165\u53c2\u6570\uff0c\u5219\u5b83\u7684\u53c2\u6570\u5c06\u901a\u8fc7<code>args</code>\u6765\u4f20\u5165\u3002</p> <p>\u4f18\u5316\u65b9\u6cd5\u4f7f\u7528\u4e00\u7cfb\u5217\u8fed\u4ee3\u6765\u8fdb\u884c\u6c42\u89e3\u6ee1\u8db3\u76ee\u6807\u51fd\u6570\u7684\u7269\u7406\u91cf<code>x</code>\uff0c\u5b83\u9700\u8981\u4ece\u4e00\u7ec4\u521d\u59cb\u503c\u5f00\u59cb\u3002<code>x0</code>\u5c31\u662f\u6211\u4eec\u63d0\u4f9b\u7ed9\u4f18\u5316\u65b9\u6cd5\u7684\u521d\u59cb\u503c\u3002\u5b83\u7684\u6700\u7ec8\u7ed3\u679c\uff0c\u5c06\u901a\u8fc7OptimalResult.x\u6765\u4f20\u9012\u56de\u6765\u3002</p> <p>\u5bf9\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u6709\u4e0d\u540c\u7684\u4f18\u5316\u65b9\u6848\u3002<code>minimize</code>\u65b9\u6cd5\u652f\u6301\u4e86\u5927\u7ea614\u79cd\u4f18\u5316\u65b9\u6848\uff0c\u6b64\u5916\u8fd8\u5141\u8bb8\u4f60\u81ea\u5b9a\u4e49\u4f18\u5316\u7b97\u6cd5\u3002\u5728\u8fdb\u884c\u4f18\u5316\u6c42\u89e3\u4e4b\u524d\uff0c\u6211\u4eec\u4e00\u822c\u9700\u8981\u6307\u5b9a\u4e00\u79cd\u4f18\u5316\u7b97\u6cd5\u3002</p> <p><code>bound</code>\u548c<code>constraints</code>\u53c2\u6570\uff0c\u6211\u4eec\u5c06\u6211\u4eec\u7ed3\u5408\u6709\u6548\u524d\u6cbf\u6c42\u89e3\u95ee\u9898\uff0c\u6765\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u3002\u540c\u65f6\uff0c\u4e5f\u8bb2\u89e3\u5176\u5b83\u53c2\u6570\u7684\u4f7f\u7528\u3002</p> <p>\u6211\u4eec\u5148\u6765\u6784\u5efa\u4e00\u4e2a\u6700\u5c0f\u65b9\u5dee\u7684\u6295\u8d44\u7ec4\u5408\u3002\u6211\u4eec\u5148\u6765\u5b9a\u4e49\u76ee\u6807\u51fd\u6570\uff1a</p> <pre><code>def portfolio_sd(w):\n    return np.sqrt(np.transpose(w) @ (returns.cov() * 253) @ w)\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u7684\u5e38\u6570253\u3002\u6211\u4eec\u4f7f\u7528\u5b83\u6765\u5c06\u6536\u76ca\u8fdb\u884c\u5e74\u5316\u3002\u8fd9\u662f\u4e00\u79cd\u7c97\u7565\u4f46\u7b80\u5355\u7684\u65b9\u6cd5\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u5b9a\u4e49\u7ea6\u675f\u6761\u4ef6\uff0c\u4ee5\u5b9e\u73b0\u201c\u5728\u67d0\u4e2a\u6536\u76ca\u7387\u65f6\uff0c\u6ce2\u52a8\u6700\u5c0f\u201d\u8fd9\u4e2a\u9700\u6c42\u3002\u9996\u5148\uff0c\u6211\u4eec\u8981\u5b9a\u4e49\u5e74\u5316\u6536\u76ca\u7387\uff1a</p> <pre><code>def portfolio_returns(w):\n    return (np.sum(returns.mean() * w)) * 253\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u6765\u5b9a\u4e49\u7ea6\u675f\u3002minimize\u65b9\u6cd5\u8981\u6c42\u901a\u8fc7dict\u6765\u4f20\u5165\u7ea6\u675f\u6761\u4ef6\u3002\u5b83\u652f\u6301\u4e24\u79cd\u8868\u8fbe\u5f0f\uff0c\u5373'eq'\u548c'ineq'\u3002</p> <pre><code>constraints = ({'type': 'eq', 'fun': lambda x: np.sum(x) - 1})\n</code></pre> <p>\u8fd9\u91cc\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7ea6\u675f\u3002'eq'\u8868\u660e'fun'\u6307\u5411\u7684\u8868\u8fbe\u5f0f\u5fc5\u987b\u7b49\u4e8e\u96f6\u3002'fun'\u7684\u503c\u53ef\u4ee5\u662flambda\u8868\u8fbe\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u662f\u5e38\u89c4\u51fd\u6570\u3002\u8fd9\u4e2alambda\u8868\u8fbe\u5f0f\u7684\u542b\u4e49\u662f\uff0c\u6743\u91cdx\u7684\u5404\u9879\u4e4b\u548c\uff0c\u5fc5\u987b\u7b49\u4e8e1\uff08\u8fd9\u662f\u663e\u7136\u7684\uff01\uff09\u3002\u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u8fd9\u91cc\u7684<code>fun</code>\u5e76\u4e0d\u662f<code>minimize</code>\u9996\u4e2a\u53c2\u6570\u7684<code>fun</code>\uff0c\u800c\u662f\u4e00\u79cd\u7ea6\u675f\u6761\u4ef6\u3002\u5b83\u7684\u53c2\u6570\u662f\u60df\u4e00\u7684\uff0c\u5373<code>minimize</code>\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570<code>x0</code>\u6240\u4ee3\u8868\u7684\u90a3\u4e2a\u7269\u7406\u91cf\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a'ineq'\u8868\u8fbe\u5f0f\uff0c\u8fd9\u610f\u5473\u7740<code>fun</code>\u6307\u5411\u7684\u8868\u8fbe\u5f0f\u6216\u8005\u51fd\u6570\uff0c\u5176\u8fd4\u56de\u503c\u5fc5\u987b\u5927\u4e8e\u96f6\u3002 <pre><code>constraints = ({\n    'type': 'ineq', 'fun': lambda x: x[0],\n})\n</code></pre> \u540c\u6837\u7684\uff0c\u8fd9\u91cc\u7684<code>x</code>\u662f\u4f20\u5165\u7684\u662f\u5728\u8fed\u4ee3\u8fc7\u7a0b\u4e2d\u7684\u3001\u6211\u4eec\u8981\u6c42\u89e3\u7684\u6ee1\u8db3\u76ee\u6807\u51fd\u6570\u7684\u7269\u7406\u91cf\u3002\u5728\u6700\u4f73\u6295\u8d44\u7ec4\u5408\u6c42\u89e3\u793a\u4f8b\u4e2d\uff0c\u5b83\u662f\u5404\u9879\u8d44\u4ea7\u7684\u6743\u91cd\u3002\u56e0\u6b64\uff0cx[0]\u5c31\u8868\u793a\u7b2c0\u53f7\u8d44\u4ea7\u7684\u6743\u91cd\u5fc5\u987b\u5927\u4e8e0\u3002\u8fd9\u662f\u6211\u4eec\u5728\u672c\u4f8b\u4e2d\uff0c\u53e6\u5916\u4e00\u4e2a\u7ea6\u675f\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u5bf9\u8d44\u4ea7\u6743\u91cd\u7684\u7ea6\u675f\u662f[0,1]\uff0c\u4e0a\u8ff0\u8868\u8fbe\u5f0f\u53ea\u80fd\u5b8c\u6210\u4e00\u534a\u76ee\u6807\u3002\u6b63\u786e\u7684\u505a\u6cd5\u662f\u4f7f\u7528bounds\uff1a</p> <p><pre><code>x0 = np.ones(len(stocks)) / len(stocks)\nbounds = tuple((0,1) for _ in x0)\n</code></pre> \u6709\u591a\u5c11\u4e2a\u8d44\u4ea7\uff0c\u6211\u4eec\u5c31\u8981\u5efa\u7acb\u591a\u5c11\u4e2a\u8fd9\u6837\u7684\u6709\u754c\u7ea6\u675f\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u628a\u6240\u6709\u7684\u6750\u6599\u653e\u5728\u4e00\u8d77\u201c\u716e\u201d\uff1a</p> <p><pre><code>from scipy.optimize import minimize\n\nres = minimize(\n    fun = portfolio_sd,\n    x0 = x0,\n    method = 'SLSQP',\n    bounds = bounds,\n    constraints = constraints\n)\nres\n</code></pre> \u8fd9\u6837\u6211\u4eec\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <p><pre><code> message: Optimization terminated successfully\n success: True\n  status: 0\n     fun: 0.14842169691096224\n       x: [ 2.500e-01  2.500e-01  2.500e-01  2.500e-01]\n     nit: 1\n     jac: [ 0.000e+00  0.000e+00  0.000e+00  0.000e+00]\n    nfev: 5\n    njev: 1\n</code></pre> nit\u8868\u660e\u51fd\u6570\u8fd0\u884c\u7684\u6b21\u6570\uff0c\u7531\u4e8e\u6211\u4eec\u5e76\u6ca1\u6709\u52a0\u4e0a\u6536\u76ca\u7387\u7ea6\u675f\uff0c\u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u5b9e\u9645\u4e0a\u4ec0\u4e48\u4e5f\u6ca1\u5e72\uff0c\u6211\u4eec\u4ecex\u7684\u503c\u53ef\u4ee5\u770b\u51fa\u8fd9\u4e00\u70b9\u3002</p> <p>\u6211\u4eec\u52a0\u4e0a\u6536\u76ca\u7387\u7ea6\u675f\u518d\u8bd5\u4e00\u6b21:</p> <pre><code>constraints = (\n    {'type': 'eq', 'fun': lambda x: np.sum(x) - 1},\n    {'type': 'eq', 'fun': lambda x: portfolio_returns(x) - 0.1}\n)\n\nres = minimize(\n    fun = portfolio_sd,\n    x0 = x0,\n    method = 'SLSQP',\n    bounds = bounds,\n    constraints = constraints,\n    options = dict(disp=True)\n)\nres\n</code></pre> <p>Info</p> <p>\u6ce8\u610f\u6211\u4eec\u5728\u8fd9\u91cc\u52a0\u4e86\u4e00\u4e2aoptions\u53c2\u6570\u3002\u901a\u8fc7\u5b83\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63ed\u793a\u8fed\u4ee3\u8fc7\u7a0b\u3002</p> <p>\u8fd9\u6b21\u4ecd\u7136\u53ea\u8fed\u4ee3\u4e00\u6b21\u5c31\u7ed3\u675f\u4e86\uff0c\u4f46\u6743\u91cdx\u7684\u503c\u53d8\u4e86\u3002\u6211\u4eec\u7528\u5b83\u6c42\u89e3\u51fa\u6765\u6743\u91cd\u503c\u770b\u4e00\u4e0b\uff0c\u5f97\u5230\u7684\u7ec4\u5408\u6536\u76ca\u662f\u5426\u4e3a0.1\uff1a</p> <p><pre><code>portfolio_returns(res.x)\n</code></pre> \u8fd4\u56de\u7ed3\u679c\u7684\u786e\u662f0.1\uff0c\u8bf4\u660e\u6c42\u89e3\u8fc7\u7a0b\u6b63\u786e\u3002\u540c\u65f6\uff0c\u53ea\u8fed\u4ee3\u4e00\u6b21\u5c31\u5f97\u5230\u6b63\u786e\u7ed3\u679c\uff0c\u8fd9\u4e2a\u6548\u7387\u4e5f\u4ee4\u4eba\u6ee1\u610f\u3002</p> <p>\u73b0\u5728\uff0c\u5982\u679c\u6211\u4eec\u518d\u6765\u6c42\u89e3\u6709\u6548\u524d\u6cbf\uff0c\u5e94\u8be5\u600e\u4e48\u505a\uff1f</p> <p>\u663e\u7136\uff0c\u6211\u4eec\u5e94\u8be5\u5148\u627e\u51fa\u8be5\u7ec4\u5408\u7684\u7406\u8bba\u6700\u5927\u3001\u6700\u5c0f\u6536\u76ca\uff0c\u7136\u540e\u5728\u8fd9\u4e2a\u533a\u95f4\u91cc\u8fdb\u884c\u7ebf\u6027\u5212\u5206\uff0c\u5c06\u6bcf\u4e00\u4e2a\u6536\u76ca\u70b9\u4f5c\u4e3a\u7ea6\u675f\u6761\u4ef6\uff0c\u6c42\u89e3\u51fa\u5bf9\u5e94\u7684\u8d44\u4ea7\u5206\u914d\u6743\u91cd\uff0c\u7136\u540e\u518d\u4f9d\u636e\u8fd9\u4e2a\u6743\u91cd\u5206\u914d\uff0c\u8ba1\u7b97\u5176\u5b83\u6307\u6807\uff0c\u6bd4\u5982sharpe\u3002</p> <p>\u7ec4\u5408\u7684\u7406\u8bba\u6700\u5927\u6536\u76ca\u662f\u628a\u6240\u6709\u7684\u4ed3\u4f4d\u90fd\u5206\u914d\u7ed9\u8868\u73b0\u6700\u597d\u7684\u80a1\u7968\u5f97\u5230\u7684\uff1b\u53cd\u4e4b\uff0c\u5982\u679c\u6240\u6709\u7684\u4ed3\u4f4d\u90fd\u5206\u914d\u7ed9\u8868\u73b0\u6700\u5dee\u7684\u8d44\u4ea7\uff0c\u5219\u6211\u4eec\u4f1a\u5f97\u5230\u6700\u5c0f\u6536\u76ca\u3002</p> <p>returns\u8868\u8bb0\u5f55\u4e86\u6bcf\u4e00\u4e2a\u6807\u7684\u7684daily return\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u6c42\u6bcf\u4e00\u4e2a\u6807\u7684\u7684\u5e74\u5316\uff1a</p> <pre><code>all_annual_returns = (1 + returns.mean()) ** 253 - 1\nbest = np.max(all_annual_returns)\nworst = np.min(all_annual_returns)\nprint(best, worst)\n</code></pre> <p>\u6211\u4eec\u5f97\u5230\u8d44\u4ea7\u7ec4\u5408\u7684\u6700\u5927\u6536\u76ca\u662f20%\uff0c\u6700\u5dee\u6536\u76ca\u662f-28%\u3002\u73b0\u5728\u6211\u4eec\u6765\u6c42\u89e3\u6709\u6548\u524d\u6cbf\uff0c\u8fd9\u4e00\u6b21\uff0c\u6211\u4eec\u7ed9\u8db3\u5b8c\u6574\u7684\u4ee3\u7801\uff1a</p> <p>```python {.line-numbers} sharpes = [] vols = [] weights = [] rets = []</p> <p>all_annual_returns = (1 + returns.mean()) ** 253 - 1 best = np.max(all_annual_returns) worst = np.min(all_annual_returns)</p> <p>x0 = np.ones(len(stocks)) / len(stocks) constraints = (     {'type': 'eq', 'fun': lambda x: np.sum(x) - 1},     {'type': 'eq', 'fun': lambda x: portfolio_returns(x) - target} )</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#1","title":"\u8fd9\u4e00\u6b21\uff0c\u6211\u4eec\u8981\u6c42\u6bcf\u4e2a\u6807\u7684\u81f3\u5c11\u5206\u914d1%\u7684\u6743\u91cd","text":"<p>bounds = tuple((0.01, 1) for _ in stocks)</p> <p>for target in np.linspace(worst, best, 100):     res = minimize(         fun = portfolio_sd,         x0 = x0,         method = 'SLSQP',         bounds = bounds,         constraints = constraints     )</p> <pre><code>vols.append(res.fun)\nweights.append(res.x)\nrets.append(target)\n\n# \u8ba1\u7b97sharpe\nsharpe = sharpe_ratio(returns.dot(res.x))\nsharpes.append(sharpe)\n</code></pre>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-3/#_1","title":"\u7ed8\u5236\u56fe\u5f62","text":"<p>plt.scatter(vols, rets, c=sharpes, cmap='RdYlBu') pos = np.argmax(sharpes) plt.colorbar(label='Sharpe Ratio') plt.scatter(vols[pos], rets[pos], marker='*', s=80, color='red')</p> <pre><code>\u8fd0\u884c\u603b\u5171\u82b1\u4e8611\u79d2\u3002\u770b\u4e0a\u53bb\u6bd4\u8fd0\u884c5000\u6b21\u8499\u7279\u5361\u6d1b\u6a21\u62df\u8fd8\u8981\u6162\uff0c\u4f46\u662f\uff0c\u5b83\u662f\u51e0\u4e4e\u6db5\u76d6\u4e86\u53ef\u80fd\u7684\u6bcf\u4e00\u79cd\u7ec4\u5408\u3002\u8fd9\u662f5000\u6b21\u8499\u7279\u5361\u6d1b\u6a21\u62df\u505a\u4e0d\u5230\u7684\u3002\n\n\u4ee3\u7801\u4e2d\u6709\u4e00\u4e9b\u5730\u65b9\u9700\u8981\u8fdb\u4e00\u6b65\u89e3\u91ca\u3002\u6211\u4eec\u5728\u524d\u9762\u8bb2\u89e3\u8fc7lambda\u8868\u8fbe\u5f0f`np.sum(x) - 1`\u4e2dx\u7684\u6765\u6e90\u3002\u60a8\u5e94\u8be5\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u5e76\u6ca1\u6709\u5728\u4efb\u4f55\u5730\u65b9\u58f0\u660e\u5b83\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u5f62\u5f0f\u53c2\u6570\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u53d8\u91cf\u540d\uff0c`minimize`\u65b9\u6cd5\u90fd\u4f1a\u5c06\u8fed\u4ee3\u4e2d\u7684\u6839\u53d8\u91cf\u4f20\u9012\u7ed9\u5b83 -- \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5c31\u662f\u6c42\u89e3\u4e2d\u7684\u6743\u91cd\u77e9\u9635\u3002\u7136\u800c\uff0c\u53e6\u4e00\u4e2a\u7ea6\u675f\u6761\u4ef6\uff1a\n\n```markdown\n    lambda x: portfolio_returns(x) - target\n</code></pre> <p>\u8fd9\u91cc\u7684target\u6765\u81ea\u4f55\u5904\uff1f\u5b83\u7684\u503c\u53c8\u662f\u5982\u4f55\u4f20\u9012\u7684\u5462\uff1f\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u5fc5\u987b\u63d0\u524d\u4f7f\u7528\u8fd9\u4e2a\u53d8\u91cf\uff0c\u4f46\u53ea\u5230\u7b2c19\u884c\uff0c\u6211\u4eec\u624d\u5728for\u5faa\u73af\u4e2d\u58f0\u660e\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5e76\u4e14\u5c06\u6700\u65b0\u7684\u503c\u4f20\u9012\u7ed9\u4e86lambda\u8868\u8fbe\u5f0f\u3002</p> <p>\u8fd8\u6709\u4e00\u4e2a\u6d6e\u70b9\u6570\u95ee\u9898\u3002\u5373'eq'\u8868\u8fbe\u5f0f\uff0c\u5b83\u7684\u7ed3\u679c\u662f\u8981\u8ddf0\u76f8\u6bd4\u8f83\u7684\u3002\u4f46\u662f\u7531\u4e8e\u5404\u79cd\u6d6e\u70b9\u8bef\u5dee\uff0c\u7406\u8bba\u4e0a\u7b49\u4e8e\u96f6\u7684\u8868\u8fbe\u5f0f\uff0c\u5728\u8ba1\u7b97\u673a\u770b\u6765\u53ef\u80fd\u4e0d\u7b49\u4e8e0\u3002\u6bd4\u5982\uff0c \u5728 portfolio_returns(x) - target &lt; 0.001\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u4e2a\u4f18\u5316\u5230\u4f4d\u4e86\uff0c\u4f46minimize\u4f1a\u4e00\u76f4\u5bfb\u627e\u5230\u8fd9\u4e2a\u5dee\u503c\u5c0f\u4e8e1e-7\u4e3a\u6b62\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5bf9portfolio_returns\u7684\u8fd4\u56de\u503c\u548ctarget\u8fdb\u884c\u53d6\u6574\uff08\u6bd4\u5982\uff0c\u5c0f\u6570\u70b9\u540e3\u4f4d\uff09\u6765\u52a0\u5feb\u8ba1\u7b97\u901f\u5ea6\uff0c\u4f46\u5f53\u6211\u4eec\u8fd9\u6837\u505a\u7684\u65f6\u5019\uff0c\u8981\u6ce8\u610f\u7531\u4e8e\u4e0d\u77e5\u9053<code>minimize</code>\u5185\u90e8\u5b9e\u73b0\u65f6\u7684\u6b65\u957f\uff0c\u6709\u53ef\u80fd\u5bfc\u81f4\u4f18\u5316\u5931\u8d25\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6709\u8fdb\u4e00\u6b65\u52a0\u5feb\u901f\u5ea6\u7684\u9700\u8981\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528scipy.optimize\u5305\u4e2d\u7684\u53e6\u5916\u4e00\u4e2a\u65b9\u6cd5\uff0c<code>fmin_slsqp</code>:</p> <p><pre><code>    scipy.optimize.fmin_slsqp(\n        func, \n        x0, \n        eqcons=(), \n        bounds=(), \n        acc=1e-06, \n        iprint=1, \n        disp=None, \n        full_output=0, \n        epsilon=1.4901161193847656e-08, \n        callback=None)\n</code></pre> \u5b83\u63d0\u4f9b\u4e86<code>acc</code>\u548c<code>epsilon</code>\u8fd9\u4e24\u4e2a\u53c2\u6570\uff0c\u5e94\u8be5\u8ddf\u6211\u4eec\u8fd9\u91cc\u7684\u601d\u8def\u662f\u4e00\u81f4\u7684\u3002\u5b83\u7684\u9ed8\u8ba4\u503c\u4e5f\u53ef\u80fd\u5c31\u662f<code>minimize</code>\u5185\u90e8\u5b9e\u73b0\u65f6\u7684\u9ed8\u8ba4\u503c\u3002\u5b83\u4e5f\u662f\u987a\u5e8f\u6700\u5c0f\u4e8c\u4e58\u6cd5\u4f18\u5316\u65b9\u6cd5\u3002\u53ea\u4e0d\u8fc7\u6587\u6863\u6bd4\u8f83\u5c11\uff0c\u4e5f\u6ca1\u6709\u793a\u4f8b\u3002\u8fd9\u91cc\u5c31\u4e0d\u5c55\u5f00\u4e86\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u3002</p> <p>\u6211\u4eec\u5df2\u7ecf\u63a2\u8ba8\u4e86\u8d44\u4ea7\u7ec4\u5408\u7406\u8bba\u7684\u65b9\u65b9\u9762\u9762\uff0c\u5e76\u4e14\u5b66\u4f1a\u4e86\u5982\u4f55\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u548c\u51f8\u4f18\u5316\u65b9\u6cd5\u6765\u6c42\u89e3\u7ea6\u675f\u6761\u4ef6\u4e0b\u7684\u6700\u4f73\u8d44\u4ea7\u7ec4\u5408\u3002</p> <p>\u4f46\u662f\uff0c\u5728\u5b9e\u9645\u6295\u8d44\u4e2d\uff0c\u6211\u4eec\u9047\u5230\u7684\u60c5\u51b5\u4f1a\u66f4\u590d\u6742\uff0c\u5e76\u4e0d\u662f\u6211\u4eec\u4e0a\u9762\u4ecb\u7ecd\u7684\u65b9\u6cd5\u5c31\u53ef\u4ee5\u5b8c\u5168 cover \u7684\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u9047\u5230\u4ee5\u4e0b\u60c5\u51b5\uff08\u9700\u6c42\uff09\uff1a</p> <ol> <li>\u5728\u5747\u503c\u3001\u65b9\u5dee\u6a21\u578b\u4e2d\uff0c\u6211\u4eec\u628a\u6536\u76ca\u7387\u4e3a\u6b63\u7684\u6ce2\u52a8\u4e5f\u8ba1\u5165\u8fdb\u6765\u4e86\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u53ef\u80fd\u53ea\u5173\u6ce8\u6536\u76ca\u7387\u4e3a\u8d1f\u7684\u90a3\u90e8\u5206\u6ce2\u52a8 -- \u8fd9\u6b63\u662f\u7b56\u7565\u8bc4\u4f30\u6307\u6807 - sortino \u6307\u6807\u88ab\u53d1\u660e\u51fa\u6765\u7684\u539f\u56e0\u3002\u8fd9\u53ea\u662f\u6211\u4eec\u4f18\u5316\u6a21\u578b\u7684\u8def\u5f84\u4e4b\u4e00\u3002\u6211\u4eec\u53ef\u80fd\u8fd8\u5e0c\u671b\u5b9e\u73b0\u5404\u79cd\u65b0\u7684\u53d1\u73b0\uff0c\u4f46\u65f6\u95f4\u548c\u80fd\u529b\u53ef\u80fd\u90fd\u4e0d\u5141\u8bb8\u3002</li> <li>\u8fc4\u4eca\u4e3a\u6b62\uff0c\u6211\u4eec\u53ea\u8003\u8651\u4e86\u6743\u91cd\u4e3a\u6b63\u7684\u60c5\u51b5\u3002\u4e5f\u5c31\u662f\uff0c\u6211\u4eec\u53ea\u5141\u8bb8\u505a\u591a\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u901a\u8fc7\u505a\u7a7a\u6765\u5bf9\u51b2\u98ce\u9669\u7684\u9700\u6c42\u4e5f\u662f\u5b58\u5728\u7684\u3002\u5982\u679c\u6211\u4eec\u8981\u5141\u8bb8\u505a\u7a7a\uff0c\u53c8\u8be5\u5982\u4f55\uff1f</li> <li>\u5c3d\u7ba1\u6211\u4eec\u7684\u6807\u7684\u6c60\u91cc\u6709 500 \u4e2a\u6807\u7684\uff0c\u4f46\u5982\u679c\u5fc5\u987b\u5c06\u6295\u8d44\u7ec4\u5408\u9650\u5236\u4e3a\u6700\u591a 10 \u9879\u8d44\u4ea7\uff0c\u53c8\u8be5\u5982\u4f55\u5904\u7406\uff1f\u8fd9\u53ef\u4e0d\u4ec5\u4ec5\u662f\u4ece\u4e2d\u6311\u9009 10 \u652f\u6807\u7684\u518d\u628a\u524d\u9762\u7684\u6d41\u7a0b\u8d70\u4e00\u904d\u90a3\u4e48\u7b80\u5355\u3002\u6bd5\u7adf\uff0c\u8be5\u5982\u4f55\u4ece 500 \u4e2a\u6807\u7684\u7684\u6807\u7684\u6c60\u91cc\uff0c\u9009\u51fa\u6700\u4f73\u7684 10 \u652f\u5462\uff1f</li> <li>\u5982\u679c\u6211\u4eec\u5e0c\u671b\u8fdb\u884c\u884c\u4e1a\u4e2d\u6027\u5316\u5462\uff08\u5373\u6bcf\u4e2a\u884c\u4e1a\u5747\u8861\u914d\u7f6e\u8d44\u4ea7\uff0c\u800c\u4e0d\u8981\u51fa\u73b0\u8d44\u4ea7\u4e3b\u8981\u914d\u7f6e\u5728\u67d0\u4e00\u4e2a\u884c\u4e1a\u5185\u7684\u60c5\u51b5\uff09\uff1f</li> </ol>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/","title":"\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u4e0e\u5b9e\u6218(4) - PyportfolioOpt\u5de5\u5177\u5e93","text":"<p>\u8fd9\u91cc\uff0c\u6211\u4eec\u5c31\u4ecb\u7ecd\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u4e13\u95e8\u7528\u4e8e\u8d44\u4ea7\u7ec4\u5408\u4f18\u5316\u7684\u5de5\u5177\u5e93\u3002\u6ce8\u610f\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86 scipy.optimize \u5e93\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u7c7b\u4f3c\u7684\u5e93\u8fd8\u6709 cvxopt \u548c cvxpy\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u5e93\u90fd\u662f\u6bd4\u8f83\u5e95\u5c42\u7684\u5e93\uff0c\u5b83\u4eec\u4e3b\u8981\u7528\u4e8e\u63d0\u4f9b\u5404\u79cd\u51f8\u4f18\u5316\u7b97\u6cd5\uff0c\u4e0d\u4ec5\u4ec5\u7528\u4e8e\u6295\u8d44\u9886\u57df\u3002</p> <p>Pyportfolio \u5219\u662f\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u8d44\u4ea7\u7ec4\u5408\u4f18\u5316\u7684\u5e93\u3002\u8fd9\u4e2a\u5e93\u6700\u521d\u7531 Robert Martin \u5f00\u53d1\u3002\u4ed6\u662f\u4e00\u540d\u4ea4\u6613\u5458\uff0cPython \u7231\u597d\u8005\u548c\u5929\u4f53\u7269\u7406\u5b66\u5bb6\u3002\u8fd9\u4e2a\u5e93\u5728 github \u4e0a\u83b7\u5f97\u4e86\u63a5\u8fd1 4k \u7684 stars\u3002</p> <p></p> <p>Pyportfolio \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li> <p>\u591a\u79cd\u671f\u671b\u56de\u62a5\u6a21\u578b\u3002\u6bd4\u5982\uff0c\u5728\u6211\u4eec\u524d\u9762\u7684\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u7684 returns \u8ba1\u7b97\u65b9\u6cd5\u6bd4\u8f83\u7b80\u5355\uff0c\u53ef\u4ee5\u79f0\u4e4b\u4e3a\u5e73\u5747\u5386\u53f2\u56de\u62a5\u3002\u6211\u4eec\u5728\u4e4b\u524d\u7684\u7cfb\u5217\u4e2d\uff0c\u4ecb\u7ecd\u4e86 CAPM\uff0c\u8fd9\u4e5f\u662f\u4e00\u79cd\u56de\u62a5\u7387\u3002pyportfolioopt \u5de5\u5177\u5e93\u9664\u4e86\u63d0\u4f9b\u5e73\u5747\u5386\u53f2\u56de\u62a5\u3001\u6307\u6570\u52a0\u6743\u5e73\u5747\u5386\u53f2\u56de\u62a5\u4e4b\u5916\uff0c\u5b83\u8fd8\u652f\u6301 CAPM \u56de\u62a5\u3002CAPM \u4e0e MPT \u53cc\u5251\u5408\u58c1\uff0c\u80fd\u4ea7\u751f\u4ec0\u4e48\u6837\u7684\u5316\u5b66\u53cd\u5e94\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u6295\u8d44\u4e2d\uff0c\u8f7b\u4ed3\u5c1d\u8bd5\u4e00\u4e0b\u3002</p> </li> <li> <p>\u5728\u98ce\u9669\u6a21\u578b\u65b9\u9762\uff0c\u4e4b\u524d\u4e3b\u8981\u4ecb\u7ecd\u4e86\u534f\u65b9\u5dee\u6a21\u578b\u3002\u800c pyportfolioopt \u8fd8\u652f\u6301\u534a\u534f\u65b9\u5dee\uff08Semicovariance\uff0c\u4ee5\u66f4\u5173\u6ce8\u4e0b\u884c\u53d8\u5316\u7684\u98ce\u9669\u5ea6\u91cf\uff0c\u547c\u5e94\u6211\u4eec\u7b2c 2 \u4e2a\u9700\u6c42\uff09\u3001\u6307\u6570\u534f\u65b9\u5dee\uff08\u4e3a\u6700\u8fd1\u7684\u6570\u636e\u8d4b\u4e88\u66f4\u591a\u7684\u6743\u91cd\uff09\u4ee5\u53ca\u534f\u65b9\u5dee\u6536\u7f29\u6280\u672f</p> </li> <li>\u5728\u76ee\u6807\u51fd\u6570\u4e0a\uff0cpyportfolioopt \u8fd8\u63d0\u4f9b\u4e86\u6700\u5927\u590f\u666e\u7387 (Maximum Sharpe Ratio)\u3001\u6700\u5c0f\u6ce2\u52a8\u7387\uff08\u524d\u9762\u7684\u4f8b\u5b50\u5df2\u4ecb\u7ecd\uff09\u3001\u6700\u5927\u4e8c\u6b21\u6548\u7528\uff08Maximum quadratic utility\uff09\u7b49\u3002</li> <li>\u5141\u8bb8\u6301\u6709\u7a7a\u5934\u5934\u5bf8\u3002</li> </ol> <p>\u4ee5\u4e0a\u8fd9\u4e9b\u53d8\u79cd\u7ec4\u5408\u8d77\u6765\uff0c\u5c31\u4e3a\u6211\u4eec\u62d3\u5c55 MPT \u7684\u5e94\u7528\u63d0\u4f9b\u4e86\u5f88\u591a\u82b1\u6837\u73a9\u6cd5\u3002\u4e5f\u8bb8\uff0c\u5176\u4e2d\u5c31\u4f1a\u6709\u4e00\u6b3e\uff0c\u6b63\u597d\u9002\u5408\u5f53\u4e0b\u7684\u5e02\u573a\u3002\u9664\u4e86\u8fd9\u4e9b\u4f18\u5316\u65b9\u6cd5\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u5e38\u7528\u529f\u80fd\u4e5f\u662f\u6211\u4eec\u975e\u5e38\u9700\u8981\u7684\uff1a</p> <ol> <li>\u53ef\u89c6\u5316\u3002\u663e\u7136\uff0c\u6211\u4eec\u9700\u8981\u7ed8\u5236\u534f\u65b9\u5dee\u77e9\u9635\u3001\u6709\u6548\u524d\u6cbf\u3001\u6743\u91cd\u77e9\u9635\uff08\u8fd9\u662f\u4f7f\u7528\u997c\u56fe\u7684\u6070\u5f53\u5730\u65b9\uff0c\u56e0\u4e3a\u6743\u91cd\u4e4b\u548c\u521a\u597d\u4e3a 1\uff09\u3002</li> <li>\u6570\u636e\u9884\u5904\u7406\uff0c\u4ee5\u53ca\u540e\u5904\u7406\u3002</li> </ol> <p>\u5728\u4e86\u89e3\u4e86 PyportfolioOpt \u7684\u57fa\u672c\u7279\u6027\u4e4b\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u770b\u5982\u4f55\u4f7f\u7528\u5b83\u3002</p> <p>\u5f53\u524d\u7684\u7248\u672c\u662f\u662f 1.5.4\uff0c\u5c3d\u7ba1\u5b83\u7684\u57fa\u672c\u67b6\u6784\u5df2\u7ecf\u7a33\u5b9a\uff0c\u4f46\u7ef4\u62a4\u8fd8\u662f\u5f88\u6d3b\u8dc3\uff0c\u5e76\u4e14\u652f\u6301\u4ece 3.8 \u5230 3.12 \u7684\u5404\u4e2a\u7248\u672c\u7684 Python\u3002\u5b83\u5df2\u7ecf\u4f7f\u7528\u4e86 Poetry \u6765\u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u3002</p> <p>\u5b89\u88c5PyportfolioOpt\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>pip install PyPortfolioOpt\n</code></pre> <p>\u5b83\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a Docker \u5bb9\u5668\uff08\u771f\u7684\u5f88\u8d34\u5fc3\u4e86\uff01\uff09\uff0c\u4f9b\u6211\u4eec\u7ec3\u4e60\u5b83\u63d0\u4f9b\u7684\u4e00\u4e9b\u793a\u4f8b\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u4e00\u4e2a\u793a\u4f8b\u6765\u6f14\u793a pyPortforlioOpt\u7684\u7528\u6cd5\u3002\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u6f14\u793a\uff1a 1. \u5982\u4f55\u5c06\u6570\u636e\u5904\u7406\u6210 PyPortfolioOpt \u9700\u8981\u7684\u8f93\u5165\u683c\u5f0f 2. \u8ba1\u7b97\u534f\u65b9\u5dee\u77e9\u9635\u3001\u4ee5\u53ca\u53ef\u89c6\u5316 3. \u4f18\u5316\u4e00\u4e2a\u591a\u7a7a\u7ec4\u5408\uff0c\u4f7f\u5f97\u65b9\u5dee\u6700\u5c0f\u5316 4. \u6700\u5927\u5316\u590f\u666e\u7387</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_1","title":"\u6570\u636e\u9884\u5904\u7406","text":"<p>\u6211\u4eec\u4ee5\u4f7f\u7528 zillionare-omicron\u4e3a\u4f8b\u6765\u83b7\u53d6\u521d\u59cb\u6570\u636e\uff0c\u5e76\u5c06\u5176\u5904\u7406\u4e3a PyPortfolioOpt \u9700\u8981\u7684\u8f93\u5165\u683c\u5f0f\u3002</p> <p>Tip</p> <p>\u63a8\u8350\u5728\u5927\u5bcc\u7fc1\u91cf\u5316\u4ea4\u6613\u8bfe\u7a0b\u8bfe\u4ef6\u73af\u5883\u4e2d\u8fd0\u884c\u672c\u793a\u4f8b\u3002</p> <pre><code>from coursea import *\n\nawait init()\n\n# \u4e0a\u8bc150\u6307\u6570\nSH50_CODE_LIST = [\"688599.XSHG\",\"688111.XSHG\",\"603986.XSHG\",\"603799.XSHG\",\"603501.XSHG\",\"603288.XSHG\",\n                  \"603260.XSHG\",\"603259.XSHG\",\"601919.XSHG\",\"601899.XSHG\",\"601888.XSHG\",\"601857.XSHG\",\n                  \"601728.XSHG\",\"601669.XSHG\",\"601668.XSHG\",\"601633.XSHG\",\"601628.XSHG\",\"601398.XSHG\",\n                  \"601390.XSHG\",\"601318.XSHG\",\"601288.XSHG\",\"601225.XSHG\",\"601166.XSHG\",\"601088.XSHG\",\n                  \"601066.XSHG\",\"601012.XSHG\",\"600905.XSHG\",\"600900.XSHG\",\"600893.XSHG\",\"600887.XSHG\",\n                  \"600809.XSHG\",\"600745.XSHG\",\"600690.XSHG\",\"600519.XSHG\",\"600438.XSHG\",\"600436.XSHG\",\n                  \"600406.XSHG\",\"600309.XSHG\",\"600276.XSHG\",\"600196.XSHG\",\"600111.XSHG\",\"600104.XSHG\",\n                  \"600089.XSHG\",\"600050.XSHG\",\"600048.XSHG\",\"600036.XSHG\",\"600031.XSHG\",\"600030.XSHG\",\n                  \"600028.XSHG\",\"600010.XSHG\"]\n\nasync def get_prices(stock_list, start_date, end_date):\n    frames = [tf.int2date(f) for f in tf.get_frames(start_date, end_date, FrameType.DAY)]\n    dfs = [pd.DataFrame([], index=frames)]\n    for code in stock_list:\n        bars = await Stock.get_bars_in_range(code, FrameType.DAY, frames[0], frames[-1])\n        index = [v.item().date() for v in bars[\"frame\"]]\n        dfs.append(pd.DataFrame(bars[\"close\"], columns=[code], index=index))\n\n    return pd.concat(dfs, axis=1)\n\n# \u6295\u8d44\u7ec4\u5408\u4e2a\u6570\nstart = datetime.date(2022, 1, 1)\nend = datetime.date(2023, 1, 1)\nprices = await get_prices(SH50_CODE_LIST, start, end)\nprices.tail()\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> <p></p> <p>\u6211\u4eec\u5c06\u5404\u8d44\u4ea7\u8d70\u52bf\u7ed8\u5236\u6210\u4e0b\u56fe\uff1a</p> <p></p> <p>\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6280\u5de7\u53ef\u80fd\u5728\u7b2c24\u884c\uff0c\u5b83\u5c06\u591a\u4e2adataframe\u6309\u884c\u8fdb\u884c\u62fc\u63a5\uff0c\u6700\u7ec8\u6210\u4e3a\u4e00\u5f20\u5bbd\u8868\u3002\u8fd9\u79cd\u683c\u5f0f\uff0c\u5728\u4f7f\u7528pyfolio\u8fdb\u884c\u56e0\u5b50\u5206\u6790\u65f6\uff0c\u4e5f\u66fe\u4f7f\u7528\u8fc7\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_2","title":"\u8ba1\u7b97\u534f\u65b9\u5dee","text":"<p>\u5728\u524d\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u624b\u52a8\u8ba1\u7b97\u7684\u534f\u65b9\u5dee\u3002\u5728\u5b9e\u9645\u5de5\u4f5c\u4e2d\uff0c\u4e00\u65b9\u9762\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528pandas\u7684DataFrame\u7684\u534f\u65b9\u5dee\u8ba1\u7b97\u51fd\u6570<code>cov</code>\uff1b\u5728 PyPortfolioOpt \u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u63d0\u4f9b\u7684<code>sample_cov</code>\u65b9\u6cd5\uff1a</p> <p><pre><code>from pypfopt import risk_models\nfrom pypfopt import plotting\n\nsample_cov = risk_models.sample_cov(prices, frequency=252)\nsample_cov.head()\n</code></pre> \u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u533a\u522b\u5728\u4e8e\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528PyPortfolioOpt\u7684sample_cov\u65b9\u6cd5\uff0c\u5c31\u4e0d\u9700\u8981\u8fdb\u884c\u6536\u76ca\u7387\u8ba1\u7b97\u548c\u53bb\u65e0\u6548\u503c\u64cd\u4f5c\uff0c\u5373\u4e00\u6b65\u64cd\u4f5c\uff0c\u5b8c\u6210\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <pre><code>prices = ... # pd.DataFrame, price of each instrument\nreturns = prices.pct_change().dropna(how='any')\ncov = returns.cov()\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\uff0c\u6765\u53ef\u89c6\u5316\u8be5\u77e9\u9635\uff1a</p> <pre><code>plotting.plot_covariance(sample_cov, plot_correlation=True)\n</code></pre> <p></p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_3","title":"\u6c42\u89e3\u6700\u4f18\u8d44\u4ea7\u7ec4\u5408","text":"<p>\u6211\u4eec\u4ee5\u6700\u5927\u6536\u76ca\u3001\u6700\u4f4e\u6ce2\u52a8\u6765\u6761\u4ef6\u6765\u6c42\u89e3\u6700\u4f18\u8d44\u4ea7\u7ec4\u5408\uff1a</p> <pre><code>from pypfopt import EfficientFrontier\nfrom pypfopt import risk_models\nfrom pypfopt.expected_returns import mean_historical_return\n\nmu = mean_historical_return(prices)\nS = risk_models.sample_cov(prices)\n\nef = EfficientFrontier(mu, S, weight_bounds=(0, 1))\n\n# \u6c42\u89e3\u51fa\u6700\u5c0f\u6ce2\u52a8\u7387\u65f6\u7684\u6743\u91cd\nw = ef.min_volatility()\n\n# \u8f93\u51fa\u6700\u5c0f\u6ce2\u52a8\u7387\u65f6\u7684\u5e74\u5316\u6536\u76ca\u3001\u6ce2\u52a8\u7387\u548csharpe\nef.portfolio_performance(verbose=True)\ndf_w = pd.DataFrame(np.array([item for item in w.items()], dtype=[(\"code\", \"O\"), (\"w\", \"f4\")]))\n\n# \u663e\u793a\u6743\u91cd\ndf_w.head()\n</code></pre> <p>\u4f7f\u7528\u65b9\u6cd5\u5f88\u7b80\u5355\u3002\u9996\u5148\uff0c\u6211\u4eec\u6c42\u5f97\u56de\u62a5\u5747\u503c\uff0c\u6784\u5efarisk model\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u7684\u662f\u5747\u503c\u65b9\u5dee\u6a21\u578b\uff0c\u56e0\u6b64\uff0c\u901a\u8fc7sampe_cov\u6765\u8fd4\u56de\u8fd9\u4e2a\u6a21\u578b\u3002</p> <p>\u7136\u540e\u6211\u4eec\u5728\u7b2c8\u884c\uff0c\u5b9e\u4f8b\u5316\u6709\u6548\u524d\u6cbf\u5bf9\u8c61\u3002\u5b83\u63a5\u6536\u4e09\u4e2a\u53c2\u6570\uff0c\u5373\u5747\u503c\u3001risk model\u548c\u6743\u91cd\u7ea6\u675f\uff09\u3002</p> <p>\u7136\u540e\u5728\u7b2c11\u884c\uff0c\u6211\u4eec\u4ee5\u6700\u5c0f\u6ce2\u52a8\u7387\u4e3a\u76ee\u6807\u8fdb\u884c\u4f18\u5316\u6c42\u89e3\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u5373\u4e3a\u6743\u91cd\u5411\u91cf\uff08\u4ee5orderdict\u7c7b\u578b\u8868\u793a\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u5411\u91cf\u6765\u81ea\u884c\u8ba1\u7b97\u5bf9\u5e94\u7684\u7ec4\u5408\u5e74\u5316\u6536\u76ca\u3001\u590f\u666e\u7387\uff0c\u4f46\u4e5f\u53ef\u4ee5\u4f7f\u7528 pypfopt \u81ea\u5e26\u7684\u65b9\u6cd5 <code>portfolio_performance</code>\uff0c\u5982\u4ee3\u7801\u7b2c14\u884c\u6240\u793a\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u5c06\u6743\u91cd\u5411\u91cf\u8f6c\u6362\u4e3adataframe\u8fdb\u884c\u663e\u793a\uff0c\u8fd9\u7eaf\u7cb9\u662f\u4e3a\u4e86\u7f8e\u89c2\u3002</p> <p>\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u6c42\u5f97\u4e86\u6ce2\u52a8\u6700\u5c0f\u65f6\u7684\u671f\u671b\u6536\u76ca\u3001\u8d44\u4ea7\u7ec4\u5408\uff08\u5373\u6743\u91cd\uff09\uff0c\u4ee5\u53ca\u5b83\u4eec\u7684\u590f\u666e\u7b49\u6307\u6807\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_4","title":"\u53ef\u89c6\u5316\u4e0e\u6709\u6548\u524d\u6cbf","text":"<p>\u6211\u4eec\u521a\u521a\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u4ec5\u751f\u6210\u4e86\u5355\u4e2a\u6700\u4f18\u6295\u8d44\u7ec4\u5408\u3002\u4f46\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u8fd8\u5e0c\u671b\u83b7\u5f97\u6574\u4e2a\u6709\u6548\u524d\u6cbf\u3002</p> <pre><code>fig, ax = plt.subplots()\nef = EfficientFrontier(mu, S, weight_bounds=(0, 1))\nef_max_sharpe = ef.deepcopy()\nplotting.plot_efficient_frontier(ef, ax=ax, show_assets=False)\n\n# Find the tangency portfolio\nef_max_sharpe.max_sharpe()\nret_tangent, std_tangent, _ = ef_max_sharpe.portfolio_performance()\nax.scatter(std_tangent, ret_tangent, marker=\"*\", s=100, c=\"r\", label=\"Max Sharpe\")\n\n# Generate random portfolios\nn_samples = 10000\nw = np.random.dirichlet(np.ones(ef.n_assets), n_samples)\nrets = w.dot(ef.expected_returns)\nstds = np.sqrt(np.diag(w @ ef.cov_matrix @ w.T))\nsharpes = rets / stds\nax.scatter(stds, rets, marker=\".\", c=sharpes, cmap=\"viridis_r\")\n\n# Output\nax.set_title(\"Efficient Frontier with random portfolios\")\nax.legend()\nplt.tight_layout()\nplt.show()\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u4f1a\u5f97\u5230\u4e0b\u56fe\uff1a</p> <p></p> <p>\u8fd9\u91cc\u6709\u51e0\u70b9\u9700\u8981\u8bf4\u660e\uff1a</p> <ol> <li> <p>\u6211\u4eec\u5171\u751f\u6210\u4e2a\u4e24\u6b21\u6709\u6548\u524d\u6cbf\u5b9e\u4f8b\u3002\u7b2c\u4e00\u4e2a\u4f7f\u7528\u7684\u662f\u5747\u503c\u65b9\u5dee\u6a21\u578b\uff08\u5373\u56de\u62a5\u4e0e\u6ce2\u52a8\u7387\uff09\u8fdb\u884c\u7684\u6c42\u89e3\uff0c\u7b2c\u4e8c\u4e2a\u5219\u662f\u5bf9\u6700\u4f18\u590f\u666e\u7387\u8fdb\u884c\u7684\u6c42\u89e3\u3002\u5bf9\u4efb\u4f55\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u53ea\u80fd\u8fdb\u884c\u4e00\u6b21\u6c42\u89e3\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u751f\u6210\u4e86\u4e24\u4e2a\u5b9e\u4f8b\u3002\u8fd9\u91cc\u4f7f\u7528\u7684\u662fdeepcopy\u65b9\u6cd5\uff0c\u4e5f\u53ef\u4ee5\u5b8c\u5168\u91cd\u65b0\u521d\u59cb\u5316\u3002</p> </li> <li> <p>\u7b2c13\u884c\u6211\u4eec\u4f7f\u7528\u4e86\u72c4\u5229\u514b\u96f7\u5206\u5e03\u3002\u5b83\u662f\u4e00\u4e2a\u5728(0,1)\u533a\u95f4\u5185\u5206\u5e03\uff0c\u4f46\u5206\u5e03\u603b\u548c\u4e3a1\u7684\u5206\u5e03\u3002\u6211\u4eec\u5728\u4e4b\u524d\u662f\u4f7f\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u7684\uff1a</p> </li> </ol> <p><pre><code>w = np.random.random(size=50)\nw = w/sum(w)\n</code></pre> \u4f7f\u7528\u72c4\u5229\u514b\u96f7\u5206\u5e03\u7684\u5199\u6cd5\u770b\u4e0a\u53bb\u66f4\u4f18\u96c5\u3002\u4e0d\u8fc7\u8981\u6ce8\u610f\uff0c\u4e24\u79cd\u65b9\u6cd5\u7684\u5206\u5e03\u7279\u5f81\u662f\u4e0d\u4e00\u6837\u7684\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#capmmpt","title":"CAPM\u4e0eMPT","text":"<p>\u524d\u9762\u4e00\u4e2a\u7cfb\u5217\u8bb2\u89e3\u4e86CAPM\u3002\u5b83\u4e0eMPT\u6709\u7740\u5343\u4e1d\u4e07\u7f15\u7684\u8054\u7cfb\u3002\u9996\u5148\uff0c\u6211\u4eec\u5728\u6c42\u89e3\u6700\u4f73\u590f\u666e\u7387\u65f6\uff0c\u4f7f\u7528\u4e86 tangency portfolio\uff0c\u5373\u5207\u7ebf\u6295\u8d44\u7ec4\u5408\u8fd9\u4e00\u8bf4\u6cd5\uff08\u6ce8\u91ca\u7b2c6\u884c\uff09\u3002\u5207\u7ebf\u6295\u8d44\u7ec4\u5408\u662f\u4e00\u79cd\u4f4d\u4e8e\u98ce\u9669\u56de\u62a5\u7a7a\u95f4\u4e2d\u6709\u6548\u524d\u6cbf\u4e0e\u6700\u9ad8\u53ef\u80fd\u8d44\u672c\u5e02\u573a\u7ebf (CML) \u76f8\u5207\u70b9\u7684\u6295\u8d44\u7ec4\u5408\u3002</p> <p></p> <p>\u8fd9\u91cc\u7684\u5207\u7ebf\u7684\u659c\u7387\uff0c\u5c31\u662f\u590f\u666e\u7387\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u5728\u4e4b\u524d\u7684\u8ba1\u7b97\u4e2d\uff0c\u4f7f\u7528\u7684\u90fd\u662f\u5747\u503c\u56de\u62a5\u7387\uff0c\u901a\u8fc7<code>mean_historical_return</code>\u6c42\u5f97\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u5747\u503c\u56de\u62a5\u7387\u53c2\u8003\u610f\u4e49\u5e76\u4e0d\u592a\u5927\u3002\u56e0\u4e3a\u6211\u4eec\u4e0d\u80fd\u7b80\u5355\u5730\u5047\u8bbe\u5386\u53f2\u4f1a\u91cd\u6f14\u3002\u4e00\u79cd\u53ef\u80fd\u7684\u529e\u6cd5\uff0c\u662f\u901a\u8fc7CAPM\u6c42\u5f97\u8d44\u4ea7\u7684alpha\uff0c\u4ee5\u6b64\u4f5c\u4e3a\u8d44\u4ea7\u56de\u62a5\u518d\u6765\u8ba1\u7b97\u6709\u6548\u524d\u6cbf\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0cCAPM\u4e0eMPT\u7406\u8bba\u6709\u673a\u5730\u7ed3\u5408\u5230\u4e86\u4e00\u8d77\u3002</p> <p>pyfolio\u652f\u6301\u4e86\u8fd9\u79cd\u505a\u6cd5\u3002\u6211\u4eec\u5728\u5b9e\u4f8b\u5316 EfficientFrontier\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u8fd9\u6837\uff1a</p> <pre><code>from pypfopt.expected_returns import capm_return\n\n# \u4e0d\u7528\u5386\u53f2\u56de\u62a5\uff0c\u800c\u6539\u4e3acapm_return\n\n#mu = mean_historical_return(prices)\nmu = capm_return(prices)\nS = risk_models.sample_cov(prices)\n\nef = EfficientFrontier(mu, S, weight_bounds=(0, 1))\n</code></pre> <p>\u4e0d\u8fc7\uff0c\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\uff0c\u4f7f\u7528capm return\u53ef\u80fd\u4f1a\u51fa\u9519\uff0c\u63d0\u793a\u6ca1\u6709\u4efb\u4f55\u4e00\u79cd\u8d44\u4ea7\u7684CAPM\u6536\u76ca\u4e3a\u6b63\u3002\u8fd9\u4e0d\u662fpyfolioopt\u7684\u9519\uff0c\u4e5f\u4e0d\u662f\u6211\u4eec\u7684\u9519\u3002</p> <p>\u8fd9\u4e2a\u5e02\u573a\u9519\u4e86\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_5","title":"\u7ed3\u675f\u8bed","text":"<p>\u8fd9\u4e00\u7cfb\u5217\u7684\u7406\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u5c31\u4ecb\u7ecd\u5230\u8fd9\u91cc\u3002\u5728\u8fd9\u4e2a\u7cfb\u5217\u4e2d\uff0c\u6211\u4eec\u9664\u4e86\u638c\u63e1\u4e86\u5982\u4f55\u8fd0\u7528\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u6765\u5b9e\u9645\u7ba1\u7406\u8d44\u4ea7\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u5b66\u5230\u4e86\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u3001\u51f8\u4f18\u5316\u65b9\u6cd5\uff0c\u638c\u63e1\u4e86sharpe\u7387\u7684\u8ba1\u7b97\u7b49\u91cd\u8981\u7684\u91cf\u5316\u5de5\u5177\u3002\u6211\u4eec\u8fd8\u4ecb\u7ecd\u4e86MPT\u4e0eCAPM\u662f\u5982\u4f55\u8fde\u63a5\u8d77\u6765\u7684\uff0c\u5982\u679c\u60a8\u5bf9\u7eaf\u7406\u8bba\u7814\u7a76\u6bd4\u8f83\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u987a\u7740\u8fd9\u90e8\u5206\u7ee7\u7eed\u6df1\u5165\u7814\u7a76\u3002\u6211\u4eec\u5728\u53c2\u8003\u6587\u732e\u91cc\u7ed9\u51fa\u4e86\u4e00\u4e9b\u9605\u8bfb\u8d44\u6599\u3002</p> <p>\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7684\u7406\u8bba\uff0c\u4ee5\u53ca\u5176\u5b83\u91cd\u8981\u7684\u91d1\u878d\u5b66\u7406\u8bba\uff0c\u5c3d\u7ba1\u5728\u5b66\u672f\u4e0a\u975e\u5e38\u6210\u529f\uff08\u83b7\u5f97\u4e86\u8bfa\u5956\uff09\uff0c\u4f46\u6211\u4eec\u4e5f\u8981\u6ce8\u610f\uff0c\u5b83\u4eec\u8fc7\u4e8e\u7cbe\u5de7\u7684\u7406\u8bba\u67b6\u6784\uff0c\u5f80\u5f80\u662f\u8131\u79bb\u5b9e\u9645\u7684\uff0c\u4e5f\u56e0\u800c\u4e0d\u88ab\u5728\u5b9e\u8df5\u4e2d\u83b7\u5f97\u4f1f\u5927\u6210\u529f\u7684\u90a3\u4e9b\u6295\u8d44\u5927\u5e08\u6240\u770b\u91cd -- \u6bd4\u5982\u67e5\u7406.\u8292\u683c\u5c31\u7279\u522b\u770b\u4e0d\u4e0a\u6709\u6548\u5e02\u573a\u5047\u8bf4\u548c\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u3002</p> <p>\u5728\u7a77\u67e5\u7406\u5b9d\u5178\u4e2d\uff0c\u4ed6\u8fd9\u6837\u5199\u5230\uff1a</p> <p>Quote</p> <p>Beta \u7cfb\u6570\u3001\u73b0\u4ee3\u6295\u8d44\u7ec4\u5408\u7406\u8bba\u7b49\u7b49\u2014\u2014\u8fd9\u4e9b\u5728\u6211\u770b\u6765\u90fd\u6ca1\u4ec0\u4e48\u9053\u7406\u3002\u6211\u4eec\u60f3\u8981\u505a\u5230\u7684\u662f\uff0c\u7528\u4f4e\u5ec9\u7684\u4ef7\u683c\uff0c\u751a\u81f3\u662f\u5408\u7406\u7684\u4ef7\u683c\uff0c\u6765\u8d2d\u4e70\u90a3\u4e9b\u62e5\u6709\u53ef\u6301\u7eed\u7ade\u4e89\u4f18\u52bf\u7684\u4f01\u4e1a\u3002</p> <p>\u5927\u5b66\u6559\u6388\u600e\u4e48\u53ef\u4ee5\u6563\u64ad\u8fd9\u79cd\u65e0\u7a3d\u4e4b\u8c08\uff08\u80a1\u4ef7\u6ce2\u52a8\u662f\u8861\u91cf\u98ce\u9669\u7684\u5c3a\u5ea6\uff09\u5462\uff1f\u51e0\u5341\u5e74\u6765\uff0c\u6211\u4e00\u76f4\u90fd\u5728\u7b49\u5f85\u8fd9\u79cd\u80e1\u8a00\u4e71\u8bed\u7ed3\u675f\u3002\u73b0\u5728\u8fd9\u6837\u4e71\u8bb2\u7684\u4eba\u5c11\u4e86\u4e00\u4e9b\uff0c\u4f46\u8fd8\u662f\u6709\u3002</p> <p>\u987a\u4fbf\u8bf4\u4e00\u58f0\uff0c\u6211\u7ed9\u90a3\u4e9b\u4fe1\u5949\u6781\u7aef\u7684\u6709\u6548\u5e02\u573a\u7406\u8bba\u7684\u4eba\u53d6\u4e86\u4e2a\u540d\u5b57 -- \u53eb\u505a\u201c\u795e\u7ecf\u75c5\u201d\u3002\u90a3\u662f\u4e00\u79cd\u903b\u8f91\u4e0a\u81ea\u6d3d\u7684\u7406\u8bba\uff0c\u8ba9\u4ed6\u4eec\u80fd\u591f\u505a\u51fa\u6f02\u4eae\u7684\u6570\u5b66\u9898\u3002\u6240\u4ee5\u6211\u60f3\uff0c\u8fd9\u79cd\u7406\u8bba\u5bf9\u90a3\u4e9b\u6709\u5f88\u9ad8\u6570\u5b66\u624d\u534e\u7684\u4eba\u975e\u5e38\u6709\u5438\u5f15\u529b\u3002\u53ef\u662f\u5b83\u7684\u57fa\u672c\u5047\u8bbe\u548c\u73b0\u5b9e\u751f\u6d3b\u5e76\u4e0d\u76f8\u7b26\u3002</p> <p>\u4ed6\u8fd8\u63d0\u5230\uff0c\u8fd9\u4f4d\u4e16\u754c\u4e0a\u6700\u4f1f\u5927\u7684\u7ecf\u6d4e\u5b66\u5bb6\u4e4b\u4e00\uff0c\u7adf\u7136\u662f\u4f2f\u514b\u5e0c\u5c14\u00b7\u54c8\u6492\u97e6\u7684\u5927\u80a1\u4e1c\uff0c\u81ea\u4ece\u5df4\u83f2\u7279\u638c\u7ba1\u4f2f\u514b\u5e0c\u5c14\u4e4b\u540e\u4e0d\u4e45\uff0c\u4ed6\u5c31\u5f00\u59cb\u6295\u94b1\u8fdb\u6765\u3002\u4ed6\u7684\u6559\u79d1\u4e66\u603b\u662f \u6559\u5bfc\u5b66\u751f\u8bf4\u80a1\u5e02\u662f\u6781\u5176\u6709\u6548\u7387\u7684\uff0c\u6ca1\u6709\u4eba\u80fd\u591f\u6253\u8d25\u5b83\u3002\u4f46\u4ed6\u81ea\u5df1\u7684\u94b1\u5374\u6d41\u8fdb\u4e86\u4f2f\u514b\u5e0c\u5c14\uff0c\u8fd9\u8ba9\u4ed6\u53d1\u4e86\u5927\u8d22\u3002</p> <p>\u5c3d\u7ba1\u5982\u6b64\uff0c\u5b66\u4e60\u8fd9\u4e9b\u7406\u8bba\uff0c\u638c\u63e1\u5b83\u80cc\u540e\u7684\u6570\u5b66\u65b9\u6cd5\u3001\u5de5\u5177\u548c\u601d\u60f3\uff0c\u5bf9\u589e\u5f3a\u6211\u4eec\u7684\u91cf\u5316\u57fa\u672c\u529f\uff0c\u8fd8\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002\u5728\u5b66\u4e60\u6295\u8d44\u7684\u9053\u8def\u4e0a\uff0c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u4e00\u4e2a\u7406\u8bba\u548c\u7cfb\u7edf\uff0c\u53ea\u8981\u4f60\u5b66\u4e60\u4e86\u5b83\u5c31\u80fd\u6218\u80dc\u5e02\u573a\u3002\u53ea\u8981\u4f60\u4e0d\u6253\u7b97\u505a\u8d44\u672c\u5e02\u573a\u91cc\u7684\u9a97\u5b50\uff0c\u4e00\u4e07\u5c0f\u65f6\u5b9a\u5f8b\u5c31\u4ecd\u7136\u5bf9\u4f60\u9002\u7528\u3002\u4ece\u57fa\u7840\u5165\u624b\uff0c\u6784\u5efa\u81ea\u5df1\u7684\u65b9\u6cd5\u8bba\u548c\u6d1e\u5bdf\u5e02\u573a\uff0c\u624d\u80fd\u6811\u7acb\u81ea\u5df1\u7684\u7ade\u4e89\u95e8\u69db\u3002</p> <p>\u8fd9\u4e5f\u662f\u5927\u5bcc\u7fc1\u91cf\u5316\u4ea4\u6613\u8bfe\u7a0b\u5728\u7f16\u64b0\u65f6\u79c9\u6301\u7684\u539f\u5219\u3002\u6211\u4eec\u4e0d\u627f\u8bfa\u6559\u4f1a\u4f60\u9a6c\u4e0a\u53ef\u4ee5\u4e00\u62db\u81f4\u80dc\u7684\u7b56\u7565\uff0c\u76f8\u53cd\u5730\uff0c\u6211\u4eec\u628a\u5e02\u573a\u4e0a\u6d41\u884c\u7684\u91cf\u5316\u5de5\u5177\u3001\u91d1\u878d\u7406\u8bba\u4e00\u4e00\u62c6\u89e3\uff0c\u8fd8\u539f\u6210\u4e00\u4e2a\u4e2a\u9ad8\u590d\u7528\u7684\u77e5\u8bc6\u70b9\uff0c\u7136\u540e\u6309\u7167\u91cf\u5316\u4ea4\u6613\u7684\u5929\u7136\u6d41\u7a0b\u91cd\u65b0\u7ec4\u7ec7\u8d77\u6765\uff0c\u4ece\u800c\u4f7f\u5f97\u5b66\u5458\u6253\u4e0b\u575a\u5b9e\u7684\u91cf\u5316\u57fa\u7840\u3002</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/mpt-4/#_6","title":"\u53c2\u8003\u6587\u732e","text":"<p>Yang (ken) Wu: \u4f7f\u7528Python\u548cR\u8fdb\u884c\u6295\u8d44\u7ec4\u5408\u4f18\u5316 Pyportfolio \u5de5\u5177\u5e93 Pyportfolio cookbook Investopedia: \u4e86\u89e3\u8d44\u672c\u5e02\u573a\u7ebf\u53ca\u5176\u8ba1\u7b97\u65b9\u6cd5 \u666e\u6797\u65af\u987f\u5927\u5b66: \u5747\u503c\u65b9\u5dee\u5206\u6790\u53caCAPM\u5b9a\u4ef7\u6a21\u578b CFA\u6c34\u5e73\u6d4b\u8bd5: The CAL and CML</p>"},{"location":"articles/investment/%E7%AD%96%E7%95%A5%E7%A0%94%E7%A9%B6/%E5%85%B3%E4%BA%8E%E5%AF%BB%E6%89%BE%E9%A1%B6%E5%92%8C%E5%BA%95%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/","title":"\u5173\u4e8e\u5bfb\u627e\u9876\u548c\u5e95\u7684\u4e00\u4e9b\u601d\u8003","text":"<p>scipy\u5f53\u4e2d\u6709\u4e00\u4e9b\u4fe1\u53f7\u5904\u7406\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u6765\u53d1\u73b0\u9876\u548c\u5e95\uff0c\u6bd4\u5982<code>argrelextrema</code>\u3002 \u6bd4\u51fd\u6570\u540d\u4e0a\u770b\uff0c\u8fd9\u662f\u4e00\u4e2a\u5bfb\u627e\u76f8\u5bf9\u6781\u503c\u70b9\u5750\u6807\u7684\u51fd\u6570\u3002\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u5b83\u7684\u7528\u6cd5\uff1a</p> <p><pre><code>def bs_signals(bars):\n    from scipy.signal import argrelextrema\n    ma = moving_average(bars[\"close\"], 5)\n\n    peak_indexes = argrelextrema(ma, np.greater)\n    peaks = peak_indexes[0]\n\n    # Find valleys(min).\n    valley_indexes = argrelextrema(ma, np.less)\n    valleys = valley_indexes[0]\n\n    assert abs(len(peaks) - len(valleys)) &lt;= 1\n\n    bars = bars[4:]\n    # Plot main graph.\n    (fig, ax) = plt.subplots()\n    ax.plot(np.arange(len(bars)), bars[\"close\"], color='c')\n    ax.plot(np.arange(len(bars)), ma, color='b')\n\n    # Plot peaks.\n    peak_x = peaks\n    peak_y = bars['close'][peak_x]\n    ax.plot(peak_x, peak_y, 'gv', label=\"Peaks\")\n\n    # Plot valleys.\n    valley_x = valleys\n    valley_y = bars['close'][valley_x]\n    ax.plot(valley_x, valley_y, 'r^', label=\"Valleys\")\n\n    trades = []\n    gains = 1\n    order = None\n\n    vertex = sorted([*peaks, *valleys])\n    for x in vertex:\n        buy = x in valleys\n        sell = x in peaks\n        if buy and order is None:\n            order = {\n                \"buy\": bars[\"close\"][x],\n                \"buy_at\": bars[\"frame\"][x]\n            }\n\n        elif sell and order:\n            buy = order[\"buy\"]\n            sell = bars[\"close\"][x]\n            gain = sell / buy\n            order.update({\n                \"sell\": sell,\n                \"sell_at\": bars[\"frame\"][x],\n                \"gain\": gain\n            })\n\n            gains *= gain\n            trades.append(order)\n            order = None\n\n    return gains - 1, trades\n</code></pre> \u4e0a\u9762\u7684\u51fd\u6570\u4f7f\u7528<code>argrelextrema</code>\u6765\u67e5\u627e\u5747\u7ebf\u7684\u9876\u548c\u5e95\u3002\u8fd9\u91cc\u4f7f\u7528\u5747\u7ebf\uff0c\u662f\u56e0\u4e3a\u5747\u7ebf\u76f8\u5bf9\u5e73\u6ed1\uff0c\u53bb\u9664\u4e86\u4e00\u4e9b\u566a\u97f3\u3002\u8fd9\u91cc\u7684<code>moving_average</code>\u5b9a\u4e49\u4e3a: <pre><code>import numpy as np\ndef moving_average(ts, win):\n    return np.convolve(ts, np.ones(win) / win, mode=\"valid\")\n</code></pre> \u5b83\u4f7f\u7528\u4e86\u5377\u79ef\u6765\u6c42\u7b80\u5355\u79fb\u52a8\u5e73\u5747\u503c\u3002numpy\u7684\u5377\u79ef\u8fd0\u7b97\u901f\u5ea6\u5f88\u5feb\uff0c\u4f46\u5982\u679c\u60f3\u8981\u66f4\u5feb\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u4f7f\u7528bottleneck\u7684<code>move_mean</code>\uff0c\u6700\u9ad8\u53ef\u4ee5\u5feb6000\u591a\u500d\uff08\u53d6\u81ea\u5b98\u65b9\u6587\u6863\uff0c\u4e0d\u4e00\u5b9a\u662f\u548cnp.convolve\u65b9\u6cd5\u6bd4\u8f83\uff09\u3002</p> <p>\u901a\u8fc7\u7ed9<code>argrelextrem</code>\u4f20\u5165\u4e0d\u540c\u7684\u6bd4\u8f83\u51fd\u6570\uff08\u4f8b\u5b50\u4e2d\u662f<code>np.less</code>\u548c<code>np.greater</code>)\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u67e5\u627e\u6781\u5927\u503c\u548c\u6781\u5c0f\u503c\uff0c\u8bb0\u4e3apeaks\u548cvalleys\u3002</p> <p>\u7136\u540e\u6211\u4eec\u628a\u5747\u7ebf\u3001\u6536\u76d8\u4ef7\u7ebf\u548c\u6781\u503c\u70b9\u753b\u5728\u540c\u4e00\u4e2a\u56fe\u4e0a\u3002\u6700\u540e\uff0c\u6211\u4eec\u5047\u8bbe\u5728\u4f4e\u70b9\u4e70\u5165\uff0c\u5728\u9ad8\u70b9\u5356\u51fa\uff0c\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa\u7b56\u7565\u7684\u6536\u76ca\u3002</p> <p>\u4e0b\u56fe\u662f\u6211\u4eec\u4ee5\u4e1c\u65b9\u7535\u6c142021\u5e7411\u67082\u65e5\u4e3a\u6b62\u70b9\uff0c\u5bf960\u4e2a\u4ea4\u6613\u65e5\u5185\u8fdb\u884c\u4fe1\u53f7\u53d1\u73b0\u7684\u7ed3\u679c\uff1a </p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u4ec5\u4ec5\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\uff0c<code>argrelextrem</code>\u5c31\u80fd\u8f83\u597d\u5730\u53d1\u73b0\u9876\u548c\u5e95\u3002\u6211\u4eec\u5f97\u5230\u7684\u6700\u7ec8\u6536\u76ca\u662f35%\uff0c\u800c\u540c\u671f\u8be5\u80a1\u5b9e\u9645\u4e0a\u662f\u4e0d\u6da8\u4e0d\u8dcc\u3002</p> <p>\u975e\u5e38\u60ca\u4eba\uff0cjust too good to be true.</p> <p>\u90a3\u4e48\u5012\u5e95\u54ea\u91cc\u9519\u4e86\uff1f</p> <p>\u539f\u56e0\u51fa\u5728<code>argrelextrem</code>\u7684\u5de5\u4f5c\u65b9\u5f0f\u3002\u5b83\u53ea\u6709\u5728\u80a1\u4ef7\u5df2\u7ecf\u5411\u4e0b\u8d70\u65f6\uff0c\u624d\u80fd\u68c0\u6d4b\u51fa\u4e00\u4e2a\u9876\u70b9\u5df2\u7ecf\u5b58\u5728\u3002\u8fd9\u662f\u4e00\u4e2a\u672a\u6765\u51fd\u6570\u3002\u5b83\u610f\u5473\u7740\uff0c\u53ea\u6709\u5728\u660e\u5929\u624d\u53ef\u80fd\u8bc6\u522b\u51fa\u4eca\u5929\u5e94\u8be5\u53d1\u51fa\u7684\u4fe1\u53f7\u3002\u4f46\u6211\u4eec\u4e0d\u53ef\u80fd\u8fd4\u56de\u6628\u5929\u6765\u5b8c\u6210\u4ea4\u6613\u3002</p> <p>\u4e3a\u4e86\u8fdb\u4e00\u6b65\u9a8c\u8bc1\u4e0a\u8ff0\u89c2\u70b9\uff0c\u6211\u4eec\u53d62021\u5e749\u67083\u65e5\u524d\u540e\u7684\u4e24\u5f20\u56fe\u6765\u5bf9\u6bd4\uff1a  \u4e0a\u56fe\u662f\u622a\u6b629\u67083\u65e5\u7684\u56fe\u3002\u4ece\u540e\u9762\u7684\u7ed3\u679c\u6765\u770b\uff0c<code>argrelextrem</code>\u5e94\u8be5\u5728\u8fd9\u4e00\u5929\u6807\u6ce8\u51fa\u4e00\u4e2a\u5e95\u70b9\u3002\u4f46\u662f\u5b83\u5e76\u6ca1\u6709\u3002  \u4e0a\u56fe\u7684\u65f6\u95f4\u662f9\u67086\u65e5\uff0c\u8fd9\u6b21\u5b83\u6807\u6ce8\u51fa\u6765\u4e00\u4e2a\u5e95\u70b9\uff0c\u4f46\u662f\u6807\u6ce8\u5728\u524d\u4e00\u5929\u3002</p> <p>\u7531\u4e8e\u5747\u503c\u7ebf\u4f7f\u7528\u7684\u662f\u6536\u76d8\u4ef7\uff0c\u8fd9\u610f\u5473\u7740\uff0c\u53ea\u6709\u57289\u67086\u65e5\u6536\u76d8\u540e\uff0c\u6211\u4eec\u624d\u80fd\u8bc6\u522b9\u67083\u65e5\u662f\u4e00\u4e2a\u4f4e\u70b9\u3002\u5982\u679c\u8fd9\u65f6\u6211\u4eec\u63099\u67086\u65e5\u7684\u6536\u76d8\u4ef7\uff08\u5b9e\u9645\u4ea4\u6613\u8fd8\u8981\u665a\u4e00\u70b9\uff0c\u53ea\u80fd\u4f7f\u7528\u7b2c\u4e8c\u5929\u7684\u5f00\u76d8\u4ef7\uff09\u6765\u4e70\u5165\uff0c\u60c5\u51b5\u4f1a\u5982\u4f55\uff1f</p> <p>\u6211\u4eec\u628a\u4e0a\u9762\u7684\u65b9\u6cd5\u4e2d\uff0c\u4e70\u5356\u4ef7\u90fd\u987a\u5ef6\u4e00\u5929\uff0c\u5f97\u5230\u7684\u6536\u76ca\u7387\u662f-13%\u3002\u5982\u679c\u6211\u4eec\u5728\u8d77\u70b9\u65f6\uff0c\u4ee5\u5f00\u76d8\u4ef7\u4e70\u5165\uff0c\u5728\u7ec8\u70b9\u4ee5\u6536\u76d8\u4ef7\u5356\u51fa\uff0c\u5219\u8fd8\u53ef\u4ee5\u6536\u76ca8.4%\u3002\u5728\u52a8\u7528\u9ad8\u5927\u4e0a\u7684\u6570\u5b66\u65b9\u6cd5\u540e\uff0c\u6210\u529f\u5730\u4e8f\u6389\u4e8621%\u3002\u8fd9\u91cc\u6211\u4eec\u53d6\u5f97\u662f5\u65e5\u5747\u7ebf\u3002\u53d610\u65e5\u3001\u6216\u80053\u65e5\uff0c\u90fd\u9003\u4e0d\u6389\u4e8f\u635f\u7684\u547d\u8fd0\u3002</p> <p>\u7406\u60f3\u662f\u7f8e\u597d\u7684\uff0c\u73b0\u5b9e\u662f\u6b8b\u9177\u7684\u3002</p> <p>\u7136\u800c\u3002\u3002\u3002</p> <p>\u8001\u80a1\u6c11\u5f88\u5bb9\u6613\u89c2\u5bdf\u5230\uff0c\u5728\u4f4d\u7f6e5\u9644\u8fd1\uff0c\u80a1\u4ef7\u5df2\u7ecf\u6ede\u6da8\u597d\u51e0\u5929\u4e86\uff0c\u5747\u7ebf\u4e5f\u5728\u8d70\u5e73\u3002\u6709\u53e5\u80a1\u8c1a\uff0c\u4e09\u5929\u4e0d\u521b\u65b0\u9ad8\u5c31\u8981\u629b\uff08\u8fd9\u662f\u5bf9\u8fd0\u505a\u5f3a\u52bf\u80a1\u800c\u8a00\uff09\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u5982\u679c\u4e09\u5929\u4e0d\u521b\u65b0\u9ad8\uff0c\u5219\u5747\u7ebf\u5c31\u4f1a\u8c61\u4e0a\u56fe\u4e2d\u4f4d\u7f6e5\u9644\u8fd1\u4e00\u6837\u8d70\u5e73\uff0c\u63a5\u4e0b\u6765\u65e2\u53ef\u80fd\u7a81\u7834\u5e73\u53f0\u5f00\u542f\u7b2c\u4e8c\u6d6a\uff0c\u4e5f\u53ef\u80fd\u4e0b\u8dcc\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u7b56\u7565\u53ef\u4ee5\u662f\u8fd9\u6837\uff0c\u901a\u8fc7\u7b97\u6cd5\u68c0\u6d4b\u5230\u5747\u7ebf\u8d70\u5e73\uff0c\u53d1\u51fa\u9884\u8b66\uff08\u6b64\u65f6\u53ef\u4ee5\u90e8\u5206\u51cf\u4ed3\uff09\uff0c\u7b49\u5f85\u660e\u786e\u7684\u4fe1\u53f7\u518d\u51b3\u5b9a\u662f\u5426\u6e05\u4ed3\uff08\u53cd\u4e4b\u5219\u662f\u4e70\u5165\uff09\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u80fd\u5728<code>argrelextrem</code>\u524d\u4e00\u5929\u53d1\u73b0\u8d70\u5e73\u7684\u4fe1\u53f7\u3002\u5982\u679c\u6b64\u65f6\u5904\u4e8e\u9ad8\u4f4d\uff0c\u5219\u5356\u51fa\u4e00\u534a\uff0c\u5f85<code>argrelextrem</code>\u62a5\u51fa\u4fe1\u53f7\u540e\uff0c\u518d\u5356\u51fa\u5168\u90e8\u4ed3\u4f4d\u3002\u8fd9\u6837\uff0c\u4e0a\u9762\u51fd\u6570\u7684\u5f00\u4ed3\u3001\u5e73\u4ed3\u90e8\u5206\u5c31\u6539\u4e3a\uff1a <pre><code>if buy and order is None:\n    order = {\n        \"buy\": close[x] * 0.5 + close[x+1] * 0.5,\n        \"buy_at\": bars[\"frame\"][x+1]\n    }\n\nelif sell and order:\n    buy = order[\"buy\"]\n    sell = close[x+1] * 0.5 + close[x] * 0.5,\n    gain = sell / buy\n    order.update({\n        \"sell\": sell,\n        \"sell_at\": bars[\"frame\"][x+1],\n        \"gain\": gain\n    })\n</code></pre> \u8fd9\u6837\u6211\u4eec\u5f97\u5230\u7684\u6536\u76ca\u662f5%\u3002\u867d\u7136\u4e0d\u5982\u4e70\u5165\u5e76\u6301\u6709\u597d\uff0c\u4f46\u6bd5\u7adf\u8fd9\u662f\u6211\u4eec\u51ed\u5b9e\u529b\u6323\u7684\u94b1\uff0c\u800c\u4e0d\u662f\u9760\u8d4c\u8fd0\u6c14\u3002\u6240\u4ee5\u8fd9\u4e2a\u6536\u76ca\u53ef\u91cd\u590d\u3002</p> <p>\u73b0\u5728\uff0c\u95ee\u9898\u5c31\u53d8\u6210\u4e86\uff0c\u5982\u4f55\u68c0\u6d4b\u5747\u7ebf\u8d70\u5e73\uff1f\u8fd9\u4e2a\u95ee\u9898\u56de\u7b54\u8d77\u6765\u4e5f\u5e76\u4e0d\u90a3\u4e48\u5bb9\u6613\u3002\u4e0d\u8fc7\u6211\u4eec\u5148\u6765\u770b\u770b\u8fd9\u91cc\u7684\u68c0\u6d4b\u5cf0\u548c\u8c37\u7684\u65b9\u6cd5\u7684\u5b9e\u9645\u4f5c\u7528\u3002</p> <p>\u4ece\u4e0a\u9762\u7684\u5206\u6790\u53ef\u4ee5\u770b\u51fa\uff0c\u5cf0\u548c\u8c37\u7684\u68c0\u6d4b\u662f\u540e\u9a8c\u7684\uff0c\u5373\u53ea\u6709\u5f53\u5cf0\u548c\u8c37\u5df2\u7ecf\u8d70\u51fa\u6765\uff0c\u4e0a\u9762\u7684\u7b97\u6cd5\u624d\u80fd\u68c0\u6d4b\u5230\u3002\u867d\u7136\u5b83\u5bf9\u6295\u8d44\u53ef\u80fd\u6ca1\u6709\u76f4\u63a5\u7684\u6307\u5bfc\u610f\u4e49\uff0c\u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u5b83\u6765\u6807\u6ce8\u6570\u636e\uff0c\u4ee5\u4f9b\u673a\u5668\u5b66\u4e60\u4f7f\u7528\u3002</p> <p>\u4e0b\u56fe\u663e\u793a\u4e86\u4f7f\u7528\u4e0a\u8ff0\u65b9\u6cd5\uff0c\u5bf9\u4e0a\u8bc1\u6307\u6570\u4e00\u6bb5\u65f6\u95f4\u7684\u5cf0\u548c\u8c37\u8fdb\u884c\u6807\u6ce8\u7684\u7ed3\u679c\uff1a </p> <p>\u6211\u4eec\u5148\u662f\u4f7f\u7528\u5747\u7ebf\u5bf9\u6ce2\u52a8\u8fdb\u884c\u5e73\u6ed1\uff0c\u7136\u540e\u901a\u8fc7argrelextrem\u8fdb\u884c\u5cf0\u548c\u8c37\u7684\u68c0\u6d4b\uff0c\u7136\u540e\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u5bf9\u5cf0\u548c\u8c37\u8fdb\u884c\u4e00\u4e9b\u5c0f\u7684\u4fee\u6b63\uff0c\u4f7f\u4e4b\u4e0e\u80a1\u4ef7\u3001\u800c\u4e0d\u662f\u5747\u7ebf\u5bf9\u9f50\u3002\u6211\u4eec\u91c7\u7528\u6caa\u6307\u8fc7\u53bb6\u5e74\u768430\u5206\u949f\u7ebf\uff0c\u5171\u53d1\u73b0734\u4e2a\u9876\u70b9\u548c738\u4e2a\u5e95\u70b9\uff0c\u5236\u4f5c\u6210\u4e3a\u6807\u6ce8\u6570\u636e\u3002</p> <p>\u6709\u4e86\u8fd9\u4e9b\u6807\u6ce8\u6570\u636e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8bad\u7ec3\u548c\u68c0\u9a8c\u81ea\u5df1\u7684\u673a\u5668\u5b66\u4e60\u6a21\u578b\u4e86\u3002\u51fa\u4eba\u610f\u6599\u7684\u662f\uff0c\u6570\u636e\u91cf\u5e76\u4e0d\u5927\u3002\u8fd9\u4e5f\u8bf4\u660e\u5728A\u80a1\u5e02\u573a\u4e0a\uff0c\u8d8b\u52bf\u4e00\u65e6\u5f62\u6210\uff0c\u5f80\u5f80\u8fd8\u80fd\u6301\u7eed\u4e00\u6bb5\u65f6\u95f4\u3002\u8fd9\u4e5f\u662f\u91cf\u5316\u6a21\u578b\u80fd\u591f\u6709\u7528\u6b66\u4e4b\u5730\u7684\u4e00\u4e2a\u6ce8\u811a\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/","title":"\u91cf\u5316\u5b9e\u76d8\u63a5\u5165\u65b9\u5f0f","text":""},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#easytrader","title":"Easytrader","text":"<p>Easytrader\u662f\u4e00\u4e2a\u901a\u8fc7\u6a21\u62df\u952e\u9f20\u4e8b\u4ef6\uff0c\u64cd\u4f5c\u5238\u5546\u5ba2\u6237\u7aef\u6765\u5b9e\u73b0\u4ea4\u6613\u529f\u80fd\u7684\u4ea4\u6613\u4ee3\u7406\u3002\u8fd9\u79cd\u65b9\u5f0f\u4e2d\uff0ceasytrader\u63d0\u4f9b\u4e86buy, sell\u7b49\u4ea4\u6613API\uff0c\u7b56\u7565\u8c03\u7528\u8fd9\u4e9bAPI\uff0ceasytrader\u628a\u5b83\u8f6c\u5316\u6210\u5bf9\u5238\u5546\u4ea4\u6613\u5ba2\u6237\u7aef\u7684\u9f20\u6807\u70b9\u51fb\u4e8b\u4ef6\uff0c\u6700\u7ec8\u5b8c\u6210\u4ea4\u6613\u3002 \u7279\u70b9\u662f\u63a5\u5165\u4e0d\u9700\u8981\u7533\u8bf7\uff0c\u652f\u6301\u7684\u5238\u5546\u8f83\u591a\uff08\u9664\u534e\u6cf0\u3001\u6d77\u901a\u3001\u56fd\u91d1\u5916\uff0c\u5176\u5b83\u7684\u53ef\u4ee5\u901a\u8fc7\u540c\u82b1\u987a\u6765\u63a5\u5165\uff09\u3002\u4f46\u7531\u4e8e\u662f\u6a21\u62df\u952e\u9f20\u4e8b\u4ef6\u6765\u64cd\u4f5cGUI\uff0c\u6240\u4ee5\u5b58\u5728\u7a33\u5b9a\u6027\u8f83\u5dee\u3001\u54cd\u5e94\u901f\u5ea6\u6162\u7684\u95ee\u9898\u3002 \u5982\u679c\u4e00\u5b9a\u8981\u901a\u8fc7\u5b83\u6765\u8fdb\u884c\u5b9e\u76d8\uff0c\u9700\u8981\u627e\u4e00\u53f0\u6027\u80fd\u8f83\u597d\u7684\u72ec\u7acb\u7684\u7269\u7406\u673a\uff0c\u53ea\u5b89\u88c5\u5238\u5546\u7684\u4ea4\u6613\u5ba2\u6237\u7aef\u548cEasytrader, Easytrader\u4ee5\u670d\u52a1\u5668\u6a21\u5f0f\u8fd0\u884c\uff0c\u518d\u5728\u7b56\u7565\u7aef\uff0c\u4f7f\u7528easytrader\u7684remote client\u8fde\u63a5\u8fc7\u53bb\uff0c\u5e73\u65f6\u4e0d\u64cd\u4f5c\u8fd9\u53f0\u7269\u7406\u673a\uff0c\u4ee5\u540d\u5bf9easytrader\u7684\u64cd\u4f5c\u9020\u6210\u5e72\u6270\u3002 \u6b64\u5916\uff0c\u8fd8\u5e94\u8be5\u5173\u95ed\u8be5\u673a\u5668\u4e0a\u7684\u81ea\u52a8\u66f4\u65b0\u7b49\u529f\u80fd\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#ptrade","title":"\u6052\u751f\u7535\u5b50Ptrade","text":"<p>Ptrade\u662f\u6052\u751f\u7535\u5b50\u5f00\u53d1\u7684\u91cf\u5316\u5e73\u53f0\u3002\u5b98\u65b9\u6709\u4e00\u4e2a\u89c6\u9891\u6559\u7a0b\uff0c\u514d\u8d39\u6ce8\u518c\u540e\u53ef\u6536\u770b\u3002\u5728\u6211\u7684\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u7f16\u7a0b\u5b9e\u6218\u300b\u8bfe\u7a0b\u4e2d\u4e5f\u6709\u4ecb\u7ecd\u3002 \u5b83\u7684\u8fd0\u884c\u65b9\u5f0f\u662f\u5238\u5546\u6258\u7ba1\u5f0f\u3002\u5238\u5546\u91c7\u8d2dPtrade\u8f6f\u4ef6\uff0c\u8fdb\u884c\u4e00\u4e9b\u5b9a\u5236\u5316\u540e\uff0c\u63d0\u4f9b\u7ed9\u81ea\u5df1\u7684\u5ba2\u6237\u4f7f\u7528\u3002 \u7528\u6237\u4f7f\u7528Ptrade\u7b56\u7565\u7f16\u8f91\u5668\u751f\u6210\u81ea\u5df1\u7684\u7b56\u7565\uff0c\u56de\u6d4b\u901a\u8fc7\u540e\uff0c\u4e0a\u4f20\u5230\u5238\u5546\u673a\u623f\u8fd0\u884c\u3002\u8fd9\u79cd\u63a5\u5165\u65b9\u5f0f\u4e2d\uff0c\u5238\u5546\u63d0\u4f9bpython\u7248\u672c\u7684sdk\uff0c\u901a\u8fc7sdk\u4e2d\u7684\u4ea4\u6613API\u6765\u8fdb\u884c\u4e0b\u5355\u3002 \u6258\u7ba1\u6a21\u5f0f\u4e0b\uff0c\u4e00\u822c\u4e0d\u80fd\u8bbf\u95ee\u4e92\u8054\u7f51\u3001\u65e0\u6cd5\u66f4\u65b0Python\u53ca\u4f9d\u8d56\u5e93\u7684\u7248\u672c\uff0c\u4e0d\u80fd\u81ea\u884c\u5b89\u88c5\u8f6f\u4ef6\u3002\u91cf\u5316\u7b56\u7565\u4e0e\u4ea4\u6613API\u3001\u6570\u636e\u83b7\u53d6API\u7b49\u7d27\u5bc6\u8026\u5408\uff0c\u5982\u679c\u540e\u671f\u60f3\u66f4\u6362\u5238\u5546\uff0c\u6210\u672c\u8f83\u9ad8\u3002\u56e0\u4e3a\u4e0d\u80fd\u81ea\u884c\u5b89\u88c5\u8f6f\u4ef6\u548c\u5e93\uff0c\u56e0\u6b64\u96be\u4ee5\u5229\u7528\u8f83\u65b0\u7684\u7b2c\u4e09\u65b9\u7b97\u6cd5\u3002\u5982\u679c\u4f7f\u7528\u4e86\u673a\u5668\u5b66\u4e60\u3001\u5f3a\u5316\u5b66\u4e60\u7b49\u4eba\u5de5\u667a\u80fd\u7b97\u6cd5\uff0c\u8fd9\u4e9b\u5e93\u4e0d\u4e00\u5b9a\u5728\u5238\u5546\u63d0\u4f9b\u7684\u73af\u5883\u4e0b\u6709\uff0c\u5373\u4f7f\u6709\u7684\u8bdd\uff0c\u7248\u672c\u5f88\u53ef\u80fd\u8ddf\u6211\u4eec\u5e38\u7528\u7684\u4e0d\u4e00\u81f4\uff0c\u5e76\u4e14\u53ef\u80fd\u6ca1\u6709GPU\u53ef\u7528\u3002 \u4f18\u70b9\u662f\u884c\u60c5\u901f\u5ea6\u66f4\u5feb\uff0c\u7701\u53bb\u4e86\u673a\u623f\u7ef4\u62a4\u5de5\u4f5c\u3002 Ptrade\u8f6f\u4ef6\u7f51\u4e0a\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u9700\u8981\u627e\u5238\u5546\u5de5\u4f5c\u4eba\u5458\u5f00\u6237\u540e\u83b7\u53d6\uff0c\u5e76\u4e14\u4e00\u822c\u8981\u6ee1\u8db330\u4e07\u8d44\u91d1\u95e8\u69db\u624d\u80fd\u5f00\u901a\u5b9e\u76d8\u3002\u76ee\u524d\u53ef\u4ee5\u5411\u56fd\u91d1\u3001\u56fd\u76db\u3001\u56fd\u5143\u3001\u5b89\u4fe1\u3001\u4e1c\u839e\u7b49\u5238\u5546\u7533\u8bf7\u5f00\u901aPtrade\u3002\u5982\u679c\u6709\u8c03\u4f63\uff08\u53ef\u4ee5\u505a\u5230\u4e07\u4e00\u514d\u4e94\uff09\u548c\u8d44\u91d1\u95e8\u69db\u8981\u6c42\uff08\u53ef\u4ee5\u505a\u5230\u6700\u4f4e\u4e24\u4e07\uff09\u7684\uff0c\u4e5f\u53ef\u4ee5\u627e\u6211\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#qmt","title":"QMT","text":"<p>\u8baf\u6295QMT\u7531\u5317\u4eac\u777f\u667a\u878d\u79d1\u5f00\u53d1\u3002\u4e0ePtrade\u4e00\u6837\uff0c\u5b83\u4e5f\u662f\u7531\u5238\u5546\u91c7\u8d2d\u5b9a\u5236\u540e\uff0c\u63d0\u4f9b\u7ed9\u81ea\u5df1\u7684\u5ba2\u6237\u4f7f\u7528\u7684\u3002\u4e0d\u4e00\u6837\u7684\u662f\uff0c\u5b83\u662f\u672c\u5730\u8fd0\u884c\u6a21\u5f0f\uff0c\u7b56\u7565\u5b89\u5168\u6027\u66f4\u597d\u4e00\u70b9\u3002 QMT\u63d0\u4f9b\u4e86\u4e24\u79cd\u4ea4\u6613\u63a5\u5165\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u6587\u4ef6\u626b\u5355\u6a21\u5f0f\uff0c\u4e00\u79cd\u662fAPI\u5f0f\u3002\u540e\u8005\u9700\u8981\u5728QMT\u5e73\u53f0\u91cc\u7f16\u5199\u7b56\u7565\u5e76\u8fd0\u884c\uff0c\u5bf9Python\u7248\u672c\u548c\u53ef\u8fd0\u884c\u5e93\u6709\u4e00\u5b9a\u9650\u5236\uff08\u4f46\u53ef\u4ee5\u901a\u8fc7\u767d\u540d\u5355\u589e\u52a0\u65b0\u7684\u7b2c\u4e09\u65b9\u5e93\uff09\u3002 \u6587\u4ef6\u626b\u5355\u6a21\u5f0f\u5219\u6ca1\u6709\u4e0a\u8ff0\u9650\u5236\u3002 QMT\u8f6f\u4ef6\u7f51\u4e0a\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u9700\u8981\u627e\u5238\u5546\u5de5\u4f5c\u4eba\u5458\u5f00\u6237\u540e\u83b7\u53d6\uff0c\u76ee\u524d\u53ef\u4ee5\u5411\u56fd\u91d1\u3001\u56fd\u76db\u3001\u56fd\u5143\u3001\u5b89\u4fe1\u3001\u4e1c\u839e\u7b49\u5238\u5546\u7533\u8bf7\u5f00\u901a\u3002\u5982\u679c\u6709\u8c03\u4f63\uff08\u53ef\u4ee5\u505a\u5230\u4e07\u4e00\u514d\u4e94\uff09\u548c\u8d44\u91d1\u95e8\u69db\u8981\u6c42\uff08\u53ef\u4ee5\u505a\u5230\u6700\u4f4e\u4e24\u4e07\uff09\u7684\uff0c\u8bf7\u8054\u7cfb\u6211\u4eec\u3002\u8054\u7cfb\u65b9\u5f0f\u5728\u9875\u5c3e\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#emc","title":"\u4e1c\u8d22EMC","text":"<p>\u4e1c\u65b9\u8d22\u5bccEMC\uff0c\u5f00\u6237\u95e8\u69db\u4e3a100\u4e07\u8d44\u91d1\u3002\u9700\u8981\u52a0\u5165\u5b83\u7684\u5b98\u65b9\u91cf\u5316\u6280\u672f\u652f\u6301\u7fa4\u7533\u8bf7\u5f00\u901a\u3002\u5b83\u63d0\u4f9bAPI\u4ea4\u6613\u548c\u672c\u5730\u6587\u4ef6\u626b\u5355\u4e24\u79cd\u65b9\u5f0f\u3002 \u672c\u5730\u6587\u4ef6\u626b\u5355\u65b9\u5f0f\u54cd\u5e94\u901f\u5ea6\u572810ms\u4ee5\u5185\u3002\u4e0e\u91cf\u5316\u7a0b\u5e8f\u6ca1\u6709\u8026\u5408\uff0c\u56e0\u6b64\u91cf\u5316\u7a0b\u5e8f\u53ef\u4ee5\u8fd0\u884c\u5728\u4efb\u4f55\u4e00\u53f0\u673a\u5668\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u610f\u7684Python\u7248\u672c\u548c\u7b2c\u4e09\u65b9\u5e93\u3002 \u4f46\u662f\u7528\u6237\u9700\u8981\u81ea\u5df1\u5c06\u4ea4\u6613\u6307\u4ee4\uff08\u6bd4\u5982buy, sell\u7b49\uff09\u8f6c\u6362\u6210\u4e3a\u6587\u4ef6\u5355\u683c\u5f0f\uff0c\u5e76\u4e14EMC\u5bf9\u59d4\u6258\u7684\u7ed3\u679c\u4e5f\u662f\u4ee5csv\u65b9\u5f0f\u8fd4\u56de\uff0c\u4e5f\u9700\u8981\u7528\u6237\u81ea\u5df1\u89e3\u6790\u3002 gmadaptor\u63d0\u4f9b\u4e86\u8fd9\u79cd\u5c01\u88c5\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u5b83\u8fd8\u5c06\u81ea\u5df1\u5c01\u88c5\u6210\u4e00\u4e2a\u670d\u52a1\u5668\uff0c\u56e0\u6b64\u91cf\u5316\u7b56\u7565\u53ef\u4ee5\u8fd0\u884c\u5728\u4e0d\u540c\u7684\u673a\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff08EMC\u53ea\u80fd\u8fd0\u884c\u5728Windows\u4e0a\uff09\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#_1","title":"\u5176\u5b83\u63a5\u5165\u65b9\u5f0f","text":"<p>\u5176\u5b83\u8fd8\u6709\u534e\u6cf0MATIC\uff0c\u9700\u8981\u627e\u534e\u6cf0\u8bc1\u5238\u5f00\u901a\uff0c\u8fd9\u4e2a\u8d44\u91d1\u95e8\u69db\u6bd4\u8f83\u9ad8\uff0c\u9700\u89811000\u4e07\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#_2","title":"\u53c2\u8003\u8d44\u6e90","text":"<p>\u5982\u679c\u6709\u9700\u8981\u5b66\u4e60Easytrader, Ptrade, QMT\u548c\u4e1c\u8d22EMC\u7684\uff0c\u76f8\u5173\u5b66\u4e60\u8d44\u6599\uff0c\u8bf7\u89c1\u4e0b\u65b9\u8054\u7cfb\u65b9\u5f0f\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E5%AE%9E%E7%9B%98%E6%8E%A5%E5%85%A5/#_3","title":"\u8054\u7cfb\u65b9\u5f0f","text":"\u5bbd\u7c89\uff08\u8bfe\u7a0b\u54a8\u8be2\uff09 \u516c\u4f17\u53f7"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/","title":"\u91cf\u5316\u6570\u636e\u7684\u6301\u4e45\u5316\u65b9\u6848","text":"<p>\u56de\u6d4b\u9700\u8981\u8f83\u957f\u5468\u671f\u7684\u6570\u636e\u3002\u65e0\u8bba\u6211\u4eec\u4f7f\u7528\u54ea\u4e00\u5bb6\u6570\u636e\u6e90\uff0c\u90fd\u4e0d\u53ef\u80fd\u8ba9\u6211\u4eec\u8de8\u7f51\u7edc\u3001\u53cd\u590d\u591a\u6b21\u4f20\u8f93\u5927\u91cf\u6570\u636e\uff0c\u8fd8\u8981\u4fdd\u8bc1\u4f4e\u5ef6\u65f6\u3002\u6b64\u5916\uff0c\u6211\u4eec\u5728\u91cf\u5316\u7814\u7a76\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u4f1a\u9010\u6b65\u79ef\u7d2f\u81ea\u5df1\u7684\u56e0\u5b50\u5e93\u3002\u8fd9\u4e9b\u56e0\u5b50\u6570\u636e\uff0c\u751a\u81f3\u6bd4\u539f\u59cb\u6570\u636e\u7684\u91cf\u8fd8\u8981\u5927\u3002\u6bd4\u5982\uff0c\u901a\u8fc7TA\u8fd9\u4e2a\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u4e00\u6b21\u63d0\u53d6\u51fa86\u4e2a\u5de6\u53f3\u7684\u6280\u672f\u6307\u6807\u56e0\u5b50\uff0c\u8fd9\u5c06\u662f\u540c\u9891\u7387OHLC\u6570\u636e\u768410\u500d\u4e4b\u591a\u3002\u56e0\u6b64\uff0c\u5982\u4f55\u9ad8\u6548\u7387\u5730\u5b58\u50a8\u548c\u68c0\u7d22\uff0c\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u6709\u6311\u6218\u6027\u7684\u95ee\u9898\u3002</p> <p>\u672c\u7cfb\u5217\u6211\u4eec\u5c06\u8003\u5bdf\u4e00\u4e9b\u6d41\u884c\u7684\u6280\u672f\u65b9\u6848\uff0c\u6bd4\u5982\u5173\u7cfb\u578b\u6570\u636e\u5e93\u3001\u65f6\u5e8f\u6570\u636e\u5e93\u3001\u57fa\u4e8e\u6587\u4ef6\u5b58\u50a8\u7684\u65b9\u6848\u3001\u57fa\u4e8e\u5217\u7684\u6570\u636e\u5e93\u548c\u5206\u5e03\u5f0f\u65b9\u6848\u7b49\u3002\u5f88\u96be\u8bf4\u54ea\u4e00\u79cd\u6280\u672f\u4f1a\u7edd\u5bf9\u80dc\u51fa\uff0c\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u6211\u4eec\u7684\u8bc4\u4f30\u548c\u81ea\u5df1\u7684\u9700\u6c42\u8fdb\u884c\u9009\u62e9\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#_1","title":"\u6211\u4eec\u9700\u8981\u4ec0\u4e48\u6837\u7684\u6570\u636e\u5904\u7406\u80fd\u529b\uff1f","text":"<p>\u91cf\u5316\u6570\u636e\u4e3b\u8981\u662f\u884c\u60c5\u6570\u636e\uff08\u4ee5\u53ca\u7531\u6b64\u884d\u751f\u51fa\u6765\u7684\u56e0\u5b50\u6570\u636e\uff09\u3001\u8d22\u62a5\uff08\u4ee5\u53ca\u7531\u6b64\u884d\u751f\u51fa\u6765\u7684\u56e0\u5b50\u6570\u636e\uff09\u3001\u4ea4\u6613\u8bb0\u5f55\u7b49\u3002\u56e0\u6b64\uff0c\u5b83\u5177\u6709\u6d77\u91cf\u548cPIT\u7684\u4e3b\u8981\u7279\u6027\u3002\u540c\u65f6\uff0c\u4e00\u4e2a\u5b8c\u6574\u7684\u91cf\u5316\u7cfb\u7edf\u4e2d\uff0c\u8fd8\u5fc5\u7136\u5b58\u5728\u4ea4\u6613\u4fe1\u606f\u3001\u8d26\u53f7\u3001\u56de\u6d4b\u72b6\u6001\u7b49\u6570\u636e\u9700\u8981\u4fdd\u5b58\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#_2","title":"\u6d77\u91cf\u6570\u636e","text":"<p>\u5b58\u50a8\u91cf\u5316\u9700\u8981\u7684\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u5feb\u901f\u54cd\u5e94\u7684\u68c0\u7d22\uff0c\u53ef\u80fd\u6bd4\u6211\u4eec\u591a\u6570\u4eba\u60f3\u50cf\u7684\u8981\u96be\u5f88\u591a\u3002\u9996\u5148\u9047\u5230\u7684\u95ee\u9898\u5c31\u662f\u6d77\u91cf\u884c\u60c5\u6570\u636e\u7684\u95ee\u9898\u3002\u4ec5\u4ee5A\u80a1\u4e3a\u4f8b\uff0c\u4eca\u5929\uff082023\u5e7412\u6708\uff09A\u80a1\u5171\u67095000\u5bb6\u4e0a\u5e02\u516c\u53f8\u3002\u5982\u679c\u6211\u4eec\u8981\u4fdd\u5b58\u5206\u949f\u7ea7\u7684\u884c\u60c5\u6570\u636e\u7684\u8bdd\uff0c\u4e00\u5929\u5c31\u9700\u8981\u4fdd\u5b58 \\(5000 * 240 = 120\u4e07\\)\u8bb0\u5f55\u3002\u4e00\u5e74\u6309250\u5929\u7b97\uff0c\u8fd9\u4e2a\u8bb0\u5f55\u6570\u5c06\u8fbe\u52303000\u4e07\u6761\u3002\u5982\u679c\u6211\u4eec\u4ece\u80a1\u6743\u5206\u7f6e\u6539\u9769\u90a3\u4e00\u5e74\uff082005\u5e74\uff091000\u5bb6\u7b97\u8d77\uff0c\u5047\u5b9a\u6bcf\u5e74\u4e0a\u5e02\u516c\u53f8\u7684\u6570\u91cf\u662f\u5300\u901f\u589e\u52a0\u7684\uff0c\u5219\u4ece2005\u5e74\u5230\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u5b58\\(3000,0000 * 18 * 0.6 = 3.24\\)\u4ebf\u6761\u3002\u5982\u679c\u52a0\u4e0a5\u5206\u949f\u300130\u5206\u949f\u7b49\u5176\u5b83\u7ea7\u522b\u6570\u636e\u3001\u52a0\u4e0a\u6307\u6570\u6570\u636e\uff0c\u8fd9\u4e2a\u6570\u636e\u662f\u8f7b\u677e\u7a81\u78344\u4ebf\u6761\u7684\u3002</p> <p>\u5982\u679c\u6211\u4eec\u8981\u4fdd\u5b58tick\u7ea7\u522b\u7684\u6570\u636e\uff0c\u8fd8\u8981\u4fdd\u5b58\u59d4\u4e70\u3001\u59d4\u5356\uff085\u6863\uff09\u6570\u636e\uff0c\u6570\u636e\u91cf\u8fd8\u8981\u589e\u52a0\u4e24\u4e2a\u91cf\u7ea7\u3002</p> <p>\u663e\u7136\uff0c\u8fd9\u5df2\u7ecf\u8fdb\u5165\u4e86\u5927\u6570\u636e\u5904\u7406\u7684\u8303\u7574\u4e86\u3002\u4f46\u662f\uff0c\u5982\u679c\u7528\u6237\u53ea\u9700\u8981\u5b58\u50a8\u65e5\u7ebf\u6570\u636e\u53ca\u8fd9\u4e00\u7ea7\u522b\u7684\u56e0\u5b50\u6570\u636e\uff0c\u90a3\u4e48\uff0c\u6570\u636e\u91cf\u5219\u4f1a\u5c0f\u5f88\u591a\uff0c\u751a\u81f3\u5173\u7cfb\u578b\u6570\u636e\u5e93\u90fd\u80fd\u5904\u7406\u3002</p> <p>\u884c\u60c5\u6570\u636e\u5728\u8bfb\u5199\u4e0a\uff0c\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a</p> <ol> <li>\u7edd\u5927\u591a\u6570\u662f\u8bfb\u8bf7\u6c42</li> <li>\u5199\u8bf7\u6c42\uff08\u53ef\u4ee5\uff09\u4ee5\u76f8\u5f53\u5927\u7684\u6279\u6b21\uff08&gt;1000\u884c\uff09\u8fdb\u884c\u66f4\u65b0\uff0c\u751a\u81f3\u6ca1\u6709\u66f4\u65b0</li> <li>\u5bf9\u5df2\u6dfb\u52a0\u5230\u6570\u636e\u5e93\u7684\u6570\u636e\u4e0d\u9700\u8981\u4fee\u6539\uff08\u9664\u975e\u6570\u636e\u51fa\u9519\uff09</li> <li>\u8bfb\u53d6\u65f6\uff0c\u5e38\u5e38\u4f1a\u8bfb\u53d6\u76f8\u5f53\u591a\u7684\u884c\uff0c\u4f46\u53ea\u63d0\u53d6\u5217\u7684\u4e00\u5c0f\u90e8\u5206</li> <li>\u5bbd\u8868\uff08\u8003\u8651\u5230\u884c\u60c5\u6570\u636e\u4e0e\u56e0\u5b50\u8fde\u63a5\u7684\u60c5\u51b5\uff09</li> <li>\u5217\u4e2d\u7684\u6570\u636e\u76f8\u5bf9\u8f83\u5c0f\uff0c\u8981\u4e48\u662f\u6570\u5b57\uff0c\u8981\u4e48\u662f\u5f88\u77ed\u7684\u5b57\u7b26\u4e32</li> <li>\u67e5\u8be2\u8981\u6c42\u5c3d\u53ef\u80fd\u5feb</li> </ol> <p>\u6211\u4eec\u5728\u540e\u9762\u53ef\u4ee5\u770b\u5230\uff0c\u6709\u4e00\u4e9b\u6570\u636e\u5b58\u50a8\u65b9\u6848\u51e0\u4e4e\u662f\u5b8c\u5168\u6309\u7167\u8fd9\u4e2a\u8981\u6c42\u6765\u5b9a\u5236\u7684\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#pit","title":"PIT\u7279\u6027","text":"<p>PIT\u662f\u6307Point-in-time Data\u3002\u6709\u4e00\u4e9b\u7ecf\u6d4e\u6570\u636e\uff0c\u5728\u53d1\u5e03\u4e4b\u540e\uff0c\u5f80\u5f80\u8fd8\u4f1a\u8fdb\u884c\u4fee\u6b63\u3002\u6bd4\u5982\u5b8f\u89c2\u6570\u636e\u4e2d\u7684GDP\uff0c\u516c\u53f8\u8d22\u52a1\u62a5\u8868\u7b49\u7b49\u3002\u6211\u4eec\u4ee5\u516c\u53f8\u8d22\u62a5\u4e3a\u4f8b\uff0c\u5982\u679c\u5b83\u57282021\u5e741\u5b63\u672b\u53d1\u5e03\u4e86\u8d22\u62a51.0\uff0c\u5728\u534a\u5e74\u62a5\u53d1\u5e03\u65f6\uff0c\u5bf91\u5b63\u5ea6\u7684\u8d22\u62a5\u8fdb\u884c\u4e86\u4fee\u6b63\uff0c\u6b64\u65f61\u5b63\u5ea6\u7684\u8d22\u62a5\u7684\u7248\u672c\u5e94\u8be5\u662f2.0\u3002\u5982\u679c\u6570\u636e\u6e90\u5728\u53d1\u5e03\u65f6\uff0c\u8bb0\u5f55\u4e86\u6570\u636e\u7248\u672c\u548c\u5b83\u751f\u6210\u7684\u65f6\u95f4\uff08\u800c\u4e0d\u4ec5\u4ec5\u662f\u5f52\u5c5e\u65f6\u95f4\uff09\uff0c\u8fd9\u79cd\u6570\u636e\u5c31\u79f0\u4e3aPoint-in-Time data (PIT)\u3002</p> <p>\u5982\u679c\u9009\u7528\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff0c\u53ea\u8981\u6570\u636e\u672c\u8eab\u5e26\u6709\u65f6\u95f4\uff0c\u5219\u5b83\u7684\u5b58\u50a8\u4e0d\u662f\u95ee\u9898\u3002\u5982\u679c\u662f\u57fa\u4e8e\u6587\u4ef6\u578b\u7684\u6570\u636e\u5b58\u50a8\u65b9\u5f0f\uff0c\u5219\u9700\u8981\u8003\u8651\u6070\u5f53\u7684\u7d22\u5f15\u65b9\u5f0f\uff0c\u624d\u80fd\u4fdd\u5b58PIT\u5c5e\u6027\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#zillionare-20","title":"Zillionare 2.0\u7684\u6570\u636e\u5b58\u50a8\u65b9\u6848","text":"<p>\u65e0\u8bba\u91c7\u7528\u54ea\u79cd\u843d\u5730\u6280\u672f\uff0c\u6211\u4eec\u4e00\u822c\u90fd\u4f1a\u9009\u62e9\u7f13\u5b58+\u6301\u4e45\u5316\u7684\u65b9\u6848\u3002\u5728Zillionare 2.0\u4e2d\uff0c\u5f53\u5929\u7684\u884c\u60c5\u6570\u636e\u90fd\u4fdd\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u66f4\u65b0\u548c\u67e5\u8be2\u901f\u5ea6\u90fd\u5f88\u5feb\uff0c\u4f46\u5bb9\u91cf\u5c0f\uff1b\u53e6\u5916\uff0c\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u6570\u636e\u5408\u6210\u3002\u6bd4\u5982\uff0c\u8981\u67e5\u8be2\u67d0\u4e2a\u6807\u7684\u8fc7\u53bb250\u5929\u7684\u65e5\u7ebf\u6570\u636e\uff0c\u6211\u4eec\u9700\u8981\u5148\u4ece\u6301\u4e45\u5316\u5b58\u50a8\u4e2d\uff0c\u63d0\u53d6249\u5929\u7684\u884c\u60c5\u6570\u636e\uff0c\u518d\u52a0\u4e0a\u5b58\u50a8\u5728redis\u7684\u5f53\u5929\u7684\u6570\u636e -- \u8fd9\u4e2a\u6570\u636e\u6bcf\u5206\u6bcf\u79d2\u90fd\u5728\u66f4\u65b0 -- omicron\u5728\u8fd4\u56de\u6570\u636e\u4e4b\u524d\uff0c\u8fdb\u884c\u6570\u636e\u5408\u6210\uff0c\u4ece\u800c\u4fdd\u8bc1\u4ea4\u7ed9\u7528\u6237\u7684\u6570\u636e\u662f\u5b8c\u6574\u7684\u3002</p> <p>Zillionare 2.0\u4f7f\u7528\u7684\u7f13\u5b58\u662fRedis 7.0\uff0c\u4f7f\u7528\u7684\u6301\u4e45\u5316\u5b58\u50a8\u662finfluxdb -- \u8fd9\u662f\u6700\u4f18\u79c0\u7684\u65f6\u95f4\u5e8f\u5217\u6570\u636e\u5e93\u3002</p> <p>Zillionare\u4ece\u4e0a\u6e38\u6570\u636e\u6e90\u83b7\u53d6\u5206\u949f\u6570\u636e\uff0c\u4ee5\u53ca\u63a5\u8fd15\u79d2\u5de6\u53f3\u7684\u4e00\u4e2a\u5b9e\u65f6\u4ef7\u683c\u6570\u636e\uff08\u4e0d\u542bopen, high, low\uff0c\u53ea\u6709\u5f53\u524d\u4ef7\u683c\uff09\u3002Omicron\u5bf9\u5916\u63d0\u4f9b5\u5206\u949f\uff0c15\u5206\u949f\uff0c30\u5206\u949f\uff0c60\u5206\u949f\u6570\u636e\u3002\u56e0\u6b64\uff0c\u5f53Zillionare\u4ece\u4e0a\u6e38\u6570\u636e\u6e90\u63a5\u6536\u5230\u5206\u949f\u6570\u636e\uff0c\u5e76\u4fdd\u5b58\u5230redis\u4e2d\u65f6\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5229\u7528\u6700\u65b0\u7684\u5206\u949f\u7ebf\u6570\u636e\uff0c\u5c06\u5176\u5408\u6210\u4e3a5\u5206\u949f\uff0c15\u5206\u949f\uff0c30\u5206\u949f\uff0c60\u5206\u949f\u6570\u636e\u53ca\u5f53\u65e5\u65e5\u7ebf\u6570\u636e\u3002\u8fd9\u4e2a\u4efb\u52a1\u91cf\u6bd4\u60f3\u50cf\u7684\u8981\u5927\u5f88\u591a\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u6bcf5\u5206\u949f\u90fd\u8981\u8fd0\u884c\u4e00\u6b21\uff0c\u8003\u8651\u5230\u6211\u4eec\u67096000\u4e2a\u6807\u7684\uff0c\u56e0\u6b64\uff0c\u57285\uff0c15\uff0c30\u548c60\u5206\u949f\u4f1a\u805a\u7684\u65f6\u523b\uff0c\u4e00\u6b21\u6027\u5730\u8981\u6267\u884c3\u4e07\u6b21\u7684\u91cd\u91c7\u6837\u4efb\u52a1 -- \u8fd8\u5fc5\u987b\u5728\u51e0\u79d2\u949f\u5185\u5b8c\u6210\u3002</p> <p>\u6211\u4eec\u5229\u7528\u4e86Redis 7.0\u7684\u4e00\u4e2a\u65b0\u6280\u672f\uff0c\u670d\u52a1\u7aeflua\u811a\u672c\uff0c\u6765\u6267\u884c\u8fd9\u4e2a\u5408\u6210\u4efb\u52a1\u3002\u4e0d\u4f9d\u9760python\u6765\u5b8c\u6210\u8fd9\u9879\u4efb\u52a1\uff0c\u662f\u8fd9\u9879\u4efb\u52a1\u80fd\u53ca\u65f6\u5b8c\u6210\u7684\u5173\u952e\u3002\u8fd9\u7701\u53bb\u4e86\u7f51\u683c\u4f20\u8f93\u65f6\u95f4\u3001\u540c\u65f6lua\u4e5f\u6bd4python\u5feb\u5f88\u591a -- \u5b83\u57fa\u672c\u4e0a\u662f\u4ee5c\u7684\u901f\u5ea6\u5728\u8fd0\u884c\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E5%BA%93/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/%E6%95%B0%E6%8D%AE%E6%8C%81%E4%B9%85%E5%8C%96/#_3","title":"\u9884\u544a","text":"<p>\u6211\u4eec\u5e76\u975e\u53ea\u8003\u5bdf\u6700\u5f3a\u5927\u7684\u50a8\u5b58\u65b9\u6848\u3002\u5b9e\u9645\u4e0a\uff0c\u6700\u597d\u7684\u6280\u672f\u65b9\u6848\uff0c\u662f\u80fd\u6ee1\u8db3\u9700\u6c42\u7684\u3001\u6027\u4ef7\u6bd4\u6700\u9ad8\u7684\u90a3\u4e2a\u65b9\u6848\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4f1a\u8003\u5bdf\u51e0\u4e4e\u6240\u6709\u53ef\u80fd\u7684\u65b9\u6848\uff0c\u4ee5\u4fbf\u8bfb\u8005\u6839\u636e\u7684\u9700\u8981\u6765\u8fdb\u884c\u9009\u62e9\u3002\u5f53\u7136\uff0cZillionare\u4f5c\u4e3a\u4e00\u4e2a\u901a\u7528\u7684\u91cf\u5316\u6846\u67b6\uff0c\u4f1a\u9009\u62e9\u6700\u5f3a\u5927\u7684\u65b9\u6848\uff0c\u540c\u65f6\u786e\u4fdd\u5373\u4f7f\u5728\u4e2a\u4eba\u673a\u5668\u4e0a\uff0c\u4e5f\u4f9d\u7136\u80fd\u591f\u8fd0\u884c\u3002</p> <p>\u8fd9\u4e9b\u65b9\u6848\u5305\u62ec\uff1a</p> <ul> <li>\u53ea\u9002\u5408\u5355\u4eba\u4f7f\u7528\u7684\u5b58\u50a8\u65b9\u6848</li> <li>HDF5</li> <li>ZARR</li> <li>XArray</li> <li>\u53ea\u9002\u5408\u5b58\u50a8\u65e5\u7ebf\u53ca\u4ee5\u4e0a\u7ea7\u522b\u7684\u5b58\u50a8\u65b9\u6848</li> <li>Postgres</li> <li>Mysql</li> <li>\u6d77\u91cf\u5b58\u50a8\u65b9\u6848</li> <li>influxdb</li> <li>clickhouse</li> <li>mongodb</li> <li>\u5206\u5e03\u5f0f\u8ba1\u7b97\u65b9\u6848</li> <li>Ray</li> <li>Dask</li> </ul>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/tulipmania/","title":"\u75af\u72c2\u7684\u90c1\u91d1\u9999\u5982\u4f55\u5f00\u542f\u4e86\u6700\u65e9\u7684\u671f\u6743\u4ea4\u6613","text":"<p>\u6295\u673a\u662f\u4eba\u7684\u5929\u6027\uff0c\u4e5f\u662f\u4eba\u7c7b\u6c38\u6052\u7684\u8bdd\u9898\u3002\u535a\u4e00\u535a\uff0c\u5355\u8f66\u53d8\u6469\u6258\u7684\u8bf1\u60d1\uff0c\u53ef\u4e0d\u662f\u6240\u6709\u4eba\u90fd\u80fd\u6297\u62d2\u7684\u3002\u6211\u4eec\u7684\u300a\u82b1\u5f00\u66fe\u503e\u56fd - \u89e3\u8bfb300\u5e74\u91cf\u5316\u91d1\u878d\u53f2\u300b\u7cfb\u5217\u6587\u7ae0\u4e5f\u5c06\u7531\u4eba\u7c7b\u5386\u53f2\u4e0a\u7b2c\u4e00\u6b21\u6709\u8bb0\u8f7d\u7684\u75af\u72c2\u6295\u673a\u5f00\u59cb\u3002</p> <p>\u8fd9\u4e2a\u7cfb\u5217\u7684\u6587\u7ae0\uff0c\u5c06\u4ee5\u300a\u5b9a\u4ef7\u672a\u6765 - \u64bc\u52a8\u534e\u5c14\u8857\u7684\u91cf\u5316\u91d1\u878d\u53f2\u300b\u4e3a\u4e3b\u7ebf\uff0c\u4e5f\u53c2\u8003\u4e86\u200b\u8bb8\u591a\u5176\u5b83\u810d\u7099\u4eba\u53e3\u7684\u540c\u7c7b\u7545\u9500\u4e66\u3002\u8fd9\u662f\u4f5c\u8005\u4e00\u5e74\u6765\u540c\u4e00\u7cfb\u5217\u7684\u7535\u5b50\u4e66\u8bfb\u5f97\u6700\u591a\u7684\u4e00\u6b21\u3002\u76f8\u5173\u53c2\u8003\u4e66\u76ee\u53ef\u4ee5\u5728\u6587\u672b\u627e\u5230\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/tulipmania/#_2","title":"\u75af\u72c2\u7684\u90c1\u91d1\u9999","text":"<p>17\u4e16\u7eaa30\u5e74\u4ee3\u7684\u8377\u5170\uff0c\u56fd\u529b\u53d1\u8fbe\uff0c\u4f4d\u5c45\u6b27\u6d32\u4e4b\u9996\u3002\u6709\u4e86\u94b1\u7684\u8377\u5170\u4eba\uff0c\u5f00\u59cb\u6363\u9f13\u70b9\u6295\u8d44\uff0c\u53d1\u73b0\u90c1\u91d1\u9999\u4e5f\u53ef\u4ee5\u6210\u4e3a\u5f70\u663e\u8eab\u4efd\uff0c\u70ab\u8000\u8d22\u5bcc\u7684\u5de5\u5177\u3002</p> <p>\u90c1\u91d1\u9999\u8fd9\u79cd\u690d\u7269\u636e\u8bf4\u53d1\u6e90\u4e8e\u5929\u5c71\u5c71\u8109\uff0c\u5965\u65af\u66fc\u571f\u8033\u5176\u5e1d\u56fd\u6269\u5f20\u4e4b\u540e\uff0c\u53d1\u73b0\u4e86\u5b83\u5e76\u5f00\u59cb\u4eba\u5de5\u79cd\u690d\u3002\u4e4b\u540e\u4eba\u5de5\u79cd\u690d\u7684\u54c1\u79cd\u611f\u67d3\u75c5\u6bd2\uff0c\u4ece\u800c\u51fa\u73b0\u4e86\u6742\u8272\u75c5\uff0c\u4f7f\u5f97\u5b83\u6108\u53d1\u5996\u5a06\u4e0e\u5a07\u8273\u3002</p> <p>\u8377\u5170\u4eba\u4e3a\u4e86\u8868\u8fbe\u4ed6\u4eec\u5bf9\u8fd9\u79cd\u690d\u7269\u7684\u559c\u7231\uff0c\u4f7f\u7528\u519b\u8854\u6765\u533a\u5206\u5404\u79cd\u54c1\u79cd\uff0c\u6bd4\u5982\uff0c\u90c1\u91d1\u9999\u6700\u9ad8\u8d35\u7684\u54c1\u79cd\u53eb\u505a\"\u6c38\u8fdc\u7684\u5965\u53e4\u65af\u90fd\"\uff0c\u56e0\u4e3a\u5176\u82b1\u74e3\u4e0a\u7684\u7d2b\u8272\u82b1\u7eb9\u900f\u9732\u51fa\u5e1d\u738b\u822c\u7684\u5c0a\u8d35\u3002\u5965\u53e4\u65af\u90fd\u7684\u4e0b\u4e00\u7ea7\u662f\"\u603b\u7763\"\uff0c\u63a5\u7740\u662f\"\u5143\u5e05\"\u3001\"\u5c06\u519b\"\u3002</p> <p></p> <p>\u6295\u673a\u8005\u7528\u90c1\u91d1\u9999\u7684\u79cd\u5b50 \u2014 \u4e00\u79cd\u7403\u830e\u6765\u8fdb\u884c\u4ea4\u6613\u3002\u6700\u8d35\u7684\u54c1\u79cd\u5965\u53e4\u65af\u90fd\uff0c\u4e70\u5165\u4ef7\u76f8\u5f53\u4e8e\u5360\u573050\u4e07\u5e73\u65b9\u7c73\u7684\u623f\u4ea7\uff08\u6bd4\u6545\u5bab\u7565\u5927\u4e00\u70b9\uff09\u7684\u4ef7\u683c\uff0c\u6216\u8005\u76f8\u5f53\u4e8e\u516b\u53ea\u80a5\u732a\u3001\u56db\u53ea\u80a5\u516c\u725b\u3001\u4e24\u5428\u5976\u6cb9\u3001\u4e00\u5343\u78c5\u4e73\u916a\u3001\u4e00\u4e2a\u94f6\u5236\u676f\u5b50\u3001\u4e00\u5305\u8863\u670d\u3001\u4e00\u5f20\u5e8a\u5916\u52a0\u4e00\u6761\u8239\u3002</p> <p>\u66fe\u7ecf\u6709\u4e00\u4e2a\u8fdc\u822a\u5f52\u6765\u7684\u6c34\u624b\uff0c\u5bf9\u5f53\u65f6\u7684\u90c1\u91d1\u9999\u70ed\u4e00\u65e0\u6240\u77e5\uff0c\u8bef\u628a\u4e00\u9897\u5965\u53e4\u65af\u90fd\u5f53\u6210\u6d0b\u8471\u714e\u9c7c\u5403\u4e86\uff0c\u7ed3\u679c\u88ab\u4e8b\u4e3b\u53d1\u73b0\uff0c\u9512\u94db\u5165\u72f1\uff0c\u8e72\u4e86\u597d\u51e0\u4e2a\u6708\u3002</p> <p>\u8fd9\u573a\u95f9\u5267\u6700\u7ec8\u57281637\u5e74\u672b\u8fbe\u5230\u72c2\u6b22\u7684\u5dc5\u5cf0\u3002\u5230\u4e86\u8fd9\u4e00\u5e74\u76842\u67083\u65e5\uff0c\u82b1\u5349\u4ea4\u6613\u4e2d\u5fc3\u54c8\u59c6\u52d2\u7a81\u7136\u8c23\u8a00\u56db\u8d77\uff0c\u8bf4\u4e0d\u4f1a\u518d\u6709\u4e70\u5bb6\uff08\u63a5\u76d8\u4fa0\uff09\u4e86\u3002</p> <p>\u4e00\u4e9b\u6e05\u9192\u7684\u6295\u673a\u8005\u5f00\u59cb\u8ba4\u8bc6\u5230\uff0c\u7f8e\u4e3d\u7684\u90c1\u91d1\u9999\u65e0\u8bba\u591a\u4e48\u8bf1\u4eba\uff0c\u5b83\u4e5f\u53ea\u662f\u6735\u82b1\u800c\u5df2\u3002\u4e00\u573a\u795e\u8bdd\u7ec8\u4e8e\u7834\u706d\u3002</p> <p>\u5f53\u97f3\u4e50\u7684\u9f13\u70b9\u505c\u6b62\uff0c\u6295\u673a\u8005\u4e0d\u5f97\u4e0d\u79bb\u573a\u65f6\uff0c\u4ed6\u4eec\u53d1\u73b0\u671f\u5f85\u4e2d\u7684\u4e30\u539a\u56de\u62a5\u8f6c\u77ac\u95f4\u5316\u4e3a\u4e4c\u6709\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u5de8\u989d\u7684\u91d1\u878d\u635f\u5931\uff0c\u751a\u81f3\u9762\u4e34\u7740\u65e0\u6cd5\u627f\u53d7\u7684\u8d22\u52a1\u56f0\u5883\u548c\u7834\u4ea7\u7684\u98ce\u9669\u3002</p> <p>\u6574\u4e2a\u56fd\u5bb6\u4e5f\u7ecf\u53d7\u4e86\u90c1\u91d1\u9999\u72c2\u70ed\u7684\u540e\u9057\u75c7\uff0c\u5168\u56fd\u7684\u5546\u4e1a\u906d\u5230\u4e25\u91cd\u7684\u51b2\u51fb\uff0c\u5728\u8bb8\u591a\u5e74\u4e4b\u540e\u624d\u5f97\u4ee5\u6062\u590d\u3002</p> <p>\u4e0d\u8fc7\uff0c\u4eba\u7c7b\u5e76\u4e0d\u4f1a\u4ece\u8fd9\u6b21\u6295\u673a\u4e2d\u5438\u53d6\u4efb\u4f55\u6559\u8bad\u3002\u9ed1\u683c\u5c14\uff1a\u4eba\u7c7b\u4ece\u5386\u53f2\u4e2d\u5b66\u5230\u7684\u552f\u4e00\u7684\u6559\u8bad\uff0c\u5c31\u662f\u6ca1\u6709\u4ece\u5386\u53f2\u4e2d\u5438\u53d6\u5230\u4efb\u4f55\u6559\u8bad\u3002\u7c7b\u4f3c\u7684\u82b1\u5349\u7092\u4f5c\uff0c\u5728\u6211\u56fd80\u5e74\u4ee3\u4e5f\u66fe\u53d1\u751f\u8fc7\u4e00\u6b21\uff0c\u6807\u7684\u662f\u541b\u5b50\u5170\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/tulipmania/#_3","title":"\u671f\u6743\u4ea4\u6613\u7684\u53d1\u7aef","text":"<p>\u4e0d\u8fc7\uff0c\u5728\u8fd9\u573a\u7092\u4f5c\u4e2d\uff0c\u4e5f\u840c\u53d1\u4e86\u671f\u8d27\u4e0e\u671f\u6743\u4ea4\u6613\uff0c\u8fd9\u5bf9\u91d1\u878d\u5e02\u573a\u7684\u53d1\u5c55\u53ef\u8c13\u610f\u4e49\u6df1\u8fdc\u3002</p> <p>\u90c1\u91d1\u9999\u7403\u830e\u5fc5\u987b\u5728\u590f\u672b\u79cd\u690d\uff0c\u800c\u5728\u6765\u5e74\u7684\u56db\u4e94\u6708\u5f00\u82b1\uff0c\u82b1\u671f\u4e00\u822c\u4e3a\u4e00\u5230\u4e24\u5468\u3002\u968f\u540e\uff0c\u539f\u6765\u7684\u7403\u830e\u4f1a\u6d88\u5931\uff0c\u65b0\u7684\u7403\u830e\u4f1a\u957f\u51fa\u6765\uff0c\u6709\u65f6\u4f1a\u51fa\u73b0\u4e00\u4e9b\u65b0\u7684\u82bd\u3002</p> <p>\u90c1\u91d1\u9999\u7403\u830e\u53ef\u57286\u6708\u521d\u88ab\u6316\u51fa\uff0c\u5fc5\u987b\u57289\u6708\u4efd\u53c8\u91cd\u65b0\u79cd\u4e0b\u53bb\u3002\u56e0\u6b64\uff0c\u90c1\u91d1\u9999\u79cd\u5b50\u7684\u73b0\u8d27\u4ea4\u6613\u53ea\u80fd\u5728\u590f\u5b63\u7684\u56db\u4e2a\u6708\u4e2d\u5b8c\u6210\uff0c\u4f46\u91d1\u94b1\u5e76\u4e0d\u613f\u610f\u5728\u5176\u4f59\u7684\u516b\u4e2a\u6708\u91cc\u4f11\u606f\u3002</p> <p></p> <p>\u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u91cc\uff0c\u4e70\u5bb6\u548c\u5356\u5bb6\u4f1a\u8fbe\u6210\u5728\u590f\u5b63\u4ea4\u5272\u90c1\u91d1\u9999\u7403\u830e\u7684\u534f\u8bae\uff1a\u534f\u8bae\u5c06\u6d89\u53ca\u5230\u79cd\u7c7b\u3001\u6570\u91cf\uff08\u6216\u8005\u91cd\u91cf\uff09\u3001\u4ef7\u683c\u3001\u8d27\u7269\u4ea4\u5272\u548c\u8d27\u6b3e\u652f\u4ed8\u7684\u65e5\u671f\u3002\u8fd9\u79cd\u4e8b\u5148\u8fbe\u6210\u534f\u8bae\uff0c\u4f46\u5728\u672a\u6765\u6267\u884c\u7684\u4ea4\u6613\uff0c\u5c31\u662f\u671f\u8d27\u4ea4\u6613\u3002</p> <p>\u5230\u4e861637\u5e742\u67083\u65e5\uff0c\u6ce1\u6cab\u7834\u706d\uff0c\u4e70\u5bb6\u62d2\u7edd\u5c65\u884c\u5408\u7ea6\u3002\u7ea0\u7eb7\u8fc5\u901f\u7531\u5c11\u6570\u4f20\u5bfc\u6240\u6709\u4eba\uff0c\u5f88\u591a\u4eba\u9677\u5165\u4e86\u7edd\u671b\u548c\u6124\u6012\u4e4b\u4e2d\u3002</p> <p>\u5356\u5bb6\u8bd5\u56fe\u5bfb\u6c42\u53f8\u6cd5\u6551\u6d4e\uff0c\u4f46\u6cd5\u9662\u62d2\u7edd\u7275\u6d89\u5176\u4e2d\u3002\u6700\u7ec8\uff0c\u7531\u8377\u5170\u82b1\u5546\u534f\u4f1a\u63d0\u51fa\u4e86\u4e00\u9879\u63d0\u6848\uff0c\u4f7f\u5f97\u57281636\u5e7411\u670830\u65e5~1637\u5e74\u6625\u5b63\u4e4b\u95f4\u7684\u4e70\u5bb6\u5728\u5411\u5356\u5bb6\u652f\u4ed8\u4e00\u7b14\u8d39\u7528\uff08\u5f53\u65f6\u88ab\u79f0\u4e3a\u7f5a\u91d1\uff09\u4e4b\u540e\uff0c\u53ef\u4ee5\u514d\u9664\u5176\u8d2d\u4e70\u4e49\u52a1\u3002</p> <p>\u8fd9\u6837\u4e00\u6765\uff0c\u4e70\u5bb6\u6700\u521d\u6709\u4e49\u52a1\u6309\u5408\u540c\u8d2d\u4e70\u7403\u830e\uff0c\u73b0\u5728\u4ed6\u4eec\u8fd8\u6709\u4e86\u53e6\u5916\u4e00\u4e2a\u9009\u62e9\u3002\u5982\u679c\u7403\u830e\u4ef7\u683c\u5728\u4ea4\u5272\u65e5\u4f4e\u4e8e\u5408\u540c\u4ef7\u683c\uff0c\u4e70\u5bb6\u53ef\u4ee5\u9000\u51fa\u4ea4\u6613\uff0c\u4ed6\u6240\u9700\u8981\u505a\u7684\uff0c\u5c31\u662f\u5411\u5356\u5bb6\u652f\u4ed8\u4e00\u7b14\u91d1\u989d\u76f8\u5bf9\u8f83\u5c0f\u7684\u6743\u5229\u91d1\u3002</p> <p>\u8fd9\u6837\uff0c\u4f20\u7edf\u7684\u8fdc\u671f\u534f\u8bae\uff08\u5373\u671f\u8d27\u4ea4\u6613\u534f\u8bae\uff09\u5c31\u6f14\u53d8\u4e3a\u6240\u8c13\u7684\u671f\u6743\u534f\u8bae\u3002\u8377\u5170\u8bae\u4f1a\u53ca\u65f6\u6279\u51c6\u4e86\u8fd9\u4e2a\u8bae\u6848\uff0c\u4f7f\u4e4b\u6210\u4e3a\u6cd5\u4ee4\u3002\u8fd9\u5b9e\u9645\u4e0a\u662f\u5168\u7403\u6700\u65e9\u7684\u5173\u4e8e\u671f\u6743\u7684\u6cd5\u5f8b\uff0c\u4e5f\u4e3a\u6b64\u540e\u7684300\u591a\u5e74\u671f\u6743\u4ea4\u6613\u3001\u4ee5\u53ca\u540e\u6765\u7684\u91cf\u5316\u91d1\u878d\u5f00\u8f9f\u4e86\u9053\u8def\u3002</p> <p></p> <p>\u671f\u6743\u662f\u4e00\u4e2a\u4f1f\u5927\u7684\u53d1\u660e\u3002\u5b83\u4e3a\u4f9b\u9700\u53cc\u65b9\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7a33\u5b9a\u7684\u4ef7\u683c\u9884\u671f\uff0c\u4ece\u800c\u8ba9\u751f\u4ea7\u4f01\u4e1a\u53ef\u4ee5\u636e\u6b64\u5236\u5b9a\u6709\u6548\u7684\u751f\u4ea7\u8ba1\u5212\u3002</p> <p>\u5047\u8bbe\u6709\u4e00\u4e2a\u519c\u592b\uff0c\u9700\u8981\u57286\u4e2a\u6708\u4e4b\u540e\u8d2d\u4e70\u80a5\u6599\u3002\u4ed6\u5f53\u4e0b\u4e0d\u613f\u610f\u8d2d\u4e70\uff0c\u662f\u56e0\u4e3a\u4fdd\u5b58\u80a5\u6599\u4e0d\u4ec5\u9700\u8981\u4ed3\u50a8\u8bbe\u5907\uff0c\u800c\u4e14\u80a5\u6599\u8fd8\u4f1a\u56e0\u6325\u53d1\u9020\u6210\u6d6a\u8d39\u548c\u5371\u9669\u3002</p> <p>\u4f46\u662f\u80a5\u6599\u7684\u4ef7\u683c\u662f\u6ce2\u52a8\u7684\uff0c\u5982\u679c\u5927\u5bb6\u90fd\u7b49\u52306\u4e2a\u6708\u4ee5\u540e\u53bb\u4e70\uff0c\u5219\u4ef7\u683c\u53ef\u80fd\u663e\u8457\u62ac\u5347\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u80a5\u6599\u751f\u4ea7\u5382\u5bb6\u4e5f\u4e0d\u613f\u610f\u5728\u6ca1\u6709\u6301\u7eed\u8ba2\u5355\u63a5\u5165\u7684\u60c5\u51b5\u4e0b\uff0c\u5927\u91cf\u751f\u4ea7\u80a5\u6599\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u9020\u6210\u79ef\u538b\u3002\u800c\u63a7\u5236\u751f\u4ea7\u53c8\u4f1a\u5bfc\u81f46\u4e2a\u6708\u540e\uff0c\u4f9b\u9700\u66f4\u52a0\u7d27\u5f20\u3002</p> <p>\u4e8e\u662f\u4e00\u4e2a\u4e2d\u95f4\u4eba\u51fa\u73b0\u4e86\uff0c\u4ed6\u5411\u519c\u592b\u4fdd\u8bc1\uff1a\u53ea\u8981\u9884\u5148\u652f\u4ed8\u4e00\u7b14\u56fa\u5b9a\u8d39\u7528\uff08\u6743\u5229\u91d1\uff09\uff0c\u516d\u4e2a\u6708\u540e\uff0c\u6211\u5c06\u4ee5\u6bcf\u78c560\u7f8e\u5206\u7684\u4ef7\u683c\u5411\u4f60\u51fa\u552e300\u78c5\u80a5\u6599\uff0c\u65e0\u8bba\u5230\u65f6\u5019\u5b9e\u9645\u4ef7\u683c\u4e3a\u591a\u5c11\u3002</p> <p>\u519c\u592b\u540c\u610f\u4e86\uff0c\u4e24\u4e2a\u4eba\u8fbe\u6210\u4e86\u5408\u7ea6\u30026\u4e2a\u6708\u4e4b\u540e\uff0c\u80a5\u6599\u4ef7\u683c\u4e0b\u8dcc\u5230\u6bcf\u78c550\u7f8e\u5206\uff0c\u4e8e\u662f\u519c\u6c11\u6ca1\u6709\u9009\u62e9\u5c65\u7ea6\uff0c\u800c\u662f\u4ece\u516c\u5f00\u5e02\u573a\u4e0a\u4ee5\u66f4\u4f4e\u7684\u4ef7\u683c\u4e70\u5230\u4e86\u80a5\u6599\uff0c\u800c\u4e2d\u95f4\u4eba\u4e5f\u5f97\u5230\u4e86\u4ed6\u7684\u4f63\u91d1\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u671f\u6743\u8d77\u5230\u4e86\u8c03\u8282\u751f\u4ea7\uff0c\u5e73\u6291\u6ce2\u52a8\u7684\u4f5c\u7528\uff0c\u4ece\u800c\u4f7f\u5f97\u751f\u4ea7\u4e0e\u6d88\u8d39\u5f97\u4ee5\u7528\u4e00\u79cd\u8fde\u7eed\u3001\u53ef\u9884\u6d4b\u7684\u65b9\u5f0f\u8fdb\u884c\u3002\u671f\u6743\u56fa\u7136\u662f\u4e00\u79cd\u6295\u673a\u5de5\u5177\uff0c\u4f46\u6211\u4eec\u4e0d\u5e94\u8be5\u5fd8\u8bb0\u5b83\u7684\u672c\u6765\u4f5c\u7528\u3002</p> <p></p> <p>\u671f\u6743\u4ea4\u6613\u4e00\u65e6\u8bde\u751f\uff0c\u4e00\u4e2a\u95ee\u9898\u4e5f\u5c31\u968f\u4e4b\u800c\u6765\uff0c\u519c\u592b\u7ed9\u4e2d\u95f4\u4eba\u652f\u4ed8\u7684\u6743\u5229\u91d1\uff0c\u5e94\u8be5\u600e\u4e48\u5b9a\u4ef7\u5462\uff1f</p> <p>\u8fd9\u4e2a\u770b\u4f3c\u7b80\u5355\u7684\u95ee\u9898\uff0c\u5ef6\u7eed\u4e86\u51e0\u4e2a\u4e16\u7eaa\u90fd\u6ca1\u80fd\u5f97\u5230\u79d1\u5b66\u7684\u56de\u7b54\u3002\u76f4\u52301973\u5e74\uff0c\u4e00\u9879\u53ef\u4ee5\u5ab2\u7f8e\u725b\u987f\u8fd0\u52a8\u5b9a\u5f8b\u7684\u516c\u5f0f\u88ab\u53d1\u73b0\uff0c\u624d\u7b97\u5f97\u5230\u4e86\u5b8c\u7f8e\u7684\u56de\u7b54\u3002\u662f\u8c01\u63ed\u793a\u4e86\u8fd9\u4e2a\u79d8\u5bc6\uff0c\u53c8\u5c06\u5f97\u5230\u4ec0\u4e48\u6837\u7684\u6b8a\u8363\u5462\uff1f\u6211\u4eec\u5c06\u5728\u540e\u9762\u7684\u6587\u7ae0\u4e2d\u8fdb\u884c\u89e3\u7b54\u3002</p> <p>\u672c\u7cfb\u5217\u6587\u7ae0\u53c2\u8003\u4e86\u4ee5\u4e0b\u4e66\u76ee\u7684\u7535\u5b50\u4e66\u8d44\u6e90\uff1a</p> <ul> <li>\u300a\u539f\u5219\u300b\u6865\u6c34\u57fa\u91d1\u7684\u745e.\u8fbe\u5229\u6b27\u65b0\u4f5c</li> <li>\u300a\u6253\u5f00\u91cf\u5316\u6295\u8d44\u7684\u9ed1\u7bb1\u300b</li> <li>\u300a\u89e3\u8bfb\u91cf\u5316\u6295\u8d44\uff1a\u897f\u8499\u65af\u7528\u516c\u5f0f\u6253\u8d25\u5e02\u573a\u7684\u6545\u4e8b\u300b</li> <li>\u300a\u5bbd\u5ba2\uff1a\u534e\u5c14\u8857\u9876\u7ea7\u6570\u91cf\u91d1\u878d\u5927\u5e08\u7684\u53e6\u7c7b\u4eba\u751f\u300b</li> <li>\u300a\u9ad8\u9891\u4ea4\u6613\u5458 : \u534e\u5c14\u8857\u7684\u901f\u5ea6\u6e38\u620f\u300b</li> <li>\u300a\u8bf4\u8c0e\u8005\u7684\u6251\u514b\u724c\u300b</li> <li>\u300a\u5927\u7a7a\u5934\u300b</li> </ul> <p>\u8fd9\u4e9b\u4e66\u90fd\u5199\u7684\u751f\u52a8\u6709\u8da3\uff0c\u4e0d\u4e60\u60ef\u770b\u7535\u5b50\u7248\u7684\uff0c\u4e5f\u53ef\u4ee5\u770b\u770b\u6b63\u7248\u3002</p> <p>\u5982\u679c\u60a8\u559c\u6b22\u300a\u5b9a\u4ef7\u672a\u6765 - \u64bc\u52a8\u534e\u5c14\u8857\u7684\u91cf\u5316\u91d1\u878d\u53f2\u300b\u8fd9\u672c\u4e66\uff0c\u53ef\u4ee5\u5728\u70b9\u51fb\u8fd9\u91cc\u8d2d\u4e70\u3002</p> <p></p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/","title":"\u4e1c\u5370\u5ea6\u516c\u53f8","text":"<p>\u9ec4\u6d66\u6c5f\u7554\uff0c\u5916\u767d\u6e21\u6865\u8fb9\uff0c\u6709\u4e00\u5e62\u62e5\u6709\u767e\u4f59\u5e74\u5386\u53f2\u7684\u82f1\u56fd\u65b0\u53e4\u5178\u4e3b\u4e49\u98ce\u683c\u5efa\u7b51\u3002\u8fd9\u91cc\u66fe\u662f\u8457\u540d\u7684\u6d66\u6c5f\u996d\u5e97\uff0c\u66f4\u56e0\u662f\u65b0\u4e2d\u56fd\u9996\u5bb6\u8bc1\u5238\u4ea4\u6613\u6240\u7684\u65e7\u5740\u800c\u95fb\u540d\uff0c\u5982\u4eca\u4ee5\u4e2d\u56fd\u8bc1\u5238\u535a\u7269\u9986\u8eab\u4efd\u6210\u4e3a\u7f51\u7ea2\u6253\u5361\u5730\u3002</p> <p> \u4e2d\u56fd\u8bc1\u5238\u535a\u7269\u9986</p> <p>1990\u5e74\u5e95\uff0c\u4e0a\u6d77\u8bc1\u5238\u4ea4\u6613\u6240\u6b63\u5f0f\u6210\u7acb\uff0c\u8fd9\u662f\u5efa\u56fd\u4ee5\u6765\u5185\u5730\u7684\u7b2c\u4e00\u5bb6\u8bc1\u5238\u4ea4\u6613\u6240\uff0c\u5f53\u65f6\u53ea\u67098\u652f\u80a1\u7968\u4e0a\u5e02\uff0c12.34\u4ebf\u5143\u5e02\u503c\uff0c\u662f\u201c\u5168\u7403\u6700\u5c0f\u201d\u7684\u8bc1\u5238\u5e02\u573a\u3002\u4eca\u5929\uff0c\u4e2d\u56fdA\u80a1\u4e0a\u5e02\u516c\u53f8\u5df2\u7ecf\u7a81\u78345000\u5bb6<sup>1</sup>\uff0c\u6210\u4e3a\u4ec5\u6b21\u4e8e\u7f8e\u56fd\u7684\u7b2c\u4e8c\u5927\u80a1\u7968\u73b0\u8d27\u5e02\u573a\uff0c\u4e3a\u4e2d\u56fd\u7ecf\u6d4e\u505a\u51fa\u4e86\u91cd\u8981\u8d21\u732e\u3002</p> <p>\u7d27\u63a5\u4e0a\u4ea4\u6240\u4e4b\u540e\uff0c\u56fd\u5bb6\u53c8\u6210\u7acb\u4e86\u6df1\u4ea4\u6240\uff0c2021\u5e74\u8fd8\u6210\u7acb\u4e86\u5317\u4ea4\u6240\uff0c\u8bc1\u5238\u4ea4\u6613\u65e9\u5df2\u8d70\u5165\u5bfb\u5e38\u767e\u59d3\u5bb6\uff0c\u6210\u4e3a\u7a00\u677e\u5e73\u5e38\u7684\u4e00\u4ef6\u4e8b\u3002\u4f46\u5728\u5f53\u5e74\uff0c\u5efa\u7acb\u8bc1\u5238\u4ea4\u6613\u6240\u8fd8\u662f\u6709\u5f88\u5927\u7684\u4e89\u8bae\u7684\u3002\u56e0\u4e3a\u4ece\u5386\u53f2\u4e0a\u770b\uff0c\u8bc1\u5238\u4ea4\u6613\u6240\u7684\u51fa\u73b0\uff0c\u88ab\u8ba4\u4e3a\u662f\u8d44\u672c\u4e3b\u4e49\u53d1\u5c55\u7684\u4e00\u4e2a\u91cd\u8981\u91cc\u7a0b\u7891\u3002\u4eca\u5929\u6211\u4eec\u5c31\u6765\u8bf4\u8bf4\u8fd9\u4e2a\u91cc\u7a0b\u7891\u3002</p> <p>\u8fd9\u4e2a\u91cc\u7a0b\u7891\u6700\u65e9\u7684\u4e00\u5757\u57fa\u77f3\uff0c\u662f\u57281602\u5e74\u524d\u540e\u7684\u8377\u5170\u94fa\u5c31\u7684\u3002\u719f\u6089\u660e\u53f2\u7684\u4eba\u53ef\u80fd\u77e5\u9053\uff0c\u8fd9\u4e00\u65f6\u671f\u5bf9\u5e94\u7740\u660e\u4e07\u538627\u5e74\u524d\u540e\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_1","title":"\u9999\u6599","text":"<p>\u4e00\u5207\u8fd8\u5f97\u4ece\u9999\u6599\u8bf4\u8d77\u3002\u5728\u4e2d\u4e16\u7eaa\u7684\u6b27\u6d32\uff0c\u9999\u6599\u7684\u4ef7\u683c\u5341\u5206\u6602\u8d35\u3002\u8fd9\u91cc\u8bf4\u7684\u9999\u6599\uff0c\u5e76\u4e0d\u662f\u6211\u4eec\u4eca\u5929\u6240\u8bf4\u7684\u9999\u6c34\u3001\u9999\u7cbe\u4e00\u7c7b\u7684\u4e1c\u897f\uff0c\u800c\u662f\u6307\u53ef\u7528\u4ee5\u70f9\u5236\u98df\u7269\u7684\u9999\u8f9b\u6599\uff0c\u6bd4\u5982\u80e1\u6912\u3001\u4e01\u9999\u3001\u8089\u6842\u3001\u8089\u853b\u3001\u751f\u59dc\u7b49\u3002</p> <p></p> <p>\u6b27\u6d32\u8d35\u65cf\u4eec\u5bf9\u9999\u6599\u70f9\u5236\u7684\u98df\u7269\u6781\u4e3a\u63a8\u5d07\uff0c\u7528\u4eca\u5929\u7684\u8bdd\u6765\u8bf4\uff0c\u6ca1\u6709\u7528\u9999\u6599\u70f9\u5236\u8fc7\u7684\u8089\u7c7b\uff0c\u662f\u6ca1\u6709\u7075\u9b42\u7684\u3002\u8fd9\u79cd\u72c2\u70ed\u7684\u8ffd\u6367\uff0c\u4f7f\u9999\u6599\u6210\u4e3a\u793e\u4f1a\u4e2d\u7684\u5962\u4f88\u54c1\uff0c\u751a\u81f3\u4e00\u5ea6\u548c\u9ec4\u91d1\u7b49\u4ef7\uff0c\u5176\u4e2d\uff0c\u80e1\u6912\u5c31\u88ab\u79f0\u4e3a\u201c\u9ed1\u8272\u9ec4\u91d1\u201d\u3002</p> <p>\u7531\u4e8e\u6c14\u5019\u7684\u539f\u56e0\uff0c\u591a\u6570\u9999\u6599\u5e76\u4e0d\u9002\u5408\u5728\u6b27\u6d32\u79cd\u690d\uff0c\u4f46\u9999\u6599\u7684\u5e72\u8d27\u5374\u8010\u8d2e\u85cf\uff0c\u9002\u5408\u8fdc\u8ddd\u79bb\u8fd0\u8f93\u3002\u800c\u6b64\u65f6\u4eba\u7c7b\u5df2\u8fdb\u5165\u5927\u822a\u6d77\u65f6\u4ee3\uff0c\u4e8e\u662f\u8de8\u5927\u9646\u7684\u9999\u6599\u8d38\u6613\u5c31\u5f00\u5c55\u8d77\u6765\u4e86\u3002\u8fd9\u79cd\u8fd0\u8f93\u5bb9\u6613\u9047\u5230\u6d77\u96be\u3001\u6d77\u76d7\u7b49\u6bc1\u706d\u6027\u707e\u96be\uff0c\u56e0\u6b64\u98ce\u9669\u6781\u9ad8\u3002\u8377\u5170\u4eba\u6700\u65e9\u610f\u8bc6\u5230\uff0c\u5355\u4e2a\u5546\u4eba\u8d22\u529b\u6709\u9650\uff0c\u5f88\u96be\u652f\u6301\u8239\u961f\u5b8c\u6210\u4ed6\u4eec\u7684\u822a\u884c\u3002\u4e8e\u662f\uff0c\u57281602\u5e74\uff0c\u753117\u4f4d\u5546\u4eba\u7ec4\u6210\u4e86\u4eba\u7c7b\u5386\u53f2\u4e0a\u9996\u5bb6\u80a1\u4efd\u516c\u53f8\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_2","title":"\u4e1c\u5370\u5ea6\u516c\u53f8","text":"<p>\u8fd9\u5bb6\u516c\u53f8\u5c31\u53eb\u8377\u5170\u4e1c\u5370\u5ea6\u516c\u53f8\u3002\u5386\u53f2\u4e0a\u81f3\u5c11\u6709\u4e24\u4e2a\u6709\u540d\u7684\u4e1c\u5370\u5ea6\u516c\u53f8\u3002\u53e6\u4e00\u5bb6\u662f\u4e0d\u5217\u98a0\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u6210\u7acb\u4e8e1600\u5e74\uff0c\u5784\u65ad\u4e86\u5370\u5ea6\u8d38\u6613\u7684\u7279\u6743\u8fbe\u4e24\u4e2a\u4e16\u7eaa\uff0c\u4e00\u822c\u6211\u4eec\u8bf4\u7684\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u90fd\u662f\u6307\u4e0d\u5217\u98a0\u4e1c\u5370\u5ea6\u516c\u53f8\u3002\u4e0d\u8fc7\uff0c\u5728\u672c\u6587\u540e\u9762\uff0c\u6211\u4eec\u63d0\u5230\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u5219\u662f\u6307\u8377\u5170\u4e1c\u5370\u5ea6\u516c\u53f8\u3002</p> <p> \u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u8239</p> <p>\u4e1c\u5370\u5ea6\u516c\u53f8\u6210\u7acb\u4e4b\u540e\uff0c\u7acb\u5373\u516c\u5f00\u53d1\u884c\u4e86\u80a1\u7968\uff0c\u4ec5\u9996\u90fd\u5c31\u67091000\u4eba\u8d2d\u4e70\u8be5\u516c\u53f8\u7684\u80a1\u7968\uff0c\u5171\u878d\u5f97650\u4e07\u8377\u5170\u76fe\u7684\u521d\u59cb\u8d44\u91d1\u3002\u540c\u671f\u7684\u4e0d\u5217\u98a0\u4e1c\u5370\u5ea6\u516c\u53f8\uff0c\u5176\u521d\u59cb\u8d44\u91d1\u5219\u53ea\u67097.2\u4e07\u9551\uff0c\u4ec5\u76f8\u5f53\u4e8e\u524d\u8005\u7684\u5341\u5206\u4e4b\u4e00\u3002</p> <p>\u96c4\u539a\u7684\u521d\u59cb\u8d44\u91d1\u4f7f\u5f97\u4e1c\u5370\u5ea6\u516c\u53f8\u5728\u4e0e\u540c\u884c\u7684\u7ade\u4e89\u4e2d\uff0c\u5360\u636e\u4e86\u6709\u5229\u5730\u4f4d\u3002\u5982\u6b64\u4e00\u6765\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u5f97\u4ee5\u8fc5\u901f\u5d1b\u8d77\uff0c\u593a\u53d6\u4e86\u5f53\u65f6\u897f\u73ed\u7259\u548c\u8461\u8404\u7259\u5bf9\u6d77\u4e0a\u8d38\u6613\u7684\u5784\u65ad\u3002\u8fd9\u5bb6\u516c\u53f8\u5728\u524d50\u5e74\u7ecf\u8425\u5f97\u975e\u5e38\u597d\uff0c\u6bcf\u5e74\u90fd\u80fd\u63d0\u4f9b\u8d85\u8fc716%\u7684\u7ea2\u5229\u3002\u5b83\u62e5\u6709150\u6761\u5546\u8239\uff0c\u8fd8\u63a7\u5236\u4e8640\u6761\u6218\u8239\uff0c\u5171\u6709\u8d85\u8fc72\u4e07\u540d\u6c34\u624b\u30015\u4e07\u540d\u5e73\u6c11\u548c\u8d85\u8fc71\u4e07\u540d\u58eb\u5175<sup>2</sup>\u4e3a\u5b83\u670d\u52a1\u3002</p> <p>\u8fd9\u4e2a\u89c4\u6a21\u662f\u975e\u5e38\u60ca\u4eba\u7684\uff0c\u60f3\u60f3\u770b\uff0c\u4eca\u5929\u7684\u4e00\u4e9bIT\u5168\u7403\u5de8\u5934\uff0c\u62e5\u6709\u5458\u5de5\u6570\u6700\u591a\u7684\uff0c\u4e5f\u4e0d\u8fc740\u4e07\u4eba\u5de6\u53f3\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_3","title":"\u6d41\u52a8\u6027\u95ee\u9898\u548c\u89e3\u51b3\u4e4b\u9053","text":"<p>\u4e00\u5f00\u59cb\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u80a1\u7968\u5c31\u662f\u901a\u8fc7\u4ea4\u6613\u53d1\u884c\u7684\u3002\u963f\u59c6\u65af\u7279\u4e39\u8bc1\u5238\u4ea4\u6613\u6240\uff0c\u662f\u5386\u53f2\u4e0a\u7b2c\u4e00\u4e2a\u8bc1\u5238\u4ea4\u6613\u6240\u3002</p> <p>\u6700\u521d\u7684\u6cd5\u5f8b\u89c4\u5b9a\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u80a1\u7968\u53ef\u4ee5\u5728\u6301\u6709\u4eba\u613f\u610f\u7684\u65f6\u5019\uff0c\u9000\u56de\u7ed9\u516c\u53f8\u5e76\u8fd4\u8fd8\u672c\u91d1\u3002\u8fd9\u610f\u5473\u7740\u516c\u53f8\u5fc5\u987b\u59cb\u7ec8\u51c6\u5907\u4e00\u7b14\u8d44\u91d1\uff0c\u7528\u4ee5\u652f\u4ed8\u53ef\u80fd\u4ea7\u751f\u7684\u56de\u8d2d\uff0c\u8fd9\u4f1a\u4f7f\u5f97\u8d44\u91d1\u6548\u7387\u53d8\u4f4e\uff0c\u5e76\u4e14\u53ef\u80fd\u6709\u6324\u5151\u7684\u98ce\u9669\u3002</p> <p>1609\u5e74\uff0c\u8463\u4e8b\u4f1a\u51b3\u5b9a\u4e0d\u518d\u8fd4\u56de\u672c\u91d1\u3002\u5982\u679c\u80a1\u4e1c\u9047\u5230\u6025\u7528\u94b1\u7684\u65f6\u5019\uff0c\u6216\u8005\u80a1\u4e1c\u5bf9\u516c\u53f8\u7684\u4e1a\u7ee9\u4e0d\u592a\u6ee1\u610f\u7684\u65f6\u5019\uff0c\u4ed6\u4eec\u8981\u5982\u4f55\u9000\u51fa\u53d8\u73b0\u5462\uff1f\u4e8e\u662f\u4ece\u90a3\u65f6\u8d77\uff0c\u4ea4\u6613\u6240\u65b0\u589e\u4e86\u4e8c\u7ea7\u5e02\u573a\u4ea4\u6613\u7684\u529f\u80fd\u3002\u81f3\u6b64\uff0c\u963f\u59c6\u65af\u7279\u4e39\u4ea4\u6613\u6240\u5c31\u6210\u4e3a\u4e86\u7b2c\u4e00\u4e2a\u73b0\u4ee3\u610f\u4e49\u4e0a\u7684\u5b8c\u5168\u7684\u8bc1\u5238\u4ea4\u6613\u6240\u3002</p> <p> \u963f\u59c6\u65af\u7279\u4e39\u8bc1\u4ea4\u6240</p> <p>\u8fd9\u4e2a\u4ea4\u6613\u6240\u4ea4\u6295\u6d3b\u8dc3\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u5e73\u5747\u5e74\u6362\u624b\u7387\u57287%\u5de6\u53f3\uff0c\u5230\u4e861607\u5e74\uff0c\u5c31\u53ea\u67092/3\u7684\u521d\u59cb\u6240\u6709\u8005\u8fd8\u5728\u7ee7\u7eed\u6301\u6709\u3002\u6b63\u662f\u57fa\u4e8e\u8fd9\u79cd\u826f\u597d\u7684\u6d41\u52a8\u6027\u3001\u4ee5\u53ca\u4e1c\u5370\u5ea6\u516c\u53f8\u6bcf\u5e74\u7684\u9ad8\u989d\u5206\u7ea2\uff0c\u516c\u53f8\u7684\u80a1\u7968\u5c31\u6210\u4e3a\u4f18\u8d28\u7684\u62b5\u62bc\u54c1\u3002\u56e0\u6b64\uff0c\u5728\u516c\u53f8\u7684\u5b58\u7eed\u671f\u5185\uff0c\u518d\u4e5f\u6ca1\u6709\u901a\u8fc7\u53d1\u884c\u80a1\u7968\u8fdb\u884c\u8fc7\u878d\u8d44\u3002\u516c\u53f8\u5982\u679c\u9700\u8981\u878d\u8d44\uff0c\u4ed6\u4eec\u5c06\u53d1\u884c\u4e3a\u671f12\u4e2a\u6708\u7684\u503a\u5238\u6765\u6ee1\u8db3\u8d44\u91d1\u9700\u6c42\u3002</p>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/voc/#_4","title":"\u91d1\u878d\u5de5\u5177\u7684\u672c\u8d28","text":"<p>\u91d1\u878d\u5de5\u5177\u4ece\u4e00\u8bde\u751f\u5f00\u59cb\uff0c\u5c31\u548c\u8d2a\u5a6a\u3001\u98ce\u9669\u3001\u535a\u5f08\u76f8\u4f34\u76f8\u751f\u3002\u91d1\u878d\u4ece\u4e1a\u8005\u6709\u65f6\u4e5f\u88ab\u9a82\u6210\u72e1\u733e\u7684\u5546\u4eba\u3001\u65e0\u803b\u7684\u6295\u673a\u8005\u548c\u75af\u72c2\u7684\u8d4c\u5f92\u3002\u4f46\u662f\uff0c\u5982\u679c\u653e\u5f03\u60c5\u7eea\u5316\u7684\u89c6\u89d2\uff0c\u62e8\u5f00\u5386\u53f2\u7684\u8ff7\u96fe\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\u91d1\u878d\u5de5\u5177\u5728\u7ec4\u7ec7\u751f\u4ea7\u8d44\u91d1\u3001\u5e73\u6291\u5e02\u573a\u5468\u671f\u65b9\u9762\uff0c\u53d1\u6325\u4e86\u5de8\u5927\u4f5c\u7528\u3002</p> <p>\u5728\u7b2c1\u96c6\u5316\u80a5\u671f\u6743\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u770b\u5230\uff0c\u4e2d\u95f4\u4eba\u662f\u7eaf\u7cb9\u7684\u98df\u5229\u65cf\u3002\u4f46\u4e2d\u95f4\u4eba\u7684\u81ea\u79c1\u4e0e\u8d2a\u5a6a\uff0c\u4e3a\u519c\u592b\u548c\u5316\u80a5\u751f\u4ea7\u5546\u5e73\u6291\u4e86\u4ef7\u683c\u6ce2\u52a8\uff0c\u4f7f\u5f97\u751f\u4ea7\u4ee5\u4e00\u79cd\u6709\u8ba1\u5212\u548c\u53ef\u6301\u7eed\u7684\u65b9\u5f0f\u8fdb\u884c\uff0c\u4ece\u800c\u793e\u4f1a\u8d22\u5bcc\u88ab\u6e90\u6e90\u4e0d\u65ad\u5730\u88ab\u521b\u9020\u51fa\u6765\u3002</p> <p>\u8fd9\u5c31\u662f\u5e02\u573a\u7684\u529b\u91cf\u548c\u7279\u70b9\uff1a\u6240\u6709\u4eba\u90fd\u4ee5\u5b9e\u73b0\u81ea\u5df1\u7684\u5229\u76ca\u4e3a\u76ee\u6807\uff0c\u4f46\u6700\u7ec8\u63a8\u52a8\u4e86\u793e\u4f1a\u7684\u521b\u65b0\u548c\u8fdb\u6b65\u3002</p> <p>\u5728\u4e1c\u5370\u5ea6\u516c\u53f8\u7684\u4f8b\u5b50\u4e2d\uff0c\u80a1\u7968\u8d77\u5230\u4e86\u52df\u96c6\u521d\u59cb\u8d44\u91d1\u7684\u4f5c\u7528\uff1b\u800c\u8bc1\u5238\u4ea4\u6613\u5e02\u573a\u5219\u901a\u8fc7\u63d0\u4f9b\u6d41\u52a8\u6027\uff0c\u4f7f\u5f97\u516c\u53f8\u53ef\u4ee5\u6301\u7eed\u3001\u7a33\u5b9a\u548c\u9ad8\u6548\u7387\uff08\u516c\u53f8\u4e0d\u518d\u9700\u8981\u4e3a\u5e94\u4ed8\u80a1\u7968\u56de\u5151\u800c\u4fdd\u7559\u73b0\u91d1\uff09\u5730\u4f7f\u7528\u4ed6\u4eec\u52df\u96c6\u6765\u7684\u8d44\u91d1\u3002\u5728\u8d44\u672c\u7684\u63a8\u52a8\u4e0b\uff0c\u8377\u5170\u7684\u6d77\u4e0a\u8d38\u6613\u548c\u56fd\u529b\u65e5\u76ca\u53d1\u5c55\uff0c\u83b7\u5f97\u4e86\u6d77\u4e0a\u9a6c\u8f66\u592b\u4e4b\u79f0\uff0c\u6210\u4e3a\u51e0\u4e2a\u4e16\u7eaa\u4ee5\u6765\u6b27\u6d32\u6700\u5f3a\u76db\u548c\u5bcc\u88d5\u7684\u56fd\u5bb6\u3002</p> <p></p> <p>\u56fe\u7247\u6765\u6e90\uff1a\u745e.\u8fbe\u5229\u6b27\u300a\u539f\u5219\u300b</p> <p>\u4e0d\u4ec5\u5982\u6b64\u3002\u516c\u53f8\u7684\u6210\u957f\u548c\u878d\u8d44\u662f\u4e00\u4e2a\u9010\u7ea7\u9012\u8fdb\u7684\u8fc7\u7a0b\u3002\u5929\u4f7f\u6295\u8d44\u4eba\u6700\u65e9\u53d1\u73b0\u5546\u4e1a\u7684\u840c\u82bd\u5e76\u6295\u5165\uff0c\u5e76\u5728\u968f\u540e\u7684A\u8f6e\u878d\u8d44\u4e2d\uff0c\u83b7\u5f97\u4e86\u8d44\u672c\u7684\u589e\u503c\uff1bA\u8f6e\u6295\u8d44\u4eba\u7684\u8d44\u672c\u589e\u503c\u901a\u8fc7B\u8f6e\u878d\u8d44\u6765\u5b9e\u73b0\uff1b\u5982\u6b64\u9012\u8fdb\uff0c\u76f4\u5230\u516c\u53f8\u6700\u7ec8IPO\u6210\u529f\uff0c\u80a1\u6743\u8fdb\u5165\u4e8c\u7ea7\u5e02\u573a\u4ea4\u6613\u3002</p> <p>\u56fa\u7136\u4e0d\u662f\u6bcf\u4e00\u5bb6\u516c\u53f8\u90fd\u80fd\u6210\u529f\u4e0a\u5e02\uff0c\u4f46\u90a3\u4e9b\u6210\u529f\u4e0a\u5e02\u7684\u516c\u53f8\uff0c\u4ed6\u4eec\u805a\u96c6\u7684\u5de8\u5927\u8d22\u5bcc\u6548\u5e94\uff0c\u8c61\u78c1\u77f3\u548c\u6f29\u6da1\u4e00\u6837\u5438\u5f15\u7740\u4e00\u7ea7\u5e02\u573a\u7684\u6700\u672b\u8f6e\u6295\u8d44\u8005\u53c2\u4e0e\uff0c\u53c8\u4e00\u7ea7\u4e00\u7ea7\u5730\u5012\u63a8\u56de\u5929\u4f7f\u8f6e\uff0c\u4ece\u800c\u5e26\u52a8\u5de8\u5927\u7684\u8d44\u91d1\u6765\u63a8\u52a8\u521b\u65b0\u548c\u521b\u9020\u3002</p> <p>\u8fd9\u6b63\u662f\u5f53\u521d\u56fd\u5bb6\u8bbe\u7acb\u4e0a\u4ea4\u6240\u7684\u521d\u8877\u3002\u6211\u4eec\u5df2\u7ecf\u770b\u5230\u4e86\u8d44\u672c\u5e02\u573a\u7684\u5de8\u5927\u6210\u5c31\uff0c\u548c\u5b83\u5e26\u6765\u7684\u78c5\u7934\u52a8\u529b\u3002\u968f\u7740\u4eca\u5e74\u5168\u9762\u6ce8\u518c\u5236\u7684\u63a8\u884c\uff0c\u8fd9\u79cd\u52a8\u529b\u5c06\u7ef5\u6e90\u4e0d\u7edd\uff0c\u66f4\u52a0\u5f3a\u5927\u3002</p> <p>\u5982\u679c\u60a8\u559c\u6b22\u8fd9\u672c\u4e66\uff0c\u53ef\u4ee5\u5728\u70b9\u51fb\u8fd9\u91cc\u8d2d\u4e70\u3002</p> <p></p> <ol> <li> <p>2022\u5e7411\u670822\u65e5\uff0c\u968f\u7740\u9f0e\u6cf0\u9ad8\u79d1\u3001\u77e9\u9635\u80a1\u4efd\u5728\u6df1\u4ea4\u6240\u4e0a\u5e02\uff0c\u4e2d\u56fdA\u80a1\u7a81\u7834\u4e865000\u5bb6\u3002\u636e\u300a\u4e0a\u6d77\u8bc1\u5238\u62a5\u300b\u62a5\u9053\uff0cA\u80a1\u4ece\u8bde\u751f\u5230\u7a81\u78341000\u5bb6\u7528\u4e8610\u5e74\u65f6\u95f4\uff0c\u4ece1000\u5bb6\u52302000\u5bb6\u7528\u4e8610\u5e74\u65f6\u95f4\uff0c\u4ece2000\u5bb6\u52303000\u5bb6\u7528\u4e866\u5e74\u65f6\u95f4\uff0c\u4ece3000\u5bb6\u52304000\u5bb6\u7528\u4e86\u4e0d\u52304\u5e74\u65f6\u95f4\uff0c\u800c\u4ece4000\u5bb6\u52305000\u5bb6\u7528\u4e862\u5e74\u96f62\u4e2a\u6708\u65f6\u95f4\u3002\u00a0\u21a9</p> </li> <li> <p>\u5c3d\u7ba1\u6709\u65f6\u4ee3\u7684\u539f\u56e0\uff0c\u4e1c\u5370\u5ea6\u516c\u53f8\u5728\u5f00\u5c55\u8d38\u6613\u65f6\u4f7f\u7528\u7684\u6709\u4e9b\u624b\u6bb5\uff0c\u76f4\u5230\u4eca\u5929\u4ecd\u7136\u662f\u6709\u4e89\u8bae\u7684\u3002\u8fd9\u4e9b\u624b\u6bb5\u5305\u62ec\u6b8b\u5fcd\u7684\u519b\u4e8b\u884c\u52a8\u3001\u5bf9\u5f53\u5730\u6c11\u4f17\u7684\u5c60\u6740\u548c\u5bf9\u7ade\u4e89\u5bf9\u624b\u7684\u6697\u6740\u3002\u4e1c\u5370\u5ea6\u516c\u53f8\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u662f\u9760\u706b\u4e0e\u5251\u6765\u83b7\u5f97\u4e86\u5784\u65ad\u5730\u4f4d\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"articles/investment/%E9%87%8F%E5%8C%96%E6%9D%82%E8%B0%88/%E8%B5%B7%E5%BA%95%E7%99%BE%E4%BA%BF%E7%A7%81%E5%8B%9F%E5%88%9B%E5%A7%8B%E4%BA%BA/","title":"\u627e\u6821\u53cb\uff01\u8d77\u5e95\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba","text":"<p>\u56fd\u5185\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba\u7684\u6bd5\u4e1a\u5b66\u6821\u65b0\u9c9c\u51fa\u7089\uff0c\u6709\u6ca1\u6709\u4f60\u7684\u6821\u53cb\uff1f</p> <p>\u4ece\u4e13\u4e1a\u4e0a\u770b\uff0c\u6570\u5b66\uff08\u5305\u62ec\u7edf\u8ba1\u3001\u91d1\u878d\u6570\u5b66\uff09\u3001\u8ba1\u7b97\u673a\uff08\u542b\u7535\u5b50\u4fe1\u606f\u3001\u8f6f\u4ef6\uff09\u3001\u7269\u7406\u662f\u5206\u5e03\u6700\u591a\u7684\u4e13\u4e1a\u3002\u4f46\u4e5f\u51fa\u73b0\u4e86\u6587\u79d1\u4e13\u4e1a\uff08\u653f\u6cbb\u7ecf\u6d4e\u5b66\uff09\u548c\u5546\u5b66\u4e13\u4e1a\u3002</p> <p>\u4ece\u5730\u57df\u5206\u5e03\u4e0a\u770b\uff0c\u4eac\u3001\u6caa\u3001\u6d59\u9886\u5148\uff0c\u4e2d\u90e8\u5730\u533a\u4ec5\u6709\u6c5f\u897f\u8d22\u7ecf\u5927\u5b66\u4e3a\u4ee3\u8868\uff0c\u897f\u90e8\u5730\u533a\u4ec5\u6709\u56db\u5ddd\u5927\u5b66\u548c\u897f\u5b89\u4ea4\u5927\u4e24\u6240\u9ad8\u6821\u5165\u56f4\u3002</p> <p>\u4ece\u6392\u540d\u4e0a\u770b\uff0c\u6e05\u5317\u5360\u4f18\uff0c\u5176\u6b21\u662f\u6d59\u5927\u3001\u590d\u65e6\u3001\u9ebb\u7701\u7b49\u540d\u6821\u3002</p> <p>\u6570\u636e\u662f\u5426\u8bf4\u660e\uff0c\u9664\u4e86\u5934\u90e8\u5b66\u6821\uff0c\u5176\u5b83\u4eba\u5c31\u4e0d\u9002\u5408\u505a\u77ff\u5de5\uff1f\u5f53\u7136\u4e0d\u662f\u3002\u6211\u4eec\u5728\u540d\u5355\u4e2d\u4e5f\u770b\u5230\u4e86\u51e0\u6240\u975e985\u5b66\u6821\u3002\u663e\u7136\uff0c\u8fd9\u91cc\u8fd8\u4f1a\u6709\u5e78\u5b58\u8005\u504f\u5dee\uff1a\u5c11\u6570\u5f88\u4f18\u79c0\u7684\u79c1\u52df\uff0c\u521b\u59cb\u4eba\u7684\u7b2c\u4e00\u5b66\u5386\u6ca1\u90a3\u4e48\u5149\u9c9c\uff0c\u4ed6\u4eec\u7684\u5b66\u6821\u5c31\u53ef\u80fd\u672a\u7eb3\u5165\u7edf\u8ba1\u3002\u800c\u4e14\uff0c\u6570\u636e\u4e5f\u4ec5\u4ec5\u662f\u7edf\u8ba1\u4e86\u5934\u90e8\u79c1\u52df\u7684\u521b\u59cb\u4eba\uff1a\u4f5c\u4e3a\u9886\u519b\u4eba\u7269\uff0c\u8d77\u70b9\u9ad8\u4e00\u4e9b\u4e5f\u5f88\u6b63\u5e38\u3002</p> <p>\u300a\u6599\u7406\u9f20\u738b\u300b\u4e2d\uff0c\u6709\u8fd9\u6837\u4e00\u53e5\u6fc0\u52b1\u4eba\u594b\u8fdb\u7684\u7ecf\u5178\u53f0\u8bcd\uff1a </p> <p>Not everyone can become a great artist, but a great artist can come from anywhere</p> <p>\u4e0d\u662f\u6bcf\u4e2a\u4eba\u90fd\u80fd\u6210\u4e3a\u4f1f\u5927\u7684\u827a\u672f\u5bb6\uff0c\u4f46\u4f1f\u5927\u7684\u827a\u672f\u5bb6\u53ef\u80fd\u6765\u81ea\u4efb\u4f55\u5730\u65b9\u3002</p> <p>\u6709\u6ca1\u6709\u770b\u5230\u4f60\u7684\u6821\u53cb\uff1f\u8fc7\u6765say Hi\u5427\uff01</p> <p></p>","tags":["story","\u91cf\u5316\u4f20\u5947"]},{"location":"articles/products/","title":"\u5927\u5bcc\u7fc1\u4ea7\u54c1\u7cfb\u5217","text":"\u5927\u5bcc\u7fc1\u5f00\u6e90\u4ea7\u54c1\u7cfb\u5217"},{"location":"articles/products/#zillionare","title":"\u5927\u5bcc\u7fc1 (Zillionare )","text":"<p>\u5927\u5bcc\u7fc1\u662f\u53ef\u4ee5\u672c\u5730\u90e8\u7f72\u7684\u5f00\u6e90\u91cf\u5316\u6846\u67b6\uff0c\u529f\u80fd\u9f50\u5168\uff0c\u80fd\u5bb9\u7eb3\u8d85\u5927\u89c4\u6a21\u6570\u636e\uff08\u76ee\u524d\u5728\u751f\u4ea7\u73af\u5883\u5df2\u5b58\u50a8\u8d8535\u4ebf\u6761\u884c\u60c5\u6570\u636e\uff09\u3002</p>"},{"location":"articles/products/#_1","title":"\u529f\u80fd\u548c\u7279\u6027","text":"<ol> <li>\u5206\u4f53\u5f0f\u56de\u6d4b\u7cfb\u7edf\u8bbe\u8ba1\uff0c\u7b56\u7565\u56de\u6d4b\u4e0e\u5b9e\u76d8\u4ea4\u6613\u4f7f\u7528\u5b8c\u5168\u4e00\u81f4\u7684API\uff0c\u65e0\u987b\u66f4\u6539</li> <li>\u66f4\u7cbe\u51c6\u7684\u6210\u4ea4\u91cf\u5339\u914d\u7b97\u6cd5\uff08\u9700\u8981\u5206\u949f\u7ea7\u6570\u636e\uff09</li> <li>\u57fa\u4e8eInfluxDB\u7684\u9ad8\u6027\u80fd\u672c\u5730\u91cf\u5316\u5e73\u53f0\uff0c\u80fd\u5bb9\u7eb3\u6d77\u91cf\u6570\u636e<ul> <li>\u901a\u8fc7\u805a\u5bbdjqdatasdk\u6301\u7eed\u540c\u6b65\u884c\u60c5\u6570\u636e\uff08\u5ef6\u65f61\u5206\u949f\uff09</li> <li>\u57fa\u4e8eakshare\u83b7\u5f97\u5ef6\u65f6\u5c0f\u4e8e5\u79d2\u7684\u5b9e\u65f6\u884c\u60c5\u6570\u636e</li> </ul> </li> <li>\u57fa\u4e8e\u5bb9\u5668\u6280\u672f\u6784\u5efa\u548c\u90e8\u7f72\uff0c\u8fd0\u884c\u7a33\u5b9a</li> <li>\u57fa\u4e8eJupyter Lab\u7684\u7814\u7a76\u73af\u5883</li> <li>\u63d0\u4f9b\u5927\u91cf\u91cf\u5316\u5fc5\u7528API\uff1a<ul> <li>\u65f6\u95f4\u8fd0\u7b97\u5e93\uff0c\u6bd4\u5982\u4e24\u4e2a\u4ea4\u6613\u65f6\u95f4\u5e27(frame)\u4e4b\u95f4\u6709\u591a\u5c11\u4e2a\u5e27\uff1f\u4ece\u67d0\u4e2a\u65f6\u95f4\u5e27\u8d77\uff0c\u5411\u524d\u79fb\u52a8n\u4e2a\u5e27\uff0c\u5f97\u5230\u7684\u65f6\u95f4\u662f\uff1f</li> <li>\u8bc1\u5238\u5217\u8868\u8fd0\u7b97\u5e93\u3002\u6bd4\u5982\u6309\u540d\u5b57\u6a21\u7cca\u67e5\u627e\uff0c\u6309\u677f\u5757\u63d0\u53d6\u5217\u8868\u7b49\uff0c\u652f\u6301include/exclude\u8fd0\u7b97\u3002</li> <li>\u65f6\u95f4\u5e8f\u5217\u7279\u5f81\u8fd0\u7b97\u5e93\u3002\u6bd4\u5982cross\uff08\u91d1\u53c9\uff09\uff0cfind_runs\uff08\u5bfb\u627e\u8fde\u7eed\u503c\uff09\u3001low_range\uff08n\u5468\u671f\u4ee5\u6765\u6700\u5c0f\u503c\uff09\u7b49</li> <li>\u7ed8\u56fe\u3002\u63d0\u4f9b\u4ea4\u4e92\u5f0fk\u7ebf\u56fe\u3001\u7b56\u7565\u62a5\u544a\u3002</li> <li>\u7b56\u7565\u57fa\u7c7b\u3002\u57fa\u4e8e\u8be5\u57fa\u7c7b\uff0c\u5b9e\u73b0\u81ea\u5df1\u7684\u7b56\u7565\u6700\u7b80\u5355\u53ea\u9700\u8981\u5b9e\u73b0\u4e00\u4e2a\u51fd\u6570</li> </ul> </li> <li>Trader client\u63d0\u4f9b\u56de\u6d4b\u4e0e\u5b9e\u76d8\u4e00\u81f4\u7684\u4ea4\u6613API</li> <li>\u5927\u91cf\u8be6\u5b9e\u3001\u7cbe\u51c6\u7684\u6587\u6863</li> <li>\u9879\u76ee\u57fa\u4e8ePython Project Wizard\u642d\u5efa\u8d28\u91cf\u4fdd\u8bc1\u53caCI/CD\u4f53\u7cfb\uff0c\u7b26\u5408\u793e\u533a\u6700\u4f73\u5b9e\u8df5\u3002</li> </ol>"},{"location":"articles/products/#_2","title":"\u67b6\u6784\u548c\u7ec4\u4ef6","text":"<p>\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u7531\u4ee5\u4e0b\u4e3b\u8981\u7ec4\u4ef6\uff08\u670d\u52a1\uff09\u6784\u6210\uff1a</p> <p></p> <ul> <li> <p>Omega\u662f\u5927\u5bcc\u7fc1\u7684\u6570\u636e\u670d\u52a1\u5668\uff0c\u5c06\u4e0a\u6e38\u6570\u636e\u6e90\u63d0\u4f9b\u7684\u6570\u636e\u5b9e\u65f6\u672c\u5730\u5316\u3002</p> </li> <li> <p>Omicron\u662f\u5927\u5bcc\u7fc1\u7684\u6838\u5fc3\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u6570\u636e\u8bbf\u95eeAPI\uff0c\u7b56\u7565\u57fa\u7c7b\uff0cK\u7ebf\u56fe\u7ed8\u5236\u3001\u65e5\u5386\u548c\u8bc1\u5238\u5217\u8868\u8fd0\u7b97\u3001\u56de\u6d4b\u6536\u76ca\u56fe\u7ed8\u5236\u7b49\u529f\u80fd\u3002</p> </li> <li>Backtesting Backtesting\u662f\u5927\u5bcc\u7fc1\u7684\u56de\u6d4b\u670d\u52a1\u5668\uff0c\u63d0\u4f9b\u4e86\u56de\u6d4b\u65f6\u7684\u64ae\u5408\u529f\u80fd\u3002</li> <li>Trader-Client \u5927\u5bcc\u7fc1\u4ea4\u6613\u5ba2\u6237\u7aef\u3002\u4e00\u5957API\uff0c\u63d0\u4f9b\u56de\u6d4b\u3001\u6a21\u62df\u548c\u5b9e\u76d8\u63a5\u53e3\u3002</li> <li>gm-adaptor \u5927\u5bcc\u7fc1\u4ea4\u6613\u7f51\u5173\uff0c\u63d0\u4f9b\u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3\uff08\u9700\u8981\u5f00\u901a\u4e1c\u8d22\u91cf\u5316\u6743\u9650\uff09\u3002</li> </ul> <p>\u9664\u5927\u5bcc\u7fc1\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e86\u5176\u5b83\u5f00\u6e90\u5e93\uff0c\u6bd4\u8f83\u91cd\u8981\u7684\u6709\uff1a</p>"},{"location":"articles/products/#_3","title":"\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":"<p>Python Project Wizard\u662f\u4e00\u4e2aPython\u9879\u76ee\u6a21\u677f\u521b\u5efa\u5de5\u5177\u3002\u901a\u8fc7Wizard\uff0c\u53ef\u4ee5\u5feb\u901f\u521b\u5efa\u4e00\u4e2aPython\u9879\u76ee\u7684\u6846\u67b6\uff0c\u5e76\u5177\u6709\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>[Poetry]  \u901a\u8fc7Poetry\u6765\u7ba1\u7406\u7248\u672c\u3001\u4f9d\u8d56\u3001\u6784\u5efa\u548c\u53d1\u5e03</li> <li>[Mkdocs] \u64b0\u5199\u57fa\u4e8eMarkdown\u7684\u6587\u6863\uff0c\u5e38\u89c1\u6269\u5c55\u4e5f\u5df2\u7ecf\u914d\u7f6e</li> <li>[Pytest] \u4f7f\u7528Pytest\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\uff08unittest\u4ecd\u7136\u652f\u6301\uff0c\u5e76\u4e14\u76f4\u63a5\u53ef\u7528\uff09</li> <li>[Codecov] \u751f\u6210coverage report\uff0c\u5e76\u4e14\u7531[Codecov]\u80cc\u4e66\uff0c\u5f00\u6e90\u9879\u76ee\u5fc5\u5907</li> <li>[Tox] \u5bf9\u4ee3\u7801\u8fdb\u884c\u77e9\u9635\u5316\u6d4b\u8bd5\uff08\u5305\u542b\u98ce\u683c\u68c0\u67e5\u548c\u8bed\u6cd5\u68c0\u67e5\uff09</li> <li>\u4f7f\u7528[Black] \u548c [Isort]\u683c\u5f0f\u5316\u4ee3\u7801</li> <li>\u4f7f\u7528[Flake8] \u548c [Flake8-docstrings]\u5bf9\u4ee3\u7801\u548cdocstrings\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5</li> <li>[Pre-commit hooks] \u4ee3\u7801\u63d0\u4ea4\u524d\u5f3a\u5236\u8fdb\u884c\u98ce\u683c\u548c\u8bed\u6cd5\u68c0\u67e5\uff0c\u4ee5\u53ca\u683c\u5f0f\u5316</li> <li>[Mkdocstrings] \u81ea\u52a8\u751f\u6210API\u6587\u6863</li> <li>\u751f\u6210\u57fa\u4e8e[Python Fire]\u7684\u547d\u4ee4\u884c\u63a5\u53e3</li> <li>\u5df2\u914d\u7f6e\u597dGithub\u6301\u7eed\u96c6\u6210\uff0c\u5305\u62ec\u4ee5\u4e0b\u529f\u80fd\uff1a<ul> <li>\u96c6\u6210\u6d4b\u8bd5</li> <li>\u96c6\u6210\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u53d1\u5e03dev build\u5230testpypi\uff0c\u4f9b\u6d4b\u8bd5</li> <li>\u68c0\u6d4b\u5230\u65b0\u7684tag\uff08\u4ee5\u5b57\u6bcdv\u5f00\u5934\uff09\u540e\uff0c\u4ecerelease\u5206\u652f\u4e0a\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u548cwheels\u5305</li> <li>\u81ea\u52a8\u63d0\u53d6change log\u5230release Notes</li> <li>\u81ea\u52a8\u53d1\u5e03github release</li> </ul> </li> <li>\u4f7f\u7528git pages\u6765\u6258\u7ba1\u6587\u6863</li> </ul> <p>\u5b89\u88c5\uff1a <pre><code>pip install ppw\n</code></pre></p>"},{"location":"articles/products/#_4","title":"\u914d\u7f6e\u7ba1\u7406","text":"<p>Cfg4Py\u662f\u4e00\u4e2aPython\u5e93\uff0c\u7528\u4e8e\u89e3\u6790\u548c\u7ba1\u7406\u60a8\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5b83\u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li>\u5c06yaml\u683c\u5f0f\u7684\u914d\u7f6e\u6587\u4ef6\u89e3\u6790\u6210\u4e3a\u4e00\u4e2aPython\u5bf9\u8c61\uff0c\u4ece\u800c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5c5e\u6027\u8bbf\u95ee\u8bed\u6cd5\uff0c\u800c\u4e0d\u662f\u7e41\u7410\u6613\u9519\u7684\u5b57\u5178\u8bbf\u95ee\u8bed\u6cd5\u6765\u4f7f\u7528\u914d\u7f6e\u9879\u3002\u5e76\u4e14\u7531\u4e8e\u8fd9\u4e00\u7279\u6027\uff0c\u4f7f\u5f97IDE\u4ee3\u7801\u63d0\u793a\u548c\u81ea\u52a8\u5b8c\u6210\u6210\u4e3a\u53ef\u80fd\u3002\u8fd9\u6837\uff0c\u60a8\u4e0d\u518d\u9700\u8981\u8bb0\u5fc6\u4f17\u591a\u914d\u7f6e\u9879\u4e86\u3002</li> <li>\u81ea\u9002\u5e94\u5b89\u88c5\u73af\u5883\u652f\u6301\u3002\u652f\u6301\u60a8\u4e3a\u751f\u4ea7\u73af\u5883\u3001\u5f00\u53d1\u73af\u5883\u548c\u6d4b\u8bd5\u73af\u5883\u751f\u6210\u72ec\u7acb\u7684\u914d\u7f6e\u6587\u4ef6\u3002</li> <li>\u5c42\u6b21\u5f0f\u914d\u7f6e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u4e2d\u592e\u914d\u7f6e\u6e90\uff08\u6bd4\u5982redis\u7f13\u5b58\uff09\uff0c\u7136\u540e\u7528\u672c\u5730\u6587\u4ef6\u6765\u8986\u76d6\u67d0\u4e9b\u9009\u9879\u3002\u8fd9\u5728\u67e5\u9519\u548c\u7ef4\u62a4\u65f6\u975e\u5e38\u6709\u7528\u3002</li> <li>\u914d\u7f6e\u6a21\u677f\u3002\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u4e0d\u77e5\u9053\u8fde\u63a5\u4e32\u5e94\u8be5\u5982\u4f55\u5199\uff1fCfg4Py\u53ef\u4ee5\u5e2e\u60a8\u3002Cfg4Py\u4e3a\u5e38\u7528\u7684\u6846\u67b6\u63d0\u4f9b\u4e86\u914d\u7f6e\u6a21\u677f\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7<code>cfg4py scaffold</code>\u6765\u9009\u62e9\u751f\u6210\u54ea\u4e9b\u914d\u7f6e\u9879\u3002</li> <li>\u70ed\u66f4\u65b0\u3002\u914d\u7f6e\u6587\u4ef6\u4fee\u6539\u540e\uff0c\u65e0\u9700\u91cd\u542f\u670d\u52a1\uff0c\u81ea\u52a8\u66f4\u65b0\u3002</li> <li>\u5b8f\u529f\u80fd\u3002\u81ea\u52a8\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6765\u66ff\u6362\u914d\u7f6e\u9879\u4e2d\u7684\u5b8f\u3002</li> </ol> <p>\u5b89\u88c5: <pre><code>pip install cfg4py\n</code></pre></p>"},{"location":"articles/products/#_5","title":"\u5f00\u53d1\u73af\u5883\u6784\u5efa","text":"<p>Python\u5f00\u53d1\u73af\u5883Docker\u955c\u50cf</p> <p>\u60a8\u7684\u5f00\u53d1\u73af\u5883\u6700\u597d\u6784\u5efa\u5728\u5bb9\u5668\u4e4b\u4e2d\u3002\u8fd9\u6837\u505a\u6709\u4ee5\u4e0b\u597d\u5904\uff1a</p> <ol> <li>\u59cb\u7ec8\u4f7f\u7528\u4e00\u81f4\u7684\u5f00\u53d1\u73af\u5883\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u3002</li> <li>\u6d4b\u8bd5\u65f6\u5f80\u5f80\u9700\u8981\u5e72\u51c0\u7684\u73af\u5883\uff0c\u901a\u8fc7\u4f7f\u7528\u955c\u50cf\uff0c\u6211\u4eec\u53ef\u4ee5\u968f\u65f6\u6784\u5efa\u4e00\u4e2a\u65b0\u7684\u3001\u5e72\u51c0\u7684\u5bb9\u5668\u6765\u6267\u884c\u6d4b\u8bd5\u3002</li> <li>\u9632\u6b62\u5f00\u53d1\u4e2d\u8bef\u5220\u9664\u6587\u4ef6\u3002\u5982\u679c\u662f\u5728\u5bb9\u5668\u4e2d\u53d1\u751f\u8bef\u5220\u9664\u6587\u4ef6\u7684\u64cd\u4f5c\uff0c\u6700\u591a\u4e5f\u5c31\u635f\u574f\u4e86\u5bb9\u5668\u672c\u8eab\uff0c\u4e0d\u81f3\u4e8e\u8981\u91cd\u88c5\u7cfb\u7edf\u3002</li> </ol> <p>\u8fd9\u4e2a\u955c\u50cf\u5305\u62ec\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li>ssh\u670d\u52a1\u5668</li> <li>git, python3, wget, vim, miniconda</li> <li>\u5b89\u88c5\u4e86redis\u548cpostgres</li> </ol> <p>\u5b89\u88c5 <pre><code>    docker pull zillionare/python-dev-machine\n</code></pre></p>"},{"location":"articles/products/#_6","title":"\u8fdb\u7a0b\u95f4\u6d88\u606f","text":"<p>Pyemit \u63d0\u4f9b\u4e86\u57fa\u4e8eredis\u7684\u7b80\u5355\u6613\u7528\u7684\u8fdb\u7a0b\u95f4\u6d88\u606f\u901a\u8baf\u673a\u5236\u548c\u7b80\u6613RPC\u670d\u52a1\u3002</p>"},{"location":"articles/products/1.0/","title":"1.0","text":"<p>Zillionare\uff08\u5927\u5bcc\u7fc1\uff09\u662f\u4e00\u4e2a\u5206\u5e03\u5f0f\u9ad8\u901f\u91cf\u5316\u4ea4\u6613\u6846\u67b6\u3002\u5b83\u57fa\u4e8ePython 3.8\u4ee5\u4e0a\u7248\u672c\u6784\u5efa\uff0c\u4f7f\u7528\u4e86\u5f02\u6b65IO\u548c\u5fae\u670d\u52a1\u6280\u672f\uff0c\u5176\u76ee\u6807\u662f\uff1a</p> <ul> <li>\u5206\u5e03\u5f0f\u9ad8\u901f\u91cf\u5316\u8ba1\u7b97\u5e73\u53f0\uff0c\u7b97\u529b\u53ef\u6839\u636e\u9700\u8981\u65e0\u7f1d\u6269\u5c55</li> <li>\u884c\u60c5\u6570\u636e\u672c\u5730\u5316\u5b58\u50a8\uff0c\u4f4e\u5ef6\u65f6\u540c\u6b65\uff0c\u8f7b\u677e\u652f\u6301\u5b9e\u65f6\u89e6\u53d1\u5206\u949f\u7ea7\u522b\u4ee5\u4e0a\u4ea4\u6613\u4fe1\u53f7</li> <li>\u652f\u6301\u79c1\u6709\u5316\u90e8\u7f72\uff0c\u4fdd\u62a4\u60a8\u7684\u7b56\u7565</li> <li>\u865a\u62df\u5316\u90e8\u7f72\uff0c\u66f4\u6613\u7ef4\u62a4</li> <li>\u8bf8\u591a\u91cf\u5316\u56e0\u5b50</li> <li>\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u7684\u4ea4\u6613\u7b56\u7565</li> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u4ea4\u6613\u7b56\u7565</li> <li>\u9ad8\u901f\u56de\u6d4b\u6846\u67b6</li> </ul> <p>\u5982\u679c\u60a8\u4e0d\u662f\u4ece\u89e3\u8bed\u79d1\u6280\u5b98\u65b9\u7f51\u7ad9\u6253\u5f00\u7684\u672c\u6587\u6863\uff0c\u8bf7\u70b9\u51fb\u94fe\u63a5\u89e3\u8bed\u79d1\u6280\uff0c\u8df3\u8f6c\u5230\u5b98\u7f51\u9605\u8bfb\u672c\u6587\u3002\u6211\u4eec\u5728\u7f51\u7ad9\u4e0a\u63d0\u4f9b\u4e86\u66f4\u591a\u6587\u6863\u548c\u6559\u7a0b\uff0c\u5e76\u4e14\u6392\u7248\u66f4\u9002\u5408\u9605\u8bfb\u3002</p>"},{"location":"articles/products/1.0/#_1","title":"\u4e3a\u4ec0\u4e48\u8981\u5f00\u53d1\u5927\u5bcc\u7fc1\uff1f","text":"<p>\u4f5c\u8005\u4ece2019\u5e74\u8d77\u5f00\u59cb\u5173\u6ce8\u91cf\u5316\u4ea4\u6613\u3002\u5728\u8bd5\u7528\u4e86\u4e00\u4e9b\u5546\u4e1a\u548c\u5f00\u6e90\u7684\u4ea7\u54c1\u540e\uff0c\u4f5c\u8005\u53d1\u73b0\uff0c\u8fd8\u6ca1\u6709\u4e00\u4e2a\u4ea7\u54c1\u80fd\u591f\u4ee5\u53ef\u8d1f\u62c5\u7684\u6210\u672c\u63d0\u4f9b\u4f4e\u5ef6\u65f6\u3001\u51c6\u786e\u7684\u6570\u636e\uff0c\u5728\u57fa\u4e8e\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u7684\u4ea4\u6613\u7b56\u7565\u65b9\u9762\u66f4\u662f\u5b8c\u5168\u6ca1\u6709\u3002</p> <p>\u4e00\u4e9b\u4ea7\u54c1\u5728\u6570\u636e\u6e90\u7ec4\u7ec7\u4e0a\u505a\u7684\u6bd4\u8f83\u597d\uff0c\u6570\u636e\u53ef\u9760\u6027\u9ad8\uff0c\u4f46\u662f\u4e0d\u63d0\u4f9b\u79bb\u7ebf\u5b58\u50a8\u3002\u5982\u679c\u6bcf\u4e00\u7b14\u6570\u636e\u90fd\u8981\u5728\u7ebf\u83b7\u53d6\u7684\u8bdd\uff0c\u8fd9\u6837\u4ea7\u751f\u4e86\u6570\u636e\u8bf7\u6c42\u54cd\u5e94\u901f\u5ea6\u548c\u8d39\u7528\u95ee\u9898\u3002</p> <p>\u6570\u636e\u8bf7\u6c42\u54cd\u5e94\u901f\u5ea6\u6162</p> Info <p>\u6211\u4eec\u7684\u7b56\u7565\u5e38\u5e38\u662f\u8981\u5bf9\u5168\u5e02\u573a\u8fdb\u884c\u626b\u63cf\uff0c\u4ee5\u5c3d\u53ef\u80fd\u5730\u53d1\u73b0\u4ea4\u6613\u4fe1\u53f7\u3002\u4f46\u662f\u8fd9\u6837\u4f1a\u5bfc\u81f4\u5927\u91cf\u7684\u6570\u636e\u8bf7\u6c42\u3002</p> <p>\u6211\u4eec\u4ee5\u4e00\u4e2a\u5747\u7ebf\u7b56\u7565\u4e3a\u4f8b\uff0c\u5047\u8bbe\u8be5\u7b56\u7565\u7528\u5230\u4e86\u5e74\u7ebf\u6570\u636e\uff0c\u5219\u5728\u5bf9\u5168\u5e02\u573a\u8fdb\u884c\u626b\u63cf\u7684\u60c5\u51b5\u4e0b\uff0c\u4e00\u6b21\u626b\u63cf\u9700\u8981\u4ece\u670d\u52a1\u5668\u4e0a\u53d6\u5f971\u767e\u4e07\u6761\u6570\u636e\uff08\u6309A\u80a1\u5168\u5e02\u573a4000\u652f\u6807\u7684\uff0c\u6bcf\u652f\u6700\u5927\u53d6\u5e74\u7ebf250\u65e5\u8ba1\u7b97\uff09\u3002</p> <p>\u8981\u53d6\u5f97\u8fd9\u4e48\u591a\u6570\u636e\uff0c\u7f51\u7edc\u8bf7\u6c42\u6570\u91cf\u548c\u8017\u65f6\u90fd\u662f\u60ca\u4eba\u7684\u3002\u4ee5\u67d0sdk\u4e3a\u4f8b\uff0c\u5355\u4f1a\u8bdd\u53d6100\u4e07\u6761\u6570\u636e\uff0c\u4e00\u822c\u5927\u6982\u9700\u89817-10\u5c0f\u65f6\u5de6\u53f3\u3002\u5982\u6b64\u4e00\u6765\uff0c\u5c31\u4e0d\u53ef\u80fd\u5b9e\u73b0\u4efb\u4f55\u5b9e\u65f6\u6216\u8005\u51c6\u5b9e\u65f6\u7684\u4ea4\u6613\u7b56\u7565\u3002\u5373\u4f7f\u5728\u4e00\u4e9b\u975e\u5b9e\u65f6\u7684\u573a\u5408\uff0c\u6bd4\u5982\u521d\u6b21\u5b89\u88c5\u5b8c\u6210\u540e\u7684\u6570\u636e\u5e93\u521d\u59cb\u5316\uff0c\u67d0\u5f00\u6e90\u9879\u76ee\u7684\u521d\u59cb\u5316\u7b49\u5f85\u65f6\u95f4\u4ee5\u5929\u8ba1\uff08\u5f53\u7136\u652f\u6301\u65ad\u70b9\uff09\uff0c\u8fd9\u4e5f\u4f3c\u4e4e\u662f\u96be\u4ee5\u63a5\u53d7\u7684\u3002</p> <p>\u8d39\u7528</p> Info <p>\u6240\u6709\u6570\u636e\u90fd\u4ece\u670d\u52a1\u5668\u83b7\u53d6\u7684\u8bdd\uff0c\u4e5f\u7ed9\u670d\u52a1\u5668\u5e26\u6765\u8f83\u5927\u7684\u8d1f\u8377\uff0c\u56e0\u6b64\u670d\u52a1\u4e0d\u53ef\u80fd\u514d\u8d39\u63d0\u4f9b\u3002</p> <p>\u6bd4\u5982\u805a\u5bbd\u662f\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7684\u6570\u636e\u63d0\u4f9b\u8005\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u7533\u8bf7\u4e00\u5e74\u671f\u7684\u514d\u8d39\u8bd5\u7528\u6743\u9650\uff0c\u8bd5\u7528\u671f\u95f4\uff0c\u6bcf\u5929\u63d0\u4f9b100\u4e07\u7b14\uff08\u6b21\uff09\u6570\u636e\u3002\u5c3d\u7ba1\u8fd9\u4e2a\u65b9\u6848\u5df2\u7ecf\u5341\u5206\u6177\u6168\u4e86\uff0c\u4f46\u4e0d\u8981\u8bf4\u5bf9\u4e8e\u5b9e\u9645\u751f\u4ea7\u73af\u5883\uff0c\u5c31\u662f\u81ea\u884c\u8fdb\u884c\u7814\u7a76\u4e5f\u662f\u6349\u895f\u89c1\u8098\u3002\u4f5c\u8005\u81ea\u5df1\u4e5f\u5e38\u5e38\u9047\u5230\u4e00\u8f6e\u5355\u5143\u6d4b\u8bd5\u6ca1\u8dd1\u5b8c\uff0cQuota\u5c31\u4e0d\u591f\u7684\u60c5\u51b5\u3002</p> <p>\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\u7684\u6839\u672c\uff0c\u662f\u5e94\u8be5\u5c06\u5df2\u6536\u76d8\u7684k\u7ebf\u6570\u636e\uff0c\u5728\u672c\u5730\u5b58\u50a8\u8d77\u6765\uff0c\u7136\u540e\u5b9e\u65f6\u540c\u6b65\u672c\u5730\u4e0e\u4e0a\u6e38\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u5dee\u5206\u6570\u636e\u3002</p> <p>\u4e00\u4e9b\u4ea7\u54c1\u63d0\u4f9b\u4e86\u7c7b\u4f3c\u7684\u6570\u636e\u672c\u5730\u5316\u5b58\u50a8\u65b9\u6848\uff0c\u4f46\u4e5f\u6709\u4e00\u4e9b\u9650\u5236\u548c\u7f3a\u9677\u3002</p> <p>\u6bd4\u5982\u4e00\u4e9b\u4ea7\u54c1\u628a\u83b7\u53d6\u6570\u636e\u7684API\u5206\u4e3a\u79bb\u7ebf\u548c\u5728\u7ebf\u4e24\u7c7b\u3002\u4f7f\u7528\u79bb\u7ebfAPI\u53ef\u4ee5\u4ece\u672c\u5730\u5b58\u50a8\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u6570\u636e\u4e0d\u662f\u5b9e\u65f6\u7684\uff0c\u65e0\u6cd5\u7528\u4e8e\u6307\u5bfc\u5b9e\u65f6\u4ea4\u6613\uff1b\u8981\u5f97\u5230\u5b9e\u65f6\u6570\u636e\u4ecd\u7136\u5fc5\u987b\u4f7f\u7528\u5728\u7ebfAPI\uff0c\u8981\u4e48\u4e00\u6b21\u6027\u83b7\u53d6\u5168\u90e8\u9700\u8981\u7684\u6570\u636e\uff08\u8fd9\u5c31\u629b\u5f00\u4e86\u672c\u5730\u5b58\u50a8\u7684\u4f18\u52bf\uff09\uff0c\u8981\u4e48\u901a\u8fc7\u5728\u7ebfAPI\u83b7\u53d6\u5dee\u5206\u6570\u636e\uff0c\u81ea\u5df1\u518d\u8bfb\u53d6\u6570\u636e\u5e93\u4e2d\u7684\u79bb\u7ebf\u6570\u636e\uff0c\u81ea\u884c\u5408\u5e76\u3002\u5b9e\u9645\u4e0a\u4ea7\u54c1\u5e94\u8be5\u80fd\u591f\u900f\u660e\u5730\u63d0\u4f9b\u7528\u6237\u9700\u8981\u7684\u6570\u636e\uff0c\u628a\u8fd9\u4e9b\u6280\u672f\u7ec6\u8282\u9690\u85cf\u5728\u5185\u90e8\uff0c\u8fd9\u6837\u4f7f\u7528\u8005\u53ef\u4ee5\u5c06\u66f4\u591a\u7cbe\u529b\u653e\u5728\u7b56\u7565\u5f00\u53d1\u4e0a\u3002</p> <p>\u6280\u672f\u503a\u52a1</p> Info <p>\u4ece\u6280\u672f\u4e0a\u770b\uff0cPython\u793e\u533a\u4e00\u76f4\u5728\u8fdb\u6b65\uff0c\u4e00\u4e9b\u4ea7\u54c1\u8d77\u6b65\u65e9\uff0c\u67b6\u6784\u9501\u5b9a\u5728\u4e86\u4e00\u4e9b\u9648\u65e7\u7684\u6280\u672f\u6808\u4e0a\uff0c\u4ea7\u751f\u4e86\u6280\u672f\u503a\u52a1\u3002</p> <p>\u91cf\u5316\u4ea4\u6613\u6846\u67b6\u7684\u4f7f\u7528\u8005\u5f80\u5f80\u90fd\u8981\u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\u3002\u5728\u4e8c\u6b21\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u65e0\u5f62\u4e2d\u5c06\u81ea\u5df1\u7684\u6280\u672f\u6808\u9501\u5b9a\u5728\u4e86\u8fd9\u4e9b\u8001\u65e7\u7684\u6280\u672f\u4e0a\u3002\u8fd9\u5bf9\u4e8c\u6b21\u5f00\u53d1\u8005\u6765\u8bf4\u4e5f\u662f\u4e0d\u516c\u5e73\u7684\u3002</p> <p>\u5982\u4e00\u4e9b\u4ea7\u54c1\u65e0\u8bba\u662f\u8bfb\u672c\u5730\u6570\u636e\uff08\u4ece\u6570\u636e\u5e93\u4e2d\u8bfb\uff09\u8fd8\u662f\u8bfb\u8fdc\u7a0b\u6570\u636e\uff0c\u90fd\u5728\u4f7f\u7528\u540c\u6b65IO\uff0c\u8fd9\u5bf9\u4e8e\u4f7f\u7528Python\u4f5c\u4e3a\u5f00\u53d1\u8bed\u8a00\u7684\u5e94\u7528\u6765\u8bf4\uff0c\u8fd9\u662f\u4e25\u91cd\u7684\u6027\u80fd\u8bbe\u8ba1\u7f3a\u9677\u3002Python\u80fd\u5229\u7528\u7684\u4e3a\u6570\u4e0d\u591a\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u5f80\u5f80\u88ab\u6d88\u8017\u5728IO\u7b49\u5f85\u4e0a\u4e86\u3002</p> <p>\u54c1\u63a7</p> Info <p>\u4e00\u4e9b\u5546\u4e1a\u9879\u76ee\u7684\u54c1\u63a7\u65e0\u6cd5\u8bc4\u4f30\uff0c\u4f46\u5982\u679c\u5f00\u6e90\u9879\u76ee\u672a\u4f7f\u7528CI\uff0c\u6ca1\u6709\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\uff0c\u5c3d\u7ba1\u5f00\u6e90\u4e86\uff0c\u4e5f\u5f88\u96be\u8bc4\u4f30\u5176\u54c1\u63a7\u3002</p> <p>\u56e0\u6b64\uff0c\u4f5c\u8005\u51b3\u5b9a\u81ea\u884c\u5f00\u53d1\u4e00\u4e2a\u6846\u67b6\uff0c\u81f4\u529b\u4e8e\u89e3\u51b3\u4e0a\u8ff0\u51e0\u4e2a\u65b9\u9762\u7684\u95ee\u9898\uff0c\u5e76\u4e14\u5728\u4ea4\u6613\u7b56\u7565\u4e0a\u5f15\u5165\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u3002</p> <p>\u5f53\u7136\uff0c\u7531\u4e8e\u4e2a\u4eba\u6280\u672f\u80fd\u529b\u548c\u773c\u754c\u6240\u9650\uff0c\u5927\u5bcc\u7fc1\u4e5f\u80af\u5b9a\u5b58\u5728\u5404\u79cd\u4e0d\u8db3\u3002\u662f\u5426\u8fbe\u5230\u4e86\u4f5c\u8005\u7684\u9884\u671f\uff0c\u4e5f\u9700\u8981\u7528\u6237\u7684\u8bc4\u4ef7\u3002</p>"},{"location":"articles/products/1.0/#_2","title":"\u5927\u5bcc\u7fc1\u6709\u54ea\u4e9b\u6280\u672f\u7279\u70b9\uff1f","text":"<p>\u9ad8\u6027\u80fd     \u4e3a\u4e86\u786e\u4fdd\u5927\u5bcc\u7fc1\u7684\u9ad8\u6027\u80fd\uff0c\u4f5c\u8005\u4ece\u67b6\u6784\u3001\u7ec4\u4ef6\u9009\u578b\u5230\u7b97\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u505a\u4e86\u8f83\u6df1\u5165\u7684\u601d\u8003\uff0c\u5e76\u4ece\u4ea7\u54c1\u5b9a\u4f4d\u89d2\u5ea6\u4e0a\u505a\u4e86\u53d6\u820d\u3002</p> Info <p>\u5927\u5bcc\u7fc1\u67b6\u6784\u5728\u591a\u8fdb\u7a0b\u3001\u5206\u5e03\u5f0f\u5fae\u670d\u52a1\u57fa\u7840\u4e4b\u4e0a\uff0c\u4f7f\u7528\u4e86\u6d88\u606f\u961f\u5217\u3001\u8d1f\u8f7d\u5747\u8861\u3001\u7f13\u5b58\uff08\u5185\u5b58\uff09\u6570\u636e\u5e93\u7b49\u6280\u672f\u3002\u5728\u884c\u60c5\u540c\u6b65\uff08\u5b9e\u65f6\u548c\u975e\u5b9e\u65f6\uff09\u65f6\uff0c\u90fd\u4f7f\u7528\u4e86\u591a\u8fdb\u7a0b\u534f\u4f5c\u6a21\u5f0f\uff0c\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u7f51\u7edc\u5e76\u53d1\u91cf\u3002\u5728\u8fdb\u7a0b\u534f\u4f5c\u65b9\u9762\uff0c\u65e2\u6709\u8d1f\u8f7d\u5747\u8861\u6a21\u5f0f\uff08\u901a\u8fc7nginx)\uff0c\u4e5f\u6709\u5e76\u884c\u6a21\u5f0f(\u5185\u7f6e\u6d88\u606f\u673a\u5236\u652f\u6301\uff09\u3002</p> <p>\u5728\u7f51\u7edc\u7ec4\u4ef6\u65b9\u9762\u5c3d\u53ef\u80fd\u4f7f\u7528\u652f\u6301\u5f02\u6b65IO\u7684\u7b2c\u4e09\u65b9\u7ec4\u4ef6\u3002\u6bd4\u5982\u8bbf\u95eeRedis\u6570\u636e\u5e93\u65f6\uff0c\u4f7f\u7528\u4e86aioredis\uff1b\u8bbf\u95ee\u6570\u636e\u5e93\u65f6\uff0c\u4f7f\u7528\u4e86asyncpg\u3002</p> <p>\u5728\u5bf9\u4e3b\u8981\u7684\u6570\u636e\u79cd\u7c7b--\u884c\u60c5\u6570\u636e\u7684\u6df1\u5165\u7814\u7a76\u540e\uff0c\u6839\u636e\u6570\u636e\u7684\u5206\u5e03\u548c\u5904\u7406\u52a0\u5de5\u7279\u70b9\uff0c\u51b3\u5b9a\u4f7f\u7528Redis\u6765\u6301\u4e45\u5316\u4fdd\u5b58\u884c\u60c5\u6570\u636e\uff1b\u4f7f\u7528Numpy\u7684\u7ed3\u6784\u5316\u6570\u7ec4\u6765\u4f5c\u4e3a\u884c\u60c5\u6570\u636e\u7684\u5185\u5b58\u8868\u793a--\u5176\u5b83\u6846\u67b6\u4e00\u822c\u4f7f\u7528\u7684\u662fPandas\u3002\u5173\u4e8e\u4e3a\u4f55\u8fd9\u6837\u7684\u9009\u62e9\uff0c\u8bf7\u53c2\u8003[[TODO]]\u3002</p> <p>\u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u4ece\u8fd0\u8425\u7684\u89d2\u5ea6\u4e0d\u65ad\u8fdb\u884c\u4f18\u5316\u3002\u6bd4\u5982\u521d\u6b21\u5b89\u88c5\u540e\u7684\u6570\u636e\u5bfc\u5165\uff0c\u7531\u4e8e\u6211\u4eec\u4f7f\u7528\u4e86CDN\u52a0\u901f\u548c\u591a\u8fdb\u7a0b\u6a21\u5f0f\uff0c\u5728\u5927\u5bcc\u7fc1\u4e2d\u5bfc\u5165\u4e00\u5e74A\u80a1\u7684\u6570\u636e\uff08\u542b30\u5206\u949f\u53ca\u4ee5\u4e0aK\u7ebf\uff09\uff0c\u53ea\u9700\u8981170 ~ 240\u79d2\u4e4b\u95f4\uff08\u53d6\u51b3\u4e8e\u4f60\u7684CPU\u6838\u5fc3\u6570\u548c\u7f51\u7edc\u5e26\u5bbd\uff09\u3002\u5982\u679cCPU\u6838\u6570\u8db3\u591f\u591a\uff0c\u5219\u5bfc\u5165\u51e0\u5e74\u7684\u6570\u636e\uff0c\u4e5f\u5927\u6982\u572815~20\u5206\u949f\u4ee5\u5185\uff08\u5b9e\u6d4b\u4e2d\u5bfc\u516570\u4e2a\u6708\u7684\u6570\u636e\uff0c\u4e5f\u53ea\u7528\u4e86776\u79d2\u3002\u5171\u4f7f\u7528\u4e8632\u4e2a\u8fdb\u7a0b\uff09\u3002\u8fd9\u4e9b\u6570\u636e\u4eca\u540e\u8fd8\u4f1a\u6301\u7eed\u4f18\u5316\uff0c\u4ee5\u4f7f\u5f97\u5b83\u4eec\u5728\u8f83\u4f4e\u914d\u7f6e\u7684\u7535\u8111\u4e0a\u4e5f\u53ef\u4ee5\u53d6\u5f97\u8f83\u597d\u7684\u901f\u5ea6\u3002\u5173\u4e8e\u5927\u5bcc\u7fc1\u7684\u901f\u5ea6\uff0c\u5bf9\u6bd4\u4f7f\u7528\u8fc7\u5176\u5b83\u4ea7\u54c1\u7684\u7528\u6237\u53ef\u80fd\u6709\u8f83\u6df1\u7684\u611f\u89e6\u3002</p> <p>\u6613\u7528\u6027\u548c\u54c1\u63a7      \u57281.0\u53d1\u5e03\u4e4b\u524d\uff0c\u5927\u5bcc\u7fc1\u65e9\u671f\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u7ec4\u4ef6\u90fd\u7ecf\u8fc7\u4e86\u591a\u6b21\u91cd\u5199\uff0c\u4ee5\u786e\u4fdd\u529f\u80fd\u5f97\u5230\u6070\u5f53\u89e3\u8026\u548c\u805a\u5408\uff0c\u4ee5\u4fdd\u8bc1API\u7684\u7a33\u5b9a\u6027\u548c\u6613\u8bfb\u6027\u3002</p> Info <p>\u5982\u679c\u60a8\u6709\u673a\u4f1a\u6df1\u5165\u7814\u7a76\u4e00\u4e0b\u5927\u5bcc\u7fc1\u7684\u5f00\u53d1\u5de5\u5177\u94fe\uff0c\u60a8\u4f1a\u53d1\u73b0\u54c1\u63a7\u53d1\u751f\u5728\u4ece\u4ee3\u7801\u63d0\u4ea4\u3001\u5355\u5143\u6d4b\u8bd5\u5230\u6301\u7eed\u96c6\u6210\u7684\u5404\u4e2a\u73af\u3002</p> <p>\u4e3a\u4fc3\u8fdb\u5927\u5bcc\u7fc1\u5f00\u6e90\u793e\u533a\u7684\u6d3b\u8dc3\uff0c\u4f5c\u8005\u53d1\u5e03\u4e86\u4e00\u7cfb\u5217\u6587\u7ae0\u6765\u4ecb\u7ecdPython\u5f00\u53d1\u7684\u5de5\u5177\u94fe\uff0c\u8bf7\u53c2\u8003[[TODO]]</p> <p>\u5728\u90e8\u7f72\u65b9\u9762\uff0c\u6211\u4eec\u652f\u6301\u865a\u62df\u5316\u90e8\u7f72\u548cpip\u5b89\u88c5\u4e24\u79cd\u6a21\u5f0f\u3002\u865a\u62df\u5316\u90e8\u7f72\u4e00\u952e\u5168\u81ea\u52a8\uff0cpip\u5b89\u88c5\u6a21\u5f0f\u5219\u5728\u5b89\u88c5\u4e4b\u540e\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5b89\u88c5\u5411\u5bfc\u6765\u5f15\u5bfc\u7528\u6237\u8fdb\u884c\u914d\u7f6e\uff0c\u6574\u4e2a\u8fc7\u7a0b\u90fd\u6bd4\u8f83\u7b80\u5355\u3002</p> <p>\u4e0e\u793e\u533a\u6700\u65b0\u6280\u672f\u4fdd\u6301\u540c\u6b65</p> Info <p>\u6700\u521dZillionare\u4f7f\u7528\u4e86cookie-cutter\u7684pyproject\u6a21\u677f\u6765\u642d\u5efa\u5f00\u53d1\u6846\u67b6\u3002\u8fd9\u4e2a\u6a21\u677f\u4f7f\u7528\u4e86makefile, pip\u548crequirements\u6587\u4ef6\u6765\u7ba1\u7406\u4f9d\u8d56\u548c\u6784\u5efa\u5de5\u7a0b\uff0c\u4f7f\u7528twine\u6765\u53d1\u5e03\uff1b\u4f7f\u7528tox, pytest\u7b49\u51e0\u79cdlint tools\u7b49\u5de5\u5177\u6765\u8fdb\u884c\u54c1\u63a7\uff0c\u4f7f\u7528sphinx\u6765\u6784\u5efa\u6587\u6863\u3002</p> <p>\u5728\u4f9d\u8d56\u7ba1\u7406\u4e0a\uff0c\u6211\u4eec\u53d1\u73b0\u793e\u533a\u6b63\u5728\u5f80\u65b0\u7684\u6807\u51c6\u548c\u5de5\u5177\u4e0a\u8fc1\u79fb\u3002\u6bd4\u5982\u5b8c\u5168\u9075\u5faaPEP517\u7684\u6807\u51c6\u7684Poetry\u5df2\u7ecf\u6210\u4e3a\u4e86\u5f53\u524d\u793e\u533a\u9009\u62e9\u7684\u4f9d\u8d56\u3001\u6784\u5efa\u53ca\u7248\u672c\u7ba1\u7406\u5de5\u5177\u3002\u56e0\u6b64\uff0cZillionare\u5728\u53bb\u5e7411\u6708\u5b8c\u5168\u6362\u6389\u4e86\u6784\u5efa\u6846\u67b6\u3002</p> <p>\u6587\u6863\u5de5\u5177\u4e5f\u66ff\u6362\u6210\u4e86mkdocs,\u4ee5\u53cd\u6620markdown\u683c\u5f0f\u66f4\u53d7\u4f5c\u8005\u3001\u8bfb\u8005\u559c\u6b22\u7684\u73b0\u5b9e\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u52a0\u5165\u4e86Travis CI\u548cCodecov\u6765\u8fdb\u884c\u6301\u7eed\u96c6\u6210\u3002\u4f7f\u7528\u4e86pre-commit-hooks\u6765\u4fdd\u8bc1\u7b7e\u5165\u4ee3\u7801\u7684\u8d28\u91cf\u3002\u57281.0\u53d1\u5e03\u4e4b\u524d\uff0c\u8fd9\u4e2a\u6d4b\u8bd5\u8986\u76d6\u7387\u5df2\u7ecf\u8fbe\u5230\u4e8693%\u3002</p> <p>\u4eca\u540e\u5927\u5bcc\u7fc1\u5c06\u7ee7\u7eed\u575a\u6301\u8fd9\u6837\u7684\u6280\u672f\u5b9a\u4f4d\uff0c\u540c\u65f6\u5728\u9879\u76ee\u53d1\u5e03\u4e0a\u529b\u6c42\u66f4\u52a0\u89c4\u8303\u3002\u6211\u4eec\u4f1a\u901a\u8fc7RFC\u7684\u65b9\u5f0f\u6765\u786e\u5b9a\u9879\u76ee\u7684\u65b9\u5411\uff0c\u7ea6\u5b9aAPI\u63a5\u53e3\uff0c\u5e76\u6280\u672f\u901a\u8fc7\u6d4b\u8bd5\u8986\u76d6\u6765\u4fdd\u8bc1\u63a5\u53e3\u7684\u53ef\u7528\u6027\u3002</p> <p>\u4eba\u5de5\u667a\u80fd\u5bfc\u5411 </p> Info <p>\u5c3d\u7ba1\u5927\u5bcc\u7fc1\u7684\u4eba\u5de5\u667a\u80fd\u529f\u80fd\u76ee\u524d\u8fd8\u5728\u5b9e\u73b0\u4e2d\uff0c\u4f46\u6211\u4eec\u7684\u5404\u9879\u8bbe\u8ba1\u5145\u5206\u53cd\u6620\u4e86\u4eba\u5de5\u667a\u80fd\u4f18\u5148\u7684\u5bfc\u5411\u3002\u6bd4\u5982\u6211\u4eec\u8bbe\u8ba1\u4e2d\u66f4\u4f18\u5148\u52a8\u91cf\u7b56\u7565\uff0c\u5bf9\u6587\u672c\u548c\u8d22\u52a1\u6570\u636e\u5219\u5173\u6ce8\u5ea6\u4e0d\u591f\u3002\u539f\u56e0\u662f\uff0c\u76ee\u524d\u4eba\u5de5\u667a\u80fd\u5728\u6587\u672c\u5206\u6790\u4e0a\u8fd8\u4e0d\u662f\u7279\u522b\u6709\u628a\u63e1\uff0c\u540c\u65f6\u4f9d\u9760\u6d88\u606f\u7092\u80a1\uff0c\u786e\u5b9a\u6027\u4e5f\u4e0d\u9ad8\u3002\u8d22\u52a1\u6570\u636e\u4e5f\u6709\u7c7b\u4f3c\u7684\u95ee\u9898\u3002\u76ee\u524d\u4eba\u5de5\u667a\u80fd\u8868\u73b0\u6700\u597d\u7684\uff0c\u5c31\u662f\u5728\u52a8\u91cf\u7b56\u7565\u8fd9\u4e00\u5757\uff0c\u6240\u4ee5\u8fd9\u4e5f\u662f\u5927\u5bcc\u7fc1\u7684\u91cd\u70b9\u3002</p> <p>\u5bf9\u4e8e\u91cf\u5316\u56e0\u5b50\uff0c\u6211\u4eec\u4e0d\u8c61\u4f20\u7edf\u7684\u91d1\u878d\u5de5\u7a0b\u90a3\u6837\uff0c\u628a\u5b83\u770b\u6210\u80fd\u901a\u8fc7\u7b80\u5355\u7ec4\u5408\u5c31\u80fd\u4e0b\u91d1\u86cb\u7684\u6bcd\u9e21\uff0c\u800c\u662f\u628a\u66f4\u591a\u5730\u628a\u5b83\u5f53\u6210\u673a\u5668\u5b66\u4e60\u548c\u6df1\u5ea6\u5b66\u4e60\u7684\u6570\u636e\u9884\u5904\u7406\u548c\u7279\u5f81\u63d0\u53d6\u5de5\u4f5c\u3002\u8fd9\u4e5f\u53cd\u6620\u4e86\u6211\u4eec\u5728\u8bbe\u8ba1\u4e0a\u7684\u4eba\u5de5\u667a\u80fd\u5bfc\u5411\u3002\u6211\u60f3\u8fd9\u4e5f\u662f\u4e00\u4e2a\u6b63\u786e\u7684\u5bfc\u5411\u3002</p> <p>\u5b8c\u5584\u548c\u8be6\u5c3d\u7684\u5e2e\u52a9\u6587\u6863</p> Info <p>\u5927\u5bcc\u7fc1\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u6587\u6863\uff0c\u5305\u62ec\u65b0\u624b\u6307\u5357\uff0c\u6559\u7a0b\u548c\u8be6\u5c3d\u7684API\u6587\u6863\u3002</p> <p>\u9664\u4e86\u8fd9\u4e24\u4e2a\u7279\u70b9\u4ee5\u5916\uff0c\u4f5c\u8005\u8fd8\u529b\u6c42\u5728\u6587\u6863\u4e2d\u65e2\u8bb2\u662f\u4ec0\u4e48\uff0c\u66f4\u8bb2\u4e3a\u4ec0\u4e48\uff0c\u591a\u8bb2\u4e00\u4e9b\u6280\u672f\u51b3\u5b9a\u80cc\u540e\u7684\u601d\u8003\uff0c\u8fd9\u6837\u8bfb\u8005\u4f1a\u66f4\u5bb9\u6613\u7406\u89e3\u548c\u53d8\u901a\u3002</p>"},{"location":"articles/products/1.0/#_3","title":"\u5927\u5bcc\u7fc1\u9002\u5408\u54ea\u4e9b\u7528\u6237\uff1f","text":"<ol> <li>\u5927\u5bcc\u7fc1\u7684\u5b9a\u4f4d\u662f\u4e3aA\u80a1\u5e02\u573a\u63d0\u4f9b\u91cf\u5316\u4ea4\u6613\u5de5\u5177\u548c\u7b56\u7565\uff0c\u91cd\u70b9\u662f\u52a8\u91cf\u7c7b\u7b56\u7565\u3002\u5927\u5bcc\u7fc1\u76ee\u524d\u6ca1\u6709\u63a5\u5165\u671f\u8d27\u548c\u6570\u5b57\u8d27\u5e01\u7684\u8003\u8651\u3002</li> <li>\u9ad8\u9891\u5957\u5229\u4ea4\u6613\u4e5f\u4e0d\u662f\u5927\u5bcc\u7fc1\u7684\u5173\u6ce8\u9886\u57df--\u8fd9\u4e2a\u9886\u57df\u66f4\u591a\u5730\u7684\u662f\u62fc\u786c\u4ef6\u548c\u7f51\u901f\uff0c\u6216\u8005\u4ece\u6839\u672c\u4e0a\u8bf4\uff0c\u662f\u62fc\u8d44\u672c\uff0c\u7b97\u6cd5\u548c\u7b56\u7565\u53ef\u80fd\u5728\u8fd9\u4e2a\u9886\u57df\u4e0d\u5360\u4e3b\u5bfc\u5730\u4f4d\u3002\u5927\u5bcc\u7fc1\u5b9a\u4f4d\u4e8e\u670d\u52a1\u590d\u6742\u7684A\u80a1\u5e02\u573a\uff0c\u4e3aA\u80a1\u5e02\u573a\u5e26\u6765\u5f00\u6e90\u7684\u4eba\u5de5\u667a\u80fd\u6280\u672f\u3002\u5927\u5bcc\u7fc1\u7684\u67b6\u6784\u8bbe\u8ba1\u4e3a\u5904\u7406\u5206\u949f\u7ea7\u522b\u4ee5\u4e0a\u7684\u884c\u60c5\u6570\u636e\u3002\u6211\u4eec\u8ba4\u4e3a\uff0c\u5bf9Tick\u7ea7\u522b\u7684\u6570\u636e\u8fdb\u884c\u6df1\u5ea6\u5b66\u4e60\u56fa\u7136\u6709\u5176\u610f\u4e49\uff0c\u4f46\u8fd9\u4e00\u9886\u57df\u5e94\u8be5\u8fd8\u662f\u5957\u5229\u4ea4\u6613\u4e3a\u4e3b\u3002</li> <li>\u5927\u5bcc\u7fc1\u63d0\u4f9b\u7684\u5386\u53f2\u884c\u60c5\u6570\u636e\u4ece2015\u5e74\u5f00\u59cb\uff0c\u76ee\u524d\u5305\u62ec\u4e86\u6240\u6709\u7684\u80a1\u796830\u5206\u949f\u53ca\u4ee5\u4e0a\u7684\u884c\u60c5\u6570\u636e\u3002</li> <li>\u91cf\u5316\u4ea4\u6613\u6846\u67b6\u7684\u7528\u6237\u5f80\u5f80\u90fd\u6709\u81ea\u5df1\u8fdb\u884c\u4e8c\u6b21\u5f00\u53d1\u7684\u9700\u6c42\u3002\u5927\u5bcc\u7fc1\u7684\u6280\u672f\u9009\u578b\u7684\u5148\u8fdb\u6027\u548c\u89c4\u8303\u6027\uff0c\u4fdd\u8bc1\u4e86\u7528\u6237\u7684\u6295\u5165\u5728\u672a\u6765\u8f83\u957f\u7684\u65f6\u95f4\u5185\u90fd\u4f1a\u6709\u6548\u3002</li> <li>\u4ece\u6280\u672f\u6808\u89d2\u5ea6\u6765\u8bf4\uff0c\u5927\u5bcc\u7fc1\u4f7f\u7528\u7eafPython\u5f00\u53d1\u3002\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u9650\u5b9a\u4e3aUbuntu &gt; 18\u3002\u5982\u679c\u5bf9\u8fd9\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u592a\u719f\u6089\u7684\u7528\u6237\uff0c\u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u63d0\u4f9b\u7684\u5bb9\u5668\u5316\u90e8\u7f72\u65b9\u5f0f\u6765\u90e8\u7f72\u3002</li> </ol> <p>\u76f8\u5bf9\u4e8e\u5176\u5b83\u4ea7\u54c1\u800c\u8a00\uff0c\u5927\u5bcc\u7fc1\u7684\u529f\u80fd\u9762\u6536\u5f97\u6bd4\u8f83\u7d27\uff0c\u6211\u4eec\u66f4\u5e0c\u671b\u4fdd\u6301\u4e13\u6ce8\uff0c\u96c6\u4e2d\u7cbe\u529b\u628a\u4e8b\u60c5\u505a\u597d\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/","title":"\u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3","text":"<p>\u3010\u76ee\u5f55\u3011</p> <ul> <li>1.1. \u5b89\u88c5</li> <li>1.2. \u7533\u8bf7\u6743\u9650</li> <li>1.3. \u6a21\u62df\u548c\u6d4b\u8bd5</li> <li>1.3.1. \u914d\u7f6e\u8d26\u53f7<ul> <li>1.3.1.1. gmadaptor\u7684\u914d\u7f6e\u6587\u4ef6</li> <li>1.3.1.2. \u914d\u7f6eEMC</li> </ul> </li> <li>1.3.2. \u6a21\u62df\u8fd0\u884c</li> <li>1.4. \u8fd0\u884c\u548c\u7ef4\u62a4</li> <li>1.4.1. \u542f\u52a8</li> <li>1.4.2. \u6bcf\u65e5\u7ef4\u62a4</li> <li>2.1. \u5ba2\u6237\u7aef\u8bf7\u6c42</li> <li>2.2. \u8fd4\u56de\u7ed3\u679c</li> <li>2.3. \u8d44\u4ea7\u8868</li> <li>2.4. \u6301\u4ed3\u8868</li> <li>2.5. \u9650\u4ef7\u4e70\u5165</li> <li>2.6. \u5e02\u4ef7\u4e70\u5165</li> <li>2.7. \u9650\u4ef7\u5356\u51fa</li> <li>2.8. \u5e02\u4ef7\u5356\u51fa</li> <li>2.9. \u53d6\u6d88\u59d4\u6258</li> <li>2.10. \u67e5\u8be2\u5f53\u65e5\u59d4\u6258</li> <li>\u64ae\u5408\u914d\u7f6e\u89c4\u5219</li> <li>\u8054\u7cfb\u65b9\u5f0f</li> </ul>"},{"location":"articles/products/gm-adaptor-installation/#1","title":"1. \u5b89\u88c5\u4e0e\u914d\u7f6e","text":""},{"location":"articles/products/gm-adaptor-installation/#11","title":"1.1. \u5b89\u88c5","text":"<ol> <li> <p>\u5728windows\u673a\u5668\u4e0a\u5b89\u88c5https://emt.eastmoneysec.com/down\uff0c\u4e0b\u8f7d\u5e76\u5b89\u88c5\u7b2c\u4e8c\u4e2a\u8f6f\u4ef6\uff1a </p> </li> <li> <p>\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u5b89\u88c5conda\uff0c\u63a8\u8350\u5b89\u88c5miniconda\uff0c\u5e76\u521b\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\uff08python\u7248\u672c3.8\uff09\uff1a    <pre><code>conda create -n gmclient python=3.8\n</code></pre></p> </li> <li>\u5b89\u88c5gmadaptor:     <pre><code>pip install gmadaptor-1.1.3-py3-none-any.whl\n</code></pre></li> </ol>"},{"location":"articles/products/gm-adaptor-installation/#12","title":"1.2. \u7533\u8bf7\u6743\u9650","text":"<p>\u8bf7\u52a0\u5165\u4e1c\u65b9\u8d22\u5bcc\u91cf\u5316\u4eff\u771f\u4ea4\u6d41\u7fa4\uff1a971584613 \uff0c\u627e\u7ba1\u7406\u5458\u7533\u8bf7\u5f00\u901a\u91cf\u5316\u5b9e\u76d8\u6743\u9650\u3002\u8bf7\u5148\u770b\u7fa4\u7f6e\u9876\u6587\u4ef6\u3002 \u5f00\u901a\u7684\u4e3b\u8981\u95e8\u69db\u662f\u8981\u6c42100\u4e07\u521d\u59cb\u8d44\u91d1\u3002\u5f00\u901a\u540e\u53ef\u4ee5\u64a4\u8d44\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#13","title":"1.3. \u6a21\u62df\u548c\u6d4b\u8bd5","text":"<p>\u5728\u7b49\u5f85\u5b9e\u76d8\u6743\u9650\u5f00\u901a\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 https://emt.18.cn/apply/test-apply-client \u5f00\u901a\u6a21\u62df\u8d26\u53f7\uff0c\u5148\u628a\u7a0b\u5e8f\u548c\u914d\u7f6e\u8c03\u901a\u3002</p> <p>\u7533\u8bf7\u540e\uff0c\u8bb0\u5f55\u666e\u901a\u8d44\u91d1\u8d26\u53f7\u548c\u5bc6\u7801\uff0c\u5982\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5728\u767b\u5f55\u754c\u9762\u4e2d\uff0c\u9009\u62e9\u4eff\u771f\u4ea4\u6613\uff1a</p> <p></p> <p>\u767b\u5f55\u540e\uff0c\u754c\u9762\u663e\u793a\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"articles/products/gm-adaptor-installation/#131","title":"1.3.1. \u914d\u7f6e\u8d26\u53f7","text":"<p>\u4ee5\u4e0b\u6b65\u9aa4\u5bf9\u5b9e\u76d8\u548c\u6a21\u62df\u76d8\u5747\u6709\u6548\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#1311-gmadaptor","title":"1.3.1.1. gmadaptor\u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>\u9700\u8981\u5c06\u91cf\u5316\u8f6f\u4ef6\u4e2d\u7684\u5b9e\u76d8\u8d26\u53f7\u914d\u7f6e\u5230gmadaptor\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u5728\u7528\u6237\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa<code>gmadaptor/config</code>\u76ee\u5f55\uff0c\u653e\u7f6e\u4ee5\u4e0b\u6587\u4ef6\uff1a <pre><code># defaults.yaml\nlog_level: INFO\n\nserver_info:\n    port: 9000\n    # client \u4f7f\u7528\u8fd9\u4e00token\u6765\u8bbf\u95ee gmadaptor \u63d0\u4f9b\u7684\u670d\u52a1\n    access_token : \"84ae0899-7a8d-44ff-9983-4fa7cbbc424b\"\n\ngm_info:\n    fake: false\n    # \u6587\u4ef6\u5355\u8f93\u51fa\u76ee\u5f55\n    gm_output: \"~/gmadaptor/FileOrders/out\"\n    trade_fees:\n        commission: 2.5\n        stamp_duty: 10.0\n        transfer_fee: 0.1\n        minimum_cost: 5.0\n    accounts:\n        # \u8d26\u53f7\u540d\n        - name: fileorder_s01\n          acct_id: 1a66e81c-ae5d-11ec-aef5-00163e0a4100\n          # \u6587\u4ef6\u5355\u8f93\u5165\u76ee\u5f55\u3002\u4e1c\u8d22\u91cf\u5316\u7ec8\u7aef\u5c06\u4ece\u8fd9\u91cc\u8bfb\u53d6\u6587\u4ef6\u5355\n          acct_input: \"~/gmadaptor/FileOrders/inputs/fileorder_s01\"\n</code></pre> \u4e0a\u8ff0\u914d\u7f6e\u4e2d\uff0caccess_token \u53ef\u4efb\u610f\u6307\u5b9a\uff0c\u4efb\u4f55\u8981\u8bbf\u95ee\u6b64\u670d\u52a1\u7684\u5ba2\u6237\u7aef\uff0c\u5fc5\u987b\u6301\u6709\u6b64 token\u3002</p> <p>gm_output/acct_input \u6587\u4ef6\u8bbe\u7f6e\u540e\uff0c\u5982\u679c\u672a\u521b\u5efa\uff0cgmadaptor \u5c06\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u521b\u5efa\uff0c\u8bf7\u786e\u4fdd gmadaptor \u6709\u6743\u9650\u8bfb\u5199\u8fd9\u4e9b\u6587\u4ef6\u5939\u3002</p> <p>accounts &gt; name \u4e2d\u7684\u503c\u6765\u81ea\u4e8e\u5728 EMC \u7ec8\u7aef\u4e2d\uff0c\u60a8\u521b\u5efa\u6587\u4ef6\u5355\u8f93\u5165\u65f6\uff0c\u6307\u5b9a\u7684\u540d\u79f0\uff0c\u89c1\u4e0b\u56fe\u4e2d\u7684\u5e8f\u53f72\uff1a</p> <p></p> <p>accounts &gt; acct_id \u6765\u81ea\u4e8e\u4e0b\u9762\u5e8f\u53f73\u7684\u4f4d\u7f6e\uff0c\u70b9\u51fb<code>ID</code>\u5373\u53ef\u590d\u5236\uff1a</p> <p></p>"},{"location":"articles/products/gm-adaptor-installation/#1312-emc","title":"1.3.1.2. \u914d\u7f6eEMC","text":"<p>\u5728 \u91cf\u5316 &gt; \u6587\u4ef6\u5355 &gt; \u6587\u4ef6\u5355\u8f93\u51fa \u4e2d\uff0c\u5bf9\u4e0b\u56fe\u4e2d\u7684 4\uff0c5\uff0c6\uff0c7 \u8fdb\u884c\u914d\u7f6e\u3002\u5176\u4e2d4\u9009\u62e9\u6211\u4eec\u5728\u4e0a\u9762\u914d\u7f6e\u6587\u4ef6\u4e2dgm_output\u4e2d\u8bbe\u7f6e\u7684\u8def\u5f84\uff1b5\u9009\u62e9<code>csv</code>\u4f5c\u4e3a\u8f93\u51fa\u683c\u5f0f\uff1b6\u9009\u62e9\u81ea\u52a8\u542f\u52a8\uff1b7\u5c06\u6240\u6709\u9879\u76ee\u5168\u9009\u4e2d\u3002</p> <p></p> <p>\u5728 \u91cf\u5316 &gt; \u6587\u4ef6\u5355 &gt; \u6587\u4ef6\u5355\u8f93\u5165 \u4e2d\uff0c\u5bf9\u4e0b\u56fe\u4e2d\u7684 3\u548c4\u8fdb\u884c\u914d\u7f6e\u3002\u5176\u4e2d3\u9009\u62e9\u6211\u4eec\u5728\u4e0a\u9762\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684 acct_input \u8def\u5f84\uff0c4\u9009\u62e9\u81ea\u52a8\u542f\u52a8\u3002</p> <p></p>"},{"location":"articles/products/gm-adaptor-installation/#132","title":"1.3.2. \u6a21\u62df\u8fd0\u884c","text":"<p>\u5728\u524d\u9762\u751f\u6210\u7684gmclient\u865a\u62df\u73af\u5883\u4e2d\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4ee5\u542f\u52a8gmadaptor\u670d\u52a1\u5668\uff1a <pre><code>python -m gmadaptor.server\n</code></pre> \u5982\u679c\u51fa\u73b0\u5982\u4e0b\u754c\u9762\uff0c\u8868\u660e\u670d\u52a1\u5668\u542f\u52a8\u6210\u529f\uff1a</p> <p></p> <p>\u6b64\u65f6\u6211\u4eec\u53e6\u5f00\u4e00\u4e2a<code>conda</code>\u7a97\u53e3\uff0c\u540c\u6837\u4f7f\u7528<code>gmclient</code>\u7684\u865a\u62df\u73af\u5883\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u6d4b\u8bd5: <pre><code>python -m gmtest %account %token %server %port\n</code></pre></p> <p>\u8fd9\u91cc\u7684account\u5373 gmadaptor\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 gm_info &gt; accounts &gt; account_id, token \u5373server_info &gt; access_token</p> <p>\u8fd9\u91cc\u7684 server \u5373gmadaptor \u6240\u5728\u7684\u673a\u5668IP\uff0c port\u4e3a\u7aef\u53e3\u3002\u5982\u679c\u4e0d\u63d0\u4f9b\uff0c\u9ed8\u8ba4\u5730\uff0c\u8fd9\u4e24\u9879\u5206\u522b\u4e3alocalhost\u548c9000\u3002</p> <p>\u5982\u679c\u914d\u7f6e\u6b63\u5e38\uff0c\u8fd9\u5c06\u6253\u5370\u51fa\u521d\u59cb\u8d26\u53f7\u8d44\u91d1\uff0c\u5f53\u524d\u6301\u4ed3\uff0c\u548c\u4e00\u7b14\u4e70\u3001\u5356\u7684\u4fe1\u606f\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#14","title":"1.4. \u8fd0\u884c\u548c\u7ef4\u62a4","text":"<p>\u53e6\u5916\u542f\u52a8\u4e00\u4e2a\u8ba1\u5212\u4efb\u52a1\uff0c\u5728\u6bcf\u5929\u65e9\u4e0a8:45\u5de6\u53f3\u542f\u52a8EMC\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#141","title":"1.4.1. \u542f\u52a8","text":"<p>\u4f7f\u7528\u4e0b\u9762\u7684\u811a\u672c\u6765\u542f\u52a8\uff1a <pre><code>@echo off\ncall C:\\ProgramData\\Anaconda3\\Scripts\\activate.bat C:\\ProgramData\\anaconda3\ncall conda activate gmclient\npython -m gmadaptor.server\npause\n</code></pre></p>"},{"location":"articles/products/gm-adaptor-installation/#142","title":"1.4.2. \u6bcf\u65e5\u7ef4\u62a4","text":"<p>EMC\u91cf\u5316\u7ec8\u7aef\u6709\u65f6\u5019\u4e0d\u7a33\u5b9a\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b9a\u65f6\u91cd\u542f\u6765\u63d0\u9ad8\u8d77\u7a33\u5b9a\u6027\u3002\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\uff0c\u5728\u76d8\u540e\u9000\u51faEMC\uff1a <pre><code>REM kill process\nTASKKILL /F /IM EMCTrade.exe\n\nREM sleep 5 seconds\nTIMEOUT  /T 5\n\nREM remove all file orders after process killed\n\nDEL /Q C:\\zillionare\\FileOrders\\real_input\\*.csv\n</code></pre></p> <p>Warning</p> <p>\u5982\u679c\u5728\u8f93\u5165\u8f93\u51fa\u76ee\u5f55\u4e2d\u8fd8\u6709\u672a\u5f52\u6863\u7684\u6587\u4ef6\uff0c\u5219\u91cf\u5316\u4ea4\u6613\u5c06\u65e0\u6cd5\u81ea\u52a8\u542f\u52a8\u3002\u4e0a\u8ff0\u4ee3\u7801\u4e2d\u6700\u540e\u4e00\u884c\u7684\u4f5c\u7528\u5c31\u662f\u6e05\u7406\u672a\u5f52\u6863\u6587\u4ef6\u3002 \u8fd9\u4e5f\u8981\u6c42\u4f7f\u7528\u8005\u81ea\u884c\u5bf9\u59d4\u6258\u8fdb\u884c\u6838\u9a8c\uff0c\u786e\u4fdd\u8fd9\u4e9b\u6587\u4ef6\u53ef\u4ee5\u88ab\u81ea\u52a8\u5220\u9664\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#2","title":"2. \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u4ea4\u4e92","text":""},{"location":"articles/products/gm-adaptor-installation/#21","title":"2.1. \u5ba2\u6237\u7aef\u8bf7\u6c42","text":"<p>\u5ba2\u6237\u7aef\u901a\u8fc7 http request\u6765\u8bf7\u6c42gmadaptor\u3002\u4ee5\u4e0b\u793a\u4f8b\u5747\u4ee5\u540c\u6b65\u8bf7\u6c42\u5b9e\u73b0\uff0c\u4f46\u60a8\u4e5f\u53ef\u4ee5\u6839\u636e\u9700\u8981\uff0c\u6539\u4e3a\u5f02\u6b65\u8bf7\u6c42\u3002\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u7684\u9274\u6743\u662f\u901a\u8fc7<code>headers</code>\u6765\u5b9e\u73b0\u7684\uff0c\u5177\u4f53\u8bf7\u770b\u793a\u4f8b\uff08\u4efb\u610f\u4e00\u793a\u4f8b\u5747\u53ef\uff09\u3002\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\uff0c\u90fd\u4f7f\u7528\u7684\u662fpost\u65b9\u6cd5\uff0cgmadaptor\u6240\u6709\u7684\u65b9\u6cd5\u90fd\u53ea\u54cd\u5e94post\u8bf7\u6c42\u3002\u5982\u679c\u8bf7\u6c42\u6210\u529f\u5b8c\u6210\uff0c\u5219\u8fd4\u56de\u4ee3\u7801\u662f200\u3002</p> <p>\u5728\u6240\u6709\u7684\u64cd\u4f5c\u4e2d\uff0c\u80a1\u7968\u4ee3\u7801\u90fd\u5fc5\u987b\u4ee5\u7b80\u7801+\u4ea4\u6613\u6240\u540e\u7f00\u65b9\u5f0f\u51fa\u73b0\uff0c\u5176\u4e2d\u4e0a\u4ea4\u6240\u4e3a.XSHG\uff0c\u6df1\u4ea4\u6240\u4e3a.XSHE\u3002\u5728\u4eff\u771f\u6d4b\u8bd5\u65f6\uff0c\u5bf9\u80a1\u7968\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c\u90fd\u6709\u7279\u5b9a\u7684\u54cd\u5e94\uff08\u6bd4\u5982\u5bf9\u67d0\u652f\u80a1\u7968\uff0c\u8fdb\u884c\u4e70\u5165\u65f6\uff0c\u65e0\u8bba\u7ed9\u7684\u53c2\u6570\u662f\u591a\u5c11\uff0c\u8fd4\u56de\u90fd\u4f1a\u662f\u90e8\u5206\u6210\u4ea4\uff1b\u5bf9\u53e6\u4e00\u652f\u80a1\u7968\uff0c\u5219\u6c38\u8fdc\u8fd4\u56de\u9650\u5236\u4e70\u5165\u7b49\u7b49\uff09\uff0c\u5177\u4f53\u54cd\u5e94\u6587\u6863\u8bf7\u5728\u4e1c\u8d22\u91cf\u5316Q\u7fa4\u4e2d\uff0c\u627e\u7ba1\u7406\u5458\u8981\u6587\u6863\u3002</p> <p>\u5728\u4e00\u4e9b\u4f1a\u6539\u53d8\u72b6\u6001\u7684\u8bf7\u6c42\u4e2d\uff08\u6bd4\u5982\u4e70\u5165\u64cd\u4f5c\uff09\uff0c\u5f80\u5f80\u4f1a\u9700\u8981<code>cid</code>\u53c2\u6570\u548c<code>timeout</code>\u53c2\u6570\uff0c\u5176\u4f5c\u7528\u662f\uff0c\u8c03\u7528\u4f1a\u5728\u6307\u5b9a\u7684timeout\u671f\u95f4\u7b49\u5f85EMC\u5904\u7406\u8bf7\u6c42\uff0c\u5e76\u8fd4\u56de\u7ed3\u679c\uff1b\u4f46EMC\u4e5f\u53ef\u80fd\u65e0\u6cd5\u5728\u6307\u5b9a\u7684timeout\u671f\u95f4\u8fd4\u56de\u7ed3\u679c\uff0c\u6bd4\u5982\u59d4\u4e70\u5355\u62a5\u4ef7\u8fc7\u4f4e\uff0c\u4e00\u76f4\u4e0d\u80fd\u6210\u4ea4\uff0c\u6b64\u65f6\u5c06\u65e0\u6cd5\u4ea7\u751f\u56de\u62a5\u7ed3\u679c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8c03\u7528\u4f1a\u5728timeout\u4e4b\u540e\u8fd4\u56de\u3002\u4e4b\u540e\u7684\u59d4\u4e70\u7ed3\u679c\u67e5\u8be2\uff0c\u5c31\u9700\u8981\u4f9d\u8d56<code>cid</code>\u53c2\u6570\u3002\u6ce8\u610f<code>cid</code>\u662f\u5fc5\u9009\u53c2\u6570\uff0c<code>timeout</code>\u662f\u53ef\u9009\u53c2\u6570\u3002</p> <p><code>cid</code>\u53c2\u6570\uff08\u5373client entrust id\uff09\u7531\u5ba2\u6237\u7aef\u81ea\u884c\u4ea7\u751f\uff0c\u5efa\u8bae\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>import uuid\n\ncid = str(uuid.uuid4())\n</code></pre> <code>cid</code>\u4ea7\u751f\u4e4b\u540e\uff0c\u8bf7\u5728\u5ba2\u6237\u7aef\u4fdd\u5b58\uff0c\u76f4\u5230\u4e8b\u52a1\u7ed3\u675f\uff0c\u4e0d\u518d\u9700\u8981\u4e3a\u6b62\u3002</p> <p>\u4e3a\u7b80\u7ec3\u8d77\u89c1\uff0c\u4ee5\u4e0b\u793a\u4f8b\u4e2d\uff0c\u53ef\u80fd\u5220\u9664\u4e86\u8fd9\u4e9b\u4ee3\u7801\uff1a <pre><code>import httpx\nheaders = {\n    \"Authorization\": \"84ae0899-7a8d-44ff-9983-4fa7cbbc424b\",\n    \"Account-ID\": \"780dc4fda3d0af8a2d3ab0279bfa48c9\"\n}\n\n_url_prefix = \"http://192.168.100.100:9000/\"\n\nbuy_entrust_no = None\nsell_entrust_no = None\n</code></pre></p>"},{"location":"articles/products/gm-adaptor-installation/#22","title":"2.2. \u8fd4\u56de\u7ed3\u679c","text":"<p>\u8fd4\u56de\u9519\u8bef\u53ef\u80fd\u53d1\u751f\u5728\u4e09\u4e2a\u5c42\u9762\u3002\u4e00\u662fhttp\u5c42\uff08\u5305\u62ec bad request \u6216\u8005 Internal server error); \u4e8c\u662f gmadaptor\u5c42\uff0c\u4e09\u662f emc\u53ef\u80fd\u8fd4\u56de\u9519\u8bef\u3002</p> <p>\u7b2c\u4e00\u5c42\u7684\u9519\u8bef\uff0c\u6211\u4eec\u901a\u8fc7 http status code\u6765\u68c0\u67e5\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u5ba2\u6237\u7aef\u662fhttpx\uff0c\u5219\u53ef\u4ee5\u68c0\u67e5 <code>response.status_code</code>\u662f\u5426\u4e3a200\u3002</p> <p>gmadaptor\u59cb\u7ec8\u901a\u8fc7<code>json</code>\u6765\u8fd4\u56de\u54cd\u5e94\uff0c\u54cd\u5e94\u5305\u62ec\u4e09\u4e2a\u5b57\u6bb5\uff0c\u5373\uff1a <pre><code>status: int,\u5982\u679c\u4e3a\u96f6\uff0c\u5219\u8868\u660e\u5728\u6b64\u5c42\u6ca1\u6709\u53d1\u751f\u9519\u8bef\uff0c\u5373gmadaptor\u5df2\u7ecf\u5c06\u8bf7\u6c42\u6b63\u786e\u4e0a\u62a5\nmsg: str, human readable message\ndata: dict \u5982\u679c\u4e00\u5207\u987a\u5229\uff0c\u5219\u8fd4\u56de\u6570\u636e\u5728\u6b64\u9879\u4e2d\n</code></pre> \u7b2c\u4e09\u5c42\u7684\u9519\u8bef\u7531 emc trader\u7ed9\u51fa\u3002\u5373\u4f7fgmadaptor\u6b63\u786e\u4e0a\u62a5\u7684\u8bf7\u6c42\uff0c\u4e5f\u53ef\u80fdemc trader\u65e0\u6cd5\u6267\u884c\uff0c\u6b64\u65f6\u5b83\u4e5f\u4f1a\u901a\u8fc7<code>status</code>\u548c<code>reason</code>\u6765\u7ed9\u51fa\u9519\u8bef\u4fe1\u606f\u3002</p> <p>\u4e0b\u9762\u7684\u793a\u4f8b\u7ed9\u51fa\u4e86\u4e00\u4e2a<code>response.json()</code>\u7684\u8f93\u51fa\uff1a <pre><code>{\n    \"status\": 0,\n    \"msg\": \"OK\",\n    \"data\": {\n        \"code\": \"000001.XSHE\",\n        \"price\": 0.0,\n        \"volume\": 100,\n        \"order_side\": 1,\n        \"bid_type\": 2,\n        \"time\": \"2023-04-04 15:27:38.921555\",\n        \"entrust_no\": \"0d23bb4e-d81e-4ef2-ab21-c58e0fe6814f\",\n        \"status\": -1,\n        \"average_price\": 0.0,\n        \"filled\": 0,\n        \"filled_amount\": 0,\n        \"eid\": \"\",\n        \"trade_fees\": 0,\n        \"reason\": \"[Counter] [EMC_PC]\u4e0d\u652f\u6301\u8be5\u4e0b\u5355\u7c7b\u578b\",\n        \"recv_at\": \"2023-04-04 15:27:38.924565\"\n    }\n}\n</code></pre> \u56e0\u6b64\uff0c\u5373\u4f7f\u5728gmadator\u5c42\u9762\u7ed9\u51fa\u7684\u72b6\u6001\u662f\u6210\u529f\uff0c\u4e5f\u5e76\u4e0d\u610f\u5473\u7740\u8be5\u7b14\u59d4\u6258\u6210\u529f\u3002\u53e6\u4e00\u4e2a\u4f8b\u5b50\u662f\uff0c\u4ee5\u8fc7\u4f4e\u7684\u4ef7\u683c\u59d4\u4e70\uff0c\u53ea\u8981\u53c2\u6570\u5408\u6cd5\u4e14\u88abEMC\u63a5\u6536\uff0cgmadaptor\u90fd\u4f1a\u8fd4\u56de\u6210\u529f\uff0c\u4f46\u8be5\u59d4\u6258\u662f\u5426\u771f\u6b63\u6210\u4ea4\uff0c\u8fd8\u5f97\u901a\u8fc7entrust_no\u6765\u67e5\u8be2\u3002</p>"},{"location":"articles/products/gm-adaptor-installation/#23","title":"2.3. \u8d44\u4ea7\u8868","text":"<pre><code># \u8bf7\u6c42\u8d44\u91d1\u4fe1\u606f\nimport httpx\nheaders = {\n    \"Authorization\": \"84ae0899-7a8d-44ff-9983-4fa7cbbc424b\",\n    \"Account-ID\": \"780dc4fda3d0af8a2d3ab0279bfa48c9\"\n}\n\n_url_prefix = \"http://192.168.100.100:9000/\"\n\ndef get_balance():\n    r = httpx.post(_url_prefix + \"balance\", headers=headers)\n    resp = r.json()\n    if r.status_code == 200 and resp['status'] == 0:\n        print(\"\\n------ \u8d26\u6237\u8d44\u91d1\u4fe1\u606f ------\")\n        print(resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#24","title":"2.4. \u6301\u4ed3\u8868","text":"<pre><code>def get_positions():\n    r = httpx.post(_url_prefix + \"positions\", headers=headers)\n\n    resp = r.json()\n    if r.status_code == 200 and resp['status'] == 0:\n        print(\"\\n----- \u6301\u4ed3\u4fe1\u606f ------\")\n        print(resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#25","title":"2.5. \u9650\u4ef7\u4e70\u5165","text":"<pre><code>    r = httpx.post(_url_prefix + \"buy\", headers=headers, json={\n        \"security\": \"000001.XSHE\",\n        \"price\": 13,\n        \"volume\": 100,\n        \"cid\": str(uuid.uuid4()),\n        \"timeout\": 1\n    })\n\n    print(r.json())\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#26","title":"2.6. \u5e02\u4ef7\u4e70\u5165","text":"<pre><code>def market_buy():\n    global buy_entrust_no\n    r = httpx.post(_url_prefix + \"market_buy\", headers=headers, json={\n        \"security\": \"000001.XSHE\",\n        \"volume\": 100,\n        \"cid\": cid,\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    if r.status_code == 200 and resp[\"status\"] == 0:\n        print(\"\\n ------ \u59d4\u4e70\u6210\u529f ------\")\n        print(resp[\"status\"], resp[\"msg\"], resp[\"data\"])\n        buy_entrust_no = resp[\"data\"][\"entrust_no\"]\n    else:\n        print(\"\u59d4\u4e70\u5931\u8d25:\", r.status_code, resp)\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#27","title":"2.7. \u9650\u4ef7\u5356\u51fa","text":"<pre><code>def sell():\n    global sell_entrust_no\n\n    r = httpx.post(_url_prefix + \"sell\", headers=headers, json={\n        \"security\": \"000001.XSHE\",\n        \"price\": 10,\n        \"volume\": 100,\n        \"cid\": cid,\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    if r.status_code == 200 and resp[\"status\"] == 0:\n        print(\"\\n ------ \u9650\u4ef7\u59d4\u5356\u6210\u529f ------\")\n        data = resp[\"data\"]\n        print(data)\n        sell_entrust_no = data[\"entrust_no\"]\n    else:\n        print(\"\u5356\u51fa\u5931\u8d25:\", r.status_code, resp)\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#28","title":"2.8. \u5e02\u4ef7\u5356\u51fa","text":"<pre><code>def market_sell():\n    r = httpx.post(_url_prefix + \"market_sell\", headers=headers, json = {\n        \"security\": \"000001.XSHE\",\n        \"volume\": 100,\n        \"cid\": cid\n    })\n\n    resp = r.json()\n    if r.status_code == 200 and resp[\"status\"] == 0:\n        print(\"\\n ------ \u5e02\u4ef7\u59d4\u5356\u6210\u529f ------\")\n        print(resp[\"data\"])\n    else:\n        print(resp)\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#29","title":"2.9. \u53d6\u6d88\u59d4\u6258","text":"<pre><code>def cancel_entrust():\n    global buy_entrust_no\n\n    r = httpx.post(_url_prefix + \"cancel_entrust\", headers=headers, json = {\n        \"entrust_no\": buy_entrust_no,\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    print(resp[\"status\"], resp[\"msg\"], resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#210","title":"2.10. \u67e5\u8be2\u5f53\u65e5\u59d4\u6258","text":"<pre><code>def today_entrusts():\n    r = httpx.post(_url_prefix + \"today_entrusts\", headers=headers, json = {\n        # \u6b64\u5904\u53ef\u4ee5\u4f20\u5165\u8bb0\u5f55\u7684\u59d4\u6258\u53f7\u3002\u4f20\u5165\u7a7a\u6570\u7ec4\u65f6\uff0c\u8868\u660e\u53d6\u5f53\u5929\u6240\u6709\u59d4\u6258\u3002\n        \"entrust_no\": [],\n        \"timeout\": 1\n    })\n\n    resp = r.json()\n    print(resp[\"status\"], resp[\"msg\"], resp[\"data\"])\n</code></pre>"},{"location":"articles/products/gm-adaptor-installation/#3","title":"3. \u6545\u969c\u6392\u9664\u4e0e\u5e2e\u52a9","text":"<p>\u5173\u4e8e\u4e1c\u8d22\u6587\u4ef6\u5355\uff0c\u8bf7\u53c2\u8003\uff1ahttps://emquant.18.cn/file-help/?doc=file_order \u4e1c\u8d22\u91cf\u5316Q\u7fa4\uff1a971584613</p> <p>\u5373\u4f7f\u5b9e\u73b0\u4e86EMC\u7684\u6bcf\u65e5\u81ea\u52a8\u91cd\u542f\uff0c\u4e5f\u6709\u53ef\u80fd\u5076\u53d1\u8fde\u63a5\u5f02\u5e38\u6216\u8005\u5176\u5b83\u9519\u8bef\u3002\u6b64\u65f6\u53ef\u80fd\u9700\u8981\u624b\u52a8\u6267\u884c\uff1a 1. \u91cd\u65b0\u8fde\u63a5 2. \u6e05\u9664\u6587\u4ef6\u5355\uff0c\u91cd\u65b0\u542f\u52a8</p>"},{"location":"articles/products/gm-adaptor-installation/#_1","title":"\u64ae\u5408\u914d\u7f6e\u89c4\u5219","text":"<p>\u5728\u4eff\u771f\u4ea4\u6613\u6d4b\u8bd5\u4e2d\uff0cEMTrader\u5bf9\u6bcf\u4e2a\u54c1\u79cd\uff0c\u90fd\u6307\u5b9a\u4e86\u5bf9\u5e94\u7684\u54cd\u5e94\u3002\u6bd4\u5982\uff0c\u5bf9000572\u8fd9\u4e2a\u54c1\u79cd\uff0c\u4e70\u5165\u4e00\u5b9a\u4f1a\u5168\u90e8\u6210\u4ea4\uff0c\u5bf9000010\u8fd9\u4e2a\u54c1\u79cd\uff0c\u5219\u4e00\u5b9a\u4f1a\u62d2\u7edd\u3002\u8fd9\u662f\u4e3a\u4e86\u65b9\u4fbf\u6d4b\u8bd5\u7684\u9700\u8981\u3002\u4e1c\u8d22\u63d0\u4f9b\u4e86\u540d\u4e3a\u300a\u64ae\u5408\u914d\u7f6e\u89c4\u5219\u300b\u7684\u6587\u4ef6\uff0c\u8be5\u6587\u4ef6\u53ef\u80fd\u968f\u65f6\u66f4\u65b0\uff0c\u6240\u4ee5\uff0c\u9700\u8981\u5728\u6d4b\u8bd5\u524d\uff0c\u52a0\u4ed6\u4eec\u6280\u672f\u4eba\u5458QQ\u9886\u53d6\u3002</p> <p>\u8be5\u6587\u4ef62023\u5e743\u6708\u4efd\u90e8\u5206\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>[\u5168\u90e8\u6210\u4ea4]\n000572  full\n000725  full\n\n[\u5206\u7b14\u6210\u4ea4] \n\u5206\u6210\u4e24\u7b14\uff1a\n000002  lot         2\n\n[\u90e8\u5206\u6210\u4ea4] \u6210\u4ea4\u4e00\u534a\n000001  part\n000004  part\n...\n[\u6302\u5355]    \u53ea\u6709\u54cd\u5e94\uff0c\u6ca1\u6709\u6210\u4ea4\n018014  pending\n020417  pending\n...\n\n[\u62d2\u5355]    \n000010  reject\n010609  reject\n\n[\u62d2\u7edd\u64a4\u5355] \u90e8\u5206\u6210\u4ea4\uff0c\u4e0d\u53ef\u64a4\u5355\n000008  cancel_reject\n000151  cancel_reject\n</code></pre></p>"},{"location":"articles/products/gm-adaptor-installation/#_2","title":"\u8054\u7cfb\u65b9\u5f0f","text":"<p>\u5982\u679c\u60a8\u5728\u4f7f\u7528\u672c\u6a21\u5757\u4e2d\u9700\u8981\u5e2e\u52a9\uff0c\u6216\u8005\u9700\u8981\u53c2\u52a0\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u7f16\u7a0b\u5b9e\u6218\u8bfe\u300b\u5b66\u4e60\uff0c\u8bf7\u6dfb\u52a0 \u5bbd\u7c89 \u7684\u5fae\u4fe1\uff1a</p> <p></p>"},{"location":"articles/products/zillionare-maintain/","title":"Zillionare 2.0\u7ef4\u62a4\u6307\u5357","text":""},{"location":"articles/products/zillionare-maintain/#_1","title":"\u884c\u60c5\u6570\u636e\u540c\u6b65\u539f\u7406","text":"<p>\u5728Zillionare\u5b89\u88c5\u540e\uff0c\u7531\u4e8e\u591a\u65b9\u9762\u7684\u539f\u7406\uff0c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u662f\u4e0d\u9f50\u5168\u7684\uff0c\u9700\u8981\u7ecf\u8fc7\u4e00\u4e2a\u7ef4\u62a4\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u7ef4\u62a4\u8fc7\u7a0b\u53ca\u5176\u5de5\u4f5c\u539f\u7406\u5982\u4e0b\uff1a</p> <p>\u5728Zillionare\u7684docker\u5bb9\u5668\u6784\u5efa\u65f6\uff0c\u6211\u4eec\u53ea\u6253\u5305\u4e862022\u5e741\u6708\u52302023\u5e742\u6708\u768430\u5206\u949f\u53ca\u4ee5\u4e0a\u7ea7\u522b\u7684\u6570\u636e\uff0c\u4f9b\u56de\u6d4b\u7814\u7a76\u4f7f\u7528\u3002\u56e0\u6b64\uff0c\u5728\u60a8\u5b89\u88c5\u4e4b\u540e\uff0c\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u672a\u80fd\u8986\u76d6\u5168\u9762\u3002\u4e00\u4e2a\u5168\u9762\u8986\u76d6\u7684\u6570\u636e\uff0c\u5e94\u8be5\u5305\u62ec\u4ece2005\u5e741\u6708\u8d77\u7684\u6240\u6709\u5206\u949f\u7ebf\u53ca\u4ee5\u4e0a\u7ea7\u522b\uff08\u53735,15,30,60\u5206\u949f\u3001\u65e5\u7ebf\u3001\u5468\u7ebf\u3001\u6708\u7ebf\uff09\u3002</p> <p></p> <p>\u6211\u4eec\u901a\u8fc7epoch_start\uff0csync head\uff0csync tail\u6307\u9488\uff08\u5728redis\u6570\u636e\u5e93\u4e2d\uff0cdb1\uff09\u53ca\u5f53\u524d\u65f6\u95f4\u6765\u786e\u5b9a\u5df2\u7ecf\u540c\u6b65\u7684\u6570\u636e\u8303\u56f4\uff0c\u548c\u9700\u8981\u540c\u6b65\u7684\u6570\u636e\u8303\u56f4\uff0c\u89c1\u4e0a\u56fe\u3002\u5728\u6211\u4eec\u53d1\u5e03zillionare\u7684\u5bb9\u5668\u65f6\uff0c\u6211\u4eec\u5c06sync head\u8bbe\u7f6e\u4e3a\u4e86epoch_start\uff0c\u56e0\u6b64\uff0c\u4e00\u65e6\u60a8\u914d\u7f6e\u4e86\u805a\u5bbd\u8d26\u53f7\uff0c\u6570\u636e\u540c\u6b65\u5c06\u4f18\u5148\u8865\u9f50\u4ece2022\u5e7412\u670830\u65e5\u4e4b\u540e\u5230\u73b0\u5728\u7684\u6570\u636e\u3002\u7b49\u5230\u8fd9\u90e8\u5206\u6570\u636e\u8ffd\u8d76\u5b8c\u6210\u4e4b\u540e\uff0c\u60a8\u53ef\u4ee5\u4fee\u6539redis\u6570\u636e\u5e93\u4e2d\u7684\u5934\u6307\u9488\uff0c\u4f7f\u4e4b\u4e0einfluxdb\u4e2d\u6570\u636e\u7684\u5b9e\u9645\u8d77\u70b9\u91cd\u5408\u3002\u8fd9\u6837\uff0cZillionare\u5c06\u5229\u7528\u60a8\u6bcf\u5929\u5269\u4f59\u7684quota\u6765\u5411\u540e\u8865\u9f50\u6570\u636e\uff0c\u53ea\u5230\u6570\u636e\u8865\u9f50\u5230epoch_start(\u53732005\u5e741\u67084\u65e5\u4e3a\u6b62)\u3002\u60a8\u4e5f\u53ef\u4ee5\u5728\u540c\u6b65\u4e00\u5b9a\u91cf\u7684\u6570\u636e\u4e4b\u540e\uff0c\u5982\u679c\u4e0d\u9700\u8981\u66f4\u65e9\u7684\u6570\u636e\u4e86\uff0c\u53ef\u4ee5\u5c06\u8be5\u6307\u9488\u518d\u6b21\u6539\u56de\u5230epoch_start\u4ee5\u7ed3\u675f\u540c\u6b65\u3002</p> <p>Info</p> <p>\u8fd9\u6837\u8bbe\u8ba1\u7684\u539f\u56e0\u662f\u56e0\u4e3a\u8981\u53d1\u6325Zillionare\u56de\u6d4b\u6846\u67b6\u7684\u4f18\u52bf\uff0c\u5fc5\u987b\u4f7f\u7528\u5206\u949f\u7ebf\u884c\u60c5\u6570\u636e\u8fdb\u884c\u64ae\u5408\u3002\u4f46\u5206\u949f\u7ebf\u5b9e\u5728\u592a\u5927\u4e86\u3002</p> <p>\u8fd9\u662f\u60a8\u9700\u8981\u77e5\u9053\u7684\u5173\u4e8e\u6570\u636e\u7ef4\u62a4\u7684\u7b2c\u4e00\u4ef6\u4e8b\u3002\u5176\u6b21\u60a8\u9700\u8981\u77e5\u9053\u7684\u662fZillionare\u662f\u5982\u4f55\u5b58\u50a8\u6570\u636e\u548c\u8bfb\u53d6\u7684\u3002</p> <p>\u4e3a\u4e86\u5b9e\u65f6\u548c\u51c6\u786e\u5730\u66f4\u65b0\u6570\u636e\uff0cZillionare\u7684\u6570\u636e\u540c\u6b65\u5206\u4e24\u90e8\u5206\uff0c\u4e00\u662f\u5df2\u7ecf\u6536\u76d8\u7684\u6570\u636e\uff0c\u8fd9\u4e9b\u6570\u636e\u88ab\u8ba4\u4e3a\u662f\u51c6\u786e\u7684\u3001\u4e0d\u518d\u4fee\u6539\u7684\uff0c\u56e0\u6b64\u8bb0\u5f55\u5728influxdb\u4e2d\uff0c\u662f\u6301\u4e45\u5316\u7684\u3002\u672a\u6536\u76d8\u7684\u6570\u636e\u90fd\u662f\u901a\u8fc7\u5df2\u6536\u76d8\u7684\u66f4\u4f4e\u7ea7\u522b\u5468\u671f\u7684\u6570\u636e\u5b9e\u65f6\u5408\u6210\u7684\u3002</p> <p>Info</p> <p>\u4e3a\u4e86\u4fdd\u8bc1\u5df2\u6536\u76d8\u6570\u636e\u662f\u51c6\u786e\u7684\uff0cZillionare\u7684\u6570\u636e\u540c\u6b65\u65f6\u95f4\u8bbe\u7f6e\u5728\u591c\u91cc2\u70b9\u5de6\u53f3 -- \u4e00\u822c\u6765\u8bf4\uff0c\u4e0a\u6e38\u6570\u636e\u6b64\u65f6\u5df2\u7ecf\u5b8c\u5168\u4e86\u6821\u51c6 -- \u5f00\u59cb\uff0c\u5e76\u4e14\u540c\u6837\u7684\u6570\u636e\u4f1a\u62c9\u53d6\u4e24\u6b21\u3002\u53ea\u6709\u4e24\u6b21\u7684\u6570\u636e\u5b8c\u5168\u76f8\u540c\uff0c\u624d\u4f1a\u4fdd\u5b58\u3002</p> <p>\u4e5f\u5c31\u662f\uff0c\u4ee5\u4ea4\u6613\u65e515\uff1a00\u4e4b\u524d\u6765\u770b\uff0c\u6628\u5929\u7684\u65e5\u7ebf\u5728influxdb\u4e2d\uff0c\u4e0a\u4e00\u5468\u7684\u5468\u7ebf\u3001\u4e0a\u4e00\u4e2a\u6708\u7684\u6708\u7ebf\u5728influxdb\u4e2d\u3002\u4f46\u4eca\u5929\u7684\u65e5\u7ebf\u3001\u8fd9\u5468\u7684\u5468\u7ebf\u7b49\uff0c\u90fd\u9700\u8981\u5b9e\u65f6\u8ba1\u7b97\u548c\u66f4\u65b0\u3002\u66f4\u65b0\u6765\u81ea1\u5206\u949f\u6570\u636e\uff0c1\u5206\u949f\u6570\u636e\u7f13\u5b58\u5728redis\u4e2d\u3002\u8fd9\u4e2a1\u5206\u949f\u6570\u636e\u4f1a\u5728\u76d8\u4e2d\u5b9e\u65f6\u66f4\u65b0\uff0c\u5e76\u89e6\u53d1\u5176\u5b83\u5468\u671f\u7684unclosed\u6570\u636e\u7684\u8ba1\u7b97\u3002</p> <p>\u5982\u679c\u5b89\u88c5zillionare\u7684\u65f6\u95f4\u5728\u76d8\u540e\uff0c\u5219\u5728\u521d\u6b21\u8fd0\u884c\u65f6\uff0credis\u4e2d\u662f\u6ca1\u6709\u5206\u949f\u7ebf\u53ca\u6240\u6709\u5206\u949f\u7ea7\u522b\u7684\u884c\u60c5\u6570\u636e\u7684\u3002\u6b64\u65f6zillionare-omega\u5728\u65e5\u5fd7\u4e0a\u4f1a\u62a5\u4e00\u4e9b\u9519\u8bef\u3002\u8fd9\u4e9b\u9519\u8bef\u53ef\u4ee5\u5ffd\u7565\u3002\u4ece\u90e8\u7f72\u4e4b\u65e5\u540e\u7684\u5348\u591c\uff08\u9700\u8981\u4ea4\u6613\u65e5\uff09\u8d77\uff0c\u4f1a\u6709\u591a\u4e2a\u4e0b\u8f7d\u4efb\u52a1\uff0c\u5f85\u6570\u636e\u8865\u9f50\u540e\uff0c\u5c31\u4e0d\u518d\u4f1a\u51fa\u73b0\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>\u90e8\u7f72\u540e\u7684\u7b2c\u4e00\u4e2a\u4ea4\u6613\u65e5\u5b8c\u6210\u540e\uff0c\u4e0a\u8ff0\u9519\u8bef\u5e94\u8be5\u6d88\u5931\uff0c\u4f46\u6b64\u65f6week, month\u7684unclosed bay\u80fd\u5426\u8ba1\u7b97\u6b63\u786e\uff0c\u53d6\u51b3\u4e8equota\u3002\u5982\u679cquota\u591f\u540c\u6b651\u5468\u7684\u5206\u949f\u548c\u65e5\u7ebf\uff0c\u5219week bar\u6b63\u786e\uff1b\u5982\u679c\u80fd\u540c\u6b651\u4e2a\u6708\u7684\u5206\u949f\u548c\u65e5\u7ebf\uff0c\u5219\u6708bar\u6b63\u786e\u3002\u5426\u5219\uff0c\u8fd8\u9700\u8981\u7b49\u5f85\u3002</p>"},{"location":"articles/products/zillionare-troubleshooting/","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"articles/products/zillionare-troubleshooting/#1-omegafailed-to-build-unclosed-bar-for","title":"1. \u5728omega\u65e5\u5fd7\u4e2d\u51fa\u73b0failed to build unclosed bar for ...\u9519\u8bef","text":"<p>\u8fd9\u4e2a\u9519\u8bef\u5982\u4e0b\u56fe\u6240\u793a </p> <p>\u51fa\u73b0\u8fd9\u4e2a\u9519\u8bef\u7684\u539f\u56e0\u662f\u56e0\u4e3a\u5b89\u88c5\u540e\uff0c\u521d\u6b21\u542f\u52a8\u7684\u65f6\u95f4\u662f\u5728\u76d8\u540e\uff0credis\u6570\u636e\u5e93\u4e2d\u6ca1\u6709\u5206\u949f\u7ebf\u6570\u636e\uff0c\u56e0\u800c\u4e5f\u65e0\u6cd5\u5408\u6210\u67d0\u4e9b\u6570\u636e\u3002\u7b49\u5f85\u4e0b\u4e2a\u4ea4\u6613\u65e5\u7ed3\u675f\uff0c\u6570\u636e\u8865\u9f50\u540e\uff0c\u8be5\u65e5\u5fd7\u4f1a\u6d88\u606f\u3002\u8be6\u60c5\u89c1\u6570\u636e\u7ef4\u62a4</p>"},{"location":"articles/products/zillionare_installation/","title":"\u5927\u5bcc\u7fc1\u5b89\u88c5\u6307\u5357","text":"\u5927\u5bcc\u7fc12.0\u5b89\u88c5\u6307\u5357 <p>Tip</p> <p>\u5b89\u88c5\u6587\u4ef6\u76ee\u524d\u4ec5\u5bf9\u5927\u5bcc\u7fc1\u91cf\u5316\u8bfe\u7a0b\u5b66\u5458\u53ca\u91cd\u8981\u5ba2\u6237\u5f00\u653e\u3002\u8054\u7cfb\u8bf7\u52a0 quantfans_99 (\u5bbd\u7c89) \u5fae\u4fe1</p> <p>\u6211\u4eec\u901a\u8fc7docker\u96c6\u7fa4\u5411\u5927\u5bb6\u63d0\u4f9bzillionare 2.0\u3002\u8be5\u96c6\u7fa4\u5305\u542b\u4ee5\u4e0b\u5bb9\u5668\uff1a</p> NAMES IMAGE PORTS zillionare-omega zillionare/omega:2.0.1 0.0.0.0:3180-&gt;3180/tcp :::3180-&gt;3180/tcp zillionare-influxdb influxdb:2.4.0 0.0.0.0:58086-&gt;8086/tcp :::58086-&gt;8086/tcp zillionare-backtesting zillionare/backtest:0.5.1 0.0.0.0:7080-&gt;7080/tcp :::7080-&gt;7080/tcp zillionare-redis redis:7.0.4-alpine 0.0.0.0:56379-&gt;6379/tcp :::56379-&gt;6379/tcp zillionare-lab zillionare/lab 0.0.0.0:8888-&gt;8888/tcp :::8888-&gt;8888/tcp <p>\u8be5\u7cfb\u7edf\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7814\u7a76\u73af\u5883\uff0c\u81ea\u5e26\u4e86\u4e24\u5e74\u7684\u65e5\u7ebf\u6570\u636e\u548c30\u5206\u949f\u6570\u636e\uff08\u7ea61.3G\uff09\u3002\u542f\u52a8\u540e\uff0c\u901a\u8fc78888\u7aef\u53e3\u8bbf\u95ee\u7814\u7a76\u73af\u5883\u3002\u6bd4\u5982\uff0c\u5982\u679c\u5b89\u88c5\u8be5\u96c6\u7fa4\u7684\u673a\u5668IP\u4e3a192.168.100.100\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 http://192.168.100.100:8888/zillionare \u6765\u8bbf\u95ee\u7814\u7a76\u73af\u5883\uff1a</p> <p></p> <p>Info</p> <p>\u767b\u5f55\u5bc6\u7801\u9ed8\u8ba4\u4e3a1234\u3002\u5982\u679c\u60a8\u9700\u8981\u4fee\u6539\uff0c\u8bf7\u4fee\u6539docker-compose\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684.omega_env\u6587\u4ef6\u4e2d\u7684LAB_PASSWORD\u9009\u9879\u3002</p> <p>\u5b9e\u76d8\u4ea4\u6613\u5b89\u88c5\u4e1c\u8d22\u91cf\u5316\u4ea4\u6613\u5ba2\u6237\u7aef\u53cagm-adaptor\u5e93\uff0c\u8bf7\u60c5\u53c2\u89c1\u5b9e\u76d8\u4ea4\u6613</p>"},{"location":"articles/products/zillionare_installation/#_1","title":"\u5b89\u88c5\u6b65\u9aa4","text":"<p>Info</p> <p>Zillionare 2.0\u57fa\u4e8edocker\u5bb9\u5668\u6280\u672f\u6784\u5efa\uff0c\u7406\u8bba\u4e0a\u53ef\u4ee5\u8fd0\u884c\u4e8e\u4efb\u4f55\u652f\u6301\u5bb9\u5668\u6280\u672f\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u3002\u4f46\u6211\u4eec\u53ea\u6d4b\u8bd5\u4e86Ubunut Focal\u548cUbuntu Focal on WSL 2.0\uff08\u5373Windows\uff09\u3002 \u5982\u679c\u60a8\u6253\u7b97\u6b63\u5f0f\u4f7f\u7528\uff0c\u5efa\u8bae\u786c\u4ef6\u89c4\u683c\uff1a</p> <ol> <li>8\u6838CPU\u4ee5\u4e0a</li> <li>32GB\u5185\u5b58\u4ee5\u4e0a\uff08\u5927\u5bb6\u7684\u8bfe\u4ef6\u73af\u5883\u662f\u96c6\u7fa4\uff0c\u5355\u673a96GB\uff09</li> <li>\u786c\u76d81T\u4ee5\u4e0a\uff08\u5f88\u5360\u7a7a\u95f4\uff09</li> </ol> <ol> <li> <p>\u5148\u5b89\u88c5docker\u548cdocker-compose\u5de5\u5177\u3002\u5982\u679c\u53ea\u6709windows\u673a\u5668\uff0c\u5efa\u8bae\u5148\u5b89\u88c5 wsl2\uff0c\u518d\u5728wsl2\u4e0b\u7684ubunut\u73af\u5883\u4e2d\uff0c\u5b89\u88c5docker/docker-compose</p> </li> <li> <p>\u5c06zillionare.tar\u89e3\u538b\u7f29\u5230\u5b89\u88c5\u76ee\u5f55\uff08\u81ea\u5b9a\uff09\uff0c\u4fee\u6539\u5176\u4e2d\u7684 .omega.env\uff0c\u8be5\u6587\u4ef6\u4e2d\uff0cjqdata\u76f8\u5173\u7684\u8d26\u53f7\u548c\u5bc6\u7801\u662f\u9700\u8981\u63d0\u4f9b\u7684\uff0c\u5176\u5b83\u7684\u53ef\u4ee5\u4e0d\u53d8</p> </li> <li> <p>\u901a\u8fc7docker-compose up -D \u542f\u52a8\u96c6\u7fa4\u3002\u542f\u52a8\u65f6\u4f1a\u8fdb\u884c\u4e0b\u8f7d\u548c\u6570\u636e\u5bfc\u5165\u3002\u89c6\u60a8\u7684\u7f51\u7edc\u5b9a\uff0c\u5e94\u8be5\u572810\u5206\u949f\u4ee5\u5185\u5b8c\u6210\u3002</p> </li> </ol> <p>\u6b64\u540e\u5982\u679c\u9700\u8981\u505c\u6b62\u670d\u52a1\uff0c\u8fd0\u884cdocker-compose stop; \u91cd\u65b0\u542f\u52a8 docker-compose start\uff1b\u90fd\u9700\u8981\u5728\u5b89\u88c5\u76ee\u5f55\u4e0b\u8fd0\u884c\u3002</p>"},{"location":"articles/products/zillionare_installation/#_2","title":"\u6570\u636e\u52a0\u8f7d","text":"<p>\u8be5\u73af\u5883\u81ea\u5e26\u7684\u6570\u636e\u4ec5\u9650\u4e8e\u884c\u60c5\u7814\u7a76\u3002\u5982\u679c\u9700\u8981\u4f7f\u7528\u56de\u6d4b\u670d\u52a1\uff0c\u9700\u8981\u8865\u9f50\u5206\u949f\u7ebf\u6570\u636e\u3002</p> <p>Zillionare\u5b98\u65b9\u63d0\u4f9b\u5bf9\u805a\u5bbd\u6570\u636e\u670d\u52a1\u7684\u96c6\u6210\u652f\u6301\u3002\u60a8\u9700\u8981\u8d2d\u4e70\u805a\u5bbd\u7684\u6570\u636e\u670d\u52a1\u3002\u6bcf\u5929\u8981\u81f3\u5c11\u6709500\u4e07\u4ee5\u4e0a\u7684quota\u3002\u8fd9\u6837\u624d\u80fd\u5b9e\u73b0\u6570\u636e\u6b63\u5e38\u540c\u6b65\uff0c\u5e76\u5c06\u7f3a\u5931\u6570\u636e\u9010\u6b65\u8ffd\u8d76\u8d77\u6765\uff08\u5230\u5206\u949f\u7ea7\uff09\u3002</p> <p>Info</p> <p>\u5f53\u524dA\u80a1\u4ec5\u80a1\u7968\u5c31\u6709\u63a5\u8fd16000\u652f\uff0c\u6bcf\u5929\u7684\u5206\u949f\u7ebf\u6570\u636e\u63a5\u8fd1140\u4e07\u6761\u3002Zillionare\u4f1a\u5728\u76d8\u4e2d\u5b9e\u65f6\u8bf7\u6c42\u6240\u6709\u80a1\u7968\u548c\u5e38\u7528\u6307\u6570\u7684\u5206\u949f\u7ebf\u6570\u636e\uff0c\u6b64\u5916\uff0c\u8fd8\u4f1a\u5728\u6bcf\u665a2\uff1a00\u5de6\u53f3\uff0c\u518d\u6b21\u8bf7\u6c42\u524d\u4e00\u4ea4\u6613\u65e5\u7684\u5206\u949f\u7ebf\u3001\u65e5\u7ebf\u7b49\u6570\u636e\uff0c\u5e76\u4e14\u51fa\u4e8e\u7ea0\u9519\u7684\u76ee\u7684\uff0c\u4f1a\u8fdb\u884c\u4e24\u6b21\u8bf7\u6c42\u5e76\u8fdb\u884c\u6570\u636e\u6821\u9a8c\u3002\u56e0\u6b64\uff0c\u6bcf\u5929\u4f1a\u6d88\u8017quota 500\u4e07\u6761\u4ee5\u4e0a\u3002\u4f46\u5982\u679c\u8981\u8865\u9f50\u5386\u53f2\u5206\u949f\u7ebf\u6570\u636e\uff0c\u5efa\u8bae\u8d2d\u4e702\u4ebf\u6761quota\u7ea7\u522b\u7684\u6570\u636e\u3002\u8fd9\u6837\u4e00\u5929\u5927\u6982\u80fd\u5411\u524d\u8ffd\u8d76\u4e00\u4e2a\u6708\u7684\u884c\u60c5\u6570\u636e\u3002</p>"},{"location":"articles/products/zillionare_installation/#_3","title":"\u5b9e\u76d8\u4ea4\u6613","text":"<p>\u8be5\u73af\u5883\u652f\u6301\u5b9e\u76d8\u4ea4\u6613\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7lab\u7f16\u5199\u7b56\u7565\uff0c\u901a\u8fc7zillionare-trader-client\u6267\u884c\u4e0b\u5355\u3002\u76ee\u524dzillionare\u53ea\u63d0\u4f9b\u4e86\u4e1c\u8d22\u7684\u91cf\u5316\u63a5\u53e3\u3002\u5b89\u88c5\u65b9\u5f0f\u5982\u4e0b\uff1a</p> <ol> <li>\u5411\u4e1c\u8d22\u7533\u8bf7\u5f00\u901a\u91cf\u5316\u63a5\u53e3</li> <li>\u5728Windows\u673a\u5668\u4e0a\u5b89\u88c5\u4e1c\u8d22EMC\u5ba2\u6237\u7aef\uff0c\u5e76\u8fdb\u884c\u914d\u7f6e\u3002</li> <li>\u5728\u540c\u4e00\u53f0Windows\u673a\u5668\u4e0a\u5b89\u88c5 gmadaptor</li> <li>\u901a\u8fc7trader-client\u4e0b\u5355\u65f6\uff0c\u5c06url\u6307\u5411windows\u673a\u5668\u3002</li> </ol> <p>\u5b89\u88c5\u548c\u914d\u7f6e\u8be6\u60c5\uff0c\u8bf7\u89c1\u4e1c\u8d22\u5b9e\u76d8\u4ea4\u6613\u90e8\u7f72\u6307\u5357</p>"},{"location":"articles/products/zillionare_installation/#_4","title":"\u914d\u7f6e","text":""},{"location":"articles/products/zillionare_installation/#_5","title":"\u805a\u5bbd\u8d26\u53f7","text":"<pre><code>JQ_ACCOUNT=notset\nJQ_PASSWORD=passwd\n</code></pre>"},{"location":"articles/products/zillionare_installation/#_6","title":"\u90ae\u4ef6\u901a\u77e5","text":"<p>\u914d\u7f6e\u90ae\u4ef6\u901a\u77e5\u540e\uff0c\u7cfb\u7edf\u81ea\u5e26\u7684\u4e00\u4e9b\u62a5\u8b66\u6d88\u606f\u4f1a\u901a\u8fc7\u90ae\u4ef6\u53d1\u9001\u51fa\u6765\u3002\u4f60\u53ef\u4ee5\u5c06\u90ae\u4ef6\u914d\u7f6e\u6210\u90ae\u4ef6\u5217\u8868\uff0c\u4ee5\u4fbf\u8fd0\u7ef4\u4eba\u5458\u53ef\u4ee5\u6536\u5230\u901a\u77e5\u3002\u914d\u7f6e\u540e\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728\u7b56\u7565\u4e2d\uff0c\u4f7f\u7528<code>omicron.notify</code>\u91cc\u7684\u65b9\u6cd5\uff0c\u53d1\u51fa\u90ae\u4ef6\u901a\u77e5\u3002\u6587\u6863</p> <pre><code>MAIL_FROM=user@example.com\nMAIL_TO=user@example.com\nMAIL_PASSWORD=passwd\nMAIL_SERVER=127.0.0.1\n</code></pre>"},{"location":"articles/products/zillionare_installation/#_7","title":"\u9489\u9489\u901a\u77e5","text":"<p>\u90ae\u4ef6\u901a\u77e5\u7684\u5b9e\u65f6\u6027\u4e0d\u592a\u5f3a\uff0c\u5982\u679c\u5bf9\u5b9e\u65f6\u6027\u6709\u8981\u6c42\uff0c\u53ef\u4ee5\u521b\u5efa\u9489\u9489\u7fa4\uff0c\u5728\u7fa4\u91cc\u914d\u7f6e\u673a\u5668\u4eba\uff0c\u7136\u540e\u5c06token\u548csecret\u8bbe\u7f6e\u5728\u4e0b\u9762\u7684\u914d\u7f6e\u4e2d\uff1a</p> <pre><code>DINGTALK_TOKEN=notset\nDINGTALK_SECRET=notset\n</code></pre> <p>\u540c\u6837\u5730\uff0c\u8be5\u65b9\u6cd5\u4e5f\u5b58\u5728\u4e8e<code>omicron.notify</code>\u4e0b\u3002\u6587\u6863</p>"},{"location":"articles/products/zillionare_installation/#_8","title":"\u7814\u7a76\u754c\u9762","text":"<p>\u5982\u679c\u9700\u8981\u66f4\u6539\u7814\u7a76\u754c\u9762\u5730\u5740\u7684\u524d\u7f00\uff0c\u8bf7\u66f4\u6539LAB_USER\u3002\u5982\u679c\u8981\u53d8\u66f4\u5bc6\u7801\uff0c\u8bf7\u66f4\u6539LAB_PASSWORD\u3002 <pre><code>LAB_PASSWORD=1234\nLAB_USER=zillionare\n</code></pre></p>"},{"location":"articles/products/zillionare_installation/#_9","title":"\u914d\u7f6e\u83b7\u53d6\u677f\u5757\u6570\u636e\u4efb\u52a1","text":"<p>Zillionare\u7684\u677f\u5757\u6570\u636e\u6765\u81ea\u540c\u82b1\u987a\uff0c\u4f7f\u7528\u7684\u662f\u722c\u866b\u6280\u672f\u3002\u8fd9\u4e9b\u722c\u866b\u901a\u8fc7\u5355\u72ec\u7684\u8fdb\u7a0b\u8fd0\u884c\uff0c\u5b83\u4eec\u7531crontab\u6765\u542f\u52a8\u3002</p> <p>\u5728\u6211\u4eec\u5bb9\u5668\u6253\u5305\u65f6\uff0c\u672a\u80fd\u5b9e\u73b0\u7ed9docker\u5bb9\u5668\u81ea\u52a8\u589e\u52a0\u4efb\u52a1\uff0c\u56e0\u6b64\uff0c\u8981\u83b7\u53d6\u540c\u82b1\u987a\u677f\u5757\u6570\u636e\uff0c\u5fc5\u987b\u6309\u4ee5\u4e0b\u6b65\u9aa4\u589e\u52a0\u4efb\u52a1\uff1a</p> <ol> <li>\u901a\u8fc7<code>docer exec -it zillionare-omega /bin/bash</code>\u8fdb\u884c\u5bb9\u5668\u7684\u547d\u4ee4\u884c\u6a21\u5f0f</li> <li>\u901a\u8fc7<code>crontab -e</code>\u6765\u589e\u52a0\u4ee5\u4e0b\u4efb\u52a1\uff1a <pre><code>    # fetch members\n    35 11 * * * /root/zillionare/cronjobs/fetch_industry_list.sh\n    12 12 * * * /root/zillionare/cronjobs/fetch_concept_list.sh\n    # fetch bars \n    15 18 * * * /root/zillionare/cronjobs/fetch_concept_bars.sh\n    50 18 * * * /root/zillionare/cronjobs/fetch_industry_bars.sh\n</code></pre></li> </ol>"},{"location":"articles/products/zillionare_installation/#_10","title":"\u914d\u7f6e\u5b9e\u65f6\u4ef7\u683c\u722c\u866b","text":"<p>\u5c3d\u7ba1Zillionare\u8981\u6c42\u4f7f\u7528\u805a\u5bbd\u7684\u884c\u60c5\u670d\u52a1\uff0c\u4f46\u805a\u5bbd\u5e76\u4e0d\u80fd\u63d0\u4f9b\u5b9e\u65f6\u884c\u60c5\u3002\u56e0\u6b64\uff0cZillionare\u501f\u52a9akshare\u6765\u5b9e\u65f6\u722c\u53d6\u5b9e\u65f6\u4ef7\u683c\u3002\u5728Zillionare\u5b89\u88c5\u540e\uff0c\u8fd9\u4e2a\u670d\u52a1\u5e94\u8be5\u5df2\u7ecf\u542f\u52a8\u4e86\u3002\u4e3a\u4e86\u653e\u5fc3\u8d77\u89c1\uff0c\u8bf7\u6309\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u68c0\u67e5\uff1a</p> <ol> <li>\u8fdb\u5165\u5230zillionare-omega\u5bb9\u5668\u4e2d\u3002</li> <li>\u5207\u6362\u5230app\u8d26\u53f7\uff0c\u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55/home/app/zillionare/akshareprice</li> <li>\u68c0\u67e5python app.py\u662f\u5426\u5df2\u7ecf\u8fd0\u884c\uff0c\u5982\u679c\u5df2\u7ecf\u8fd0\u884c\uff0c\u68c0\u67e5logs/server.log\u662f\u5426\u6b63\u5e38</li> <li>\u4e0a\u8ff0\u6b65\u9aa4\u6709\u4efb\u4f55\u5f02\u5e38\uff0ckill\u5220\u6389\u8be5\u8fdb\u7a0b\uff0c\u7136\u540e\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u542f\u52a8 <pre><code>    conda activate akshare\n    nohup python app.py &amp;\n    #\u6216\u8005\n    nohup /home/app/minissh conda3/envs/akshare/bin/python app.py &amp;\n</code></pre></li> <li>\u68c0\u67e5\u65e5\u5fd7\uff0c\u786e\u5b9a\u7a0b\u5e8f\u6b63\u5e38\u542f\u52a8</li> </ol> <p>Warning</p> <p>Akshare\u4e0d\u80fd\u63d0\u4f9b\u5386\u53f2\u7684\u677f\u5757\u6570\u636e\u3002\u5982\u679c\u9700\u8981\u5386\u53f2\u677f\u5757\u6570\u636e\uff0c\u53ef\u4ee5\u5411\u6211\u4eec\u7d22\u53d6\u3002\u5728\u6ca1\u6709\u6570\u636e\u7684\u65f6\u5019\uff0c\u8fd0\u884c\u4ee5\u4e0b\u4ee3\u7801\u4f1a\u51fa\u9519\uff1a <pre><code>from omicron.models.board import Board, BoardType\n\nBoard.init(\"omega\")\nconcepts = await Board.board_list()\nconcepts[:10]\n\n--- raise TypeError ---\nTypeError: unhashable type: 'slice'\n</code></pre></p> <p>\u677f\u5757\u6570\u636e\u5b58\u653e\u5728omega\u5bb9\u5668\u7684/data/zillionare/omega/boards.zarr\u76ee\u5f55\u4e0b\u3002\u5982\u679c\u540c\u6b65\u4efb\u52a1\u6b63\u5e38\u8fd0\u884c\uff0c\u5219\u4f1a\u5b58\u5728\u4ee5\u4e0b\u6587\u4ef6\u5939\uff1a</p> <p></p>"},{"location":"articles/products/zillionare_installation/#_11","title":"\u9a8c\u8bc1\u5b89\u88c5","text":"<p>\u8fd0\u884c<code>docker-compose up</code>\u4e4b\u540e\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u5e94\u8be5\u8f93\u51fa\uff1a</p> <pre><code>zillionare-lab | [I 2024-02-23 05:55:30.463 ServerApp] Skipped non-installed server(s):...\nzillionare-backtesting | 2024-02-23 05:55:30,693 I 6 pyemit.emit:_listen:135 | listening on &lt;aioredis.client.PubSub object at 0x7fab65abbd00&gt;\n...\nzillionare-omega | waiting for influxdb start...\nzillionare-omega |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n...\nzillionare-omega | \u6b63\u5728\u521d\u59cb\u5316\u7cfb\u7edf\u6570\u636e...\nzillionare-omega | \u7cfb\u7edf\u6570\u636e\u521d\u59cb\u5316\u5b8c\u6bd5...\nzillionare-omega | prepare to start Omega real price process for stock ...\nzillionare-omega | Omega stock price process started ...\n...\n</code></pre>"},{"location":"articles/products/zillionare_installation/#_12","title":"\u68c0\u67e5\u8fd0\u884c\u65e5\u5fd7","text":"<p>zillionare-omega\u7684\u65e5\u5fd7\u5728/data/zillionare/omega/logs\uff08\u5bbf\u4e3b\u673a\uff09\u76ee\u5f55\u4e0b\u3002\u5982\u679c\u805a\u5bbd\u8d26\u53f7\u914d\u7f6e\u6b63\u786e\uff0c\u7ecf\u8fc7\u4e86\u81f3\u5c11\u4e00\u4e2a\u4ea4\u6613\u65e5\u7684\u5348\u591c\uff0c\u5219\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u65e5\u5fd7\uff1a <pre><code>2024-02-23 01:15:31,082 I 209 omega.master.tasks.calibration_task:sync_daily_bars_day:179 | daily_bars_sync_1d(2024-02-22 15:00:00)\u540c\u6b65\u5b8c\u6210,\u53c2\u6570\u4e3a{'timeout': 600, 'name': 'daily_bars_sync_1d', 'frame_type': [&lt;FrameType.DAY: '1d'&gt;], 'end': datetime.datetime(2024, 2, 22, 15, 0), 'n_bars': None, 'state': 'master.task.daily_bars_sync_1d.state', 'scope': ['master.task.daily_bars_sync_1d.scope.stock.1d', 'master.task.daily_bars_sync_1d.scope.index.1d']}\n2024-02-23 01:15:31,084 I 209 omega.master.tasks.calibration_task:get_sync_date:63 | \u6240\u6709\u6570\u636e\u5df2\u540c\u6b65\u5b8c\u6bd5\n</code></pre> \u8fd9\u8868\u660e\u6570\u636e\u540c\u6b65\u670d\u52a1\u6b63\u5e38\u5de5\u4f5c\u3002</p>"},{"location":"articles/products/zillionare_installation/#_13","title":"\u4ece\u8fd9\u91cc\u5f00\u59cb\uff01","text":"<p>\u53ef\u4ee5\u5728\u7814\u7a76\u754c\u9762\u4e0b\u65b0\u5efa\u4e00\u4e2anotebook\uff0c\u4e0a\u4f20\u4ee5\u4e0bnotebook\uff0c\u5f00\u59cb\u8fd0\u884c\u3002</p>"},{"location":"articles/python/best-practice-python/chap01/","title":"01 \u4e3a\u4ec0\u4e48\u8981\u5b66 Python","text":"<p>2020 \u5e74\uff0c\u6b27\u6d32\u592a\u7a7a\u7f72\uff08European Space Agency\uff09\u6253\u7b97\u5411\u706b\u661f\u6d3e\u51fa\u4e00\u4e2a\u63a2\u6d4b\u5668\uff08\u5982\u56fe\uff09\uff0c\u628a\u4e00\u4e9b\u5ca9\u77f3\u6837\u54c1\u5e26\u56de\u5730\u7403\uff0c\u4ee5\u68c0\u6d4b\u706b\u661f\u4e0a\u662f\u5426\u5b58\u5728\u751f\u547d\u3002\u53d7\u71c3\u6599\u9650\u5236\uff0c\u63a2\u6d4b\u5668\u53ea\u80fd\u5e26\u56de 500g \u7684\u706b\u661f\u5ca9\u77f3\u3002\u56e0\u6b64\uff0c\u53ea\u6709\u7cbe\u5fc3\u6311\u9009\u7684\u6837\u672c\u624d\u80fd\u88ab\u5e26\u56de\u5730\u7403\u3002\u79d1\u5b66\u5bb6\u4eec\u51c6\u5907\u6784\u5efa\u4e00\u4e2a\u73b0\u573a\u6311\u9009\u5668\uff0c\u8fd9\u4e2a\u6311\u9009\u5668\u5fc5\u987b\u5177\u6709\u89c6\u89c9\u91cd\u5efa\u80fd\u529b\uff0c\u4e3a\u6b64\u4ed6\u4eec\u6784\u5efa\u4e86\u4e00\u4e2a\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u3002\u5728\u8fd9\u9879\u4efb\u52a1\u4e2d\uff0c\u65e0\u8bba\u662f\u6784\u5efa\u795e\u7ecf\u7f51\u7edc\u548c\u591a CPU \u96c6\u7fa4\uff0c\u8fd8\u662f\u901a\u8fc7 PyCUDA \u6765\u4f7f\u7528 NVIDIA \u7684 CUDA \u5e93\uff0c\u90fd\u91cd\u5ea6\u4f9d\u8d56 Python\u3002</p> <p></p> <p>\u56fe\u7247\u6765\u6e90\uff1amars-rover-space-traveler</p> <p>\u7b2c\u4e00\u4e2a\u767b\u9646\u706b\u661f\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u662f Java\u3002\u5b83\u662f\u4f5c\u4e3a\u52c7\u6c14\u53f7\uff08Spirit\uff09\u63a2\u6d4b\u5668\u7cfb\u7edf\u7684\u4e00\u90e8\u5206\uff0c\u4e8e 2004 \u5e74 1 \u6708 4 \u53f7\u7740\u9646\u5728\u706b\u661f\u4e0a\u7684\u3002\u800c\u8fd9\u4e00\u6b21\uff0c\u4e3a\u4e86\u5b8c\u6210\u66f4\u590d\u6742\u3001\u66f4\u667a\u6167\u7684\u4efb\u52a1\uff0c\u79d1\u5b66\u5bb6\u4eec\u9009\u62e9\u4e86 Python\u3002</p> <p>\u505a\u51fa\u8fd9\u4e2a\u9009\u62e9\u5e76\u4e0d\u5947\u602a\u3002\u5b9e\u9645\u4e0a\uff0c\u968f\u7740\u4eba\u5de5\u667a\u80fd\u7684\u5174\u8d77\uff0cPython \u5df2\u6210\u4e3a\u5f53\u524d\u6700\u7099\u624b\u53ef\u70ed\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5176\u6392\u540d\u5728\u6700\u91cd\u8981\u7684\u7f16\u7a0b\u8bed\u8a00\u6392\u884c\u699c TIOBE  \u4e0a\u9010\u5e74\u6500\u5347\uff1a</p> <p></p> <p>\u4e0d\u4ec5\u5982\u6b64\uff0c\u81ea\u4ece TIOBE \u5f00\u59cb\u7f16\u5236\u5404\u79cd\u5f00\u53d1\u8bed\u8a00\u7684\u6392\u884c\u699c\u4ee5\u6765\uff0cPython \u8fd8\u5206\u522b\u4e8e 2021 \u5e74\u30012020 \u5e74\u30012018 \u5e74\u30012010 \u5e74\u548c 2007 \u5e74\u4e94\u593a\u5e74\u5ea6\u4e4b\u661f\u79f0\u53f7\uff0c\u8fd9\u4e5f\u662f\u552f\u4e00\u4e00\u4e2a\u4e94\u6b21\u83b7\u5f97\u8be5\u79f0\u53f7\u7684\u5f00\u53d1\u8bed\u8a00\uff1a</p> <p></p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4ece VS Code \u4e2d Python \u8bed\u8a00\u6269\u5c55\u7684\u4e0b\u8f7d\u6b21\u6570\uff08\u8d85\u8fc7 1.1 \u4ebf\u6b21\uff0cC/C++\u662f 0.6 \u4ebf\u6b21\uff09\uff0cDocker Hub \u4e0b Python \u955c\u50cf\u7684\u4e0b\u8f7d\u6b21\u6570\u8d85\u8fc7 10 \u4ebf\u6b21\u4e0a\u770b\u51fa\u6765 Python \u7684\u53d7\u6b22\u8fce\u7a0b\u5ea6\u3002</p> <p>\u90a3\u4e48\uff0cPython \u662f\u4e00\u95e8\u4ec0\u4e48\u6837\u7684\u8bed\u8a00\uff1f\u5b83\u5728\u5f00\u53d1\u4e0a\u7a76\u7adf\u6709\u4f55\u4f18\u52bf\uff0c\u4ee5\u81f3\u4e8e\u80fd\u5f97\u5230\u5982\u6b64\u8fd9\u822c\u540d\u58f0\u5462\uff1f\u6211\u4eec\u5e38\u5e38\u542c\u4eba\u8bf4\uff08\u5c24\u5176\u662f\u5728\u4e2d\u6587\u793e\u533a\uff09\uff0cPython \u4e0d\u9002\u5408\u5f00\u53d1\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u662f\u771f\u7684\u5417\uff1f\u8fd9\u672c\u4e66\u5c06\u5c1d\u8bd5\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\uff0c\u7279\u522b\u662f\u4ece\u8f6f\u4ef6\u5de5\u7a0b\u7684\u89d2\u5ea6\uff0c\u9610\u8ff0\u5e94\u8be5\u9075\u5faa\u4ec0\u4e48\u6837\u7684\u5f00\u53d1\u6d41\u7a0b\u548c\u89c4\u8303\uff0c\u53c8\u8981\u4f7f\u7528\u54ea\u4e9b\u5de5\u5177\u548c\u6280\u5de7\uff0c\u624d\u80fd\u5feb\u901f\u5f00\u53d1\u51fa\u590d\u6742\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>Python \u662f\u4e00\u95e8\u6709\u7740\u60a0\u4e45\u5386\u53f2\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5b83\u7531\u51fa\u751f\u4e8e\u8377\u5170\u7684\u7a0b\u5e8f\u5458 Guido Van Rossum \u5f00\u53d1\u3002Guido Van Rossum \u5728\u56fd\u5185\u88ab\u7c89\u4e1d\u4eb2\u5207\u5730\u79f0\u4f5c\u201c\u9f9f\u53d4\u201d\u3002\u4ece\u521b\u7acb\u8fd9\u95e8\u8bed\u8a00\u8d77\u7684\u957f\u8fbe 30 \u5e74\u65f6\u95f4\u91cc\uff0cGuido Van Rossum \u5c31\u4e00\u76f4\u4ee5\u4ed6\u7684\u70ed\u60c5\u548c\u70ed\u7231\u6765\u6307\u5f15\u7740\u8fd9\u95e8\u8bed\u8a00\u7684\u672a\u6765\u53d1\u5c55\u65b9\u5411\uff0c\u88ab\u79f0\u4f5c\u201c\u4ec1\u6148\u7684\u7ec8\u8eab\u72ec\u88c1\u8005\u201d\uff08the benevolent dictator for life\uff09\u3002\u5927\u7ea6\u5728 2018 \u5e74\u4ed6\u6709\u8fc7\u4e00\u6bb5\u77ed\u6682\u7684\u9000\u4f11\uff0c\u4e0d\u8fc7\u5f88\u5feb\u4e8e 2020 \u5e74\u91cd\u65b0\u56de\u5f52\u793e\u533a\uff0c\u52a0\u5165\u5fae\u8f6f\u5e76\u7ee7\u7eed\u9886\u5bfc Python \u7684\u5f00\u53d1\u3002</p> <p>Python \u7684\u6700\u521d\u7248\u672c\u4e8e 1994 \u5e74 1 \u6708\u53d1\u5e03\uff0c\u751a\u81f3\u8fd8\u8981\u65e9\u4e8e Java<sup>1</sup>\u3002\u4e00\u5f00\u59cb\u5b83\u5438\u6536\u4e86\u5f88\u591a Lisp \u8bed\u8a00\u7684\u7279\u6027\uff0c\u6bd4\u5982\u5f15\u5165\u4e86\u51fd\u6570\u5f0f\u7f16\u7a0b\u5de5\u5177\uff0c\u5176\u75d5\u8ff9\u4e00\u76f4\u9057\u7559\u5230\u4eca\u5929 -- \u8fd9\u5c31\u662f\u73b0\u5728\u4ecd\u7136\u5728\u5e7f\u6cdb\u4f7f\u7528\u7684<code>reduce</code>\uff0c <code>filter</code>\uff0c <code>map</code>\u7b49\u51fd\u6570\u7684\u51fa\u5904\u3002\u5728\u90a3\u65f6\uff0cPerl \u8fd8\u662f\u4e00\u79cd\u975e\u5e38\u6d41\u884c\u7684\u811a\u672c\u8bed\u8a00\uff0c Python \u4e5f\u4ece\u4e2d\u5438\u6536\u4e86\u5f88\u591a\u6210\u719f\u6a21\u5757\u7684\u529f\u80fd\uff0c\u8fd9\u6837\u5c31\u6210\u529f\u5730\u7559\u4f4f\u4e86\u4e00\u6279\u5bfb\u627e Perl \u7684\u66ff\u6362\u8bed\u8a00\u7684\u7528\u6237\u3002</p> <p>Python 2.0 \u53d1\u5e03\u4e8e\u5343\u79a7\u5e74\uff082000 \u5e74\uff09\u3002\u8fd9\u4e00\u7248\u672c\u6700\u91cd\u8981\u7684\u6539\u53d8\uff0c\u4e0d\u662f\u65b0\u589e\u4e86\u54ea\u4e9b\u529f\u80fd\uff0c\u800c\u662f\u6d41\u7a0b\u548c\u89c4\u8303\u4e0a\u7684\u6539\u53d8\uff1a\u9996\u5148\uff0cPython \u7684\u5f00\u53d1\u8005\u4eec\u8fc1\u79fb\u5230\u4e86\u65b0\u7684\u4ee3\u7801\u7ba1\u7406\u5de5\u5177\uff0c\u4e4b\u524d\u4ed6\u4eec\u4f7f\u7528\u7684\u662f CVS\u3002\u8fd9\u4e00\u5de5\u5177\u56e0\u65e0\u6cd5\u652f\u6301\u56e2\u961f\u5408\u4f5c\u5f00\u53d1\uff0c\u5df2\u7ecf\u4e25\u91cd\u964d\u4f4e\u4e86\u56e2\u961f\u5f00\u53d1\u6548\u7387\uff1b\u5176\u6b21\uff0c\u4ed6\u4eec\u4eff\u7167 RFC\uff0c\u505a\u4e86\u4e00\u4e2a PEP\uff08Python \u6539\u8fdb\u63d0\u6848\uff09\u8ba1\u5212\uff0c\u4efb\u4f55\u65b0\u589e\u7684\u529f\u80fd\u548c\u53d8\u52a8\uff0c\u90fd\u5fc5\u987b\u5148\u7ecf\u8fc7 PEP \u63d0\u51fa\u3001\u8bc4\u8bba\u548c\u786e\u8ba4\u4e4b\u540e\uff0c\u624d\u4f1a\u6b63\u5f0f\u7eb3\u5165\u5f00\u53d1\u8ba1\u5212\u3002\u6b63\u662f\u8fd9\u4e9b\u6539\u53d8\uff0c\u4f7f\u5f97 Python \u7684\u53d1\u5c55\u8d70\u4e0a\u4e86\u6210\u529f\u4e4b\u8def\u3002</p> <p>\u8fd9\u4e00\u7248\u5728\u529f\u80fd\u4e0a\u7684\u91cd\u5927\u53d8\u5316\uff0c\u662f\u5f00\u59cb\u4f7f\u7528 16 \u4f4d\u7684 Unicode \u5b57\u7b26\u4e32\uff08\u6ce8\u610f\u8fd9\u5e76\u4e0d\u662f\u6211\u4eec\u73b0\u5728\u5e38\u7528\u7684 UTF-8 \u7f16\u7801\uff09\uff0c\u8fd9\u4f7f\u5f97 Python \u5f97\u4ee5\u8d70\u51fa\u82f1\u8bed\u6587\u5316\u5708\uff0c\u5f00\u59cb\u4e86\u56fd\u9645\u5316\u4e4b\u8def\u3002</p> <p>2001 \u5e74\u5e95\uff0cPython 2.2 \u53d1\u5e03\uff0c\u4ece\u800c\u4f7f\u5f97 Python \u6210\u4e3a\u4e00\u95e8\u7eaf\u7cb9\u7684\u9762\u5411\u5bf9\u8c61\u7684\u7f16\u7a0b\u8bed\u8a00\u3002\u8fd9\u4e00\u6bb5\u65f6\u95f4\uff0cJava \u5728\u4f01\u4e1a\u5e94\u7528\u7aef\u5f00\u679d\u6563\u53f6\uff0c\u800c Python \u5219\u5728\u6570\u636e\u548c\u57fa\u7840\u8bbe\u65bd\u7ba1\u7406\u65b9\u9762\u627e\u5230\u7528\u6b66\u4e4b\u5730\u3002</p> <p>2008 \u5e74\uff0cPython 3.0 \u7248\u672c\u53d1\u5e03\uff0c\u56e0\u5176\u4e0e 2.x \u5b8c\u5168\u4e0d\u517c\u5bb9\uff08Python 2.7 \u6210\u4e3a Python 2.x \u7684\u6700\u7ec8\u7248\uff09\uff0c\u6210\u4e3a Python \u5386\u53f2\u4e0a\u6700\u5177\u4e89\u8bae\u7684\u4e00\u4e2a\u7248\u672c\uff0c\u4f46\u4e5f\u5c31\u6b64\u7529\u6389\u4e86\u957f\u671f\u4ee5\u6765\u79ef\u7d2f\u7684\u6c89\u91cd\u5305\u88b1\u3002\u6b64\u540e Python \u8f7b\u88c5\u4e0a\u9635\uff0c\u76f4\u5230 3.6 \u7248\u672c\u5f00\u59cb\uff0c\u6210\u4e3a Python 3 \u7cfb\u5217\u7b2c\u4e00\u4e2a\u6bd4\u8f83\u7a33\u5b9a\u53ef\u9760\u7684\u7248\u672c\u3002\u4e5f\u662f\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u968f\u7740\u5927\u6570\u636e\u3001\u673a\u5668\u5b66\u4e60\u4e0e\u4eba\u5de5\u667a\u80fd\u7684\u5feb\u901f\u6f14\u8fdb\uff0cPython \u8fdb\u4e00\u6b65\u53d1\u6325\u51fa\u5b83\u7684\u4f18\u52bf\uff0c\u88ab\u8d8a\u6765\u8d8a\u591a\u7684\u4eba\u8ba4\u8bc6\u548c\u4f7f\u7528\u3002</p> <p>Python \u662f\u4e00\u95e8\u4f18\u96c5\u8ff7\u4eba\u3001\u6613\u4e8e\u5b66\u4e60\u548c\u9ad8\u6548\u7684\u5f00\u53d1\u8bed\u8a00\u3002\u4ece\u4e00\u5f00\u59cb\u8d77\uff0c\u5b83\u5c31\u628a\u4f18\u7f8e\u6613\u8bfb\uff0c\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\u548c\u6613\u4e8e\u5f00\u53d1\u4f5c\u4e3a\u7b2c\u4e00\u76ee\u6807\uff0c\u628a\u7f16\u7a0b\u7684\u5feb\u4e50\u91cd\u65b0\u8fd8\u7ed9\u5f00\u53d1\u8005\u3002\u5728 1999 \u5e74\uff0c\u521b\u59cb\u4eba Guido Van Rossum \u53d1\u8d77\u4e86\u4e00\u9879\u540d\u4e3a CP4E(Computer Programming for Everybody) \u7684\u8fd0\u52a8\uff0c\u65e8\u5728\u8ba9\u51e0\u4e4e\u6240\u6709\u4eba\u90fd\u80fd\u7f16\u5199\u548c\u6539\u8fdb\u8ba1\u7b97\u673a\u7a0b\u5e8f\u3002\u8fd9\u9879\u8fd0\u52a8\u7684\u53d1\u8d77\u5ba3\u8a00\u5728\u8fd9\u91cc <sup>5</sup>\u3002\u5b83\u5199\u9053\uff0c\u82e5\u5e72\u5e74\u524d\uff0c\u65bd\u4e50\u516c\u53f8\u66fe\u7ecf\u63d0\u51fa\u4e86\u8ba9\u6bcf\u4e2a\u684c\u9762\u90fd\u6446\u4e0a\u4e00\u53f0\u8ba1\u7b97\u673a\u7684\u5b8f\u5927\u613f\u666f\uff0c\u8fd9\u4e2a\u613f\u666f\u65e9\u5df2\u5b9e\u73b0\u3002\u4f46\u662f\uff0c\u8ba1\u7b97\u673a\u8fd8\u4e0d\u591f\u7075\u6d3b\u3002\u5982\u679c\u8ba9\u6bcf\u4e00\u4e2a\u4eba\u90fd\u6709\u80fd\u529b\u4e3a\u4ed6\u4eec\u7684\u8ba1\u7b97\u673a\u7f16\u7a0b\uff0c\u4f1a\u600e\u6837\uff1f</p> <p>\u8fd9\u9879\u8fd0\u52a8\u7684\u76ee\u6807\u4e4b\u4e00\uff0c\u5c31\u662f\u4e3a\u4e2d\u5b66\u751f\u8bbe\u8ba1\u4e00\u95e8\u7f16\u7a0b\u8bed\u8a00\u8bfe\u3002\u6211\u4eec\u770b\u5230\uff0c\u73b0\u5728\u56fd\u5185\u5f88\u591a\u7701\u4efd\u5df2\u7ecf\u5f00\u59cb\u8981\u6c42\u4e2d\u5b66\u751f\u5b66\u4e60 Python \u7f16\u7a0b\uff0c\u53ef\u4ee5\u8bf4\uff0c\u8fd9\u9879\u8fd0\u52a8\u7684\u7406\u5ff5\uff0c\u6f5c\u79fb\u9ed8\u5316\u5730\uff0c\u5728\u4e16\u754c\u8303\u56f4\u5185\u5f97\u5230\u4e86\u8ba4\u540c\u3002\u5b9e\u9645\u4e0a\uff0c\u6b63\u662f\u7531\u4e8e Python \u8bed\u8a00\u7684\u7b80\u6d01\u4f18\u7f8e\uff0c\u63a5\u8fd1\u81ea\u7136\u8bed\u8a00\u3001\u65e0\u987b\u7f16\u8bd1\u7684\u7279\u6027\uff0c\u624d\u4f7f\u5f97 CP4E \u7684\u76ee\u6807\u6709\u53ef\u80fd\u5b9e\u73b0\u3002</p> <p>\u5982\u679c\u8bf4\u4f18\u96c5\u8ff7\u4eba\u8fd8\u6709\u4e9b\u4e3b\u89c2\u7684\u6210\u5206\uff0c\u6bd5\u7adf\u6bcf\u4e2a\u4eba\u5fc3\u4e2d\u7684\u5973\u795e\u53ef\u80fd\u4e0d\u5c3d\u76f8\u540c\u3002\u4f46\u5f88\u5c11\u4f1a\u6709\u4eba\u4e0d\u627f\u8ba4 Python \u7684\u7b80\u6d01\u9ad8\u6548\u3002\u201c\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528 Python\u201d\u4e0d\u4ec5\u662f\u4e00\u53e5\u53e3\u53f7\uff0c\u4e5f\u662f Python \u7a0b\u5e8f\u5f00\u53d1\u9ad8\u6548\u7387\u7684\u4e00\u4e2a\u771f\u5b9e\u5199\u7167\u3002</p> <p>\u4e0e\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\u76f8\u6bd4\uff0c\u5b9e\u73b0\u540c\u6837\u7684\u529f\u80fd\uff0c\u5728\u4e0d\u501f\u52a9\u4e8e\u51fd\u6570\u5e93\u7684\u524d\u63d0\u4e0b\uff0cPython \u4ee3\u7801\u59cb\u7ec8\u662f\u6700\u7b80\u5355\u3001\u6700\u6613\u8bfb\u7684\u3002\u5982\u679c\u5728 C\u3001Java \u548c Python \u4e09\u8005\u95f4\u8fdb\u884c\u6bd4\u8f83\u7684\u8bdd\uff0cJava \u662f\u4ee3\u7801\u91cf\u6700\u5927\u7684\u8bed\u8a00\uff0c\u8981\u6bd4 C \u8bed\u8a00\u957f 1.5 \u500d\uff0c\u800c\u6bd4 Python \u8981\u957f 3~4 \u500d\u3002\u6211\u4eec\u4ee5\u8f93\u51fa\u4e00\u4e2a\u6570\u7ec4\u7684\u5143\u7d20\u4e3a\u4f8b\u6765\u4f53\u9a8c\u4e00\u4e0b\u3002</p> <p>\u8fd9\u662f Python \u7684\u4f8b\u5b50\uff1a</p> <pre><code>arr = [\"Hello, World!\", \"Hi there, Everyone!\", 6]\nfor i in arr:\n    print(i)\n</code></pre> <p>\u8fd9\u662f Java \u7684\u4f8b\u5b50\uff1a</p> <pre><code>public class Test {\n    public static void main(String args[]) {\n        String array[] = {\"Hello, World\", \"Hi there, Everyone\", \"6\"};\n        for (String i : array) {\n          System.out.println(i);\n        }\n    }\n}\n</code></pre> <p>\u4ec5\u770b\u5b9a\u4e49\u548c\u8f93\u51fa\u6570\u7ec4\u5143\u7d20\u503c\u7684\u90a3\u90e8\u5206\u3002\u4e24\u79cd\u8bed\u8a00\u90fd\u9700\u8981\u4e09\u884c\u4ee3\u7801\uff0c\u4f46\u662f Python \u7684\u4ee3\u7801\u660e\u663e\u66f4\u77ed\uff0c\u66f4\u4e0d\u8981\u8bf4 Python \u8fd8\u6709\u6240\u8c13\u7684\u201cpythonic\"\u7684\u5199\u6cd5\uff1a</p> <pre><code>[print(i) for i in [\"Hello, World!\", \"Hi there, Everyone!\", 6]]\n</code></pre> <p>\u5f53\u7136\u8fd9\u4e48\u5199\u8fd8\u662f\u6709\u4e89\u8bae\u7684\uff0c\u5bf9\u4e00\u4e9b\u4eba\u6765\u8bf4\uff0c\u5b83\u727a\u7272\u4e86\u53ef\u8bfb\u6027\u3002</p> <p>\u6211\u4eec\u518d\u770b\u4e00\u4e2a\u53d8\u91cf\u4ea4\u6362\u7684\u4f8b\u5b50\uff1a</p> <pre><code>// C program to swap two variables in single line\n#INCLUDE &lt;STDIO.H&gt;\nint main()\n{\n    int x = 5, y = 10;\n    //(x ^= y), (y ^= x), (x ^= y);\n    int c;\n    c = y;\n    y = x;\n    x = c;\n    printf(\"After Swapping values of x and y are %d %d\", x, y);\n    return 0;\n}\n</code></pre> <pre><code>class GFG {\n    public static void main(String[] args)\n    {\n        int x = 5, y = 10;\n        //x = x ^ y ^ (y = x);\n        int c;\n        c = y;\n        y = x;\n        x = c;\n        System.out.println(\"After Swapping values\"+\" of x and y are \" + x + \" \" + y);\n    }\n}\n</code></pre> <pre><code>x, y = 5, 10\nx, y = y, x\nprint(\"After Swapping values of x and y are\", x, y)\n</code></pre> <p>Python \u7684\u8bed\u6cd5\u663e\u7136\u66f4\u7b80\u5355\uff0c\u5b83\u5c31\u50cf\u6211\u4eec\u6bcf\u5929\u4f7f\u7528\u7684\u81ea\u7136\u8bed\u8a00\u4e00\u6837\uff0c\u4f3c\u4e4e\u4e0d\u501f\u52a9\u4efb\u4f55\u590d\u6742\u7684\u6280\u5de7\u3001\u751a\u81f3\u4e0d\u9700\u8981\u61c2\u6240\u8c13\u7684\u7f16\u7a0b\u77e5\u8bc6\uff0c\u5c31\u80fd\u591f\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u3002C \u548c Java \u867d\u7136\u4e5f\u90fd\u80fd\u4e0d\u501f\u52a9\u7b2c\u4e09\u4e2a\u53d8\u91cf\uff0c\u5b9e\u73b0\u4e00\u884c\u4ee3\u7801\u5b8c\u6210\u53d8\u91cf\u7684\u503c\u4ea4\u6362\uff0c\u4f46\u8fd9\u6837\u7684\u4ee3\u7801\u9700\u8981\u4e00\u5b9a\u7684\u6280\u5de7\uff0c\u56e0\u800c\u5bb9\u6613\u51fa\u9519\u3002</p> <p>\u7b80\u6d01\uff08\u4f46\u4e0d\u9700\u8981\u501f\u52a9\u4e8e\u590d\u6742\u7684\u6280\u5de7\uff09\u7684\u4ee3\u7801\u663e\u7136\u66f4\u52a0\u5bb9\u6613\u9605\u8bfb\u548c\u7406\u89e3\uff0c\u4ece\u800c\u5927\u5927\u52a0\u5feb\u4e86\u5f00\u53d1\u7684\u901f\u5ea6\u3002\u7684\u786e\uff0c\u5728\u8fd9\u4e2a\u4fe1\u606f\u8fc7\u8f7d\u7684\u65f6\u4ee3\uff0c\u7b80\u6d01\u8d8a\u6765\u8d8a\u663e\u793a\u51fa\u5f3a\u5927\u7684\u529b\u91cf\uff1ajson \u53d6\u4ee3 xml \u6210\u4e3a\u66f4\u591a\u4eba\u7528\u6765\u4f20\u9012\u6570\u636e\u7684\u5de5\u5177\uff1bMarkdown \u5219\u53d6\u4ee3\u4e86 Html\u3001reStructuredText \u548c Word \u6210\u4e3a\u6211\u4eec\u7684\u6587\u6863\u683c\u5f0f\u3002</p> <p>\u5220\u7e41\u5c31\u7b80\u4e09\u79cb\u6811\uff0c\u6807\u65b0\u7acb\u5f02\u4e8c\u6708\u82b1\u3002\u7e41\u7410\u3001\u5938\u5f20\u7684\u5df4\u6d1b\u514b\u827a\u672f\uff0c\u65e0\u8bba\u5176\u591a\u4e48\u7cbe\u81f4\u3001\u591a\u4e48\u5438\u5f15\u773c\u7403\uff0c\u90fd\u65e0\u6cd5\u5728\u8fd9\u4e2a\u9ad8\u5ea6\u5185\u5377\u7684\u5e74\u4ee3\u9003\u8131\u6279\u5224\u3002\u6211\u4eec\u9700\u8981\u90a3\u4e9b\u80fd\u591f\u6210\u4e3a\u6211\u4eec\u76f4\u89c9\u7684\u5de5\u5177\u3001\u7b26\u53f7\u548c\u601d\u60f3\uff0c\u4ee5\u4fbf\u8ba9\u6211\u4eec\u80fd\u591f\u5feb\u901f\u54cd\u5e94\u8fd9\u65e5\u76ca\u590d\u6742\u7684\u4e16\u754c\u3002</p> <p>Note</p> <p>\u7b80\u5355\u5373\u662f\u7f8e\u3002\u8fd9\u79cd\u54f2\u5b66\u601d\u60f3\u5927\u81f4\u8d77\u6e90\u4e8e\u5965\u5361\u59c6\u3002\u8fbe\u82ac\u5947\u4e5f\u6709\u7c7b\u4f3c\u7684\u601d\u60f3\uff1a\u201c\u7b80\u5355\u662f\u6781\u81f4\u7684\u7cbe\u5de7\u201d\uff0c\u5c3d\u7ba1\u7cbe\u5de7\u624d\u662f\u8fbe\u82ac\u5947\u65f6\u4ee3\u7684\u5ba1\u7f8e\u3002\u5982\u679c\u4f60\u5bf9\u8fd9\u4e9b\u601d\u60f3\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u9605\u8bfb John Maeda \u64b0\u5199\u7684\u4e66\u7c4d\u300aThe Laws of Simplicity\u300b\u3002</p> <p>\u8bed\u8a00\u7684\u7b80\u6d01\u3001\u4f18\u7f8e\u5728 Python \u4e2d\u7684\u5730\u4f4d\u662f\u5982\u6b64\u91cd\u8981\uff0c\u4ee5\u81f3\u4e8e\u5b83\u88ab\u5199\u8fdb\u4e86 Python\u201c\u5baa\u7ae0\u201d -- PEP20<sup>2</sup>\uff1a </p> <p>Cite</p> <p>\"Zen of Python -  by Tim Peters<sup>3</sup>\"   </p> <p>Beautiful is better than ugly. \u4f18\u7f8e\u80dc\u4e8e\u4e11\u964b</p> <p>Explicit is better than implicit. \u660e\u4e86\u80dc\u4e8e\u6666\u6da9</p> <p>Simple is better than complex. \u7b80\u5355\u4f18\u4e8e\u590d\u6742</p> <p>Complex is better than complicated. \u590d\u6742\u4f18\u4e8e\u51cc\u4e71</p> <p>Flat is better than nested. \u6241\u5e73\u597d\u8fc7\u5d4c\u5957</p> <p>Sparse is better than dense. \u7a00\u758f\u5f3a\u4e8e\u7a20\u5bc6</p> <p>Readability counts. \u53ef\u8bfb\u6027\u5f88\u91cd\u8981\uff01</p> <p>Special cases aren't special enough to break the rules. \u7279\u4f8b\u4ea6\u4e0d\u53ef\u8fdd\u80cc\u539f\u5219</p> <p>Although practicality beats purity. \u5373\u4f7f\u5b9e\u7528\u6218\u80dc\u4e86\u7eaf\u7cb9</p> <p>Errors should never pass silently. \u9519\u8bef\u7edd\u4e0d\u80fd\u6084\u6084\u5ffd\u7565</p> <p>Unless explicitly silenced. \u9664\u975e\u6211\u4eec\u786e\u5b9a\u9700\u8981\u5982\u6b64</p> <p>In the face of ambiguity, refuse the temptation to guess. \u9762\u5bf9\u4e0d\u786e\u5b9a\u6027\uff0c\u62d2\u7edd\u5984\u52a0\u731c\u6d4b</p> <p>There should be one -- and preferably only one -- obvious way to do it. \u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053</p> <p>Although that way may not be obvious at first unless you're Dutch. \u5373\u4fbf\u89e3\u51b3\u4e4b\u9053\u8d77\u521d\u770b\u8d77\u6765\u5e76\u4e0d\u663e\u800c\u6613\u89c1</p> <p>Now is better than never. \u505a\u603b\u6bd4\u4e0d\u505a\u5f3a</p> <p>Although never is often better than right now. \u7136\u800c\u4e0d\u5047\u601d\u7d22\u8fd8\u4e0d\u5982\u4e0d\u505a</p> <p>If the implementation is hard to explain, it's a bad idea. \u96be\u4ee5\u540d\u72b6\u7684\uff0c\u5fc5\u7136\u662f\u574f\u7684</p> <p>If the implementation is easy to explain, it may be a good idea. \u6613\u4ee5\u8a00\u4f20\u7684\uff0c\u53ef\u80fd\u662f\u597d\u7684</p> <p>Namespaces are one honking great idea -- let's do more of those! \u540d\u5b57\u7a7a\u95f4\u662f\u4e2a\u7edd\u5999\u7684\u4e3b\u610f\uff0c\u8bf7\u597d\u597d\u4f7f\u7528\uff01</p> <p>\u8fd9\u6bb5\u6587\u5b57\u751a\u81f3\u8fd8\u4ee5\u5f69\u86cb\u7684\u65b9\u5f0f\u51fa\u73b0\u3002\u5982\u679c\u6267\u884c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a</p> <pre><code>python -c 'import this'\n</code></pre> <p>\u5c31\u4f1a\u8f93\u51fa\u4e0a\u9762\u7684\u6587\u5b57\u3002\u4efb\u4f55\u65f6\u5019\uff0c\u5982\u679c\u6211\u9700\u8981\u5f15\u7528\u300aZen of Python\u300b\uff0c\u6211\u90fd\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002</p> <p>PEP20 \u8fd8\u85cf\u7740\u53e6\u4e00\u4e2a\u5f69\u86cb\u3002\u6211\u4eec\u8bf4\u5b83\u5e94\u8be5\u6709 20 \u6761\u89c4\u5219\uff0c\u4f46\u5b9e\u9645\u4e0a\u6211\u4eec\u53ea\u80fd\u770b\u5230 19 \u6761\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8fd9\u7b2c 20 \u6761\u89c4\u5219\uff0c\u662f\u7559\u7ed9 Guido \u7684\u7279\u6743\uff0c\u591a\u5e74\u6765\uff0c\u793e\u533a\u4e00\u76f4\u5728\u7b49\u5f85\u4ed6\u6765\u6dfb\u52a0\u8fd9\u4e00\u6761\u89c4\u5219\u3002\u8fd9\u4e5f\u53cd\u6620\u4e86\u793e\u533a\u5bf9 Guido \u7684\u5c0a\u656c\u4e0e\u70ed\u7231\u3002\u4e0d\u8fc7\uff0c10 \u591a\u5e74\u8fc7\u53bb\u4e86\uff0c\u8fc4\u4eca\u4e3a\u6b62\uff0cGuido \u90fd\u6ca1\u6709\u4f7f\u7528\u8fd9\u4e00\u7279\u6743\uff0c\u8fd9\u7b2c 20 \u6761\"\u519b\u89c4\"\uff0c\u4e5f\u5c31\u4e00\u76f4\u7a7a\u7f3a\u5230\u73b0\u5728\u3002</p> <p>\u5176\u6b21\uff0cPython \u7684\u9ad8\u6548\uff0c\u8fd8\u4f53\u73b0\u5728\u5b83\u65e0\u9700\u7f16\u8bd1\u5373\u53ef\u8fd0\u884c\u4e0a\u3002\u8c61 C\uff0cJava \u8fd9\u6837\u7684\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u5199\u5b8c\u4e00\u5c0f\u6bb5\u7a0b\u5e8f\uff0c\u60f3\u770b\u770b\u5b83\u662f\u5982\u4f55\u8fd0\u884c\u7684\uff0c\u4f60\u5fc5\u987b\u7b49\u5f85\u5b83\u5b8c\u6210\u7f16\u8bd1 -- \u8fd9\u4e2a\u65f6\u95f4\u53ef\u80fd\u662f\u51e0\u5341\u79d2\u6216\u8005\u4ee5\u5206\u949f\u3001\u751a\u81f3\u5c0f\u65f6\u8ba1 \u2014 \u8fd9\u5c06\u5bfc\u81f4\u7a0b\u5e8f\u5458\u7684\u5de5\u4f5c\u88ab\u6253\u65ad\u3002\u4e0b\u9762\u7684\u8bbd\u523a\u6f2b\u753b\u53cd\u6620\u4e86\u8fd9\u79cd\u60c5\u51b5\uff1a</p> <p></p> <p>\u800c\u5728 Python \u4e2d\uff0c\u4f60\u968f\u65f6\u53ef\u4ee5\u6253\u5f00\u5b83\u7684\u4ea4\u4e92\u5f0f\u754c\u9762\uff08\u5373 IPython)\uff0c\u8f93\u5165\u4e00\u5c0f\u6bb5\u4ee3\u7801\uff0c\u9a6c\u4e0a\u5c31\u770b\u5230\u5b83\u7684\u8fd0\u884c\u7ed3\u679c\u3002\u4e0b\u56fe\u663e\u793a\u4e86\u5982\u4f55\u5728 ipython \u754c\u9762\u4e0b\u8ba1\u7b97\u6570\u5b66\u95ee\u9898\uff1a</p> <p></p> <p>\u5982\u679c\u4f60\u4e0d\u559c\u6b22\u4f7f\u7528 IPython \u8fd9\u79cd\u547d\u4ee4\u884c\u5f0f\u7684\u63a5\u53e3\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5\u4e00\u4e2a Jupyter Notebook \u6765\u7f16\u5199\u548c\u8fd0\u884c\u4e00\u4e9b Python \u4ee3\u7801\u7247\u6bb5\u3002\u5173\u4e8e Jupyter Notebook\uff0c\u6211\u4eec\u8fd8\u4f1a\u5728\u4ecb\u7ecd IDE \u65f6\u8fdb\u4e00\u6b65\u4ecb\u7ecd\u3002\u6b64\u5916\uff0c\u968f\u624b\u5199\u4e00\u4e2a Unittest\uff0c\u901a\u8fc7 Unittest \u6765\u6d4b\u8bd5\u4f60\u521a\u5199\u7684\u65b9\u6cd5\u4e5f\u4f1a\u6bd4\u5176\u5b83\u8bed\u8a00\u6765\u5f97\u66f4\u5bb9\u6613\u3002\u56e0\u6b64\uff0c\u4f7f\u7528 Python\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b66\u4e60\u548c\u6210\u957f\u662f\u5982\u6b64\u5bb9\u6613\uff01</p> <p>\u6700\u540e\uff0cPython \u80fd\u6210\u4e3a\u4e00\u95e8\u9ad8\u6548\u5f00\u53d1\u8bed\u8a00\uff0c\u8fd8\u5f97\u76ca\u4e8e\u5b83\u5e9e\u5927\u548c\u6d3b\u8dc3\u7684\u793e\u533a\u3002\u5728 Python \u4e16\u754c\u91cc\uff0c\u4f60\u5f88\u5bb9\u6613\u53d1\u73b0\u4e00\u4e9b\u9020\u597d\u7684\u201c\u8f6e\u5b50\u201d\uff0c\u56e0\u6b64\u6784\u5efa\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u5c31\u8c61\u642d\u79ef\u6728\u4e00\u6837\u7b80\u5355\u3002\u6bd4\u5982\uff0c\u6709\u65f6\u5019\u9700\u8981\u663e\u793a\u4e00\u4e9b Html \u683c\u5f0f\u7684\u6587\u6863\uff0c\u6216\u8005\u4ee5 Web \u7684\u65b9\u5f0f\u5c55\u73b0\u672c\u5730\u6587\u4ef6\u4ee5\u4f9b\u4e0b\u8f7d\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8c61\u4e0b\u9762\u4e00\u6837\u7b80\u5355\u5730\u542f\u52a8\u4e00\u4e2a HTTP \u670d\u52a1\u5668\uff1a</p> <pre><code>python -m http.server\n</code></pre> <p>\u8fd9\u6837\u5c31\u542f\u52a8\u4e86\u4e00\u4e2a web \u670d\u52a1\u5668\uff0c\u5b83\u4f1a\u5217\u51fa\u547d\u4ee4\u542f\u52a8\u65f6\u7684\u6587\u4ef6\u5939\u76ee\u5f55\uff0c\u800c\u4f60\u4e0d\u9700\u8981\u5b89\u88c5\u548c\u8bbe\u7f6e\u4efb\u4f55\u8f6f\u4ef6\uff01</p> <p>\u540d\u6ee1\u5929\u4e0b\uff0c\u8c24\u4ea6\u968f\u4e4b\u3002\u4f5c\u4e3a\u4e00\u79cd\u9002\u5408\u6240\u6709\u4eba\u4f7f\u7528\u7684\u7f16\u7a0b\u8bed\u8a00\uff0cPython \u5728\u627f\u8f7d\u5e0c\u671b\u7684\u540c\u65f6\uff0c\u4e5f\u627f\u62c5\u4e86\u8bb8\u591a\u8d28\u7591\u3002\u8fd9\u4e9b\u8d28\u7591\u4e2d\u58f0\u91cf\u6700\u5927\u7684\uff0c\u5f53\u5c5e\u5bf9 Python \u6027\u80fd\u548c\u6784\u5efa\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u80fd\u529b\u7684\u8d28\u7591\u3002</p> <p>\u8bda\u7136\uff0cPython \u4e0e\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\u76f8\u6bd4\uff0c\u5728\u8fd0\u884c\u901f\u5ea6\u4e0a\u786e\u5b9e\u8981\u843d\u540e\u4e0d\u5c11\u3002\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u8fd9\u79cd\u843d\u540e\u751a\u81f3\u662f\u6709\u610f\u4e3a\u4e4b\uff0c\u56e0\u4e3a\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u4ee5\u6765\uff0cPython \u4e4b\u7236\u5e76\u4e0d\u8ba4\u4e3a\u9700\u8981\u8fc7\u591a\u5730\u5173\u6ce8 Python \u7684\u6027\u80fd\u95ee\u9898\uff0c\u5b83\u5df2\u7ecf\u8db3\u591f\u5feb\u4e86\u3002\u786e\u5b9e\uff0c\u5bf9 99%\u4ee5\u4e0a\u7684\u4efb\u52a1\u6765\u8bf4\uff0cPython \u7684\u6027\u80fd\u662f\u8db3\u591f\u7684\uff0c\u5feb\u5230\u8db3\u591f\u652f\u6491\u65e9\u671f\u7684 Google \u548c Dropbox  \u2014 \u8fd9\u662f\u5f88\u591a\u7a0b\u5e8f\u5458\u4e00\u751f\u90fd\u96be\u4ee5\u9047\u5230\u7684\u5e94\u7528\u573a\u666f\u3002\u4ece\u90a3\u4e2a\u65f6\u5019\u8d77\uff0cPython \u5728\u6027\u80fd\u4e0a\u53c8\u6709\u4e86\u957f\u8db3\u7684\u8fdb\u6b65\u30022023 \u5e74 ChatGPT \u7684\u95ee\u4e16 \u2013 \u5b83\u7684\u9ad8\u6027\u80fd\u8ba1\u7b97\u540e\u53f0\uff0c\u6b63\u662f\u7531 Python \u4e0b\u7684 Ray[^Ray] \u8fd9\u4e2a\u5e93\u6765\u5b9e\u73b0\u7684 \u2013 \u4e0d\u4ec5\u544a\u8bc9\u6211\u4eec\u4eba\u5de5\u667a\u80fd\u7684\u8bed\u8a00\u6a21\u578b\u53ef\u4ee5\u6709\u591a\u5148\u8fdb\uff0c\u800c\u4e14\u8fd8\u544a\u8bc9\u6211\u4eec\uff0cPython \u4e5f\u53ef\u4ee5\u5199\u51fa\u6765\u9ad8\u6027\u80fd\u3001\u9ad8\u53ef\u6269\u5c55\u6027\u7684\u5927\u578b\u5206\u5e03\u5f0f\u8ba1\u7b97\u5e73\u53f0  \u3002\u76ee\u524d\uff0c\u8fd9\u4e2a\u5e73\u53f0\u5df2\u7ecf\u652f\u6491\u4e86\u8d85\u8fc7 1 \u4ebf\u6708\u6d3b\u8dc3\u7528\u6237\uff0c\u6211\u4eec\u8fd8\u4e0d\u77e5\u9053\u8fd9\u4e2a\u5e73\u53f0\u7684\u74f6\u9888\u5728\u54ea\u91cc\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u6050\u6015\u518d\u4e5f\u4e0d\u80fd\u8bf4\uff0cPython \u4e0d\u9002\u5408\u6784\u5efa\u5927\u578b\u5e94\u7528\u4e86\u5427\uff1f</p> <p>\u4f46\u662f\u4eba\u4eec\u4e5f\u6709\u7406\u7531\u8981\u6c42 Python \u8fd0\u884c\u5f97\u66f4\u5feb\u3002\u6bd5\u7adf\uff0c\u65e0\u8bba\u4eba\u4eec\u5df2\u7ecf\u4f7f\u7528 Python \u6784\u5efa\u51fa\u4e86\u7b97\u529b\u591a\u4e48\u60ca\u4eba\u7684\u8ba1\u7b97\u5e73\u53f0\uff0c\u4f46 Python \u7684\u5355\u8fdb\u7a0b\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u8bb8\u591a\u573a\u666f\u4e0b\u4ecd\u7136\u8f83\u591a\u6570\u8bed\u8a00\u6765\u5f97\u6162\u3002\u5982\u679c Python \u672c\u8eab\u8fd0\u884c\u8f83\u6162\uff0c\u5982\u679c\u518d\u52a0\u4e0a\u5e94\u7528\u7a0b\u5e8f\u7684\u67b6\u6784\u8bbe\u8ba1\u5f88\u7cdf\u7cd5\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd8\u662f\u53ef\u80fd\u51fa\u73b0\u6027\u80fd\u74f6\u9888\u7684 \u2014 \u9700\u8981\u6307\u51fa\u7684\u662f\uff0c\u7cdf\u7cd5\u7684\u5e94\u7528\u7a0b\u5e8f\u67b6\u6784\u662f\u7edd\u5927\u591a\u6570\u5e94\u7528\u4ea7\u751f\u6027\u80fd\u74f6\u9888\u7684\u539f\u56e0\uff0c\u800c\u4e0d\u5e94\u8be5\u7531\u5f00\u53d1\u8bed\u8a00\u6765\u80cc\u9ed1\u9505\u3002\u6bd4\u5982\uff0c\u5f88\u591a\u4eba\u8bdf\u75c5 Python \u7684 GIL\uff08\u5168\u5c40\u89e3\u91ca\u5668\u9501\uff09\u4f7f\u5f97 Python \u4e2d\u65e0\u6cd5\u5145\u5206\u5229\u7528\u591a\u7ebf\u7a0b\u7684\u4f18\u52bf\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u591a\u7ebf\u7a0b\u5f88\u591a\u65f6\u5019\u662f\u4e2a\u574f\u4e3b\u610f\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528 Coroutine \u548c\u591a\u8fdb\u7a0b\u6765\u4ee3\u66ff\u5b83\uff0c\u8fd9\u6837\u5f80\u5f80\u80fd\u8fbe\u5230\u66f4\u597d\u7684\u6027\u80fd\u3002</p> <p>\u4e0d\u8fc7\uff0c\u5728\u4e0d\u8fdc\u7684\u5c06\u6765\uff0c\u6211\u4eec\u5c06\u518d\u4e5f\u4e0d\u7528\u4e3a Python \u7684\u6027\u80fd\u95ee\u9898\u62c5\u5fe7\uff1a\u5728 2021 \u5e74 5 \u6708\u7684 Python \u5f00\u53d1\u8005\u5cf0\u4f1a\u4e0a\uff0cGuido \u5df2\u7ecf\u5ba3\u5e03\u4e86\u4e00\u4e2a\u8ba1\u5212\uff0c\u8981\u5728\u672a\u6765\u56db\u5e74\u91cc\uff0c\u5c06 Python \u7684\u6027\u80fd\u63d0\u5347 5 \u500d\u751a\u81f3\u66f4\u591a\u3002\u6211\u4eec\u4e0d\u59a8\u7545\u60f3\u4e00\u4e0b\uff0c\u5230\u90a3\u65f6\uff0cRay \u4f1a\u4e0d\u4f1a\u6210\u4e3a\u4e16\u754c\u4e0a\u7b97\u529b\u6700\u5f3a\u7684\u8ba1\u7b97\u5e73\u53f0\u4e4b\u4e00\u5462\uff1f</p> <p>\u53e6\u4e00\u4e2a\u95ee\u9898\uff0c\u662f\u5173\u4e8e Python \u662f\u5426\u9002\u5408\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u3002\u5982\u679c\u8bf4\u5bf9 Python \u6027\u80fd\u7684\u8d28\u7591\u8fd8\u6709\u5176\u4e8b\u5b9e\u4f9d\u636e\uff0c\u8fd9\u4e2a\u8d28\u7591\u5219\u53ea\u80fd\u53cd\u6620\u63d0\u95ee\u8005\u5bf9 Python \u7684\u5f00\u53d1\u7f3a\u4e4f\u4e86\u89e3\u3002\u8fd9\u4e9b\u8d28\u7591\u5177\u4f53\u5730\u8bf4\uff0c\u4e00\u662f Python \u7684\u52a8\u6001\u7c7b\u578b\u7279\u6027\uff0c\u4f7f\u5f97\u7c7b\u578b\u63a8\u65ad\u53d8\u5f97\u56f0\u96be\uff0c\u8fd9\u5bf9\u4ee3\u7801\u7684\u9759\u6001\u68c0\u67e5\u548c\u91cd\u6784\u5341\u5206\u4e0d\u5229\uff1b\u4e8c\u662f\u7531\u4e8e Python \u4ee3\u7801\u6ca1\u6709\u7f16\u8bd1\u8fc7\u7a0b\uff0c\u56e0\u6b64\u5c31\u7f3a\u5c11\u4e86\u7f16\u8bd1\u65f6\u68c0\u67e5\u8fd9\u4e00\u53d1\u73b0\u9519\u8bef\u7684\u673a\u5236\u3002</p> <p>\u5173\u4e8e\u7b2c\u4e00\u4e2a\u8d28\u7591\uff0cPython \u4ece 3.3 \u8d77\u5c31\u5f15\u5165\u4e86\u7c7b\u578b\u58f0\u660e\uff0c\u5230 Python 3.8 \u65f6\u5df2\u57fa\u672c\u5f62\u6210\u4f53\u7cfb\u3002\u56e0\u6b64\u53ea\u8981\u4ee3\u7801\u9075\u5faa\u89c4\u8303\u6765\u7f16\u5199\uff0c\u7c7b\u578b\u63a8\u65ad\u548c\u4ee3\u7801\u91cd\u6784\u5c31\u4e0d\u662f\u95ee\u9898\u3002Javascript \u5c31\u662f\u4e2a\u751f\u52a8\u7684\u4f8b\u5b50\uff0c\u5b83\u540c\u6837\u662f\u52a8\u6001\u8bed\u8a00\uff0c\u4f46\u5f15\u5165\u7c7b\u578b\u63d0\u793a\u4e4b\u540e\u5347\u7ea7\u4e3a TypedScript \u8bed\u8a00\uff0c\u73b0\u5728\u975e\u5e38\u6210\u529f\u3002\u5173\u4e8e\u7b2c\u4e8c\u70b9\uff0c\u7f16\u8bd1\u65f6\u68c0\u67e5\u53ea\u662f\u589e\u5f3a\u4ee3\u7801\u8d28\u91cf\u7684\u4e00\u79cd\u65b9\u6848\uff0c\u800c\u4e0d\u662f\u60df\u4e00\u7684\u65b9\u6848\u3002\u68c0\u9a8c\u4ee3\u7801\u8d28\u91cf\u7684\u60df\u4e00\u6807\u51c6\uff0c\u5c31\u662f\u5b83\u8fd0\u884c\u65f6\u80fd\u5426\u6ee1\u8db3\u4f60\u7684\u671f\u671b\u3002\u8fd9\u6b63\u662f\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u6240\u8981\u505a\u7684\u4e8b\u3002\u7531\u4e8e Python \u7684\u52a8\u6001\u7c7b\u578b\u7279\u5f81\uff0c\u4f7f\u5f97\u6784\u5efa Mock \u5bf9\u8c61\u5341\u5206\u7b80\u5355\uff0c\u56e0\u6b64\u5355\u5143\u6d4b\u8bd5\u4e5f\u53d8\u5f97\u683c\u5916\u5bb9\u6613\u3002\u8fd9\u6837\u4f1a\u9f13\u52b1\u7a0b\u5e8f\u5458\u66f4\u591a\u5730\u8fdb\u884c\u5145\u5206\u548c\u5168\u9762\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u4ece\u800c\u6781\u5927\u5730\u63d0\u9ad8\u4ee3\u7801\u8d28\u91cf\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u4f5c\u8005\u770b\u6765\uff0c\u4e00\u4e9b\u4eba\u4e4b\u6240\u4ee5\u8d28\u7591 Python \u80fd\u5426\u7528\u4ee5\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\uff0c\u66f4\u591a\u5730\u662f\u56e0\u4e3a\u4ed6\u4eec\u5e76\u4e0d\u4e86\u89e3\u548c\u719f\u6089 Python \u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u3001\u89c4\u8303\u548c\u5de5\u5177\u3002\u5b9e\u9645\u4e0a\uff0c\u5982\u679c\u9075\u5faa Python \u8f6f\u4ef6\u5f00\u53d1\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u7528\u597d\u89c4\u8303\u548c\u5de5\u5177\uff0c\u4f7f\u7528 Python \u5f00\u53d1\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u76f8\u5f53\u60ca\u4eba\u5730\u7f29\u77ed\u5f00\u53d1\u65f6\u95f4\uff0c\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff0c\u4e5f\u66f4\u5bb9\u6613\u53d6\u5f97\u5546\u4e1a\u4e0a\u7684\u6210\u529f\u3002</p> <ol> <li> <p>Java 1.0 \u7248\u672c\u53d1\u5e03\u4e8e 1996 \u5e74 1 \u6708\u3002Python \u521b\u5efa\u4e8e 1991 \u5e74\u7684 2 \u6708\u3002\u00a0\u21a9</p> </li> <li> <p>PEP \u662f Python Ehancement Proposals \u7684\u9996\u5b57\u6bcd\u7f29\u5199\u3002\u5b83\u662f\u5c06\u65b0\u7279\u6027\u5f15\u5165 Python \u7684\u91cd\u8981\u65b9\u5f0f\u3002\u00a0\u21a9</p> </li> <li> <p>Tim Peters \u662f Python \u7684\u91cd\u8981\u8d21\u732e\u8005\u4e4b\u4e00\uff0c\u4e5f\u662f Timsort \u6392\u5e8f\u7b97\u6cd5\u7684\u53d1\u660e\u4eba\uff0c\u8fd9\u79cd\u7b97\u6cd5\u88ab\u5e7f\u6cdb\u4f7f\u7528\u4e8e\u5305\u62ec Python \u5728\u5185\u7684\u5404\u79cd\u8bed\u8a00\uff0c\u6bd4\u5982 Chrome v8 \u5f15\u64ce\u548c nodejs\u3002\u00a0\u21a9</p> </li> <li> <p>Dropbox \u5f53\u65f6\u4f7f\u7528\u7684\u662f Python 2.x\u3002Dropbox \u6700\u7ec8\u4f7f\u7528\u4e86\u5176\u5b83\u8bed\u8a00\u6539\u5199\u4e86\u90e8\u5206\u529f\u80fd\uff0c\u539f\u56e0\u662f\u8bb8\u591a\u4eba\u8ba4\u4e3a\uff0c\u7531 Python 2 \u5347\u7ea7\u5230 Python 3\uff0c\u4e0d\u4e9a\u4e8e\u6362\u4e86\u4e00\u79cd\u8bed\u8a00\u3002\u00a0\u21a9</p> </li> <li> <p>CP4E \u8fd0\u52a8\uff1ahttps://www.python.org/doc/essays/cp4e/\u00a0\u21a9</p> </li> <li> <p>https://www.tiobe.com/tiobe-index/\u00a0\u21a9</p> </li> <li> <p>ChatGTP \u5bf9\u7b97\u529b\u7684\u9700\u6c42\u662f\u60ca\u4eba\u7684\u3002\u56e0\u6b64\uff0c\u4ed6\u4eec\u4f7f\u7528\u4e86 Ray \u8fd9\u4e2a Python \u5199\u6210\u7684\u5171\u4eab\u5185\u5b58\u5f0f\u5206\u5e03\u5f0f\u8ba1\u7b97\u5e73\u53f0\u3002Ray \u7684\u5f00\u53d1\u8005\u662f Anyscale \u516c\u53f8\uff0c\u7531 UC Berkeley \u7684\u51e0\u4f4d\u6559\u6388\u3001\u4ee5\u53ca Databricks \u7684\u8054\u5408\u521b\u59cb\u4eba\u5171\u540c\u6210\u7acb\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"articles/python/best-practice-python/chap02/","title":"02 \u7f16\u7a0b\u5f00\u53d1\u73af\u5883","text":"<p>\u5c3d\u7ba1\u6761\u6761\u9053\u8def\u901a\u7f57\u9a6c\uff0c\u4f46\u6bd5\u7adf\u6709\u7684\u8def\u8d70\u5f97\u66f4\u5e73\u7a33\u66f4\u5feb\u6377\uff0c\u66f4\u4e0d\u8981\u8bf4\u6709\u7684\u4eba\u751a\u81f3\u5c31\u4f4f\u5728\u7f57\u9a6c\u3002\u5bf9\u4e8e\u7a0b\u5e8f\u5458\u800c\u8a00\uff0c\u4f60\u7684\u5f00\u53d1\u73af\u5883\u6709\u591a\u597d\u7528\uff0c\u4f60\u79bb\u7f57\u9a6c\u5c31\u6709\u591a\u8fd1\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u65c5\u7a0b\u4ece\u8fd9\u91cc\u5f00\u59cb\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#1","title":"1. \u9009\u62e9\u54ea\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\uff1f","text":"<p>\u770b\u4e0a\u53bb\u64cd\u4f5c\u7cfb\u7edf\u662f\u4e00\u4e2a\u4e0e\u7f16\u7a0b\u8bed\u8a00\u65e0\u5173\u7684\u8bdd\u9898\uff0c\u7279\u522b\u662f\u50cf Python \u8fd9\u6837\u7684\u5f00\u53d1\u8bed\u8a00\uff0c\u5b83\u7f16\u5199\u7684\u7a0b\u5e8f\u51e0\u4e4e\u53ef\u4ee5\u8fd0\u884c\u5728\u4efb\u4f55\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u5fae\u5999\u7684\u5dee\u522b\u9700\u8981\u6211\u4eec\u53bb\u8003\u8651\u3002\u9996\u5148\uff0cPython \u66f4\u9002\u5408\u4e8e\u6570\u636e\u5206\u6790\u3001\u4eba\u5de5\u667a\u80fd\u548c\u540e\u53f0\u5f00\u53d1\uff0c\u800c\u4e0d\u662f\u7528\u4e8e\u5f00\u53d1\u684c\u9762\u548c\u79fb\u52a8\u7aef\u5e94\u7528\u3002\u800c\u65e0\u8bba\u662f\u5927\u6570\u636e\u5206\u6790\u548c\u4eba\u5de5\u667a\u80fd\uff0c\u8fd8\u662f\u540e\u53f0\u5f00\u53d1\uff0c\u5f80\u5f80\u90fd\u90e8\u7f72\u5728 Linux \u670d\u52a1\u5668\u73af\u5883\u4e0b\u3002\u56e0\u800c\uff0c\u8fd9\u4e9b\u5e94\u7528\u6240\u4f9d\u8d56\u7684\u751f\u6001\uff0c\u4e5f\u5f80\u5f80\u6784\u5efa\u5728 Linux \u4e0b\uff08\u6bd4\u5982\u5927\u6570\u636e\u5e73\u53f0\u548c\u5206\u5e03\u5f0f\u8ba1\u7b97\u5e73\u53f0\uff09\u3002\u4e00\u4e9b\u91cd\u8981\u7684\u7684\u7a0b\u5e8f\u5e93\uff0c\u5c3d\u7ba1\u6700\u7ec8\u53ef\u80fd\u90fd\u4f1a\u517c\u5bb9\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u4f46\u7531\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u5b83\u4eec\u5728\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u7684\u7248\u672c\u53d1\u5e03\u8ba1\u5212\u5f80\u5f80\u662f\u4e0d\u4e00\u6837\u7684\u3002\u4e00\u4e9b\u5f00\u6e90\u7684\u7a0b\u5e8f\u548c\u7c7b\u5e93\u5f80\u5f80\u4f1a\u4f18\u5148\u8003\u8651 Linux \u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u4eec\u5728 Linux \u4e0a\u7684\u6d4b\u8bd5\u4f3c\u4e4e\u4e5f\u66f4\u5145\u5206\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u4e3e\u51fa\u5f88\u591a\u8fd9\u6837\u7684\u4f8b\u5b50\uff0c\u6bd4\u5982\uff0c\u91cf\u5316\u4ea4\u6613\u662f Python \u6700\u91cd\u8981\u7684\u5e94\u7528\u9886\u57df\u4e4b\u4e00\u3002\u800c python talib \u5219\u662f\u5176\u4e2d\u5e38\u7528\u7684\u4e00\u4e2a\u6280\u672f\u5206\u6790\u5e93\u3002\u8be5\u5e93\u4f7f\u7528\u4e86\u4e00\u4e2a C \u7684\u6a21\u5757\uff0c\u9700\u8981\u5728\u5b89\u88c5\u65f6\u8fdb\u884c\u7f16\u8bd1\u3002\u5728 Windows \u4e0b\u8fdb\u884c\u7f16\u8bd1\uff0c\u9700\u8981\u4e0b\u8f7d\u548c\u914d\u7f6e\u4e00\u7cfb\u5217\u7684 Visual C++\u7684\u7f16\u8bd1\u5de5\u5177\uff0c\u5bf9 Python \u7a0b\u5e8f\u5458\u800c\u8a00\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u6709\u4e00\u5b9a\u96be\u5ea6\uff0c\u56e0\u4e3a\u5f88\u591a\u6982\u5ff5\u90fd\u662f Python \u7a0b\u5e8f\u5458\u5e76\u4e0d\u719f\u6089\u7684\u3002\u800c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Linux \u64cd\u4f5c\u7cfb\u7edf\uff0c\u5c3d\u7ba1\u7f16\u8bd1\u4ecd\u7136\u662f\u5fc5\u987b\u7684\uff0c\u4f46\u5b89\u88c5\u548c\u7f16\u8bd1\u53ea\u9700\u8981\u8fd0\u884c\u4e00\u4e2a\u811a\u672c\u5373\u53ef\u3002</p> <p>\u4e0d\u4ec5\u4ec5\u662f Python \u7a0b\u5e8f\u5e93\u5982\u6b64\u3002\u6211\u4eec\u9700\u8981\u4f9d\u8d56\u7684\u5404\u79cd\u670d\u52a1\u53ef\u80fd\u4e5f\u662f\u5982\u6b64\u3002\u6bd4\u5982\uff0c\u5c3d\u7ba1\u4f60\u53ef\u4ee5\u5728 Windows \u673a\u5668\u4e0a\u5b89\u88c5\u684c\u9762\u7248\u7684 Docker\uff0c\u7136\u540e\u8fd0\u884c\u4e00\u4e9b Linux \u5bb9\u5668\uff0c\u4f46 Windows \u4e0b Docker \u5bf9\u8d44\u6e90\u7684\u5229\u7528\u8fdc\u4e0d\u5982\u5728 Linux \u4e0b\u6765\u5f97\u5145\u5206 \u2014  \u5b83\u4eec\u662f\u5728 Docker \u670d\u52a1\u542f\u52a8\u65f6\u5c31\u4ece\u7cfb\u7edf\u4e2d\u5212\u8d70\u7684\uff0c\u65e0\u8bba\u5f53\u4e0b\u662f\u5426\u6709\u5bb9\u5668\u5728\u8fd0\u884c\uff0c\u8fd9\u4e9b\u8d44\u6e90\u90fd\u65e0\u6cd5\u88ab\u5176\u5b83 Windows \u7a0b\u5e8f\u4f7f\u7528\u3002\u4ece\u6839\u672c\u4e0a\u8bb2\uff0c\u8fd9\u79cd\u5dee\u5f02\u662f Windows \u4e0d\u80fd\u63d0\u4f9b\u5bb9\u5668\u7ea7\u522b\u7684\u8d44\u6e90\u9694\u79bb\u9020\u6210\u7684\u3002</p> <p>\u5728\u672c\u4e66\u7684\u540e\u9762\uff0c\u6211\u4eec\u5c06\u8bb2\u5230 CI/CD\uff0c\u8fd9\u4e9b\u90fd\u9700\u8981\u4f7f\u7528\u5bb9\u5668\u6280\u672f\u3002\u90a3\u65f6\uff0c\u60a8\u5c06\u66f4\u52a0\u4f53\u4f1a\u5230\u4f7f\u7528 Linux \u7684\u79cd\u79cd\u65b9\u4fbf\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528 Github Actions \u63d0\u4f9b\u7684\u5bb9\u5668\u6765\u8fd0\u884c\u6d4b\u8bd5\uff0c\u4f46\u662f\uff0c\u56e0\u4e3a\u6388\u6743\u7684\u95ee\u9898\uff0c\u514d\u8d39\u7248\u7684 Github CI \u63d0\u4f9b\u7684\u5bb9\u5668\u5c06\u4e0d\u5305\u62ec Windows\u3002</p> <p>\u5982\u679c\u8fd9\u4e9b\u7406\u7531\u8fd8\u4e0d\u80fd\u8bf4\u670d\u60a8\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u770b\u770b\u8d44\u6df1\u7a0b\u5e8f\u5458\u662f\u5982\u4f55\u9009\u62e9\u64cd\u4f5c\u7cfb\u7edf\u7684\u3002\u4e0b\u56fe\u662f StackOverflow<sup>1</sup> \u7f51\u7ad9\u5728 2022 \u5e74\u7684\u4e00\u4e2a\u8c03\u67e5\uff1a</p> <p></p> <p>\u6bcf\u4e00\u9879\u53f3\u8fb9\u7684\u6570\u5b57\uff0c\u8868\u660e\u5728\u53d7\u8c03\u67e5\u8005\u4e2d\uff0c\u6709\u591a\u5c11\u4eba\uff08\u767e\u5206\u6bd4\uff09\u5728\u4f7f\u7528\u8be5\u64cd\u4f5c\u7cfb\u7edf\u3002\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u628a Linux \u81ea\u8eab\u7684\u4f7f\u7528\u91cf\u4e0e WSL \u7684\u4f7f\u7528\u91cf\uff08WSL \u662f\u4e00\u79cd Linux\uff09\u52a0\u5728\u4e00\u8d77\uff0c\u4e13\u4e1a\u4f7f\u7528\u8005\u7684\u5360\u6bd4\u5df2\u7ecf\u8fbe\u5230\u4e86 54.23%\uff0c\u8d85\u8fc7\u4f7f\u7528 Windows \u4f5c\u4e3a\u5f00\u53d1\u5e73\u53f0\u7684\u4e13\u4e1a\u4f7f\u7528\u8005\uff0848.82%\uff09\uff0cLinux \u5df2\u7ecf\u662f\u6392\u540d\u7b2c\u4e00\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u539f\u56e0\uff0c\u6211\u4eec\u63a8\u8350\u4f7f\u7528 Linux \u4f5c\u4e3a\u60a8\u5f00\u53d1 Python \u9879\u76ee\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u672c\u4e66\u4e2d\u63d0\u5230\u7684\u5de5\u5177\u3001\u793a\u4f8b\u548c\u7a0b\u5e8f\u5e93\uff0c\u9664\u975e\u7279\u522b\u8bf4\u660e\uff0c\u4e5f\u90fd\u9ed8\u8ba4\u5730\u4f7f\u7528 Linux \u4f5c\u4e3a\u8fd0\u884c\u73af\u5883\uff0c\u5e76\u5728 Linux \u4e0b\u6d4b\u8bd5\u901a\u8fc7\u3002</p> <p>\u4f46\u662f\uff0c\u60a8\u5f88\u53ef\u80fd\u5e76\u4e0d\u4f1a\u559c\u6b22\u8fd9\u4e2a\u5efa\u8bae\uff0c\u56e0\u4e3a\u5f88\u53ef\u80fd\u60a8\u7684\u7535\u8111\u5c31\u662f MacOS \u6216\u8005 Windows\u3002</p> <p>\u597d\u6d88\u606f\u662f\uff0cMacOS \u548c Linux \u90fd\u662f\u6240\u8c13\u7684\u201c\u7c7b Unix\u201d\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u6781\u9ad8\u7684\u76f8\u4f3c\u5ea6\u3002\u6240\u4ee5\uff0c\u5982\u679c\u60a8\u7684\u7535\u8111\u662f MacOS \u64cd\u4f5c\u7cfb\u7edf\uff0c\u60a8\u5927\u53ef\u4e0d\u5fc5\u53e6\u5916\u5b89\u88c5\u4e00\u4e2a Linux\u3002\u5982\u679c\u60a8\u7684\u7535\u8111\u662f Windows \u64cd\u4f5c\u7cfb\u7edf\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u4e5f\u63d0\u4f9b\u4e86\u4e09\u79cd\u65b9\u6848\uff0c\u8ba9\u60a8\u7684\u673a\u5668\u4e5f\u80fd\u8fd0\u884c\u4e00\u4e2a\u865a\u62df\u7684 Linux \u64cd\u4f5c\u7cfb\u7edf\u7528\u4e8e\u5f00\u53d1\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#2-windows-linux","title":"2. Windows \u4e0b\u7684 Linux \u73af\u5883","text":"<p>\u5728 Windows \u4e0b\u6709\u4e09\u79cd\u6784\u5efa Linux \u865a\u62df\u73af\u5883\u7684\u65b9\u5f0f\u3002\u5176\u4e2d\u4e4b\u4e00\u662f Windows \u7684\u539f\u751f\u65b9\u6848\uff0c\u5373\u4f7f\u7528 Windows Subsystem for Linux\uff08\u4ee5\u4e0b\u7b80\u79f0 WSL\uff09\uff0c\u5176\u4ed6\u4e24\u79cd\u65b9\u6848\u5219\u5206\u522b\u662f Docker \u548c\u865a\u62df\u673a\u65b9\u6848\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#21-wsl","title":"2.1. WSL \u65b9\u6848","text":"<p>WSL \u662f Windows 10 \u7684\u4e00\u4e2a\u65b0\u529f\u80fd\u3002\u901a\u8fc7 WSL\uff0c\u5728 Windows \u4e4b\u4e0a\uff0c\u8fd0\u884c\u4e86\u4e00\u4e2a GNU/Linux \u73af\u5883\u3002\u5728\u8fd9\u4e2a\u73af\u5883\u91cc\uff0c\u7edd\u5927\u591a\u6570 Linux \u547d\u4ee4\u884c\u5de5\u5177\u548c\u670d\u52a1\u90fd\u53ef\u4ee5\u8fd0\u884c\uff0c\u800c\u4e0d\u9700\u8981\u8bbe\u7f6e\u53cc\u7cfb\u7edf\uff0c\u6216\u8005\u627f\u62c5\u865a\u62df\u673a\u5e26\u6765\u7684\u989d\u5916\u4ee3\u4ef7\u3002</p> <p>\u5f53\u524d\u6709\u4e24\u4e2a\u7248\u672c\u53ef\u7528\uff0c\u5373 v1 \u548c v2, \u4f5c\u8005\u66f4\u63a8\u8350\u4f7f\u7528 v1\u3002WSL v2 \u7684\u4f53\u9a8c\u66f4\u50cf\u4e00\u53f0\u771f\u6b63\u7684\u865a\u62df\u673a\uff0c\u56e0\u6b64\u4e0e windows \u96c6\u6210\u6027\u53cd\u800c\u66f4\u5dee\u4e00\u4e9b\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#211-wsl","title":"2.1.1. \u5b89\u88c5 WSL","text":"<p>\u5982\u679c\u60a8\u7684 windows 10 \u662f 2004 \u53ca\u66f4\u9ad8\u7248\u672c\uff0c\u6216\u8005\u662f Windows 11\uff0c\u5219\u5b89\u88c5\u53ea\u9700\u8981\u4e00\u6761\u547d\u4ee4\u5373\u53ef\u5b8c\u6210\uff1a</p> <pre><code>wsl --install --set-defalut-version=1\n</code></pre> <p>\u8fd9\u5c06\u5b89\u88c5 WSL v1 \u7248\u5230\u60a8\u7684\u673a\u5668\u4e0a\u3002\u5982\u679c\u662f\u7a0d\u65e9\u4e00\u70b9\u7684\u7cfb\u7edf\uff0c\u5219\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u9996\u5148\uff0c\u542f\u7528\u201c\u9002\u7528\u4e8e Linux \u7684 Windows \u5b50\u7cfb\u7edf\u201d\u529f\u80fd\uff1a</li> </ol> <p></p> <ol> <li>\u8bbe\u7f6e\u540e\uff0c\u9700\u8981\u91cd\u542f\u4e00\u6b21\u7535\u8111\u3002</li> <li>\u4ece Windows \u5e94\u7528\u5546\u5e97\u641c\u7d22\u5b89\u88c5\u4e00\u4e2a Linux \u53d1\u884c\u7248\uff0c\u5728\u8fd9\u91cc\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528 Ubuntu:</li> </ol> <p></p> <p>\u73b0\u5728\uff0c\u5728\u641c\u7d22\u680f\u8f93\u5165 Ubuntu\uff0c\u5c31\u4f1a\u6253\u5f00 Ubuntu shell\u3002\u7531\u4e8e\u662f\u7b2c\u4e00\u6b21\u8fd0\u884c\uff0c\u6b64\u65f6\u4f1a\u63d0\u793a\u6211\u4eec\u8f93\u5165\u7528\u6237\u540d\u548c\u53e3\u4ee4\u3002\u8fd9\u6837 WSL \u5c31\u5b89\u88c5\u6210\u529f\u4e86\u3002\u6b64\u540e\uff0c\u4e5f\u53ef\u4ee5\u4ece\u641c\u7d22\u6846\u8f93\u5165<code>wsl</code>\u547d\u4ee4\u6765\u542f\u52a8\u8fd9\u4e2a\u7cfb\u7edf\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#212-wsl","title":"2.1.2. \u5b9a\u5236 WSL","text":"<p>\u4f7f\u7528 WSL v1 \u7248\u672c\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u4f53\u9a8c\u3002\u5b83\u65e2\u50cf\u4e00\u4e2a\u865a\u62df\u673a\uff0c\u4f46\u53c8\u7f3a\u4e4f\u90e8\u5206\u529f\u80fd\uff0c\u6bd4\u5982\uff0c\u5b83\u6ca1\u6709\u540e\u53f0\u670d\u52a1 <sup>3</sup> \u8fd9\u4e2a\u6982\u5ff5\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u5176\u4e2d\u5b89\u88c5\u4e00\u4e9b\u670d\u52a1\uff0c\u6bd4\u5982 Redis \u7f13\u5b58\u6216\u8005\u6570\u636e\u5e93\uff0c\u4f46\u8fd9\u4e9b\u540e\u53f0\u670d\u52a1\u5e76\u4e0d\u4f1a\u968f WSL \u4e00\u540c\u542f\u52a8\uff0c\u5fc5\u987b\u5f97\u7ecf\u7531\u6211\u4eec\u624b\u52a8\u542f\u52a8\u3002\u4f46\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u5b9a\u5236\uff0c\u6765\u4f7f\u5f97 WSL \u7684\u4f7f\u7528\u4f53\u9a8c\u66f4\u63a5\u8fd1\u4e00\u53f0\u865a\u62df\u673a\u3002</p> <p>\u6211\u4eec\u7684\u5b9a\u5236\u5c06\u5b9e\u73b0\u4e24\u4e2a\u529f\u80fd\uff0c\u4e00\u662f\u8ba9 WSL \u865a\u62df\u673a\u968f Windows \u81ea\u52a8\u542f\u52a8\u3002\u4e8c\u662f\u5f53 WSL \u542f\u52a8\u540e\uff0c\u5b83\u80fd\u81ea\u52a8\u8fd0\u884c\u4e00\u4e2a ssh \u670d\u52a1\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u968f\u65f6\u8fde\u63a5\u4f7f\u7528\u8fd9\u53f0 WSL \u865a\u62df\u673a\u3002\u5b66\u4f1a\u8fd9\u4e2a\u5b9a\u5236\u4e4b\u540e\uff0c\u8bfb\u8005\u5f53\u7136\u4e5f\u53ef\u4ee5\u8ba9 WSL \u542f\u52a8\u4e4b\u540e\uff0c\u81ea\u52a8\u8fd0\u884c\u66f4\u591a\u7684\u540e\u53f0\u670d\u52a1\u3002</p> <p>\u6211\u4eec\u9700\u8981\u5199\u4e09\u4e2a\u811a\u672c\uff0c\u4e00\u4e2a start.vbs\uff0c\u4e00\u4e2a control.bat \u548c\u4e00\u4e2a commands.txt\uff0c\u5e76\u4e14\u589e\u52a0\u4e00\u4e2a\u5f00\u673a\u81ea\u52a8\u6267\u884c\u7684\u8ba1\u5212\u4efb\u52a1\u3002\u5f53 Windows \u5f00\u673a\u540e\uff0c\u8fd9\u4e2a\u8ba1\u5212\u4efb\u52a1\u81ea\u52a8\u6267\u884c\uff0c\u8c03\u7528 start.vbs \u6765\u6267\u884c control.bat, \u800c control.bat \u5219\u4f1a\u542f\u52a8 WSL\uff08\u53ca\u5176\u4f9d\u8d56\u7684 Windows \u670d\u52a1\uff09\uff0c\u5e76\u5728 WSL \u73af\u5883\u4e0b\u6267\u884c\u5b9a\u4e49\u5728 commands.txt \u4e2d\u7684\u90a3\u4e9b\u547d\u4ee4--\u5373\u5c06\u8981\u5728 WSL \u4e2d\u8fd0\u884c\u7684\u670d\u52a1\uff0c\u6bd4\u5982 ssh server\u3002\u6574\u4e2a\u8fc7\u7a0b\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5728 commands.txt \u6587\u4ef6\u4e2d\u5b9a\u4e49\u8981\u5728 WSL \u4e2d\u8fd0\u884c\u7684\u540e\u53f0\u670d\u52a1\uff1a</p> <pre><code>/etc/init.d/cron\n/etc/init.d/ssh\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u6279\u5904\u7406\u811a\u672c\uff0c\u7528\u4ee5\u542f\u52a8 WSL\uff0c\u5e76\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\uff1a</p> <pre><code>REM control.bat\nREM \u811a\u672c\u6765\u6e90\u4e8e https://github.com/troytse/wsl-autostart/\n@echo off\nREM Goto the detect section.\ngoto lxssDetect\n\n:lxssRestart\n    REM ReStart the LxssManager service\n    net stop LxssManager\n\n:lxssStart\n    REM Start the LxssManager service\n    net start LxssManager\n\n:lxssDetect\n    REM Detect the LxssManager service status\n    for /f \"skip=3 tokens=4\" %%i in ('sc query LxssManager') do set \"state=%%i\" &amp;goto lxssStatus\n\n:lxssStatus\n    REM If the LxssManager service is stopped, start it.\n    if /i \"%state%\"==\"STOPPED\" (goto lxssStart)\n    REM If the LxssManager service is starting, wait for it to finish start.\n    if /i \"%state%\"==\"STARTING\" (goto lxssDetect)\n    REM If the LxssManager service is running, start the linux service.\n    if /i \"%state%\"==\"RUNNING\" (goto next)\n    REM If the LxssManager service is stopping, nothing to do.\n    if /i \"%state%\"==\"STOPPING\" (goto end)\n\n:next\n    REM Check the LxssManager service is started correctly.\n    wsl echo OK &gt;nul 2&gt;nul\n    if not %errorlevel% == 0 (goto lxssRestart)\n\n    REM Start services in the WSL\n    REM Define the service commands in commands.txt.\n    for /f %%i in (%~dp0commands.txt) do (wsl sudo %%i %*)\n\n:end\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u7f16\u5199\u4e00\u4e2a start.vbs \u811a\u672c\uff0c\u6765\u6267\u884c control.bat\uff1a</p> <pre><code>' start.vbs\n' \u811a\u672c\u6765\u6e90\u4e8e https://github.com/troytse/wsl-autostart/\n' Start services\nSet UAC = CreateObject(\"Shell.Application\")\ncommand = \"/c \"\"\" + CreateObject(\"Scripting.FileSystemObject\").\n                GetParentFolderName(WScript.ScriptFullName) + \"\\control.bat\"\" start\"\nUAC.ShellExecute \"C:\\Windows\\System32\\cmd.exe\", command, \"\", \"runas\", 0\nSet UAC = Nothing\n</code></pre> <p>\u6700\u540e\uff0c\u6211\u4eec\u5411\u8ba1\u5212\u4efb\u52a1\u7a0b\u5e8f\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u5f00\u673a\u542f\u52a8\u4efb\u52a1\uff1a</p> <p></p> <p></p> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u901a\u8fc7 Windows \u5e94\u7528\u5546\u5e97\u5b89\u88c5\u7684 Ubuntu \u5b50\u7cfb\u7edf\uff0c\u5b83\u5e94\u8be5\u5df2\u7ecf\u5b89\u88c5\u597d\u4e86 ssh-server\uff0c\u6211\u4eec\u5728\u4e0a\u8ff0\u64cd\u4f5c\u4e2d\u6240\u505a\u7684\u4e8b\uff0c\u53ea\u4e0d\u8fc7\u662f\u8ba9\u5b83\u968f WSL \u4e00\u8d77\u542f\u52a8\u800c\u5df2\u3002\u4f46\u662f\uff0c\u5982\u679c\u60a8\u53d1\u73b0\u60a8\u7684 WSL \u4e2d\u5e76\u6ca1\u6709\u5b89\u88c5 ssh-server\uff0c\u60a8\u4e5f\u53ef\u4ee5\u81ea\u884c\u5b89\u88c5\u3002\u6bd5\u7adf\uff0c\u8fd9\u5c31\u662f\u4e00\u53f0 Linux \u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u5728\u4e0a\u9762\u5b89\u88c5 Linux \u4e0a\u7684\u7edd\u5927\u591a\u6570\u8f6f\u4ef6\u3002</p> <p>\u901a\u8fc7\u5e94\u7528\u4e0a\u8ff0\u65b9\u6848\uff0c\u60a8\u5c31\u5728 Windows \u4e0a\u62e5\u6709\u4e86\u4e24\u4e2a\u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u7279\u522b\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5728\u60a8\u4e0d\u4f7f\u7528 WSL \u7684\u65f6\u5019\uff0c\u5b83\u53ea\u5360\u7528\u5f88\u5c11\u7684 CPU \u548c\u5185\u5b58\u8d44\u6e90\uff08\u4ec5\u9650 WSL 1.0\uff09\u3002\u8fd9\u662f\u5176\u5b83\u865a\u62df\u5316\u65b9\u6848\u6240\u65e0\u6cd5\u6bd4\u62df\u7684\u3002</p> <p>\u5728\u672c\u4e66\u5199\u4f5c\u65f6\uff0cWSL 2.0 \u5df2\u7ecf\u6709\u4e86\u652f\u6301\u56fe\u5f62\u5316\u754c\u9762\u7684\u9884\u89c8\u7248\uff0c\u79f0\u4e4b\u4e3a wslg\u3002\u672a\u6765\u8fd9\u4e2a\u7248\u672c\u5c06\u5408\u5e76\u5230 WSL \u4e2d\uff0c\u968f Windows \u4e00\u8d77\u53d1\u884c\u7684\u6b63\u5f0f\u7248\u53d1\u884c\u3002\u4e0b\u56fe\u662f wslg \u56fe\u5f62\u5316\u754c\u9762\u7684\u4e00\u4e2a\u6548\u679c\u56fe\uff1a</p> <p></p> <p>\u867d\u7136\u8fd9\u4e0e\u672c\u4e66\u7684\u4e3b\u65e8\u65e0\u5173\uff0c\u4f46\u81f3\u5c11\u4e5f\u7ed9\u4e86\u6211\u4eec\u4e00\u4e2a\u4f7f\u7528 Linux \u7684\u7406\u7531\uff0c\u5c31\u8fde\u5fae\u8f6f\u90fd\u8fd9\u4e48\u8ba4\u771f\u5730\u505a Linux<sup>2</sup> \u4e86\uff0c\u60a8\u8fd8\u8981\u7ee7\u7eed\u4f7f\u7528 Windows \u6765\u505a\u5f00\u53d1\u5417\uff1f</p>"},{"location":"articles/python/best-practice-python/chap02/#22-docker","title":"2.2. Docker \u65b9\u6848","text":"<p>WSL \u7684\u51fa\u73b0\u8981\u6bd4 Docker \u665a\u3002\u5982\u679c\u60a8\u8d2d\u673a\u65f6\u95f4\u8f83\u65e9\uff0c\u90a3\u4e48\u60a8\u7684 Windows \u53ef\u80fd\u4e0d\u652f\u6301 WSL\uff0c\u4f46\u53ef\u4ee5\u5b89\u88c5 Docker\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u5b89\u88c5\u684c\u9762\u7248\u7684 Docker\uff0c\u7136\u540e\u901a\u8fc7 Docker \u6765\u8fd0\u884c\u4e00\u4e2a Linux \u865a\u62df\u673a\u3002</p> <p>\u5b89\u88c5 Docker \u53ef\u4ee5\u4ece\u5176\u5b98\u65b9\u7f51\u7ad9 <sup>4</sup> \u4e0b\u8f7d\uff0c\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9996\u6b21\u8fd0\u884c\u9700\u8981\u624b\u52a8\u542f\u52a8\u3002\u53ef\u4ee5\u4ece\u641c\u7d22\u6846\u4e2d\u641c\u7d22\"Docker\"\uff0c\u7136\u540e\u9009\u62e9\"Docker Desktop\"\u6765\u542f\u52a8\uff0c\u89c1\u4e0b\u56fe\uff1a</p> <p></p> <p>\u5f53 Docker \u542f\u52a8\u540e\uff0c\u5c31\u4f1a\u5728\u7cfb\u7edf\u6258\u76d8\u533a\u663e\u793a\u4e00\u4e2a\u901a\u77e5\u56fe\u6807\uff1a</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u7b2c\u4e09\u4e2a\uff0c\u9cb8\u9c7c\u56fe\u6807\uff0c\u5373\u662f Docker \u6b63\u5728\u8fd0\u884c\u7684\u6807\u5fd7\u3002\u70b9\u51fb\u5b83\u53ef\u4ee5\u8fdb\u5165\u7ba1\u7406\u754c\u9762\u3002\u9996\u6b21\u8fd0\u884c\u65f6\u9700\u8981\u505a\u4e00\u4e9b\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p> <p>\u5728 Windows \u4e0a\u8fd0\u884c Docker\uff0c\u7531\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u5f02\u6784\u7684\u539f\u56e0\uff0c\u9996\u5148\u9700\u8981\u542f\u7528 Hyper-V \u865a\u62df\u673a\uff0c\u7136\u540e\u5c06 Docker \u5b89\u88c5\u5230\u8fd9\u4e2a\u865a\u62df\u673a\u4e2d\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5728 Windows \u4e0b\u5b89\u88c5\u8fd0\u884c Docker\uff0c\u65e0\u8bba\u5f53\u524d\u662f\u5426\u6709\u5bb9\u5668\u5728\u8fd0\u884c\uff0c\u7cfb\u7edf\u8d44\u6e90\u4e5f\u88ab\u9759\u6001\u5206\u914d\u5207\u5272\u7684\u539f\u56e0\u3002\u4f46\u662f\u5927\u6982\u4ece 2020 \u5e74 3 \u6708\u8d77\uff0cDocker \u5f00\u59cb\u652f\u6301\u8fd0\u884c\u57fa\u4e8e WSL2 \u7684\u684c\u9762\u7248\u3002\u57fa\u4e8e WSL2 \u7684\u684c\u9762\u7248 Docker\uff0cDocker \u540e\u53f0\u670d\u52a1\u542f\u52a8\u66f4\u5feb\uff0c\u8d44\u6e90\u4e5f\u4ec5\u5728\u9700\u8981\u65f6\u624d\u8fdb\u884c\u5206\u914d\uff0c\u56e0\u6b64\u5728\u8d44\u6e90\u8c03\u5ea6\u4e0a\u66f4\u52a0\u7075\u6d3b\u9ad8\u6548\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#23","title":"2.3. \u865a\u62df\u673a\u65b9\u6848","text":"<p>\u4e5f\u6709\u53ef\u80fd\u60a8\u7684\u673a\u5668\u65e2\u4e0d\u652f\u6301\u5b89\u88c5 WSL\uff0c\u4e5f\u4e0d\u652f\u6301\u5b89\u88c5 Docker\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5 VirtualBox<sup>5</sup> \u7b49\u865a\u62df\u673a\u6765\u8fd0\u884c Linux\u3002\u8fd9\u65b9\u9762\u7684\u6280\u672f\u5927\u5bb6\u5e94\u8be5\u5f88\u719f\u6089\u4e86\uff0c\u56e0\u6b64\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#24","title":"2.4. \u5c0f\u7ed3","text":"<p>\u6211\u4eec\u4ecb\u7ecd\u4e86\u4e09\u79cd\u5728 Windows \u4e0a\u6784\u5efa Linux \u5f00\u53d1\u73af\u5883\u7684\u65b9\u6848\u3002\u53ea\u8981\u6709\u53ef\u80fd\uff0c\u60a8\u9996\u5148\u5e94\u8be5\u5b89\u88c5\u7684\u662f WSL\u3002WSL \u53ef\u4ee5\u5728\u8fd0\u884c\u5728\u51e0\u4e4e\u6240\u6709\u7684 Windows 10 \u4ee5\u4e0a\u7684\u53d1\u884c\u7248\u4e0a\uff0c\u5305\u62ec Win10 Home\u3002</p> <p>\u5982\u679c\u60a8\u7684\u673a\u5668\u4e0d\u652f\u6301\u5b89\u88c5 WSL\uff0c\u4e5f\u53ef\u4ee5\u8003\u8651\u5b89\u88c5 Docker\u3002\u5373\u4f7f\u60a8\u7684\u673a\u5668\u652f\u6301 WSL\uff0c\u51fa\u4e8e\u7ec3\u4e60 CI/CD \u7684\u8003\u8651\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5 Docker\uff0c\u4ee5\u4fbf\u4f53\u9a8c\u5bb9\u5668\u5316\u6784\u5efa\u548c\u90e8\u7f72\u3002\u5f53\u7136\uff0c\u8fd9\u9700\u8981\u60a8\u7684\u673a\u5668\u6709\u66f4\u5f3a\u52b2\u7684 CPU \u548c\u5185\u5b58\u3002</p> <p>\u5bf9\u4e8e\u8f83\u65e9\u7684\u673a\u578b\uff0c\u5728\u65e0\u6cd5\u5347\u7ea7\u5230\u8f83\u65b0\u7248\u672c\u7684 Windows \u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u865a\u62df\u673a\uff0c\u6bd4\u5982\u514d\u8d39\u7248\u7684 VirtualBox\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#3-ide","title":"3. \u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09","text":"<p>\u4f5c\u4e3a\u4e00\u79cd\u811a\u672c\u8bed\u8a00\uff0cPython \u53ef\u4ee5\u65e0\u987b\u7f16\u8bd1\u5373\u53ef\u8fd0\u884c\uff0c\u56e0\u6b64\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u6587\u672c\u7f16\u8f91\u5668\u90fd\u53ef\u4ee5\u4f5c\u4e3a Python \u5f00\u53d1\u5de5\u5177\u3002\u7136\u800c\uff0c\u8981\u8fdb\u884c\u771f\u6b63\u4e25\u8083\u7684\u5f00\u53d1\uff0c\u8981\u5728\u5f00\u53d1\u8fdb\u5ea6\u548c\u5f00\u53d1\u8d28\u91cf\u4e4b\u95f4\u53d6\u5f97\u6700\u4f73\u5e73\u8861\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u66f4\u4e13\u4e1a\u7684\u5de5\u5177\u3002</p> <p>\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\u662f\u4e00\u79cd\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\u7684\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u5728\u7f16\u5199\u4ee3\u7801\u65f6\uff0c\u5f97\u5230\u5404\u79cd\u4ee3\u7801\u63d0\u793a\uff0c\u66f4\u65e9\u53d1\u73b0\u8bed\u6cd5\u9519\u8bef\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u5728\u7f16\u8f91\u5668\u4e2d\u8fdb\u884c\u8c03\u8bd5\u3002</p> <p>Pycharm \u548c VS Code \u662f\u8fdb\u884c Python \u5e94\u7528\u7a0b\u5e8f\u5f00\u53d1\u7684\u4e24\u4e2a\u9996\u9009\u5de5\u5177\u3002\u5bf9\u4e8e\u4ece\u4e8b\u6570\u636e\u5206\u6790\u548c\u4eba\u5de5\u667a\u80fd\u9886\u57df\u7684\u5f00\u53d1\u8005\uff0c\u8fd8\u53ef\u4ee5\u8003\u8651 Jupyter Lab\uff08\u5347\u7ea7\u7248\u7684 Notebook\uff09\u548c Anaconda \u7684 Spyder\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#31-vs-code-vs-pycharm-ide","title":"3.1. VS Code vs Pycharm\uff1a\u4f7f\u7528\u54ea\u4e00\u4e2a IDE\uff1f","text":"<p>Pycharm \u662f\u7528\u4e8e\u5f00\u53d1 Python \u7684\u8001\u724c IDE\uff0cVisual Studio Code\uff08\u901a\u5e38\u88ab\u79f0\u4e3a VS Code\uff09\u5219\u662f\u8fd1\u51e0\u5e74\u7684\u540e\u8d77\u4e4b\u79c0\u3002VS Code \u5b8c\u5168\u514d\u8d39\uff0cPycharm \u5219\u63d0\u4f9b\u4e86\u793e\u533a\u7248\u548c\u4e13\u4e1a\u7248\u4e24\u4e2a\u7248\u672c\uff0c\u4e13\u4e1a\u7248\u672c\u529f\u80fd\u66f4\u5f3a\u5927\uff0c\u4f46\u9700\u8981\u4ed8\u8d39\u3002\u4e0b\u8868\u7b80\u8981\u8bf4\u660e\u4e86\u4e24\u4e2a IDE \u6700\u91cd\u8981\u7684\u5dee\u5f02\uff1a</p> \u7279\u6027 Pycharm VS Code \u8bf4\u660e \u8fdc\u7a0b\u5f00\u53d1 \u4ec5\u4e13\u4e1a\u7248\u652f\u6301 \u652f\u6301 \u4e13\u4e1a\u7248\u7684 Pycharm \u4e2d\uff0c\u6587\u4ef6\u5728\u672c\u5730\u7f16\u8f91\uff0c\u8c03\u8bd5\u524d\u5c06\u6587\u4ef6\u540c\u6b65\u5230\u8fdc\u7a0b\u673a\u5668\u4e0a\u8fdb\u884c\u8c03\u8bd5\uff1bVS Code \u901a\u8fc7\u6587\u4ef6\u5171\u4eab\u534f\u8bae\uff0c\u76f4\u63a5\u5728\u8fdc\u7a0b\u673a\u5668\u4e0a\u7f16\u8f91\u548c\u8c03\u8bd5 \u4e09\u8def\u5f52\u5e76 \u652f\u6301 \u652f\u6301 VS Code \u4ece 2022 \u5e74 7 \u6708\u8d77\u63d0\u4f9b\u4e86\u4e09\u8def\u5f52\u5e76\u7f16\u8f91\u5668\u3002\u4e09\u8def\u5f52\u5e76\u7f16\u8f91\u662f\u5728\u4ee3\u7801\u53d1\u751f\u51b2\u7a81\u65f6\u89e3\u51b3\u51b2\u7a81\u7684\u4e00\u79cd\u4fbf\u6377\u65b9\u5f0f \u6570\u636e\u89c6\u56fe \u652f\u6301 \u4e0d\u652f\u6301 PyCharm \u4e2d\u53ef\u4ee5\u5728\u56fe\u5f62\u5316\u754c\u9762\u91cc\u67e5\u770b\u6570\u636e\u5e93\u548c DataFrame \u6570\u636e\uff1bVS Code \u9700\u8981\u63d2\u4ef6\u652f\u6301\uff0c\u4f46\u529f\u80fd\u8f83\u5f31\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u7b2c\u4e09\u65b9\u5de5\u5177\u67e5\u770b\u548c\u7ba1\u7406\u6570\u636e \u542f\u52a8\u901f\u5ea6 \u6162 \u5f88\u5feb VS Code \u542f\u52a8\u901f\u5ea6\u5341\u5206\u4f18\u5f02\uff0c\u8fd9\u4e5f\u4f7f\u5f97\u5b83\u9664\u4e86\u7528\u4f5c\u5f00\u53d1\u5916\uff0c\u8fd8\u53ef\u4ee5\u7528\u4f5c\u6587\u6863\u64b0\u5199\u3001\u65e5\u8bb0\u7b49\u9700\u8981\u5feb\u901f\u6253\u5f00\u7684\u573a\u5408\u3002 \u591a\u5f00\u53d1\u8bed\u8a00 Python \u4e3a\u4e3b \u652f\u6301\u591a\u79cd\u5f00\u53d1\u8bed\u8a00 VS Code \u53ef\u4ee5\u652f\u6301\u5f88\u591a\u79cd\u8bed\u8a00\u7684\u5f00\u53d1\uff0c\u56e0\u6b64\u7279\u522b\u9002\u5408\u4e13\u4e1a\u5f00\u53d1\u8005 <p>\u8fd8\u6709\u4e00\u4e9b\u5c0f\u7684\u5dee\u5f02\uff0c\u6bd4\u5982 VS Code \u5f88\u591a\u529f\u80fd\u662f\u901a\u8fc7\u63d2\u4ef6\u5b9e\u73b0\u7684\uff0c\u6bcf\u4e2a\u63d2\u4ef6\u90fd\u6709\u81ea\u5df1\u7684\u65e5\u5fd7\u8f93\u51fa\u7a97\u53e3\u3002\u5f53\u4f60\u4f7f\u7528 VS Code \u65f6\uff0c\u5982\u679c\u67d0\u4e2a\u529f\u80fd\u4e0d\u80fd\u7528\uff0c\u6709\u53ef\u80fd\u662f\u7531\u63d2\u4ef6\u5f15\u8d77\u7684\u3002\u8fd9\u4e2a\u9519\u8bef\u53ef\u80fd\u53ea\u4f1a\u9759\u6084\u6084\u5730\u5728\u63d2\u4ef6\u7684\u65e5\u5fd7\u7a97\u53e3\u4e2d\u8f93\u51fa\uff0c\u800c\u4e0d\u662f\u8f93\u51fa\u5728\u4f60\u719f\u6089\u7684\u90a3\u4e9b\u754c\u9762\u7a97\u53e3\u4e2d\u3002\u8fd9\u53ef\u80fd\u4f1a\u8ba9\u521d\u5b66\u8005\u611f\u5230\u56f0\u60d1\u3002\u800c\u5728 Pycharm \u4e2d\uff0c\u8fd9\u4e9b\u7a97\u53e3\u3001\u63d0\u793a\u754c\u9762\u7684\u5b89\u6392\u4f3c\u4e4e\u66f4\u7b26\u5408\u6211\u4eec\u7684\u76f4\u89c9\u3002</p> <p>\u603b\u4e4b\uff0cPycharm \u662f\u4e00\u4e2a\u5f00\u7bb1\u5373\u7528\u7684 IDE\uff0c\u800c VS Code \u5b89\u88c5\u4e4b\u540e\uff0c\u5728\u6b63\u5f0f\u5f00\u53d1\u4e4b\u524d\uff0c\u8fd8\u5f97\u5b89\u88c5\u4e00\u7cfb\u5217\u63d2\u4ef6\uff0c\u8fd9\u53ef\u80fd\u8981\u82b1\u8d39\u4f60\u4e00\u5b9a\u7684\u65f6\u95f4\u53bb\u6bd4\u8f83\u3001\u914d\u7f6e\u548c\u5b66\u4e60\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u6253\u7b97\u957f\u671f\u4ece\u4e8b\u5f00\u53d1\u5de5\u4f5c\uff0c\u90a3\u4e48\u5728 VS Code \u4e0a\u6295\u5165\u4e00\u4e9b\u65f6\u95f4\u5219\u662f\u503c\u5f97\u7684\u3002VS Code \u662f\u4e00\u4e2a\u514d\u8d39\u4ea7\u54c1\uff0c\u5b83\u7684\u8bb8\u53ef\u8bc1\u5141\u8bb8\u60a8\u4f7f\u7528 VS Code \u6765\u8fdb\u884c\u4efb\u4f55\u5546\u4e1a\u5f00\u53d1\u3002\u56e0\u6b64\uff0c\u65e0\u8bba\u60a8\u662f\u4e2a\u4eba\u5f00\u53d1\u8005\uff0c\u8fd8\u662f\u53d7\u96c7\u4e8e\u67d0\u4e2a\u7ec4\u7ec7\uff0c\u60a8\u90fd\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002</p> <p>\u7531\u4e8e\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u4f7f\u7528 VS Code\uff0c\u4e5f\u7531\u4e8e Pycharm \u7b80\u5355\u6613\u4e0a\u624b\uff0c\u57fa\u672c\u4e0a\u65e0\u987b\u6559\u5b66\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u5c31\u7565\u8fc7\u5bf9 Pycharm \u7684\u4ecb\u7ecd\uff0c\u91cd\u70b9\u8bb2\u8ff0\u5982\u4f55\u914d\u7f6e VS Code \u5f00\u53d1\u73af\u5883\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#32-vs-code","title":"3.2. VS Code \u53ca\u6269\u5c55","text":"<p>VS Code \u662f\u4e00\u4e2a\u652f\u6301\u591a\u8bed\u8a00\u7f16\u8f91\u5f00\u53d1\u7684\u5e73\u53f0\uff0c\u5b83\u672c\u8eab\u53ea\u63d0\u4f9b\u4e86\u6587\u672c\u7f16\u8f91\u5668\u3001\u4ee3\u7801\u7ba1\u7406\uff08Git\uff09\u3001\u6269\u5c55\u7ba1\u7406\u7b49\u57fa\u7840\u529f\u80fd\u3002\u5177\u4f53\u5230\u67d0\u4e2a\u8bed\u8a00\u7684\u5f00\u53d1\uff0c\u5219\u662f\u901a\u8fc7\u52a0\u8f7d\u8be5\u8bed\u8a00\u7684\u6269\u5c55\u6765\u5b8c\u6210\u7684\u3002\u56e0\u6b64\uff0c\u5b89\u88c5 VS Code \u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u914d\u7f6e\u4e00\u7cfb\u5217\u7684\u6269\u5c55\u3002</p> <p>\u5b89\u88c5\u597d VS Code \u4e4b\u540e\uff0c\u5728\u4fa7\u8fb9\u680f\u4e0a\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u56fe\u6240\u793a\u5de5\u5177\u680f\uff1a</p> <p></p> <p>\u88ab\u5706\u5f62\u6846\u6846\u4f4f\u7684\u56fe\u6807\u5bf9\u5e94\u7740\u6269\u5c55\u7ba1\u7406\u3002\u4e0a\u90e8\u7684\u77e9\u5f62\u6846\u53ef\u4ee5\u7528\u6765\u641c\u7d22\u67d0\u4e2a\u6269\u5c55\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u6269\u5c55\u5e76\u70b9\u51fb\uff0c\u5c31\u53ef\u4ee5\u5728\u53f3\u8fb9\u7684\u7a97\u53e3\u4e2d\u770b\u5230\u8be5\u6269\u5c55\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5728\u8fd9\u4e2a\u8be6\u7ec6\u4fe1\u606f\u9875\uff0c\u63d0\u4f9b\u4e86\u5b89\u88c5\u6309\u94ae\u3002</p> <p>VS Code \u6269\u5c55\u7ba1\u7406\u9664\u4e86\u641c\u7d22\u4e4b\u5916\uff0c\u8fd8\u63d0\u4f9b\u4e86\u8fc7\u6ee4\u3001\u6392\u5e8f\u7b49\u529f\u80fd\uff0c\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u63a2\u7d22\u3002\u5982\u679c\u8bfb\u8005\u8981\u5728\u591a\u4e2a\u5f00\u53d1\u73af\u5883\u4e0b\u4f7f\u7528 VS Code\uff0c\u53ef\u80fd\u5e0c\u671b\u8fd9\u4e9b\u6269\u5c55\u5728\u4e0d\u540c\u7684\u73af\u5883\u4e0b\u90fd\u80fd\u4f7f\u7528\uff0c\u9488\u5bf9\u8fd9\u4e2a\u9700\u6c42\uff0cVS Code \u8fd8\u63d0\u4f9b\u4e86\u6269\u5c55\u540c\u6b65\u673a\u5236\u3002\u5728\u4e0a\u56fe\u4e2d\uff0c\u5728\u6269\u5c55\u8be6\u60c5\u9875\u7684\"Uninstall\"\u6309\u952e\u53f3\u4fa7\uff0c\u6709\u4e00\u4e2a\u540c\u6b65\u56fe\u6807\uff0c\u70b9\u51fb\u540e\uff0cVS Code \u4f1a\u81ea\u52a8\u5c06\u8be5\u6269\u5c55\u540c\u6b65\u5230\u5176\u4ed6\u73af\u5883\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c06\u8ba8\u8bba\u4e00\u4e9b\u6700\u5e38\u7528\u3001\u6700\u91cd\u8981\u7684 VS Code \u6269\u5c55\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u6269\u5c55\u6b66\u88c5 VS Code \u4e4b\u540e\uff0c\u60a8\u7684\u5f00\u53d1\u6548\u7387\u5c06\u5927\u5927\u63d0\u9ad8\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#321-python","title":"3.2.1. Python \u6269\u5c55","text":"<p>\u8981\u5728 VS Code \u4e2d\u5f00\u53d1 Python \u5e94\u7528\u7a0b\u5e8f\uff0c\u5c31\u9700\u8981\u5b89\u88c5 Python \u6269\u5c55\u3002\u8be5\u6269\u5c55\u5982\u524d\u56fe\u6240\u793a\u3002</p> <p>Python \u6269\u5c55\u7531\u5fae\u8f6f\u5f00\u53d1\uff0c\u76ee\u524d\u6709\u8d85\u8fc7 1 \u4ebf\u6b21\u4e0b\u8f7d\u3002\u5b83\u63d0\u4f9b\u4e86 IntelliSense\u3001\u4ee3\u7801\u8bed\u6cd5\u68c0\u67e5\u3001\u8c03\u8bd5\u3001\u5bfc\u822a\u3001\u683c\u5f0f\u5316\u3001\u91cd\u6784\u548c\u5355\u5143\u6d4b\u8bd5\u529f\u80fd\u3002\u6b64\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e86 Jupyter Notebook \u96c6\u6210\u73af\u5883\u3002</p> <p>\u968f Python \u6269\u5c55\u4e00\u8d77\u5b89\u88c5\u7684\uff0c\u8fd8\u6709 Pylance\uff0cPython Test Explorer for Visual Studio Code\uff0cJupyter \u7b49\u6269\u5c55\u3002</p> <p>Pylance \u662f\u5fae\u8f6f\u57fa\u4e8e\u81ea\u8eab\u6536\u8d2d\u7684 Pyright \u9759\u6001\u68c0\u67e5\u5de5\u5177\u5f00\u53d1\u7684\u5177\u6709 IntelliSense \u529f\u80fd\u7684 Languange Server\u3002\u5b83\u63d0\u4f9b\u8bed\u6cd5\u9ad8\u4eae\u3001\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u53c2\u6570\u5efa\u8bae\u7b49\u529f\u80fd\u3002</p> <p>\u5c3d\u7ba1 Pylance \u63d0\u4f9b\u4e86\u8fd9\u4e9b\u529f\u80fd\uff0c\u4f46\u5728\u4f7f\u7528\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u628a Pylance \u770b\u6210\u662f\u4e00\u4e2a Language Server\uff0c\u4e0a\u8ff0\u529f\u80fd\u4e2d\u7684\u8bed\u6cd5\u68c0\u67e5\u3001\u4ee3\u7801\u63d0\u793a\u548c\u81ea\u52a8\u5b8c\u6210\u7b49\u529f\u80fd\uff0c\u8fd8\u662f\u5e94\u8be5\u901a\u8fc7\u66f4\u4e13\u4e1a\u7684\u4e13\u95e8\u6269\u5c55\uff08\u6216\u8005\u7b2c\u4e09\u65b9\u670d\u52a1\uff09\u6765\u5b8c\u6210\u3002\u5728\u8fd9\u91cc\uff0cPylance \u53ef\u4ee5\u4f5c\u4e3a\u8fd9\u4e9b\u529f\u80fd\u7684\u4e00\u4e2a\u6269\u5c55\u5e73\u53f0\u3002</p> <p>Test Explorer \u7684\u4e3b\u8981\u4f5c\u7528\u662f\u53d1\u73b0\u548c\u641c\u96c6\u9879\u76ee\u4e2d\u5b9a\u4e49\u7684\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6784\u5efa TestSuite\uff0c\u63d0\u4f9b\u6d4b\u8bd5\u6267\u884c\u5165\u53e3\uff0c\u5e76\u5728\u6d4b\u8bd5\u5b8c\u6210\u4e4b\u540e\uff0c\u62a5\u544a\u6d4b\u8bd5\u6267\u884c\u60c5\u51b5\u3002</p> <p>Jupyter \u662f\u4e00\u4e2a\u5141\u8bb8\u4f60\u5728 VS Code \u4e2d\u9605\u8bfb\u3001\u5f00\u53d1 notebook \u7684\u6269\u5c55\u3002\u4e0e\u5355\u72ec\u5b89\u88c5\u7684 Jupyter notebook \u76f8\u6bd4\uff0c\u5b83\u80fd\u63d0\u4f9b\u66f4\u5f3a\u5927\u7684\u4ee3\u7801\u63d0\u793a\u3001\u53d8\u91cf\u67e5\u770b\u548c\u6570\u636e\u67e5\u770b\u3002\u6b64\u5916\uff0c\u8c03\u8bd5 notebook \u4e00\u76f4\u662f\u4e2a\u6bd4\u8f83\u9ebb\u70e6\u7684\u4e8b\u3002\u4f46\u5728 VS Code \u4e2d\uff0c\u4f60\u53ef\u4ee5\u8c61\u8c03\u8bd5 Python \u4ee3\u7801\u4e00\u6837\uff0c\u9010\u884c\u8fd0\u884c\u548c\u8c03\u8bd5 notebook\u3002</p> <p>\u5728 Python \u6269\u5c55\u5b89\u88c5\u5b8c\u6210\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c Python \u5f00\u53d1\u4e86\u3002\u5728\u5f00\u53d1\u4e4b\u524d\uff0c\u9700\u8981\u4e3a\u5de5\u7a0b\u9009\u62e9 Python \u89e3\u91ca\u5668\u3002\u53ef\u4ee5\u4ece\u547d\u4ee4\u9762\u677f\u4e2d\u8f93\u5165 Python: Select Interpreter \u6765\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u70b9\u51fb\u72b6\u6001\u680f\u4e2d\u7684\u9009\u62e9\u56fe\u6807\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap02/#322-remote-ssh","title":"3.2.2. Remote - SSH","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u6709\u7528\u7684\u6269\u5c55\uff0c\u662f\u5fae\u8f6f\u5b98\u65b9\u5f00\u53d1\u7684\u6269\u5c55\u4e4b\u4e00\u3002\u5b83\u53ef\u4ee5\u8ba9\u4f60\u5728 VS Code \u4e2d\u76f4\u63a5\u6253\u5f00\u8fdc\u7a0b\u673a\u4e0a\u7684\u6587\u4ef6\u5939\uff0c\u7f16\u8f91\u5e76\u8c03\u8bd5\u8fd0\u884c\u3002\u5982\u679c\u60a8\u4f7f\u7528\u8fc7 Pycharm \u7b49 IDE\uff0c\u5c31\u4f1a\u77e5\u9053\uff0c\u5c3d\u7ba1\u8fd9\u4e9b IDE \u4e5f\u652f\u6301\u8fdc\u7a0b\u5f00\u53d1\uff0c\u4f46\u5b83\u4eec\u662f\u5728\u672c\u5730\u521b\u5efa\u6587\u4ef6\uff0c\u8c03\u8bd5\u8fd0\u884c\u524d\u5148\u8981\u4e0a\u4f20\u540c\u6b65\u5230\u8fdc\u7a0b\u673a\u5668\u4e0a\u3002\u9891\u7e41\u540c\u6b65\u4e0d\u4ec5\u964d\u4f4e\u4e86\u6548\u7387\uff0c\u800c\u4e14\u4e5f\u5e38\u5e38\u51fa\u73b0\u672a\u80fd\u540c\u6b65\uff0c\u5bfc\u81f4\u884c\u4e3a\u4e0e\u9884\u671f\u4e0d\u4e00\u81f4\uff0c\u6d6a\u8d39\u65f6\u95f4\u67e5\u627e\u95ee\u9898\u7684\u60c5\u51b5\u3002\u8fd9\u4e5f\u662f\u4e5f\u662f VS Code \u4f18\u4e8e Pycharm \u7684\u4e00\u4e2a\u91cd\u8981\u7279\u6027\u3002</p> <p></p> <p>\u5b89\u88c5\u597d\u8fd9\u4e2a\u6269\u5c55\u4e4b\u540e\uff0c\u5728\u4fa7\u8fb9\u680f\u4f1a\u51fa\u73b0\u4e00\u4e2a\u8fdc\u7a0b\u8fde\u63a5\u56fe\u6807\u3002\u540c\u65f6\uff0c\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u8fde\u63a5\u5230\u8fdc\u7a0b\u673a\u5668\uff0c\u5219\u5728\u72b6\u6001\u680f\u6700\u5de6\u4fa7\uff0c\u8fd8\u4f1a\u663e\u793a\u8be5\u8fde\u63a5\u7684\u6982\u8981\u4fe1\u606f\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u5b89\u88c5\u7248\u672c\u7ba1\u7406\u7c7b\u7684\u6269\u5c55\u3002</p> <p>VS Code \u867d\u7136\u63d0\u4f9b\u4e86 git \u7684\u96c6\u6210\uff0c\u4f46\u662f\u8bb8\u591a\u529f\u80fd\u5e76\u672a\u901a\u8fc7 GUI \u63d0\u4f9b\uff0c\u6211\u4eec\u8fd8\u5fc5\u987b\u719f\u8bb0 git \u547d\u4ee4\u3002\u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u529f\u80fd\u662f git \u4e5f\u6ca1\u6709\u7684\uff0c\u6bd4\u5982\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ol> <li>\u4ee3\u7801\u63d0\u4ea4\u65f6\uff0c\u9075\u7167\u6307\u5b9a\u7684\u683c\u5f0f\u89c4\u8303\uff0c\u4ee5\u56fe\u5f62\u5316\u7684\u65b9\u5f0f\u7f16\u8f91 commit message</li> <li>.gitignore \u6587\u4ef6\u7684\u7ba1\u7406</li> <li>local history \u7684\u7ba1\u7406</li> </ol> <p>\u4e3a\u5b9e\u73b0\u4e0a\u8ff0\u529f\u80fd\uff0c\u6211\u4eec\u9700\u8981\u7ee7\u7eed\u5b89\u88c5\u6269\u5c55\u3002\u9996\u5148\u662f GitLens\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#323-gitlens","title":"3.2.3. GitLens","text":"<p>Gitlens \u7684\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u662f\u56e2\u961f\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u4e00\u4e2a\u6269\u5c55\u3002\u5b83\u7684\u529f\u80fd\u5305\u62ec\uff1a</p> <ol> <li>\u5728\u6587\u4ef6\u4fee\u6539\u5386\u53f2\u4e2d\u5feb\u901f\u5bfc\u822a</li> <li>\u5728\u4ee3\u7801\u884c\u4e2d\u63d0\u793a blame \u4fe1\u606f\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</li> </ol> <p></p> <ol> <li>gutter change\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</li> </ol> <p></p> <pre><code>gutter change \u662f\u6307\u5728\u4e0a\u56fe\u4e2d\uff0c\u5728\u7f16\u8f91\u533a\u884c\u53f7\u6307\u793a\u7684\u53f3\u4fa7\uff0c\u901a\u8fc7\u4e00\u4e2a\u7ebf\u6761\u6765\u6307\u793a\u5f53\u524d\u533a\u57df\u5b58\u5728\u53d8\u66f4\uff0c\u5f53\u4f60\u70b9\u51fb\u8fd9\u4e2a\u7ebf\u6761\u65f6\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u663e\u793a\u5f53\u524d\u533a\u57df\u7684\u53d8\u66f4\u5386\u53f2\uff0c\u5e76\u4e14\u5141\u8bb8\u4f60\u56de\u6eda\u53d8\u66f4\u3001\u6216\u8005\u63d0\u4ea4\u53d8\u66f4\u3002\u8fd9\u4e2a\u529f\u80fd\u5b9e\u9645\u4e0a\u662f git \u7684 interactive staging \u529f\u80fd\uff0c\u53ea\u4e0d\u8fc7\u5728\u547d\u4ee4\u884c\u4e0b\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\u65f6\uff0c\u5b83\u7684\u6613\u7528\u6027\u4e0d\u592a\u597d\u3002\n\n\u5982\u679c\u4f60\u5728\u7f16\u8f91\u6587\u4ef6\u4e4b\u524d\u6ca1\u6709\u505a\u597d\u89c4\u5212\uff0c\u5f15\u5165\u4e86\u672c\u5e94\u8be5\u96b6\u5c5e\u4e8e\u591a\u4e2a\u63d0\u4ea4\u7684\u4fee\u6539\uff0cgutter change \u662f\u6700\u597d\u7684\u8865\u6551\u65b9\u6848\u3002\u5b83\u5141\u8bb8\u4f60\u9010\u5757\u3001\u800c\u4e0d\u662f\u6309\u6587\u4ef6\u63d0\u4ea4\u4fee\u6539\u3002\u56e0\u6b64\uff0c\u4f60\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6587\u4ef6\u91cc\u7684\u4e0d\u540c\u5757\u5206\u51e0\u6b21\u8fdb\u884c\u63d0\u4ea4\u3002\n</code></pre> <ol> <li> <p>GitLens \u5728\u4fa7\u8fb9\u680f\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u5de5\u5177\u6761\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> </li> </ol> <p>\u901a\u8fc7\u8fd9\u4e9b\u5de5\u5177\u6761\uff0c\u4f60\u4e0d\u518d\u9700\u8981\u8bb0\u5fc6\u592a\u591a\u7684 git \u547d\u4ee4\uff0c\u5e76\u4e14\u8fd9\u4e9b\u547d\u4ee4\u7684\u7ed3\u679c\u4e5f\u4ee5\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u5c55\u793a\uff0c\u8fd9\u4e5f\u4f1a\u6bd4\u63a7\u5236\u53f0\u754c\u9762\u6548\u7387\u9ad8\u4e0d\u5c11\u3002\u5728\u8fd9\u4e9b\u5de5\u5177\u680f\u91cc\uff0c\u63d0\u4f9b\u4e86\u63d0\u4ea4\u89c6\u56fe\u3001\u4ed3\u5e93\u89c6\u56fe\u3001\u5206\u652f\u89c6\u56fe\u3001\u6587\u4ef6\u5386\u53f2\u89c6\u56fe\u3001\u6807\u7b7e\u89c6\u56fe\u7b49\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0cGitLens \u5c06\u51e0\u4e4e\u6240\u6709\u7684 Git \u529f\u80fd\u8fdb\u884c\u4e86\u56fe\u5f62\u5316\u5c55\u793a\u548c\u91cd\u6784\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e30\u5bcc\u7684\u64cd\u4f5c\u754c\u9762\uff0c\u8ba9\u4f60\u53ef\u4ee5\u66f4\u52a0\u65b9\u4fbf\u5730\u64cd\u4f5c Git \u548c\u7406\u89e3\u4ee3\u7801\u53d8\u66f4\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#324","title":"3.2.4. \u7f16\u8f91\u63d0\u4ea4\u4fe1\u606f\u7684\u6269\u5c55","text":"<p>\u5e38\u7528 PyCharm \u7684\u7a0b\u5e8f\u5458\u4e0d\u4f1a\u4e0d\u8bb0\u5f97\u5b83\u7684 git commit \u5bf9\u8bdd\u6846\u3002\u9057\u61be\u7684\u662f\uff0c\u5230\u76ee\u524d\u4e3a\u6b62\uff0cVS Code \u53ca\u5176\u6269\u5c55\u90fd\u6ca1\u80fd\u8865\u5145\u8fd9\u4e00\u77ed\u677f\u3002\u4e0d\u8fc7\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u5c0f\u4f17\u4f46\u597d\u7528\u7684\u6269\u5c55\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u56fe\u5f62\u5316\u754c\u9762\u4e0b\u7684 commit \u6d88\u606f\u7f16\u8f91\uff0c\u8fd8\u80fd\u5e2e\u52a9\u6211\u4eec\u89c4\u8303\u5316\u5730\u7ba1\u7406 commit message\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u63a8\u8350\u4e00\u4e2a\u540d\u4e3a git-commit-plugin \u7684\u6269\u5c55\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u6269\u5c55\u4f1a\u5c06 commit message \u8fdb\u884c\u5206\u7c7b\uff0c\u5e76\u4e14\u7ed9\u6bcf\u4e2a\u7c7b\u522b\u52a0\u4e0a emoji \u56fe\u6807\uff0c\u4ee5\u4fbf\u6211\u4eec\u66f4\u5feb\u6377\u5730\u8bc6\u522b\u7c7b\u522b\uff1a</p> <p></p> <p>\u7ed9\u4ee3\u7801\u6b63\u786e\u5730\u5206\u7c7b\u662f\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u4efb\u52a1\u3002\u5982\u679c\u6211\u4eec\u5728\u6bcf\u4e00\u6b21\u4ee3\u7801\u63d0\u4ea4\u65f6\u90fd\u8fdb\u884c\u4e86\u6b63\u786e\u5730\u5206\u7c7b\uff0c\u90a3\u4e48\u5728\u53d1\u884c\u65b0\u7684\u7248\u672c\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b\u5386\u53f2\u63d0\u4ea4\u4fe1\u606f\uff0c\u81ea\u52a8\u751f\u6210 release notes\u3002\u8fd9\u6837\u751f\u6210\u7684 release notes \u4e5f\u8bb8\u8fd8\u9700\u8981\u7a0d\u5fae\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4f46\u7edd\u5bf9\u53ef\u4ee5\u907f\u514d\u9057\u6f0f\u91cd\u8981\u7684\u4fee\u6539\u3002</p> <p>\u5f88\u663e\u7136\uff0c\u4e0d\u662f\u6240\u6709\u7684\u63d0\u4ea4\u4fe1\u606f\u90fd\u5e94\u8be5\u51fa\u73b0\u5728 release notes \u4e2d\uff0c\u7279\u522b\u662f\u50cf\u4ee3\u7801\u98ce\u683c\u3001\u6587\u6863\u4fee\u8ba2\u3001\u589e\u52a0\u6d4b\u8bd5\u7528\u4f8b\u3001\u4ee5\u53ca\u6784\u5efa\u76f8\u5173\u7684\u63d0\u4ea4\uff0c\u5f80\u5f80\u90fd\u4e0d\u662f\u6700\u7ec8\u7528\u6237\u5173\u5fc3\u7684\uff0c\u56e0\u6b64\u5728 release notes \u4e2d\u4e0d\u5e94\u8be5\u653e\u5165\u8fd9\u4e9b\u5185\u5bb9\u3002\u5982\u679c\u6211\u4eec\u5bf9\u6bcf\u4e00\u6b21\u63d0\u4ea4\u90fd\u8fdb\u884c\u4e86\u6b63\u786e\u7684\u5206\u7c7b\uff0c\u90a3\u4e48\uff0c\u81ea\u52a8\u751f\u6210 release notes \u7684\u5de5\u5177\u5c31\u53ef\u4ee5\u6309\u7167\u6211\u4eec\u6307\u5b9a\u7684\u7c7b\u522b\uff0c\u53ea\u63d0\u53d6\u6709\u6548\u7684\u4fe1\u606f\u5230 release notes \u4e2d\u3002</p> <p>\u5728\u540e\u9762\uff0c\u6211\u4eec\u8fd8\u4f1a\u63d0\u53ca\u81ea\u52a8\u5316\u751f\u6210 Release notes \u7684\u5de5\u5177\u3002\u6211\u4eec\u901a\u8fc7\u5de5\u5177\u6765\u4fdd\u8bc1 Commit Message \u683c\u5f0f\u7684\u89c4\u8303\u6027\uff0c\u800c Release notes \u4e5f\u662f\u901a\u8fc7\u5de5\u5177\u6765\u63d0\u53d6\u548c\u5206\u6790\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6574\u4e2a\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u5c31\u4f1a\u8c61\u6d41\u6c34\u7ebf\u4e00\u6837\u7cbe\u786e\u5de5\u4f5c\u3002</p> <p>\u8fd9\u6b63\u662f\u672c\u4e66\u7684\u4e3b\u65e8\u6240\u5728\uff1a\u8f6f\u4ef6\u5f00\u53d1\u6d41\u7a0b\u4e0d\u5e94\u8be5\u662f\u4e00\u4e9b\u62bd\u8c61\u7684\u7406\u5ff5\uff0c\u800c\u5e94\u8be5\u662f\u901a\u8fc7\u4e00\u7cfb\u5217\u5de5\u5177\uff0c\u5f97\u4ee5\u5f3a\u5236\u6267\u884c\u7684\u8f6f\u4ef6\u751f\u4ea7\u6d41\u6c34\u7ebf\u3002\u4e00\u65e6\u6d41\u6c34\u7ebf\u88ab\u8c03\u6821\u597d\uff0c\u751f\u4ea7\u51fa\u6765\u7684\u4ea7\u54c1\u5c31\u80fd\u901a\u8fc7 6 sigma \u7684\u54c1\u8d28\u8ba4\u8bc1 <sup>6</sup>\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#325-gitigore","title":"3.2.5. gitigore \u6269\u5c55","text":"<p>\u4ee3\u7801\u4ed3\u5e93\u53ea\u5e94\u8be5\u4fdd\u7559\u6709\u7528\u7684\u6587\u4ef6\u3002\u7136\u800c\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u5de5\u4f5c\u533a\u6709\u65f6\u5019\u4e0d\u53ef\u907f\u514d\u5730\u4f1a\u4ea7\u751f\u4e00\u4e9b\u4e34\u65f6\u6587\u4ef6\u3001\u5783\u573e\u6587\u4ef6\u548c\u4e0d\u9002\u5408\u901a\u8fc7\u4ee3\u7801\u4ed3\u5e93\u4fdd\u7ba1\u7684\u6587\u4ef6\u7c7b\u578b\uff0c\u6bd4\u5982\u8c03\u8bd5\u65f6\u4ea7\u751f\u7684\u65e5\u5fd7\uff0c\u7f16\u8bd1\u540e\u4ea7\u751f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u7b49\u3002\u8fd9\u4e9b\u4e34\u65f6\u6587\u4ef6\u5982\u679c\u53cd\u590d\u88ab\u4e0a\u4f20\uff0c\u5c31\u4f1a\u6781\u5927\u5730\u6d6a\u8d39\u4ed3\u5e93\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u964d\u4f4e\u6027\u80fd\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u4e9b\u6587\u4ef6\u88ab\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4ee3\u7801\u4ed3\u5e93\u4e2d\u521b\u5efa\u4e00\u4e2a.gitignore \u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u8fd9\u4e9b\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\u6216\u8005\u5339\u914d\u6a21\u5f0f\u5b57\u7b26\u4e32\u3002\u5982\u6b64\u4e00\u6765\uff0cgit \u5728\u63d0\u4ea4\u4ee3\u7801\u65f6\uff0c\u5c31\u4f1a\u81ea\u52a8\u8fc7\u6ee4\u6389\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>.gitignore \u6587\u4ef6\u7684\u683c\u5f0f\u975e\u5e38\u7b80\u5355\uff0c\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\u3002\u56e0\u6b64\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u624b\u52a8\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\u3002\u4f46\u662f\uff0cgitignore \u6269\u5c55\u80fd\u63d0\u4f9b\u66f4\u591a\u7684\u529f\u80fd\uff1a</p> <ol> <li>\u6839\u636e\u6a21\u677f\u751f\u6210.gitignore \u6587\u4ef6\u3002\u6bd5\u7adf\uff0c\u4e00\u4e2a.gitignore \u6587\u4ef6\u53ef\u80fd\u6709\u51e0\u5341\u884c\u4e4b\u591a\uff0c\u5176\u4e2d\u6709\u5927\u91cf\u5728\u4e0d\u540c\u9879\u76ee\u4e4b\u95f4\u901a\u7528\u7684\u90e8\u5206\uff0c\u8fd9\u4e9b\u90fd\u6ca1\u6709\u5fc5\u8981\u8bb0\u5fc6\u3002</li> <li>\u65b9\u4fbf\u60a8\u4ece\u5de5\u4f5c\u533a\u4e2d\u9009\u62e9\u6587\u4ef6\u5e76\u81ea\u52a8\u52a0\u5165\u5230.gitignore \u6587\u4ef6\u4e2d\u3002\u8fd9\u6837\u76f8\u5bf9\u4e8e\u624b\u52a8\u7f16\u8f91.gitignore \u6587\u4ef6\uff0c\u53ef\u4ee5\u907f\u514d\u51fa\u73b0\u8def\u5f84\u9519\u8bef\uff0c\u4e5f\u66f4\u52a0\u5feb\u6377\u3002</li> </ol>"},{"location":"articles/python/best-practice-python/chap02/#326","title":"3.2.6. \u672c\u5730\u6587\u4ef6\u5386\u53f2","text":"<p>\u5c3d\u7ba1 git \u63d0\u4f9b\u4e86\u6587\u4ef6\u7248\u672c\u5386\u53f2\u7684\u7ba1\u7406\uff0c\u4f46\u5bf9\u672a\u63d0\u4ea4\u7684\u4fee\u6539\uff0cgit \u662f\u65e0\u6cd5\u8ffd\u8e2a\u7684\u3002\u7136\u800c\uff0c\u5728\u4ee3\u7801\u63d0\u4ea4\u4e4b\u524d\uff0c\u6211\u4eec\u4e5f\u53ef\u80fd\u5bf9\u540c\u4e00\u6587\u4ef6\u8fdb\u884c\u591a\u6b21\u4fee\u6539\uff0c\u5e76\u5728\u67d0\u4e2a\u65f6\u5019\uff0c\u5e0c\u671b\u80fd\u67e5\u770b\u548c\u53c2\u8003\u8fd9\u4e9b\u53d8\u52a8\u60c5\u51b5\u3002\u8fd9\u5c31\u9700\u8981\u6709\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\u5386\u53f2\u7ba1\u7406\u7cfb\u7edf\u3002</p> <p>Pycharm \u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e\u5e38\u597d\u7528\u7684\u672c\u5730\u6587\u4ef6\u5386\u53f2\u7684\u529f\u80fd\u3002\u5728 VS Code \u4e2d\uff0c\u5fc5\u987b\u901a\u8fc7\u6269\u5c55\u6765\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002</p> <p>\u8bfb\u8005\u53ef\u4ee5\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55\uff1a</p> <p></p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e2a\u6269\u5c55\u4f1a\u5728\u5de5\u4f5c\u533a\u751f\u6210\u4e00\u4e2a\u540d\u4e3a.history \u7684\u6587\u4ef6\u5939\uff0c\u4ee5\u5b58\u653e\u672c\u5730\u6587\u4ef6\u5386\u53f2\u3002\u8fd9\u4e2a\u6587\u4ef6\u5939\u5fc5\u987b\u88ab\u52a0\u5165\u5230.gitignore \u6587\u4ef6\u4e2d\uff0c\u5426\u5219\uff0c\u60a8\u5f88\u53ef\u80fd\u4f1a\u628a\u8fd9\u4e2a\u6587\u4ef6\u5939\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\u3002\u8fd9\u53ef\u662f\u4e00\u5927\u5806\u5783\u573e\u6587\u4ef6\uff01</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86\u8fd9\u4e2a\u6269\u5c55\u5bf9\u4ee3\u7801\u53d8\u52a8\u7684\u8ddf\u8e2a\u60c5\u51b5\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap02/#327","title":"3.2.7. \u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210","text":"<p>\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210\u662f\u6211\u4eec\u4f7f\u7528 IDE\uff0c\u800c\u4e0d\u662f\u6587\u672c\u7f16\u8f91\u5668\u6765\u7f16\u5199\u4ee3\u7801\u6700\u91cd\u8981\u7684\u539f\u56e0\u3002\u6839\u636e Kite<sup>7</sup> \u7684\u7edf\u8ba1\uff0c\u4f7f\u7528 kite \u6765\u8fdb\u884c\u8f85\u52a9\u7f16\u7a0b\uff0c\u53ef\u4ee5\u7701\u53bb\u6700\u591a 47%\u7684\u4ee3\u7801\u952e\u5165\uff0c\u4ece\u800c\u4f7f\u5f97\u4ee3\u7801\u7f16\u5199\u66f4\u52a0\u8f7b\u677e\u548c\u66f4\u4e3a\u5feb\u901f\u3002</p> <p>\u5f53\u7136\uff0c\u60a8\u53ef\u80fd\u5e76\u4e0d\u540c\u610f\u952e\u5165\u901f\u5ea6\u4f1a\u5de6\u53f3\u7f16\u7a0b\u6548\u7387\u8fd9\u4e00\u89c2\u70b9\uff0c\u6bd5\u7adf\uff0c\u5728\u7f16\u7a0b\u4e2d\uff0c\u6211\u4eec\u5927\u91cf\u7684\u65f6\u95f4\u90fd\u662f\u5728\u601d\u8003\u7b97\u6cd5\u548c\u529f\u80fd\u5982\u4f55\u5b9e\u73b0\u3001\u56de\u5fc6\u67d0\u4e2a\u5e93\u51fd\u6570\u5e94\u8be5\u5982\u4f55\u8c03\u7528\u3001\u4ee5\u53ca\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u53d8\u91cf\u3001\u5e38\u91cf\u540d\u7b49\u3002\u4ee4\u4eba\u5403\u60ca\u7684\u662f\uff0c\u968f\u7740\u4eba\u5de5\u667a\u80fd\u80fd\u529b\u7684\u589e\u5f3a\uff0c\u73b0\u5728\u8fd9\u7c7b\u5de5\u4f5c\u7684\u5f88\u5927\u90e8\u5206\uff0c\u90fd\u53ef\u4ee5\u7531\u4ee3\u7801\u8f85\u52a9\u4e0e\u81ea\u52a8\u5b8c\u6210\u5de5\u5177\u6765\u5b8c\u6210\u4e86\u3002</p> <p>Info</p> <p>\u516c\u53f8\u66fe\u7ecf\u6709\u4f4d\u5973\u7a0b\u5e8f\u5458\u3002\u5979\u5986\u5bb9\u7cbe\u81f4\uff0c\u957f\u957f\u7684\u6307\u7532\u4e0a\u954c\u523b\u7740\u4e00\u4e9b\u7f8e\u4e3d\u7684\u56fe\u6848\uff0c\u6d41\u5149\u6ea2\u5f69\uff0c\u6572\u8d77\u952e\u76d8\u6765\uff0c\u6307\u7532\u4e0a\u7684\u56fe\u6848\uff0c\u5c31\u8c61\u8774\u8776\u4e00\u6837\u7fe9\u7fe9\u8d77\u821e\u3002\u6211\u81ea\u5df1\u77e5\u9053\u6307\u7532\u522e\u8e6d\u5728\u952e\u76d8\u5e3d\u4e0a\u7684\u58f0\u97f3\u591a\u8ba9\u4eba\u96be\u53d7\uff0c\u56e0\u6b64\u81ea\u5df1\u603b\u662f\u4fdd\u6301\u526a\u6307\u7532\u7684\u4e60\u60ef\uff0c\u4ee5\u4fdd\u8bc1\u952e\u5165\u65f6\u4e0d\u53d7\u5e72\u6270\uff0c\u4e5f\u56e0\u6b64\u4f1a\u62c5\u5fc3\u957f\u6307\u7532\u5bf9\u952e\u5165\u901f\u5ea6\u7684\u5f71\u54cd\u3002\u4f46\u63a5\u89e6\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u6211\u53d1\u73b0\u5979\u7684\u5de5\u4f5c\u6548\u7387\u4e00\u70b9\u4e5f\u4e0d\u4f4e \u2014 \u5c3d\u7ba1\u5728\u952e\u5165\u901f\u5ea6\u4e0a\uff0c\u53ef\u80fd\u8fd8\u662f\u4f1a\u53d7\u5230\u957f\u6307\u7532\u7684\u5f71\u54cd\u3002</p> <p>\u5c3d\u7ba1 Kite \u7684\u6570\u636e\u8868\u660e\u4ed6\u4eec\u5e2e\u7801\u519c\u7701\u53bb\u4e86 47%\u7684\u952e\u5165\u65f6\u95f4\uff0c\u4f46\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\u53ef\u4ee5\u770b\u51fa\uff0c\u7531\u6b64\u5e26\u6765\u7684\u6548\u7387\u7684\u63d0\u5347\uff0c\u53ef\u80fd\u5e76\u6ca1\u6709 Kite \u60f3\u50cf\u7684\u90a3\u4e48\u5927\u3002\u540e\u9762\u6211\u4eec\u8fd8\u4f1a\u6709\u673a\u4f1a\u56de\u987e Kite \u8fd9\u5bb6\u516c\u53f8\u7684\u6545\u4e8b\uff1a\u5982\u679c\u52aa\u529b\u7684\u65b9\u5411\u9519\u4e86\uff0c\u90a3\u4e48\u518d\u52e4\u594b\u4e5f\u662f\u65e0\u6d4e\u4e8e\u4e8b\u3002</p> <p>\u5c31\u8c61\u6211\u4eec\u53ef\u4ee5\u628a\u81ea\u52a8\u9a7e\u9a76\u6309\u81ea\u52a8\u5316\u7a0b\u5ea6\u5b9a\u4e49\u4e3a 5 \u4e2a\u7ea7\u522b\u4e00\u6837\uff0c\u4ee3\u7801\u8f85\u52a9\u4e5f\u53ef\u4ee5\u5206\u4e3a\u597d\u591a\u4e2a\u7ea7\u522b\u3002</p> <p>\u6700\u4f4e\u7ea7\u7684\u7ea7\u522b\uff0c\u53ef\u80fd\u662f\u666e\u901a\u6587\u672c\u7f16\u8f91\u5668\u6240\u505a\u5230\u7684\u90a3\u6837\uff0c\u5728\u5355\u8bcd\u7ea7\u522b\u4e0a\u8fdb\u884c\u63d0\u793a\u3002\u53ea\u8981\u4f60\u66fe\u7ecf\u8f93\u5165\u8fc7\u4e00\u4e2a\u5355\u8bcd\u6216\u8005\u4e00\u4e2a\u53e5\u5b50\uff0c\u90a3\u4e48\u4e0b\u6b21\u5f53\u4f60\u8f93\u5165\u8fd9\u4e2a\u5355\u8bcd\u6216\u8005\u53e5\u5b50\u7684\u524d\u9762\u90e8\u5206\uff0cIDE \u5c31\u4f1a\u81ea\u52a8\u63d0\u793a\u8fd9\u4e2a\u5355\u8bcd\u6216\u8005\u53e5\u5b50\u3002\u5982\u679c\u4f60\u5e38\u7528 Excel\uff0c\u4f60\u5c31\u5f88\u5bb9\u6613\u660e\u767d\u8fd9\u662f\u4e00\u79cd\u4ec0\u4e48\u6837\u7684\u8f85\u52a9\u3002\u4f46\u8fd9\u79cd\u63d0\u793a\u8fdc\u8fdc\u4e0d\u591f\u7cbe\u786e\uff0c\u5f88\u591a\u65f6\u5019\uff0c\u5b83\u4e0d\u80fd\u63d0\u4f9b\u6211\u4eec\u771f\u6b63\u60f3\u8981\u7684\u8f93\u5165\u3002</p> <p>\u5bf9\u4e8e\u7a0b\u5e8f\u5f00\u53d1\u6765\u8bf4\uff0c\u7531\u4e8e\u6709\u8bed\u6cd5\u89c4\u5219\u53ef\u4ee5\u501f\u52a9\uff0c\u56e0\u6b64\u8fd9\u79cd\u63d0\u793a\u53ef\u4ee5\u505a\u5f97\u66f4\u7cbe\u786e\u4e00\u4e9b\u3002\u6bd4\u5982\uff0c\u4f60\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7c7b\uff0c\u90a3\u4e48\u4e0b\u6b21\u5982\u679c\u4f60\u8f93\u5165\u4e86\u4e00\u4e2a\u7c7b\uff08\u6216\u8005\u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u53d8\u91cf\uff09\u7684\u540d\u5b57\uff0c\u5e76\u4e14\u952e\u5165\u4e00\u4e2a\u63d0\u793a\u7b26\uff08\u53ef\u80fd\u662f\".\", \u6216\u8005\"-&gt;\", \u4f9d\u8d56\u4e8e\u7a0b\u5e8f\u8bed\u8a00\uff09\uff0c\u90a3\u4e48 IDE \u5c31\u53ef\u4ee5\u63d0\u793a\u7c7b\u7684\u6240\u6709\u65b9\u6cd5\uff0c\u6216\u8005\u5c5e\u6027\uff0c\u4f9b\u6211\u4eec\u9009\u53d6\u3002\u6b64\u5916\uff0c\u5982\u679c\u5bfc\u5165\u4e86\u67d0\u4e2a\u540d\u5b57\u7a7a\u95f4\uff0cIDE \u4e5f\u53ef\u4ee5\u57fa\u4e8e\u540c\u6837\u7684\u903b\u8f91\uff0c\u6765\u63d0\u793a\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u53d8\u91cf\u3001\u51fd\u6570\u3001\u7c7b\u7b49\u3002\u8fd9\u4e9b\u90fd\u662f\u4e25\u683c\u4f9d\u8d56\u4e8e\u8bed\u6cd5\u7684\uff0c\u6240\u4ee5\uff0c\u5bf9\u9759\u6001\u8bed\u8a00\uff0cIDE \u7684\u4ee3\u7801\u63d0\u793a\u53ef\u4ee5\u505a\u5f97\u5f88\u68d2\u3002\u5bf9\u4e8e Python \u8fd9\u6837\u7684\u52a8\u6001\u8bed\u8a00\uff0c\u5728\u6ca1\u6709\u4f7f\u7528\u7c7b\u578b\u6807\u6ce8\u65f6\uff0c\u8981\u51c6\u786e\u63d0\u793a\u6210\u5458\u53d8\u91cf\u8fd8\u662f\u6709\u4e00\u5b9a\u56f0\u96be\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u6709\u4e86\u4eba\u5de5\u667a\u80fd\u7684\u52a0\u6301\uff0c\u4ee3\u7801\u8f85\u52a9\u5df2\u8fdb\u5316\u5230\u4e86\u4ee4\u4eba\u60ca\u53f9\u7684\u7a0b\u5ea6\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u672c\u4e66\u5c31\u662f\u5728 Github Copilot<sup>8</sup> \u7684\u5e2e\u52a9\u4e0b\u5b8c\u6210\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u4e00\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> <p></p> <p>Copilot \u6839\u636e\u524d\u9762\u7684\u8f93\u5165\uff0c\u81ea\u52a8\u751f\u6210\u4e86\u4e00\u4e2a\u8bed\u6cd5\u901a\u987a\u7684\u53e5\u5b50\uff08\u8fd9\u4e2a\u53e5\u5b50\u5728\u4e0a\u56fe\u4e2d\u663e\u793a\u4e3a\u7070\u8272\uff09\uff0c\u5e76\u4e14\u4e0e\u4e0a\u4e0b\u6587\u76f8\u5f53\u534f\u8c03\u3002\u8fd9\u91cc\u6211\u5e76\u4e0d\u60f3\u4f7f\u7528\u5b83\u63d0\u793a\u7684\u7528\u8bcd\uff08\u4e3b\u8981\u662f\u62c5\u5fc3\u8bfb\u8005\u5e76\u4e0d\u613f\u610f\u770b\u4e00\u672c\u673a\u5668\u5199\u7684\u4e66\uff09\uff0c\u4f46\u662f\uff0c\u5fc5\u987b\u627f\u8ba4\uff0c\u9664\u975e\u662f\u5199\u8bd7\uff0c\u6211\u4eec\u4e0d\u5fc5\u50cf\u8c61\u53e4\u4eba\u4e00\u6837\uff0c\u541f\u5b89\u4e00\u4e2a\u5b57\uff0c\u62c8\u65ad\u6570\u6839\u987b\uff0c\u6587\u7ae0\u5e76\u4e0d\u662f\u6bcf\u4e00\u53e5\u90fd\u9700\u8981\u7cbe\u96d5\u7ec6\u7422\uff0c\u6709\u65f6\u5019\uff0c\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528 Copilot \u63d0\u793a\u7684\u5b57\u53e5\u6765\u8fdb\u884c\u8fc7\u6e21\u3002\u66f4\u591a\u7684\u65f6\u5019\uff0c\u5728\u5199\u6587\u7ae0\u65f6\uff0cCopilot \u53ef\u4ee5\u8d77\u5230\u5f00\u62d3\u601d\u8def\u7684\u4f5c\u7528\uff0c\u8fd9\u65e0\u7591\u662f\u5927\u6709\u88e8\u76ca\u7684\u3002</p> <p>\u4e0a\u9762\u53ea\u662f\u4eba\u5de5\u667a\u80fd\u5728\u666e\u901a\u6587\u672c\u8f85\u52a9\u5199\u4f5c\u4e0a\u7684\u4e00\u4f8b\u3002\u5f53\u6211\u4eec\u628a\u9886\u57df\u9650\u5236\u5728\u7f16\u7a0b\u9886\u57df\u65f6\uff0c\u5176\u7ed3\u679c\u5c31\u66f4\u52a0\u4ee4\u4eba\u53f9\u670d\u3002\u5f88\u591a\u65f6\u5019\uff0c\u53ea\u8981\u4f60\u5199\u4e0b\u4e00\u884c\u6ce8\u91ca\uff0cCopilot \u5c31\u4f1a\u80fd\u5e2e\u4f60\u5b8c\u6210\u4ee3\u7801\uff0c\u5b9e\u73b0\u8fd9\u884c\u6ce8\u91ca\u7684\u529f\u80fd\u3002\u7279\u522b\u662f\u5f53\u6211\u4eec\u8981\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u5df2\u7ecf\u5728\u67d0\u4e2a\u5e93\u51fd\u6570\u4e2d\u5b9e\u73b0\u4e86\uff0c\u6216\u8005\u5b58\u5728\u67d0\u4e2a\u8457\u540d\u7684\u7b97\u6cd5\u65f6\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u529f\u80fd\u975e\u5e38\u597d\u7528\u3002</p> <p>\u5173\u4e8e VS Code \u7684\u6269\u5c55\u8fd8\u5f88\u591a\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u7684\u5de5\u7a0b\u4e2d\u53ef\u80fd\u4f7f\u7528\u4e86 json, ymal \u7b49\u6587\u4ef6\uff0c\u6216\u8005\u4f7f\u7528\u4e86 markdown/rst \u6765\u7f16\u5199\u6587\u6863\u3002\u5728\u7f16\u8f91\u8fd9\u4e9b\u6587\u4ef6\u65f6\uff0c\u8fd8\u6709\u4e00\u4e9b\u5f88\u597d\u7684\u5de5\u5177\u6765\u8fdb\u884c\u8f85\u52a9\u548c\u529f\u80fd\u589e\u5f3a\u3002\u6bd4\u5982 Markdown \u5bf9\u8868\u683c\u7684\u652f\u6301\u6bd4\u8f83\u5dee\uff0c\u624b\u52a8\u7f16\u8f91 Markdown \u8868\u683c\u662f\u6bd4\u8f83\u7e41\u7410\u7684\u4e8b\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u6269\u5c55\uff0c\u901a\u8fc7\u5b83\u4eec\u5c06\u6587\u6863\u5185\u7684 csv \u5757\u5185\u5bb9\u8f6c\u6362\u6210\u4e3a Markdown \u8868\u683c\u3002</p> <p>\u9664\u4e86\u6269\u5c55\u5916\uff0cVS Code \u8fd8\u6709\u5176\u4ed6\u4e00\u4e9b\u5b9a\u5236\u9879\uff0c\u6bd4\u5982\u4e3b\u9898\u3002\u5982\u679c\u60a8\u957f\u671f\u5bf9\u7740\u7535\u8111\u5de5\u4f5c\uff0c\u63a8\u8350\u60a8\u5b89\u88c5\u4e00\u4e9b\u6240\u8c13\u591c\u95f4\u6a21\u5f0f\u7684\u4e3b\u9898\u3002\u8fd9\u4e9b\u4e3b\u9898\u5f53\u4e2d\uff0cDracula Pycharm Theme \u662f\u6bd4\u8f83\u6709\u610f\u601d\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u8fd9\u4e2a\u4e3b\u9898\u7684\u540d\u5b57\u6765\u6e90\u4e8e\u5fb7\u53e4\u62c9\u4f2f\u7235\u3002\u5fb7\u53e4\u62c9\u4f2f\u7235\u662f\u7231\u5c14\u5170\u4f5c\u5bb6\u5e03\u83b1\u59c6\u00b7\u65af\u6258\u514b\u540c\u540d\u5c0f\u8bf4\u4e2d\u7684\u4eba\u7269 \u2014\u2014 \u4e00\u4e2a\u55dc\u8840\u3001\u4e13\u6311\u5e74\u8f7b\u7f8e\u5973\u4e0b\u624b\u7684\u5438\u8840\u9b3c\u3002\u8fd9\u90e8\u5c0f\u8bf4\u540e\u6765\u88ab\u591a\u6b21\u6539\u7f16\u6210\u7535\u5f71\u3002\u8003\u8651\u5230\u5438\u8840\u9b3c\u53ea\u5728\u591c\u95f4\u51fa\u6765\u6d3b\u52a8\uff0c\u4e00\u6b3e\u6697\u591c\u6a21\u5f0f\u7684\u4e3b\u9898\u4f7f\u7528\u8fd9\u4e2a\u540d\u5b57\u5012\u4e5f\u6070\u5982\u5176\u4efd\u3002</p> <p>\u9650\u4e8e\u7bc7\u5e45\uff0c\u6211\u4eec\u4e0d\u53ef\u80fd\u4e00\u4e00\u4ecb\u7ecd\u8fd9\u4e9b\u6269\u5c55\u3002\u9664\u4e86\u90a3\u4e9b\u4e0b\u8f7d\u91cf\u6781\u5927\u7684\u6d41\u884c\u6269\u5c55\uff0c\u672c\u7ae0\u4e5f\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u6bd4\u8f83\u5c0f\u4f17\u7684\u6269\u5c55\u3002\u8fd9\u4e9b\u5c0f\u4f17\u6269\u5c55\u5728\u672a\u6765\u53ef\u80fd\u4f1a\u6d88\u5931\uff08\u6bd4\u5982 VS Code \u76f4\u63a5\u5b9e\u73b0\u4e86\u5176\u529f\u80fd\uff09\uff0c\u6216\u8005\u88ab\u53d6\u4ee3\u3002\u91cd\u8981\u7684\u662f\uff0c\u5b83\u4eec\u5b9e\u73b0\u7684\u529f\u80fd\uff0c\u6781\u5927\u5730\u63d0\u9ad8\u4e86\u751f\u4ea7\u6548\u7387\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u548c\u529f\u80fd\uff0c\u662f\u6211\u4eec\u5e94\u8be5\u719f\u77e5\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#4","title":"4. \u5176\u4ed6\u5f00\u53d1\u73af\u5883","text":""},{"location":"articles/python/best-practice-python/chap02/#41-jupyter-notebook","title":"4.1. Jupyter Notebook","text":"<p>Pycharm \u548c VS Code \u90fd\u662f\u5927\u578b\u5f00\u53d1\u5de5\u5177\uff0c\u9002\u5408\u5f00\u53d1\u5927\u578b\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u3002\u4f46\u5728 Python \u9886\u57df\u4e2d\uff0c\u6709\u4e00\u7c7b\u95ee\u9898\u66f4\u9002\u5408\u63a2\u7d22\u5f0f\u7f16\u7a0b\uff0c\u6bd4\u5982\u6570\u636e\u5206\u6790\u4efb\u52a1\u3002\u6211\u4eec\u62ff\u5230\u4e00\u4e9b\u6570\u636e\uff0c\u901a\u8fc7\u7edf\u8ba1\u65b9\u6cd5\u67e5\u770b\u5b83\u4eec\u7684\u7279\u6027\uff0c\u8fdb\u884c\u4e00\u4e9b\u53ef\u89c6\u5316\u7684\u5206\u6790\u3002\u7136\u540e\u5bf9\u6570\u636e\u8fdb\u884c\u9884\u5904\u7406\uff0c\u8fdb\u800c\u7f16\u5199\u4e00\u4e9b\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\uff0c\u5982\u679c\u7ed3\u679c\u4e0d\u7406\u60f3\uff0c\u5219\u63a8\u5012\u91cd\u6765\uff0c\u63a2\u7d22\u65b0\u7684\u7b97\u6cd5\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u88ab\u79f0\u4e3a\u63a2\u7d22\u5f0f\u7f16\u7a0b\uff1a\u63a2\u7d22\u5f0f\u7684\u5de5\u4f5c\u91cd\u4e8e\u9075\u5faa\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u4ee3\u7801\u4e2d\u5939\u6742\u7740\u5927\u91cf\u7684\u89e3\u91ca\u6027\u6587\u6863\u548c\u8f93\u51fa\u7ed3\u679c\uff08\u5305\u542b\u56fe\u8868\u548c\u56fe\u50cf\uff09\uff0c\u5b83\u4eec\u90fd\u4f5c\u4e3a\u6700\u7ec8\u7ed3\u679c\u7684\u4e00\u90e8\u5206\uff0c\u800c\u4e0d\u662f\u8c61\u4f20\u7edf\u7684\u7f16\u7a0b\u4e00\u6837\uff0c\u4ee3\u7801\u3001\u6587\u6863\u548c\u8f93\u51fa\u7ed3\u679c\u662f\u5206\u79bb\u7684\u3002</p> <p>Jupyter Notebook \u662f\u63a2\u7d22\u5f0f\u7f16\u7a0b\u7684\u5229\u5668\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u4e8e\u7f51\u9875\u7684\u7f16\u8f91\u5668\u548c\u8fd0\u884c\u73af\u5883\uff0c\u7528\u6237\u8f93\u5165\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u4e2a\u5355\u5143\u683c\uff0c\u6bcf\u4e2a\u5355\u5143\u683c\u53ef\u4ee5\u662f\u4ee3\u7801\u5355\u5143\uff0c\u4e5f\u53ef\u4ee5\u662f\u6587\u672c\u5355\u5143\uff1b\u4ee3\u7801\u5355\u5143\u8fd8\u5141\u8bb8\u6709\u8f93\u51fa\u7ed3\u679c\uff0c\u8f93\u51fa\u7ed3\u679c\u53ef\u4ee5\u662f\u6587\u672c\uff0c\u4e5f\u53ef\u4ee5\u662f\u56fe\u8868\u6216\u56fe\u50cf\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 Notebook \u53ef\u4ee5\u770b\u6210\u662f\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u5728\u6b64 Notebook \u4e2d\u7684\u4ee3\u7801\u5355\u5143\u683c\u91cc\u5b9a\u4e49\u7684\u53d8\u91cf\u548c\u51fd\u6570\u90fd\u5177\u6709\u5168\u5c40\u4f5c\u7528\u57df\uff0c\u6bcf\u4e2a\u4ee3\u7801\u5355\u5143\u683c\u90fd\u53ef\u4ee5\u5355\u72ec\u6267\u884c\u3002\u8fd9\u79cd\u6a21\u5f0f\u6709\u5b83\u6781\u5176\u65b9\u4fbf\u7684\u4e00\u9762\uff0c\u4f60\u53ef\u4ee5\u968f\u65f6\u968f\u5730\u5728 Notebook \u4e2d\u8fd0\u884c\u4ee3\u7801\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u5355\u5143\u683c\u4e2d\u8fdb\u884c\u5207\u6362--\u65e0\u8bba\u662f\u63a2\u7d22\u6570\u636e\u7684\u7279\u6027\uff0c\u8fd8\u662f\u63a2\u7d22\u4e00\u4e2a\u65b0\u7684\u7a0b\u5e8f\u5e93\u7684\u529f\u80fd\uff0c\u90fd\u53d8\u5f97\u975e\u5e38\u5bb9\u6613\u3002</p> <p>\u5f53\u524d\uff0cJupyter Notebook \u7684\u5f00\u53d1\u8005\u5728\u529b\u63a8 Jupyter Lab\uff0c\u4ee5\u66ff\u4ee3 Jupyter Notebook\u3002\u4e0d\u8fc7\uff0c\u7531\u4e8e VS Code \u548c Pycharm \u5bf9 Jupyter Notebook \u7684\u96c6\u6210\uff0c\u56e0\u6b64 Notebook \u8fd8\u5c06\u5b58\u5728\u76f8\u5f53\u957f\u7684\u65f6\u95f4\u3002</p>"},{"location":"articles/python/best-practice-python/chap02/#42-spyder","title":"4.2. Spyder","text":"<p>Spyder<sup>9</sup> \u662f\u4e13\u95e8\u4e3a\u79d1\u5b66\u5bb6\u3001\u6570\u636e\u5206\u6790\u5e08\u3001\u5de5\u7a0b\u5e08\u6253\u9020\u7684\u4e00\u6b3e\u5f00\u6e90\u7684\u7f16\u7a0b\u73af\u5883\u3002\u5b83\u5177\u6709\u96c6\u6210\u5f00\u53d1\u73af\u5883\u7684\u9ad8\u7ea7\u7f16\u8f91\u3001\u5206\u6790\u3001\u8c03\u8bd5\u548c profiling \u529f\u80fd\u4e0e\u79d1\u5b66\u5e93\u7684\u6570\u636e\u63a2\u7d22\u3001\u4ea4\u4e92\u5f0f\u6267\u884c\u3001\u6df1\u5ea6\u68c0\u67e5\u548c\u7cbe\u7f8e\u53ef\u89c6\u5316\u529f\u80fd\u7684\u72ec\u7279\u7ec4\u5408\u3002 \u6211\u4eec\u5f88\u5bb9\u6613\u4ece\u5b83\u7684\u754c\u9762\u4e0a\u770b\u51fa\u8fd9\u4e00\u70b9\uff1a</p> <p></p> <p>Spyder \u5305\u542b\u5728 Anaconda \u53d1\u884c\u7248\u4e4b\u5185\uff0c\u6240\u4ee5\u4e00\u65e6\u5b89\u88c5\u4e86 Anaconda\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 Spyder \u6765\u7f16\u5199 Python \u4ee3\u7801\u3002\u5728\u5b83\u7684\u5b98\u7f51\u4e0a\u4e5f\u63d0\u4f9b\u4e86\u5355\u72ec\u7684\u5b89\u88c5\u5305\u4f9b\u4e0b\u8f7d\u3002</p> <p>\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u4e86\u4e09\u79cd\u7c7b\u578b\u7684 Python \u5f00\u53d1\u73af\u5883\uff1a\u9002\u7528\u4e8e\u5927\u578b\u5de5\u7a0b\u5316\u5f00\u53d1\u7684 Pycharm/VS Code\uff0c\u9002\u7528\u4e8e\u63a2\u7d22\u5f0f\u7f16\u7a0b\u7684 Jupyter Notebook\uff0c\u8fd8\u6709\u878d\u5408\u4e86\u4e24\u8005\u7279\u70b9\u7684 Spyder\u3002\u5f53\u7136\uff0c\u5728 Pycharm/VS Code \u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u6253\u5f00\u548c\u8fd0\u884c Jupyter Notebook\uff0c\u8fd9\u9879\u529f\u80fd\u96c6\u6210\u5230\u8fd9\u4e24\u79cd IDE \u4e2d\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\u3002</p> <p>\u5982\u679c\u6211\u4eec\u7ecf\u5e38\u6027\u7684\u5f00\u53d1\u5de5\u4f5c\u662f\u6784\u5efa\u9ad8\u590d\u7528\u7684\u7ec4\u4ef6\u5e93\u3001\u6216\u8005\u590d\u6742\u7684\u5e94\u7528\u7a0b\u5e8f\uff0cPycharm/VS Code \u662f\u7edd\u5bf9\u7684\u4e0d\u4e8c\u4e4b\u9009\u3002\u8fd9\u4e24\u79cd\u5de5\u5177\u90fd\u8fd1\u4e4e\u5b8c\u7f8e\u5730\u4e0e\u8d1f\u8d23\u6d4b\u8bd5\u3001\u6301\u7eed\u96c6\u6210\u4ee5\u53ca\u4ee3\u7801\u7ba1\u7406\u3001\u6587\u6863\u6784\u5efa\u7684\u5de5\u5177\u96c6\u6210\u5728\u4e00\u8d77\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u4f60\u7684\u5de5\u4f5c\u66f4\u591a\u7684\u662f\u63a2\u7d22\u6027\u7684\uff0c\u4f3c\u4e4e\u53ea\u4f7f\u7528 Jupyter Notebook \u5c31\u591f\u4e86\u3002\u800c Spyder \u5219\u4e3a\u4e24\u65b9\u9762\u9700\u6c42\u90fd\u8981\u517c\u987e\u7684\u7528\u6237\uff0c\u63d0\u4f9b\u4e86\u4e00\u79cd\u9009\u62e9\u3002</p> <ol> <li> <p>stackoverflow.com \u662f\u5168\u7403\u6700\u77e5\u540d\u7684\u6280\u672f\u5206\u4eab\u793e\u533a\u3002\u7a0b\u5e8f\u5458\u5e38\u5e38\u901a\u8fc7\u8fd9\u4e2a\u793e\u533a\u5411\u4ed6\u4eba\u8bf7\u6559\u81ea\u5df1\u9047\u5230\u7684\u6280\u672f\u95ee\u9898\u3002\u00a0\u21a9</p> </li> <li> <p>\u6709\u4e00\u79cd\u8bf4\u6cd5\uff0cMac Os \u662f\u6700\u597d\u7684 Linux\uff0c Windows \u4e5f\u662f\u6700\u597d\u7684 Linux\uff0c\u53ea\u6709 Linux \u505a\u4e0d\u597d Linux\u3002\u00a0\u21a9</p> </li> <li> <p>\u622a\u6b62\u672c\u4e66\u6210\u7a3f\u65f6\uff0c\u8fd9\u4e2a\u6982\u5ff5\u53ef\u80fd\u5df2\u7ecf\u53d1\u751f\u4e86\u53d8\u5316\u3002\u5728 WSL \u4e0b\u5b89\u88c5\u7684 Ubuntu 20 \u4ee5\u4e0a\u7684\u7248\u672c\uff0c\u53ef\u80fd\u5df2\u7ecf\u6709\u4e86\u670d\u52a1\u7684\u6982\u5ff5\uff0c\u8bf7\u8bfb\u8005\u81ea\u884c\u9a8c\u8bc1\u3002\u00a0\u21a9</p> </li> <li> <p>docker \u7684\u5b98\u65b9\u7f51\u7ad9\u662f\uff1ahttps://desktop.docker.com/\u00a0\u21a9</p> </li> <li> <p>Virutalbox \u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u684c\u9762\u7ea7\u865a\u62df\u673a\u3002\u5b83\u7684\u4f7f\u7528\u5b8c\u5168\u514d\u8d39\u3002\u7f51\u7ad9\u5730\u5740\uff1ahttps://www.virtualbox.org/\u00a0\u21a9</p> </li> <li> <p>\u5728\u7edf\u8ba1\u5b66\u4e2d\uff0c6 sigma \u610f\u5473\u7740\u7f6e\u4fe1\u5ea6\u662f 99.99966%\uff0c\u5728\u8d28\u91cf\u68c0\u9a8c\u573a\u666f\u4e0b\uff0c\u8868\u660e\u4ea7\u54c1\u8fbe\u5230\u4e86\u5f88\u9ad8\u7684\u8d28\u91cf\u6807\u51c6\u3002\u4ece 1970 \u5e74\u4ee3\u5f00\u59cb\uff0c\u6469\u6258\u7f57\u62c9\u53d1\u73b0\u4e86\u63d0\u9ad8\u8d28\u91cf\u4e0e\u964d\u4f4e\u751f\u4ea7\u6210\u672c\u4e4b\u95f4\u7684\u6b63\u76f8\u5173\u5173\u7cfb\uff0c\u4e8e\u662f\u53d1\u5c55\u51fa\u4e00\u6574\u5957\u6539\u5584\u5de5\u4e1a\u6d41\u7a0b\u3001\u6d88\u9664\u6b8b\u75b5\u7684\u65b9\u6cd5\u30021986 \u5e74\uff0c\u6469\u6258\u7f57\u62c9\u6b63\u5f0f\u5c06\u5176\u547d\u540d\u4e3a 6-sigma\u3002\u5b83\u5f3a\u8c03\u6301\u7eed\u6539\u8fdb\uff0c\u7a33\u5b9a\u548c\u9884\u6d4b\u6027\u5730\u63d0\u9ad8\u6d41\u7a0b\u7ed3\u679c\uff1b\u751f\u4ea7\u548c\u5546\u4e1a\u6d41\u7a0b\u53ef\u4ee5\u900f\u8fc7\u6d4b\u91cf\u3001\u5206\u6790\u3001\u63d0\u9ad8\u548c\u63a7\u5236\u8fdb\u884c\u6539\u5584\u7b49\u7b49\u3002\u968f\u7740\u6469\u6258\u7f57\u62c9\u5f71\u54cd\u529b\u7684\u8870\u843d\uff0c6-sigma \u7684\u5f71\u54cd\u529b\u4e5f\u65e5\u6e10\u5f0f\u5fae\uff0c\u4f46\u5b83\u7684\u6838\u5fc3\u89c2\u70b9\u548c\u65b9\u6cd5\uff0c\u6bd4\u5982\u6301\u7eed\u6539\u8fdb\u7b49\uff0c\u4ecd\u7136\u5f97\u5230\u5e7f\u6cdb\u8ba4\u540c\u548c\u4f20\u64ad\u3002\u00a0\u21a9</p> </li> <li> <p>https://www.kite.com/\u00a0\u21a9</p> </li> <li> <p>https://www.copilot.ai/\u00a0\u21a9</p> </li> <li> <p>https://www.spyder-ide.org/\u00a0\u21a9</p> </li> </ol>"},{"location":"articles/python/best-practice-python/chap03/","title":"03 \u6784\u5efa Python \u865a\u62df\u73af\u5883","text":"<p>\u5728\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u8ba8\u8bba\u4e86\u6784\u5efa\u5f00\u53d1\u73af\u5883\u7684\u57fa\u672c\u6b65\u9aa4\uff0c\u5982\u9009\u62e9\u64cd\u4f5c\u7cfb\u7edf\u3001\u9009\u62e9\u96c6\u6210\u5f00\u53d1\u73af\u5883\u7b49\u3002\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u7740\u624b\u7f16\u5199\u4ee3\u7801\u4e86\uff0c\u4f46\u8981\u80fd\u8fd0\u884c\u548c\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u8fd8\u9700\u8981\u6307\u5b9a Python \u8fd0\u884c\u65f6\uff08\u6216\u8005\u79f0\u4e4b\u4e3a\u89e3\u91ca\u5668\uff09\u3002\u7279\u522b\u5730\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u7684\u5f00\u53d1\u5de5\u5177\u662f VS Code\uff0c\u90a3\u4e48\u8fd9\u4e00\u6b65\u662f\u5fc5\u987b\u7684\uff1a\u56e0\u4e3a VS Code \u5e76\u4e0d\u662f\u53ea\u4e3a\u5f00\u53d1 Python \u5e94\u7528\u7a0b\u5e8f\u800c\u8bbe\u8ba1\u7684\uff0c\u5b83\u652f\u6301\u597d\u591a\u79cd\u5f00\u53d1\u8bed\u8a00\u3002\u56e0\u6b64\uff0c\u8981\u4f7f\u5f97 VS Code \u77e5\u9053\u4f60\u7684\u5de5\u7a0b\u9879\u76ee\u662f\u57fa\u4e8e Python \u7684\uff0c\u5c31\u5fc5\u987b\u4e3a\u5b83\u6307\u5b9a Python \u8fd0\u884c\u65f6\u3002</p> <p>Python \u6709\u4e24\u4e2a\u4e3b\u8981\u7684\u8fd0\u884c\u65f6\u7248\u672c\uff0cPython 2.x \u548c Python 3.x\u3002Python 3.x \u662f\u5bf9 2.x \u7248\u672c\u7684\u7834\u574f\u6027\u5347\u7ea7\u3002\u5f53\u524d\uff0c\u9700\u8981\u5728 3.x \u7248\u672c\u4e0b\u8fd0\u884c\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u7ec4\u4ef6\u8d8a\u6765\u8d8a\u591a\u4e86\uff0c\u7136\u800c\uff0c\u50cf MacOs \u6216\u8005 Ubuntu \u8fd9\u6837\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u7684\u4e00\u4e9b\u8001\u65e7\u7248\u672c\u4ecd\u7136\u4f9d\u8d56 Python 2.x \u6765\u8fd0\u884c\u4e00\u4e9b\u6838\u5fc3\u529f\u80fd\uff0c\u6bd4\u5982\u5305\u7ba1\u7406\u3002\u56e0\u6b64\uff0c\u5728\u8fd9\u4e9b\u7cfb\u7edf\u4e0a\uff0cPython 2.x \u4ecd\u7136\u662f\u7f3a\u7701\u5b89\u88c5\u7684 Python \u8fd0\u884c\u65f6\u7248\u672c\u3002</p> <p>Info</p> <p>Python 2.7 \u662f Python 2.x \u7cfb\u5217\u7684\u6700\u540e\u4e00\u4e2a\u7248\u672c\uff0c\u5df2\u4e8e 2020 \u5e74 1 \u6708 1 \u65e5\u7ec8\u6b62\u7ef4\u62a4\uff1bPython 3.7 \u5219\u4e8e 2023 \u5e74 6 \u6708 27 \u65e5\u7ec8\u6b62\u7ef4\u62a4\u3002\u56e0\u6b64\uff0c\u5f53\u60a8\u5f00\u59cb\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5e94\u8be5\u5c3d\u53ef\u80fd\u907f\u5f00\u8fd9\u4e9b\u8001\u65e7\u7684 Python \u7248\u672c\u3002</p> <p>\u8fd9\u4f1a\u662f\u4f60\u5728\u5f00\u53d1 Python \u5e94\u7528\u65f6\u7684\u5c06\u4f1a\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898\uff1a\u4f60\u60f3\u8981\u5f00\u53d1\u4e00\u4e2a Python \u5e94\u7528\u7a0b\u5e8f\uff0c\u4f7f\u7528\u4e86\u6700\u65b0\u7684 Python \u7248\u672c\uff0c\u6709\u7740\u5927\u91cf\u9177\u70ab\u7684\u65b0\u7279\u5f81\u548c\u65b0\u529f\u80fd\u3002\u4f46\u5f53\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u90e8\u7f72\u65f6\uff0c\u53ef\u80fd\u88ab\u90e8\u7f72\u5230\u5404\u79cd\u5404\u6837\u7684\u673a\u5668\u4e0a\uff0c\u8fd9\u4e9b\u673a\u5668\u4e0a\u7f3a\u7701\u5b89\u88c5\u7684 Python \u7248\u672c\uff0c\u5e76\u4e0d\u662f\u4f60\u5f00\u53d1\u65f6\u6307\u5b9a\u7684\u7248\u672c\u3002\u5982\u679c\u5f3a\u884c\u5347\u7ea7\u7cfb\u7edf\u7f3a\u7701\u5b89\u88c5\u7684 Python \u7248\u672c\uff0c\u5219\u53ef\u80fd\u4f1a\u7834\u574f\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\uff1b\u800c\u5982\u679c\u4e0d\u8fdb\u884c\u5347\u7ea7\uff0c\u5219\u53c8\u6ca1\u529e\u6cd5\u8fd0\u884c\u4f60\u7684\u7a0b\u5e8f\u3002</p> <p>\u5373\u4f7f\u76ee\u6807\u673a\u5668\u548c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u4e86\u540c\u6837\u7684 Python \u7248\u672c\uff0c\u7c7b\u4f3c\u7684\u51b2\u7a81\u8fd8\u53ef\u80fd\u53d1\u751f\u5728\u5176\u5b83\u7ec4\u4ef6\u4e0a\u3002\u6bd4\u5982 Django \u662f Python \u793e\u533a\u4e2d\u6700\u8d1f\u76db\u540d\u7684 web \u5f00\u53d1\u6846\u67b6\u3002\u5b83\u4f9d\u8d56\u4e8e SQLAlchemy -- Python \u793e\u533a\u4e2d\u53e6\u4e00\u4e2a\u540c\u6837\u9887\u8d1f\u76db\u540d\u7684\u5f00\u6e90 orm \u6846\u67b6\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e5f\u4f9d\u8d56\u4e8e SQLAlchemy\uff0c\u5e76\u4e14\u4f60\u4f7f\u7528\u4e86 SQLAlchemy 1.4 \u4ee5\u4e0a\u7684\u7248\u672c\uff0c\u800c Django \u4f7f\u7528\u4e86\u5b83\u7684\u65e9\u671f\u7248\u672c\uff0c\u90a3\u4e48\u5f88\u4e0d\u5e78\uff0c\u8fd9\u4e24\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5c06\u65e0\u6cd5\u5171\u7528\u540c\u4e00\u4e2a Python \u73af\u5883\uff1a SQLAlchemy 1.4 \u76f8\u5bf9\u4e8e\u4e4b\u524d\u7684\u7248\u672c\uff0c\u662f\u5b8c\u5168\u4e0d\u517c\u5bb9\u7684\u7834\u574f\u6027\u66f4\u65b0\u3002</p> <p>\u8fd9\u7c7b\u95ee\u9898\u88ab\u79f0\u4e4b\u4e3a\u4f9d\u8d56\u5730\u72f1\u3002\u4f9d\u8d56\u5730\u72f1\u5e76\u4e0d\u662f Python \u72ec\u6709\u7684\u95ee\u9898\uff0c\u5b83\u662f\u6240\u6709\u7684\u8f6f\u4ef6\u7cfb\u7edf\u90fd\u4f1a\u9762\u4e34\u7684\u95ee\u9898\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#1","title":"1. \u4f9d\u8d56\u5730\u72f1","text":"<p>\u5728\u6784\u5efa\u8f6f\u4ef6\u7cfb\u7edf\u65f6\uff0c\u901a\u5e38\u90fd\u4f1a\u6d89\u53ca\u529f\u80fd\u590d\u7528\u7684\u95ee\u9898\u3002\u6bd5\u7adf\uff0c\u201c\u91cd\u65b0\u53d1\u660e\u8f6e\u5b50\u201d\u662f\u4e00\u79cd\u4e0d\u5fc5\u8981\u7684\u6d6a\u8d39\u3002\u529f\u80fd\u590d\u7528\u53ef\u80fd\u53d1\u751f\u5728\u6e90\u4ee3\u7801\u7ea7\u522b\u3001\u4e8c\u8fdb\u5236\u7ea7\u522b\u6216\u8005\u670d\u52a1\u7ea7\u522b\u3002\u6e90\u4ee3\u7801\u7ea7\u522b\u5c31\u662f\u5728\u6211\u4eec\u7684\u5de5\u7a0b\u4e2d\uff0c\u76f4\u63a5\u4f7f\u7528\u4ed6\u4eba\u7684\u4ee3\u7801\u6e90\u7801\uff1b\u4e8c\u8fdb\u5236\u7ea7\u522b\u662f\u6307\u5728\u6211\u4eec\u7684\u5e94\u7528\u4e2d\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\uff1b\u670d\u52a1\u7ea7\u522b\u7684\u590d\u7528\uff0c\u5219\u662f\u7a0b\u5e8f\u529f\u80fd\u4ee5\u670d\u52a1\u7684\u65b9\u5f0f\u72ec\u7acb\u8fd0\u884c\uff0c\u5176\u5b83\u5e94\u7528\u901a\u8fc7\u7f51\u7edc\u8bf7\u6c42\u6765\u4f7f\u7528\u8fd9\u79cd\u529f\u80fd\u3002</p> <p>\u5f53\u6211\u4eec\u4f7f\u7528\u4e8c\u8fdb\u5236\u7ea7\u522b\u7684\u590d\u7528\u65f6\uff0c\u5c31\u5e38\u5e38\u4f1a\u9047\u5230\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u3002\u6bd4\u5982\u5728\u4e0a\u9762 Django \u7684\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5411 Django \u548c\u4f60\u7684\u5e94\u7528\u5206\u522b\u63d0\u4f9b\u4e0d\u540c\u7248\u672c\u7684 SQLAlchemy\uff0c\u5219\u8fd9\u4e24\u4e2a\u5e94\u7528\u5c06\u65e0\u6cd5\u540c\u65f6\u8fd0\u884c\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u3002</p> <p>\u4f9d\u8d56\u5730\u72f1\u5e76\u4e0d\u662f Python \u72ec\u6709\u7684\u95ee\u9898\u3002\u6240\u6709\u7684\u7a0b\u5e8f\u5f00\u53d1\u8bed\u8a00\u90fd\u4f1a\u9047\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\u3002\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u4e4b\u4e00\uff0c\u5c31\u662f\u5c06\u7a0b\u5e8f\u7684\u8fd0\u884c\u73af\u5883\u5f7c\u6b64\u9694\u79bb\u8d77\u6765\u3002\u6bd4\u5982\uff0c\u5e94\u7528\u7a0b\u5e8f\u6240\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4e0d\u662f\u5b89\u88c5\u5230\u7cfb\u7edf\u76ee\u5f55\u4e2d\uff0c\u800c\u662f\u5b89\u88c5\u5230\u5355\u72ec\u7684\u76ee\u5f55\u4e2d\uff1a\u6bd4\u5982\uff0c\u968f\u7740\u8be5\u5e94\u7528\u7a0b\u5e8f\u4e00\u8d77\u5b89\u88c5\u5230\u8be5\u5e94\u7528\u7a0b\u5e8f\u6240\u5360\u7684\u76ee\u5f55\u4e2d\uff0c\u5e76\u4e14\uff0c\u53ea\u4ece\u8fd9\u4e2a\u76ee\u5f55\u4e2d\u52a0\u8f7d\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\u3002</p> <p>Python \u89e3\u91ca\u5668\u672c\u8eab\u4e5f\u53ef\u4ee5\u770b\u6210\u4e00\u4e2a\u666e\u901a\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u5b89\u88c5\u4e00\u4e2a Python \u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u53ef\u4ee5\u5c06\u8be5\u7a0b\u5e8f\u4f9d\u8d56\u7684 Python \u8fd0\u884c\u65f6\uff0c\u53ca\u76f8\u5173\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u90fd\u5b89\u88c5\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u76ee\u5f55\u4e2d\u3002\u8fd9\u6837\uff0c\u5f53\u6211\u4eec\u8fd0\u884c\u8be5\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u5c31\u4ece\u8be5\u76ee\u5f55\u4e2d\u542f\u52a8 Python\uff0c\u5982\u679c Python \u53ea\u4ece\uff08\u6216\u8005\u4f18\u5148\uff09\u8be5\u76ee\u5f55\u52a0\u8f7d\u7b2c\u4e09\u65b9\u5e93\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u5b9e\u73b0\u4e86\u67d0\u79cd\u7a0b\u5ea6\u7684\u9694\u79bb\u3002\u8fd9\u79cd\u601d\u60f3\uff0c\u5c31\u662f\u865a\u62df\u8fd0\u884c\u73af\u5883\u7684\u601d\u60f3\uff0c\u5b83\u662f\u89e3\u51b3 Python \u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u7684\u4e00\u4e2a\u4e3b\u8981\u65b9\u6cd5\u3002</p> <p>\u65e2\u7136\u6211\u4eec\u63d0\u5230\u4e86\u201c\u9694\u79bb\u201d\u4e00\u8bcd\uff0c\u6211\u4eec\u4e0d\u59a8\u518d\u7a0d\u7a0d\u5f15\u7533\u4e00\u4e0b\u3002\u5728\u7b2c\u4e8c\u7ae0\u6211\u4eec\u63d0\u5230\u4e86\u865a\u62df\u673a\u548c Docker \u5bb9\u5668\uff0c\u8fd9\u4e9b\u662f\u89e3\u51b3\u8d44\u6e90\u51b2\u7a81\uff0c\u5bf9\u8d44\u6e90\u8fdb\u884c\u9694\u79bb\u7684\u65b9\u6cd5\u3002\u73b0\u5728\uff0c\u901a\u8fc7\u5bb9\u5668\u4ee5\uff08\u5fae\uff09\u670d\u52a1\u7684\u65b9\u5f0f\u6765\u90e8\u7f72 Python \u5e94\u7528\u7a0b\u5e8f\u4e5f\u8d8a\u6765\u8d8a\u5e38\u89c1\uff0c\u5176\u4e2d\u4e5f\u6709\u7b80\u5316\u5b89\u88c5\u73af\u5883\u3001\u907f\u514d\u4f9d\u8d56\u5730\u72f1\u7b49\u65b9\u9762\u7684\u8003\u8651\u3002</p> <p>\u5728\u8fd9\u4e00\u7ae0\u6211\u4eec\u4e3b\u8981\u8bb2\u5982\u4f55\u6784\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u6837\u53ef\u4ee5\u5b8c\u5168\u89e3\u51b3\u8fd0\u884c\u65f6\u4e0e\u5176\u5b83\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u53ef\u80fd\u53d1\u751f\u7684\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\u3002\u7136\u800c\uff0c\u4f9d\u8d56\u5730\u72f1\u8fd8\u6709\u5176\u5b83\u591a\u79cd\u8868\u73b0\u5f62\u5f0f\uff0c\u6211\u4eec\u540e\u9762\u8fd8\u4f1a\u5728\u8bb2\u8ff0 Poetry \u90a3\u4e00\u7ae0\u518d\u63a2\u8ba8\u8fd9\u4e2a\u95ee\u9898\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#2","title":"2. \u4f9d\u8d56\u5730\u72f1\u4e0e\u865a\u62df\u73af\u5883","text":"<p>Python \u7684\u865a\u62df\u73af\u5883\u65b9\u6848\u53ef\u8c13\u6e90\u8fdc\u6d41\u957f\uff0c\u79cd\u7c7b\u7e41\u591a\u3002\u5982\u679c\u4f60\u63a5\u89e6 Python \u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\uff0c\u90a3\u4e48\u4f60\u5f88\u53ef\u80fd\u542c\u8bf4\u8fc7 annaconda, virutalenv, venv, pip, pipenv, poetry, pyenv, pyvenv, pyenv-virtualenv, virtualenvwrapper, pyenv-virtualenv wrapper \u7b49\u76f8\u4f3c\u6982\u5ff5\u3002   </p> <p>Info</p> <p>\u5728 Zen of Python \u4e4b\u4e2d\u63d0\u5230\u7684\u4e00\u4e2a\u91cd\u8981\u539f\u5219\u5c31\u662f\uff1a There should be one -- and preferably only one -- obvious way to do it. \u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053</p> <p>\u4ece Python \u7684\u865a\u62df\u73af\u5883\u89e3\u51b3\u65b9\u6848\u4e4b\u591a\u6765\u770b\uff0c\u8981\u8fbe\u5230\u8fd9\u6837\u7684\u5883\u754c\u4f3c\u4e4e\u662f\u56f0\u96be\u7684\u3002\u4eba\u4eec\u8bd5\u56fe\u5efa\u9020\u5df4\u522b\u5854\uff08Tower of Babel\uff09\uff0c\u4f46\u4e0a\u5e1d\u4f1a\u6bc1\u706d\u5b83\u3002\u4e0d\u8fc7\uff0c\u7c7b\u4f3c\u7684\u56f0\u5883\u5e76\u975e Python \u72ec\u6709\u3002\u6bd4\u5982\uff0c Javascript \u5728\u5176\u9ad8\u6b4c\u731b\u8fdb\u3001\u653b\u57ce\u63a0\u5be8\u5f0f\u7684\u884c\u8fdb\u4e2d\uff0c\u81ea\u8eab\u7684\u8bed\u6cd5\u4e5f\u5728\u53d1\u751f\u5267\u70c8\u7684\u6539\u53d8\uff0c\u4ee5\u81f3\u4e8e\u6709\u4eba\u4e0d\u5f97\u4e0d\u5f00\u53d1\u4e00\u4e2a\u6a21\u5757\u6765\u7ffb\u8bd1\u4e0d\u540c\u7248\u672c\u7684 Javascript \u8bed\u6cd5\uff0c\u8fd9\u4e2a\u6a21\u5757\u5c31\u53eb Babel\uff0c\u5012\u4e5f\u6070\u5982\u5176\u5206\u3002</p> <p>\u5728\u4e0a\u9762\u8fd9\u4e9b\u4ee4\u4eba\u773c\u82b1\u7f2d\u4e71\u7684\u8bcd\u8bed\u4e2d\uff0cAnnaconda\uff08\u4ee5\u4e0b\u7b80\u79f0 conda) \u548c Virtualenv \u662f\u4e00\u5bf9\u513f\u5bf9\u624b\uff0cPipenv \u5219\u548c Poetry \u76f8\u4e92\u7ade\u4e89\u3002\u800c Venv \u5219\u662f\u5176\u4e2d\u8840\u7edf\u6700\u4e3a\u7eaf\u6b63\u7684\u4e00\u4e2a\uff0c\u5f97\u5230\u4e86 Python \u5b98\u65b9\u7684\u795d\u798f\u3002</p> <p>pipenv \u548c poetry\uff0c\u5c3d\u7ba1\u5e38\u5e38\u88ab\u4eba\u5728\u8ba8\u8bba\u865a\u62df\u73af\u5883\u7684\u573a\u5408\u4e0b\u63d0\u8d77\uff0c\u4e5f\u786e\u5b9e\u4e0e\u865a\u62df\u73af\u5883\u76f8\u5173\uff0c\u4f46\u4ed6\u4eec\u6240\u505a\u7684\u5de5\u4f5c\u90fd\u8fdc\u8fdc\u8d85\u8fc7\u4e86\u865a\u62df\u73af\u5883\u672c\u8eab\u2014\u2014\u5b83\u4eec\u7684\u4e3b\u8981\u529f\u80fd\u662f\u63d0\u4f9b\u4f9d\u8d56\u7ba1\u7406\uff0cpoetry \u8fd8\u63d0\u4f9b\u4e86\u6784\u5efa\u548c\u6253\u5305\u529f\u80fd\uff08\u6211\u4eec\u5c06\u5728\u7b2c\u4e94\u7ae0\u2014\u2014Poetry \u90a3\u4e00\u7ae0\u4e2d\u6765\u8be6\u7ec6\u4ecb\u7ecd\uff09\u3002</p> <p>venv \u4e0d\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5de5\u5177\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u6a21\u5757\u3002venv \u662f\u4ece Python 3.8 \u8d77\uff0c\u6807\u51c6\u5e93\u91cc\u63d0\u4f9b\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528<code>python -m venv</code>\u6765\u8fd0\u884c\u5b83\u3002\u5b83\u7684\u76ee\u6807\u4e0e virtualenv \u6bd4\u8f83\u63a5\u8fd1\uff0c\u4f46\u53ea\u63d0\u4f9b\u4e86 virutalenv \u7684\u4e00\u4e2a\u547d\u4ee4\u5b50\u96c6\u3002\u7531\u4e8e\u5b83\u662f\u6807\u51c6\u5e93\u63d0\u4f9b\u7684\uff0c\u56e0\u6b64\u8bb8\u591a\u5de5\u5177\uff0c\u6bd4\u5982 poetry, pyenv \u73b0\u5728\u90fd\u662f\u57fa\u4e8e\u5b83\u6765\u6784\u5efa\u7684\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u662f\u67d0\u4e2a\u5de5\u5177\u7684\u5f00\u53d1\u8005\uff0c\u6211\u60f3\u4f60\u9700\u8981\u638c\u63e1\u5b83\uff1b\u5426\u5219\uff0c\u4f60\u5c06\u5728\u4f7f\u7528 poetry \u7b49\u5de5\u5177\u65f6\uff0c\u81ea\u7136\u800c\u7136\u5730\u63a5\u89e6\u548c\u4f7f\u7528\u5230\u5b83\uff0c\u4f46\u53ef\u80fd\u5e76\u4e0d\u77e5\u9053\uff0c\u5e55\u540e\u82f1\u96c4\u5176\u5b9e\u662f venv\u3002</p> <p>conda \u548c Virtualenv \u90fd\u662f\u7528\u6765\u521b\u5efa\u548c\u7ba1\u7406 Python \u865a\u62df\u73af\u5883\u7684\u5de5\u5177\uff0c\u6709\u7740\u76f8\u4f3c\u7684\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff1a</p> <ol> <li>Conda \u662f\u4e00\u4e2a\u591a\u8bed\u8a00\u3001\u8de8\u5e73\u53f0\u7684\u865a\u62df\u73af\u5883\u7ba1\u7406\u5668\uff0c\u800c Virtualenv \u5219\u53ea\u7528\u4e8e Python\u3002</li> <li>\u901a\u8fc7 Conda \u53ef\u4ee5\u7ba1\u7406\uff08\u5b89\u88c5\u3001\u5347\u7ea7\uff09Python \u7248\u672c\uff0c\u800c virtualenv \u5219\u6ca1\u6709\u8fd9\u4e2a\u80fd\u529b\u3002</li> <li>\u7f3a\u7701\u5b89\u88c5\u4e0b\uff0cconda \u4f1a\u5360\u7528\u5927\u7ea6 100MB \u7684\u78c1\u76d8\u7a7a\u95f4\uff0c\u800c virtualenv \u5219\u53ea\u9700\u8981\u5360\u7528\u66f4\u5c11\u7684\u7a7a\u95f4\uff08\u7ea6 10MB\uff09\u3002\u8fd9\u53ef\u80fd\u65e2\u662f\u4f18\u52bf\uff0c\u4e5f\u662f\u7f3a\u70b9\u3002virtualenv \u901a\u8fc7\u4f7f\u7528\u5bf9\u539f\u751f\u5e93\u7684\u7b26\u53f7\u94fe\u63a5\u6765\u51cf\u5c11\u5bf9\u786c\u76d8\u7a7a\u95f4\u7684\u4f7f\u7528\uff0c\u8fd9\u4f7f\u5f97\u5bf9\u539f\u751f\u5e93\u7684\u9694\u79bb\u5e76\u672a\u771f\u6b63\u5b9e\u73b0--\u5982\u679c\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\u4e0d\u4ec5\u4ec5\u4f9d\u8d56 Python \u5e93\uff0c\u8fd8\u4f9d\u8d56\u4e8e\u539f\u751f\u5e93\uff0c\u5219\u4ecd\u7136\u53ef\u80fd\u4ea7\u751f\u4f9d\u8d56\u51b2\u7a81\uff0c\u5bfc\u81f4\u4f60\u7684\u7a0b\u5e8f\u51fa\u73b0\u4e00\u4e9b\u5f88\u96be\u67e5\u627e\u539f\u56e0\u7684\u9519\u8bef\u3002\u800c\u5728 conda \u865a\u62df\u73af\u5883\u4e2d\uff0c\u6240\u6709\u7684\u4f9d\u8d56\u90fd\u662f\u5b8c\u5168\u9694\u79bb\u7684\u3002</li> <li>\u7f3a\u7701\u5730\uff0cconda \u5bf9\u865a\u62df\u73af\u5883\u8fdb\u884c\u96c6\u4e2d\u5f0f\u7ba1\u7406\uff0c\u6240\u6709\u7684\u865a\u62df\u73af\u5883\u90fd\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u800c virtualenv \u5219\u503e\u5411\u4e8e\u5c06\u865a\u62df\u73af\u5883\u653e\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u3002\u957f\u671f\u6765\u770b\uff0c\u975e\u96c6\u4e2d\u5f0f\u7ba1\u7406\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u5448\u788e\u7247\u5316\u800c\u96be\u4e8e\u88ab\u8ffd\u8e2a\u3002</li> </ol> <p>\u4e0a\u8ff0\u7b2c 3 \u70b9\u53ef\u80fd\u662f\u6700\u91cd\u8981\u7684\u5dee\u5f02\u3002\u6211\u4eec\u5f88\u96be\u4fdd\u8bc1 Python \u5e94\u7528\u7a0b\u5e8f\u6c38\u8fdc\u53ea\u4f9d\u8d56\u4e8e\u7eaf\u7684 Python \u5e93\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4e00\u4e9b\u6027\u80fd\u76f8\u5173\u7684\u6a21\u5757\uff0c\u5f80\u5f80\u662f\u7528 c++\u6216\u8005\u5176\u5b83\u8bed\u8a00\u6765\u5f00\u53d1\u7684\u3002Lapack\uff08\u4e00\u4e2a\u5e38\u7528\u7684\u7ebf\u6027\u4ee3\u6570\u5e93\uff0cPython \u4e2d\u6700\u8457\u540d\u7684\u79d1\u5b66\u8ba1\u7b97\u5e93 Numpy \u548c scipy \u90fd\u4f9d\u8d56\u4e8e\u6b64\uff09\u6216\u8005 OpenSSL \u90fd\u662f\u5e38\u89c1\u7684\u4f8b\u5b50\u3002</p> <p>\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u53ea\u63a8\u8350\u4f7f\u7528 Annaconda\u3002\u4f46\u5bf9 virtualenv \u548c venv\uff0c\u8bfb\u8005\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u5982\u679c\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u751f\u6210\u548c\u6784\u5efa\u865a\u62df\u73af\u5883\u7684\u5de5\u5177\uff08\u6216\u8005\u6a21\u5757\uff09\u2014\u2014 \u6bd4\u5982\uff0c\u4e3a\u4e00\u4e2a\u5bb9\u5668\u6784\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u6216\u8005\u4e3a\u5206\u5e03\u5f0f\u7a0b\u5e8f\u52a8\u6001\u6784\u5efa\u4e00\u4e2a\u8fdc\u7a0b\u7684\u865a\u62df\u73af\u5883--\u90a3\u4e48 venv \u6216\u8005 virtualenv \u5c06\u662f\u4e0d\u4e8c\u4e4b\u9009\uff0c\u56e0\u4e3a conda \u5e76\u4e0d\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5de5\u5177\u3002</p> <p>\u5bf9\u4e0a\u9762\u6ca1\u6709\u63d0\u5230\u7684\u90a3\u4e9b\u6280\u672f\uff0c\u6211\u4eec\u5c06\u4e0d\u4f1a\u5728\u672c\u4e66\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u5b83\uff0c\u8fd9\u91cc\u4ec5\u5bf9\u5b83\u4eec\u505a\u4e00\u4e2a\u6982\u62ec\u6027\u7684\u63cf\u8ff0\uff1a</p> <ol> <li>pyenv \u662f\u4e00\u4e2a\u811a\u672c\uff0c\u4e0d\u80fd\u5728 windows \u73af\u5883\u4e0b\u4f7f\u7528\u3002\u5b83\u7684\u4f5c\u7528\u662f\u62e6\u622a\u4f60\u5bf9 python \u5de5\u5177\u94fe\u7684\u8c03\u7528\uff0c\u4e3a\u4f60\u9009\u62e9\u6b63\u786e\u7684 python \u7248\u672c\u3002\u6b64\u5916\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u5b89\u88c5\u591a\u4e2a\u7248\u672c\u7684 python\u3002\u5b83\u7684\u529f\u80fd\u5b8c\u5168\u53ef\u4ee5\u8bf8\u5982 annaconda \u4e4b\u7c7b\u7684\u5de5\u5177\u66ff\u4ee3\u3002\u4f46\u5982\u679c\u4f60\u4f7f\u7528 virtualenv \u7684\u8bdd\uff0c\u90a3\u4e48\u5f88\u6709\u53ef\u80fd\u4f60\u4ecd\u7136\u9700\u8981\u4f7f\u7528 pyenv \u6765\u5b89\u88c5\u548c\u9009\u62e9 python \u7248\u672c\u3002\u5b83\u76ee\u524d\u5728 github \u4e0a\u6709\u8d85\u8fc7 28k \u7684 star\u3002</li> <li>pyenv-virtualenv \u5219\u662f pyenv \u7684\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5b83\u5c06 pyenv \u548c virtualenv \u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u4ece\u800c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u65b9\u4fbf\u5730\u4f7f\u7528\u4e24\u8005\u7684\u547d\u4ee4\u3002\u5982\u679c\u4e0d\u5728\u4e4e\u8fd9\u79cd\u4fbf\u5229\u6027\uff0c\u4e5f\u53ef\u4ee5\u5206\u522b\u4f7f\u7528 pyenv \u548c virtualenv\u3002</li> <li>Virtualenv wrapper \u662f virtualenv \u7684\u4e00\u4e2a\u6269\u5c55\u96c6\uff0c\u63d0\u4f9b\u4e86\u8bf8\u5982 mkvirtualenv, lssitepackages, workon \u7b49\u547d\u4ee4\u3002workon \u662f\u7528\u6765\u5728\u4e0d\u540c\u7684 virtualenv \u76ee\u5f55\u4e2d\u8fdb\u884c\u5207\u6362\u7684\u547d\u4ee4\u3002</li> <li>pyenv-virutalenvwrapper \u5219\u662f pyenv \u7684\u53e6\u4e00\u4e2a\u63d2\u4ef6\uff0c\u7531 pyenv \u7684\u4f5c\u8005\u5f00\u53d1\uff0c\u5b83\u5c06 pyenv \u548c virtualenvwrapper \u7684\u529f\u80fd\u96c6\u6210\u5728\u4e00\u8d77\u3002\u57fa\u4e8e\u8fd9\u4e9b\u6269\u5c55\uff0cvirtualenv \u5c31\u62e5\u6709\u4e86\u7c7b\u4f3c conda \u7684\u5168\u90e8\u529f\u80fd\u3002</li> <li>pyvenv\uff08\u8bf7\u4e0d\u8981\u4e0e pyenv \u76f8\u6df7\u6dc6\uff09\u662f\u4ec5\u5728 python3.3 \u5230 python3.7 \u624d\u6709\u7684\u4e00\u4e2a\u5b98\u65b9\u811a\u672c\uff0c\u4f46\u4ece python3.8 \u5f00\u59cb\uff0c\u5b83\u5df2\u7ecf\u88ab\u6807\u51c6\u5e93 venv \u4ee3\u66ff\u4e86\u3002</li> </ol> <p>\u5728\u8bfb\u8fc7\u4e0a\u9762\u8fd9\u6bb5\u6587\u5b57\u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u4e4b\u540e\u5b8c\u5168\u5ffd\u7565\u8fd9\u4e9b\u5947\u5947\u602a\u602a\u7684\u65b9\u8a00\u3002\u51e0\u4e4e\u4f60\u9700\u8981\u7684\u4efb\u4f55\u7ba1\u7406\u865a\u62df\u73af\u5883\u7684\u529f\u80fd\uff0c\u90fd\u53ef\u4ee5\u4ece\u672c\u4e66\u63a8\u8350\u7684\u65b9\u6848 -- Anaconda \u4e2d\u5f97\u5230\u3002\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u4e3a\u4f60\u4ecb\u7ecd Anaconda\u3002</p> <p>Anaconda \u5305\u63fd\u4e86\u4ece\u5b89\u88c5 python \u7248\u672c\u3001\u521b\u5efa\u865a\u62df\u73af\u5883\u548c\u5207\u6362\u865a\u62df\u73af\u5883\u7684\u6240\u6709\u529f\u80fd\u3002\u5b83\u7684\u5b98\u65b9\u7f51\u7ad9\u662f Anaconda.org\u3002\u5b83\u662f\u6240\u6709\u4ece\u4e8b\u6570\u636e\u79d1\u5b66\u6216\u8005\u6df1\u5ea6\u5b66\u4e60\u7684\u4eba\u7684\u5f53\u7136\u4e4b\u9009\u3002\u5b83\u81ea\u5e26\u7684\u5305\u7ba1\u7406\u7cfb\u7edf\uff0c\u63d0\u4f9b\u4e86\u8bb8\u591a\u6d41\u884c\u7684\u673a\u5668\u5b66\u4e60\u5e93\u9884\u7f16\u8bd1\u7248\u672c\uff0c\u56e0\u6b64\u4f60\u4e0d\u7528\u81ea\u5df1\u53bb\u719f\u6089 gcc \u548c c/c++\u4ee3\u7801\u7684\u7f16\u8bd1\u8fc7\u7a0b\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#21-anaconda","title":"2.1. \u5b89\u88c5 Anaconda","text":"<p>\u5b89\u88c5 Anaconda \u8bf7\u4ece\u8fd9\u91cc <sup>1</sup> \u7684\u9875\u9762\u4e0b\u8f7d\u5b89\u88c5\u5305\u3002\u9664\u975e\u60a8\u4f7f\u7528 Anaconda \u8fdb\u884c\u79d1\u5b66\u8ba1\u7b97\uff0c\u5426\u5219\u5efa\u8bae\u60a8\u4e0b\u8f7d\u6700\u65b0\u7684 Miniconda<sup>2</sup> \u5b89\u88c5\u5305\u3002</p> <p>\u4ee5 Ubuntu \u4e3a\u4f8b\uff0c\u65e0\u8bba\u662f Ananconda \u8fd8\u662f Miniconda\uff0c\u5176\u5b89\u88c5\u6587\u4ef6\u90fd\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u5b89\u88c5\u6570\u636e\u6587\u4ef6\u7684 shell \u811a\u672c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7 wget \u6216\u8005 curl \u5c06\u5176\u4e0b\u8f7d\u4e0b\u6765\uff0c\u7136\u540e\u6267\u884c\u8fd9\u4e2a\u811a\u672c\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u9996\u5148\u8981\u6c42\u4f60\u9605\u8bfb\u5e76\u63a5\u53d7 Anaconda \u7684\u670d\u52a1\u6761\u6b3e\uff0c\u7136\u540e\u9009\u62e9\u5c06\u8981\u5b89\u88c5\u7684\u76ee\u5f55\u3002\u5728\u5b8c\u6210\u6587\u4ef6\u62f7\u8d1d\u4e4b\u540e\uff0c\u4f1a\u8be2\u95ee\u4f60\u662f\u5426\u8981\u8fd0\u884c conda init \u4ee5\u521d\u59cb\u5316 conda \u73af\u5883\uff0c\u63a8\u8350\u9009\u62e9 yes\uff0c\u8fd9\u6837 conda \u4f1a\u4fee\u6539\u4f60\u7684 shell \u521d\u59cb\u5316\u811a\u672c\u3002\u8981\u4f7f\u7528 conda\uff0c\u8fd9\u4e00\u6b65\u662f\u5fc5\u987b\u7684\u3002</p> <p>conda \u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u5c31\u4f1a\u5728\u4f60\u7684\u7cfb\u7edf\u4e0a\u751f\u6210\u7b2c\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u79f0\u4e3a<code>base</code>\u3002\u73b0\u5728\u53ef\u4ee5\u5217\u4e00\u4e0b\u521a\u521a\u5b89\u88c5\u4e86 conda \u7684\u76ee\u5f55\uff0c\u8fd9\u91cc\u9762\u6700\u91cd\u8981\u7684\u76ee\u5f55\u662f envs\uff0c\u540e\u9762\u521b\u5efa\u7684\u65b0\u7684 python \u865a\u62df\u73af\u5883\u90fd\u4f1a\u5728\u8fd9\u91cc\u3002\u4f46\u73b0\u5728\u5b83\u662f\u7a7a\u7684\uff0c\u5c3d\u7ba1\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u540d\u4e3a base \u7684\u865a\u62df\u73af\u5883\uff0c\u4f46\u8fd9\u4e2a\u865a\u62df\u73af\u5883\uff0c\u6307\u5411\u7684\u662f\u5b89\u88c5\u76ee\u5f55\u4e0b\u7684/bin \u76ee\u5f55\u4e0b\u7684 python\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#22-conda","title":"2.2. \u914d\u7f6e conda \u73af\u5883","text":"<p>conda \u5b89\u88c5\u540e\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u65e0\u987b\u914d\u7f6e\u5373\u53ef\u4f7f\u7528\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\uff0c\u6216\u8005\u53d8\u66f4 conda \u6e90\u4ee5\u52a0\u5feb\u4e0b\u8f7d\u901f\u5ea6\uff0c\u5219\u9700\u8981\u914d\u7f6e conda\u3002</p> <p>conda \u7684\u914d\u7f6e\u6587\u4ef6\u662f\u7528\u6237\u76ee\u5f55\u4e0b\u7684.condarc\uff0c\u5b83\u662f\u4e00\u4e2a YAML \u683c\u5f0f\u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u76f4\u5230\u4f60\u7b2c\u4e00\u6b21\u8c03\u7528 conda config \u65f6\u624d\u4f1a\u4ea7\u751f\uff0c\u6bd4\u5982\uff0c\u589e\u52a0\u4e00\u4e2a conda \u6e90\uff1a</p> <pre><code>conda config --add channels conda-forge\n</code></pre> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7f16\u8f91\u3002condarc \u6587\u4ef6\uff1a .condarc<pre><code>channels:\n  - https://mirrors.aliyun.com/anaconda/pkgs/free/\n  - https://mirrors.aliyun.com/anaconda/pkgs/main/\n  - file:///some/local/directory\n  - defaults\nproxy_servers:\n    http: http://user:pass@corp.com:8080\n    https: https://user:pass@corp.com:8080\n    ssl_verify: False\n</code></pre> \u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u9996\u5148\u914d\u7f6e\u4e86 conda \u6e90\u3002\u6211\u4eec\u6dfb\u52a0\u4e86\u56fd\u5185\u5e38\u7528\u7684\u963f\u91cc\u955c\u50cf\uff0c\u5e76\u4e14\u6dfb\u52a0\u4e86\u4e00\u4e2a\u672c\u5730\u76ee\u5f55\u3002\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e9b\u5185\u90e8\u5b89\u88c5\u5305\uff0c\u5c31\u53ef\u4ee5\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u3002\u5f53 conda \u65e0\u6cd5\u4ece\u963f\u91cc\u955c\u50cf\u670d\u52a1\u5668\u4e0a\u627e\u5230\u8fd9\u4e9b\u5305\u65f6\uff08\u663e\u7136\u4f1a\u627e\u4e0d\u5230\uff09\uff0c\u5c31\u4f1a\u641c\u7d22\u8fd9\u4e2a\u76ee\u5f55\u3002\u4e0a\u9762\u6240\u6709\u7684\u8def\u5f84\u90fd\u5931\u6548\u65f6\uff0cconda \u6700\u540e\u4f1a\u4f7f\u7528\u7cfb\u7edf\u9ed8\u8ba4\u7684\u6e90\u6765\u641c\u7d22\u3002\u8fd9\u79cd\u60c5\u51b5\u591a\u89c1\u4e8e\u67d0\u4e2a\u5305\u6709\u4e86\u6700\u65b0\u7684\u7248\u672c\uff0c\u4f46\u955c\u50cf\u670d\u52a1\u5668\u8fd8\u6ca1\u6709\u540c\u6b65\u8fc7\u53bb\u7684\u60c5\u5f62\u3002</p> <p>\u6709\u65f6\u5019\u8bbf\u95ee conda \u7684\u5b98\u65b9\u6e90\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u6765\u8fdb\u884c\u52a0\u901f\u3002\u4e0a\u9762\u7684\u793a\u4f8b\u663e\u793a\u4e86\u5982\u4f55\u8fdb\u884c\u8fd9\u4e9b\u914d\u7f6e\u3002\u6709\u4e00\u4e9b\u4ee3\u7406\u670d\u52a1\u5668\u5bf9 ssl \u9a8c\u8bc1\u652f\u6301\u7684\u4e0d\u662f\u592a\u597d\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u9700\u8981\u8bbe\u7f6e ssl_verify \u4e3a False, \u6b63\u5982\u4ee5\u4e0a\u793a\u4f8b\u6240\u793a\u3002</p> <p>conda \u8fd8\u5141\u8bb8\u5176\u5b83\u4e00\u4e9b\u914d\u7f6e\uff0c\u5982\u679c\u6709\u9700\u8981\uff0c\u63a8\u8350\u8bfb\u8005\u8fdb\u4e00\u6b65\u9605\u8bfb\u914d\u7f6e conda<sup>3</sup>\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#23","title":"2.3. \u521b\u5efa\u548c\u7ba1\u7406\u865a\u62df\u73af\u5883","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u901a\u8fc7 conda \u7684\u4e00\u4e9b\u547d\u4ee4\u6765\u770b\u770b\u5982\u4f55\u7ba1\u7406\u5b83\u3002</p> <p><pre><code>$ conda create -n test python=3.8\n</code></pre> \u4e0a\u8ff0\u547d\u4ee4\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a test \u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u5b89\u88c5 python=3.8\u3002\u73b0\u5728\u6211\u4eec\u67e5\u770b\u4e00\u4e0b\uff0c\u5f53\u524d\u7cfb\u7edf\u4e2d\uff0c\u90fd\u5b58\u5728\u54ea\u4e9b\u865a\u62df\u73af\u5883\uff1a</p> <p><pre><code>$ conda env list\n\n# \u8f93\u51fa\u5e94\u8be5\u7c7b\u4f3c\u4e8e\uff1a\n# CONDA ENVIRONMENTS:\n#\nbase           /root/miniconda3\ntest           /root/miniconda3/envs/test\n</code></pre> \u4e0a\u9762\u7684\u8f93\u51fa\u8868\u660e\uff0c\u6211\u4eec\u5728/root \u4e0b\u5b89\u88c5\u4e86\u4e00\u4e2a miniconda\uff0c\u5e76\u4e14\u8fd8\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a test \u7684\u865a\u62df\u73af\u5883\u3002\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u7684\u6587\u4ef6\u5939\u662f/root/miniconda3/envs/test\u3002</p> <p>\u73b0\u5728\u8ba9\u6211\u4eec\u5207\u6362\u5230\u65b0\u521b\u5efa\u7684\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\uff1a <pre><code>$ conda activate test\n</code></pre> \u73b0\u5728\uff0c\u4f60\u7684 shell \u63d0\u793a\u7b26\u5e94\u8be5\u4fee\u6539\u4e3a\u7c7b\u4f3c\u4e8e\uff1a <pre><code>(test) root@ubuntu:~# \n</code></pre> \u6211\u4eec\u7684\u6d4b\u8bd5\u662f\u5728\u4e00\u4e2a ubuntu \u865a\u62df\u673a\u4e0a\uff0c\u76f4\u63a5\u4f7f\u7528\u4e86 root \u8d26\u6237\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002\u6240\u4ee5\uff0c\u4e0a\u9762\u7684\u63d0\u793a\u7b26\u4e2d\uff0croot \u662f\u5f53\u524d\u7528\u6237\u540d\u3002\u5728\u5f53\u524d\u7528\u6237\u540d\u4e4b\u524d\u7684 (test)\uff0c\u8868\u660e\u6211\u4eec\u5f53\u524d\u5904\u5728 test \u865a\u62df\u73af\u5883\u4e2d\u3002</p> <p>\u8981\u5f80\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u4e00\u4e2a\u5305\uff0c\u53ef\u4ee5\u4f7f\u7528 conda install \u547d\u4ee4\uff1a <pre><code>$ conda install PACKAGENAME\n</code></pre></p> <p>\u73b0\u5728\uff0c\u5047\u8bbe\u6211\u4eec\u8981\u79fb\u9664\u8fd9\u4e2a\u865a\u62df\u73af\u5883\uff1a <pre><code># \u9000\u51fa\u5f53\u524d\u7684\u865a\u62df\u73af\u5883 TEST\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5220\u9664\u5b83\n$ conda deactivate\n$ conda env remove --name test\n</code></pre> \u4e0a\u8ff0\u547d\u4ee4\u4e0d\u4f1a\u7ed9\u4f60\u786e\u8ba4\u7684\u673a\u4f1a\uff0c\u6240\u4ee5\uff0c\u5728\u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u524d\uff0c\u5fc5\u987b\u5c0f\u5fc3\u3002\u5f53\u7136\uff0cconda \u8fd9\u6837\u8bbe\u8ba1\u5e76\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u865a\u62df\u73af\u5883\u672c\u8eab\u5c31\u5e94\u8be5\u662f\u53ef\u4ee5\u968f\u65f6\u521b\u5efa\u548c\u968f\u65f6\u9500\u6bc1\u7684\u3002\u5982\u679c\u4e0d\u5c0f\u5fc3\u5220\u9664\u9519\u8bef\uff0c\u90a3\u4e48\u91cd\u5efa\u4e00\u4e2a\u5c31\u597d\u4e86\u3002\u540e\u6094\u836f\u4e00\u76f4\u90fd\u5728\u3002</p> <p>\u5728\u7ed3\u675f\u8fd9\u4e00\u8282\u5185\u5bb9\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u60f3\u4ecb\u7ecd\u4e00\u4e9b\u9ad8\u7ea7\u4f7f\u7528\u65b9\u6cd5\uff0c\u638c\u63e1\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u4f1a\u5728\u51fa\u73b0\u7591\u96be\u95ee\u9898\u65f6\uff0c\u66f4\u52a0\u5bb9\u6613\u89e3\u51b3\u95ee\u9898\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 conda info \u547d\u4ee4\u6765\u68c0\u67e5 conda \u5b89\u88c5\u7684\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff1a <pre><code>$ conda info\n\n     active environment : base\n    active env location : /root/miniconda3\n       user config file : /root/.condarc\n          conda version : 4.13.0\n         python version : 3.8.12.final.0\n       base environment : /root/miniconda3  (writable)\n      conda av data dir : /root/miniconda3/etc/conda\n           channel URLs : https://mirrors.aliyun.com/anaconda/pkgs/main/linux-64\n                          https://mirrors.aliyun.com/anaconda/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/main/linux-64\n                          https://repo.anaconda.com/pkgs/main/noarch\n                          https://repo.anaconda.com/pkgs/r/linux-64\n                          https://repo.anaconda.com/pkgs/r/noarch\n          package cache : /root/miniconda3/pkgs\n                          /root/.conda/pkgs\n       envs directories : /root/miniconda3/envs\n                          /root/.conda/envs\n</code></pre> \u4e0a\u9762\u7684\u5185\u5bb9\u662f conda info \u547d\u4ee4\u7684\u8f93\u51fa\uff08\u4e3a\u4e86\u7b80\u6d01\u8d77\u89c1\uff0c\u5220\u6389\u4e86\u4e00\u4e9b\u4e0d\u91cd\u8981\u7684\u5185\u5bb9\uff09\uff0c\u5b83\u63ed\u793a\u4e86\u4e00\u4e9b\u5173\u952e\u4fe1\u606f\uff1a</p> <ol> <li>\u5f53\u524d\u6211\u4eec\u5904\u4e8e base \u865a\u62df\u73af\u5883\u4e0b\u3002\u8fd9\u662f\u5f53\u4f60\u5b89\u88c5\u4e86 conda \u4e4b\u540e\uff0c\u5c31\u9ed8\u8ba4\u5b58\u5728\u7684\u4e00\u4e2a\u865a\u62df\u73af\u5883\u3002\u5b83\u7684\u6587\u4ef6\u76ee\u5f55\u662f/root/miniconda3\u3002\u5982\u679c\u4f60\u662f\u5728 test \u865a\u62df\u73af\u5883\u4e0b\uff0c\u5219 active env location \u5e94\u8be5\u6307\u5411/root/miniconda3/envs/test</li> <li>\u914d\u7f6e\u6587\u4ef6\u5728/root/.condarc \u4e0b\u3002\u524d\u9762\u6211\u4eec\u4ecb\u7ecd\u914d\u7f6e conda \u65f6\uff0c\u5df2\u7ecf\u7528\u8fc7\u8fd9\u4e2a\u6587\u4ef6\u4e86\uff0c\u4f46\u662f\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u5728\u90a3\u91cc\u5e76\u6ca1\u6709\u544a\u8bc9\u8bfb\u8005\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002\u73b0\u5728\u4f60\u5c31\u77e5\u9053\uff0c\u5982\u679c\u4e0d\u6e05\u695a conda \u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528 conda info \u547d\u4ee4\u6765\u67e5\u770b\u3002</li> <li>\u4e0a\u8ff0\u8f93\u51fa\u8fd8\u663e\u793a\u4e86 conda \u6e90\u7684\u914d\u7f6e\u3002</li> <li>conda \u4e0b\u8f7d\u5b89\u88c5\u5305\u65f6\uff0c\u4f1a\u5c06\u5176\u7f13\u5b58\u3002package cache \u544a\u8bc9\u6211\u4eec conda \u7f13\u5b58\u5b89\u88c5\u5305\u7684\u4f4d\u7f6e\u3002\u5f53\u6211\u4eec\u53d1\u73b0\u5b89\u88c5\u5305\u7684\u884c\u4e3a\u4e0d\u6b63\u5e38\u65f6\uff0c\u6709\u53ef\u80fd\u8981\u6e05\u9664\u8fd9\u4e2a\u7f13\u5b58\u3002</li> <li>\u6700\u540e\uff0cenvs directories \u544a\u8bc9\u6211\u4eec\uff0c\u6240\u6709\u865a\u62df\u73af\u5883\u7684\u6587\u4ef6\u76ee\u5f55\u4f4d\u7f6e\u4f55\u5728\u3002\u6211\u4eec\u53ef\u4ee5\u5217\u4e00\u4e0b/root/miniconda3/envs \u76ee\u5f55\uff1a <pre><code>ls /root/miniconda3/envs\n# \u4ee5\u4e0b\u5047\u8bbe\u4e0a\u8ff0\u8f93\u51fa\u4e2d\u5305\u542b TEST \u865a\u62df\u73af\u5883\nls /root/miniconda3/envs/test\n# \u8f93\u51fa\u4e2d\u5c06\u5305\u542b\u4ee5\u4e0b\u91cd\u8981\u76ee\u5f55\uff1a\nbin # \u5728 bin \u76ee\u5f55\u4e0b\uff0c\u5b58\u653e\u6709 python, pip \u7b49\u91cd\u8981\u547d\u4ee4\nlib # \u5728 lib \u4e0b\uff0c\u5b58\u653e\u6709 python3.x \u76ee\u5f55\uff0csite-packages \u7b49\u5b89\u88c5\u5305\u5c06\u6700\u7ec8\u5b89\u88c5\u5230\u8fd9\u91cc\u3002\n</code></pre></li> </ol> <p>\u53e6\u4e00\u4e2a\u5bf9\u67e5\u9519\u6709\u7528\u7684\u91cd\u8981\u547d\u4ee4\uff0c\u662f conda list\u3002\u5b83\u5c06\u5217\u51fa\u5f53\u524d conda \u73af\u5883\u4e0b\u5df2\u5b89\u88c5\u7684\u5e93\uff08package\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#24","title":"2.4. \u51e0\u4e2a\u5e38\u89c1\u95ee\u9898","text":"<ol> <li>\u53ef\u4ee5\u91cd\u547d\u540d\u4e00\u4e2a\u865a\u62df\u73af\u5883\u5417\uff1f \u4ece conda 4.14 \u8d77\uff0cconda \u652f\u6301\u91cd\u547d\u540d\u865a\u62df\u73af\u5883\uff1a <pre><code>$ conda rename -n old_name -d new_name\n</code></pre> \u4e0d\u8fc7\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5176\u5b9e\u53ea\u662f conda create \u548c conda remove \u7684\u7b80\u5355\u7ec4\u5408\uff0c\u6240\u4ee5\uff0c\u5728\u65e7\u7684 conda \u7248\u672c\u4e0b\uff0c\u4f60\u53ef\u4ee5\u8fd9\u6837\u91cd\u547d\u540d\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff1a <pre><code>$ conda create --name new_name --clone old_name\n$ conda env remove --name old_name\n</code></pre></li> <li>\u5982\u4f55\u8ffd\u8e2a\u4e00\u4e2a\u865a\u62df\u73af\u5883\u7684\u53d8\u66f4\uff1f \u8fd9\u662f conda \u63d0\u4f9b\u7684\u4e00\u4e2a\u6709\u7528\u7684\u529f\u80fd\u4e4b\u4e00\uff0c\u5373\u53ef\u4ee5\u8ffd\u8e2a\u4e00\u4e2a\u865a\u62df\u73af\u5883\u7684\u53d8\u66f4\u5386\u53f2\uff1a <pre><code># \u5207\u6362\u5230\u5173\u6ce8\u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a\n$ conda list --revisions\n\n# \u6062\u590d\u53d8\u66f4\u5230\u67d0\u4e2a\u955c\u50cf\u70b9\n$ conda install --revision 2\n</code></pre> \u6ce8\u610f\u533a\u5206 conda list \u4e0e conda env list\u3002\u540e\u8005\u662f\u5217\u51fa\u865a\u62df\u73af\u5883\uff0c\u524d\u8005\u5219\u662f\u5217\u51fa\u5f53\u524d\u865a\u62df\u73af\u5883\u91cc\u5b89\u88c5\u7684 packages \u548c\u7248\u672c\u3002</li> </ol> <p>\u5982\u679c\u60f3\u5168\u9762\u800c\u5feb\u901f\u5730\u4e86\u89e3 conda \u547d\u4ee4\uff0c\u53ef\u4ee5\u53c2\u8003 conda \u5c0f\u6284 <sup>4</sup>\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#3-python-pip","title":"3. \u8f7b\u91cf\u7684 Python \u5305\u5b89\u88c5\u5de5\u5177 Pip","text":"<p>\u5728\u4e0a\u4e00\u8282\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5982\u4f55\u5f80\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u7a0b\u5e8f\u5e93\uff1a <pre><code>$ conda install PACKAGENAME\n</code></pre> \u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 pip \u6765\u5b89\u88c5\u7a0b\u5e8f\u5e93\uff1a <pre><code>$ pip install PACKAGENAME\n</code></pre> \u5b9e\u9645\u4e0a\uff0c\u4ee5\u60a8\u524d\u9762\u521b\u5efa\u7684 test \u73af\u5883\u4e3a\u4f8b\uff0cconda \u5df2\u7ecf\u628a pip \u5b89\u88c5\u5230\u4e86/root/miniconda3/test/bin \u76ee\u5f55\u4e0b\uff1a <pre><code>$ ls /root/miniconda3/envs/test/bin\n</code></pre></p> <p>Pip \u5b89\u88c5\u7b2c\u4e09\u65b9\u5e93\u6709\u591a\u79cd\u65b9\u5f0f\u3002\u8fd9\u91cc\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e9b\uff1a 1.  \u4ece wheel \u6587\u4ef6\u6216\u8005 github \u8fdb\u884c\u5b89\u88c5\u3002 2.  \u4ece\u672c\u5730\u6587\u4ef6\u76ee\u5f55\u8fdb\u884c\u5b89\u88c5\u3002\u8fd9\u5728\u5f00\u53d1\u8c03\u8bd5\u9636\u6bb5\u4e2d\u975e\u5e38\u6709\u7528\u3002\u5b83\u7684\u547d\u4ee4\u662f pip install -e path/to/your/source\u3002\u8fd9\u91cc\u7684 \u2018-e\u2019 \u662f\u5173\u952e\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u6211\u4eec\u6bcf\u4e00\u6b21\u5bf9\u6e90\u4ee3\u7801\u7684\u4fee\u6539\uff0c\u90fd\u4f1a\u81ea\u52a8\u751f\u6548\uff0c\u800c\u4e0d\u518d\u6b21\u5b89\u88c5\u3002 3.  \u4ec5\u4e0b\u8f7d wheel \u6587\u4ef6\uff0c\u800c\u4e0d\u8fdb\u884c\u5b89\u88c5\u3002 4.  \u5b89\u88c5\u975e\u6b63\u5f0f\u53d1\u5e03\u7684\u6587\u4ef6\uff0c\u6bd4\u5982\u67d0\u4e2a alpha \u7248\u672c\u3002\u9700\u8981\u4f7f\u7528\u9009\u9879\u2019--pre\u2019\u3002 \u5982\u679c\u6211\u4eec\u6267\u884c pip \u5b89\u88c5\u547d\u4ee4\u65f6\uff0c\u63d0\u793a\u627e\u4e0d\u5230\u67d0\u4e2a\u5305\uff0c\u5728\u6392\u9664\u4e86\u952e\u5165\u9519\u8bef\u4e4b\u540e\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u662f\u5728\u5f53\u524d\u4f7f\u7528\u7684 Python \u7248\u672c\u4e0b\uff0c\u4e0d\u5b58\u5728\u8be5\u5305\u3002</p>"},{"location":"articles/python/best-practice-python/chap03/#4-vs-code","title":"4. \u914d\u7f6e VS Code \u4e2d\u7684\u89e3\u91ca\u5668","text":"<p>\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5\u4e86 python\u3002\u4f46\u8981\u5728 VS Code \u4e0b\u5f00\u53d1 python \u5e94\u7528\u7a0b\u5e8f\uff0c\u6211\u4eec\u8fd8\u5f97\u5728 VS Code \u4e2d\u5b8c\u6210\u76f8\u5173\u7684\u914d\u7f6e\u3002</p> <p>\u5728 VS Code \u4e2d\uff0c\u6253\u5f00\u547d\u4ee4\u9762\u677f\uff08\u5728 mac \u4e0b\u662f cmd+shift+p, \u5176\u5b83\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u662f ctrl + shift + p)\uff0c\u8f93\u5165 Python: select Interpreter\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u56fe\u6240\u793a\u7684\u5217\u8868\uff08\u60a8\u7684\u7535\u8111\u4e0a\u663e\u793a\u4f1a\u6709\u6240\u4e0d\u540c\uff09\uff1a</p> <p></p> <p>\u5982\u679c\u8981\u9009\u62e9\u524d\u9762\u521b\u5efa\u7684 test \u73af\u5883\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u8fd9\u91cc\u8f93\u5165\uff1a <pre><code>/root/miniconda3/envs/test/bin/python\n</code></pre></p> <p>\u6b64\u5916\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5728 VS Code \u7684\u72b6\u6001\u680f\u4e2d\uff0c\u5bfb\u627e\u7c7b\u4f3c\u4e0b\u9762\u7684\u63d0\u793a\u6587\u5b57\uff1a</p> <p></p> <p>\u7136\u540e\u70b9\u51fb\u5b83\uff0c\u4e5f\u53ef\u8fdb\u5165\"python: Select Interpreter\"\u83dc\u5355\u3002</p> <p>\u5927\u529f\u544a\u6210\uff01</p> <p>\u81f3\u6b64\uff0c\u60a8\u5c31\u5b8c\u6210\u4e86\u6700\u57fa\u7840\u7684\u5f00\u53d1\u73af\u5883\u8bbe\u7f6e\uff1aIDE \u5df2\u7ecf\u5b89\u88c5\u597d\uff0c\u5e76\u4e14\u8981\u4f7f\u7528\u7684 python \u7248\u672c\u4e5f\u5df2\u7ecf\u6307\u5b9a\uff01\u73b0\u5728\uff0c\u60a8\u5c31\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u6700\u7b80\u5355\u7684 python \u7a0b\u5e8f\uff1a helloworld.py<pre><code>print(\"Hello World\")\n</code></pre> \u628a\u8fd9\u4e2a\u7a0b\u5e8f\u5b58\u4e3a helloworld.py\uff0c\u7136\u540e\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e0b\uff0c\u901a\u8fc7<code>python helloworld.py</code>\u6765\u8fd0\u884c\u5b83\uff01</p> <ol> <li> <p>https://www.anaconda.com/products/distribution\u00a0\u21a9</p> </li> <li> <p>https://docs.conda.io/en/latest/miniconda.html\u00a0\u21a9</p> </li> <li> <p>https://docs.conda.io/projects/conda/en/latest/user-guide/configuration/use-condarc.html\u00a0\u21a9</p> </li> <li> <p>https://docs.conda.io/projects/conda/en/4.6.0/_downloads/52a95608c49671267e40c689e0bc00ca/conda-cheatsheet.pdf\u00a0\u21a9</p> </li> </ol>"},{"location":"articles/python/best-practice-python/chap04/","title":"04 \u9879\u76ee\u5e03\u5c40\u548c\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":"<p>\u901a\u8fc7\u524d\u4e09\u7ae0\u7684\u5b66\u4e60\uff0c\u6211\u4eec\u4e86\u89e3\u4e86\u5982\u4f55\u6784\u5efa\u5f00\u53d1\u73af\u5883\uff0c\u5e76\u4e14\u4e5f\u5b8c\u6210\u4e86\u4e00\u4e2a\u6700\u7b80\u5355\u7684 python \u7a0b\u5e8f \u2014\u2014 Hello World\u3002</p> <p>\u60a8\u53ef\u80fd\u5df2\u7ecf\u610f\u8bc6\u5230\uff0c\u5373\u4f7f\u6487\u5f00\u5176\u7b80\u964b\u7684\u529f\u80fd\u4e0d\u8bf4\uff0c\u5728\u5176\u5b83\u65b9\u9762\uff0c\u5b83\u4e5f\u6709\u660e\u663e\u7684\u4e0d\u8db3\uff1a</p> <ol> <li>\u4e00\u822c\u800c\u8a00\uff0c\u7a0b\u5e8f\u7684\u4f7f\u7528\u8005\u4f1a\u9700\u8981\u5e2e\u52a9\u6587\u6863\uff0c\u4e5f\u9700\u8981\u4e86\u89e3\u5173\u4e8e\u7248\u6743\u3001\u4f5c\u8005\u7b49\u4fe1\u606f\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5e94\u8be5\u5982\u4f55\u63d0\u4f9b\uff1f</li> <li>\u6ca1\u6709\u4efb\u4f55\u7a0b\u5e8f\u80fd\u591f\u907f\u514d bug\u3002\u60a8\u53ef\u80fd\u5df2\u7ecf\u542c\u8bf4\uff0c\u8981\u51cf\u5c11 bug\uff0c\u7a0b\u5e8f\u5c31\u5fc5\u987b\u7ecf\u8fc7\u7cfb\u7edf\u548c\u8be6\u5c3d\u7684\u6d4b\u8bd5\u3002\u90a3\u4e48\u6d4b\u8bd5\u4ee3\u7801\u5e94\u8be5\u5e94\u8be5\u5982\u4f55\u7f16\u5199\u548c\u7ec4\u7ec7\uff1f</li> <li>\u7a0b\u5e8f\u5e94\u8be5\u4ee5\u53ef\u5b89\u88c5\u5305\u7684\u5f62\u5f0f\u53d1\u5e03\u51fa\u53bb\uff0c\u800c\u4e0d\u662f\u4ee5\u6e90\u4ee3\u7801\u7684\u65b9\u5f0f\u4ea4\u4ed8\u3002Hello World \u5c0f\u7a0b\u5e8f\u663e\u7136\u4e5f\u6ca1\u6709\u6d89\u53ca\u5230\u8fd9\u4e00\u90e8\u5206\u3002</li> </ol> <p>Info</p> <p>\u5728 github \u4e0a\u6709\u4e00\u4e2a\u9ad8\u8fbe 50k stars \u7684\u9879\u76ee\uff0c\u540d\u4e3a nocode\u3002\u5b83\u786e\u5b9e\u505a\u5230\u4e86\u4e0d\u4ea7\u751f\u4efb\u4f55 bug\uff1a</p> <p>No code is the best way to write secure and reliable applications. Write nothing; deploy nowhere.</p> <p>\u4e0d\u5199\u4ee3\u7801\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f bug\uff0c\u8fd9\u771f\u662f\u6781\u9ad8\u7684\u4f5b\u5bb6\u667a\u6167\uff1a\u83e9\u63d0\u672c\u65e0\u6811\uff0c\u660e\u955c\u4ea6\u975e\u53f0\uff0c\u672c\u6765\u65e0\u4e00\u7269\uff0c\u4f55\u5904\u60f9\u5c18\u57c3\uff1f\u4e0d\u8fc7\uff0c\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u9879\u76ee\uff0c\u8fd8\u662f\u88ab\u4eba\u63d0\u4ea4\u4e86\u8d85\u8fc7 3k \u7684 issues\uff08\u5f53\u6211\u4eec\u8ba4\u4e3a\u9879\u76ee\u4e2d\u5b58\u5728 bug\uff0c\u6216\u8005\u6709\u65b0\u7684\u529f\u80fd\u9700\u6c42\uff0c\u5c31\u53ef\u4ee5\u63d0\u51fa\u4e00\u4e2a issue\uff09\uff0c\u8fdc\u8d85\u5e73\u5747\u6c34\u5e73\uff0c\u8fd9\u4e5f\u7b97\u662f\u7a0b\u5e8f\u5458\u7684\u5e7d\u9ed8\u5427\uff1f</p> <p>\u8fd8\u6709\u5f88\u591a\u5f88\u591a\u3002\u4e00\u4e2a\u5b8c\u6574\u7684\u9879\u76ee\uff0c\u9664\u4e86\u63d0\u4f9b\u6700\u6838\u5fc3\u7684\u7a0b\u5e8f\u529f\u80fd\u4e4b\u5916\uff0c\u8fd8\u5fc5\u7136\u6d89\u53ca\u4ea7\u54c1\u8d28\u91cf\u63a7\u5236\uff08\u5305\u62ec\u5355\u5143\u6d4b\u8bd5\u3001\u4ee3\u7801\u98ce\u683c\u63a7\u5236\u7b49\uff09\u3001\u7248\u6743\u3001\u53d1\u5e03\u5386\u53f2\u3001\u5236\u4f5c\u5206\u53d1\u5305\u7b49\u6742\u52a1\uff0c\u4ece\u800c\u4e5f\u5c31\u5728\u5b9e\u73b0\u529f\u80fd\u7684\u6e90\u4ee3\u7801\u4e4b\u5916\uff0c\u5f15\u5165\u4e86\u8bb8\u591a\u5176\u5b83\u6587\u4ef6\u3002\u8fd9\u4e9b\u6587\u4ef6\u5e94\u8be5\u5982\u4f55\u7ec4\u7ec7\uff1f\u6709\u6ca1\u6709\u57fa\u672c\u7684\u547d\u540d\u89c4\u8303\uff1f\u662f\u5426\u6709\u5de5\u7a0b\u6a21\u677f\u53ef\u4ee5\u5957\u7528\uff0c\u6216\u8005\u53ef\u4ee5\u901a\u8fc7\u5de5\u5177\u6765\u751f\u6210\uff1f\u8fd9\u4e00\u7ae0\u5c06\u4e3a\u60a8\u89e3\u7b54\u8fd9\u4e9b\u95ee\u9898\u3002</p> <p>\u8fd9\u4e00\u7ae0\u5c06\u4ecb\u7ecd\u89c4\u8303\u7684\u9879\u76ee\u5e03\u5c40\u5e94\u8be5\u5177\u6709\u4ec0\u4e48\u6837\u7684\u76ee\u5f55\u89c6\u56fe\uff0c\u5e76\u5728\u6700\u540e\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u9075\u5faa\u793e\u533a\u6700\u65b0\u89c4\u8303\u7684\u3001\u751f\u6210 Python \u5de5\u7a0b\u6846\u67b6\u7684\u5411\u5bfc\u5de5\u5177\u3002</p> <p>\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\u5fc5\u987b\u9075\u5faa\u4e00\u5b9a\u7684\u89c4\u8303\u3002\u8fd9\u6709\u4e24\u65b9\u9762\u7684\u8003\u8651\uff0c\u4e00\u662f\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\u662f\u9879\u76ee\u7ed9\u4eba\u7684\u7b2c\u4e00\u5370\u8c61\uff0c\u4e00\u4e2a\u5e03\u5c40\u6df7\u4e71\u7684\u9879\u76ee\uff0c\u4f1a\u5413\u8dd1\u6f5c\u5728\u7684\u7528\u6237\u548c\u8d21\u732e\u8005\uff1b\u9075\u5faa\u89c4\u8303\u7684\u9879\u76ee\u6587\u4ef6\u5e03\u5c40\uff0c\u53ef\u4ee5\u8ba9\u4ed6\u4eba\u66f4\u5bb9\u6613\u4e0a\u624b\uff1b\u4e8c\u6765\uff0c\u6784\u5efa\u5de5\u5177\u3001\u6d4b\u8bd5\u5de5\u5177\u7b49\u5de5\u5177\u4e5f\u4f9d\u8d56\u4e8e\u4e00\u5b9a\u7684\u6587\u4ef6\u7ed3\u6784\u3002\u5982\u679c\u6587\u4ef6\u7ed3\u6784\u6ca1\u6709\u4e00\u5b9a\u7684\u89c4\u8303\uff0c\u5219\u5fc5\u7136\u8981\u5bf9\u6bcf\u4e2a\u5de5\u5177\u8fdb\u884c\u4e00\u5b9a\u7684\u914d\u7f6e\uff0c\u624d\u80fd\u4f7f\u5176\u5de5\u4f5c\u3002\u8fc7\u591a\u7684\u914d\u7f6e\u9879\u5f80\u5f80\u4f1a\u5f15\u8d77\u9519\u8bef\uff0c\u589e\u52a0\u5b66\u4e60\u6210\u672c\u3002</p> <p>Readmore</p> <p>\u4ee5\u4f9d\u8d56\u7ba1\u7406\u548c\u6784\u5efa\u5de5\u5177 Poetry \u4e3a\u4f8b\uff0c\u5b83\u4f1a\u9ed8\u8ba4\u628a\u6784\u5efa\u751f\u6210\u7684\u5305\u653e\u5728 dist \u76ee\u5f55\u4e0b\uff0ctox \u5728\u6784\u5efa\u6d4b\u8bd5\u73af\u5883\u65f6\uff0c\u5219\u4f1a\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u5bfb\u627e\u5b89\u88c5\u5305\u3002\u8fd9\u662f\u4e00\u79cd\u7ea6\u5b9a\u3002</p> <p>\u5728\u5de5\u7a0b\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528\u7ea6\u5b9a\u4fd7\u6210\u7684\u9879\u76ee\u6587\u4ef6\u7ed3\u6784\u548c\u89c4\u8303\u7684\u6587\u4ef6\u3001\u6587\u4ef6\u5939\u540d\u5b57\uff0c\u800c\u4e0d\u662f\u901a\u8fc7\u7e41\u7410\u7684\u914d\u7f6e\u9879\u76ee\u4ee5\u5141\u8bb8\u8fc7\u5ea6\u81ea\u5b9a\u4e49\uff0c\u8fd9\u79cd\u539f\u5219\u88ab\u79f0\u4e3a\u60ef\u4f8b\u4f18\u4e8e\u914d\u7f6e (convention over configuration)\uff0c\u8fd9\u4e0d\u4ec5\u4ec5\u662f Python, \u4e5f\u662f\u8bb8\u591a\u5176\u5b83\u8bed\u8a00\u9075\u5faa\u7684\u539f\u5219\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#1","title":"1. \u6807\u51c6\u9879\u76ee\u5e03\u5c40","text":"<p>\u9996\u5148\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e2a\u7ecf\u5178\u7684 Python \u9879\u76ee\u5e03\u5c40\uff0c\u7531 Kenneth Reitz<sup>1</sup> \u63a8\u8350\u3002\u4ed6\u662f\u8457\u540d\u7684 Python http \u5e93<code>request</code>\u548c<code>pipenv</code>\u7684\u4f5c\u8005\u3002</p> <p>\u8fd9\u4e2a\u5e03\u5c40\u5982\u4e0b\u9762\u6240\u793a\uff1a <pre><code>\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 AUTHORS.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 docs\n|   |   \u251c\u2500\u2500 conf.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 index.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 HISTORY.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 LICENSE\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 makefile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 MANIFEST.in\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 README.rst\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 requirements.txt\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 sample\n|   |   \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 helper.py\n|   \u251c\u2500\u2500 setup.cfg\n|   \u251c\u2500\u2500 setup.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 tests\n</code></pre> \u4e0b\u9762\u6211\u4eec\u6765\u9010\u4e00\u89e3\u91ca\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#11","title":"1.1. \u4e00\u822c\u6027\u6587\u6863","text":""},{"location":"articles/python/best-practice-python/chap04/#111","title":"1.1.1. \u9879\u76ee\u8bf4\u660e\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 README \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u7528\u6765\u5411\u672c\u9879\u76ee\u7684\u4f7f\u7528\u8005\u6982\u62ec\u6027\u5730\u4ecb\u7ecd\u8fd9\u4e2a\u9879\u76ee\u7684\u57fa\u672c\u60c5\u51b5\uff0c\u6bd4\u5982\u4e3b\u8981\u529f\u80fd\u3001\u4f18\u52bf\u3001\u7248\u672c\u8ba1\u5212\u7b49\u3002\u8fd9\u91cc\u6587\u4ef6\u7684\u540e\u7f00\u662f.rst\uff0c\u8fd9\u662f\u4e00\u79cd\u6269\u5c55\u6807\u8bb0\u6587\u672c\u683c\u5f0f\uff0c\u901a\u8fc7\u6587\u6863\u6784\u5efa\u5de5\u5177\uff0c\u53ef\u4ee5\u751f\u6210\u5bcc\u6587\u672c\u683c\u5f0f\u7684\u6587\u4ef6\u3002\u73b0\u5728\u66f4\u6d41\u884c\u7684\u683c\u5f0f\u53ef\u80fd\u662f markdown\uff0c\u4ee5.md \u4f5c\u4e3a\u6587\u4ef6\u540d\u540e\u7f00\u3002\u6211\u4eec\u4f1a\u5728\u6587\u6863\u6784\u5efa\u90a3\u4e00\u7ae0\u518d\u8be6\u7ec6\u4ecb\u7ecd\u4e24\u8005\u7684\u533a\u522b\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#112","title":"1.1.2. \u8bb8\u53ef\u8bc1\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 LICENSE \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u5f00\u6e90\u9879\u76ee\u5fc5\u987b\u914d\u7f6e\u6b64\u6587\u6863\u3002\u6b64\u6587\u4ef6\u4e00\u822c\u4e3a\u7eaf\u6587\u672c\u683c\u5f0f\uff0c\u4e0d\u652f\u6301\u6269\u5c55\u6807\u8bb0\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#113","title":"1.1.3. \u7248\u672c\u5386\u53f2\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 HISTORY \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002</p> <p>\u6bcf\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\uff0c\u90fd\u53ef\u80fd\u5f15\u5165\u65b0\u7684\u529f\u80fd\u3001\u4fee\u590d\u4e86\u4e00\u4e9b bug \u548c\u5b89\u5168\u6027\u95ee\u9898\uff0c\u4e5f\u53ef\u80fd\u5e26\u6765\u4e00\u4e9b\u884c\u4e3a\u53d8\u66f4\uff0c\u5bfc\u81f4\u4f7f\u7528\u8005\u5fc5\u987b\u4e5f\u8981\u505a\u76f8\u5e94\u7684\u4fee\u6539\u624d\u80fd\u4f7f\u7528\u3002</p> <p>\u5982\u679c\u6ca1\u6709\u4e00\u4e2a\u6e05\u6670\u7684\u7248\u672c\u8bf4\u660e\uff0c\u7a0b\u5e8f\u5e93\u7684\u7528\u6237\u5c31\u4e0d\u77e5\u9053\u5e94\u8be5\u9009\u7528\u54ea\u4e00\u4e2a\u7248\u672c\uff0c\u6216\u8005\u662f\u5426\u5e94\u8be5\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u4e0a\u3002\u6211\u4eec\u5728\u4f7f\u7528\u5176\u5b83\u4eba\u5f00\u53d1\u7684\u7a0b\u5e8f\u5e93\u65f6\uff0c\u5e76\u4e0d\u4e00\u5b9a\u8981\u9009\u62e9\u6700\u65b0\u7684\uff0c\u6709\u65f6\u5019\u5347\u7ea7\u5230\u6700\u65b0\u7684\u7248\u672c\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u65e0\u6cd5\u8fd0\u884c\u3002\u6bd4\u5982 SQLAlchemy \u662f\u4e00\u4e2a\u5e94\u7528\u5341\u5206\u5e7f\u6cdb\u7684 Python ORM \u6846\u67b6\uff0c\u5b83\u7684 1.4 \u7248\u672c\u4e0e\u524d\u9762\u7684\u7248\u672c\u6709\u8f83\u591a\u4e0d\u517c\u5bb9\u7684\u95ee\u9898\u3002\u5982\u679c\u60a8\u7684\u7a0b\u5e8f\u4e0d\u52a0\u4fee\u6539\u5c31\u76f4\u63a5\u5347\u7ea7\u5230 1.4\uff0c\u90a3\u4e48\u5927\u6982\u7387\u7a0b\u5e8f\u4f1a\u5d29\u6e83\u3002\u56e0\u6b64\uff0c\u4f7f\u7528\u65b0\u7684\u7248\u672c\u53ef\u80fd\u4f1a\u6709\u76ca\u5904\uff0c\u4f46\u4e5f\u53ef\u80fd\u56e0\u4e3a\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u7834\u574f\u73b0\u6709\u7684\u5e94\u7528\uff0c\u6240\u4ee5\uff0c\u5728\u5347\u7ea7\u65b0\u7248\u672c\u4e4b\u524d\u9700\u8981\u505a\u5f88\u591a\u6d4b\u8bd5\u7684\u5de5\u4f5c\u3002</p> <p>\u540c README \u4e00\u6837\uff0c\u53ef\u4ee5\u4f7f\u7528.rst \u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528.md \u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u540e\u9762\u6211\u4eec\u4e0d\u518d\u7279\u522b\u63d0\u793a\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#114","title":"1.1.4. \u5f00\u53d1\u8005\u4ecb\u7ecd\u6587\u6863","text":"<p>\u4e00\u822c\u4f7f\u7528 AUTHORS \u4f5c\u4e3a\u6587\u4ef6\u540d\uff0c\u5927\u5199\u3002\u5176\u76ee\u7684\u662f\u5411\u4ed6\u4eba\u4ecb\u7ecd\u9879\u76ee\u7684\u5f00\u53d1\u8005\u56e2\u961f\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#12","title":"1.2. \u5e2e\u52a9\u6587\u6863","text":"<p>\u4e00\u4e2a\u4f18\u79c0\u7684\u9879\u76ee\uff0c\u5f80\u5f80\u8fd8\u4f1a\u6709\u6bd4\u8f83\u8be6\u5c3d\u7684\u5e2e\u52a9\u6587\u6863\uff0c\u6765\u544a\u8bc9\u4f7f\u7528\u8005\u5982\u4f55\u5b89\u88c5\u3001\u914d\u7f6e\u548c\u4f7f\u7528\uff0c\u751a\u81f3\u8fd8\u4f1a\u914d\u6709\u4e00\u4e9b\u6559\u7a0b\u3002\u8fd9\u4e9b\u6587\u6863\u5728\u547d\u540d\u4e0a\u5c31\u6ca1\u6709\u90a3\u4e48\u4e25\u683c\uff0c\u6700\u7ec8\uff0c\u5b83\u4eec\u5c06\u901a\u8fc7\u6587\u6863\u751f\u6210\u5de5\u5177\u8f6c\u6362\u6210\u683c\u5f0f\u7f8e\u89c2\u7684\u5728\u7ebf\u6587\u6863\uff0c\u4f9b\u4f7f\u7528\u8005\u9605\u8bfb\u3002\u4e00\u822c\u5730\uff0c\u8fd9\u4e9b\u6587\u6863\u90fd\u653e\u5728 docs \u76ee\u5f55\u4e0b\uff0c\u7531\u4e00\u4e2a\u4e3b\u63a7\u6587\u6863\u6765\u4e32\u8054\u3002\u5f53\u7136\uff0c\u5177\u4f53\u5982\u4f55\u505a\uff0c\u53d6\u51b3\u4e8e\u6587\u6863\u6784\u5efa\u5de5\u5177\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#121-api","title":"1.2.1. API \u6587\u6863","text":"<p>\u8fd8\u6709\u4e00\u7c7b\u6bd4\u8f83\u7279\u6b8a\u7684\u6587\u6863\uff0c\u5b83\u4eec\u4e0d\u76f4\u63a5\u51fa\u73b0\u5728\u4e0a\u8ff0\u76ee\u5f55\u4e2d\uff0c\u800c\u662f\u6563\u843d\u5728\u6e90\u4ee3\u7801\u7684\u5404\u4e2a\u90e8\u5206\uff0c\u901a\u8fc7\u4e13\u95e8\u5de5\u5177\u751f\u6210\uff0c\u4e0e\u5e2e\u52a9\u6587\u6863\u4e00\u8d77\u4f7f\u7528\u3002\u5173\u4e8e\u5e2e\u52a9\u6587\u6863\u548c API \u6587\u6863\uff0c\u6211\u4eec\u5c06\u5728\u7b2c 10 \u7ae0\uff0c\u64b0\u5199\u6280\u672f\u6587\u6863\u4e2d\u8be6\u7ec6\u4ecb\u7ecd\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#13","title":"1.3. \u5de5\u7a0b\u6784\u5efa\u914d\u7f6e\u6587\u4ef6","text":"<p>\u4e0d\u540c\u7684\u6784\u5efa\u5de5\u5177\u9700\u8981\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5728 Python \u5de5\u7a0b\u4e2d\uff0c\u4e3b\u8981\u6709\u4e24\u79cd\u4e3b\u6d41\u7684\u6784\u5efa\u5de5\u5177\uff0c\u4e00\u662f Python setup tools, \u53e6\u4e00\u79cd\u662f\u7b26\u5408 PEP517\uff0cPEP518 \u89c4\u8303\u7684\u65b0\u578b\u6784\u5efa\u5de5\u5177\uff0c\u5982 Poetry \u7b49\u3002</p> <p>\u5728\u4e0a\u8ff0\u76ee\u5f55\u793a\u4f8b\u4e2d\uff0c\u4f7f\u7528\u7684\u662f\u57fa\u4e8e python setup tools \u7684\u6784\u5efa\u5de5\u5177\uff0c\u5b83\u9700\u8981\u7684\u914d\u7f6e\u6587\u4ef6\u6709 setup.py, MANIFEST.IN \u7b49\u6587\u4ef6\uff0c\u8fd8\u53ef\u80fd\u4f1a\u6709 requirements.txt \u548c makefile\uff1b\u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u60a8\u4f1a\u770b\u5230 setup.py \u7b49\u6587\u4ef6\u7684\u539f\u56e0\u3002\u5982\u679c\u662f\u4f7f\u7528 Poetry, \u5219\u914d\u7f6e\u6587\u4ef6\u4f1a\u7b80\u5355\u8bb8\u591a\uff0c\u53ea\u9700\u8981\u4e00\u4e2a pyproject.toml \u5c31\u591f\u4e86\u3002</p> <p>\u5f53\u60a8\u5f00\u59cb\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5e94\u8be5\u53ea\u4f7f\u7528 Poetry\uff0c\u800c\u4e0d\u4f7f\u7528 python setup tools\u3002Poetry \u7684\u4f9d\u8d56\u7ba1\u7406\u53ef\u4ee5\u9501\u5b9a\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\uff0c\u907f\u514d\u5f88\u591a\u95ee\u9898\u3002\u4f46\u662f\uff0c\u60a8\u53ef\u80fd\u4f9d\u7136\u8981\u80fd\u770b\u61c2\u57fa\u4e8e setup tools \u7684\u8001\u5f0f\u5de5\u7a0b\u914d\u7f6e\uff0c\u5b83\u4eec\u5c06\u53ef\u80fd\u5728\u672a\u6765\u7684\u4e00\u4e24\u5e74\u91cc\u8fd8\u7ee7\u7eed\u5b58\u5728\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#14","title":"1.4. \u4ee3\u7801\u76ee\u5f55","text":"<p>\u5728\u5176\u5b83\u5f00\u53d1\u8bed\u8a00\uff0c\u7279\u522b\u662f\u7f16\u8bd1\u578b\u8bed\u8a00\u4e2d\uff0c\u4ee3\u7801\u76ee\u5f55\u5e38\u5e38\u88ab\u79f0\u4e3a\u6e90\u6587\u4ef6\u76ee\u5f55\u3002\u7531\u4e8e Python \u662f\u975e\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u4ee3\u7801\u6e90\u6587\u4ef6\u672c\u8eab\u5c31\u662f\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6240\u4ee5\u4e00\u822c\u6211\u4eec\u4e0d\u628a\u4ee3\u7801\u6587\u4ef6\u79f0\u4f5c\u6e90\u6587\u4ef6\u3002\u6211\u4eec\u901a\u5e38\u628a\u53d1\u884c\u7684\u76ee\u6807\u7269\u79f0\u4e4b\u4e3a\u4e00\u4e2a\"\u5305 (package)\"\u3002\u56e0\u6b64\uff0c\u5728\u4e0b\u9762\u7684\u53d9\u8ff0\u4e2d\uff0c\u6211\u4eec\u5c06\u4f1a\u628a\u4ee3\u7801\u76ee\u5f55\u79f0\u4e4b\u4e3a\u5305\u76ee\u5f55\uff0c\u6216\u8005 package \u76ee\u5f55\u3002</p> <p>\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u540d\u4e3a sample \u7684 package\uff0c\u90a3\u4e48\u60a8\u7684\u4ee3\u7801\u5c31\u5e94\u8be5\u653e\u5728\u4e00\u4e2a\u540d\u4e3a sample \u7684\u76ee\u5f55\u4e0b\uff0c\u6b63\u5982\u4e0a\u9762\u7684\u76ee\u5f55\u89c6\u56fe\u6240\u793a\u3002</p> <p>\u6709\u4e00\u4e2a\u5c0f\u5730\u65b9\u9700\u8981\u8bf4\u660e\uff0c\u8fd9\u91cc\u9876\u5c42\u7684 sample \u662f\u9879\u76ee\u540d\u5b57\uff0c\u5185\u5c42\u7684 sample \u662f\u5305\u540d\u5b57\u3002\u4e24\u7ea7\u76ee\u5f55\u5171\u7528\u4e00\u4e2a\u540d\u5b57\uff0c\u8fd9\u4f1a\u8ba9\u521d\u5b66\u8005\u591a\u591a\u5c11\u5c11\u6709\u4e00\u4e9b\u56f0\u60d1\u3002\u4f46\u662f\uff0c\u5728 Python \u4e2d\uff0c\u6211\u4eec\u4e0d\u80fd\u50cf\u5176\u5b83\u8bed\u8a00\u90a3\u6837\uff0c\u76f4\u63a5\u628a package \u76ee\u5f55\u6539\u4e3a src \u76ee\u5f55\uff0c\u56e0\u4e3a\u8fd9\u6837\u4f1a\u5bfc\u81f4\u751f\u6210\u7684 package \u540d\u5b57\u4e5f\u4f1a\u53eb src\uff0c\u8fd9\u6837\u4e0d\u4ec5\u5305\u540d\u5b57\u6ca1\u6709\u610f\u4e49\uff0c\u5e76\u4e14\u4f1a\u5bfc\u81f4\u6240\u6709\u4eba\u5f00\u53d1\u7684\u5e93\u90fd\u4f7f\u7528\u4e86\u540c\u4e00\u4e2a\u540d\u5b57\u3002</p> <p>Info</p> <p>\u66f4\u6709\u751a\u8005\uff0c\u4e00\u4e9b\u9879\u76ee\uff08\u6216\u8005\u9879\u76ee\u751f\u6210\u5de5\u5177\uff09\u4f1a\u5c06\u7a0b\u5e8f\u7684\u4e3b\u5165\u53e3\u6587\u4ef6\u4e5f\u547d\u540d\u4e3a\u4e0e\u9879\u76ee\u540c\u540d\u7684\u6587\u4ef6\u3002\u5373\uff0c\u5982\u679c\u9879\u76ee\u540d\u5b57\u4e3a sample\uff0c\u5219\u4e3b\u5165\u53e3\u7a0b\u5e8f\u6587\u4ef6\u4e5f\u547d\u540d\u4e3a sample.py\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u63a8\u8350\u7684\u4e3b\u5165\u53e3\u7a0b\u5e8f\u6587\u4ef6\u540d\u4e3a app.py\u3002\u8fd9\u4e2a\u6587\u4ef6\u5e94\u8be5\u662f\u60a8\u7684\u7a0b\u5e8f\u5165\u53e3\uff0c\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u751f\u547d\u671f\uff0c\u6bd4\u5982\u521d\u59cb\u5316\u3001\u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af\u5e76\u54cd\u5e94\u9000\u51fa\u4fe1\u53f7\u7b49\u3002</p> <p>\u6309\u7167\u4e0a\u9762\u7684\u76ee\u5f55\u89c6\u56fe\u5236\u4f5c\u51fa\u6765\u7684\u53d1\u884c\u5305\uff0c\u5305\u540d\u5b57\u4f1a\u662f sample\u3002\u5f53\u6211\u4eec\u8981\u4f7f\u7528 sample \u4e2d\u6a21\u5757\u7684\u529f\u80fd\u65f6\uff0c\u53ef\u4ee5\u8fd9\u6837\u5bfc\u5165\uff1a</p> <pre><code># \u6ce8\u610f\uff0c `IMPORT *`\u4e00\u822c\u6765\u8bf4\u662f\u4e00\u79cd\u4e0d\u597d\u7684\u8bed\u6cd5\uff0c\u8fd9\u91cc\u8fd9\u6837\u4f7f\u7528\uff0c\u662f\u4e3a\u4e86\u65b9\u4fbf\u793a\u4f8b\u3002\nfrom sample.helper import *\n</code></pre> <p>Readmore</p> <p>Pypa \u5728 sampleproject \u4e2d\u7ed9\u51fa\u4e86\u53e6\u4e00\u79cd\u6587\u4ef6\u7ed3\u6784\uff0c\u5728\u8fd9\u91cc<code>sample</code>\u653e\u5728 src \u76ee\u5f55\u4e0b\u3002</p> <p>\u6211\u4eec\u5728\u4e0a\u4e00\u7ae0\u4e2d\u63d0\u5230\u8fc7\uff0cpypa \u5c31\u662f pypi \u7684\u5f00\u53d1\u8005\uff0cpython \u5206\u53d1\u5305\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u3002\u56e0\u6b64\u4ed6\u4eec\u7684\u8da3\u5411\u4e5f\u4f1a\u5f71\u54cd\u5230\u5176\u5b83\u5f00\u53d1\u8005\u3002</p> <p>\u53ef\u4ee5\u80af\u5b9a\u7684\u662f\uff0c\u65e0\u8bba\u5982\u4f55\uff0c\u4ee3\u7801\u76ee\u5f55\u540d\u5fc5\u987b\u662f package \u540d\u5b57\uff0c\u800c\u4e0d\u80fd\u4e3a\u5176\u5b83\u3002\u81f3\u4e8e\u8981\u4e0d\u8981\u5728\u5176\u4e0a\u518d\u52a0\u4e00\u5c42 src/\u76ee\u5f55\uff0c\u76ee\u524d\u8fd8\u5b58\u5728\u4e00\u4e9b\u4e89\u8bae\u3002\u4f46\u662f\uff0c\u4e00\u65e6\u60a8\u7684\u5de5\u7a0b\u786e\u5b9a\u4e86\u76ee\u5f55\u7ed3\u6784\uff0c\u6b64\u540e\u5c31\u4e0d\u8981\u4fee\u6539\uff0c\u5426\u5219\uff0c\u4f1a\u6d89\u53ca\u5230\u5927\u91cf\u6587\u4ef6\u9700\u8981\u4fee\u6539\uff0c\u56e0\u4e3a\u8fd9\u8ddf\u5bfc\u5165\u5bc6\u5207\u76f8\u5173\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#15","title":"1.5. \u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u76ee\u5f55","text":"<p>\u5355\u5143\u6d4b\u8bd5\u6587\u4ef6\u7684\u76ee\u5f55\u540d\u4e00\u822c\u4e3a tests\u3002\u8fd9\u4e5f\u662f\u8bb8\u591a\u6d4b\u8bd5\u6846\u67b6\u548c\u5de5\u5177\u9ed8\u8ba4\u7684\u6587\u4ef6\u5939\u4f4d\u7f6e\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#16-makefile","title":"1.6. Makefile","text":"<p>\u5bf9 Python \u7a0b\u5e8f\u5458\u6765\u8bf4\uff0c\u53ef\u80fd\u5e76\u4e0d\u592a\u559c\u6b22 Makefile\u3002\u5728\u5176\u5b83\u8bed\u8a00\u4e2d\uff0cmakefile \u548c\u5de5\u5177 make \u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5b9a\u4e49\u4f9d\u8d56\u5173\u7cfb\uff0c\u7f16\u8bd1\u751f\u6210\u6784\u5efa\u7269\u3002Python \u7a0b\u5e8f\u4e00\u822c\u800c\u8a00\u65e0\u987b\u7f16\u8bd1\uff0c\u5b83\u53ea\u9700\u8981\u8fdb\u884c\u6253\u5305\u3002\u6240\u4ee5\u5728\u6700\u65b0\u7684\u57fa\u4e8e Poetry \u7684\u9879\u76ee\u6a21\u677f\u4e2d\uff0c\u662f\u6ca1\u6709 Makefile \u7684\u3002\u4f46\u662f\u6709\u4e00\u4e9b\u5de5\u5177\uff0c\u6bd4\u5982 sphinx \u6587\u6863\u6784\u5efa\u4e2d\u8fd8\u9700\u8981 Makefile\uff1b\u6b64\u5916\uff0cMakefile \u7684\u591a target \u547d\u4ee4\u6a21\u5f0f\uff0c\u4e5f\u8fd8\u6709\u5b83\u7684\u7528\u5904\uff0c\u56e0\u6b64\uff0c\u662f\u5426\u4f7f\u7528 Makefile\uff0c\u53ef\u4ee5\u53d6\u51b3\u4e8e\u60a8\u9879\u76ee\u7684\u9700\u8981\u3002</p> <p>\u5728 Kenneth Reitz \u63a8\u8350\u7684\u9879\u76ee\u5e03\u5c40\u4e2d\uff0c\u8fd8\u7f3a\u5c11\u4e00\u4e9b\u91cd\u8981\u7684\u6587\u4ef6\uff08\u6216\u8005\u76ee\u5f55\uff09\u3002\u8fd9\u4e9b\u662f\u786e\u4fdd\u9879\u76ee\u8d28\u91cf\u4e0d\u53ef\u6216\u7f3a\u7684\u3002\u4e3b\u8981\u662f lint \u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0ctox \u914d\u7f6e\u6587\u4ef6\uff0ccodecoverage \u914d\u7f6e\u6587\u4ef6\uff0cCI \u914d\u7f6e\u6587\u4ef6\u7b49\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#17-lint","title":"1.7. lint \u76f8\u5173\u5de5\u5177\u914d\u7f6e\u6587\u4ef6","text":"<p>\u9879\u76ee\u53ef\u80fd\u4f7f\u7528 lint \u5de5\u5177\u5982 flake8 \u6765\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\uff0c\u4f7f\u7528 black \u6765\u8fdb\u884c\u683c\u5f0f\u5316\u3002\u8fd9\u4e9b\u5de5\u5177\u90fd\u4f1a\u5f15\u5165\u914d\u7f6e\u6587\u4ef6\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u7b7e\u5165\u670d\u52a1\u5668\u7684\u4ee3\u7801\u7684\u98ce\u683c\u548c\u8d28\u91cf\uff0c\u53ef\u80fd\u4f1a\u914d\u7f6e pre-commit hooks\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#18-tox","title":"1.8. tox","text":"<p>\u5982\u679c\u4e00\u4e2a\u9879\u76ee\u540c\u65f6\u652f\u6301\u591a\u4e2a Python \u7248\u672c\uff0c\u90a3\u4e48\u5728\u53d1\u5e03\u4e4b\u524d\uff0c\u5f80\u5f80\u9700\u8981\u5728\u5404\u4e2a Python \u73af\u5883\u4e0b\u90fd\u8fd0\u884c\u5355\u5143\u6d4b\u8bd5\u3002\u4e3a\u5355\u5143\u6d4b\u8bd5\u81ea\u52a8\u5316\u5730\u6784\u5efa\u865a\u62df\u8fd0\u884c\u73af\u5883\u5e76\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u8fd9\u5c31\u662f tox \u8981\u505a\u7684\u5de5\u4f5c\u3002\u8fd9\u4e5f\u662f\u4e0a\u4e00\u7ae0\u8bb2\u7684\u865a\u62df\u8fd0\u884c\u73af\u5883\u7684\u4e00\u4e2a\u5b9e\u9645\u4f7f\u7528\u6848\u4f8b\u3002</p> <p>\u914d\u7f6e\u4e86 tox \u7684\u9879\u76ee\uff0c\u4f1a\u5728\u6839\u76ee\u5f55\u4e0b\u5f15\u5165 tox.ini \u6587\u4ef6\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#19-ci","title":"1.9. CI \uff08\u6301\u7eed\u96c6\u6210\uff09","text":"<p>\u5728\u9879\u76ee\u4e2d\u4f7f\u7528 CI \u662f\u5c3d\u65e9\u66b4\u9732\u95ee\u9898\uff0c\u907f\u514d\u66f4\u5927\u7684\u635f\u5931\u7684\u6709\u6548\u65b9\u6cd5\u3002\u901a\u8fc7\u4f7f\u7528 CI\uff0c\u53ef\u4ee5\u786e\u4fdd\u7a0b\u5e8f\u5458\u7b7e\u5165\u7684\u4ee3\u7801\u5728\u5e76\u5165\u4e3b\u5206\u652f\u4e4b\u524d\uff0c\u662f\u80fd\u591f\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u7684\u3002</p> <p>\u6709\u4e00\u4e9b\u5728\u7ebf\u7684 CI \u670d\u52a1\uff0c\u6bd4\u5982 appVeyor, travis \u548c\u540e\u8d77\u4e4b\u79c0 github actions. \u4f5c\u8005\u6ca1\u6709\u4f7f\u7528\u8fc7 AppVeyor\u3002\u5982\u679c\u4f7f\u7528 travis \u7684\u8bdd\uff0c\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u653e\u7f6e travis.yml \u8fd9\u4e2a\u6587\u4ef6\u3002\u5982\u679c\u4f7f\u7528 github actions\uff0c\u5219\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u7684.github/workflows/\u4e2d\u653e\u7f6e\u914d\u7f6e\u6587\u4ef6\uff0cgithub \u5bf9\u914d\u7f6e\u6587\u4ef6\u7684\u540d\u5b57\u6ca1\u6709\u8981\u6c42\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#110-codecoverage","title":"1.10. codecoverage","text":"<p>\u6211\u4eec\u9700\u8981\u901a\u8fc7 code coverage \u6765\u5ea6\u91cf\u5355\u5143\u6d4b\u8bd5\u7684\u5f3a\u5ea6\u3002\u4e00\u4e9b\u4f18\u79c0\u7684\u5f00\u6e90\u9879\u76ee\uff0c\u5176 code coverage \u751a\u81f3\u53ef\u4ee5\u505a\u5230 100%\uff08\u5f53\u7136\u5141\u8bb8\u5408\u7406\u5730\u6392\u9664\u4e00\u4e9b\u4ee3\u7801\uff09\u3002\u5728 Python \u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 Coverage<sup>2</sup> \u6765\u8fdb\u884c\u4ee3\u7801\u8986\u76d6\u6d4b\u8bd5\u3002\u6d4b\u8bd5\u6846\u67b6\u6bd4\u5982 pytest \u90fd\u4f1a\u96c6\u6210\u5b83\uff0c\u65e0\u987b\u5355\u72ec\u8c03\u7528\uff0c\u4f46\u4e00\u822c\u9700\u8981\u5728\u6839\u76ee\u5f55\u4e0b\u914d\u7f6e.coveragerc\u3002</p> <p>\u4f5c\u4e3a\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u53d1\u5e03\u5355\u5143\u6d4b\u8bd5\u8986\u76d6\u62a5\u544a\uff0c\u4ee5\u4fbf\u7ed9\u4f7f\u7528\u8005\u66f4\u5f3a\u7684\u4fe1\u5fc3\u3002Codecov<sup>8</sup> \u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u5e73\u53f0\u3002\u4e00\u822c\u6211\u4eec\u5728 CI \u4e2d\u914d\u7f6e\u5b83\u3002\u6240\u4ee5\u8fd9\u90e8\u5206\u914d\u7f6e\u4f1a\u4f53\u73b0\u5728 CI \u7684\u914d\u7f6e\u6587\u6863\u4e2d\u3002</p> <p>\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u8005\u4f1a\u53d1\u73b0\uff0c\u4e00\u4e2a\u6210\u719f\u7684\u9879\u76ee\uff0c\u5f80\u5f80\u8fd8\u5305\u62ec\u66f4\u591a\u914d\u7f6e\u6587\u4ef6\uff0c\u8fdc\u8fdc\u4e0d\u6b62 Kenneth Reitz \u63a8\u8350\u7684\u8fd9\u4e9b\u3002\u6bd4\u5982\uff0clint \u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0ctox \u914d\u7f6e\u6587\u4ef6\uff0ccodecoverage \u914d\u7f6e\u6587\u4ef6\uff0cCI \u914d\u7f6e\u6587\u4ef6\u7b49\u7b49\u3002\u5b9e\u9645\u4e0a\uff0c\u8981\u624b\u52a8\u751f\u6210\u4e00\u4e2a\u89c4\u8303\u7684\u9879\u76ee\u6846\u67b6\u5e76\u4e0d\u5bb9\u6613\u3002\u8981\u7406\u89e3\u6bcf\u79cd\u5de5\u5177\u7684\u4f5c\u7528\uff0c\u5e76\u4e14\u914d\u7f6e\u597d\u5b83\u4eec\u4f7f\u4e4b\u80fd\u534f\u540c\u5de5\u4f5c\uff0c\u9700\u8981\u4e00\u5b9a\u7684\u7ecf\u9a8c\u3002\u56e0\u6b64\uff0c\u5728\u8bb8\u591a\u5f00\u53d1\u7ec4\u91cc\uff0c\u642d\u67b6\u5b50\u7684\u5de5\u4f5c\u4e00\u822c\u7531 dev lead \u6765\u8fdb\u884c\uff0c\u8fd9\u4e5f\u662f\u6709\u5176\u4f9d\u636e\u7684\u3002\u56e0\u6b64\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u9879\u76ee\u751f\u6210\u5411\u5bfc\u6765\u751f\u6210\u9879\u76ee\u5e03\u5c40\u5e76\u5b8c\u6210\u914d\u7f6e\u3002</p> <p>Readmore</p> <p>\u4e00\u4e9b\u5de5\u5177\u7684\u9ed8\u8ba4\u914d\u7f6e\u53ef\u80fd\u4f1a\u76f8\u4e92\u51b2\u7a81\uff0c\u8fd9\u4e5f\u662f\u5f88\u5e38\u89c1\u7684\u73b0\u8c61\u3002\u56e0\u4e3a\u5927\u5bb6\u5bf9\u4ec0\u4e48\u662f\u6700\u4f18\u7684\u6280\u672f\u8def\u7ebf\u90fd\u6709\u81ea\u5df1\u7684\u7406\u89e3\u3002\u6bd4\u5982 flake8 \u4e0e black \u4e4b\u95f4\uff0c\u5bf9\u4ec0\u4e48\u662f\u6b63\u786e\u7684\u4ee3\u7801\u683c\u5f0f\uff0c\u6709\u4e00\u4e9b\u5730\u65b9\u770b\u6cd5\u5c31\u4e0d\u4e00\u81f4\uff0c\u4ece\u800c\u5bfc\u81f4\u6709\u65f6\u5019 black \u683c\u5f0f\u5316\u7684\u4ee3\u7801\uff0c\u603b\u662f\u901a\u4e0d\u8fc7 flake8 \u7684\u68c0\u67e5\u3002\u56e0\u6b64\uff0c\u5982\u4f55\u4f7f\u5f97\u5de5\u5177\u4e4b\u95f4\u76f8\u4e92\u534f\u8c03\uff0c\u4e5f\u662f\u65b0\u5efa\u9879\u76ee\u65f6\u6bd4\u8f83\u8d39\u65f6\u8d39\u529b\u7684\u4e8b\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u7ed3\u5408\u9879\u76ee\u751f\u6210\u5411\u5bfc\uff0c\u6765\u4ecb\u7ecd\u66f4\u591a\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#2-python-project-wizard","title":"2. \u9879\u76ee\u751f\u6210\u5411\u5bfc - Python Project Wizard","text":"<p>\u5982\u679c\u60a8\u6709\u5176\u5b83\u8bed\u8a00\u7684\u5f00\u53d1\u7ecf\u9a8c\uff0c\u60a8\u4f1a\u53d1\u73b0\u50cf visual studio\uff0c \u6216\u8005 IntelliJ \u8fd9\u6837\u7684\u5f00\u53d1\u5de5\u5177\u6709\u8f83\u597d\u7684\u5411\u5bfc\uff0c\u60a8\u53ea\u9700\u8981\u70b9\u51fb\u4e00\u4e9b\u6309\u94ae\uff0c\u586b\u5199\u4e00\u4e9b\u4fe1\u606f\uff0c\u5c31\u80fd\u7acb\u523b\u751f\u6210\u4e00\u4e2a\u80fd\u7f16\u8bd1\u7684\u9879\u76ee\u3002\u5728 Python \u4e16\u754c\u4e2d\uff0c\u5f88\u9057\u61be\u8fd8\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u5f00\u53d1\u5de5\u5177\uff08\u65e0\u8bba\u662f vscode \u8fd8\u662f pycharm) \u63d0\u4f9b\u8fd9\u6837\u7684\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#21-cookiecutter","title":"2.1. cookiecutter","text":"<p>\u5e78\u8fd0\u7684\u662f\uff0c\u6709\u4e00\u4e2a\u5f00\u6e90\u7684\u9879\u76ee\uff0ccookiecutter<sup>3</sup>\uff0c\u53ef\u4ee5\u5e2e\u6211\u4eec\u751f\u6210\u5404\u79cd\u9879\u76ee\u7684\u67b6\u5b50\u3002</p> <p>Readmore</p> <p>\u73b0\u5728\u7684\u8d8b\u52bf\u662f\uff0c\u9664\u4e86 IDE \u4e4b\u5916\uff0c\u4e00\u4e9b\u6846\u67b6\u548c\u5de5\u5177\u672c\u8eab\u4e5f\u5728\u63d0\u4f9b\u751f\u6210\u5411\u5bfc\u3002\u6bd4\u5982 js \u4e2d\u7684 vue\u3002\u672c\u6587\u4e2d\u591a\u6b21\u63d0\u5230\u7684 Poetry \u4e5f\u6709\u751f\u6210\u6846\u67b6\u7a0b\u5e8f\u7684\u529f\u80fd\uff0c\u4e0d\u8fc7\uff0c\u5b83\u5e76\u4e0d\u80fd\u63d0\u4f9b\u4e0a\u6587\u4ecb\u7ecd\u7684\u6240\u6709\u8fd9\u4e9b\u6587\u4ef6\u7684\u6a21\u677f\uff0c\u66f4\u4e0d\u8981\u63d0\u81ea\u5b9a\u4e49\u5b83\u4eec\u3002</p> <p>cookiecutter \u4e00\u8bcd\u7684\u672c\u610f\u662f\u997c\u5e72\u5236\u9020\u673a\u3002\u5728\u8fd9\u91cc\uff0ccookiecutter \u662f\u4e00\u4e2a\u751f\u4ea7\u9879\u76ee\u6a21\u677f\u7684\u57fa\u7840\u6846\u67b6\uff0c\u7406\u8bba\u4e0a\u53ef\u7528\u6765\u751f\u6210\u4efb\u4f55\u5f00\u53d1\u8bed\u8a00\u7684\u9879\u76ee\u6846\u67b6\u3002\u901a\u8fc7 cookiecutter, \u7ed3\u5408\u5404\u79cd\u4e8b\u5148\u5b9a\u4e49\u597d\u7684\u5de5\u7a0b\u6a21\u677f\uff0c\u5c31\u53ef\u4ee5\u5feb\u901f\u5b9a\u5236\u51fa\u81ea\u5df1\u60f3\u8981\u7684\u9879\u76ee\u6846\u67b6\u3002</p> <p>cookiecutter-pypackage<sup>4</sup> \u662f\u9075\u5faa cookiecutter \u89c4\u8303\u5f00\u53d1\u7684\u4e00\u4e2a\u751f\u6210 Python \u9879\u76ee\u7684\u6a21\u677f\uff0c\u5b83\u5728 github \u4e0a\u6709\u63a5\u8fd1 4k \u7684 stars\u3002</p> <p>\u5728<code>cookiecutter-pypackage</code>\u751f\u6210\u9879\u76ee\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u8be2\u95ee\u5f00\u53d1\u8005\u7684\u540d\u5b57\u3001\u7535\u90ae\u3001\u9879\u76ee\u540d\u79f0\uff0c\u8bb8\u53ef\u8bc1\u7c7b\u578b\uff08\u4f1a\u8ba9\u4f60\u5728 MIT\uff0cBSD \u7b49\u597d\u51e0\u79cd\u77e5\u540d\u7684\u8bb8\u53ef\u8bc1\u6a21\u5f0f\u4e2d\u9009\u62e9\uff0c\u5e76\u63d0\u4f9b\u6807\u51c6\u7684 LICENSE \u6587\u672c\uff09\uff0c\u662f\u5426\u96c6\u6210 click \u8fd9\u4e2a\u547d\u4ee4\u884c\u63a5\u53e3\uff0c\u662f\u5426\u751f\u6210 console script \u7b49\u3002\u56de\u7b54\u5b8c\u6210\u8fd9\u4e9b\u95ee\u9898\u4e4b\u540e\uff0c\u60a8\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u6846\u67b6\u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u7acb\u523b\u7f16\u8bd1\u5e76\u53d1\u5e03\u5b83\uff0c\u5305\u62ec\u6587\u6863\u3002</p> <p>Info</p> <p>Click \u662f Pallets<sup>5</sup> \u9879\u76ee\u7ec4\u5f00\u6e90\u7684\u4e00\u6b3e\u547d\u4ee4\u884c\u5de5\u5177\u3002Pallets \u8fd8\u662f\u5927\u540d\u9f0e\u9f0e\u7684 Flask \u548c Jinja \u7684\u5f00\u53d1\u8005\u3002\u4f7f\u7528 Click \u4e4b\u540e\uff0c\u6211\u4eec\u521b\u5efa\u7684 Python \u5e93\u5c31\u53ef\u4ee5\u8f7b\u677e\u8f6c\u5316\u4e3a\u4e00\u4e2a\u547d\u4ee4\u884c\u5e94\u7528\uff0cClick \u4f1a\u5e2e\u6211\u4eec\u5904\u7406\u547d\u4ee4\u884c\u89e3\u6790\u8fd9\u6837\u4e00\u4e9b\u7e41\u7410\u7684\u5de5\u4f5c\u3002Click \u5728 Github \u4e0a\u6709\u8d85\u8fc7 14k \u7684 stars\uff0c\u662f Python \u5f00\u53d1\u8005\u5fc5\u987b\u4e86\u89e3\u7684 Python \u57fa\u7840\u5e93\u4e4b\u4e00\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#22-python-project-wizard","title":"2.2. python project wizard","text":"<p>cookiecutter-pypackage \u51fa\u73b0\u5df2\u7ecf\u6709\u4e00\u6bb5\u65f6\u95f4\u4e86\u3002\u5b83\u8fed\u4ee3\u8f83\u6162\uff0c\u6240\u4f7f\u7528\u7684\u6280\u672f\u5e76\u4e0d\u5b8c\u5168\u7b26\u5408\u73b0\u5728\u7684\u793e\u533a\u89c4\u8303\uff0c\u6240\u4ee5\u672c\u4e66\u4f5c\u8005\u57fa\u4e8e cookiecutter-pypackage\uff0c\u5f00\u53d1\u4e86\u4e00\u4e2a\u5168\u65b0\u7684\u6a21\u677f\uff0c\u5b83\u5177\u6709\u8fd9\u4e9b\u529f\u80fd\uff1a</p> <ol> <li>\u63d0\u4f9b README\uff0cAUTHORS, LICENSE, HISTORY \u7b49\u6587\u4ef6\u7684\u6a21\u5757\uff0c\u5e76\u6839\u636e\u60a8\u63d0\u4f9b\u7684\u76f8\u5173\u4fe1\u606f\u8fdb\u884c\u5b9a\u5236\u5316\u3002</li> <li>\u901a\u8fc7 Poetry \u6765\u7ba1\u7406\u9879\u76ee\u7684\u7248\u672c\u548c\u4f9d\u8d56\uff0c\u8fdb\u884c\u6784\u5efa\u548c\u53d1\u5e03\u3002\u8fd9\u4e5f\u662f\u5f53\u524d\u7684\u4e3b\u6d41\u65b9\u6848\u3002</li> <li>\u96c6\u6210 Mkdocs \u548c Mkdocstrings\uff0c\u4f7f\u5f97\u60a8\u53ef\u4ee5\u4f7f\u7528\u7b80\u4fbf\u7684 Markdown \u8bed\u6cd5\u6765\u64b0\u5199\u5e2e\u52a9\u6587\u6863\uff0c\u5e76\u81ea\u52a8\u4ece\u4ee3\u7801\u4e2d\u63d0\u53d6\u6ce8\u91ca\u751f\u6210 API \u6587\u6863\u3002\u53e6\u4e00\u79cd\u65b9\u6848\u662f\u4f7f\u7528 Sphinx\uff0c\u5b83\u7684\u8bed\u6cd5\u5219\u8981\u7e41\u7410\u5f88\u591a\u3002</li> <li>\u901a\u8fc7 Tox \u548c Pytest \u6765\u5b9e\u73b0\u672c\u5730\u5355\u5143\u6d4b\u8bd5\u7684\u591a\u4e2a Python \u7248\u672c\u7684\u77e9\u9635\u5f0f\u8986\u76d6\u3002\u540c\u65f6\uff0c\u8fd9\u4e00\u9636\u6bb5\u8fd8\u8fdb\u884c\u4ee3\u7801\u683c\u5f0f\u5316\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u6784\u5efa\u7269\u683c\u5f0f\u6d4b\u8bd5\uff0c\u786e\u4fdd\u4ee3\u7801\u98ce\u683c\u5b8c\u5168\u7b26\u5408\u9879\u76ee\u7ea6\u5b9a\uff0c\u4ee3\u7801\u8d28\u91cf\u7b26\u5408\u8981\u6c42\u3002</li> <li>\u5728\u4ee3\u7801\u98ce\u683c\u5f3a\u5316\u65b9\u9762\uff0c\u901a\u8fc7 Black \u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff0c\u4f7f\u7528 isort \u6765\u91cd\u65b0\u7ec4\u7ec7 import \u4ee3\u7801\u6bb5\uff0c\u4f7f\u7528 Flake8 \u548c Flake8-docstrings \u6765\u68c0\u67e5\u8bed\u6cd5\u548c\u6587\u6863\u683c\u5f0f\u3002</li> <li>\u901a\u8fc7 Pre-commit hooks<sup>6</sup> \u5728\u4ee3\u7801\u7b7e\u5165\u65f6\uff0c\u5f3a\u5236\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\u548c\u683c\u5f0f\u5316\u3002</li> <li>\u4f7f\u7528 Python Fire<sup>7</sup> \u6765\u751f\u6210\u547d\u4ee4\u884c\u63a5\u53e3\uff08console script\uff09\u3002Python Fire \u8981\u6bd4 Click \u66f4\u7b80\u5355\u6613\u7528\u3002\u60a8\u57fa\u672c\u4e0a\u65e0\u987b\u8fdb\u884c\u5b66\u4e60\u5373\u53ef\u4e0a\u624b\u3002</li> <li>\u4f7f\u7528 Github Actions \u6765\u8fdb\u884c\u6301\u7eed\u96c6\u6210\uff08CI\uff09\uff0c\u5b9e\u73b0\u5728\u591a\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u3001\u591a\u4e2a python \u7248\u672c\u4e0b\u7684\u77e9\u9635\u5f0f\u6d4b\u8bd5\u8986\u76d6\uff0c\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u548c\u6784\u5efa\u7269\uff08\u5373 Python \u5e93\uff09\uff0c\u751f\u6210 codecoverage report\uff0c\u5e76\u81ea\u52a8\u4e0a\u4f20\u5230 Codecov</li> <li>\u4f7f\u7528 Git Pages \u6765\u6258\u7ba1\u60a8\u7684\u6587\u6863</li> </ol> <p>Readmore</p> <p>\u8fd9\u91cc\u63d0\u5230\u4e86\u5f88\u591a\u6982\u5ff5\uff0c\u5f88\u53ef\u80fd\u6709\u4e00\u4e9b\u60a8\u8fd8\u662f\u7b2c\u4e00\u6b21\u63a5\u89e6\u3002\u6211\u4eec\u5148\u4ecb\u7ecd\u4e00\u5c0f\u90e8\u5206\u3002</p> <p>\u4ec0\u4e48\u662f\u6784\u5efa\u7269 (artifact) \u6d4b\u8bd5\uff1f\u5f53\u60a8\u53d1\u5e03\u6784\u5efa\u597d\u7684\u7a0b\u5e8f\u5e93\u5230 PyPI \u65f6\uff0c\u6709\u53ef\u80fd\u56e0\u4e3a\u683c\u5f0f\u95ee\u9898\u88ab\u62d2\u7edd\uff0c\u8fd9\u5c06\u4f1a\u5bfc\u81f4\u6301\u7eed\u96c6\u6210\u6d41\u7a0b\u5931\u8d25\u3002\u4e00\u4e2a\u540d\u4e3a Twine \u5de5\u5177\u53ef\u4ee5\u5bf9 artifact \u8fdb\u884c\u68c0\u67e5\uff0c\u63d0\u524d\u53d1\u73b0\u8fd9\u79cd\u9519\u8bef\u3002</p> <p>Python\u5b89\u88c5\u5de5\u5177\u652f\u6301\u5c06\u547d\u4ee4\u884c\u5de5\u5177console scripts\u6dfb\u52a0\u5230\u53d1\u5e03\u5305\u4e2d\u3002\u5982\u6b64\u4e00\u6765\uff0c\u5728\u6211\u4eec\u5f00\u53d1\u7684Python\u5e93\u5b89\u88c5\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece\u547d\u4ee4\u884c\u8c03\u7528\uff0c\u5c31\u50cf\u539f\u751f\u7684shell\u547d\u4ee4\u4e00\u6837\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u901a\u8fc7 CI \u6765\u8fdb\u884c\u7248\u672c\u53d1\u5e03\uff1f\u4ece\u5f00\u53d1\u673a\u5668\u4e0a\u8fdb\u884c\u53d1\u5e03\u6709\u5f88\u5927\u7684\u968f\u610f\u6027\uff0c\u96be\u4ee5\u786e\u4fdd\u53d1\u5e03\u5305\u7684\u8d28\u91cf\u3002\u5f53\u60a8\u7684\u4ee3\u7801\u7b7e\u5165\u5230 main/master \u5206\u652f\uff0c\u901a\u8fc7\u6d4b\u8bd5\u540e\uff0c\u60a8\u7ed9\u5206\u652f\u6253\u4e0a tag\uff0c\u8fd9\u65f6\u5c31\u4f1a\u89e6\u53d1\u81ea\u52a8\u53d1\u5e03\u3002\u8fd9\u6837\u53d1\u5e03\u7684\u5305\u53ef\u4ee5\u786e\u4fdd\u8d28\u91cf\uff0c\u5e76\u4e14\u6bcf\u4e00\u6b21\u53d1\u5e03\uff0c\u90fd\u786e\u4fdd\u4e86\u6e90\u4ee3\u7801\u3001\u7248\u672c\u53f7\u4e0e\u53d1\u5e03\u7684\u6784\u5efa\u7269\u5b8c\u5168\u4e00\u81f4\uff0c\u53ef\u4ee5\u8ffd\u6eaf\u3002</p> <p>\u4ece\u4e0a\u9762\u7684\u529f\u80fd\u4ecb\u7ecd\u53ef\u4ee5\u770b\u51fa\uff0cPython Project Wizard \u4e0d\u4ec5\u4ec5\u5e2e\u52a9\u6211\u4eec\u751f\u6210\u9879\u76ee\u7684\u521d\u59cb\u5e03\u5c40\uff0c\u5b83\u8fd8\u662f\u4e00\u7cfb\u5217\u89c4\u8303\u548c\u6d41\u7a0b\u7684\u5021\u5bfc\u8005\uff0c\u5e76\u901a\u8fc7\u5de5\u5177\u914d\u7f6e\u548c\u81ea\u52a8\u5316\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u89c4\u8303\u548c\u6d41\u7a0b\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u88ab\u4e25\u683c\u9075\u5faa\u3002\u5982\u679c\u60a8\u4e0d\u9075\u5faa\u8fd9\u4e9b\u89c4\u8303\uff0c\u90a3\u4e48\uff0c\u60a8\u7684\u4ee3\u7801\u5c06\u4e0d\u4f1a\u88ab\u7b7e\u5165\u4ee3\u7801\u4ed3\u5e93\uff0c\u4e5f\u6c38\u8fdc\u4e0d\u80fd\u81ea\u52a8\u53d1\u5e03\u5230 pypi \u4e0a\u9762\u3002</p> <p>\u8fd9\u4e2a\u5411\u5bfc\u5de5\u5177\u7684\u6587\u6863\u5728 \u8fd9\u91cc\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#3","title":"3. \u5982\u4f55\u4f7f\u7528\u9879\u76ee\u751f\u6210\u5411\u5bfc","text":""},{"location":"articles/python/best-practice-python/chap04/#31-python-project-wizard-ppw","title":"3.1. \u5b89\u88c5 python project wizard (ppw)","text":"<p>\u9996\u5148\uff0c\u4e3a\u6211\u4eec\u7684\u65b0\u5de5\u7a0b\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5c31\u53eb sample \u597d\u4e86\uff1a <pre><code>conda create -n sample python=3.10\n</code></pre> \u7136\u540e\uff0c\u5728 sample \u865a\u62df\u73af\u5883\u4e0b\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a <pre><code>pip install ppw\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap04/#32","title":"3.2. \u751f\u6210\u9879\u76ee\u6846\u67b6","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>ppw</code>\u6765\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002</p> <p><pre><code>ppw\n</code></pre> \u8fd9\u91cc\u4f1a\u63d0\u793a\u8f93\u5165\u4e00\u4e9b\u4fe1\u606f\u3002 </p> <p>\u6ce8\u610f project_slug \u662f github repo \u7684\u540d\u5b57\uff0c\u9ed8\u8ba4\u4e5f\u662f\u60a8\u7684\u7a0b\u5e8f\u5e93\u7684\u540d\u5b57\u3002\u8fd9\u4e2a\u540d\u5b57\u4e2d\u95f4\u4e0d\u80fd\u6709\u7a7a\u683c\u548c\"-\"\u3002</p> <p>\u6700\u540e\uff0cppw \u63d0\u793a\u4f60\uff0c\u662f\u5426\u8981\u521b\u5efa\u5f00\u53d1\u73af\u5883\uff0c\u9ed8\u8ba4\u662f'yes'\u3002\u5b83\u5c06\u4e3a\u60a8\u5b89\u88c5 pre-commit hooks, \u5b89\u88c5 poetry \u548c\u9879\u76ee\u4f9d\u8d56\u3002\u5982\u679c\u60a8\u4e0d\u6e05\u695a\u8fd9\u610f\u5473\u7740\u4ec0\u4e48\uff0c\u522b\u62c5\u5fc3\uff0c\u6211\u4eec\u5c06\u5728\u7a0d\u540e\u7684\u7ae0\u8282\u4e2d\u8fdb\u884c\u8bb2\u89e3\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#33-pre-commit-hooks","title":"3.3. \u5b89\u88c5 pre-commit hooks","text":"<p>\u5982\u679c\u60a8\u5728 ppw \u751f\u6210\u547d\u4ee4\u65f6\uff0c\u9009\u62e9\u4e86 init_dev_env \u7684\u8bdd\uff0c\u90a3\u4e48\u8fd9\u4e00\u6b65\u5df2\u7ecf\u81ea\u52a8\u8fd0\u884c\u8fc7\u4e86\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u6b63\u597d\u501f\u6b64\u673a\u4f1a\u6765\u4ecb\u7ecd\u4e00\u4e0b init_dev_env \u5177\u4f53\u505a\u4e86\u4ec0\u4e48\u3002</p> <p>pre-commit hooks \u662f git \u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5b83\u5141\u8bb8\u901a\u8fc7\u914d\u7f6e\u4e00\u4e9b\u68c0\u67e5\u94a9\u5b50\uff0c\u4f7f\u5f97\u60a8\u7684\u4ee3\u7801\u5728\u4e0a\u4f20\u5230\u4ed3\u5e93\u4e4b\u524d\uff0c\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u57fa\u7840\u7684\u8bed\u6cd5\u548c\u98ce\u683c\u68c0\u67e5\uff0c\u907f\u514d\u5c06\u4e0d\u5408\u683c\u7684\u4ee3\u7801\u6df7\u5165\u5230\u4ed3\u5e93\u4e2d\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u901a\u8fc7\u8fd0\u884c\u547d\u4ee4 pre-commit install \u6765\u5b89\u88c5\u94a9\u5b50\u3002\u5f53 ppw \u88ab\u5b89\u88c5\u65f6\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4e5f\u5c31\u968f\u4e4b\u5b89\u88c5\u5230\u60a8\u7684\u865a\u62df\u73af\u5883\u4e2d\u4e86\u3002\u4f46\u662f\uff0c\u5982\u679c\u60a8\u5728 ppw \u547d\u4ee4\u751f\u6210\u65f6\uff0c\u6ca1\u6709\u9009\u62e9 init_dev_env \u7684\u8bdd\uff0c\u73b0\u5728\u4e5f\u53ef\u4ee5\u624b\u52a8\u8fd0\u884c\u8fd9\u4e2a\u547d\u4ee4\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#34","title":"3.4. \u5b89\u88c5\u5f00\u53d1\u4f9d\u8d56","text":"<p>\u5982\u679c\u60a8\u5728 ppw \u751f\u6210\u547d\u4ee4\u65f6\uff0c\u9009\u62e9\u4e86 init_dev_env \u7684\u8bdd\uff0c\u540c pre-commit hooks \u4e00\u6837\uff0c\u8fd9\u4e00\u6b65\u4e5f\u81ea\u52a8\u8fd0\u884c\u8fc7\u4e86\u3002</p> <p>\u6211\u4eec\u5728\u524d\u9762\u4ecb\u7ecd\u8fc7\u4f9d\u8d56\u51b2\u7a81\u95ee\u9898\u3002\u89e3\u51b3\u529e\u6cd5\u4e4b\u4e00\u5c31\u662f\u4e3a\u6bcf\u4e00\u4e2a\u9879\u76ee\u521b\u5efa\u4e00\u4e2a\u5355\u72ec\u7684\u8fd0\u884c\u73af\u5883\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u5bf9\u4e00\u4e9b\u5927\u578b\u9879\u76ee\uff0c\u5373\u4f7f\u60a8\u638c\u63a7\u4e00\u5207\uff0c\u4f46\u51b2\u7a81\u4ecd\u7136\u53ef\u80fd\u53d1\u751f\u3002\u6709\u4e00\u4e9b\u51b2\u7a81\uff0c\u662f\u7531\u4e8e\u6211\u4eec\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5f15\u5165\u7684\u5404\u79cd\u5de5\u5177\u5305\u9020\u6210\u7684\uff0c\u8fd9\u4e9b\u5de5\u5177\u5305\u5e76\u4e0d\u9700\u8981\u53d1\u5e03\u5230\u6700\u7ec8\u7528\u6237\u90a3\u91cc\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u4f9d\u8d56\u5206\u7ec4\uff0c\u53ea\u5728\u5f00\u53d1\u6216\u8005\u6d4b\u8bd5\u73af\u5883\u4e0b\u5b89\u88c5\u8fd9\u4e9b\u53ef\u80fd\u5bfc\u81f4\u51b2\u7a81\u7684\u5de5\u5177\u5305\u3002</p> <p>Python project wizard \u521b\u5efa\u7684\u6a21\u677f\u6b63\u662f\u8fd9\u6837\u505a\u7684\u3002\u5b83\u4f7f\u7528\u4e86 Poetry \u6765\u8fdb\u884c\u9879\u76ee\u7ba1\u7406\uff0c\u5e76\u5c06\u9879\u76ee\u7684\u5f00\u53d1\u4f9d\u8d56\u5206\u6210 dev, test, doc \u7b49\u4e09\u4e2a\u7ec4\uff0c\u8fd9\u6837\u4f9d\u8d56\u7684\u7c92\u5ea6\u66f4\u5c0f\u4e00\u4e9b\u3002\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5e94\u8be5\u540c\u65f6\u5b89\u88c5\u8fd9\u4e09\u7ec4\u4f9d\u8d56\u3002</p> <p><pre><code>pip install poetry\npoetry install -E doc -E test -E dev\ntox\n</code></pre> \u5728\u5b89\u88c5\u597d\u5f00\u53d1\u4f9d\u8d56\u4e4b\u540e\uff0c\u6211\u4eec\u7acb\u5373\u8fd0\u884c\u4e86<code>tox</code>\u547d\u4ee4\uff0c\u5bf9\u65b0\u751f\u6210\u7684\u6846\u67b6\u7a0b\u5e8f\u8fdb\u884c\u6d4b\u8bd5\u3002\u547d\u4ee4\u6700\u540e\u4f1a\u7ed9\u51fa\u4e00\u4e2a\u6d4b\u8bd5\u62a5\u544a\u548c lint report\u3002\u4e0d\u51fa\u610f\u5916\uff0c\u8fd9\u91cc\u4e0d\u5e94\u8be5\u6709\u4efb\u4f55\u9519\u8bef\uff08\u4f46\u53ef\u80fd\u4f1a\u6709\u91cd\u65b0\u683c\u5f0f\u5316\u7684\u8b66\u544a\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#35-github-repo","title":"3.5. \u521b\u5efa Github Repo","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u7ed3\u6784\u826f\u597d\u7684\u6846\u67b6\u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u7acb\u523b\u57fa\u4e8e\u5b83\u8fdb\u884c\u529f\u80fd\u5f00\u53d1\u3002\u4f46\u662f\uff0c\u4e00\u4e2a\u5b8c\u6574\u7684\u5f00\u53d1\u6d41\u7a0b\uff0c\u8fd8\u81f3\u5c11\u5305\u62ec\u4ee3\u7801\u7ba1\u7406\u3001CI \u548c\u53d1\u5e03\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u770b\u770b\u5e94\u8be5\u5982\u4f55\u5904\u7406\u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u6211\u4eec\u4f7f\u7528 github \u4f5c\u4e3a\u4ee3\u7801\u4ed3\u5e93\u3002\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 gitlab \u6216\u8005\u5176\u5b83\u7684\u4ee3\u7801\u4ed3\u5e93\u3002\u4f46\u662f\uff0cgithub \u662f\u4e00\u4e2a\u514d\u8d39\u7684\u670d\u52a1\uff0c\u4eba\u4eba\u90fd\u80fd\u4f7f\u7528\uff0c\u4e5f\u65e0\u987b\u5b89\u88c5\u8bbe\u7f6e\u3002\u56e0\u6b64\uff0c\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u90fd\u5c3d\u53ef\u80fd\u5730\u4f7f\u7528\u8fd9\u4e9b\u514d\u8d39\u670d\u52a1\u3002</p> <p>\u767b\u5f55\u5230 github, \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a sample \u7684 repo\uff08sample \u5373\u4e3a project_slug)\u3002\u7136\u540e\u5728\u672c\u673a\u8fdb\u5165 sample \u76ee\u5f55\uff0c\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>cd sample\n\n# GIT INIT\ngit add .\ngit commit -m \"Initial skeleton.\"\ngit branch -M main\ngit remote add origin git@github.com:myusername/sample.git\ngit push -u origin main\n</code></pre>"},{"location":"articles/python/best-practice-python/chap04/#36","title":"3.6. \u8fdb\u884c\u53d1\u5e03\u6d4b\u8bd5","text":"<p>\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5411 testpypi \u8fdb\u884c\u53d1\u5e03\u6765\u6d4b\u8bd5\u6784\u5efa\u8fc7\u7a0b\u3002\u5f53\u7136\uff0c\u60a8\u4e5f\u53ef\u4ee5\u6682\u65f6\u5ffd\u7565\u8fd9\u4e00\u6b65</p> <p>\u5173\u4e8e\u8fd9\u4e00\u6b65\uff0c\u8bf7\u53c2\u89c1 \u6587\u6863</p>"},{"location":"articles/python/best-practice-python/chap04/#37-github-ci","title":"3.7. \u8bbe\u7f6e Github CI","text":"<p>\u60a8\u4e5f\u53ef\u4ee5\u6682\u65f6\u5ffd\u7565\u8fd9\u4e00\u6b65\uff0c\u4f46\u662f\u5f3a\u70c8\u5efa\u8bae\u60a8\u5b8c\u6210\u5b83\u3002</p> <p>\u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\u4e2d\u5df2\u7ecf\u5305\u62ec\u4e86\u5fc5\u8981\u7684 CI \u6b65\u9aa4\uff0c\u5982\u8c03\u7528 tox \u8fdb\u884c\u6d4b\u8bd5\uff0c\u53d1\u5e03\u6587\u6863\u548c\u53d1\u884c\u5305\u3002\u4f46\u662f\u9700\u8981\u60a8\u914d\u7f6e\u4e00\u4e9b\u8d26\u6237\u3002\u60a8\u9700\u8981\u751f\u6210 github \u7684 personal token\uff0c\u5e76\u5728 repo &gt; settings &gt; secrets \u4e2d\uff0c\u65b0\u589e\u4e00\u4e2a\u540d\u4e3a<code>PESONAL_TOKEN</code>\u7684\u73af\u5883\u53d8\u91cf\uff0c\u5176\u503c\u8bbe\u7f6e\u4e3a\u60a8\u7684 token\u3002</p> <p>\u60a8\u9700\u8981\u5728 test pypi \u548c pypi \u4e0a\u7533\u8bf7\u90e8\u7f72\u7528 token\uff0c\u5e76\u8c61\u521a\u521a\u8bbe\u7f6e github token \u4e00\u6837\uff0c\u65b0\u589e<code>TEST_PYPI_API_TOKEN</code>\u548c<code>PYPI_API_TOKEN</code>\u8fd9\u4e24\u4e2a\u53d8\u91cf\u3002</p> <p>\u5f53\u60a8\u5b8c\u6210\u4e0a\u8ff0\u8bbe\u7f6e\u540e\uff0c\u4ee5\u540e\u6bcf\u6b21\u5c06\u4ee3\u7801\u63a8\u9001\u5230 github \u4e0a\u7684\u4efb\u4f55\u5206\u652f\uff0c\u90fd\u4f1a\u89e6\u53d1 CI\uff0c\u5e76\u5728\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u5411 testpypi \u8fdb\u884c\u53d1\u5e03\uff1b\u5f53 main \u5206\u652f\u7b7e\u5165\u4ee3\u7801\uff0c\u5e76\u4e14\u6253\u4e86 tag \u65f6\uff0c\u5219\u5728\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u81ea\u52a8\u5411 pypi \u8fdb\u884c\u53d1\u5e03\u3002</p> <p>Info</p> <p>\u4e3a\u4ec0\u4e48\u5411 github \u63a8\u9001\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u5c31\u4f1a\u89e6\u53d1 CI\uff0c\u5e76\u5411 testpypi \u8fdb\u884c\u53d1\u5e03\uff1f\u9b54\u6cd5\u5c31\u9690\u85cf\u5728.github \u76ee\u5f55\u4e0b\u3002\u6211\u4eec\u5c06\u5728\u8bb2\u8ff0 CI \u90a3\u4e00\u7ae0\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u4e9b\u9b54\u6cd5\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#38-codecov","title":"3.8. \u8bbe\u7f6e Codecov","text":"<p>CI \u5df2\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u53d1\u5e03 codecoverage report\uff0c\u4f46\u9700\u8981\u60a8\u5728 codecov<sup>8</sup> \u4e0a\u5bfc\u5165\u60a8\u7684 repo \u5e76\u6388\u6743\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#39-github-pages","title":"3.9. \u8bbe\u7f6e GitHub Pages","text":"<p>CI \u5df2\u8bbe\u7f6e\u4e3a\u81ea\u52a8\u53d1\u5e03\u6587\u6863\u5230 git pages\u3002\u4f46\u60a8\u9700\u8981\u5728\u60a8\u7684\u9879\u76ee\u4e2d\u542f\u7528\u5b83\u3002\u542f\u7528\u7684\u65b9\u6cd5\u662f\uff0c\u5728 repo &gt; settings &gt; pages \u4e2d\uff0c\u9009\u4e2d\u4ee5\u4e0b\u4e24\u9879\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap04/#310-github","title":"3.10. Github \u81ea\u52a8\u5316\u811a\u672c","text":"<p>\u5bf9\u521d\u6b21\u4f7f\u7528 github \u7684\u4eba\u6765\u8bf4\uff0c\u4ece\u521b\u5efa git \u4ed3\u5e93\u5f00\u59cb\u7684\u4e00\u4e9b\u64cd\u4f5c\u53ef\u80fd\u4f1a\u6bd4\u8f83\u56f0\u96be\uff1b\u5373\u4f7f\u662f\u5bf9\u719f\u7ec3\u4f7f\u7528 github \u7684\u4eba\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u4e5f\u4f1a\u6bd4\u8f83\u7e41\u7410\u6613\u9519\u3002\u56e0\u6b64\uff0c\u5728 python project wizard \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u90fd\u4f1a\u5b58\u5728\u4e00\u4e2a repo.sh \u811a\u672c\uff1a</p> <pre><code>#!/bin/bash\n\n# !!!NOTICE!!\n# Personal token with full access rights is required to run this scripts\n# Once you got persona token, set enviroment variable GH_TOKEN with it\n\n# Create repo and push code to github\ngh repo create {{cookiecutter.project_slug}} --public\ngit remote add origin git@github.com:{{cookiecutter.github_username}}/{{cookiecutter.project_slug}}.git\ngit add .\npre-commit run --all-files\ngit add .\ngit commit -m \"Initial commit by ppw\"\ngit branch -M main\n\n# Config github secret used by github workflow. \ngh secret set PERSONAL_TOKEN --body $GH_TOKEN\ngh secret set PYPI_API_TOKEN --body $PYPI_API_TOKEN\ngh secret set TEST_PYPI_API_TOKEN --body $TEST_PYPI_API_TOKEN\n\n# uncomment the following if you need to setup email notification\n# gh secret set BUILD_NOTIFY_MAIL_SERVER --body $BUILD_NOTIFY_MAIL_SERVER\n# gh secret set BUILD_NOTIFY_MAIL_PORT --body $BUILD_NOTIFY_MAIL_PORT\n# gh secret set BUILD_NOTIFY_MAIL_FROM --body $BUILD_NOTIFY_MAIL_FROM\n# gh secret set BUILD_NOTIFY_MAIL_PASSWORD --body $BUILD_NOTIFY_MAIL_PASSWORD\n# gh secret set BUILD_NOTIFY_MAIL_RCPT --body $BUILD_NOTIFY_MAIL_RCPT\n\ngit push -u origin main\n</code></pre> <p>\u8fd9\u4e2a\u811a\u672c\u5e2e\u52a9\u6211\u4eec\u5b8c\u6210\u8fd9\u4e9b\u4efb\u52a1\uff1a 1. \u521b\u5efagithub\u4ed3\u5e93\uff0c\u5e76\u5c06\u4ee3\u7801\u63a8\u9001\u5230github\u3002 2. \u5411github\u4ed3\u5e93\u6dfb\u52a0\u4e2a\u4ebatoken\uff08PERSONAL_TOKEN\uff09\u3001\u5411pypi\u53d1\u5e03\u65f6\u9700\u8981\u4f7f\u7528\u7684API token\uff0c\u4ee5\u53ca\u5411test pypi\u53d1\u5e03\u65f6\u9700\u8981\u4f7f\u7528\u7684API token\u3002</p> <ol> <li>\u6ce8\u518c\u90ae\u4ef6\u901a\u77e5\u3002\u5f53 github CI \u6267\u884c\u5b8c\u6210\u540e\uff0c\u65e0\u8bba\u662f\u6210\u529f\u8fd8\u662f\u5931\u8d25\uff0c\u90fd\u4f1a\u5411\u60a8\u6ce8\u518c\u7684\u90ae\u7bb1\u91cc\u53d1\u9001\u4e00\u5c01\u901a\u77e5\u90ae\u4ef6\u3002</li> </ol> <p>\u8981\u8fd0\u884c\u4e0a\u8ff0\u811a\u672c\uff0c\u60a8\u9700\u8981\u5b8c\u6210\u4e24\u4ef6\u4e8b\uff1a 1. \u5b89\u88c5 github cli \u5de5\u5177\u3002\u8bf7\u53c2\u8003 \u5b89\u88c5\u6307\u5357 2. \u7533\u8bf7\u4e00\u4e2a github \u7684\u4e2a\u4eba token\uff08\u5168\u90e8\u6743\u9650\uff09\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a token \u901a\u8fc7\u73af\u5883\u53d8\u91cf GH_TOKEN \u66b4\u9732\u7ed9\u811a\u672c\u3002\u53ea\u6709\u8fd9\u6837\uff0c\u811a\u672c\u624d\u80fd\u521b\u5efa github \u4ed3\u5e93\uff0c\u5e76\u8bbe\u7f6e\u5176\u5b83 token\u3002</p> <p>\u4e2a\u4ebatoken\u9700\u8981\u5728 Account &gt; Settings &gt; Developer Settings &gt; Personal Access Tokens\u8def\u5f84\u4e0b\u8fdb\u884c\u8bbe\u7f6e\uff1a</p> <p></p> <p>\u4e00\u65e6\u8bbe\u7f6e\u4e86\u8fd9\u4e2atoken\uff0c\u60a8\u53ef\u4ee5\u628a\u5b83\u52a0\u5165\u5230\u81ea\u5df1\u5f00\u53d1\u673a\u5668\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u7136\u540e\u5728\u4e0a\u9762\u7684\u811a\u672c\u4e2d\u5f15\u7528\u5b83\u3002\u6b64\u540e\uff0c\u5f53\u60a8\u521b\u5efa\u65b0\u7684\u9879\u76ee\u65f6\uff0c\u5c31\u53ef\u4ee5\u4e0d\u518d\u6253\u5f00github.com\u7f51\u9875\uff0c\u800c\u662f\u76f4\u63a5\u901a\u8fc7\u4e0a\u8ff0\u811a\u672c\u6765\u5b8c\u6210\u521b\u5efa\u65b0repo\u7684\u5de5\u4f5c\u3002</p>"},{"location":"articles/python/best-practice-python/chap04/#311-ppw","title":"3.11. ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868","text":"<p>\u73b0\u5728\uff0c\u4e00\u4e2a\u89c4\u8303\u7684\u65b0\u9879\u76ee\u5c31\u5df2\u7ecf\u521b\u5efa\u597d\uff0c\u60a8\u5df2\u7ecf\u62e5\u6709\u4e86\u5f88\u591a\u9177\u70ab\u7684\u529f\u80fd\uff0c\u6bd4\u5982 CI\uff0ccodecov, git pages\uff0cpoetry\uff0c\u57fa\u4e8e markdown \u7684\u6587\u6863\u7b49\u7b49\u3002\u8fd9\u4e2a\u65b0\u751f\u6210\u7684\u9879\u76ee\uff0c\u5e94\u8be5\u770b\u8d77\u6765\u8c61\u8fd9\u6837\uff1a <pre><code>.\n\u251c\u2500\u2500 .coveragerc\n\u251c\u2500\u2500 .docstring.tpl\n\u251c\u2500\u2500 .editorconfig\n\u251c\u2500\u2500 .flake8\n\u251c\u2500\u2500 .git\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 hooks\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 pre-commit\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 .github\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ISSUE_TEMPLATE.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 workflows\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 dev.yml\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 release.yml\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .isort.cfg\n\u251c\u2500\u2500 .pre-commit-config.yaml\n\u251c\u2500\u2500 AUTHORS.md\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 HISTORY.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 api.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 authors.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 history.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 usage.md\n\u251c\u2500\u2500 mkdocs.yml\n\u251c\u2500\u2500 poetry.lock\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 pyrightconfig.json\n\u251c\u2500\u2500 repo.sh\n\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 py.typed\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test_app.py\n\u2514\u2500\u2500 tox.ini\n</code></pre> \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5e26\u9886\u60a8\u6df1\u5165\u8fd9\u4e9b\u5de5\u5177\uff0c\u4e86\u89e3\u4e3a\u4ec0\u4e48\u5728\u4f17\u591a\u5de5\u5177\u4e2d\uff0c\u9009\u62e9\u4e86\u8fd9\u4e00\u79cd\uff0c\u5b83\u4eec\u53c8\u5e94\u8be5\u5982\u4f55\u914d\u7f6e\uff0c\u5982\u4f55\u4f7f\u7528\u7b49\u7b49\u3002</p> <ol> <li> <p>Kenneth Reitz \u5f00\u53d1\u7684 requests \u5e93\u975e\u5e38\u8457\u540d\u3002\u5728 Github \u4e0a\uff0c\u7528\u5173\u952e\u5b57 Python \u641c\u7d22\uff0c\u518d\u6309<code>stars</code>\u6570\u91cf\u6765\u6392\u540d\uff0c\u8be5\u5e93\u6392\u5728\u524d 10 \u540d\u3002\u00a0\u21a9</p> </li> <li> <p>coverage.py \u7684\u6587\u6863\u5728\u8fd9\u91cc\uff1ahttps://coverage.readthedocs.io\u00a0\u21a9</p> </li> <li> <p>https://cookiecutter.readthedocs.io\u00a0\u21a9</p> </li> <li> <p>https://github.com/audreyfeldroy/cookiecutter-pypackage\u00a0\u21a9</p> </li> <li> <p>https://palletsprojects.com/\u00a0\u21a9</p> </li> <li> <p>https://pre-commit.com/\u00a0\u21a9</p> </li> <li> <p>https://github.com/google/python-fire\u00a0\u21a9</p> </li> <li> <p>https://about.codecov.io/\u00a0\u21a9\u21a9</p> </li> </ol>"},{"location":"articles/python/best-practice-python/chap05/","title":"05 Poetry: \u9879\u76ee\u7ba1\u7406\u7684\u8bd7\u548c\u8fdc\u65b9","text":"<p>\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u901a\u8fc7 ppw \u751f\u6210\u4e86\u4e00\u4e2a\u89c4\u8303\u7684 python \u9879\u76ee\uff0c\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8bb8\u591a\u95fb\u6240\u672a\u95fb\u3001\u89c1\u6240\u672a\u89c1\u7684\u6982\u5ff5\u548c\u540d\u8bcd\u6251\u9762\u800c\u6765\uff0c\u4e0d\u514d\u8ba9\u4eba\u4e00\u65f6\u773c\u82b1\u7f2d\u4e71\uff0c\u76ee\u4e0d\u6687\u63a5\u3002\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u4ece\u5934\u8bb2\u8d77\uff0c\u53ef\u80fd\u8bfb\u8005\u4e5f\u65e0\u4ece\u7406\u89e3\uff0cppw \u4e3a\u4f55\u8981\u5e94\u7528\u8fd9\u4e9b\u6280\u672f\uff0c\u53c8\u5012\u5e95\u89e3\u51b3\u4e86\u54ea\u4e9b\u95ee\u9898\u3002</p> <p>\u5728 2021 \u5e74 3 \u6708\u7684\u67d0\u4e2a\u5b64\u72ec\u7684\u591c\u665a\uff0c\u6211\u51b3\u5b9a\u521b\u5efa\u4e00\u4e2a python \u9879\u76ee\u4ee5\u6253\u53d1\u65f6\u95f4\uff0c\u8fd9\u4e2a\u9879\u76ee\u6709\u4ee5\u4e0b\u6587\u4ef6\uff1a</p> <pre><code>\u251c\u2500\u2500 foo\n\u2502   \u251c\u2500\u2500 foo\n\u2502   \u2502   \u251c\u2500\u2500 bar\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 data.py\n\u2502   \u2514\u2500\u2500 README.md\n</code></pre> <p>\u5f53\u7136\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u6709\u4e86\u597d\u591a\u4e2a\u5176\u4ed6\u7684 python \u9879\u76ee\uff0c\u8fd9\u4e9b\u9879\u76ee\u5f80\u5f80\u4f7f\u7528\u4e0d\u540c\u7684 Python \u7248\u672c\uff0c\u5f7c\u6b64\u76f8\u4e92\u51b2\u7a81\u3002\u6240\u4ee5\uff0c\u4ece\u4e00\u5f00\u59cb\uff0c\u6211\u5c31\u51b3\u5b9a\u901a\u8fc7\u865a\u62df\u5f00\u53d1\u73af\u5883\u6765\u9694\u79bb\u8fd9\u4e9b\u4e0d\u540c\u7684\u5de5\u7a0b\u3002\u8fd9\u4e00\u6b21\u4e5f\u4e0d\u4f8b\u5916\uff1a\u6211\u901a\u8fc7 conda \u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a foo \u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u59cb\u7ec8\u5728\u8fd9\u4e2a\u73af\u5883\u4e0b\u5de5\u4f5c\u3002</p> <p>\u6211\u4eec\u7684\u7a0b\u5e8f\u5c06\u4f1a\u8bbf\u95ee postgres \u6570\u636e\u5e93\u91cc\u7684 users \u8868\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u90fd\u4f1a\u4f7f\u7528 SQLAlchemy \u6765\u8bbf\u95ee\u6570\u636e\u5e93\uff0c\u800c\u907f\u514d\u76f4\u63a5\u4f7f\u7528\u7279\u5b9a\u7684\u6570\u636e\u5e93\u9a71\u52a8\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u4e07\u4e00\u5c06\u6765\u6211\u4eec\u9700\u8981\u66f4\u6362\u6570\u636e\u5e93\uff0c\u90a3\u4e48\u8fd9\u79cd\u8fc1\u79fb\u5e26\u6765\u7684\u5de5\u4f5c\u91cf\u5c06\u8f7b\u677e\u4e0d\u5c11\u3002</p> <p>\u5728 2021 \u5e74 3 \u6708\uff0cpython \u7684\u5f02\u6b65 io \u5df2\u7ecf\u5927\u653e\u5f02\u5f69\u3002\u800c SQLAlchemy \u4f9d\u7136\u4e0d\u652f\u6301\u8fd9\u4e00\u6700\u65b0\u7279\u6027\uff0c\u8fd9\u4e0d\u514d\u8ba9\u4eba\u6709\u4e9b\u5931\u671b\u2014\u2014\u8fd9\u4f1a\u5bfc\u81f4\u5728\u8fdb\u884c\u6570\u636e\u5e93\u67e5\u8be2\u65f6\uff0cpython \u8fdb\u7a0b\u4f1a\u6b7b\u7b49\u6570\u636e\u5e93\u8fd4\u56de\u7ed3\u679c\uff0c\u4ece\u800c\u65e0\u6cd5\u6709\u6548\u5229\u7528 CPU \u65f6\u95f4\u3002\u597d\u5728\u6709\u4e00\u4e2a\u540d\u4e3a Gino \u7684\u9879\u76ee\u5f25\u8865\u4e86\u8fd9\u4e00\u7f3a\u9677\uff1a</p> <pre><code>$ pip install gino\n</code></pre> <p>Warning</p> <p>\u5728\u90a3\u4e2a\u5b64\u72ec\u7684\u591c\u665a\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5c06\u5b89\u88c5 gino 1.0 \u7248\u672c\u3002\u5982\u679c\u8bfb\u8005\u60f3\u8fd0\u884c\u8fd9\u91cc\u7684\u7a0b\u5e8f\uff0c\u8bf7\u5c06 gino \u7684\u7248\u672c\u6539\u4e3a 1.0.1\uff0c\u5373\u8fd0\u884c pip install gino==1.0.1</p> <p>\u505a\u5b8c\u8fd9\u4e00\u5207\u51c6\u5907\u5de5\u4f5c\uff0c\u5f00\u59cb\u7f16\u5199\u4ee3\u7801\uff0c\u5176\u4e2d data.py \u7684\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code># \u8fd0\u884c\u4ee5\u4e0b\u4ee3\u7801\u524d\uff0c\u8bf7\u786e\u4fdd\u672c\u5730\u5df2\u5b89\u88c5 POSTGRES \u6570\u636e\u5e93\uff0c\u5e76\u4e14\u521b\u5efa\u4e86\u540d\u4e3a GINO \u7684\u6570\u636e\u5e93\u3002\n\nimport asyncio\nfrom gino import Gino\n\ndb = Gino()\n\nclass User(db.Model):\n    __tablename__ = 'users'\n\n    id = db.Column(db.Integer(), primary_key=True)\n    nickname = db.Column(db.Unicode(), default='noname')\n\nasync def main():\n    # \u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\uff0c\u6dfb\u52a0\u7528\u6237\u540d\u548c\u5bc6\u7801\n    # \u793a\u4f8b\uff1aPOSTGRESQL://ZILLIONARE:123456@LOCALHOST/GINO\n    # \u5e76\u5728\u672c\u5730 POSTGRES \u6570\u636e\u5e93\u4e2d\uff0c\u521b\u5efa GINO \u6570\u636e\u5e93\u3002\n    await db.set_bind('postgresql://localhost/gino')\n    await db.gino.create_all()\n\n    # \u5176\u4ed6\u529f\u80fd\u4ee3\u7801\n\n    await db.pop_bind().close()\n\nasyncio.run(main())\n</code></pre></p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u4ee3\u7801\u6709\u6d01\u7656\u7684\u4eba\uff0c\u6211\u575a\u6301\u59cb\u7ec8\u4f7f\u7528<code>black</code>\u6765\u683c\u5f0f\u5316\u4ee3\u7801\uff1a <pre><code>$ pip install black\n$ black .\n</code></pre></p> <p>\u4e00\u5207 ok\uff0c\u73b0\u5728\u8fd0\u884c\u4e00\u4e0b\uff1a <pre><code>$ python foo/bar/data.py\n</code></pre> \u68c0\u67e5\u6570\u636e\u5e93\uff0c\u53d1\u73b0 users \u8868\u5df2\u7ecf\u521b\u5efa\u3002\u4e00\u5207\u6b63\u5e38\u3002</p> <p>\u6211\u5e0c\u671b\u8fd9\u4e2a\u7a0b\u5e8f\u5728 macos, windows \u548c linux \u7b49\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u90fd\u80fd\u8fd0\u884c\uff0c\u5e76\u4e14\u53ef\u4ee5\u8fd0\u884c\u5728\u4ece python 3.6 \u5230 3.9 \u7684\u6240\u6709\u7248\u672c\u4e0a\u3002</p> <p>\u8fd9\u91cc\u51fa\u73b0\u7b2c\u4e00\u4e2a\u95ee\u9898\u3002\u6211\u9700\u8981\u51c6\u5907 12 \u4e2a\u73af\u5883\uff1a\u4e09\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u6bcf\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4e0a 4 \u4e2a python \u7248\u672c\uff0c\u800c\u4e14\u8fd8\u8981\u8003\u8651\u5982\u4f55\u8fdb\u884c\"\u53ef\u590d\u73b0\u7684\u90e8\u7f72\"\u7684\u95ee\u9898\u3002\u5728\u901a\u8fc7 ppw \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u8fd9\u4e9b\u4ec5\u4ec5\u662f\u901a\u8fc7\u4fee\u6539 tox.ini \u548c.github\\dev.yaml \u4e2d\u76f8\u5173\u914d\u7f6e\u5c31\u53ef\u4ee5\u505a\u5230\u4e86\u3002\u4f46\u5728\u6ca1\u6709\u4f7f\u7528 ppw \u4e4b\u524d\uff0c\u6211\u53ea\u80fd\u8fd9\u4e48\u505a\uff1a</p> <p>\u5728\u4e09\u53f0\u5206\u522b\u5b89\u88c5\u6709 macos\uff0c windows \u548c linux \u7684\u673a\u5668\u4e0a\uff0c\u5206\u522b\u521b\u5efa python 3.6 \u5230 python 3.9 \u7684\u865a\u62df\u73af\u5883\uff0c\u7136\u540e\u5b89\u88c5\u76f8\u540c\u7684\u4f9d\u8d56\u3002\u9996\u5148\uff0c\u6211\u901a\u8fc7<code>pip freeze</code>\u628a\u5f00\u53d1\u673a\u5668\u4e0a\u7684\u4f9d\u8d56\u6293\u53d6\u51fa\u6765\uff1a</p> <pre><code>$ pip freeze &gt; requirements.txt\n</code></pre> <p>\u7136\u540e\u5728\u53e6\u4e00\u53f0\u673a\u5668\u4e0a\u7684\u51c6\u5907\u597d\u7684\u865a\u62df\u73af\u5883\u4e2d\uff0c\u8fd0\u884c\u5b89\u88c5\u547d\u4ee4\uff1a</p> <pre><code>$ pip install -r requirements.txt\n</code></pre> <p>\u8fd9\u91cc\u53c8\u51fa\u73b0\u4e86\u7b2c\u4e8c\u4e2a\u95ee\u9898\u3002<code>black</code>\u7eaf\u7cb9\u662f\u53ea\u7528\u4e8e\u5f00\u53d1\u76ee\u7684\uff0c\u4e3a\u4ec0\u4e48\u4e5f\u9700\u8981\u5728\u6d4b\u8bd5/\u90e8\u7f72\u73af\u5883\u4e0a\u5b89\u88c5\u5462\uff1f\u56e0\u6b64\uff0c\u5728\u5236\u4f5c<code>requirements.txt</code>\u4e4b\u524d\uff0c\u6211\u51b3\u5b9a\u5c06<code>black</code>\u5378\u8f7d\u6389\uff1a</p> <p><pre><code>$ pip uninstall -y black &amp;&amp; pip freeze &gt; requirements.txt\n</code></pre> \u7136\u800c\uff0c\u4ed4\u7ec6\u68c0\u67e5 requirements.txt \u4e4b\u540e\u53d1\u73b0\uff0c<code>black</code>\u662f\u88ab\u79fb\u9664\u4e86\uff0c\u4f46\u4ec5\u4ec5\u662f\u5b83\u81ea\u5df1\u3002\u5b83\u7684\u4e00\u4e9b\u4f9d\u8d56\uff0c\u6bd4\u5982<code>click</code>\uff0c <code>toml</code>\u7b49\u7b49\uff0c\u4ecd\u7136\u51fa\u73b0\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u3002</p> <p>Info</p> <p>\u8fd9\u91cc\u7684 click \u5c31\u662f\u6211\u4eec\u524d\u9762\u63d0\u5230\u7684 Pallets \u5f00\u53d1\u7684\u90a3\u4e2a click\u3002 black \u4f5c\u4e3a\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u5b83\u65e2\u53ef\u4ee5\u4f5c\u4e3a API \u88ab\u5176\u4ed6\u5de5\u5177\u8c03\u7528\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u72ec\u7acb\u5e94\u7528\uff0c\u901a\u8fc7\u547d\u4ee4\u884c\u6765\u8fd0\u884c\u3002black \u5c31\u4f7f\u7528\u4e86 click \u6765\u8fdb\u884c\u547d\u4ee4\u884c\u53c2\u6570\u7684\u89e3\u6790\u3002</p> <p>\u4e8e\u662f\uff0c\u6211\u4e0d\u5f97\u4e0d\u629b\u5f03 pip freeze \u8fd9\u79cd\u4f5c\u6cd5\uff0c\u53ea\u5728 requirements.txt \u4e2d\u52a0\u4e0a\u76f4\u63a5\u4f9d\u8d56\uff08\u5728\u8fd9\u91cc\uff0c black \u662f\u76f4\u63a5\u4f9d\u8d56\uff0c\u800c click \u662f\u95f4\u63a5\u4f9d\u8d56\uff0c\u7531 black \u5f15\u5165\uff09\uff0c\u5e76\u4e14\uff0c\u5c06\u8fd9\u4e2a\u6587\u4ef6\u4e00\u5206\u4e3a\u4e8c\uff0c\u5c06 black \u653e\u5728 requirements_dev.txt \u4e2d\u3002</p> <p><pre><code># REQUIREMENTS.TXT\ngino==1.0\n</code></pre> <pre><code># REQUIREMENTS_DEV.TXT\nblack==18.0\n</code></pre></p> <p>\u73b0\u5728\uff0c\u5728\u6d4b\u8bd5\u73af\u5883\u4e0b\uff0c\u6211\u4eec\u5c06\u53ea\u5b89\u88c5 requirements.txt \u4e2d\u7684\u90a3\u4e9b\u4f9d\u8d56\u3002\u4e0d\u51fa\u6240\u6599\uff0c\u9879\u76ee\u8fd0\u884c\u5f97\u5f88\u6d41\u7545\uff0c\u76ee\u6807\u8fbe\u6210\uff0c\u653e\u5fc3\u5730\u53bb\u7761\u89c9\u4e86\u3002\u4f46\u662f\uff0cgino \u8fd8\u4f9d\u8d56\u4e8e SQLAlchemy \u548c asyncpg\u3002\u540e\u4e8c\u8005\u88ab\u79f0\u4e3a\u4f20\u9012\u4f9d\u8d56\u3002\u6211\u4eec\u9501\u5b9a\u4e86 gino \u7684\u7248\u672c\uff0c\u4f46\u662f gino \u662f\u5426\u6b63\u786e\u9501\u5b9a\u4e86 SQLAlchemy \u548c asyncpg \u7684\u7248\u672c\u5462\uff1f\u8fd9\u4e00\u5207\u4ecd\u7136\u4e0d\u5f97\u800c\u77e5\u3002</p> <p>\u7b2c\u4e8c\u5929\u65e9\u6668\u9192\u6765\uff0cSQLAlchemy 1.4 \u7248\u672c\u53d1\u5e03\u4e86\u3002\u7a81\u7136\u5730\uff0c\u5f53\u6211\u518d\u5b89\u88c5\u65b0\u7684\u6d4b\u8bd5\u73af\u5883\u5e76\u8fdb\u884c\u6d4b\u8bd5\u65f6\uff0c\u7a0b\u5e8f\u62a5\u51fa\u4e86\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>Traceback (most recent call last):\n  File \"/Users/aaronyang/workspace/best-practice-python/code/05/foo/foo/bar/data.py\", line 3, in &lt;module&gt;\n    from gino import Gino\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/__init__.py\", line 2, in &lt;module&gt;\n    from .engine import GinoEngine, GinoConnection  # NOQA\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/engine.py\", line 181, in &lt;module&gt;\n    class GinoConnection:\n  File \"/Users/aaronyang/miniforge3/envs/bpp/lib/python3.9/site-packages/gino/engine.py\", line 211, in GinoConnection\n    schema_for_object = schema._schema_getter(None)\nAttributeError: module 'sqlalchemy.sql.schema' has no attribute '_schema_getter'\n</code></pre></p> <p>\u6211\u5dee\u4e0d\u591a\u82b1\u4e86\u6574\u6574\u4e24\u5929\u624d\u5f04\u660e\u767d\u53d1\u751f\u4e86\u4ec0\u4e48\u3002\u6211\u7684\u7a0b\u5e8f\u4f9d\u8d56\u4e8e gino, \u800c gino \u53c8\u4f9d\u8d56\u4e8e\u8457\u540d\u7684 SQLAlchemy\u3002gino 1.0 \u662f\u8fd9\u6837\u9501\u5b9a SQLAlchemy \u7684\u7248\u672c\u7684\uff1a <pre><code>$pip install gino==1.0\nLooking in indexes: https://pypi.jieyu.ai/simple, https://pypi.org/simple\nCollecting gino==1.0\n  Downloading gino-1.0.0-py3-none-any.whl (48 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 48 kB 129 kB/s \nCollecting SQLAlchemy&lt;2.0,&gt;=1.2\n  Downloading SQLAlchemy-1.4.0.tar.gz (8.5 MB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 8.5 MB 2.3 MB/s \n</code></pre></p> <p>Info</p> <p>\u4e0a\u8ff0\u6587\u672c\u662f\u5728 2021 \u5e74 3 \u6708\u5b89\u88c5 gino 1.0 \u65f6\u7684\u8f93\u51fa\u3002\u5982\u679c\u60a8\u73b0\u5728\u8fd0\u884c<code>pip install gino==1.0</code>\uff0c\u4f1a\u5b89\u88c5 SQLAlchemy 1.4.46 \u7248\u672c\uff0c\u8fd9\u662f\u5b83\u5728 1.x \u4e0b\u7684\u6700\u540e\u4e00\u4e2a\u7248\u672c\u3002</p> <p>\u4ece pip \u7684\u5b89\u88c5\u65e5\u5fd7\u53ef\u4ee5\u770b\u5230\uff0cgino \u58f0\u660e\u80fd\u63a5\u53d7\u7684 SQLAlchemy \u7684\u6700\u5c0f\u7248\u672c\u662f 1.2\uff0c\u6700\u5927\u7248\u672c\u5219\u662f\u4e0d\u5230 2.0\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u5b89\u88c5 gino 1.0 \u65f6\uff0c\u53ea\u8981 SQLAlchemy \u5b58\u5728\u8d85\u8fc7 1.2\uff0c\u4e14\u5c0f\u4e8e 2.0 \u7684\u6700\u65b0\u7248\u672c\uff0c\u5b83\u5c31\u4e00\u5b9a\u4f1a\u9009\u62e9\u5b89\u88c5\u8fd9\u4e2a\u6700\u65b0\u7248\u672c\uff0c\u6700\u7ec8\uff0cSQLAlchemy 1.4.0 \u88ab\u5b89\u88c5\u5230\u73af\u5883\u4e2d\u3002</p> <p>SQLAlchemy \u5728 2020 \u5e74\u4e5f\u610f\u8bc6\u5230\u4e86 asyncio \u7684\u91cd\u8981\u6027\uff0c\u5e76\u8ba1\u5212\u5728 1.4 \u7248\u672c\u65f6\u8f6c\u5411 asyncio\u3002\u7136\u800c\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u8c03\u7528\u63a5\u53e3\u5c31\u5fc5\u987b\u53d1\u751f\u6539\u53d8 -- \u4e5f\u5c31\u662f\uff0c\u4e4b\u524d\u4f9d\u8d56\u4e8e SQLAlchemy \u7684\u90a3\u4e9b\u7a0b\u5e8f\uff0c\u4e0d\u8fdb\u884c\u4fee\u6539\u662f\u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528 SQLAlchemy 1.4 \u7684\u30021.4.0 \u8fd9\u4e2a\u7248\u672c\u53d1\u5e03\u4e8e 2021 \u5e74 3 \u6708 16 \u65e5\u3002</p> <p>\u539f\u56e0\u627e\u5230\u4e86\uff0c\u6700\u7ec8\u95ee\u9898\u4e5f\u89e3\u51b3\u4e86\u3002\u6700\u7ec8\uff0c\u6211\u628a\u8fd9\u4e2a\u9519\u8bef\u62a5\u544a\u7ed9\u4e86 gino\uff0cgino \u7684\u5f00\u53d1\u8005\u627f\u62c5\u4e86\u8d23\u4efb\uff0c\u53d1\u5e03\u4e86 1.0.1\uff0c\u5c06 SQLAlchemy \u7684\u7248\u672c\u9501\u5b9a\u5728\"&gt;1.2,&lt;1.4\"\u8fd9\u4e2a\u8303\u56f4\u5185\u3002</p> <pre><code>pip install gino==1.0.1\nLooking in indexes: https://pypi.jieyu.ai/simple, https://pypi.org/simple\nCollecting gino==1.0.1\n  Using cached gino-1.0.1-py3-none-any.whl (49 kB)\nCollecting SQLAlchemy&lt;1.4,&gt;=1.2.16\n  Using cached SQLAlchemy-1.3.24-cp39-cp39-macosx_11_0_arm64.whl\n</code></pre> <p>\u5728\u8fd9\u4e2a\u6848\u4f8b\u4e2d\uff0c\u6211\u5e76\u6ca1\u6709\u8981\u6c42\u5347\u7ea7\u5e76\u4f7f\u7528 SQLAlchemy \u7684\u65b0\u529f\u80fd\uff0c\u56e0\u6b64\uff0c\u65b0\u7684\u5b89\u88c5\u672c\u4e0d\u5e94\u8be5\u53bb\u5347\u7ea7\u8fd9\u6837\u4e00\u4e2a\u7834\u574f\u6027\u7684\u7248\u672c\uff1b\u4f46\u662f\u5982\u679c SQLAlchemy \u51fa\u4e86\u65b0\u7684\u5b89\u5168\u66f4\u65b0\uff0c\u6216\u8005 bug \u4fee\u590d\uff0c\u663e\u7136\uff0c\u6211\u4eec\u4e5f\u5e0c\u671b\u6211\u4eec\u7684\u7a0b\u5e8f\u5728\u4e0d\u8fdb\u884c\u66f4\u65b0\u53d1\u5e03\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u80fd\u5bf9\u4f9d\u8d56\u8fdb\u884c\u66f4\u65b0\uff08\u5426\u5219\uff0c\u5982\u679c\u4efb\u4f55\u4e00\u4e2a\u4f9d\u8d56\u53d1\u5e03\u5b89\u5168\u66f4\u65b0\uff0c\u90fd\u5c06\u5bfc\u81f4\u4e3b\u7a0b\u5e8f\u4e0d\u5f97\u4e0d\u53d1\u5e03\u66f4\u65b0\u7684\u8bdd\uff0c\u8fd9\u79cd\u8026\u5408\u4e5f\u662f\u5f88\u96be\u63a5\u53d7\u7684\uff09\u3002\u56e0\u6b64\uff0c\u662f\u5426\u5b58\u5728\u4e00\u79cd\u673a\u5236\uff0c\u4f7f\u5f97\u6211\u4eec\u7684\u5e94\u7528\u5728\u6307\u5b9a\u76f4\u63a5\u4f9d\u8d56\u65f6\uff0c\u4e5f\u53ef\u4ee5\u6070\u5f53\u5730\u9501\u5b9a\u4f20\u9012\u4f9d\u8d56\u7684\u7248\u672c\uff0c\u5e76\u4e14\u5141\u8bb8\u4f20\u9012\u4f9d\u8d56\u8fdb\u884c\u5408\u7406\u7684\u66f4\u65b0\uff1f\u8fd9\u662f\u6211\u4eec\u8fd9\u4e2a\u6848\u4f8b\u63d0\u51fa\u6765\u7684\u7b2c\u4e09\u4e2a\u95ee\u9898\u3002</p> <p>\u73b0\u5728\uff0c\u4f3c\u4e4e\u662f\u6211\u4eec\u5c06\u4ea7\u54c1\u53d1\u5e03\u7684\u65f6\u5019\u4e86\u3002\u6211\u4eec\u770b\u5230\u5176\u4ed6\u4eba\u5f00\u53d1\u7684\u5f00\u6e90\u9879\u76ee\u53d1\u5e03\u5728 pypi \u4e0a\uff0c\u8fd9\u5f88\u9177\u3002\u6211\u4e5f\u5e0c\u671b\u6211\u7684\u7a0b\u5e8f\u80fd\u88ab\u5343\u767e\u4e07\u4eba\u4f7f\u7528\u3002\u8fd9\u5c31\u9700\u8981\u7f16\u5199 MANINFEST.in, setup.cfg, setup.py \u7b49\u6587\u4ef6\u3002</p> <p>MANIFEST.in \u7528\u6765\u544a\u8bc9 setup tools \u54ea\u4e9b\u989d\u5916\u7684\u6587\u4ef6\u5e94\u8be5\u88ab\u5305\u542b\u5728\u53d1\u884c\u5305\u91cc\uff0c\u4ee5\u53ca\u54ea\u4e9b\u6587\u4ef6\u5219\u5e94\u8be5\u88ab\u6392\u9664\u6389\u3002\u5f53\u7136\u5728\u6211\u4eec\u8fd9\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u4e2d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u662f\u53ef\u4ee5\u88ab\u5ffd\u7565\u7684\u3002</p> <p>setup.py \u4e2d\u9700\u8981\u6307\u660e\u4f9d\u8d56\u9879\u3001\u7248\u672c\u53f7\u7b49\u7b49\u4fe1\u606f\u3002\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u4f7f\u7528\u4e86 requirements.txt \u548c requirements_dev.txt \u6765\u7ba1\u7406\u4f9d\u8d56\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b\u5728 setup.py \u4e2d\u91cd\u590d\u6307\u5b9a -- \u6211\u4eec\u5e0c\u671b\u53ea\u66f4\u65b0 requirements.txt\uff0c\u5c31\u53ef\u4ee5\u81ea\u52a8\u66f4\u65b0 setup.py\uff1a</p> <p><pre><code>from setuptools import setup\n\nwith open('requirements.txt') as f:\n    install_requires = f.read().splitlines()\nwith open('requirements_dev.txt') as f:\n    extras_dev_requires = f.read().splitlines()\n\n# SETUP \u662f\u4e00\u4e2a\u6709\u7740\u5e9e\u5927\u53c2\u6570\u4f53\u7684\u51fd\u6570\uff0c\u8fd9\u91cc\u53ea\u663e\u793a\u4e86\u90e8\u5206\u76f8\u5173\u53c2\u6570\nsetup(\n    name='foo',\n    version='0.0.1',\n    install_requires=install_requires,\n    extras_require={'dev': extras_dev_requires},\n    packages=['foo'],\n)\n</code></pre> \u770b\u4e0a\u53bb\u8fd8\u7b97\u5b8c\u7f8e\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u6bcf\u4e00\u6b21\u53d1\u5e03\u65f6\uff0c\u8fd8\u4f1a\u6d89\u53ca\u4fee\u6539\u7248\u672c\u53f7\u7b49\u95ee\u9898\uff0c\u8fd9\u90fd\u662f\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\u3002\u800c\u4e14\uff0c\u5b83\u8fd8\u4e0d\u6d89\u53ca\u6253\u5305\u548c\u53d1\u5e03\u3002\u901a\u5e38\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u7f16\u5199\u4e00\u4e2a makefile\uff0c\u901a\u8fc7 makefile \u547d\u4ee4\u6765\u5b9e\u73b0\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u8fd9\u4e9b\u770b\u4e0a\u53bb\u90fd\u662f\u5f88\u5e38\u89c4\u7684\u64cd\u4f5c\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u5c06\u5b83\u81ea\u52a8\u5316\u5462\uff1f\u8fd9\u662f\u7b2c\u56db\u4e2a\u95ee\u9898\uff0c\u5373\u5982\u4f55\u7b80\u5316\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u8fd9\u56db\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u6211\u4eec\u8fd9\u4e00\u7ae0\u8981\u8ba8\u8bba\u7684\u4e3b\u9898\u3002\u6211\u4eec\u5c06\u4ee5 Poetry \u4e3a\u4e3b\u8981\u5de5\u5177\uff0c\u7ed3\u5408 semantic versioning \u6765\u4e32\u8d77\u8fd9\u4e00\u8bdd\u9898\u7684\u8ba8\u8bba\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#1-semantic-versioning","title":"1. SEMANTIC VERSIONING\uff08\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\uff09","text":"<p>\u5728\u8f6f\u4ef6\u5f00\u53d1\u9886\u57df\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u5bf9\u540c\u4e00\u8f6f\u4ef6\u8fdb\u884c\u4e0d\u65ad\u7684\u4fee\u8865\u548c\u66f4\u65b0\uff0c\u6bcf\u6b21\u66f4\u65b0\uff0c\u6211\u4eec\u90fd\u4fdd\u7559\u5927\u90e8\u5206\u539f\u6709\u7684\u4ee3\u7801\u548c\u529f\u80fd\uff0c\u4fee\u590d\u4e00\u4e9b\u6f0f\u6d1e\uff0c\u5f15\u5165\u4e00\u4e9b\u65b0\u7684\u6784\u4ef6\u3002</p> <p>\u6709\u4e00\u4e2a\u53e4\u8001\u7684\u601d\u60f3\u5b9e\u9a8c\uff0c\u88ab\u79f0\u4e4b\u4e3a\u5fd2\u4fee\u65af\u8239\uff08The Ship of Theseus\uff09\u95ee\u9898\uff0c\u5b83\u63cf\u8ff0\u7684\u6b63\u662f\u540c\u6837\u7684\u573a\u666f\uff1a</p> <p>\u5fd2\u4fee\u65af\u8239\u95ee\u9898\u6700\u65e9\u51fa\u81ea\u516c\u5143\u4e00\u4e16\u7eaa\u666e\u9c81\u5854\u514b\u7684\u8bb0\u8f7d\u3002\u5b83\u63cf\u8ff0\u7684\u662f\u4e00\u8258\u53ef\u4ee5\u5728\u6d77\u4e0a\u822a\u884c\u51e0\u767e\u5e74\u7684\u8239\uff0c\u53ea\u8981\u4e00\u5757\u6728\u677f\u8150\u70c2\u4e86\uff0c\u5b83\u5c31\u4f1a\u88ab\u66ff\u6362\u6389\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u6240\u6709\u7684\u529f\u80fd\u90e8\u4ef6\u90fd\u4e0d\u662f\u6700\u5f00\u59cb\u7684\u90a3\u4e9b\u4e86\u3002\u73b0\u5728\u7684\u95ee\u9898\u662f\uff0c\u6700\u540e\u7684\u8fd9\u8258\u8239\u662f\u539f\u6765\u7684\u90a3\u8258\u5fd2\u4fee\u65af\u4e4b\u8239\u5462\uff0c\u8fd8\u662f\u4e00\u8258\u5b8c\u5168\u4e0d\u540c\u7684\u8239\uff1f\u5982\u679c\u4e0d\u662f\u539f\u6765\u7684\u8239\uff0c\u90a3\u4e48\u4ece\u4ec0\u4e48\u65f6\u5019\u8d77\u5b83\u5c31\u4e0d\u518d\u662f\u539f\u6765\u7684\u8239\u4e86\uff1f</p> <p>\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\uff0c\u53d1\u751f\u5728\u5f88\u591a\u9886\u57df\u3002\u50cf IBM \u8fd9\u6837\u7684\u767e\u5e74\u8001\u5e97\uff0c\u4e0d\u4ec5 CEO \u6362\u4e86\u4e00\u4efb\u53c8\u4e00\u4efb\uff0c\u5c31\u8fde\u80a1\u6743\u4e5f\u5728\u4e0d\u505c\u5730\u53d8\u66f4\u3002\u53ef\u80fd\u5f88\u5c11\u4eba\u6709\u5728\u610f\uff0c\u4eca\u5929\u7684 IBM\uff0c\u8ddf\u767e\u5e74\u4e4b\u524d\u7684 IBM \u8fd8\u662f\u4e0d\u662f\u540c\u4e00\u5bb6 IBM\uff0c\u5c31\u50cf\u6211\u4eec\u5f88\u5c11\u5173\u6ce8\uff0c\u4eba\u7c7b\u662f\u4ece\u4ec0\u4e48\u65f6\u5019\u8d77\uff0c\u4e0d\u518d\u662f\u667a\u4eba\u4e00\u6837\u3002\u53c8\u6bd4\u5982\uff0c\u5982\u679c\u6709\u4e00\u5bb6\u521b\u4e1a\u516c\u53f8\uff0c\u5f53\u521d\u5438\u5f15\u4f60\u52a0\u5165\uff0c\u540e\u6765\u521b\u59cb\u4eba\u53d8\u73b0\u8d70\u4eba\u4e86\uff0c\u5c3d\u7ba1\u516c\u53f8\u540d\u5b57\u53ef\u80fd\u6ca1\u6362\uff0c\u4f46\u516c\u53f8\u65b0\u8fdb\u4e86\u7ba1\u7406\u5c42\u548c\u65b0\u540c\u5b66\uff0c\u4e1a\u52a1\u4e5f\u53ef\u80fd\u53d1\u751f\u4e86\u4e00\u4e9b\u53d8\u5316\u3002\u8fd9\u5bb6\u516c\u53f8\uff0c\u8fd8\u662f\u4f60\u5f53\u521d\u52a0\u5165\u7684\u516c\u53f8\u5417\uff1f\u4f60\u662f\u8981\u9009\u62e9\u6f47\u6d12\u7684\u79bb\u5f00\uff0c\u8fd8\u662f\u575a\u6301\u7559\u4e0b\u6765\uff1f</p> <p>\u5728\u8f6f\u4ef6\u5f00\u53d1\u9886\u57df\u4e2d\uff0c\u6211\u4eec\u66f4\u662f\u5e38\u5e38\u9047\u5230\u540c\u6837\u7684\u95ee\u9898\u3002\u6bcf\u9047\u5230\u4e00\u4e2a\u6f0f\u6d1e\uff08bug\uff09\uff0c\u6211\u4eec\u5c31\u66f4\u6362\u4e00\u5757\"\u6728\u677f\"\u3002\u968f\u7740\u8fd9\u79cd\u4fee\u8865\u548c\u66ff\u6362\u8d8a\u6765\u8d8a\u591a\uff0c\u8f6f\u4ef6\u4e5f\u5fc5\u7136\u51fa\u73b0\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\uff1a\u73b0\u5728\u7684\u8f6f\u4ef6\u8fd8\u662f\u4e0d\u662f\u5f53\u521d\u7684\u8f6f\u4ef6\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u5b83\u662f\u5728\u4ec0\u4e48\u65f6\u5019\u4e0d\u518d\u662f\u539f\u6765\u7684\u8f6f\u4ef6\u4e86\u5462\uff1f</p> <p>\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\u6709\u7740\u6df1\u523b\u7684\u54f2\u5b66\u5185\u6db5\u3002\u6211\u4eec\u5728\u8f6f\u4ef6\u9886\u57df\u4e2d\uff0c\u5c3d\u7ba1\u4e5f\u4f1a\u9047\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u4f46\u56de\u7b54\u5c31\u5bb9\u6613\u5f88\u591a\uff1a</p> <p>\u8f6f\u4ef6\u5e94\u8be5\u5982\u4f55\u5411\u5916\u754c\u8868\u660e\u5b83\u5df2\u53d1\u751f\u4e86\u5b9e\u8d28\u6027\u7684\u53d8\u5316\uff1b\u751f\u6001\u5185\u4f9d\u8d56\u4e8e\u8be5\u8f6f\u4ef6\u7684\u5176\u4ed6\u8f6f\u4ef6\uff0c\u53c8\u5e94\u8be5\u5982\u4f55\u8bc6\u522b\u8f6f\u4ef6\u7684\u8715\u53d8\u5462\uff1f</p> <p>\u4e3a\u4e86\u89e3\u51b3\u4e0a\u8ff0\u95ee\u9898\uff0cTom Preston-Werner\uff08Github \u7684\u5171\u540c\u521b\u59cb\u4eba\uff09\u63d0\u51fa Semantic versioning \u65b9\u6848\uff0c\u5373\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\u3002Semantic version \u8868\u793a\u6cd5\u63d0\u51fa\u7684\u521d\u8877\u662f\uff1a</p> <p>Quote</p> <p>\u5728\u8f6f\u4ef6\u7ba1\u7406\u7684\u9886\u57df\u91cc\u5b58\u5728\u7740\u88ab\u79f0\u4f5c\u201c\u4f9d\u8d56\u5730\u72f1\u201d\u7684\u6b7b\u4ea1\u4e4b\u8c37\uff0c\u7cfb\u7edf\u89c4\u6a21\u8d8a\u5927\uff0c\u52a0\u5165\u7684\u5305\u8d8a\u591a\uff0c\u4f60\u5c31\u8d8a\u6709\u53ef\u80fd\u5728\u672a\u6765\u7684\u67d0\u4e00\u5929\u53d1\u73b0\u81ea\u5df1\u5df2\u6df1\u9677\u7edd\u671b\u4e4b\u4e2d\u3002</p> <p>\u5728\u5f3a\u4f9d\u8d56\u7684\u7cfb\u7edf\u4e2d\u53d1\u5e03\u65b0\u7248\u672c\u5305\u53ef\u80fd\u5f88\u5feb\u4f1a\u6210\u4e3a\u5669\u68a6\u3002\u5982\u679c\u4f9d\u8d56\u5173\u7cfb\u8fc7\u5f3a\uff0c\u53ef\u80fd\u9762\u4e34\u7248\u672c\u63a7\u5236\u88ab\u9501\u6b7b\u7684\u98ce\u9669\uff08\u5fc5\u987b\u5bf9\u6bcf\u4e00\u4e2a\u4f9d\u8d56\u5305\u6539\u7248\u624d\u80fd\u5b8c\u6210\u67d0\u6b21\u5347\u7ea7\uff09\u3002\u800c\u5982\u679c\u4f9d\u8d56\u5173\u7cfb\u8fc7\u4e8e\u677e\u6563\uff0c\u53c8\u5c06\u65e0\u6cd5\u907f\u514d\u7248\u672c\u7684\u6df7\u4e71\uff08\u5047\u8bbe\u517c\u5bb9\u4e8e\u672a\u6765\u7684\u591a\u4e2a\u7248\u672c\u5df2\u8d85\u51fa\u4e86\u5408\u7406\u6570\u91cf\uff09\u3002\u5f53\u4f60\u4e13\u6848\u7684\u8fdb\u5c55\u56e0\u4e3a\u7248\u672c\u4f9d\u8d56\u88ab\u9501\u6b7b\u6216\u7248\u672c\u6df7\u4e71\u53d8\u5f97\u4e0d\u591f\u7b80\u4fbf\u548c\u53ef\u9760\uff0c\u5c31\u610f\u5473\u7740\u4f60\u6b63\u5904\u4e8e\u4f9d\u8d56\u5730\u72f1\u4e4b\u4e2d\u3002</p> <p>Semantic versioning \u7b80\u5355\u5730\u8bf4\uff0c\u5c31\u662f\u7528\u7248\u672c\u53f7\u7684\u53d8\u5316\u5411\u5916\u754c\u8868\u660e\u8f6f\u4ef6\u53d8\u66f4\u7684\u5267\u70c8\u7a0b\u5ea6\u3002\u8981\u7406\u89e3 Semantic versioning\uff0c\u6211\u4eec\u9996\u5148\u5f97\u4e86\u89e3\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u3002</p> <p>\u5f53\u6211\u4eec\u8bf4\u8d77\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u65f6\uff0c\u6211\u4eec\u901a\u5e38\u4f1a\u610f\u8bc6\u5230\uff0c\u8f6f\u4ef6\u7684\u7248\u672c\u53f7\u4e00\u822c\u7531\u4e3b\u7248\u672c\u53f7 (major)\uff0c\u6b21\u7248\u672c\u53f7 (minor)\uff0c\u4fee\u8ba2\u53f7 (patch) \u548c\u6784\u5efa\u7f16\u53f7 (build no.) \u56db\u90e8\u5206\u7ec4\u6210\u3002\u7531\u4e8e Python \u7a0b\u5e8f\u6ca1\u6709\u5176\u4ed6\u8bed\u8a00\u901a\u5e38\u610f\u4e49\u4e0a\u7684\u6784\u5efa\uff0c\u6240\u4ee5\uff0c\u5bf9 Python \u7a0b\u5e8f\u800c\u8a00\uff0c\u4e00\u822c\u53ea\u7528\u4e09\u6bb5\uff0c\u5373 major.minor.patch \u6765\u8868\u793a\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0a\uff0c\u51fa\u4e8e\u5185\u90e8\u5f00\u53d1\u7684\u9700\u8981\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u80fd\u7ed9 Python \u7a0b\u5e8f\u7684\u7248\u672c\u7528\u4e0a build no\uff0c\u7279\u522b\u662f\u5728 CI \u96c6\u6210\u4e2d\u3002\u5f53\u6211\u4eec\u5411\u4ed3\u5e93\u63a8\u9001\u4e00\u4e2a commit \u65f6\uff0cCI \u90fd\u9700\u8981\u8fdb\u884c\u4e00\u8f6e\u6784\u5efa\u548c\u81ea\u52a8\u9a8c\u8bc1\uff0c\u6b64\u65f6\u5e76\u4e0d\u4f1a\u4fee\u6539\u6b63\u5f0f\u7248\u672c\u53f7\uff0c\u56e0\u6b64\uff0c\u4e00\u822c\u503e\u5411\u4e8e\u4f7f\u7528\u6784\u5efa\u53f7\u6765\u533a\u5206\u4e0d\u540c\u7684 commit \u5bfc\u81f4\u7684\u7248\u672c\u4e0a\u7684\u4e0d\u540c\u3002\u5728 python project wizard \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5176 CI \u5c31\u5b9e\u73b0\u4e86\u8fd9\u4e2a\u903b\u8f91\u3002</p> <p>\u4e0a\u8ff0\u7248\u672c\u8868\u793a\u6cd5\u6ca1\u6709\u53cd\u6620\u51fa\u4efb\u4f55\u89c4\u5219\u3002\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\uff0c\u4f60\u7684\u8f6f\u4ef6\u5e94\u8be5\u5b9a\u4e49\u4e3a 0.x\uff0c\u4ec0\u4e48\u65f6\u5019\u53c8\u5e94\u8be5\u5b9a\u4e49\u4e3a 1.x\uff0c\u4ec0\u4e48\u65f6\u5019\u9012\u589e\u4e3b\u7248\u672c\u53f7\uff0c\u4ec0\u4e48\u65f6\u5019\u5219\u53ea\u9700\u8981\u9012\u589e\u4fee\u8ba2\u53f7\u5462\uff1f\u5982\u679c\u4e0d\u540c\u7684\u8f6f\u4ef6\u751f\u4ea7\u5546\u5bf9\u4ee5\u8fd9\u4e9b\u95ee\u9898\u6ca1\u6709\u5171\u8bc6\u7684\u8bdd\uff0c\u4f1a\u4ea7\u751f\u4ec0\u4e48\u95ee\u9898\u5417\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u968f\u610f\u5b9a\u4e49\u7248\u672c\u53f7\u5f15\u8d77\u7684\u95ee\u9898\u5f88\u591a\u3002\u5728\u524d\u9762\u6211\u4eec\u63d0\u5230\u8fc7 SQLAlchemy \u7684\u5347\u7ea7\u5bfc\u81f4\u8bb8\u591a Python \u8f6f\u4ef6\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c\u7684\u4f8b\u5b50\u3002\u5728\u8bb2\u8ff0\u90a3\u4e2a\u4f8b\u5b50\u65f6\uff0c\u6211\u6307\u51fa\uff0c\u662f gino \u7684\u5f00\u53d1\u8005\u627f\u62c5\u4e86\u8d23\u4efb\uff0c\u53d1\u884c\u4e86\u65b0\u7684 gino \u7248\u672c\uff0c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u8d23\u4efb\u7684\u6839\u6e90\u5728 SQLAlchemy \u7684\u5f00\u53d1\u8005\u90a3\u91cc\u3002</p> <p>\u4ece 1.3.x \u5230 1.4.x, \u51fa\u73b0\u4e86\u63a5\u53e3\u7684\u53d8\u66f4\uff0c\u8fd9\u662f\u4e00\u79cd\u7834\u574f\u6027\u7684\u66f4\u65b0\uff0c\u6b64\u65f6\uff0c\u65b0\u7684 1.4 \u5df2\u4e0d\u518d\u662f\u8fc7\u53bb\u7684\u5fd2\u4fee\u65af\u4e4b\u8239\u4e86\uff0c\u4f7f\u7528\u8005\u5982\u679c\u4e0d\u4fee\u6539\u4ed6\u4eec\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u5c31\u65e0\u6cd5\u4f7f\u7528 SQLAlchemy \u7684\u95ee\u9898\u3002gino \u7684\u5f00\u53d1\u8005\u8ba4\u4e3a\uff08\u8fd9\u4e5f\u662f\u7b26\u5408 semantic versioning \u601d\u60f3\u7684\uff09\uff0cSQLAlchemy \u4ece 1.2 \u5230 2.0 \u4e4b\u95f4\u7684\u7248\u672c\uff0c\u53ef\u4ee5\u589e\u52a0\u63a5\u53e3\uff0c\u589e\u5f3a\u6027\u80fd\uff0c\u4fee\u590d\u5b89\u5168\u6f0f\u6d1e\uff0c\u4f46\u4e0d\u5e94\u8be5\u53d8\u66f4\u63a5\u53e3\uff1b\u56e0\u6b64\uff0c\u5b83\u58f0\u660e\u4e3a\u4f9d\u8d56 SQLAlchemy \u5c0f\u4e8e 2.0 \u7684\u7248\u672c\u662f\u5b89\u5168\u7684\u3002\u4f46\u53ef\u60dc\u7684\u662f\uff0cSQLAlchemy \u5e76\u6ca1\u6709\u9075\u5faa\u8fd9\u4e2a\u7ea6\u5b9a\u3002</p> <p>Sematic versioning \u63d0\u8bae\u7528\u4e00\u7ec4\u7b80\u5355\u7684\u89c4\u5219\u53ca\u6761\u4ef6\u6765\u7ea6\u675f\u7248\u672c\u53f7\u7684\u914d\u7f6e\u548c\u589e\u957f\u3002\u9996\u5148\uff0c\u4f60\u89c4\u5212\u597d\u516c\u5171 API\uff0c\u5728\u6b64\u540e\u7684\u65b0\u7248\u672c\u53d1\u5e03\u4e2d\uff0c\u901a\u8fc7\u4fee\u6539\u76f8\u5e94\u7684\u7248\u672c\u53f7\u6765\u5411\u5927\u5bb6\u8bf4\u660e\u4f60\u7684\u4fee\u6539\u7684\u7279\u6027\u3002\u8003\u8651\u4f7f\u7528\u8fd9\u6837\u7684\u7248\u672c\u53f7\u683c\u5f0f\uff1aX.Y.Z \uff08\u4e3b\u7248\u672c\u53f7. \u6b21\u7248\u672c\u53f7. \u4fee\u8ba2\u53f7\uff09\uff1a\u4fee\u590d\u95ee\u9898\u4f46\u4e0d\u5f71\u54cd API \u65f6\uff0c\u9012\u589e\u4fee\u8ba2\u53f7\uff1bAPI \u4fdd\u6301\u5411\u4e0b\u517c\u5bb9\u7684\u65b0\u589e\u53ca\u4fee\u6539\u65f6\uff0c\u9012\u589e\u6b21\u7248\u672c\u53f7\uff1b\u8fdb\u884c\u4e0d\u5411\u4e0b\u517c\u5bb9\u7684\u4fee\u6539\u65f6\uff0c\u9012\u589e\u4e3b\u7248\u672c\u53f7\u3002</p> <p>\u6211\u4eec\u5728\u524d\u9762\u63d0\u5230\u8fc7 SQLAlchemy \u4ece 1.x \u5347\u7ea7\u5230 1.4 \u7684\u4f8b\u5b50\u3002\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u5f15\u5165\u4e86\u5f02\u6b65\u673a\u5236\uff0c\u8fd9\u662f\u4e2a\u4e0d\u80fd\u5411\u4e0b\u517c\u5bb9\u7684\u4fee\u6539\uff0c\u56e0\u6b64\uff0cSQLAlchemy \u672c\u5e94\u8be5\u542f\u7528 2.x \u7684\u5168\u65b0\u7248\u672c\u5e8f\u5217\u53f7\uff0c\u800c\u628a 1.4 \u7559\u4f5c 1.x \u7684\u540e\u7eed\u4fee\u8865\u53d1\u5e03\u7248\u672c\u53f7\u4f7f\u7528\u3002\u5982\u6b64\u4e00\u6765\uff0cSQLAlchemy \u7684\u4f7f\u7528\u8005\u5c31\u5f88\u5bb9\u6613\u660e\u767d\uff0c\u5982\u679c\u8981\u4f7f\u7528\u6700\u65b0\u7684 SQLAlchemy \u7248\u672c\uff0c\u5219\u5fc5\u987b\u5bf9\u4ed6\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u5b8c\u5168\u7684\u9002\u914d\u548c\u6d4b\u8bd5\uff0c\u800c\u4e0d\u80fd\u50cf\u4e4b\u524d\u7684\u5347\u7ea7\u4e00\u6837\uff0c\u7b80\u5355\u5730\u628a\u6700\u65b0\u7248\u672c\u5b89\u88c5\u4e0a\uff0c\u5c31\u4ecd\u7136\u671f\u671b\u5b83\u80fd\u50cf\u4e4b\u524d\u4e00\u6837\u5de5\u4f5c\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u4e00\u4e2a\u5b9a\u4e49\u4e86\u826f\u597d\u4f9d\u8d56\u5173\u7cfb\u7684\u8f6f\u4ef6\uff0c\u8fd8\u80fd\u81ea\u52a8\u4ece\u5347\u7ea7\u4e2d\u6392\u9664\u6389\u5347\u7ea7\u5230 SQLAlchemy 2.x\uff0c\u800c\u59cb\u7ec8\u53ea\u5728 1.x\uff0c\u751a\u81f3\u66f4\u5c0f\u7684\u8303\u56f4\u5185\u8fdb\u884c\u5347\u7ea7\u3002</p> <p>Info</p> <p>SQLAlchemy \u7684\u9519\u8bef\u5e76\u975e\u5b64\u4f8b\u3002\u4e00\u4e2a\u5f71\u54cd\u8303\u56f4\u66f4\u5e7f\u7684\u4f8b\u5b50\u6d89\u53ca\u5230 python \u7684 cryptography \u5e93\u3002\u8fd9\u662f\u4e00\u4e2a\u5e7f\u6cdb\u4f7f\u7528\u7684\u5bc6\u7801\u5b66\u76f8\u5173\u7684 python \u5e93\u3002\u4e3a\u4e86\u63d0\u5347\u6027\u80fd\uff0c\u8bb8\u591a\u4ee3\u7801\u6700\u521d\u662f\u4f7f\u7528 c \u5199\u7684\u3002\u6709\u4e00\u5929 cryptography \u7684\u4f5c\u8005\u610f\u8bc6\u5230\uff0c\u4f7f\u7528 c \u4f1a\u5b58\u5728\u5f88\u591a\u5b89\u5168\u95ee\u9898\uff0c\u800c\u5b89\u5168\u6027\u53c8\u662f cryptography \u7684\u6838\u5fc3\u3002\u4e8e\u662f\uff0c\u5728 2021 \u5e74 2 \u6708 8 \u65e5\u524d\u540e\uff0c\u4ed6\u4eec\u6539\u7528 rust \u6765\u8fdb\u884c\u5b9e\u73b0\u3002\u8fd9\u5bfc\u81f4\u5b89\u88c5 cryptography \u5e93\u7684\u4eba\uff0c\u5fc5\u987b\u5728\u672c\u673a\u4e0a\u6709 rust \u7684\u7f16\u8bd1\u5de5\u5177\u94fe -- \u4e8b\u5b9e\u662f\uff0crust \u4e0e c \u548c python \u76f8\u6bd4\uff0c\u8fd8\u662f\u76f8\u5f53\u5c0f\u4f17\u7684\uff0c\u5f88\u591a\u4eba\u7684\u673a\u5668\u4e0a\u663e\u7136\u4e0d\u4f1a\u6709\u8fd9\u5957\u5de5\u5177\u94fe\u3002</p> <p>\u9700\u8981\u6307\u51fa\u7684\u662f\uff0ccryptography \u6539\u7528 rust \u5b9e\u73b0\uff0c\u5e76\u6ca1\u6709\u6539\u53d8\u5b83\u7684 python \u63a5\u53e3\u3002\u76f8\u53cd\uff0c\u5176 python \u63a5\u53e3\u5b8c\u5168\u4fdd\u6301\u7740\u4e00\u81f4\u3002\u56e0\u6b64\uff0ccryptography \u7684\u4f5c\u8005\u4e5f\u65e2\u6ca1\u6709\u91cd\u547d\u540d cryptography\uff0c\u4e5f\u6ca1\u6709\u53d8\u66f4\u4e3b\u7248\u672c\u53f7\u3002</p> <p>\u4f46\u662f\u8fd9\u4e00\u5c0f\u5c0f\u7684\u6539\u52a8\uff0c\u4ecd\u7136\u6380\u8d77\u4e86\u8f69\u7136\u5927\u6ce2\u3002\u4e00\u591c\u4e4b\u95f4\uff0c\u5b83\u6467\u6bc1\u4e86\u65e0\u6570\u7684 CI \u7cfb\u7edf\uff0c\u65e0\u6570 docker \u955c\u50cf\u5fc5\u987b\u88ab\u91cd\u6784\uff0c\u62b1\u6028\u58f0\u5982\u6f6e\u6c34\u822c\u6d8c\u5411 cryptography \u7684\u4f5c\u8005\u3002\u5728\u77ed\u77ed\u51e0\u4e2a\u5c0f\u65f6\uff0c\u4ed6\u5c31\u6536\u5230\u4e86 100 \u6761\u6fc0\u70c8\u7684\u8bc4\u8bba\uff0c\u6700\u7ec8\u4ed6\u4e0d\u5f97\u4e0d\u5173\u6389\u4e86\u8fd9\u4e2a issue</p> <p>\u4e00\u4e2a\u6b63\u786e\u5730\u4f7f\u7528 semantic versioning \u7684\u4f8b\u5b50\u662f aioredis \u4ece 1.x \u5347\u7ea7\u5230 2.0\u3002\u5c3d\u7ba1 aioredis \u5347\u7ea7\u5230 2.0 \u65f6\uff0c\u5927\u591a\u6570 API \u5e76\u6ca1\u6709\u53d1\u751f\u6539\u53d8--\u53ea\u662f\u5728\u5185\u90e8\u8fdb\u884c\u4e86\u6027\u80fd\u589e\u5f3a\uff0c\u4f46\u5b83\u7684\u786e\u6539\u53d8\u4e86\u521d\u59cb\u5316 aioredis \u7684\u65b9\u5f0f\uff0c\u4ece\u800c\u4f7f\u5f97\u4f60\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e0d\u53ef\u80fd\u4e0d\u52a0\u4fee\u6539\u5c31\u76f4\u63a5\u66f4\u65b0\u5230 2.0 \u7248\u672c\u3002\u56e0\u6b64\uff0caioredis \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c06\u7248\u672c\u53f7\u66f4\u65b0\u4e3a 2.0 \u662f\u975e\u5e38\u6b63\u786e\u7684\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u7684 API \u53d1\u751f\u4e86\u53d8\u5316\uff08\u51fd\u6570\u7b7e\u540d\u53d1\u751f\u6539\u53d8\uff09\uff0c\u6216\u8005\u4f1a\u5bfc\u81f4\u65e7\u7248\u7684\u6570\u636e\u65e0\u6cd5\u7ee7\u7eed\u4f7f\u7528\uff0c\u4f60\u90fd\u5e94\u8be5\u8003\u8651\u4e3b\u7248\u672c\u53f7\u7684\u9012\u589e\u3002</p> <p>\u6b64\u5916\uff0c\u4ece 0.1 \u5230 1.0 \u4e4b\u524d\u7684\u6bcf\u4e00\u4e2a minor \u7248\u672c\uff0c\u90fd\u88ab\u8ba4\u4e3a\u5728 API \u4e0a\u662f\u4e0d\u7a33\u5b9a\u7684\uff0c\u90fd\u53ef\u80fd\u662f\u7834\u574f\u6027\u7684\u66f4\u65b0\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4f7f\u7528\u4e86\u8fd8\u672a\u5b9a\u578b\u5230 1.0 \u7248\u672c\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u4f60\u9700\u8981\u8c28\u614e\u5730\u58f0\u660e\u4f9d\u8d56\u5173\u7cfb\u3002\u800c\u6211\u4eec\u81ea\u5df1\u5982\u679c\u4f5c\u4e3a\u5f00\u53d1\u8005\uff0c\u5728\u8f6f\u4ef6\u529f\u80fd\u7a33\u5b9a\u4e0b\u6765\u4e4b\u524d\uff0c\u4e0d\u8981\u8f7b\u6613\u5730\u5c06\u7248\u672c\u53d1\u5e03\u4e3a 1.0\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#2-poetry","title":"2. POETRY\uff1a\u7b80\u6d01\u6e05\u6670\u7684\u9879\u76ee\u7ba1\u7406\u5de5\u5177","text":"<p>[Poetry] \u662f\u4e00\u4e2a\u4f9d\u8d56\u7ba1\u7406\u548c\u6253\u5305\u5de5\u5177\u3002Poetry \u7684\u4f5c\u8005\u89e3\u91ca\u5f00\u53d1 Poetry \u7684\u521d\u8877\u65f6\u8bf4\uff1a</p> <p>Quote</p> <p>Packaging systems and dependency management in Python are rather convoluted and hard to understand for newcomers. Even for seasoned developers it might be cumbersome at times to create all files needed in a Python project: setup.py, requirements.txt, setup.cfg, MANIFEST.in and the newly added Pipfile. So I wanted a tool that would limit everything to a single configuration file to do: dependency management, packaging and publishing.</p> <p>\u7ffb\u8bd1\uff1aPython \u7684\u6253\u5305\u7cfb\u7edf\u548c\u4f9d\u8d56\u7ba1\u7406\u76f8\u5f53\u590d\u6742\uff0c\u5bf9\u65b0\u4eba\u6765\u8bb2\u5c24\u5176\u8d39\u89e3\u3002\u8981\u6b63\u786e\u5730\u521b\u5efa Python \u9879\u76ee\u6240\u9700\u8981\u7684\u6587\u4ef6\uff1asetup.py, requirements.txt, setup.cfg, MANIFEST.in \u548c\u65b0\u52a0\u5165\u7684 Pipfile\uff0c\u6709\u65f6\u5019\u5373\u4f7f\u5bf9\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u8001\u624b\uff0c\u4e5f\u662f\u6709\u4e00\u4e9b\u56f0\u96be\u7684\u3002\u56e0\u6b64\uff0c\u6211\u5e0c\u671b\u521b\u5efa\u4e00\u79cd\u5de5\u5177\uff0c\u53ea\u7528\u4e00\u4e2a\u6587\u4ef6\u5c31\u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u3001\u6253\u5305\u548c\u53d1\u5e03\u3002</p> <p>\u901a\u8fc7\u524d\u9762\u7684\u6848\u4f8b\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u51fa\u4e86\u4e00\u4e9b\u95ee\u9898\u3002\u4f46\u4e0d\u6b62\u4e8e\u6b64\u3002</p> <p>\u5f53\u60a8\u5c06\u4f9d\u8d56\u52a0\u5165\u5230 requirements.txt \u65f6\uff0c\u6ca1\u6709\u4eba\u5e2e\u4f60\u786e\u5b9a\u5b83\u662f\u5426\u4e0e\u65e2\u5b58\u7684\u4f9d\u8d56\u80fd\u591f\u548c\u5e73\u5171\u5904\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u8981\u6bd4\u6211\u4eec\u60f3\u8c61\u7684\u590d\u6742\u8bb8\u591a\uff1a\u4e0d\u4ec5\u4ec5\u8981\u8003\u8651\u76f4\u63a5\u4f9d\u8d56\uff0c\u8fd8\u9700\u8981\u8003\u8651\u4f20\u9012\u4f9d\u8d56\u662f\u5426\u4e5f\u80fd\u5f7c\u6b64\u517c\u5bb9\uff1b\u6240\u4ee5\u4e00\u822c\u7684\u505a\u6cd5\u662f\uff0c\u5148\u5c06\u5b83\u4eec\u52a0\u8fdb\u6765\uff0c\u5b8c\u6210\u5f00\u53d1\u548c\u6d4b\u8bd5\uff0c\u5728\u6253\u5305\u4e4b\u524d\uff0c\u8fd0\u884c<code>pip freeze &gt; requirements.txt</code>\u6765\u9501\u5b9a\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u3002\u4f46\u6211\u4eec\u4e5f\u5728\u524d\u9762\u7684\u6848\u4f8b\u4e2d\u63d0\u5230\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u4f1a\u5c06\u4e0d\u5fc5\u8981\u7684\u5f00\u53d1\u4f9d\u8d56\u6253\u5165\u5230\u53d1\u884c\u7248\u4e2d\uff1b\u6b64\u5916\uff0c\u5b83\u4e5f\u4f1a\u8fc7\u5ea6\u9501\u5b9a\u7248\u672c\uff0c\u4ece\u800c\u4f7f\u5f97\u4e00\u4e9b\u6d3b\u8dc3\u7684\u7b2c\u4e09\u65b9\u5e93\u5931\u53bb\u81ea\u52a8\u66f4\u65b0\u70ed\u4fee\u590d\u548c\u5b89\u5168\u66f4\u65b0\u7684\u673a\u4f1a\u3002</p> <p>\u9879\u76ee\u7684\u7248\u672c\u7ba1\u7406\u4e5f\u662f\u4e00\u4e2a\u95ee\u9898\u3002\u5728\u8001\u65e7\u7684 Python \u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u6211\u4eec\u4f7f\u7528 bumpversion \u6765\u7ba1\u7406\u7248\u672c\uff0c\u5b83\u9700\u8981\u4f7f\u7528\u4e09\u4e2a\u6587\u4ef6\u3002\u5728\u6211\u7684\u65e5\u5e38\u4f7f\u7528\u65f6\uff0c\u5b83\u5e38\u5e38\u4f1a\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u6700\u5e38\u89c1\u7684\u662f\u5355\u53cc\u5f15\u53f7\u5bfc\u81f4\u628a<code>__version__=0.1</code>\u5f53\u6210\u4e00\u4e2a\u7248\u672c\u53f7\uff0c\u800c\u4e0d\u662f<code>0.1</code>\u3002\u8fd9\u6837\u6253\u51fa\u6765\u7684\u5305\u540d\u4e5f\u4f1a\u5947\u602a\u5730\u591a\u4e00\u4e2a\u65e0\u610f\u4e49\u7684 version \u5b57\u6837\u3002\u5355\u53cc\u5f15\u53f7\u6df7\u5408\u4f7f\u7528\u5219\u662f\u56e0\u4e3a\u4f60\u7684 format \u5de5\u5177\u5bf9\u5b57\u7b26\u4e32\u5e38\u91cf\u5e94\u8be5\u4f7f\u7528\u4ec0\u4e48\u6837\u7684\u5f15\u53f7\u89c4\u5219\u6709\u81ea\u5df1\u7684\u610f\u89c1\u3002</p> <p>\u9879\u76ee\u8fdb\u884c\u6253\u5305\u548c\u53d1\u5e03\u9700\u8981\u51c6\u5907\u592a\u591a\u7684\u6587\u4ef6\uff0c\u6b63\u5982 Poetry \u7684\u5f00\u53d1\u8005\u6240\u8bf4\uff0c\u8981\u786e\u4fdd\u8fd9\u4e9b\u6587\u4ef6\u7684\u5185\u5bb9\u5b8c\u5168\u6b63\u786e\uff0c\u5bf9\u4e00\u4e2a\u6709\u7ecf\u9a8c\u7684\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u4e5f\u4e0d\u662f\u8f7b\u800c\u6613\u4e3e\u7684\u4e8b\u3002</p> <p>Poetry \u89e3\u51b3\u4e86\u6240\u6709\u8fd9\u4e9b\u95ee\u9898\uff08\u9664\u4e86\u6848\u4f8b\u4e2d\u7684\u7b2c\u4e00\u4e2a\uff0c\u8be5\u95ee\u9898\u8981\u901a\u8fc7 tox \u548c CI \u6765\u89e3\u51b3\uff09\u3002\u5b83\u63d0\u4f9b\u4e86\u7248\u672c\u7ba1\u7406\u3001\u4f9d\u8d56\u89e3\u6790\u3001\u6784\u5efa\u548c\u53d1\u5e03\u7684\u4e00\u7ad9\u5f0f\u670d\u52a1\uff0c\u5e76\u5c06\u6240\u6709\u7684\u914d\u7f6e\uff0c\u96c6\u4e2d\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u5373 pyproject.toml\u3002\u6b64\u5916\uff0cPoetry \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u7a0b\u521b\u5efa\u5411\u5bfc\u3002\u4e0d\u8fc7\u8fd9\u4e2a\u5411\u5bfc\u7684\u529f\u80fd\u4ecd\u7136\u8fc7\u4e8e\u7b80\u5355\uff0c\u6211\u4eec\u7684\u63a8\u8350\u5219\u662f\u4f7f\u7528\u4e0a\u4e00\u7ae0\u4ecb\u7ecd\u7684 python project wizard\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0a Poetry \u8fd8\u4f1a\u7528\u5230\u53e6\u4e00\u4e2a\u6587\u4ef6\uff0c\u5373 poetry.lock\u3002\u8fd9\u4e2a\u6587\u4ef6\u5e76\u975e\u72ec\u7acb\u6587\u4ef6\uff0c\u800c\u662f Poetry \u6839\u636e pyproject.toml \u751f\u6210\u7684\u3001\u9501\u5b9a\u4e86\u4f9d\u8d56\u7248\u672c\u7684\u6700\u7ec8\u6587\u4ef6\u3002\u5b83\u7684\u4e3b\u8981\u4f5c\u7528\uff0c\u662f\u5728\u4e00\u7ec4\u5f00\u53d1\u8005\u4e4b\u95f4\uff0c\u5e2e\u52a9\u5176\u4ed6\u5f00\u53d1\u8005\u7701\u53bb\u4f9d\u8d56\u89e3\u6790\u7684\u65f6\u95f4\u3002 \u56e0\u6b64\uff0c\u5f53\u4f60\u901a\u8fc7 poetry \u5411\u9879\u76ee\u4e2d\u589e\u52a0\uff08\u6216\u8005\u79fb\u9664\uff09\u4e86\u65b0\u7684\u4f9d\u8d56\u65f6\uff0c\u8be5\u6587\u4ef6\u4f1a\u88ab\u66f4\u65b0\u3002\u60a8\u5e94\u8be5\u628a\u8be5\u6587\u4ef6\u4e5f\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\u3002\u4f46\u662f\uff0c\u8be5\u6587\u4ef6\u5e76\u4e0d\u4f1a\u53d1\u5e03\u7ed9\u6700\u7ec8\u7528\u6237\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u770b\u4e00\u773c sample \u9879\u76ee\u4e2d\u7684 pyproject.toml \u6587\u4ef6\uff1a</p> <p>pyproject.toml \u793a\u4f8b<pre><code>[tool]\n[tool.poetry]\nname = \"sample\"\nversion = \"0.1.0\"\nhomepage = \"https://github.com/zillionare/sample\"\ndescription = \"Skeleton project created by Python Project Wizard (ppw).\"\nauthors = [\"aaron yang &lt;aaron_yang@jieyu.ai&gt;\"]\nreadme = \"README.md\"\nlicense =  \"MIT\"\nclassifiers=[\n    'Development Status :: 2 - Pre-Alpha',\n    'Intended Audience :: Developers',\n    'License :: OSI Approved :: MIT License',\n    'Natural Language :: English',\n    'Programming Language :: Python :: 3',\n    'Programming Language :: Python :: 3.7',\n    'Programming Language :: Python :: 3.8',\n    'Programming Language :: Python :: 3.9',\n    'Programming Language :: Python :: 3.10',\n]\npackages = [\n    { include = \"sample\" },\n    { include = \"tests\", format = \"sdist\" },\n]\n\n[tool.poetry.dependencies]\npython = \"&gt;=3.7.1,&lt;4.0\"\nfire = \"0.4.0\"\n\nblack  = { version = \"^22.3.0\", optional = true}\nisort  = { version = \"5.10.1\", optional = true}\nflake8  = { version = \"4.0.1\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\npytest  = { version = \"^7.0.1\", optional = true}\npytest-cov  = { version = \"^3.0.0\", optional = true}\ntox  = { version = \"^3.24.5\", optional = true}\nvirtualenv  = { version = \"^20.13.1\", optional = true}\npip  = { version = \"^22.0.3\", optional = true}\nmkdocs  = { version = \"^1.2.3\", optional = true}\nmkdocs-include-markdown-plugin  = { version = \"^3.2.3\", optional = true}\nmkdocs-material  = { version = \"^8.1.11\", optional = true}\nmkdocstrings  = { version = \"^0.18.0\", optional = true}\nmkdocs-material-extensions  = { version = \"^1.0.3\", optional = true}\ntwine  = { version = \"^3.8.0\", optional = true}\nmkdocs-autorefs = {version = \"^0.3.1\", optional = true}\npre-commit = {version = \"^2.17.0\", optional = true}\ntoml = {version = \"^0.10.2\", optional = true}\nlivereload = {version = \"^2.6.3\", optional = true}\npyreadline = {version = \"^2.1\", optional = true}\nmike = { version=\"^1.1.2\", optional=true}\n\n[tool.poetry.extras]\ntest = [\n    \"pytest\",\n    \"black\",\n    \"isort\",\n    \"flake8\",\n    \"flake8-docstrings\",\n    \"pytest-cov\"\n    ]\n\ndev = [\"tox\", \"pre-commit\", \"virtualenv\", \"pip\", \"twine\", \"toml\"]\n\ndoc = [\n    \"mkdocs\",\n    \"mkdocs-include-markdown-plugin\",\n    \"mkdocs-material\",\n    \"mkdocstrings\",\n    \"mkdocs-material-extension\",\n    \"mkdocs-autorefs\",\n    \"mike\"\n    ]\n\n[tool.poetry.scripts]\nsample = 'sample.cli:main'\n\n[build-system]\nrequires = [\"poetry-core&gt;=1.0.0\"]\nbuild-backend = \"poetry.core.masonry.api\"\n\n[tool.black]\nline-length = 88\ninclude = '\\.pyi?$'\nexclude = '''\n/(\n    \\.eggs\n  | \\.git\n  | \\.hg\n  | \\.mypy_cache\n  | \\.tox\n  | \\.venv\n  | _build\n  | buck-out\n  | build\n  | dist\n)/\n'''\n[tool.isort]\nprofile = \"black\"\n</code></pre> \u6211\u4eec\u7b80\u5355\u5730\u89e3\u8bfb\u4e00\u4e0b\u8fd9\u4e2a\u6587\u4ef6\uff1a \u5728 [tool.poetry] \u90a3\u4e00\u8282\uff0c\u5b9a\u4e49\u4e86\u5305\u7684\u540d\u5b57\uff08\u8fd9\u91cc\u662f sample\uff09\u3001\u7248\u672c\u53f7\uff08\u8fd9\u91cc\u662f 0.1.0\uff09\u548c\u5176\u4ed6\u4e00\u4e9b\u5b57\u6bb5\uff0c\u6bd4\u5982 classifiers\uff0c\u8fd9\u662f\u6253\u5305\u548c\u53d1\u5e03\u65f6\u9700\u8981\u7684\u3002\u5982\u679c\u60a8\u719f\u6089 python setup tools\uff0c\u90a3\u4e48\u5bf9\u8fd9\u4e9b\u5b57\u6bb5\u5c06\u4e0d\u4f1a\u964c\u751f\u3002packages \u5b57\u6bb5\u6307\u660e\u4e86\u6253\u5305\u65f6\u9700\u8981\u5305\u542b\u7684\u6587\u4ef6\u3002\u5728\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u8981\u6c42\u5728\u4ee5.whl \u683c\u5f0f\u53d1\u5e03\u7684\u5305\u4e2d\uff0c\u5c06 sample \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u6253\u5305\u53d1\u5e03\uff1b\u800c\u4ee5 sdist \u683c\u5f0f\uff08\u5373.tar.gz) \u53d1\u5e03\u7684\u5305\u4e2d\uff0c\u8fd8\u8981\u5305\u542b tests \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <p>\u63a5\u4e0b\u6765\u662f [tool.poetry.dependencies] \u4e00\u8282\uff0c\u8fd9\u662f\u6211\u4eec\u58f0\u660e\u9879\u76ee\u4f9d\u8d56\u7684\u5730\u65b9\u3002\u9996\u5148\u662f\u9879\u76ee\u8981\u6c42\u7684 python \u7248\u672c\u58f0\u660e\u3002\u8fd9\u91cc\u6211\u4eec\u8981\u6c42\u5fc5\u987b\u5728 3.7.1 \u4ee5\u4e0a\uff0c4.0 \u4ee5\u4e0b\u7684 python \u73af\u5883\u4e2d\u8fd0\u884c\u3002\u56e0\u6b64\uff0cpython 3.7.1\uff0c3.8\uff0c 3.9\uff0c 3.10 \u90fd\u662f\u6070\u5f53\u7684 python \u7248\u672c\uff0c\u4f46 4.0 \u5219\u4e0d\u5141\u8bb8\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5de5\u7a0b\u4e2d\u9700\u8981\u7528\u5230\u7684\u5176\u4ed6\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff0c\u6709\u8fd0\u884c\u65f6\u7684\uff08\u5373\u5f53\u6700\u7ec8\u7528\u6237\u4f7f\u7528\u6211\u4eec\u7684\u7a0b\u5e8f\u65f6\uff0c\u5fc5\u987b\u5b89\u88c5\u7684\u90a3\u4e9b\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff09\uff0c\u4e5f\u6709\u5f00\u53d1\u65f6\u7684\uff08\u5373\u53ea\u5728\u5f00\u53d1\u548c\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u5230\u7684\uff0c\u6bd4\u5982\u6587\u6863\u5de5\u5177\u7c7b\u7684 mkdocs\uff0c\u6d4b\u8bd5\u7c7b\u7684 tox, pytest \u7b49\uff09\u3002</p> <p>\u6211\u4eec\u5bf9\u8fd0\u884c\u65f6\u548c\u5f00\u53d1\u65f6\u9700\u8981\u7684\u4f9d\u8d56\u8fdb\u884c\u4e86\u5206\u7ec4\u3002\u5bf9\u5f00\u53d1\u65f6\u9700\u8981\u7684\u4f9d\u8d56\uff0c\u6211\u4eec\u5206\u6210 dev, test \u548c doc \u4e09\u7ec4\uff0c\u901a\u8fc7 [tool.poetry.extras] \u4e2d\u8fdb\u884c\u5206\u7ec4\u58f0\u660e\u3002\u5bf9\u4e8e\u5f52\u5165\u5230 dev, test \u548c doc \u5206\u7ec4\u4e2d\u7684\u4f9d\u8d56\uff0c\u6211\u4eec\u5728 [tool.poetry.dependencies] \u4e2d\uff0c\u5c06\u5176\u58f0\u660e\u4e3a optional \u7684\uff0c\u8fd9\u6837\u5728\u5b89\u88c5\u6700\u7ec8\u5206\u53d1\u5305\u65f6\uff0c\u8fd9\u4e9b\u58f0\u660e\u4e3a optional \u7684\u7b2c\u4e09\u65b9\u4f9d\u8d56\u5c06\u4e0d\u4f1a\u5b89\u88c5\u5230\u7528\u6237\u73af\u5883\u4e2d\u3002</p> <p>\u518d\u63a5\u4e0b\u6765\uff0c[tool.poetry.scripts] \u58f0\u660e\u4e86\u4e00\u4e2a console script \u5165\u53e3\u3002Console script \u662f\u4e00\u79cd\u7279\u6b8a\u7684 Python \u811a\u672c\uff0c\u5b83\u4f7f\u5f97\u60a8\u53ef\u4ee5\u50cf\u8c03\u7528\u666e\u901a\u7684 shell \u547d\u4ee4\u4e00\u6837\u6765\u8c03\u7528\u8fd9\u4e2a\u811a\u672c\u3002 pyproject.toml<pre><code>[tool.poetry.scripts]\nsample = 'sample.cli:main'\n</code></pre></p> <p>Info</p> <p>\u80fd\u5236\u4f5c console script \u662f Python \u53e6\u4e00\u4e2a\u4f18\u52bf -- \u8fd9\u5728 Linux/Mac \u4e0a\u5c24\u5176\u660e\u663e\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u901a\u8fc7 Python \u5f80 shell \u4e2d\u589e\u52a0\u5404\u79cd\u547d\u4ee4\uff0c\u4f7f\u5f97\u5b83\u4eec\u8fd8\u53ef\u4ee5\u4e32\u884c\u8d77\u6765\u3002\u6b64\u5916\uff0c\u5982\u679c\u6211\u4eec\u901a\u8fc7 Python script \u6765\u63d0\u4f9b\u4e86\u670d\u52a1\uff0c\u6211\u4eec\u5c31\u5f88\u9700\u8981\u901a\u8fc7\u547d\u4ee4\u6765\u7ba1\u7406\u670d\u52a1\uff0c\u6bd4\u5982\u542f\u52a8\u3001\u505c\u6b62\u548c\u663e\u793a\u670d\u52a1\u72b6\u6001\u3002</p> <p>\u5f53 sample \u5305\u88ab\u5b89\u88c5\u540e\uff0c\u5c31\u5f80\u5b89\u88c5\u73af\u5883\u91cc\u6ce8\u5165\u4e86\u4e00\u4e2a\u540d\u4e3a<code>sample</code>\u7684 shell \u547d\u4ee4\u3002\u5b83\u53ef\u4ee5\u63a5\u53d7\u5404\u79cd\u53c2\u6570\uff0c\u6700\u7ec8\u5c06\u4ea4\u7ed9 sample\\cli.py \u4e2d\u7684 main \u51fd\u6570\u6765\u6267\u884c\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5173\u4e8e\u5982\u4f55\u6784\u5efa\u7684\u76f8\u5173\u6307\u793a\uff0c\u5728 [build-system] \u4e2d\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e2d\u53ea\u5305\u542b\u7eaf\u7cb9\u7684 Python \u4ee3\u7801\uff0c\u90a3\u4e48\u8fd9\u90e8\u5206\u53ef\u4e0d\u505a\u4efb\u4f55\u4fee\u6539\u3002\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u5305\u542b\u4e86\u4e00\u4e9b\u539f\u751f\u7684\u4ee3\u7801\uff08\u6bd4\u5982 c \u7684\uff09\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u81ea\u5df1\u5b9a\u4e49\u6784\u5efa\u811a\u672c\u3002</p> <p>\u5728\u793a\u4f8b\u4ee3\u7801\u4e2d\uff0c\u8fd8\u6709 [tool.black] \u548c [tool.isort] \u4e24\u4e2a\u5c0f\u8282\uff0c\u5206\u522b\u662f black\uff08\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff09\u548c isort\uff08\u5c06\u5bfc\u5165\u8fdb\u884c\u6392\u5e8f\u7684\u5de5\u5177\uff09\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5b83\u4eec\u662f\u5bf9 pyproject.toml \u7684\u6269\u5c55\uff0c\u5e76\u4e0d\u662f poetry \u6240\u8981\u6c42\u7684\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#21","title":"2.1. \u7248\u672c\u7ba1\u7406","text":"<p>poetry \u4e3a\u6211\u4eec\u7684 package \u63d0\u4f9b\u4e86\u57fa\u4e8e\u8bed\u4e49 (semantic version) \u7684\u7248\u672c\u7ba1\u7406\u529f\u80fd\u3002\u5b83\u901a\u8fc7<code>poetry version</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u8ba9\u6211\u4eec\u67e5\u770b package \u7684\u7248\u672c\uff0c\u5e76\u4e14\u5b9e\u73b0\u7248\u672c\u53f7\u7684\u5347\u7ea7\u3002</p> <p>\u5047\u8bbe\u60a8\u5df2\u7ecf\u4f7f\u7528 [python project wizard] \u751f\u6210\u4e86\u4e00\u4e2a\u5de5\u7a0b\u6846\u67b6\uff0c\u90a3\u4e48\u5e94\u8be5\u53ef\u4ee5\u5728\u6839\u76ee\u5f55\u4e0b\u627e\u5230 pyproject.toml \u6587\u4ef6\uff0c\u5176\u4e2d\u6709\u4e00\u9879\uff1a</p> <p><pre><code>version = 0.1\n</code></pre> \u5982\u679c\u60a8\u73b0\u5728\u8fd0\u884c<code>poetry version</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5c31\u4f1a\u663e\u793a<code>0.1</code>\u8fd9\u4e2a\u7248\u672c\u53f7\u3002</p> <p>Poetry \u4f7f\u7528\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c (semantic version) \u8868\u793a\u6cd5\u3002 </p> <p>\u5728 Poetry \u4e2d\uff0c\u5f53\u6211\u4eec\u9700\u8981\u4fee\u6539\u7248\u672c\u53f7\u65f6\uff0c\u5e76\u4e0d\u662f\u76f4\u63a5\u6307\u5b9a\u65b0\u7684\u7248\u672c\u53f7\uff0c\u800c\u662f\u901a\u8fc7<code>poetry version semver</code>\u6765\u4fee\u6539\u7248\u672c\u3002<code>semver</code>\u53ef\u4ee5\u662f<code>patch</code>, <code>minor</code>, <code>major</code>, <code>prepatch</code>, <code>preminor</code>, <code>premajor</code>\u548c <code>prerelease</code>\u4e2d\u7684\u4e00\u4e2a\u3002\u8fd9\u4e9b\u5173\u952e\u5b57\u5b9a\u4e49\u5728\u89c4\u8303 PEP 440 \u4e2d\u3002</p> <p>\u5c06<code>semver</code>\u4e0e\u60a8\u5f53\u524d\u7684\u7248\u672c\u53f7\u76f8\u7ed3\u5408\uff0c\u901a\u8fc7\u8fd0\u7b97\uff0c\u5c31\u5f97\u51fa\u4e86\u65b0\u7684\u7248\u672c\u53f7\uff1a</p> rule before after major 1.3.0 2.0.0 minor 2.1.4 2.2.0 patch 4.1.1 4.1.2 premajor 1.0.2 2.0.0-alpha.0 preminor 1.0.2 1.1.0-alpha.0 prepatch 1.0.2 1.0.3-alpha.0 prerelease 1.0.2 1.0.3-alpha.0 prerelease 1.0.3-alpha.0 1.0.3-alpha.1 prerelease 1.0.3-beta.0 1.0.3-beta.1 <p>\u53ef\u4ee5\u770b\u51fa\uff0cpoetry \u5bf9\u7248\u672c\u53f7\u7684\u7ba1\u7406\u662f\u5b8c\u5168\u7b26\u5408 semantic version \u7684\u8981\u6c42\u7684\u3002\u5f53\u4f60\u5b8c\u6210\u4e86\u4e00\u4e2a\u5c0f\u7684\u4fee\u8ba2\uff08\u6bd4\u5982\u4fee\u590d\u4e86\u4e00\u4e2a bug\uff0c\u6216\u8005\u589e\u5f3a\u4e86\u6027\u80fd\uff0c\u6216\u8005\u4fee\u590d\u4e86\u5b89\u5168\u6f0f\u6d1e\uff09\uff0c\u6b64\u65f6\u53ea\u5e94\u8be5\u9012\u589e package \u7684\u4fee\u8ba2\u53f7\uff0c\u5373 x.y.z \u4e2d\u7684'z'\uff0c\u8fd9\u65f6\u6211\u4eec\u5c31\u5e94\u8be5\u4f7f\u7528\u547d\u4ee4\uff1a <pre><code>$ poetry version patch\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u662f 0.1.0\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 0.1.1\u3002 \u5982\u679c\u6211\u4eec\u7684 package \u65b0\u589e\u52a0\u4e86\u4e00\u4e9b\u529f\u80fd\uff0c\u800c\u4e4b\u524d\u63d0\u4f9b\u7684\u529f\u80fd\uff08API\uff09\u90fd\u8fd8\u80fd\u4e0d\u52a0\u4fee\u6539\uff0c\u7ee7\u7eed\u4f7f\u7528\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u9012\u589e\u6b21\u7248\u672c\u53f7\uff0c\u5373 x.y.z \u4e2d\u7684'y'\u3002\u8fd9\u65f6\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u547d\u4ee4\uff1a <pre><code>$ poetry version minor\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u662f 0.1.1\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 0.2.0\u3002\u901a\u8fc7\u9012\u589e\u6b21\u7248\u672c\u53f7\uff0c\u6211\u4eec\u5c31\u5411\u4e16\u754c\u53d1\u51fa\u4e86\u9080\u8bf7\uff1a\u6211\u4eec\u53c8\u53d1\u5e03\u4e86\u4e00\u4e2a\u9177\u70ab\u7684\u65b0\u529f\u80fd\uff0c\u6765\u66f4\u65b0\u5427\uff01</p> <p>\u5982\u679c\u6211\u4eec\u7684 package \u8fdb\u884c\u4e86\u5927\u5e45\u7684\u4fee\u6539\uff0c\u5e76\u4e14\u4e4b\u524d\u63d0\u4f9b\u7684\u529f\u80fd\uff08API\uff09\u7684\u7b7e\u540d\u5df2\u7ecf\u53d8\u6389\uff0c\u4ece\u800c\u4f7f\u5f97\u8c03\u7528\u8005\u5fc5\u987b\u4fee\u6539\u4ed6\u4eec\u7684\u7a0b\u5e8f\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e9b API\uff0c\u53c8\u6216\u8005\u65b0\u7684\u7248\u672c\u4e0d\u518d\u80fd\u517c\u5bb9\u8001\u7248\u672c\u7684\u6570\u636e\u683c\u5f0f\uff0c\u7528\u6237\u5fc5\u987b\u5bf9\u6570\u636e\u8fdb\u884c\u989d\u5916\u7684\u8fc1\u79fb\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u8fd9\u662f\u4e00\u6b21\u7834\u574f\u6027\u7684\u66f4\u65b0\uff0c\u5fc5\u987b\u5347\u7ea7\u4e3b\u7248\u672c\u53f7\uff1a <pre><code>$ poetry version major\n</code></pre> \u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u53f7\u662f 0.3.1, \u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 1.0.0\uff1b\u5982\u679c\u4e4b\u524d\u7684\u7248\u672c\u53f7\u662f 1.2.1\uff0c\u90a3\u4e48\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u540e\uff0c\u7248\u672c\u53f7\u5c06\u53d8\u66f4\u4e3a 2.0.0\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cpoetry \u8fd8\u63d0\u4f9b\u4e86\u9884\u53d1\u5e03\u7248\u672c\u53f7\u7684\u652f\u6301\u3002\u6bd4\u5982\uff0c\u4e0a\u4e00\u4e2a\u53d1\u5e03\u7684\u7248\u672c\u662f 0.1.0\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u6b63\u5f0f\u53d1\u5e03 0.1.1 \u8fd9\u4e2a\u4fee\u8ba2\u4e4b\u524d\uff0c\u53ef\u4ee5\u4f7f\u7528 0.1.1.a0 \u8fd9\u4e2a\u7248\u672c\u53f7\uff1a <pre><code>$ poetry version prerelease\nBumping version from 0.1.0 to 0.1.1a0\n</code></pre> \u5982\u679c\u9700\u8981\u518d\u51fa\u4e00\u4e2a alpha \u7248\u672c\uff0c\u5219\u53ef\u4ee5\u518d\u6b21\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\uff1a <pre><code>$ poetry version prerelease\nBumping version from 0.1.1a0 to 0.1.1a1\n</code></pre> \u5982\u679c alpha \u7248\u672c\u5df2\u7ecf\u5b8c\u6210\uff0c\u53ef\u4ee5\u6b63\u5f0f\u53d1\u5e03\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a <pre><code>$ poetry version patch\nBumping version from 0.1.1a1 to 0.1.1\n</code></pre> poetry \u6682\u65f6\u8fd8\u6ca1\u6709\u63d0\u4f9b\u4ece alpha \u8f6c\u5230 beta \u7248\u672c\u7cfb\u5217\u7684\u547d\u4ee4\u3002\u5982\u679c\u6709\u6b64\u9700\u8981\uff0c\u60a8\u9700\u8981\u624b\u5de5\u7f16\u8f91 pyproject.toml \u6587\u4ef6\u3002</p> <p>\u9664\u4e86 poetry version prerelease \u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u6ce8\u610f\u5230\u4e0a\u9762\u5217\u51fa\u7684 premajor, preminor \u548c prepatch \u9009\u9879\u3002\u5b83\u4eec\u7684\u4f5c\u7528\u4e5f\u662f\u5c06\u7248\u672c\u53f7\u4fee\u6539\u4e3a alpha \u7248\u672c\u7cfb\u5217\uff0c\u4f46\u65e0\u8bba\u4f60\u8fd0\u884c\u591a\u5c11\u6b21\uff0c\u5b83\u4eec\u5e76\u4e0d\u4f1a\u50cf prerelease \u9009\u9879\u4e00\u6837\uff0c\u9012\u589e alpha \u7248\u672c\u53f7\u3002\u6240\u4ee5\u5728\u5b9e\u9645\u7684 alpha \u7248\u672c\u7ba1\u7406\u4e2d\uff0c\u4f3c\u4e4e\u53ea\u4f7f\u7528<code>poetry version prerelease</code>\u5c31\u53ef\u4ee5\u4e86\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#22","title":"2.2. \u4f9d\u8d56\u7ba1\u7406","text":"","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#221","title":"2.2.1. \u5b9e\u73b0\u4f9d\u8d56\u7ba1\u7406\u7684\u610f\u4e49","text":"<p>\u6211\u4eec\u5df2\u7ecf\u901a\u8fc7\u5927\u91cf\u7684\u4f8b\u5b50\u8bf4\u660e\u4e86\u4f9d\u8d56\u7ba1\u7406\u7684\u4f5c\u7528\u3002\u603b\u7ed3\u8d77\u6765\uff0c\u4f9d\u8d56\u7ba1\u7406\u4e0d\u4ec5\u8981\u68c0\u67e5\u9879\u76ee\u4e2d\u58f0\u660e\u7684\u76f4\u63a5\u4f9d\u8d56\u4e4b\u95f4\u7684\u51b2\u7a81\uff0c\u8fd8\u8981\u68c0\u67e5\u5b83\u4eec\u5404\u81ea\u7684\u4f20\u9012\u4f9d\u8d56\u4e4b\u95f4\u7684\u5f7c\u6b64\u517c\u5bb9\u6027\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#222-poetry","title":"2.2.2. Poetry \u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u7684\u76f8\u5173\u547d\u4ee4","text":"<p>\u5728 Poetry \u7ba1\u7406\u7684\u5de5\u7a0b\u4e2d\uff0c\u5f53\u6211\u4eec\u5411\u5de5\u7a0b\u4e2d\u52a0\u5165\uff08\u6216\u8005\u66f4\u65b0\uff09\u4f9d\u8d56\u65f6\uff0c\u603b\u662f\u4f7f\u7528<code>poetry add</code>\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a<code>poetry add pytest</code></p> <p>\u8fd9\u91cc\u53ef\u4ee5\u6307\u5b9a\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u6307\u5b9a\u7248\u672c\u53f7\u3002\u547d\u4ee4\u5728\u6267\u884c\u65f6\uff0c\u4f1a\u5bf9<code>pytest</code>\u6240\u4f9d\u8d56\u7684\u5e93\u8fdb\u884c\u89e3\u6790\uff0c\u76f4\u5230\u627e\u5230\u5408\u9002\u7684\u7248\u672c\u4e3a\u6b62\u3002\u5982\u679c\u60a8\u6307\u5b9a\u4e86\u7248\u672c\u53f7\uff0c\u8be5\u7248\u672c\u4e0e\u5de5\u7a0b\u91cc\u5df2\u6709\u7684\u5176\u4ed6\u5e93\u4e0d\u517c\u5bb9\u7684\u8bdd\uff0c\u547d\u4ee4\u5c06\u4f1a\u5931\u8d25\u3002</p> <p>\u6211\u4eec\u5728\u6dfb\u52a0\u4f9d\u8d56\u65f6\uff0c\u4e00\u822c\u8981\u6307\u5b9a\u8f83\u4e3a\u51c6\u786e\u7684\u7248\u672c\u53f7\uff0c\u754c\u5b9a\u4e0a\u4e0b\u754c\uff0c\u4ece\u800c\u907f\u514d\u610f\u5916\u5347\u7ea7\u5e26\u6765\u7684\u5404\u79cd\u98ce\u9669\u3002\u5728\u6307\u5b9a\u4f9d\u8d56\u5e93\u7684\u7248\u672c\u8303\u56f4\u65f6\uff0c\u6709\u4ee5\u4e0b\u5404\u79cd\u8bed\u6cd5\uff1a <pre><code>$ poetry add SQLAlchemy               # \u4f7f\u7528\u6700\u65b0\u7684\u7248\u672c\n</code></pre> \u4f7f\u7528\u901a\u914d\u7b26\u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528\u4efb\u610f\u7248\u672c\uff0c\u65e0\u6cd5\u9501\u5b9a\u4e0a\u754c\uff0c\u4e0d\u63a8\u8350\n$ poetry add SQLAlchemy=*    \n\n# \u4f7f\u7528&gt;=1.0.0, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy=1.*  \n</code></pre> \u4f7f\u7528\u63d2\u5b57\u7b26 (caret) \u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528&gt;=1.2.3, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy^1.2.3\n\n# \u4f7f\u7528&gt;=1.2.0, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy^1.2\n\n# \u4f7f\u7528&gt;=1.0.0, &lt;2.0.0 \u7684\u7248\u672c\n$ poetry add SQLAlchemy^1             \n</code></pre> \u4f7f\u7528\u6ce2\u6d6a\u7b26 (Tilde) \u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528&gt;=1.2.0,&lt;1.3 \u7684\u7248\u672c\n$ poetry add SQLAlchemy~1.2 \n\n# \u4f7f\u7528&gt;=1.2.3\uff0c&lt;1.3 \u7684\u7248\u672c\n$ poetry add SQLAlchemy~1.2.3         \n</code></pre> \u4f7f\u7528\u4e0d\u7b49\u5f0f\u8bed\u6cd5\uff08\u53ca\u591a\u4e2a\u4e0d\u7b49\u5f0f\uff09: <pre><code># \u4f7f\u7528&gt;=1.2,&lt;1.4 \u7684\u7248\u672c\n$ poetry add SQLAlchemy&gt;=1.2,&lt;1.4\n</code></pre> \u6700\u540e\uff0c\u7cbe\u786e\u5339\u914d\u8bed\u6cd5\uff1a <pre><code># \u4f7f\u7528 1.2.3 \u7248\u672c\n$ poetry add SQLAlchemy==1.2.3        \n</code></pre></p> <p>\u5982\u679c\u6709\u53ef\u80fd\uff0c\u6211\u4eec\u63a8\u8350\u603b\u662f\u4f7f\u7528\u6ce2\u6d6a\u7b26\u6216\u8005\u4e0d\u7b49\u5f0f\u8bed\u6cd5\u3002\u5b83\u4eec\u6709\u52a9\u4e8e\u5728\u53ef\u5347\u7ea7\u6027\u548c\u53ef\u5339\u914d\u6027\u4e0a\u53d6\u5f97\u8f83\u597d\u7684\u5e73\u8861\u3002\u6bd4\u5982\uff0c\u5982\u679c\u5728\u589e\u52a0\u5bf9 SQLAlchemy \u7684\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u4f7f\u7528\u4e86\u63d2\u5b57\u7b26\u8bed\u6cd5\uff0c\u5df2\u7ecf\u53d1\u884c\u51fa\u53bb\u7684\u5b89\u88c5\u5305\uff0c\u5219\u4f1a\u5728\u5b89\u88c5\u65f6\u81ea\u52a8\u91c7\u7528\u76f4\u5230 2.0.0 \u4e4b\u524d\u7684 SQLAlchemy \u7684\u6700\u65b0\u7248\u672c\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u7684\u5b89\u88c5\u5305\u662f\u5728 SQLAlchemy 1.4 \u4e4b\u524d\u88ab\u5b89\u88c5\uff0c\u6b64\u540e\u7528\u6237\u4e0d\u518d\u5347\u7ea7\uff0c\u5219\u5b83\u4eec\u5c06\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\uff1b\u800c\u5982\u679c\u662f\u5728 SQLAlchemy 1.4 \u53d1\u5e03\u4e4b\u540e\u88ab\u5b89\u88c5\uff0cpip \u5c06\u81ea\u52a8\u4f7f\u7528 1.4 \u53ca\u4ee5\u540e\u6700\u65b0\u7684 SQLAlchemy\uff0c\u4e8e\u662f \u8fd9\u4e2a\u8ddf\u4e4b\u524d\u7248\u672c\u4e0d\u517c\u5bb9\u7684 1.4 \u7248\u672c\u5c31\u88ab\u5b89\u88c5\u4e0a\u4e86\uff0c\u5bfc\u81f4\u4f60\u7684\u7a0b\u5e8f\u5d29\u6e83\uff1b\u9664\u975e\u53d1\u884c\u65b0\u7684\u5347\u7ea7\u5305\uff0c\u800c\u4f60\u5c06\u4e0d\u4f1a\u6709\u4efb\u4f55\u529e\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u3002</p> <p>\u8fd9\u4e5f\u770b\u51fa\u6765 SQLAlchemy \u7684\u53d1\u884c\u5e76\u4e0d\u7b26\u5408 Semantic \u7684\u6807\u51c6\u3002\u4e00\u65e6\u51fa\u73b0 API \u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\uff0c\u662f\u9700\u8981\u5bf9\u4e3b\u7248\u672c\u5347\u7ea7\u7684\u3002\u5982\u679c SQLAlchemy \u4e0d\u662f\u5c06\u7248\u672c\u5347\u7ea7\u5230 1.4\uff0c\u5219\u662f\u5347\u7ea7\u5230 2.0\uff0c\u5219\u4e0d\u4f1a\u5bfc\u81f4\u7a0b\u5e8f\u51fa\u73b0\u95ee\u9898\u3002</p> <p>\u59cb\u7ec8\u9075\u5faa\u793e\u533a\u89c4\u8303\u8fdb\u884c\u5f00\u53d1\uff0c\u8fd9\u662f\u6bcf\u4e00\u4e2a\u5f00\u6e90\u7a0b\u5e8f\u5f00\u53d1\u8005\u90fd\u5e94\u8be5\u91cd\u89c6\u7684\u95ee\u9898\u3002</p> <p>\u6307\u5b9a\u8fc7\u4e8e\u5177\u4f53\u7684\u7248\u672c\u4e5f\u4f1a\u6709\u5b83\u7684\u95ee\u9898\u3002\u5728\u5411\u5de5\u7a0b\u4e2d\u589e\u52a0\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u6307\u5b9a\u4e86\u5177\u4f53\u7684\u7248\u672c\uff0c\u6709\u53ef\u80fd\u56e0\u4e3a\u4f9d\u8d56\u51b2\u7a81\u7684\u539f\u56e0\uff0c\u65e0\u6cd5\u6307\u5b9a\u6210\u529f\u3002\u6b64\u65f6\u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u8f83\u5bbd\u6cdb\u4e00\u70b9\u7684\u7248\u672c\u8303\u56f4\uff0c\u5f85\u89e3\u6790\u6210\u529f\u548c\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u518d\u6539\u4e3a\u56fa\u5b9a\u7248\u672c\u3002\u53e6\u5916\uff0c\u5982\u679c\u8be5\u4f9d\u8d56\u53d1\u5e03\u4e86\u4e00\u4e2a\u7d27\u6025\u7684\u5b89\u5168\u66f4\u65b0\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u9012\u589e\u4fee\u8ba2\u53f7\u7684\u65b9\u5f0f\u6765\u9012\u589e\u7248\u672c\u3002\u4f7f\u7528\u6307\u5b9a\u7684\u7248\u672c\u53f7\u4f1a\u5bfc\u81f4\u4f60\u7684\u5e94\u7528\u65e0\u6cd5\u5feb\u901f\u83b7\u5f97\u6b64\u5b89\u5168\u66f4\u65b0\u3002</p> <p>\u5728\u4e0a\u4e00\u7ae0\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u5230\u4e86\u4f9d\u8d56\u5206\u7ec4\u3002\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4f1a\u4f9d\u8d56\u8bb8\u591a\u7b2c\u4e09\u65b9\u5e93\uff0c\u8fd9\u4e9b\u7b2c\u4e09\u65b9\u5e93\u4e2d\uff0c\u6709\u7684\u662f\u8fd0\u884c\u65f6\u4f9d\u8d56\uff0c\u56e0\u6b64\u5b83\u4eec\u5fc5\u987b\u968f\u6211\u4eec\u7684\u7a0b\u5e8f\u4e00\u540c\u88ab\u5206\u53d1\u5230\u7ec8\u7aef\u7528\u6237\u90a3\u91cc\uff1b\u6709\u7684\u5219\u53ea\u662f\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9700\u8981\uff0c\u6bd4\u5982\u50cf pytest\uff0cblack\uff0cmkdocs \u7b49\u7b49\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5\u5c06\u4f9d\u8d56\u8fdb\u884c\u5206\u7ec4\uff0c\u5e76\u4e14\u53ea\u5411\u7ec8\u7aef\u7528\u6237\u5206\u53d1\u5fc5\u8981\u7684\u4f9d\u8d56\u3002</p> <p>\u8fd9\u6837\u505a\u7684\u76ca\u5904\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u4e00\u65b9\u9762\uff0c\u4f9d\u8d56\u89e3\u6790\u5e76\u4e0d\u5bb9\u6613\uff0c\u4e00\u4e2a\u7a0b\u5e8f\u540c\u65f6\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u5e93\u8d8a\u591a\uff0c\u4f9d\u8d56\u89e3\u6790\u5c31\u8d8a\u56f0\u96be\uff0c\u8017\u65f6\u8d8a\u957f\uff0c\u4e5f\u8d8a\u5bb9\u6613\u5931\u8d25\uff1b\u53e6\u4e00\u65b9\u9762\uff0c\u6211\u4eec\u5411\u7ec8\u7aef\u7528\u6237\u7684\u73af\u5883\u91cc\u6ce8\u5165\u7684\u4f9d\u8d56\u8d8a\u591a\uff0c\u4ed6\u4eec\u7684\u73af\u5883\u4e2d\u5c31\u8d8a\u5bb9\u6613\u9047\u5230\u4f9d\u8d56\u51b2\u7a81\u95ee\u9898\u3002</p> <p>\u6700\u65b0\u7684 Python \u89c4\u8303\u5141\u8bb8\u4f60\u7684\u7a0b\u5e8f\u4f7f\u7528\u53d1\u884c\u4f9d\u8d56\uff08\u5728\u6700\u65b0\u7684 poetry \u7248\u672c\u4e2d\uff0c\u88ab\u5f52\u7c7b\u4e3a main \u4f9d\u8d56\uff09\u548c extra requirements\u3002\u5728\u4e0a\u4e00\u7ae0\u5411\u5bfc\u521b\u5efa\u7684\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u628a extra reuqirement \u5206\u4e3a\u4e86\u4e09\u4e2a\u7ec4\uff0c\u5373 dev, test, doc\u3002</p> <p><pre><code>[tool.poetry.dependencies]\nblack  = { version = \"20.8b1\", optional = true}\nisort  = { version = \"5.6.4\", optional = true}\nflake8  = { version = \"3.8.4\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\npytest  = { version = \"6.1.2\", optional = true}\npytest-cov  = { version = \"2.10.1\", optional = true}\ntox  = { version = \"^3.20.1\", optional = true}\nvirtualenv  = { version = \"^20.2.2\", optional = true}\npip  = { version = \"^20.3.1\", optional = true}\nmkdocs  = { version = \"^1.1.2\", optional = true}\nmkdocs-include-markdown-plugin  = { version = \"^1.0.0\", optional = true}\nmkdocs-material  = { version = \"^6.1.7\", optional = true}\nmkdocstrings  = { version = \"^0.13.6\", optional = true}\nmkdocs-material-extensions  = { version = \"^1.0.1\", optional = true}\ntwine  = { version = \"^3.3.0\", optional = true}\nmkdocs-autorefs = {version = \"0.1.1\", optional = true}\npre-commit = {version = \"^2.12.0\", optional = true}\ntoml = {version = \"^0.10.2\", optional = true}\n\n[tool.poetry.extras]\ntest = [\n    \"pytest\",\n    \"black\",\n    \"isort\",\n    \"flake8\",\n    \"flake8-docstrings\",\n    \"pytest-cov\"\uff0c\n    \"twine\"\n    ]\n\ndev = [\"tox\", \"pre-commit\", \"virtualenv\", \"pip\",  \"toml\"]\n\ndoc = [\n    \"mkdocs\",\n    \"mkdocs-include-markdown-plugin\",\n    \"mkdocs-material\",\n    \"mkdocstrings\",\n    \"mkdocs-material-extension\",\n    \"mkdocs-autorefs\"\n    ]\n</code></pre> \u8fd9\u91cc tox\uff0c pre-commit \u7b49\u662f\u6211\u4eec\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u7684\u5de5\u5177\uff1bpytest \u7b49\u662f\u6d4b\u8bd5\u65f6\u9700\u8981\u7684\u4f9d\u8d56\uff1b\u800c doc \u5219\u662f\u6784\u5efa\u6587\u6863\u65f6\u9700\u8981\u7684\u5de5\u5177\u3002\u901a\u8fc7\u8fd9\u6837\u5212\u5206\uff0c\u53ef\u4ee5\u4f7f CI \u6216\u8005\u6587\u6863\u6258\u7ba1\u5e73\u53f0\u53ea\u5b89\u88c5\u5fc5\u8981\u7684\u4f9d\u8d56\uff1b\u540c\u65f6\u4e5f\u5bb9\u6613\u8ba9\u5f00\u53d1\u8005\u5206\u6e05\u6bcf\u4e2a\u4f9d\u8d56\u7684\u5177\u4f53\u4f5c\u7528\u3002</p> <p>\u5f53\u4f60\u4f7f\u7528 poetry add \u547d\u4ee4\uff0c\u4e0d\u52a0\u4efb\u4f55\u9009\u9879\u65f6\uff0c\u8be5\u4f9d\u8d56\u5c06\u88ab\u6dfb\u52a0\u4e3a\u53d1\u884c\u4f9d\u8d56\uff08\u5728 1.3 \u4ee5\u4e0a\u7684 poetry \u4e2d\uff0c\u88ab\u5f52\u4e3a main \u7ec4\uff09\uff0c\u5373\u5b89\u88c5\u4f60\u7684\u5305\u7684\u6700\u7ec8\u7528\u6237\uff0c\u4ed6\u4eec\u4e5f\u5c06\u5b89\u88c5\u8be5\u4f9d\u8d56\u3002\u4f46\u6709\u4e00\u4e9b\u4f9d\u8d56\u53ea\u662f\u5f00\u53d1\u8005\u9700\u8981\uff0c\u6bd4\u5982\u50cf mkdocs\uff0c pytest \u7b49\uff0c\u5b83\u4eec\u4e0d\u5e94\u8be5\u88ab\u5206\u53d1\u5230\u6700\u7ec8\u7528\u6237\u90a3\u91cc\u3002</p> <p>\u5728 python project wizard \u5f00\u53d1\u65f6\uff0cpoetry \u8fd8\u53ea\u652f\u6301\u4e00\u4e2a dev \u5206\u7ec4\uff0c\u8fd9\u6837\u7684\u7c92\u5ea6\u5f53\u7136\u662f\u4e0d\u591f\u7684\uff0c\u56e0\u6b64\uff0cpython project wizard \u501f\u7528\u4e86 extras \u5b57\u6bb5\u6765\u5411\u9879\u76ee\u6dfb\u52a0\u53ef\u9009\u4f9d\u8d56\u5206\u7ec4\uff0c\u5176\u4ed6\u5de5\u5177\uff0c\u6bd4\u5982 tox \u4e5f\u652f\u6301\u8fd9\u6837\u7684\u8bed\u6cd5\u3002</p> <p>\u73b0\u5728\u6700\u65b0\u7684 poetry \u5df2\u7ecf\u5b8c\u5168\u652f\u6301\u5206\u7ec4\u6a21\u5f0f\uff0c\u5e76\u4e14\u4ece\u6587\u6863\u53ef\u4ee5\u770b\u51fa\uff0c\u5b83\u5efa\u8bae\u81f3\u5c11\u4f7f\u7528 main, docs \u548c test \u4e09\u4e2a\u5206\u7ec4\u3002\u540e\u7eed python project wizard \u751f\u6210\u7684\u9879\u76ee\u6846\u67b6\uff0c\u4e5f\u5c06\u5b8c\u5168\u4f7f\u7528\u6700\u65b0\u7684\u8bed\u6cd5\uff0c\u4f46\u4ecd\u7136\u4fdd\u7559\u56db\u4e2a\u5206\u7ec4\uff0c\u5373 main, dev, docs \u548c test\u3002</p> <p>\u901a\u8fc7 poetry \u5411\u9879\u76ee\u589e\u52a0\u5206\u7ec4\u53ca\u4f9d\u8d56\uff0c\u8bed\u6cd5\u662f\uff1a <pre><code>$ poetry add pytest --group test\n</code></pre> \u8fd9\u6837\uff0c\u751f\u6210\u7684 pyproject.toml \u7247\u6bb5\u5982\u4e0b\uff1a <pre><code>[tool.poetry.group.test.dependencies]\npytest = \"*\"\n</code></pre></p> <p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u5c06\u5176\u6307\u5b9a\u4e3a optional\u3002\u76ee\u524d\u6700\u65b0\u7248\u672c\u7684 poetry \u4ecd\u7136\u4e0d\u652f\u6301\u901a\u8fc7\u547d\u4ee4\u884c\u76f4\u63a5\u5c06 group \u6307\u5b9a\u4e3a optional\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u624b\u5de5\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <pre><code>[tool.poetry.group.test]\noptional = true\n</code></pre> <p>Info</p> <p>\u6ce8\u610f\uff0c\u901a\u8fc7\u4e0a\u8ff0\u547d\u4ee4\u751f\u6210\u7684 toml \u6587\u4ef6\u7684\u5185\u5bb9\u53ef\u80fd\u4e0e python project wizard \u5f53\u524d\u7248\u672c\u751f\u6210\u7684\u6709\u6240\u4e0d\u540c\u3002\u4f46 python project wizard \u7684\u672a\u6765\u7248\u672c\u6700\u7ec8\u5c06\u4f7f\u7528\u540c\u6837\u7684\u8bed\u6cd5\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#223-poetry","title":"2.2.3. poetry \u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u5728\u4e0a\u4e00\u8282\uff0c\u6211\u4eec\u7b80\u5355\u5730\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 poetry \u6765\u5411\u6211\u4eec\u7684\u9879\u76ee\u4e2d\u589e\u52a0\u4f9d\u8d56\u3002\u6211\u4eec\u5f3a\u8c03\u4e86\u4f9d\u8d56\u89e3\u6790\u7684\u56f0\u96be\uff0c\u4f46\u5e76\u6ca1\u6709\u89e3\u91ca poetry \u662f\u5982\u4f55\u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\u7684\uff0c\u5b83\u4f1a\u9047\u5230\u54ea\u4e9b\u56f0\u96be\uff0c\u53ef\u80fd\u906d\u9047\u4ec0\u4e48\u6837\u7684\u5931\u8d25\uff0c\u4ee5\u53ca\u5e94\u8be5\u5982\u4f55\u6392\u9519\u3002\u5bf9\u4e8e\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8fd9\u5f80\u5f80\u662f\u914d\u7f6e poetry \u9879\u76ee\u65f6\u6700\u56f0\u96be\u548c\u6700\u8017\u65f6\u95f4\u7684\u90e8\u5206\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5f80\u9879\u76ee\u4e2d\u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u4f9d\u8d56\uff0c\u901a\u5e38\u6211\u4eec\u4f7f\u7528<code>poetry add xxx</code>\u6765\u5f80\u9879\u76ee\u4e2d\u589e\u52a0\u4f9d\u8d56\u3002\u4e3a\u4e86\u4e00\u7aa5 poetry \u4f9d\u8d56\u89e3\u6790\u7684\u7a76\u7adf\uff0c\u8fd9\u6b21\u6211\u4eec\u52a0\u4e0a\u8be6\u7ec6\u4fe1\u606f\u8f93\u51fa\uff1a</p> <p><pre><code>$ poetry add gino -vvv\n</code></pre> \u8f93\u51fa\u4f1a\u5f88\u957f\u5f88\u957f\u3002\u6211\u4eec\u6458\u8981\u8bfb\u4e00\u4e0b\u8ddf gino \u76f8\u5173\u7684\u4e00\u4e9b\u89e3\u6790\u8fc7\u7a0b\uff1a</p> <p>\u9996\u5148\uff0cpoetry \u6ce8\u610f\u5230 sample 0.1.0 \u4f9d\u8d56\u5230 gino(&gt;=1.0.1, &lt; 2.0.0)\uff0c\u4ee5\u53ca\u5176\u4ed6\u4e00\u4e9b\u4f9d\u8d56\uff0c\u751f\u6210\u4e86\u7b2c\u4e00\u6b65\u7684\u89e3\u6790\u7ed3\u679c\uff1a <pre><code>   1: fact: sample is 0.1.0\n   1: derived: sample\n   1: selecting sample (0.1.0)\n   1: derived: gino (&gt;=1.0.1,&lt;2.0.0)\n   1: derived: mike (&gt;=1.1.2,&lt;2.0.0)\n    ...\n</code></pre></p> <p>\u63a5\u4e0b\u6765\uff0c\u4e0b\u8f7d gino\uff0c\u89e3\u6790\u51fa\u4e0b\u9762\u7684\u4f9d\u8d56\uff1a</p> <p><pre><code>1 packages found for gino &gt;=1.0.1,&lt;2.0.0\n   1: fact: gino (1.0.1) depends on SQLAlchemy (&gt;=1.2.16,&lt;1.4)\n   1: fact: gino (1.0.1) depends on asyncpg (&gt;=0.18,&lt;1.0)\n   1: selecting gino (1.0.1)\n   1: derived: asyncpg (&gt;=0.18,&lt;1.0)\n   1: derived: SQLAlchemy (&gt;=1.2.16,&lt;1.4)\n</code></pre> \u518d\u63a5\u4e0b\u6765\uff0c\u5b83\u627e\u5230 SQLAlchemy \u7684 29 \u4e2a\u7248\u672c\uff1a <pre><code>Source (ali): 14 packages found for asyncpg &gt;=0.18,&lt;1.0\nSource (ali): 29 packages found for sqlalchemy &gt;=1.2.16,&lt;1.4\n</code></pre> \u63a5\u4e0b\u6765\u6bd4\u8f83\u5e78\u8fd0\uff0c\u5f53 poetry \u67e5\u627e asyncpg \u548c SQLAlchemy \u7684\u4f20\u9012\u4f9d\u8d56\u65f6\uff0c\u6ca1\u6709\u53d1\u73b0\u5b83\u4eec\u6709\u66f4\u591a\u7684\u4f20\u9012\u4f9d\u8d56\uff0c\u89e3\u6790\u7ed3\u675f\u3002\u8fd9\u6837\uff0cpoetry \u5c31\u987a\u5229\u5730\u9009\u62e9\u4e86 29 \u4e2a\u7248\u672c\u4e2d\uff0c\u6700\u65b0\u7684\u4e00\u4e2a\uff0c\u5373 SQLAlchemy-1.3.24\u3002\u8fd9\u4e2a\u7248\u672c\u53c8\u6709 linux, windows \u548c mac \u7b49\u597d\u51e0\u4e2a\u5305\uff0cpoetry \u6700\u7ec8\u9009\u62e9\u8ddf\u5f53\u524d\u73af\u5883\u4e2d\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u4e00\u81f4\u3001python \u7248\u672c\u4e00\u81f4\u7684\u90a3\u4e2a\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u73b0\u5728\u8ba9\u6211\u4eec\u770b\u4e00\u770b poetry \u6700\u7ec8\u89e3\u6790\u51fa\u6765\u7684\u4f9d\u8d56\u6811\uff1a <pre><code>$ poetry show -t\nblack 22.12.0 The uncompromising code formatter.\n\u251c\u2500\u2500 click &gt;=8.0.0\n\u2502   \u251c\u2500\u2500 colorama * \n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 mypy-extensions &gt;=0.4.3\n\u251c\u2500\u2500 pathspec &gt;=0.9.0\n\u251c\u2500\u2500 platformdirs &gt;=2\n\u2502   \u2514\u2500\u2500 typing-extensions &gt;=4.4 \n\u251c\u2500\u2500 tomli &gt;=1.1.0\n\u251c\u2500\u2500 typed-ast &gt;=1.4.2\n\u2514\u2500\u2500 typing-extensions &gt;=3.10.0.0\ngino 1.0.1 GINO Is Not ORM - a Python asyncio ORM on SQLAlchemy core.\n\u251c\u2500\u2500 asyncpg &gt;=0.18,&lt;1.0\n\u2514\u2500\u2500 sqlalchemy &gt;=1.2.16,&lt;1.4\nmkdocs 1.2.4 Project documentation with Markdown.\n\u251c\u2500\u2500 click &gt;=3.3\n\u2502   \u251c\u2500\u2500 colorama * \n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 ghp-import &gt;=1.0\n\u2502   \u2514\u2500\u2500 python-dateutil &gt;=2.8.1 \n\u2502       \u2514\u2500\u2500 six &gt;=1.5 \n\u251c\u2500\u2500 importlib-metadata &gt;=3.10\n\u2502   \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502   \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 jinja2 &gt;=2.10.1\n\u2502   \u2514\u2500\u2500 markupsafe &gt;=2.0 \n\u251c\u2500\u2500 markdown &gt;=3.2.1\n\u2502   \u2514\u2500\u2500 importlib-metadata * \n\u2502       \u251c\u2500\u2500 typing-extensions &gt;=3.6.4 \n\u2502       \u2514\u2500\u2500 zipp &gt;=0.5 \n\u251c\u2500\u2500 mergedeep &gt;=1.3.4\n\u251c\u2500\u2500 packaging &gt;=20.5\n\u251c\u2500\u2500 pyyaml &gt;=3.10\n\u251c\u2500\u2500 pyyaml-env-tag &gt;=0.1\n\u2502   \u2514\u2500\u2500 pyyaml * \n\u2514\u2500\u2500 watchdog &gt;=2.0\n</code></pre> \u8fd9\u4e2a\u4f9d\u8d56\u6811\u5f88\u957f\uff0c\u8fd9\u91cc\u53ea\u622a\u53d6\u4e86\u4e00\u5c0f\u90e8\u5206\uff0c\u4f46\u5927\u81f4\u4e0a\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3 poetry \u7684\u5de5\u4f5c\u539f\u7406\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230<code>black</code>\u548c<code>mkdocs</code>\u90fd\u4f9d\u8d56\u4e86<code>click</code>\uff0c\u4f46<code>black</code>\u8981\u6c42\u66f4\u65b0\u5230 8.0 \u4ee5\u4e0a\uff0c\u800c<code>mkdocs</code>\u5219\u8ba4\u4e3a\u53ea\u8981\u662f 3.3 \u4ee5\u4e0a\u90fd\u53ef\u4ee5\u3002\u4e24\u8005\u7248\u672c\u8981\u6c42\u5dee\u8ddd\u5982\u6b64\u4e4b\u5927\uff0c\u4e5f\u4e0d\u514d\u8ba9\u4eba\u62c5\u5fc3\uff0c8.0 \u7684<code>click</code>\u4e0e 3.3 \u7684<code>click</code>\u8fd8\u4f1a\u662f\u540c\u4e00\u4e2a<code>click</code>\u5417\uff1f</p> <p>\u6700\u7ec8\uff0c\u5173\u4e8e gino \u548c SQLAlchemy\uff0cpoetry \u5b89\u88c5\u7684\u5206\u522b\u662f 1.0.1 \u548c 1.3.24\uff0c\u4f46\u662f\uff0c\u4e0a\u8ff0\u89e3\u6790\u6811\u8868\u660e\uff0c\u5982\u679c\u5b58\u5728 SQLAlchemy \u7684 1.3.25 \u7248\u672c\uff0c\u5b83\u662f\u53ef\u4ee5\u81ea\u52a8\u5347\u7ea7\u7684\u3002\u6211\u4eec\u8bb8\u7684\u613f\uff0cpoetry \u5e2e\u52a9\u5b9e\u73b0\u4e86\u3002</p> <p>\u751f\u6210\u8fd9\u68f5\u4f9d\u8d56\u6811\u53ef\u8981\u6bd4\u4f60\u60f3\u50cf\u7684\u56f0\u96be\u5f97\u591a\u3002\u9996\u5148\uff0cPyPI \u76ee\u524d\u8fd8\u6ca1\u6709\u7ed9\u51fa\u5b83\u4e0a\u9762\u7684\u67d0\u4e00\u4e2a package \u7684\u4f9d\u8d56\u6811\uff0c\u8fd9\u610f\u5473\u7740 poetry \u8981\u77e5\u9053<code>black</code>\u4f9d\u8d56\u54ea\u4e9b\u5e93\uff0c\u5b83\u5fc5\u987b\u5148\u628a<code>black</code>\u4e0b\u8f7d\u4e0b\u6765\uff0c\u6253\u5f00\u5b83\u5e76\u89e3\u6790\u624d\u80fd\u77e5\u9053\u3002\u7136\u540e\u5b83\u4ece<code>black</code>\u4e2d\u53d1\u73b0\u66f4\u591a\u7684\u4f9d\u8d56\uff0c\u8fd9\u5f80\u5f80\u5c31\u9700\u8981\u5b83\u628a\u8fd9\u4e9b\u4f9d\u8d56\u4e5f\u4e0b\u8f7d\u4e0b\u6765\uff0c\u4f9d\u6b21\u9012\u5f52\u4e0b\u53bb\u3002</p> <p>Info</p> <p>\u7c7b\u4f3c\u7684\u7cfb\u7edf\u5728\u5176\u4ed6\u8bed\u8a00\u4e2d\u5df2\u7ecf\u5b58\u5728\u4e86\u3002\u6bd4\u5982 Java \u6709 maven \u6765\u4fdd\u5b58\u5404\u4e2a\u5f00\u6e90\u5e93\u7684\u4f9d\u8d56\u6811\u3002\u5728\u4f9d\u8d56\u89e3\u6790\u65f6\uff0c\u5b83\u4e0d\u9700\u8981\u4e0b\u8f7d\u6574\u4e2a\u5305\uff0c\u800c\u53ea\u9700\u8981\u4e0b\u8f7d\u7d22\u5f15\u5c31\u53ef\u4ee5\u8fdb\u884c\u89e3\u6790\uff0c\u56e0\u6b64\u901f\u5ea6\u4f1a\u66f4\u5feb\u4e00\u4e9b\u3002</p> <p>\u66f4\u4e3a\u7cdf\u7cd5\u7684\u662f\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u67d0\u4e2a\u5e93\u7684\u597d\u51e0\u4e2a\u7248\u672c\u53ef\u80fd\u90fd\u9700\u8981\u4f9d\u6b21\u4e0b\u8f7d\u4e0b\u6765 -- \u56e0\u4e3a\u5b83\u4eec\u7684\u4f20\u9012\u4f9d\u8d56\u4e0d\u80fd\u517c\u5bb9\u3002\u6211\u8bb0\u5f97\u5728\u67d0\u6b21\u89e3\u6790\u4e2d\uff0cpoetry \u628a numpy \u7684\u7248\u672c\u4ece 1.2.x \u4e00\u76f4\u4e0b\u8f7d\u5230\u4e86 0.1\uff01\u6700\u7ec8\u8fd8\u662f\u5931\u8d25\u4e86\u3002</p> <p>\u6240\u4ee5\uff0c\u5982\u679c\u4f60\u5728\u6dfb\u52a0\u67d0\u4e2a\u4f9d\u8d56\u65f6\uff0c\u53d1\u73b0 poetry \u8017\u65f6\u8fc7\u957f\uff0c\u4e0d\u8981\u614c\u5f20\uff0c\u5f88\u591a\u4eba\u90fd\u6709\u4e0e\u4f60\u4e00\u6837\u7684\u7ecf\u5386\u3002\u8fd9\u79cd\u60c5\u51b5\u4e3b\u8981\u662f poetry \u65e0\u6cd5\u5feb\u901f\u9501\u5b9a\u67d0\u4e2a package \u7684\u6b63\u786e\u7248\u672c\uff0c\u4e0d\u5f97\u4e0d\u5411\u540e\u4e00\u4e2a\u4e2a\u7248\u672c\u641c\u7d22\u4e0b\u8f7d\u6240\u81f4\u3002\u6211\u4eec\u80fd\u505a\u7684\uff0c\u5c31\u662f\u52a0\u5feb poetry \u4e0b\u8f7d\u7684\u901f\u5ea6\u3002</p> <p>poetry \u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u662f\u4ece pypi.org \u4e0a\u4e0b\u8f7d package\u3002\u5982\u679c\u9047\u5230\u89e3\u6790\u901f\u5ea6\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4e34\u65f6\u6dfb\u52a0\u4e00\u4e2a\u6e90\uff1a <pre><code>poetry source add ali https://mirrors.aliyun.com/pypi/simple --default\n</code></pre> \u518d\u6b21\u8fd0\u884c<code>poetry add</code>\uff0c\u8fd9\u6b21\u4f60\u4f1a\u53d1\u73b0\u89e3\u6790\u901f\u5ea6\u5feb\u4e86\u5f88\u591a\u3002</p> <p>Info</p> <p>\u65e9\u671f poetry \u7684\u4f9d\u8d56\u89e3\u6790\u53ef\u4ee5\u6162\u5230 10 \u591a\u4e2a\u5c0f\u65f6\u90fd\u505a\u4e0d\u5b8c\u3002\u8fd9\u6709\u4e24\u65b9\u9762\u7684\u539f\u56e0\uff0c\u4e00\u662f\u65e9\u671f poetry \u7684\u4f9d\u8d56\u89e3\u6790\u8fd8\u6ca1\u6709\u542f\u7528\u591a\u7ebf\u7a0b\u4e0b\u8f7d\u4f18\u5316\uff1b\u4e8c\u662f\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0cpoetry \u9700\u8981\u628a\u67d0\u4e9b package \u5728 pypi \u4e0a\u6240\u6709\u7684\u7248\u672c\u5168\u90e8\u4e0b\u8f7d\u4e00\u6b21\uff0c\u624d\u80fd\u5f97\u51fa\u65e0\u6cd5\uff08\u6216\u8005\u53ef\u4ee5\uff09\u52a0\u5165\u8be5\u4f9d\u8d56\u7684\u7ed3\u8bba\u3002\u968f\u7740 python \u751f\u6001\u7684\u53d8\u5316\uff0c\u73b0\u5728\u8fd9\u79cd\u9700\u8981\u6570\u5c0f\u65f6\u7684\u4f9d\u8d56\u89e3\u6790\u7684\u65f6\u4ee3\u57fa\u672c\u7ed3\u675f\u4e86\u3002\u5728\u6dfb\u52a0\u56fd\u5185\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u6162\u7684\u65f6\u5019\u4e5f\u5f80\u5f80\u662f\u4e0d\u5230\u4e00\u523b\u949f\u5c31\u80fd\u5b8c\u6210\u89e3\u6790\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u6765\u79fb\u9664 gino\uff1a <pre><code>$ poetry remove gino\nUpdating dependencies\nResolving dependencies... (1.2s)\n\nWriting lock file\n\nPackage operations: 0 installs, 0 updates, 3 removals\n\n  \u2022 Removing asyncpg (0.27.0)\n  \u2022 Removing gino (1.0.1)\n  \u2022 Removing sqlalchemy (1.3.24)\n</code></pre></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u4e0d\u4ec5\u662f gino \u672c\u8eab\u88ab\u5378\u8f7d\uff0c\u5b83\u7684\u4f20\u9012\u4f9d\u8d56 -- asyncpg \u548c SQLAlchemy \u4e5f\u88ab\u79fb\u9664\u6389\u4e86\u3002\u8fd9\u662f pip \u505a\u4e0d\u5230\u7684\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#23","title":"2.3. \u865a\u62df\u8fd0\u884c\u65f6","text":"<p>Poetry \u81ea\u5df1\u7ba1\u7406\u7740\u865a\u62df\u8fd0\u884c\u65f6\u73af\u5883\u3002\u5f53\u4f60\u6267\u884c<code>poetry install</code>\u547d\u4ee4\u65f6\uff0cPoetry \u5c31\u4f1a\u5b89\u88c5\u4e00\u4e2a\u57fa\u4e8e venv \u7684\u865a\u62df\u73af\u5883\uff0c\u7136\u540e\u628a\u9879\u76ee\u4f9d\u8d56\u90fd\u5b89\u88c5\u5230\u8fd9\u4e2a\u865a\u62df\u7684\u8fd0\u884c\u73af\u5883\u4e2d\u53bb\u3002\u6b64\u540e\uff0c\u5f53\u4f60\u901a\u8fc7 poetry \u6765\u6267\u884c\u5176\u4ed6\u547d\u4ee4\u65f6\uff0c\u6bd4\u5982<code>poetry pytest</code>\uff0c\u4e5f\u4f1a\u5728\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\u6267\u884c\u3002\u53cd\u4e4b\uff0c\u5982\u679c\u4f60\u76f4\u63a5\u6267\u884c<code>pytest</code>\uff0c\u5219\u4f1a\u62a5\u544a\u4e00\u4e9b\u6a21\u5757\u65e0\u6cd5\u5bfc\u5165\uff0c\u56e0\u4e3a\u4f60\u7684\u5de5\u7a0b\u4f9d\u8d56\u5e76\u6ca1\u6709\u5b89\u88c5\u5728\u5f53\u524d\u7684\u73af\u5883\u4e0b\u3002</p> <p>\u6211\u4eec\u63a8\u8350\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u4f7f\u7528 conda \u6765\u521b\u5efa\u96c6\u4e2d\u5f0f\u7ba1\u7406\u7684\u8fd0\u884c\u65f6\u3002\u5728\u8c03\u8bd5 Python \u7a0b\u5e8f\u65f6\uff0c\u90fd\u8981\u4e8b\u5148\u7ed9 IDE \u6307\u5b9a\u89e3\u6790\u5668\uff0c\u8fd9\u91cc\u4f7f\u7528\u96c6\u4e2d\u5f0f\u7ba1\u7406\u7684\u8fd0\u884c\u65f6\uff0c\u53ef\u80fd\u66f4\u65b9\u4fbf\u4e00\u70b9\u3002Poetry \u4e5f\u5141\u8bb8\u8fd9\u79cd\u505a\u6cd5\u3002\u5f53 Poetry \u68c0\u6d4b\u5230\u5f53\u524d\u662f\u8fd0\u884c\u5728\u865a\u62df\u8fd0\u884c\u65f6\u73af\u5883\u4e0b\u65f6\uff0c\u5b83\u662f\u4e0d\u4f1a\u521b\u5efa\u65b0\u7684\u865a\u62df\u73af\u5883\u7684\u3002</p> <p>\u4f46\u662f Poetry \u7684\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u529f\u80fd\u4e5f\u662f\u6709\u7528\u7684\uff0c\u5728\u6784\u5efa\u6d4b\u8bd5\u73af\u5883\u65f6\uff0c\u901a\u8fc7 virtualenv/venv \u521b\u5efa\u865a\u62df\u73af\u5883\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#24","title":"2.4. \u6784\u5efa\u53d1\u884c\u5305","text":"","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#241-python","title":"2.4.1. Python \u6784\u5efa\u6807\u51c6\u548c\u5de5\u5177\u7684\u53d8\u5316","text":"<p>\u5728 poetry 1.0 \u53d1\u5e03\u4e4b\u524d\uff0c\u6253\u5305\u4e00\u4e2a python \u9879\u76ee\uff0c\u9700\u8981\u51c6\u5907 MANIFEST.in, setup.cfg, setup.py\uff0cmakefile \u7b49\u6587\u4ef6\u3002\u8fd9\u662f PyPA(python packaging authority) \u7684\u8981\u6c42\uff0c\u53ea\u6709\u9075\u5faa\u8fd9\u4e9b\u8981\u6c42\u6253\u51fa\u6765\u7684\u5305\uff0c\u624d\u53ef\u4ee5\u4e0a\u4f20\u5230 pypi.org\uff0c\u4ece\u800c\u5411\u5168\u4e16\u754c\u53d1\u5e03\u3002</p> <p>\u4f46\u662f\u8fd9\u4e00\u5957\u7cfb\u7edf\u4e5f\u6709\u4e0d\u5c11\u95ee\u9898\uff0c\u6bd4\u5982\u7f3a\u5c11\u6784\u5efa\u65f6\u4f9d\u8d56\u58f0\u660e\uff0c\u81ea\u52a8\u914d\u7f6e\uff0c\u7248\u672c\u7ba1\u7406\u3002\u56e0\u6b64\uff0cPEP 517 \u88ab\u63d0\u51fa\uff0c\u7136\u540e\u57fa\u4e8e PEP 517, PEP 518 \u7b49\u4e00\u7cfb\u5217\u65b0\u7684\u6807\u51c6\uff0cS\u00e9bastien Eustace \u5f00\u53d1\u4e86 poetry\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#242-poetry","title":"2.4.2. \u57fa\u4e8e Poetry \u8fdb\u884c\u53d1\u884c\u5305\u7684\u6784\u5efa","text":"<p>\u6211\u4eec\u901a\u8fc7\u8fd0\u884c<code>poetry build</code>\u6765\u6253\u5305\uff0c\u6253\u5305\u7684\u6587\u4ef6\u7ea6\u5b9a\u4fd7\u6210\u5730\u653e\u5728 dist \u76ee\u5f55\u4e0b\u3002</p> <p>poetry \u652f\u6301\u5411 pypi \u8fdb\u884c\u53d1\u5e03\uff0c\u5176\u547d\u4ee4\u662f<code>poetry publish</code>\u3002\u4e0d\u8fc7\uff0c\u5728\u8fd0\u884c\u8be5\u547d\u4ee4\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5bf9 poetry \u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u4e3b\u8981\u662f repo \u548c token\u3002</p> <p><pre><code># \u53d1\u5e03\u5230 TEST PYPI \u65f6\u7684\u914d\u7f6e\u548c\u547d\u4ee4\n$ poetry config repositories.testpypi https://test.pypi.org/legacy/\n$ poetry config testpypi-token.pypi my-token\n$ poetry publish -r testpypi\n\n# \u53d1\u5e03\u5230 PYPI \u65f6\u7684\u914d\u7f6e\u548c\u547d\u4ee4\n$ poetry config pypi-token.pypi my-token\n$ poetry publish\n</code></pre> \u4e0a\u9762\u7684\u547d\u4ee4\u5206\u522b\u5bf9\u53d1\u5e03\u5230 test pypi \u548c pypi \u8fdb\u884c\u4e86\u6f14\u793a\u3002\u9ed8\u8ba4\u5730 Poetry \u652f\u6301 PyPI \u53d1\u5e03\uff0c\u6240\u4ee5\u6709\u4e9b\u53c2\u6570\u5c31\u4e0d\u9700\u8981\u63d0\u4f9b\u4e86\u3002\u5f53\u7136\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u4e0d\u5e94\u8be5\u76f4\u63a5\u8fd0\u884c<code>poetry publish</code>\u547d\u4ee4\u6765\u53d1\u5e03\u7248\u672c\u3002\u7248\u672c\u7684\u53d1\u5e03\uff0c\u90fd\u5e94\u8be5\u901a\u8fc7 CI \u673a\u5236\u6765\u8fdb\u884c\u3002\u8fd9\u6837\u7684\u597d\u5904\u65f6\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u6bcf\u6b21\u53d1\u5e03\uff0c\u90fd\u7ecf\u8fc7\u4e86\u5b8c\u6574\u7684\u6d4b\u8bd5\uff0c\u5e76\u4e14\uff0c\u6784\u5efa\u73af\u5883\u662f\u59cb\u7ec8\u4e00\u81f4\u7684\uff0c\u4e0d\u4f1a\u51fa\u73b0\u56e0\u6784\u5efa\u73af\u5883\u4e0d\u4e00\u81f4\uff0c\u5bfc\u81f4\u6253\u51fa\u6765\u7684\u5305\u6709\u95ee\u9898\u7684\u60c5\u51b5\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#25-poetry","title":"2.5. \u5176\u4ed6\u91cd\u8981\u7684 Poetry \u547d\u4ee4","text":"<p>\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86 poetry add, poetry remove, poetry show, poetry build, poetry publish, poetry version \u7b49\u547d\u4ee4\u3002\u8fd8\u6709\u4e00\u4e9b\u547d\u4ee4\u4e5f\u503c\u5f97\u4ecb\u7ecd\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#251-poetry-lock","title":"2.5.1. poetry lock","text":"<p>\u8be5\u547d\u4ee4\u5c06\u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\uff0c\u9501\u5b9a\u6240\u6709\u7684\u4f9d\u8d56\u5230\u6700\u65b0\u7684\u517c\u5bb9\u7248\u672c\uff0c\u5e76\u5c06\u7ed3\u679c\u5199\u5165\u5230 poetry.lock \u6587\u4ef6\u4e2d\u3002\u901a\u5e38\uff0c\u8fd0\u884c poetry add \u65f6\u4e5f\u4f1a\u751f\u6210\u65b0\u7684\u9501\u5b9a\u6587\u4ef6\u3002</p> <p>\u5728\u5bf9\u4ee3\u7801\u6267\u884c\u6d4b\u8bd5\u3001CI \u6216\u8005\u53d1\u5e03\u4e4b\u524d\uff0c\u52a1\u5fc5\u8981\u786e\u4fdd poetry.lock \u5b58\u5728\uff0c\u5e76\u4e14\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u5e94\u8be5\u63d0\u4ea4\u5230\u4ee3\u7801\u4ed3\u5e93\u4e2d\uff0c\u8fd9\u6837\u6240\u6709\u7684\u6d4b\u8bd5\uff0cCI \u670d\u52a1\u5668\u53ca\u9879\u76ee\u7684\u6bcf\u4e00\u4e2a\u5f00\u53d1\u8005\u6784\u5efa\u7684\u73af\u5883\u624d\u4f1a\u662f\u5b8c\u5168\u4e00\u81f4\u7684\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#252-poetry-export","title":"2.5.2. poetry export","text":"<pre><code>$ poetry export -f requirements.txt --output requirements.txt\n</code></pre>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap05/#253-poetry-config","title":"2.5.3. poetry config","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 poetry config --list \u6765\u67e5\u770b\u5f53\u524d\u914d\u7f6e\u9879\uff1a <pre><code>cache-dir = \"/path/to/cache/directory\"\nvirtualenvs.create = true\nvirtualenvs.in-project = null\nvirtualenvs.options.always-copy = true\nvirtualenvs.options.no-pip = false\nvirtualenvs.options.no-setuptools = false\nvirtualenvs.options.system-site-packages = false\nvirtualenvs.path = \"{cache-dir}/virtualenvs\"  # /path/to/cache/directory/virtualenvs\nvirtualenvs.prefer-active-python = false\nvirtualenvs.prompt = \"{project_name}-py{python_version}\"\n</code></pre> \u8fd9\u91cc\u9762\u6bd4\u8f83\u91cd\u8981\u7684\u6709\u914d\u7f6e pypi-token\uff0c\u914d\u7f6e\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u514d\u767b\u5f55\u8fdb\u884c\u9879\u76ee\u53d1\u5e03\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u5efa\u8bae\u5bf9\u91cd\u8981\u9879\u76ee\uff0c\u4e0d\u8981\u5728\u672c\u5730\u914d\u7f6e\u8fd9\u4e2a token\uff0c \u6211\u4eec\u5e94\u8be5\u53ea\u5728 CI/CD \u7cfb\u7edf\u4e2d\u914d\u7f6e\u8fd9\u4e2a token\uff0c\u4ee5\u5b9e\u73b0\u4ec5\u4ece CI/CD \u8fdb\u884c\u53d1\u5e03\u3002</p>","tags":["Python","Poetry","ppw"]},{"location":"articles/python/best-practice-python/chap06/","title":"06 10 \u500d\u901f\uff01\u9ad8\u6548\u7f16\u7801","text":""},{"location":"articles/python/best-practice-python/chap06/#1-ai","title":"1. AI \u8d4b\u80fd\u7684\u4ee3\u7801\u7f16\u5199","text":"<p>\u4f20\u7edf\u4e0a\uff0cIDE \u7684\u91cd\u8981\u529f\u80fd\u4e4b\u4e00\uff0c\u5c31\u662f\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u3001\u8bed\u6cd5\u9ad8\u4eae\u3001\u6587\u6863\u63d0\u793a\u3001\u9519\u8bef\u8bca\u65ad\u7b49\u7b49\u3002\u968f\u7740\u4eba\u7c7b\u8fdb\u5165\u6df1\u5ea6\u5b66\u4e60\u65f6\u4ee3\uff0cAI \u8f85\u52a9\u7f16\u7801\u5219\u8ba9\u7a0b\u5e8f\u5458\u5982\u864e\u6dfb\u7ffc\u3002</p> <p>\u6211\u4eec\u9996\u5148\u4ecb\u7ecd\u51e0\u4e2a AI \u8f85\u52a9\u7f16\u7801\u7684\u5de5\u5177\uff0c\u7136\u540e\u518d\u4ecb\u7ecd\u5e38\u89c4\u7684\u8bed\u6cd5\u9ad8\u4eae\u3001\u6587\u6863\u63d0\u793a\u7b49\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#11-github-copilot","title":"1.1. github copilot","text":"<p>github copilot \u662f github \u5b98\u65b9\u51fa\u54c1\u7684 AI \u8f85\u52a9\u7f16\u7801\u5de5\u5177\u3002\u5b83\u662f\u57fa\u4e8e\u5927\u89c4\u6a21\u8bed\u6599\u3001\u8d85\u5927\u89c4\u6a21\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\uff0c\u7ed3\u5408\u4e86\u5927\u91cf\u7684\u7f16\u7a0b\u7ecf\u9a8c\uff0c\u4e3a\u5f00\u53d1\u8005\u63d0\u4f9b\u4ee3\u7801\u8865\u5168\u3001\u4ee3\u7801\u7247\u6bb5\u8054\u60f3\u3001\u4ee3\u7801\u63a8\u8350\u7b49\u529f\u80fd\u3002copilot \u53ef\u4ee5\u6839\u636e\u7528\u6237\u8f93\u5165\u7684\u4e00\u884c\u6ce8\u91ca\uff0c\u81ea\u52a8\u751f\u6210\u4ee3\u7801\u7247\u6bb5\u751a\u81f3\u6574\u4e2a\u51fd\u6570\uff0c\u529f\u80fd\u5341\u5206\u5f3a\u5927\u3002</p> <p>Info</p> <p>2023 \u5e74 12 \u6708\uff0c\u5fae\u8f6f\u628a\u4ed6\u4eec\u57fa\u4e8e chatGPT \u7684\u4eba\u5de5\u667a\u80fd\u641c\u7d22\u5f15\u64ce\u6280\u672f\u4e5f\u79f0\u4e3a copilot\uff0c\u5b83\u662f\u60a8\u5728\u4f7f\u7528 bing \u641c\u7d22\u5f15\u64ce\u65f6\uff0c\u51fa\u73b0\u7684\u4e00\u4e2a\u5bf9\u8bdd\u673a\u5668\u4eba\u3002Github \u73b0\u5728\u4e5f\u662f\u5fae\u8f6f\u7684\u8d44\u4ea7\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u5199\u4e00\u6bb5\u6ce8\u91ca\u5982\u4e0b\uff1a <pre><code># CREATE A FIBONACCI SERIES UP TO NTH TERM\n</code></pre> \u7136\u540e\u56de\u8f66\uff0ccopilot \u5c31\u4f1a\u5199\u51fa\u4e0b\u9762\u7684\u4ee3\u7801\uff1a <pre><code>def fibonacci(n):\n    if n &lt;= 1:\n        return n\n    else:\n        return fibonacci(n-1) + fibonacci(n-2)\n</code></pre> \u8fd9\u4e2a\u51fd\u6570\u8fd8\u6709\u4e00\u4e2a\u5c3e\u9012\u5f52\u7248\u672c\uff0c\u5f53\u7136 copilot \u4e5f\u80fd\u63d0\u4f9b\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0ccopilot \u80fd\u63d0\u4f9b 10 \u4e2a\u4ee5\u5185\u7684\u5907\u9009\u7b54\u6848\u3002</p> <p>\u6211\u4eec\u518d\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u6709\u4ee5\u4e0b\u6ce8\u91ca\uff1a <pre><code>\u8bbe\u7f6e npm \u4e2d\u56fd\u52a0\u901f\u955c\u50cf\n</code></pre> \u4f60\u4f1a\u7acb\u5373\u5f97\u5230\u4ee5\u4e0b\u4ee3\u7801\uff1a <pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.org\n</code></pre> \u518d\u4e5f\u4e0d\u7528\u8bb0\u5fc6\u8fd9\u4e9b\u5947\u602a\u7684\u8bbe\u7f6e\u4e86\uff01</p> <p>\u6211\u4eec\u518d\u8bd5\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <p><pre><code># \u8bfb\u53d6 CSV \u6587\u4ef6\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u6570\u7ec4\u5bf9\u8c61\ndef read_csv(filename):\n    with open(filename, 'r') as f:\n        reader = csv.reader(f)\n        return list(reader)\n\n# \u5c06\u6570\u7ec4\u5bf9\u8c61\u8f6c\u6362\u4e3a JSON \u5b57\u7b26\u4e32\ndef to_json(data):\n    return json.dumps(data)\n\n# \u5c06 JSON \u53d1\u9001\u5230 GITHUB\ndef send_json(json_data):\n    url = 'https://api.github.com/repos/udacity/ud120-projects/issues'\n    headers = {\n        'Authorization': ''  # \u8bf7\u586b\u5199\u4f60\u7684 token\n    }\n    r = requests.post(url, json_data, headers=headers)\n\ndef main():\n    data = read_csv('foo.csv')\n    json_data = to_json(data)\n    send_json(json_data)\n</code></pre> \u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u53ea\u5199\u4e86\u4e09\u884c\u6ce8\u91ca\uff0ccopilot \u81ea\u52a8\u5e2e\u6211\u4eec\u586b\u5145\u4e86\u4ee3\u7801\u3002\u5728 send_json \u90a3\u4e2a\u65b9\u6cd5\u91cc\uff0ccopilot \u5728 headers \u4e2d\u63d0\u793a\u8f93\u5165'Authorization'\u5b57\u6bb5\uff0c\u5e76\u63d0\u793a\u8fd9\u91cc\u8981\u7ed9\u51fa token\uff0c\u8fd9\u4e2a\u586b\u5145\u5f88\u6709\u610f\u601d\uff0c\u56e0\u4e3a github \u8fd9\u4e2a API \u6b63\u597d\u662f\u901a\u8fc7 token \u8ba4\u8bc1\u7684\u3002\u5f53\u7136\uff0c\u7531\u4e8e\u4fe1\u606f\u8fc7\u5c11\uff0c\u5b83\u7ed9\u51fa\u7684 url \u51e0\u4e4e\u80af\u5b9a\u662f\u9519\u7684\uff0c\u8fd9\u4e5f\u5728\u60c5\u7406\u4e4b\u4e2d\u3002</p> <p>\u66f4\u4ee4\u4eba\u60ca\u53f9\u7684\u662f main \u51fd\u6570\u3002\u6211\u53ea\u5b9a\u4e49\u4e86 main() \u65b9\u6cd5\u7684\u51fd\u6570\u5934\uff0ccopilot \u5c45\u7136\u81ea\u52a8\u5b8c\u6210\u4e86\u6240\u6709\u529f\u80fd\u7684\u4e32\u8054\uff0c\u800c\u4e14\u5e94\u8be5\u8bf4\uff0c\u7b26\u5408\u9884\u671f\u3002</p> <p>\u5982\u679c\u4e0a\u9762\u7684\u4f8b\u5b50\u8fc7\u4e8e\u7b80\u5355\uff0c\u4f60\u53ef\u4ee5\u5199\u4e00\u4e9b\u6ce8\u91ca\uff0c\u8bf7\u6c42 copilot \u4e3a\u4f60\u6293\u53d6\u52a0\u5bc6\u8d27\u5e01\u4ef7\u683c\uff0c\u901a\u8fc7\u6b63\u5219\u8868\u8fbe\u5f0f\u5224\u65ad\u662f\u5426\u662f\u6709\u6548\u7684\u90ae\u7bb1\u5730\u5740\uff0c\u6216\u8005\u538b\u7f29\u3001\u89e3\u538b\u7f29\u6587\u4ef6\u7b49\u7b49\u3002\u4f60\u4f1a\u53d1\u73b0\uff0ccopilot \u7684\u80fd\u529b\u662f\u975e\u5e38\u5f3a\u5927\u7684\u3002</p> <p>copilot \u7684\u795e\u5947\u4e4b\u5904\uff0c\u7edd\u4e0d\u53ea\u9650\u4e8e\u4e0a\u9762\u7684\u4e3e\u4f8b\u3002\u4f5c\u8005\u5728\u5b9e\u8df5\u4e2d\u786e\u5b9e\u4f53\u9a8c\u8fc7\u5b83\u7684\u8d85\u5e38\u80fd\u529b\uff0c\u6bd4\u5982\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u81ea\u52a8\u751f\u6210\u6570\u636e\u5e8f\u5217\uff0c\u6216\u8005\u5728\u751f\u6210\u7684\u4ee3\u7801\u4e2d\uff0c\u5b83\u7684\u9519\u8bef\u5904\u7406\u65b9\u6848\u4f1a\u6bd4\u4f60\u81ea\u5df1\u80fd\u5199\u51fa\u6765\u7684\u66f4\u7ec6\u817b\uff0c\u7b49\u7b49\u3002\u4f46\u662f\uff0c\u8981\u6f14\u793a\u90a3\u6837\u590d\u6742\u7684\u529f\u80fd\uff0c\u5df2\u7ecf\u8d85\u51fa\u4e86\u4e00\u672c\u4e66\u80fd\u591f\u5c55\u73b0\u7684\u8303\u56f4\u4e86\u3002</p> <p>\u8fd9\u662f\u4e00\u4e9b\u4f7f\u7528\u8005\u7684\u611f\u8a00\uff1a</p> <p>Quote</p> <p>\u6211\u7684\u4e00\u90e8\u5206\u5de5\u4f5c\u5185\u5bb9\u4ece\u7f16\u5199\u4ee3\u7801\u8f6c\u6210\u4e86\u7b56\u5212\u3002\u4f5c\u4e3a\u4e00\u4e2a\u4eba\u7c7b\u53ef\u4ee5\u89c2\u5bdf\u5e76\u4fee\u6b63\u4e00\u4e9b\u4ee3\u7801\uff0c\u4e0d\u5fc5\u4eb2\u81ea\u52a8\u624b\u505a\u6bcf\u4e00\u4ef6\u4e8b\u3002</p> <p>\u6211\u5bf9\u5197\u4f59\u4ee3\u7801\u7684\u5bb9\u5fcd\u5ea6\u53d8\u9ad8\u4e86\u3002\u8ba9 AI \u53bb\u505a\u91cd\u590d\u7684\u5de5\u4f5c\uff0c\u628a\u4ee3\u7801\u5199\u5f97\u66f4\u8be6\u7ec6\uff0c\u53ef\u4ee5\u63d0\u9ad8\u53ef\u8bfb\u6027\u3002</p> <p>\u6211\u66f4\u613f\u610f\u91cd\u6784\u4ee3\u7801\u4e86\u3002\u5bf9\u4e8e\u90a3\u4e9b\u5df2\u7ecf\u80fd\u7528\u4f46\u5199\u7684\u4e0d\u591f\u7406\u60f3\u7684\u4ee3\u7801\uff0cCopilot \u53ef\u4ee5\u7075\u6d3b\u7684\u5b8c\u6210\u91cd\u6784\uff0c\u6bd4\u5982\u628a\u590d\u6742\u51fd\u6570\u62c6\u5206\u6216\u5bf9\u5173\u952e\u90e8\u5206\u62bd\u8c61\u5316\u3002</p> <p>\u6240\u4ee5\uff0cDon't fly solo\uff08copilot \u5e7f\u544a\u8bed\uff09\uff01\u5982\u679c\u6709\u53ef\u80fd\uff0c\u5f53\u4f60\u5728\u4ee3\u7801\u7684\u4e16\u754c\u91cc\u9068\u6e38\u65f6\uff0c\u8fd8\u662f\u8ba9 copilot \u6765\u4f34\u98de\u5427\u3002\u5f53\u7136\uff0ccopilot \u4e5f\u6709\u5176\u4e0d\u8db3\uff0c\u5176\u4e2d\u6700\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u4e0d\u80fd\u514d\u8d39\u4f7f\u7528\uff08\u5b66\u751f\u9664\u5916\uff09\uff0c\u800c\u4e14\u6bcf\u4e2a\u6708 10 \u7f8e\u91d1\u7684\u8d39\u7528\u5bf9\u4e2d\u56fd\u7a0b\u5e8f\u5458\u6765\u8bb2\u53ef\u80fd\u5e76\u4e0d\u4fbf\u5b9c\u3002\u4e0d\u4ec5\u5982\u6b64\uff0c\u76ee\u524d\u5b83\u53ea\u63a5\u53d7\u4fe1\u7528\u5361\u548c paypal \u4ed8\u6b3e\uff0c\u56e0\u6b64\u5728\u652f\u4ed8\u4e0a\u4e5f\u4e0d\u591f\u65b9\u4fbf\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#12-tabnine","title":"1.2. tabnine","text":"<p>\u53e6\u4e00\u4e2a\u9009\u9879\u662f tabnine\uff0c\u4e0e copilot \u4e00\u6837\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4ece\u81ea\u7136\u8bed\u8a00\u5230\u4ee3\u7801\u7684\u8f6c\u6362\uff0c\u4ee5\u53ca\u6574\u6bb5\u51fd\u6570\u7684\u751f\u6210\u7b49\u529f\u80fd\u3002\u4e00\u4e9b\u8bc4\u8bba\u8ba4\u4e3a\uff0c\u5b83\u6bd4 copilot \u591a\u51fa\u7684\u4e00\u4e2a\u529f\u80fd\u662f\uff0c\u5b83\u80fd\u57fa\u4e8e\u8bed\u6cd5\u89c4\u5219\u5728\u4e00\u884c\u8fd8\u672a\u7ed3\u675f\u65f6\u5c31\u7ed9\u51fa\u4ee3\u7801\u63d0\u793a\uff0c\u800c copilot \u53ea\u80fd\u5728\u4e00\u884c\u7ed3\u675f\u540e\u7ed9\u51fa\u6574\u6bb5\u4ee3\u7801\uff0c\u5373 copilot \u9700\u8981\u66f4\u591a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\u3002</p> <p>tabnine \u4e0e copilot \u7684\u503c\u5f97\u4e00\u63d0\u7684\u533a\u522b\u662f\u5b83\u7684\u4ed8\u8d39\u6a21\u5f0f\u3002tabnine \u63d0\u4f9b\u4e86\u57fa\u7840\u7248\u548c\u4e13\u4e1a\u7248\u4e24\u4e2a\u7248\u672c\uff0c\u800c copilot \u53ea\u80fd\u4ed8\u8d39\u4f7f\u7528\u3002tabnine \u7684\u4e13\u4e1a\u7248\u8fd8\u6709\u4e00\u4e2a\u7279\u8272\uff0c\u5c31\u662f\u4f60\u53ef\u4ee5\u57fa\u4e8e\u81ea\u5df1\u7684\u4ee3\u7801\u8bad\u7ec3\u81ea\u5df1\u7684\u79c1\u6709 AI \u6a21\u578b\uff0c\u4ece\u800c\u5f97\u5230\u66f4\u4e3a\u4e2a\u6027\u5316\u7684\u4ee3\u7801\u5b8c\u6210\u670d\u52a1\u3002\u8fd9\u4e2a\u529f\u80fd\u5bf9\u4e8e\u4e00\u4e9b\u5927\u578b\u516c\u53f8\u6765\u8bf4\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u5b83\u7684\u53e6\u4e00\u4e2a\u4f18\u52bf\u5c31\u662f\uff0c\u5b83\u5728\u8bad\u7ec3\u81ea\u5df1\u65f6\u53ea\u4f7f\u7528\u5b9e\u884c\u5bbd\u677e\u5f00\u6e90\u8bb8\u53ef\u8bc1\u6a21\u5f0f\u7684\u4ee3\u7801\uff0c\u56e0\u6b64\uff0c\u4f60\u7684\u4ee3\u7801\u4e0d\u4f1a\u56e0\u4e3a\u4f7f\u7528\u4e86 tabnine \u751f\u6210\u7684\u4ee3\u7801\uff0c\u5c31\u5fc5\u987b\u5f00\u6e90\u51fa\u53bb\u3002</p> <p>GPT code clippy \u662f Github copilot \u7684\u5f00\u6e90\u66ff\u4ee3\u54c1\uff0c\u5982\u679c\u65e2\u4e0d\u80fd\u7528 copilot\uff0c\u4e5f\u4e0d\u80fd\u4f7f\u7528 tabnine\uff0c\u4e5f\u53ef\u4ee5\u8bd5\u8bd5\u8fd9\u4e2a\u3002\u4e0d\u8fc7\u5728\u6211\u4eec\u6210\u6587\u7684\u65f6\u5019\uff0c\u5b83\u8fd8\u6ca1\u6709\u63d0\u4f9b\u4e00\u4e2a\u53d1\u884c\u7248\u7684 vscode \u6269\u5c55\uff0c\u53ea\u80fd\u901a\u8fc7\u6e90\u7801\u5b89\u88c5\u3002</p> <p>Info</p> <p>\u8bf4\u5230 AI \u8f85\u52a9\u7f16\u7801\uff0c\u4e0d\u80fd\u4e0d\u63d0\u5230\u8fd9\u4e00\u884c\u7684\u5148\u9a71 - Kite\u3002Kite \u6210\u7acb\u4e8e 2014 \u5e74\uff0c\u81f4\u529b\u4e8e AI \u8f85\u52a9\u7f16\u7a0b\uff0c\u4e8e 2021 \u5e74 11 \u6708\u5173\u95ed\u3002\u7531\u4e8e\u5207\u5165\u5e02\u573a\u8fc7\u65e9\uff0ckite \u7684\u6280\u672f\u8def\u7ebf\u4e5f\u5fc5\u7136\u76f8\u5bf9\u843d\u540e\u4e00\u4e9b\uff0c\u5176 AI \u8f85\u52a9\u529f\u80fd\u4e3b\u8981\u662f\u57fa\u4e8e\u5173\u952e\u8bcd\u8054\u60f3\u4ee3\u7801\u7247\u6bb5\u7684\u6a21\u5f0f\u3002\u7b49\u5230 2020 \u5e74 github \u7684 copilot \u6a2a\u7a7a\u51fa\u4e16\u65f6\uff0c\u57fa\u4e8e\u5927\u89c4\u6a21\u8bed\u6599\u3001\u8d85\u5927\u89c4\u6a21\u7684\u6df1\u5ea6\u5b66\u4e60\u6a21\u578b\u88ab\u8bc1\u660e\u624d\u662f\u6700\u6709\u5e0c\u671b\u7684\u6280\u672f\u8def\u7ebf\u3002\u800c\u6b64\u65f6 kite \u591a\u5e74\u4ee5\u6765\u7684\u6295\u5165\u548c\u6280\u672f\u79ef\u7d2f\uff0c\u4e0d\u4ec5\u4e0d\u518d\u662f\u6709\u6548\u8d44\u4ea7\uff0c\u53cd\u800c\u6210\u4e3a\u4e86\u5386\u53f2\u5305\u88b1\u3002\u5207\u6362\u5230\u65b0\u7684\u6280\u672f\u8def\u7ebf\u4e0a\u7684\u4ee3\u4ef7\u5f80\u5f80\u662f\u5de8\u5927\u7684 -- \u7528\u6237\u4f53\u9a8c\u7684\u6539\u53d8\u5728\u6240\u96be\u514d\uff0c\u800c\u4e14\u65b0\u7684\u6a21\u578b\u6240\u9700\u8981\u7684\u949e\u80fd\u529b\uff0ckite \u4e5f\u5e76\u4e0d\u5177\u5907\u3002</p> <p>2021 \u5e74 11 \u6708 16 \u65e5\uff0c\u521b\u59cb\u4eba Adam Smith \u53d1\u8868\u4e86\u4e00\u7bc7\u544a\u522b\u6f14\u8bf4\uff0c\u5bf9 kite \u4e3a\u4ec0\u4e48\u6ca1\u6709\u6210\u529f\u8fdb\u884c\u4e86\u53cd\u601d\uff0c\u6307\u51fa\u5c3d\u7ba1 Kite \u6bcf\u4e2a\u6708\u6709\u8d85\u8fc7 50 \u4e07\u6708\u6d3b\u8dc3\u7528\u6237\uff0c\u4f46\u8fd9\u4e48\u591a\u6708\u6d3b\u8dc3\u7528\u6237\u57fa\u672c\u4e0d\u4ed8\u8d39\uff0c\u8fd9\u6700\u7ec8\u538b\u57ae\u4e86 kite\u3002\u5f53\u7136\uff0c\u7ec8\u7aef\u7528\u6237\u5176\u5b9e\u4e5f\u6ca1\u6709\u9519\uff0c\u6bd5\u7adf copilot \u7684\u4ed8\u8d39\u6a21\u5f0f\u80fd\u591f\u884c\u5f97\u901a\u3002\u4eba\u4eec\u4e0d\u4e3a kite \u4ed8\u8d39\uff0c\u4e5f\u786e\u5b9e\u662f\u56e0\u4e3a kite \u8fd8\u4e0d\u591f\u597d\u3002</p> <p>\u5c5e\u4e8e kite \u7684\u65f6\u4ee3\u5df2\u7ecf\u8fc7\u53bb\u4e86\uff0c\u4f46\u6b63\u5982 Adam Smith \u6240\u8bf4\uff0c\u672a\u6765\u662f\u5149\u660e\u7684\u3002AI \u5fc5\u5c06\u5f15\u53d1\u4e00\u573a\u7f16\u7a0b\u9769\u547d\u3002kite \u7684\u8bd5\u9a8c\u5931\u8d25\u4e86\uff0c\u4f46\u50ac\u751f\u8fd9\u573a AI \u8bd5\u9a8c\u7684\u6240\u6709\u4eba\uff1a\u6295\u8d44\u4eba\uff0c\u5f00\u53d1\u56e2\u961f\u4ee5\u53ca\u6700\u7ec8\u7528\u6237\uff0c\u4ed6\u4eec\u7684\u52c7\u6c14\u548c\u8d21\u732e\u90fd\u503c\u5f97\u88ab\u94ed\u8bb0\u3002</p> <p>\u4f5c\u4e3a\u4e00\u4e2a\u66fe\u7ecf\u4f7f\u7528\u8fc7 kite\uff0c\u4e5f\u6b20 Kite \u4e00\u4e2a\u4f1a\u5458\u7684\u4f7f\u7528\u8005\uff0c\u6211\u4e5f\u5728\u6b64\u9053\u58f0\u611f\u8c22\u4e0e\u73cd\u91cd\uff01</p> <p>\u5c3d\u7ba1 AI \u8f85\u52a9\u7f16\u7a0b\u7684\u529f\u80fd\u5f88\u597d\u7528\uff0c\u4f46\u4ecd\u7136\u6709\u4e00\u4e9b\u573a\u666f\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9\u4f20\u7edf\u7684\u5de5\u5177\uff0c\u6bd4\u5982 pylance\u3002pylance \u662f\u5fae\u8f6f\u5b98\u65b9\u51fa\u54c1\u7684\u6269\u5c55\u3002vscode \u672c\u8eab\u53ea\u662f\u4e00\u4e2a\u901a\u7528\u7684 IDE \u6846\u67b6\uff0c\u5bf9\u5177\u4f53\u67d0\u79cd\u8bed\u8a00\u7684\u5f00\u53d1\u652f\u6301\uff08\u7f16\u8f91\u3001\u8bed\u6cd5\u9ad8\u4eae\u3001\u8bed\u6cd5\u68c0\u67e5\u3001\u8c03\u8bd5\u7b49\uff09\uff0c\u90fd\u662f\u7531\u8be5\u8bed\u8a00\u7684\u6269\u5c55\u53ca\u8bed\u8a00\u670d\u52a1\u5668\uff08\u5bf9 python \u800c\u8a00\uff0c\u6709 jedi \u548c pylance \u4e24\u4e2a\u5b9e\u73b0\uff09\u6765\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\uff0cpylance \u662f\u6211\u4eec\u5728 vscode \u4e2d\u5f00\u53d1 python \u9879\u76ee\u65f6\uff0c\u5fc5\u987b\u5b89\u88c5\u7684\u4e00\u4e2a\u6269\u5c55\u3002</p> <p>\u5b83\u53ef\u4ee5\u968f\u7528\u6237\u8f93\u5165\u65f6\uff0c\u63d0\u793a\u51fd\u6570\u7684\u7b7e\u540d\u3001\u6587\u6863\u548c\u8fdb\u884c\u53c2\u6570\u7684\u7c7b\u578b\u63d0\u793a\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p>Pylance \u5728\u4e0a\u9762\u63d0\u5230\u7684\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u4e4b\u5916\uff0c\u8fd8\u80fd\u5b9e\u73b0\u4f9d\u8d56\u81ea\u52a8\u5bfc\u5165\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u5b83\u8131\u80ce\u4e8e\u8bed\u6cd5\u9759\u6001\u68c0\u67e5\u5668\uff0c\u6240\u4ee5\u5b83\u8fd8\u80fd\u63d0\u793a\u4ee3\u7801\u4e2d\u7684\u9519\u8bef\u5e76\u663e\u793a\uff0c\u8fd9\u6b63\u662f\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u50cf copilot \u8fd9\u6837\u7684\u4eba\u5de5\u667a\u80fd\u8fd8\u505a\u4e0d\u592a\u597d\u7684\u5730\u65b9\u3002\u6e90\u7801\u7ea7\u7684\u67e5\u9519\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5c3d\u65e9\u4fee\u6b63\u8fd9\u4e9b\u9519\u8bef\uff0c\u8fd9\u4e5f\u6b63\u662f\u5f88\u591a\u4f7f\u7528\u9759\u6001\u8bed\u8a00\u7684\u7a0b\u5e8f\u5458\u8ba4\u4e3a\u8bdf\u75c5 Python \u7684\u5730\u65b9 \u2013 \u73b0\u5728\u6211\u4eec\u77e5\u9053\uff0c\u8fd9\u53ea\u662f\u4e00\u79cd\u65e0\u77e5\u7684\u504f\u89c1\u3002</p> <p></p> <p>Tips</p> <p>Pylance \u5b89\u88c5\u540e\uff0c\u9700\u8981\u8fdb\u884c\u914d\u7f6e\u3002\u914d\u7f6e\u6587\u4ef6\u662f pyrightconfig.json\uff0c\u653e\u7f6e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u3002 <pre><code>{\n    \"exclude\": [\n    \".git\",\n    \".eggs\"\n    ],\n    \"ignore\": [],\n    \"reportMissingImports\": true,\n    \"reportMissingTypeStubs\": false,\n    \"pythonVersion\": \"3.8\"\n}\n</code></pre> \u8fd9\u4e9b\u914d\u7f6e\u9879\u4e5f\u53ef\u4ee5\u5728 vscode \u4e2d\u914d\u7f6e\uff0c\u4f46\u4e3a\u4e86\u4f7f\u5f00\u53d1\u6210\u5458\u4f7f\u7528\u4e00\u81f4\u7684\u914d\u7f6e\uff0c\u5efa\u8bae\u90fd\u91c7\u7528\u6587\u4ef6\u914d\u7f6e\uff0c\u5e76\u4e14\u4f7f\u7528 git \u6765\u7ba1\u7406\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#2-type-hint-type-annotations","title":"2. Type Hint \uff08Type Annotations\uff09","text":"<p>\u5f88\u591a\u4eba\u8c08\u5230 Python \u65f6\uff0c\u4f1a\u89c9\u5f97\u5b83\u4f5c\u4e3a\u4e00\u79cd\u52a8\u6001\u8bed\u8a00\uff0c\u662f\u6ca1\u6709\u7c7b\u578b\u68c0\u67e5\u80fd\u529b\u7684\u3002\u8fd9\u79cd\u8bf4\u6cd5\u5e76\u4e0d\u51c6\u786e\uff0cPython \u662f\u5f31\u7c7b\u578b\u8bed\u8a00\uff0c\u53d8\u91cf\u53ef\u4ee5\u6539\u53d8\u7c7b\u578b\uff0c\u4f46\u5728\u8fd0\u884c\u65f6\uff0c\u4ecd\u7136\u4f1a\u6709\u7c7b\u578b\u68c0\u67e5\uff0c\u7c7b\u578b\u68c0\u67e5\u5931\u8d25\uff0c\u5c31\u4f1a\u629b\u51fa TypeError\uff1a</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86 Python \u4e2d\u53d8\u91cf\u662f\u5982\u4f55\u6539\u53d8\u7c7b\u578b\u7684\uff0c\u4ee5\u53ca\u7c7b\u578b\u68c0\u67e5\u53ea\u5728\u8fd0\u884c\u65f6\u8fdb\u884c\u7684\u8fd9\u4e00\u7279\u70b9\uff1a</p> <pre><code>&gt;&gt;&gt; one = 1\n... if False:\n...     one + \"two\" # \u8fd9\u4e00\u884c\u4e0d\u4f1a\u6267\u884c\uff0c\u6240\u4ee5\u4e0d\u4f1a\u629b\u51fa TypeError\n... else:\n...     one + 2\n...\n3\n\n&gt;&gt;&gt; one + \"two\"     # \u8fd0\u884c\u5230\u6b64\u5904\u65f6\uff0c\u5c06\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u629b\u51fa TypeError\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\n... one = \"one \"    # \u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7\u8d4b\u503c\u6539\u53d8\u7c7b\u578b\n... one + \"two\"     # \u73b0\u5728\u7c7b\u578b\u68c0\u67e5\u6ca1\u6709\u95ee\u9898\none two\n</code></pre> <p>Python \u66fe\u7ecf\u786e\u5b9e\u7f3a\u5c11\u9759\u6001\u7c7b\u578b\u68c0\u67e5\u7684\u80fd\u529b\uff0c\u8fd9\u662f Python \u4e00\u76f4\u4ee5\u6765\u4e3a\u4eba\u8bdf\u75c5\u7684\u5730\u65b9\u3002\u6bd5\u7adf\uff0c\u9519\u8bef\u53d1\u73b0\u7684\u8d8a\u65e9\uff0c\u4fee\u590d\u6210\u672c\u5c31\u8d8a\u4f4e\u3002\u4f46\u8fd9\u6b63\u5728\u6210\u4e3a\u5386\u53f2\u3002</p> <p>\u7c7b\u578b\u6ce8\u89e3\u4ece python 3.0\uff082006 \u5e74\uff0cPEP 3107\uff0c\u5f53\u65f6\u8fd8\u53eb function annotations\uff09\u65f6\u88ab\u5f15\u5165\uff0c\u90a3\u65f6\u5b83\u7684\u7528\u6cd5\u548c\u8bed\u4e49\u5e76\u6ca1\u6709\u5f97\u5230\u6e05\u6670\u5b9a\u4e49\uff0c\u56e0\u800c\u4e5f\u6ca1\u6709\u5f15\u8d77\u5e7f\u6cdb\u5173\u6ce8\u548c\u8fd0\u7528\u3002\u6570\u5e74\u4e4b\u540e\uff0cPEP 484\uff08type hints including generics\uff09\u88ab\u63d0\u51fa\uff0c\u5b9a\u4e49\u4e86\u5982\u4f55\u7ed9 python \u4ee3\u7801\u52a0\u4e0a\u7c7b\u578b\u63d0\u793a\uff0c\u8fd9\u6837\uff0ctype annotation \u5c31\u6210\u4e3a\u5b9e\u73b0 type hint \u7684\u4e3b\u8981\u624b\u6bb5\u3002\u56e0\u6b64\uff0c\u5f53\u4eca\u5929\u4eba\u4eec\u63d0\u5230 type annotation \u548c type hint \u65f6\uff0c\u4e24\u8005\u57fa\u672c\u4e0a\u662f\u540c\u4e00\u542b\u4e49\u3002</p> <p>PEP 484 \u662f\u7c7b\u578b\u68c0\u67e5\u7684\u5960\u57fa\u77f3\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u6709\u4e00\u4e9b\u95ee\u9898\u6ca1\u6709\u5f97\u5230\u89e3\u51b3\uff0c\u6bd4\u5982\u5982\u4f55\u5bf9\u53d8\u91cf\u8fdb\u884c\u7c7b\u578b\u6ce8\u89e3\uff1f\u4e0b\u9762\u7684\u8bed\u6cd5\u5728\u5f53\u65f6\u8fd8\u662f\u4e0d\u652f\u6301\u7684\uff1a <pre><code>class Node:\n        left: str\n</code></pre></p> <p>2016 \u5e74 8 \u6708\uff0cPEP 526(syntax for variable annotations) \u63d0\u51fa\uff0c\u4ece\u6b64\uff0c\u50cf\u4e0a\u6587\u4e2d\u7684\u6ce8\u89e3\u4e5f\u662f\u5141\u8bb8\u7684\u4e86\u3002</p> <p>Info</p> <p>PEP 526 \u4ece\u63d0\u51fa\u5230\u88ab\u63a5\u53d7\u4e3a\u6b63\u5f0f\u6807\u51c6\u4e0d\u5230 1 \u6708\u7684\u65f6\u95f4\uff0c\u53ef\u80fd\u662f\u6700\u5feb\u88ab\u63a5\u53d7\u7684 PEP \u4e4b\u4e00\u3002</p> <p>PEP 563 (Postponed Evaluation of Annotations) \u89e3\u51b3\u4e86\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\u3002\u5728\u8fd9\u4e2a\u63d0\u6848\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5199\u4ee3\u7801\uff1a <pre><code>from typing import Optional\n\nclass Node:\n    #LEFT: OPTIONAL[NODE]  # \u8fd9\u4f1a\u5f15\u8d77\u5faa\u73af\u5f15\u7528\n    left:   Optional[\"Node\"]\n    right:  Optional[\"Node\"]\n</code></pre> \u6ce8\u610f\u5230\u6211\u4eec\u5728\u7c7b\u578b Node \u8fd8\u6ca1\u6709\u5b8c\u6210\u5176\u5b9a\u4e49\u65f6\uff0c\u5c31\u8981\u4f7f\u7528\u5b83\uff08\u5373\u8981\u4f7f\u7528 Node \u6765\u5b9a\u4e49\u81ea\u5df1\u7684\u4e00\u4e2a\u6210\u5458\u53d8\u91cf\u7684\u7c7b\u578b\uff09\uff0c\u8fd9\u5c06\u5f15\u8d77\u5faa\u73af\u5f15\u7528\u3002PEP 563 \u901a\u8fc7\u5728\u6ce8\u89e3\u4e2d\u4f7f\u7528\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u7c7b\u578b\u672c\u8eab\uff0c\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5728\u8fd9\u51e0\u4e2a\u91cd\u8981\u7684 PEP \u4e4b\u540e\uff0c\u968f\u7740 Python 3.7 \u7684\u6b63\u5f0f\u53d1\u5e03\uff0c\u793e\u533a\u4e5f\u5f00\u59cb\u56f4\u7ed5 Type Hint \u53bb\u6784\u5efa\u4e00\u5957\u751f\u6001\u4f53\u7cfb\uff0c\u4e00\u4e9b\u975e\u5e38\u6d41\u884c\u7684 python \u5e93\u5f00\u59cb\u8865\u9f50\u7c7b\u578b\u6ce8\u89e3\uff0c\u5728\u7c7b\u578b\u68c0\u67e5\u5de5\u5177\u65b9\u9762\uff0c\u9664\u4e86\u6700\u65e9\u7684 mypy \u4e4b\u5916\uff0c\u4e00\u4e9b\u5927\u516c\u53f8\u4e5f\u8ddf\u8fdb\u5f00\u53d1\uff0c\u6bd4\u5982\u5fae\u8f6f\u63a8\u51fa\u4e86 pyright\uff08\u73b0\u5728\u662f pylance \u7684\u6838\u5fc3\uff09\u6765\u7ed9 vscode \u63d0\u4f9b\u7c7b\u578b\u68c0\u67e5\u529f\u80fd\u3002google \u63a8\u51fa\u4e86 pytype\uff0cfacebook \u5219\u63a8\u51fa\u4e86 pyre\u3002\u5728\u7c7b\u578b\u6ce8\u89e3\u7684\u57fa\u7840\u4e0a\uff0c\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u529f\u80fd\u4e5f\u56e0\u6b64\u53d8\u5f97\u66f4\u5bb9\u6613\u3001\u51c6\u786e\uff0c\u63a8\u65ad\u901f\u5ea6\u4e5f\u66f4\u5feb\u4e86\u3002\u4ee3\u7801\u91cd\u6784\u4e5f\u56e0\u6b64\u53d8\u5f97\u66f4\u52a0\u5bb9\u6613\u3002</p> <p>\u7c7b\u578b\u68c0\u67e5\u529f\u80fd\u5c06\u5bf9 Python \u7684\u672a\u6765\u53d1\u5c55\u8d77\u5230\u6df1\u8fdc\u7684\u5f71\u54cd\uff0c\u53ef\u80fd\u8db3\u591f\u4e0e typescript \u5bf9 js \u7684\u5f71\u54cd\u7c7b\u6bd4\u3002\u56f4\u7ed5\u7c7b\u578b\u68c0\u67e5\uff0c\u9664\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u51e0\u4e2a\u6700\u91cd\u8981\u7684 PEP \u4e4b\u5916\uff0c\u8fd8\u6709\uff1a</p> <ol> <li>PEP 483\uff08\u89e3\u91ca\u4e86 python \u4e2d\u7c7b\u578b\u7cfb\u7edf\u7684\u8bbe\u8ba1\u539f\u7406\uff0c\u975e\u5e38\u503c\u5f97\u4e00\u8bfb\uff09</li> <li>PEP 544 \uff08\u5b9a\u4e49\u4e86\u5bf9\u7ed3\u6784\u7c7b\u578b\u7cfb\u7edf\u7684\u652f\u6301\uff09</li> <li>PEP 591 \uff08\u63d0\u51fa\u4e86 final \u9650\u5b9a\u7b26\uff09 \u4ee5\u53ca PEP 561 \u7b49\u53e6\u5916 18 \u4e2a PEP\u3002\u6b64\u5916\uff0c\u8fd8\u6709 PEP 692 \u7b49 5 \u4e2a PEP \u76ee\u524d\u8fd8\u672a\u88ab\u6b63\u5f0f\u63a5\u53d7\u3002</li> </ol> <p>Python \u7684\u7c7b\u578b\u68c0\u67e5\u53ef\u80fd\u6700\u65e9\u7531 Jukka Lehtosalo \u63a8\u52a8\uff0cGuido\uff0c\u0141ukasz Langa \u548c Ivan Levkivskyi \u4e5f\u662f\u6700\u91cd\u8981\u7684\u51e0\u4e2a\u8d21\u732e\u8005\u4e4b\u4e00\u3002Jukka Lehtosalo \u51fa\u751f\u548c\u6210\u957f\u4e8e\u82ac\u5170\uff0c\u5f53\u4ed6\u5728\u5251\u6865\u5927\u5b66\u8ba1\u7b97\u673a\u653b\u8bfb\u535a\u58eb\u65f6\uff0c\u5728\u535a\u58eb\u8bba\u6587\u4e2d\uff0c\u63d0\u51fa\u4e86\u4e00\u79cd\u540d\u4e3a\u201c\u7c7b\u578b\u6ce8\u89e3\u201d\uff08Type Annotations\uff09\u7684\u8bed\u6cd5\uff0c\u4ece\u800c\u4e00\u7edf\u9759\u6001\u8bed\u8a00\u548c\u52a8\u6001\u8bed\u8a00\u3002\u6700\u521d\u7684\u5b9e\u9a8c\u662f\u5728\u4e00\u79cd\u540d\u4e3a Alore \u7684\u8bed\u8a00\u4e0a\u5b9e\u73b0\u7684\uff0c\u7136\u540e\u79fb\u690d\u5230 Python \u4e0a\uff0c\u5f00\u53d1\u4e86 mypy \u7684\u6700\u521d\u51e0\u4e2a\u7248\u672c\u3002\u4e0d\u8fc7\u5f88\u5feb\uff0c\u4ed6\u7684\u5de5\u4f5c\u91cd\u5fc3\u5c31\u5b8c\u5168\u8f6c\u79fb\u5230 Python \u4e0a\u9762\u6765\uff0c\u6bd5\u7adf\uff0c\u53ea\u6709 Python \u5e9e\u5927\u7684\u7528\u6237\u7fa4\u548c\u5f00\u6e90\u5e93\u624d\u80fd\u63d0\u4f9b\u4e30\u5bcc\u7684\u6848\u4f8b\u4ee5\u4f9b\u5b9e\u8df5\u3002</p> <p>2013 \u5e74\uff0c\u5728\u5723\u514b\u62c9\u62c9\u4e3e\u884c\u7684 PyCon \u4f1a\u8bae\u4e0a\uff0c\u4ed6\u516c\u5e03\u4e86\u8fd9\u4e2a\u9879\u76ee\uff0c\u5e76\u4e14\u5f97\u5230\u4e86\u4e0e Guido \u4ea4\u8c08\u7684\u673a\u4f1a\u3002Guido \u8bf4\u670d\u4ed6\u653e\u5f03\u4e4b\u524d\u7684\u81ea\u5b9a\u4e49\u8bed\u6cd5\uff0c\u5b8c\u5168\u9075\u5faa Python 3 \u7684\u8bed\u6cd5\uff0c\u5373 PEP 3107 \u63d0\u51fa\u7684\u51fd\u6570\u6ce8\u89e3\uff09\u3002\u5728\u968f\u540e\u4ed6\u4e0e Guido \u8fdb\u884c\u4e86\u5927\u91cf\u7684\u90ae\u4ef6\u8ba8\u8bba\uff0c\u5e76\u63d0\u51fa\u4e86\u901a\u8fc7\u6ce8\u91ca\u6765\u5bf9\u53d8\u91cf\u8fdb\u884c\u6ce8\u89e3\u7684\u65b9\u6848\uff08\u4e0d\u8fc7\u540e\u6765\u7684 PEP 526 \u63d0\u51fa\u4e86\u66f4\u597d\u7684\u65b9\u6848\uff09\u3002</p> <p>Jukka Lehtosalo \u4ece\u5251\u6865\u6bd5\u4e1a\u540e\uff0c\u5c31\u63a5\u53d7\u4e86 Guido \u7684\u9080\u8bf7\uff0c\u52a0\u5165\u4e86 Dropbox\uff0c\u9886\u5bfc\u4e86 mypy \u7684\u5f00\u53d1\u5de5\u4f5c\u3002</p> <p>\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u770b\u51fa\u9876\u5c16\u5927\u5b66\u5bf9\u5f85\u5b66\u672f\u7814\u7a76\u4e0a\u7684\u5f00\u653e\u548c\u4e0d\u62d8\u4e00\u683c\u3002\u5927\u6982\u5728 2016 \u5e74\u524d\u540e\uff0c\u6211\u770b\u5230\u65af\u5766\u798f\u7684\u7f51\u7edc\u516c\u5f00\u8bfe\u4e0a\u8fd8\u6709\u8bb2\u6388 ios \u7f16\u7a0b\u7684\u8bfe\uff0c\u5f53\u65f6\u4e5f\u662f\u540c\u6837\u7684\u9707\u64bc\u3002\u4e00\u662f\u611f\u53f9\u4ed6\u4eec\u9009\u8bfe\u4e4b\u65b0\uff0c\u4e8c\u662f\u611f\u53f9\u8fd9\u79cd\u5e94\u7528\u578b\u7684\u8bfe\u7a0b\uff0c\u5728\u56fd\u5185\u7684\u9876\u5c16\u5927\u5b66\u91cc\uff0c\u4e00\u822c\u662f\u4e0d\u4f1a\u5f00\u8bbe\u7684\uff0c\u56e0\u4e3a\u5927\u5bb6\u4f1a\u89c9\u5f97\u9876\u5c16\u7684\u5b66\u672f\u6bbf\u5802\uff0c\u4e0d\u5e94\u8be5\u6709\u8fd9\u4e48\u201clow\u201d\u7684\u4e1c\u897f\u3002</p> <p>\u5728\u6709\u4e86\u7c7b\u578b\u6ce8\u89e3\u4e4b\u540e\uff0c\u73b0\u5728\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff1a</p> <p><pre><code>def foo(name: str) -&gt; int:\n    score = 20\n    return score\n\nfoo(10)\n</code></pre> foo \u51fd\u6570\u8981\u6c42\u4f20\u5165\u5b57\u7b26\u4e32\uff0c\u4f46\u6211\u4eec\u5728\u8c03\u7528\u65f6\uff0c\u9519\u8bef\u5730\u4f20\u5165\u4e86\u4e00\u4e2a\u6574\u6570\u3002\u8fd9\u5728\u8fd0\u884c\u65f6\u5e76\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f46 pylance \u5c06\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u9519\u8bef\uff0c\u5e76\u4e14\u7ed9\u51fa\u8b66\u544a\uff0c\u5f53\u6211\u4eec\u628a\u9f20\u6807\u79fb\u52a8\u5230\u51fa\u9519\u4f4d\u7f6e\uff0c\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u63d0\u793a\uff1a</p> <p></p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u7b80\u8981\u5730\u4ecb\u7ecd\u4e00\u4e0b type hint \u7684\u4e00\u4e9b\u5e38\u89c1\u7528\u6cd5\uff1a</p> <p><pre><code># \u58f0\u660e\u53d8\u91cf\u7684\u7c7b\u578b\nage: int = 1\n\n# \u58f0\u660e\u53d8\u91cf\u7c7b\u578b\u65f6\uff0c\u5e76\u975e\u4e00\u5b9a\u8981\u521d\u59cb\u5316\u5b83\nchild: bool\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u4e5f\u6700\u597d\u58f0\u660e\u5b83\u4e3a ANY\u3002ZEN OF PYTHON: EXPLICIT IS BETTER THAN IMPLICIT\ndummy: Any = 1\ndummy = \"hello\"\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u591a\u79cd\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528 UNION\ndx: Union[int, str]\n# \u4ece PYTHON 3.10 \u8d77\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u6cd5\ndx: int | str\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u4e3a NONE, \u53ef\u4ee5\u4f7f\u7528 OPTIONAL\ndy: Optional[int]\n\n# \u5bf9 PYTHON BUILTIN \u7c7b\u578b\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7c7b\u578b\u7684\u540d\u5b57\uff0c\u6bd4\u5982 INT, FLOAT, BOOL, STR, BYTES \u7b49\u3002\nx: int = 1\ny: float = 1.0\nz: bytes = b\"test\"\n\n# \u5bf9 COLLECTIONS \u7c7b\u578b\uff0c\u5982\u679c\u662f PYTHON 3.9 \u4ee5\u4e0a\u7c7b\u578b\uff0c\u4ecd\u7136\u76f4\u63a5\u4f7f\u7528\u5176\u540d\u5b57\uff1a\nh: list[int] = [1]\ni: dict[str, int] = {\"a\": 1}\nj: tuple[int, str] = (1, \"a\")\nk: set[int] = {1}\n\n# \u6ce8\u610f\u4e0a\u9762\u7684 LIST[], DICT[] \u8fd9\u6837\u7684\u8868\u8fbe\u65b9\u5f0f\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528 LIST()\uff0c\u5219\u8fd9\u5c06\u53d8\u6210\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u7c7b\u578b\u58f0\u660e\u3002\n\n# \u4f46\u5982\u679c\u662f PYTHON 3.8 \u53ca\u4ee5\u4e0b\u7248\u672c\uff0c\u9700\u8981\u4f7f\u7528 TYPING \u6a21\u5757\u4e2d\u7684\u7c7b\u578b\uff1a\nfrom typing import List, Set, Dict, Tuple\nh: List[int] = [1]\ni: Dict[str, int] = {\"a\": 1}\nj: Tuple[int, str] = (1, \"a\")\nk: Set[int] = {1}\n\n# \u5982\u679c\u4f60\u8981\u5199\u4e00\u4e9b DECORATOR\uff0c\u6216\u8005\u662f\u516c\u5171\u5e93\u7684\u4f5c\u8005\uff0c\u5219\u53ef\u80fd\u4f1a\u5e38\u7528\u5230\u4e0b\u9762\u8fd9\u4e9b\u7c7b\u578b\nfrom typing import Callable, Generator, Coroutine, Awaitable, AsyncIterable, AsyncIterator\n\ndef foo(x:int)-&gt;str:\n    return str(x)\n\n# CALLABLE \u8bed\u6cd5\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u56e0\u6b64\u5b83\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u578b\nf: Callable[[int], str] = foo\n\ndef bar() -&gt; Generator[int, None, str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ng: Generator[int, None, str] = bar\n\n# \u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u4e0a\u8ff0\u51fd\u6570\u8fd4\u56de\u503c\u4ec5\u4ec5\u58f0\u660e\u4e3a ITERATOR:\ndef bar() -&gt; Iterator[str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ndef op() -&gt; Awaitable[str]:\n    if cond:\n        return spam(42)\n    else:\n        return asyncio.Future(...)\n\nh: Awaitable[str] = op()\n\n# \u4e0a\u8ff0\u9488\u5bf9\u53d8\u91cf\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u4e5f\u4e00\u6837\u53ef\u4ee5\u7528\u5728\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c\u7c7b\u578b\u58f0\u660e\u4e0a\uff0c\u6bd4\u5982\uff1a\ndef stringify(num: int) -&gt; str:\n    return str(num)\n\n# \u5982\u679c\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u8bf7\u58f0\u660e\u4e3a\u8fd4\u56de NONE\ndef show(value: str) -&gt; None:\n    print(value)\n\n# \u4f60\u53ef\u4ee5\u7ed9\u539f\u6709\u7c7b\u578b\u8d77\u4e00\u4e2a\u522b\u540d\nUrl = str\ndef retry(url: Url, retry_count: int) -&gt;None:\n    pass\n</code></pre> \u6b64\u5916\uff0ctype hint \u8fd8\u652f\u6301\u4e00\u4e9b\u9ad8\u7ea7\u7528\u6cd5\uff0c\u6bd4\u5982 TypeVar, Generics, Covariance \u548c contravariance \u7b49\uff0c\u8fd9\u4e9b\u6982\u5ff5\u5728 PEP484 \u4e2d\u6709\u5b9a\u4e49\uff0c\u53e6\u5916\uff0cPEP483 \u548c understanding typing \u53ef\u4ee5\u5e2e\u52a9\u8bfb\u8005\u66f4\u597d\u5730\u7406\u89e3\u7c7b\u578b\u63d0\u793a\uff0c\u5efa\u8bae\u611f\u5174\u8da3\u7684\u8bfb\u8005\u6df1\u5165\u7814\u8bfb\u3002</p> <p>\u5982\u679c\u60a8\u7684\u4ee3\u7801\u90fd\u505a\u597d\u4e86 type hint\uff0c\u90a3\u4e48 IDE \u57fa\u672c\u4e0a\u80fd\u591f\u63d0\u4f9b\u548c\u5f3a\u7c7b\u578b\u8bed\u8a00\u7c7b\u4f3c\u7684\u91cd\u6784\u80fd\u529b\u3002\u9700\u8981\u5f3a\u8c03\u7684\u662f\uff0c\u5728\u91cd\u6784\u4e4b\u524d\uff0c\u4f60\u5e94\u8be5\u5148\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u3001\u4ee3\u7801 lint \u548c format\uff0c\u5728\u6ca1\u6709\u9519\u8bef\u4e4b\u540e\uff0c\u518d\u8fdb\u884c\u91cd\u6784\u3002\u5982\u6b64\u4e00\u6765\uff0c\u5982\u679c\u91cd\u6784\u4e4b\u540e\uff0c\u5355\u5143\u6d4b\u8bd5\u4ecd\u7136\u80fd\u591f\u901a\u8fc7\uff0c\u5219\u57fa\u672c\u8868\u660e\u91cd\u6784\u662f\u6210\u529f\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#3-pep8-python","title":"3. PEP8 - python \u4ee3\u7801\u98ce\u683c\u6307\u5357","text":"<p>PEP8 \u662f 2001 \u5e74\u7531 Guido \u7b49\u4eba\u62df\u5b9a\u7684\u5173\u4e8e python \u4ee3\u7801\u98ce\u683c\u7684\u4e00\u4efd\u63d0\u6848\u3002PEP8 \u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u9ad8 python \u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u4f7f\u5f97 python \u4ee3\u7801\u5728\u4e0d\u540c\u7684\u5f00\u53d1\u8005\u4e4b\u95f4\u4fdd\u6301\u4e00\u81f4\u7684\u98ce\u683c\u3002PEP8 \u7684\u5185\u5bb9\u5305\u62ec\uff1a\u4ee3\u7801\u5e03\u5c40\uff0c\u547d\u540d\u89c4\u8303\uff0c\u4ee3\u7801\u6ce8\u91ca\uff0c\u7f16\u7801\u89c4\u8303\u7b49\u3002PEP8 \u7684\u5185\u5bb9\u975e\u5e38\u591a\uff0c\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4e13\u95e8\u53bb\u8bb0\u5fc6\u5b83\u7684\u89c4\u5219\uff0c\u53ea\u8981\u7528\u5bf9\u6b63\u786e\u7684\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u6700\u7ec8\u5448\u73b0\u7684\u4ee3\u7801\u5c31\u4e00\u5b9a\u662f\u7b26\u5408 PEP8 \u6807\u51c6\u7684\u3002\u5728\u540e\u9762\u7684\u5c0f\u8282\u91cc\uff0c\u6211\u4eec\u4f1a\u4ecb\u7ecd\u8fd9\u4e00\u5de5\u5177 -- black\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u6253\u7b97\u5728\u6b64\u5904\u8fc7\u591a\u7740\u58a8\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#4-lint","title":"4. Lint \u5de5\u5177","text":"<p>Lint \u5de5\u5177\u5bf9\u4ee3\u7801\u8fdb\u884c\u903b\u8f91\u68c0\u67e5\u548c\u98ce\u683c\u68c0\u67e5\u3002\u903b\u8f91\u68c0\u67e5\u662f\u6307\u50cf\u4f7f\u7528\u4e86\u672a\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u6216\u8005\u5b9a\u4e49\u7684\u53d8\u91cf\u672a\u4f7f\u7528\uff0c\u6ca1\u6709\u6309 type hint \u7684\u7ea6\u5b9a\u4f20\u5165\u53c2\u6570\u7b49\u7b49\uff1b\u98ce\u683c\u68c0\u67e5\u662f\u6307\u53d8\u91cf\u547d\u540d\u98ce\u683c\u3001\u7a7a\u767d\u7b26\u3001\u7a7a\u884c\u7b26\u7684\u4f7f\u7528\u7b49\u3002</p> <p>Python \u793e\u533a\u6709\u5f88\u591a Lint \u5de5\u5177\uff0c\u6bd4\u5982 Plint, PyFlakes, pycodestyle, bandit, Mypy \u7b49\u3002\u6b64\u5916\uff0c\u8fd8\u6709 Flake8 \u548c Pylama \u8fd9\u6837\uff0c\u5c06\u8fd9\u4e9b\u5de5\u5177\u7ec4\u5408\u8d77\u6765\u4f7f\u7528\u7684\u5de5\u5177\u3002</p> <p>\u5728\u9009\u62e9 Lint \u5de5\u5177\u65f6\uff0c\u91cd\u8981\u7684\u6307\u6807\u662f\u62a5\u544a\u9519\u8bef\u7684\u5b8c\u5168\u5ea6\u548c\u901f\u5ea6\u3002\u8fc7\u4e8e\u5b8c\u5907\u7684\u9519\u8bef\u62a5\u544a\u6709\u65f6\u5019\u4e5f\u4e0d\u89c1\u5f97\u5c31\u662f\u6700\u597d\uff0c\u6709\u65f6\u5019\u4f1a\u628a\u4f60\u7684\u5927\u91cf\u7cbe\u529b\u7275\u6d89\u5230\u65e0\u610f\u4e49\u7684\u6392\u67e5\u4e2d -- \u7eaf\u7cb9\u57fa\u4e8e\u9759\u6001\u5206\u6790\u7684\u67e5\u9519\uff0c\u6709\u65f6\u4e5f\u4e0d\u53ef\u907f\u514d\u4f1a\u51fa\u73b0\u9519\u8bef\uff1b\u540c\u65f6\u4e5f\u4f7f\u5f97\u8fd0\u884c\u901f\u5ea6\u964d\u4f4e\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#41-flake8","title":"4.1. Flake8","text":"<p><code>ppw</code>\u9009\u62e9\u4e86 Flake8 \u548c mypy \u4f5c\u4e3a lint \u5de5\u5177\u3002Flake8 \u5b9e\u9645\u4e0a\u662f\u4e00\u7ec4 lint \u5de5\u5177\u7684\u7ec4\u5408\uff0c\u5b83\u7531 pycodestyle, pyflakes, mcccab \u7ec4\u6210\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#411-pycodestyle","title":"4.1.1. pycodestyle","text":"<p>pycodestyle \u7528\u6765\u68c0\u67e5\u4ee3\u7801\u98ce\u683c\uff08\u7a7a\u683c\u3001\u7f29\u8fdb\u3001\u6362\u884c\u3001\u53d8\u91cf\u540d\u3001\u5b57\u7b26\u4e32\u5355\u53cc\u5f15\u53f7\u7b49\uff09\u662f\u5426\u7b26\u5408 PEP8 \u6807\u51c6\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#412-pyflakes","title":"4.1.2. pyflakes","text":"<p>pyflakes \u7528\u6765\u68c0\u67e5\u8bed\u6cd5\u9519\u8bef\uff0c\u6bd4\u5982\uff0c\u5b9a\u4e49\u4f46\u672a\u4f7f\u7528\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u53d8\u91cf\u91cd\u5b9a\u4e49\u9519\u8bef\uff0c\u672a\u4f7f\u7528\u7684\u5bfc\u5165\uff0c\u683c\u5f0f\u5316\u9519\u8bef\u7b49\u7b49\u3002\u4eba\u4eec\u901a\u5e38\u62ff\u5b83\u4e0e pylint \u76f8\u5bf9\u7167\u3002pyflakes \u4e0e pylint \u76f8\u6bd4\uff0c\u6240\u80fd\u53d1\u73b0\u7684\u8bed\u6cd5\u9519\u8bef\u4f1a\u5c11\u4e00\u4e9b\uff0c\u4f46\u8bef\u62a5\u7387\u66f4\u4f4e\uff0c\u901f\u5ea6\u4e5f\u66f4\u5feb\u3002\u5728\u6709\u5145\u5206\u5355\u5143\u6d4b\u8bd5\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u66f4\u63a8\u8350\u521d\u5b66\u8005\u4f7f\u7528 pyflakes\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a pylint \u62a5\u544a\u9519\u8bef\uff0c\u800c pyflakes \u4e0d\u80fd\u62a5\u544a\u7684\u4f8b\u5b50\uff1a <pre><code>def add(x, y):\n    print(x + y)\n\nvalue: None = add(10, 10)\n</code></pre> \u663e\u7136\uff0c\u4ee3\u7801\u4f5c\u8005\u5fd8\u4e86\u7ed9 add \u51fd\u6570\u52a0\u4e0a\u8fd4\u56de\u8bed\u53e5\uff0c\u56e0\u6b64\uff0c\u5c06 value \u8d4b\u503c\u4e3a add(10, 10) \u7684\u7ed3\u679c\u662f None\u3002pylint \u4f1a\u62a5\u544a\u9519\u8bef\uff0c\u4f46\u662f pyflakes \u4e0d\u4f1a\u3002</p> <p>\u4f46\u662f pylint \u5b58\u5728\u4e00\u5b9a\u7684\u8bef\u62a5\u7387\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4ea4\u7ed9 pylint \u6765\u8fdb\u884c\u8bed\u6cd5\u68c0\u67e5\uff0c\u5176\u7ed3\u679c\u662f\uff1a <pre><code>xxxx:1:0: C0114: Missing module docstring (missing-module-docstring)\nxxxx:1:0: C0116: Missing function or method docstring (missing-function-docstring)\nxxxx:1:8: C0103: Argument name \"x\" doesn't conform to snake_case naming style (invalid-name)\nxxxx:1:11: C0103: Argument name \"y\" doesn't conform to snake_case naming style (invalid-name)\nxxxx:5:0: E1111: Assigning result of a function call, where the function has no return (assignment-from-no-return)\nxxxx:5:0: C0103: Constant name \"value\" doesn't conform to UPPER_CASE naming style (invalid-name)\n</code></pre> \u8fd9\u91cc\u7b2c 1\uff0c2 \u548c\u7b2c 5 \u884c\u62a5\u544a\u90fd\u662f\u6b63\u786e\u7684\u3002\u4f46\u7b2c 3 \u548c\u7b2c 4 \u884c\u7684\u62a5\u544a\u5f88\u96be\u8bf4\u6b63\u786e\uff0c\u4e3a\u4e86\u4ee3\u7801\u7684\u7b80\u6d01\u6027\uff0c\u6211\u4eec\u4f7f\u7528\u5355\u4e2a\u5b57\u6bcd\u4f5c\u4e3a\u5c40\u90e8\u53d8\u91cf\u662f\u5f88\u5e38\u89c1\u7684\u4e8b\u3002PEP8 \u89c4\u8303\u4e5f\u53ea\u8981\u6c42\u6211\u4eec\u4e0d\u5f97\u4f7f\u7528\"l\"\uff08\u5c0f\u5199\u7684\u5b57\u6bcd L\uff09, \"O\"\uff08\u5b57\u6bcd o \u7684\u5927\u5199\uff0c\u5f88\u96be\u4e0e\u6570\u5b57 0 \u533a\u5206\uff09, \"I\"\uff08\u5b57\u6bcd i \u7684\u5927\u5199\uff09\u3002</p> <p>\u800c\u6700\u540e\u4e00\u884c\u7684\u62a5\u544a\u5219\u663e\u7136\u662f\u9519\u8bef\u7684\uff0c\u8fd9\u91cc\u51fd\u6570 add \u6ca1\u6709\u8fd4\u56de\u503c\u7684\u9519\u8bef\uff0c\u5bfc\u81f4 pylint \u8bef\u4ee5\u4e3a value \u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u53d8\u91cf\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5f53\u4f60\u4fee\u590d\u6389 add \u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\u7684\u9519\u8bef\u65f6\uff0cpylint \u5c31\u4e0d\u4f1a\u62a5\u544a\u8fd9\u4e2a\u9519\u8bef\u4e86\u3002</p> <p>\u8fd9\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u63a8\u8350\u521d\u5b66\u8005\u4f7f\u7528 pyflakes\uff0c\u800c\u4e0d\u662f pylint \u7684\u539f\u56e0\u3002\u521d\u5b66\u8005\u5f88\u5bb9\u6613\u6df9\u6ca1\u5728 pylint \u629b\u51fa\u7684\u4e00\u5927\u5806\u9519\u5939\u6742\u7740\u8bef\u62a5\u7684\u9519\u8bef\u62a5\u544a\u4e2d\uff0c\u82b1\u8d39\u5927\u91cf\u65f6\u95f4\u6765\u89e3\u51b3\u8fd9\u4e9b\u8bef\u62a5\uff0c\u5374\u832b\u7136\u65e0\u8ba1\u3002\u53e6\u5916\uff0cpylint \u8fc7\u4e8e\u4e25\u683c\u7684\u9519\u8bef\u68c0\u67e5\uff0c\u5bf9\u8fd8\u672a\u517b\u6210\u826f\u597d\u7f16\u7a0b\u4e60\u60ef\u7684\u521d\u5b66\u8005\uff0c\u53ef\u80fd\u4f1a\u4f7f\u4ed6\u4eec\u611f\u5230\u6cae\u4e27\u3002\u6bd4\u5982\uff0c\u4e0a\u9762\u5173\u4e8e\u7f3a\u5c11\u6587\u6863\u7684\u9519\u8bef\u62a5\u544a\uff0c\u5c3d\u7ba1\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\uff0c\u8981\u4e00\u4e0b\u5b50\u8fbe\u5230\u6240\u6709\u8fd9\u4e9b\u6807\u51c6\uff0c\u4f1a\u4f7f\u5f97\u5b66\u4e60\u66f2\u7ebf\u53d8\u5f97\u8fc7\u4e8e\u9661\u5ced\uff0c\u4ece\u800c\u5bfc\u81f4\u5b66\u4e60\u7684\u70ed\u60c5\u964d\u4f4e\u3002</p> <p>mccabe \u7528\u6765\u68c0\u67e5\u4ee3\u7801\u7684\u590d\u6742\u5ea6\uff0c\u5b83\u628a\u4ee3\u7801\u6309\u63a7\u5236\u6d41\u5904\u7406\u6210\u4e00\u5f20\u56fe\uff0c\u4ece\u800c\u4ee3\u7801\u7684\u590d\u6742\u5ea6\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u516c\u5f0f\u6765\u8ba1\u7b97\uff1a \\(M = E - N + P\\)\uff0c\u5176\u4e2d E \u662f\u8def\u5f84\u6570\uff0cN \u662f\u8282\u70b9\u6570\uff0cP \u5219\u662f\u51b3\u7b56\u6570\u3002</p> <p>\u4ee5\u4e0b\u9762\u7684\u4ee3\u7801\u4e3a\u4f8b\uff1a <pre><code>if (c1())\n    f1();\nelse\n    f2();\n\nif (c2())\n    f3();\nelse\n    f4();\n</code></pre> \u5bf9\u5e94\u7684\u63a7\u5236\u6d41\u56fe\u53ef\u4ee5\u7ed8\u5236\u6210\u4e3a\uff1a </p> <p>\u4e0a\u8ff0\u63a7\u5236\u6d41\u56fe\u4e2d\uff0c\u6709 9 \u6761\u8fb9\uff0c7 \u4e2a\u7ed3\u70b9\uff0c1 \u4e2a\u8fde\u63a5\uff0c\u56e0\u6b64\u5b83\u7684\u590d\u6742\u5ea6\u4e3a 3\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#413-mccabe","title":"4.1.3. mccabe","text":"<p>mccabe \u7684\u540d\u5b57\u6765\u6e90\u4e8e Thomas J. McCabe\uff0c\u4ed6\u4e8e 1976 \u5e74\u5728 IEEE \u4e0a\u53d1\u8868\u4e86\"A Complexity Measure\"\u8fd9\u7bc7\u8bba\u6587\uff0c\u8fd9\u7bc7\u91cd\u8981\u6587\u7ae0\uff0c\u88ab\u5176\u5b83\u5b66\u672f\u8bba\u6587\u5f15\u7528\u8d85\u8fc7 8000 \u6b21\uff0c\u88ab\u8ba4\u4e3a\u662f\u8f6f\u4ef6\u5de5\u4e1a\u9886\u57df\u6700\u91cd\u8981\u548c\u6700\u6709\u5f71\u54cd\u529b\u7684\u8bba\u6587\u4e4b\u4e00\uff0c\u5f71\u54cd\u4e86\u4e00\u4ee3\u4eba\u300233 \u5e74\u4e4b\u540e\uff0cThomas J. McCabe \u4e8e 2019 \u5e74\u88ab ACM \u6388\u4e88\u6700\u6709\u5f71\u54cd\u529b\u8bba\u6587\u5956\u3002\u8fd9\u4e2a\u5956\u4e00\u5e74\u53ea\u6388\u4e88\u4e00\u6b21\uff0c\u53ea\u6709\u6388\u5956\u5f53\u5e74 11 \u5e74\u4e4b\u524d\u7684\u8bba\u6587\u624d\u6709\u8d44\u683c\u5165\u9009\uff0c\u8fc4\u4eca\u4e5f\u53ea\u9881\u53d1\u4e86 15 \u5c4a\uff0c\u7ea6 40 \u4eba\u62ff\u5230\u4e86\u8fd9\u4e2a\u5956\u9879\u3002</p> <p>Tom McCabe \u63d0\u51fa\uff0c\u5982\u679c\u8fd9\u4e2a\u590d\u6742\u5ea6\u5728 10 \u4ee5\u4e0b\uff0c\u8be5\u6bb5\u4ee3\u7801\u5c31\u53ea\u662f\u4e00\u6bb5\u7b80\u5355\u7684\u8fc7\u7a0b\uff0c\u98ce\u9669\u8f83\u4f4e\uff1b11-20 \u4e3a\u4e2d\u7b49\u98ce\u9669\uff1b21-50 \u5c5e\u4e8e\u9ad8\u98ce\u9669\u9ad8\u590d\u6742\u5ea6\uff1b\u5982\u679c\u5927\u4e8e 50\uff0c\u5219\u8be5\u6bb5\u4ee3\u7801\u662f\u4e0d\u53ef\u6d4b\u8bd5\u7684\uff0c\u5177\u6709\u975e\u5e38\u5927\u7684\u98ce\u9669\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#414-flake8","title":"4.1.4. Flake8 \u7684\u914d\u7f6e","text":"<p>\u914d\u7f6e Flake8\uff0c\u53ef\u4ee5\u5728\u6839\u76ee\u5f55\u4e0b\u653e\u7f6e.flake8 \u6587\u4ef6\u3002\u5c3d\u7ba1\u53ef\u4ee5\u628a\u914d\u7f6e\u6574\u5408\u5230 pyproject.toml \u6587\u4ef6\u4e2d\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u90fd\u63a8\u8350\u4f7f\u7528\u5355\u72ec\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4ee5\u51cf\u5c11 pyproject.toml \u7684\u590d\u6742\u5ea6\u3002\u5bf9\u540e\u9762\u5c06\u63d0\u5230\u7684\u5176\u5b83\u5de5\u5177\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6211\u4eec\u4e5f\u662f\u4e00\u6837\u7684\u6001\u5ea6\u3002</p> <p>.flake8 \u662f\u4e00\u4e2a ini \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a .flake8<pre><code>[flake8]\n# REQUIRED BY BLACK, HTTPS://GITHUB.COM/PSF/BLACK/BLOB/MASTER/.FLAKE8\nmax-line-length = 88\nmax-complexity = 18\nignore = E203, E266, E501, W503, F403, F401\nselect = B,C,E,F,W,T4,B9\ndocstring-convention=google\nper-file-ignores =\n    __init__.py:F401\nexclude =\n    .git,\n    __pycache__,\n    setup.py,\n    build,\n    dist,\n    releases,\n    .venv,\n    .tox,\n    .mypy_cache,\n    .pytest_cache,\n    .vscode,\n    .github,\n    docs/conf.py,\n    tests\n</code></pre></p> <p>\u6211\u4eec\u6392\u9664\u4e86\u5bf9 test \u6587\u4ef6\u8fdb\u884c lint\uff0c\u8fd9\u4e5f\u662f Flake8 \u5f00\u53d1\u8005\u7684\u63a8\u8350\uff0c\u5c3d\u7ba1\u4ee3\u7801\u53ef\u8bfb\u6027\u5341\u5206\u91cd\u8981\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u5e94\u8be5\u5728 test \u4ee3\u7801\u7684\u98ce\u683c\u4e0a\u82b1\u592a\u591a\u5b9d\u8d35\u65f6\u95f4\u3002\u8fd9\u91cc\u6700\u521d\u51e0\u884c\u914d\u7f6e\uff0c\u662f\u4e3a\u4e86\u4e0e black \u517c\u5bb9\u3002\u5982\u679c\u4e0d\u8fd9\u6837\u914d\u7f6e\uff0c\u90a3\u4e48\u7ecf black \u683c\u5f0f\u5316\u7684\u6587\u4ef6\uff0cFlake8 \u603b\u4f1a\u62a5\u9519\uff0c\u800c\u8fd9\u79cd\u62a5\u9519\u5e76\u65e0\u4efb\u4f55\u610f\u4e49\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#42-mypy","title":"4.2. Mypy","text":"<p>Flake8 \u627f\u62c5\u4e86\u4ee3\u7801\u98ce\u683c\u3001\u90e8\u5206\u8bed\u6cd5\u9519\u8bef\u548c\u4ee3\u7801\u590d\u6742\u5ea6\u68c0\u67e5\u7684\u5de5\u4f5c\u3002\u4f46\u662f\uff0c\u5b83\u6ca1\u6709\u5904\u7406\u7c7b\u578b\u68c0\u67e5\u65b9\u9762\u7684\u9519\u8bef\uff0c\u8fd9\u9879\u5de5\u4f5c\u6211\u4eec\u53ea\u80fd\u7559\u7ed9 mypy \u6765\u5b8c\u6210\u3002</p> <p>ppw \u4e2d\u5df2\u7ecf\u96c6\u6210\u4e86 mypy \u6a21\u5757\uff0c\u5e76\u4f1a\u5728 tox \u8fd0\u884c\u65f6\uff0c\u81ea\u52a8\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u770b\u4e0a\u53bb\uff0c\u53ea\u8981\u6211\u4eec\u6309\u7167 PEP484 \u53ca\u51e0\u4e2a\u5173\u8054\u7684 PEP \u6765\u505a\u597d\u7c7b\u578b\u6ce8\u89e3\uff0c\u7136\u540e\u7b80\u5355\u5730\u8fd0\u884c mypy\uff0c\u4f3c\u4e4e\u5c31\u5e94\u8be5\u4e07\u4e8b\u5927\u5409\uff1f\u7136\u800c\uff0c\u5b9e\u8df5\u603b\u662f\u6bd4\u7406\u8bba\u8981\u4e30\u5bcc\u5f97\u591a\uff0c\u6df1\u523b\u5f97\u591a\u3002mypy \u5728\u8fd0\u884c\u68c0\u67e5\u65f6\uff0c\u5e38\u5e38\u4f1a\u9047\u5230\u7b2c\u4e09\u65b9\u5e93\u8fd8\u4e0d\u652f\u6301\u7c7b\u578b\u6ce8\u89e3\u7684\u60c5\u51b5\uff0c\u6216\u8005\u56e0\u4e3a\u914d\u7f6e\u9519\u8bef\uff0c\u5bfc\u81f4 mypy \u5f97\u4e0d\u5230\u9884\u671f\u7684\u7ed3\u679c\u3002\u9047\u5230\u8fd9\u4e9b\u95ee\u9898\u65f6\uff0c\u5c31\u9700\u8981\u6211\u4eec\u7406\u89e3 mypy \u7684\u5de5\u4f5c\u539f\u7406\uff0c\u5e76\u4e14\u5bf9 mypy \u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u4ee5\u4fbf\u8ba9\u5b83\u80fd\u591f\u66f4\u597d\u5730\u5de5\u4f5c\u3002</p> <p>Info</p> <p>\u4e3a\u4ec0\u4e48 ppw \u9009\u62e9\u4e86 mypy\uff1f\u5982\u679c\u4f60\u4f7f\u7528 vscode \u7f16\u7a0b\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u5df2\u7ecf\u4f7f\u7528\u4e86 pyright \u4f5c\u4e3a\u7c7b\u578b\u68c0\u67e5\u5668\u3002\u56e0\u4e3a pylance \u7ed9\u51fa\u7684\u7c7b\u578b\u68c0\u67e5\u9519\u8bef\uff0c\u90fd\u6765\u81ea\u4e8e pyright\u3002\u90a3\u4e48 ppw \u4e3a\u4ec0\u4e48\u8fd8\u8981\u63a8\u8350\u53e6\u4e00\u4e2a\u7c7b\u578b\u68c0\u67e5\u5668\u5462\uff1f</p> <p>\u8fd9\u662f\u56e0\u4e3a\uff0cpyright \u5e76\u4e0d\u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684 python \u89e3\u51b3\u65b9\u6848\u3002\u8981\u5b89\u88c5 pyright\uff0c\u8fd8\u5fc5\u987b\u5b89\u88c5 node\u3002\u5728\u5f00\u53d1\u73af\u5883\u4e0b\uff0cnode \u4e00\u822c\u53ea\u9700\u8981\u5b89\u88c5\u4e00\u6b21\uff0c\u5e76\u4e14\u5b89\u88c5 vscode \u65f6\uff0cnode \u4e5f\u81ea\u52a8\u5b89\u88c5\u4e86\u3002\u4f46\u5728\u7531 tox \u9a71\u52a8\u7684\u77e9\u9635\u6d4b\u8bd5\u73af\u5883\u4e2d\uff0c\u4efb\u4f55\u975e\u7eaf python \u7684\u89e3\u51b3\u65b9\u6848\u90fd\u53ef\u80fd\u5e26\u6765\u989d\u5916\u7684\u590d\u6742\u6027\u3002</p> <p>\u9996\u5148\uff0c\u8ba9\u6211\u4eec\u4ece<code>Any</code>\u8fd9\u4e2a\u7279\u6b8a\u7684\u7c7b\u578b\u8bf4\u8d77\u3002<code>Any</code>\u7c7b\u578b\u7528\u6765\u8868\u660e\u67d0\u4e2a\u53d8\u91cf/\u503c\u5177\u6709\u52a8\u6001\u7c7b\u578b\u3002\u5728\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u8fc7\u591a\u7684<code>Any</code>\u7c7b\u578b\uff0c\u5c06\u964d\u4f4e mypy \u8fdb\u884c\u4ee3\u7801\u68c0\u67e5\u7684\u6709\u6548\u6027\u3002</p> <p>\u96be\u70b9\u5728\u4e8e\uff0c<code>Any</code>\u7c7b\u578b\u7684\u6307\u5b9a\uff0c\u5e76\u4e0d\u4e00\u5b9a\u6765\u6e90\u4e8e\u6211\u4eec\u81ea\u5df1\u4ee3\u7801\u4e2d\u7684\u663e\u5f0f\u58f0\u660e\uff08\u5bf9\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u53ef\u4ee5\u81ea\u884c\u4fee\u6539\uff0c\u53ea\u5728\u975e\u5e38\u5fc5\u8981\u65f6\u624d\u5c0f\u5fc3\u4f7f\u7528<code>Any</code>\uff09\u3002\u5728 mypy \u4e2d\uff0c\u5b83\u8fd8\u4f1a\u81ea\u52a8\u83b7\u5f97\u548c\u4f20\u64ad\u3002mypy \u7684\u89c4\u5219\u662f\uff0c\u5728\u51fd\u6570\u4f53\u5185\u7684\u5c40\u90e8\u53d8\u91cf\uff0c\u5982\u679c\u5b83\u4eec\u6ca1\u6709\u88ab\u663e\u5f0f\u5730\u58f0\u660e\u4e3a\u67d0\u79cd\u7c7b\u578b\uff0c\u65e0\u8bba\u5b83\u4eec\u662f\u5426\u88ab\u8d4b\u521d\u503c\uff0cmypy \u90fd\u4f1a\u5c06\u5176\u63a8\u5bfc\u4e3a<code>Any</code>\u3002\u800c\u5728\u51fd\u6570\u4f53\u5916\u7684\u53d8\u91cf\uff0cmypy \u5219\u4f1a\u4f9d\u636e\u5176\u521d\u503c\u5c06\u5176\u63a8\u5bfc\u4e3a\u67d0\u79cd\u7c7b\u578b\u3002mypy \u8fd9\u6837\u5904\u7406\u7684\u539f\u56e0\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u5b83\u65e0\u6cd5\u5728\u68c0\u67e5\u65f6\u771f\u6b63\u8fd0\u884c\u8fd9\u4e2a\u51fd\u6570\u3002</p> <p>\u6211\u4eec\u5148\u770b\u51fd\u6570\u4f53\u91cc\u7684\u53d8\u91cf\u81ea\u52a8\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u7684\u4f8b\u5b50\uff1a test.py<pre><code>def bar(name):\n    x = 1\n    # REVEAL_TYPE \u662f MYPY \u7684\u4e00\u4e2a\u8c03\u8bd5\u65b9\u6cd5\uff0c\u7528\u4ee5\u63ed\u793a\u67d0\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u3002\u5b83\u4ec5\u5728 MYPY \u68c0\u67e5\u65f6\u624d\u4f1a\u6709\u5b9a\u4e49\uff0c\u5e76\u4f1a\u6253\u5370\u51fa\u53d8\u91cf\u7c7b\u578b\u3002\u4f60\u9700\u8981\u5728\u8c03\u8bd5\u5b8c\u6210\u540e\uff0c\u624b\u52a8\u79fb\u9664\u8fd9\u4e9b\u4ee3\u7801\uff0c\u5426\u5219\u4f1a\u5f15\u8d77 PYTHON \u62a5\u544a NAMEERROR \u9519\u8bef\u3002\n    reveal_type(x)\n    x.foo()\n    return name\n</code></pre> \u6211\u4eec\u5c06\u4e0a\u8ff0\u4ee3\u7801\u5b58\u4e3a test.py\uff0c\u7136\u540e\u901a\u8fc7 mypy \u6765\u8fd0\u884c\u68c0\u67e5\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a <pre><code>test.py:12: note: Revealed type is \"Any\"\n</code></pre> \u9664\u6b64\u4e4b\u5916\uff0c\u5e76\u6ca1\u6709\u5176\u5b83\u522b\u7684\u9519\u8bef\u3002\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u5c3d\u7ba1 x \u88ab\u8d4b\u503c\u4e3a\u6574\u6570 1\uff0c\u4f46\u5b83\u7684\u7c7b\u578b\u4ecd\u7136\u88ab mypy \u63a8\u5bfc\u4e3a<code>Any</code>\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 x \u4e0a\u8c03\u7528\u4efb\u4f55\u65b9\u6cd5\uff0c\u800c\u4e0d\u4f1a\u5f15\u8d77 mypy \u7684\u9519\u8bef\u63d0\u793a\u3002</p> <p>\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u63ed\u793a\u4e86\u51fd\u6570\u4f53\u5916\u7684\u53d8\u91cf\uff0cmypy \u662f\u5982\u4f55\u63a8\u5bfc\u5176\u7c7b\u578b\u7684\uff1a <pre><code>from typing import Any\n\ns = 1           # Statically typed (type int)\nreveal_type(s)  # output: Revealed type is \"builtins.int\"\nd: Any = 1      # Dynamically typed (type Any)\nreveal_type(d)  # output: Revealed type is \"Any\"\n\ns = 'x'         # Type check error\nd = 'x'         # OK\n</code></pre> \u5176\u5b83\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u7684\u60c5\u51b5\u8fd8\u5305\u62ec\u5bfc\u5165\u9519\u8bef\u3002\u5f53 mypy \u9047\u5230 import \u8bed\u53e5\u65f6\uff0c\u5b83\u5c06\u9996\u5148\u5c1d\u8bd5\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5b9a\u4f4d\u8be5\u6a21\u5757\u6216\u8005\u5176\u7c7b\u578b\u6869 (type stub) \u6587\u4ef6\u3002\u7136\u540e Mypy \u5c06\u5bf9\u5bfc\u5165\u7684\u6a21\u5757\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u4f46\u662f\uff0c\u53ef\u80fd\u5b58\u5728\u5bfc\u5165\u5e93\u4e0d\u5b58\u5728\uff08\u6bd4\u5982\u540d\u5b57\u9519\u8bef\u3001\u6ca1\u6709\u5b89\u88c5\u5230 mypy \u8fd0\u884c\u7684\u73af\u5883\u4e2d\uff09\uff0c\u6216\u8005\u8be5\u5e93\u6ca1\u6709\u7c7b\u578b\u6ce8\u89e3\u4fe1\u606f\u7b49\u60c5\u51b5\uff0c\u8fd9\u6837\uff0cmypy \u5c31\u4f1a\u5c06\u5bfc\u5165\u7684\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a<code>Any</code>\u3002</p> <p>Info</p> <p>\u6ce8\u610f\u5230\u5728\u7b2c 4 \u7ae0\u4e2d\uff0c\u6211\u4eec\u751f\u6210\u7684\u6837\u677f\u5de5\u7a0b\u4e2d\uff0c\u5728 sample\\sample \u76ee\u5f55\u4e0b\uff0c\u5b58\u5728\u4e00\u4e2a\u540d\u4e3a py.typed \u7684\u7a7a\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u4f1a\u5728 poetry \u6253\u5305\u8fc7\u7a0b\u4e2d\uff0c\u88ab\u590d\u5236\u5230\u6253\u5305\u540e\u7684\u5305\u4e2d\u3002\u8fd9\u4e2a\u6587\u4ef6\u7684\u4f5c\u7528\u662f\uff0c\u544a\u8bc9\u7c7b\u578b\u68c0\u67e5\u5668 (type checker)\uff0c\u8fd9\u4e2a\u5305\u4e2d\u7684\u6a21\u5757\u90fd\u662f\u5177\u6709\u7c7b\u578b\u6ce8\u89e3\u7684\uff0c\u53ef\u4ee5\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002\u5982\u679c\u4f60\u7684\u5305\u4e2d\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u7c7b\u578b\u68c0\u67e5\u5668\u5c06\u4e0d\u4f1a\u5bf9\u4f60\u7684\u5305\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\u3002</p> <p>py.typed \u5e76\u4e0d\u662f mypy \u7684\u53d1\u660e\uff0c\u800c\u662f PEP 561 \u7684\u89c4\u5b9a\u3002\u6240\u6709\u7c7b\u578b\u68c0\u67e5\u5668\u90fd\u5e94\u8be5\u9075\u5faa\u8fd9\u4e2a\u89c4\u5b9a\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cmypy \u5bfb\u627e\u5bfc\u5165\u5e93\u7684\u65b9\u5f0f\u4e0e python \u5bfb\u627e\u5bfc\u5165\u5e93\u7684\u65b9\u5f0f\u5e76\u4e0d\u5b8c\u5168\u76f8\u540c\u3002\u9996\u5148\uff0cmypy \u6709\u81ea\u5df1\u7684\u641c\u7d22\u8def\u5f84\u3002\u8fd9\u662f\u6839\u636e\u4ee5\u4e0b\u6761\u76ee\u8ba1\u7b97\u5f97\u51fa\u7684\uff1a</p> <ol> <li>MYPYPATH \u73af\u5883\u53d8\u91cf\uff08\u76ee\u5f55\u5217\u8868\uff0c\u5728 UNIX \u7cfb\u7edf\u4e0a\u4ee5\u5192\u53f7\u5206\u9694\uff0c\u5728 Windows \u4e0a\u4ee5\u5206\u53f7\u5206\u9694\uff09\u3002</li> <li>\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 mypy_path \u914d\u7f6e\u9879\u3002</li> <li>\u547d\u4ee4\u884c\u4e2d\u7ed9\u51fa\u7684\u6e90\u7684\u76ee\u5f55\u3002</li> <li>\u6807\u8bb0\u4e3a\u7c7b\u578b\u68c0\u67e5\u5b89\u5168\u7684\u5df2\u5b89\u88c5\u5305\uff08\u8bf7\u89c1 PEP561\uff09\u3002</li> <li>typeshed repo \u7684\u76f8\u5173\u76ee\u5f55\u3002</li> </ol> <p>\u5176\u6b21\uff0c\u9664\u4e86\u5e38\u89c4\u7684 Python \u6587\u4ef6\u548c\u5305\u4e4b\u5916\uff0cmypy \u8fd8\u4f1a\u641c\u7d22\u5b58\u6839\u6587\u4ef6\u3002\u641c\u7d22\u6a21\u5757\u7684\u89c4\u5219 foo \u5982\u4e0b\uff1a</p> <ol> <li>\u641c\u7d22\u67e5\u627e\u641c\u7d22\u8def\u5f84\uff08\u89c1\u4e0a\u6587\uff09\u4e2d\u7684\u6bcf\u4e2a\u76ee\u5f55\uff0c\u76f4\u5230\u627e\u5230\u5339\u914d\u9879\u3002</li> <li>\u5982\u679c\u627e\u5230\u540d\u4e3a\u7684\u5305 foo\uff08\u5373 foo \u5305\u542b__init__.py \u6216__init__.pyi \u6587\u4ef6\u7684\u76ee\u5f55\uff09\uff0c\u5219\u5339\u914d\u3002</li> <li>\u5982\u679c\u627e\u5230\u540d\u4e3a\u7684\u5b58\u6839\u6587\u4ef6 foo.pyi\uff0c\u5219\u5339\u914d\u3002</li> <li>\u5982\u679c\u627e\u5230\u540d\u4e3a\u7684 Python \u6a21\u5757 foo.py\uff0c\u5219\u5339\u914d\u3002</li> </ol> <p>\u89c4\u5219\u6bd4\u8f83\u590d\u6742\uff0c\u4e0d\u8fc7\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ea\u9700\u8981\u5927\u81f4\u4e86\u89e3\u5373\u53ef\uff0c\u5728\u9047\u5230\u95ee\u9898\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67e5\u9605 mypy \u7684\u6587\u6863 \u5982\u4f55\u627e\u5230\u5bfc\u5165\u5e93 \u6765\u89e3\u51b3\u3002\u603b\u4e4b\uff0c\u6211\u4eec\u9700\u8981\u4e86\u89e3\uff0c\u5982\u679c\u67d0\u4e2a\u5bfc\u5165\u5e93\u5728\u4e0a\u9762\u7684\u641c\u7d22\u4e4b\u540e\u4e0d\u80fd\u627e\u5230\uff0cmypy \u5c31\u4f1a\u5c06\u8be5\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a<code>Any</code>\u3002</p> <p>\u9664\u4e86\u4e0a\u8ff0\u83b7\u5f97<code>Any</code>\u7684\u60c5\u51b5\u5916\uff0cmypy \u8fd8\u4f1a\u81ea\u52a8\u5c06<code>Any</code>\u7c7b\u578b\u4f20\u64ad\u5230\u5176\u4ed6\u53d8\u91cf\u4e0a\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u7684\u7c7b\u578b\u662f<code>Any</code>\uff0c\u90a3\u4e48\u5b83\u7684\u4efb\u4f55\u5c5e\u6027\u7684\u7c7b\u578b\u4e5f\u662f<code>Any</code>\uff0c\u5e76\u4e14\u4efb\u4f55\u5bf9\u7c7b\u578b\u4e3a<code>Any</code>\u7684\u8c03\u7528\uff0c\u4e5f\u5c06\u83b7\u5f97<code>Any</code>\u7c7b\u578b\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a <pre><code>def f(x: Any) -&gt; None:\n    # X \u5177\u6709 ANY \u7c7b\u578b\uff0cFOO \u662f X \u7684\u4e00\u4e2a\u5c5e\u6027\uff0c\u6240\u4ee5 X.FOO \u7684\u7c7b\u578b\u4e5f\u662f`ANY`\n    # \u65e2\u7136 X.FOO \u7684\u7c7b\u578b\u662f`ANY`\uff0c\u90a3\u4e48\u5bf9 X.FOO \u7684\u8c03\u7528\uff0c\u4e5f\u5c06\u5bfc\u81f4 MYPY \u5c06 Y \u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a`ANY`\n    y = x.foo()  \n    y.bar()      # \u56e0\u6b64\uff0cmypy \u4f1a\u8ba4\u4e3a\u8fd9\u4e2a\u8c03\u7528\u662f\u5408\u6cd5\u7684\n</code></pre></p> <p>\u4ece PEP 484 \u5f00\u59cb\u5efa\u6784 Python \u7684\u7c7b\u578b\u63d0\u793a\u5927\u53a6\uff0c\u76f4\u5230 PEP 563 \u57fa\u672c\u5b8c\u6210\u5927\u53a6\u7684\u5c01\u9876\u4e4b\u65f6\uff0c\u4ecd\u6709\u5927\u91cf\u7684\u7b2c\u4e09\u65b9\u5e93\u8fd8\u4e0d\u652f\u6301\u7c7b\u578b\u6ce8\u89e3\u3002\u9488\u5bf9\u8fd9\u4e2a\u73b0\u5b9e\uff0cPython \u7684\u7c7b\u578b\u6ce8\u89e3\u662f\u6e10\u8fdb\u5f0f\u7684\uff08\u89c1 PEP 483)\uff0c\u4efb\u4f55\u7c7b\u578b\u68c0\u67e5\u5668\u90fd\u5fc5\u987b\u9762\u5bf9\u8fd9\u4e2a\u73b0\u5b9e\uff0c\u5e76\u7ed9\u51fa\u89e3\u51b3\u65b9\u6848\u3002</p> <p>Mypy \u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u914d\u7f6e\u9879\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u4e9b\u914d\u7f6e\u9879\u65e2\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u4f20\u5165\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u4f20\u5165\u3002</p> <p>\u9ed8\u8ba4\u5730\uff0cmypy \u4f7f\u7528\u5de5\u7a0b\u76ee\u5f55\u4e0b\u7684 mypy.ini \u4f5c\u4e3a\u5176\u914d\u7f6e\u6587\u4ef6\uff1b\u5982\u679c\u8fd9\u4e2a\u6587\u4ef6\u627e\u4e0d\u5230\uff0c\u5219\u4f1a\u4f9d\u6b21\u5bfb\u627e.mypy.ini\uff08\u6ce8\u610f\u524d\u9762\u591a\u4e00\u4e2a'.')\uff0cpyproject.toml, setup.cfg, $XDG_CONFIG_HOME/mypy/config\uff0c ~/.config/mypy/config\uff0c\u6700\u540e\u662f\u3001~/.mypy.ini\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684 mypy \u914d\u7f6e\u6587\u4ef6\u5305\u62ec\u5168\u5c40\u914d\u7f6e\u548c\u9488\u5bf9\u7279\u5b9a\u6a21\u5757\u3001\u5e93\u7684\u8bbe\u7f6e\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>[mypy]\nwarn_redundant_casts = true\nwarn_unused_ignores = true\nwarn_unused_configs = true\n\ndisallow_any_unimported = true\nignore_missing_imports = false\n\n# \u7981\u6b62\u672a\u6ce8\u89e3\u7684\u51fd\u6570\u3001\u6216\u8005\u6ce8\u89e3\u4e0d\u5b8c\u5168\u7684\u51fd\u6570\u3002\ndisallow_untyped_defs = true\n# \u5f53 DISALLOW_UNTYPED_DEFS \u4e3a\u771f\u65f6\uff0c\u4e0b\u9762\u7684\u914d\u7f6e\u65e0\u610f\u4e49\n#DISALLOW_INCOMPLETE_DEFS = TRUE\ndisallow_untyped_calls = true\ndisallow_untyped_decorators = true\n# \u4e0d\u5141\u8bb8\u4f7f\u7528`X: LIST[ANY]` \u6216\u8005 X: LIST`\ndisallow_any_generics = true\n\n# \u663e\u793a\u9519\u8bef\u4ee3\u7801\nshow_error_codes = true\n\n# \u5982\u679c\u51fd\u6570\u8fd4\u56de\u503c\u58f0\u660e\u4e0d\u4e3a ANY\uff0c\u4f46\u5b9e\u9645\u8fd4\u56de ANY\uff0c\u5219\u53d1\u51fa\u8b66\u544a\nwarn_return_any = true\n\n[mypy-fire]\n# CLI.PY \u4e2d\u5f15\u5165\u4e86 PYTHON-FIRE \u5e93\uff0c\u4f46\u5b83\u6ca1\u6709 PY.TYPED \u6587\u4ef6\uff0c\u8fd9\u91cc\u6211\u4eec\u8981\u5bf9\u8be5\u5e93\u5355\u72ec\u8bbe\u7f6e\u5141\u8bb8\u5bfc\u5165\u7f3a\u5931\nignore_missing_imports = true\n</code></pre></p> <p>\u793a\u4f8b\u4e2d\u7ed9\u51fa\u7684\u914d\u7f6e\u9879\u76ee\u662f\u6211\u4eec\u8ba4\u4e3a\u8f83\u4e3a\u91cd\u8981\uff0c\u5e76\u4e14\u4e0e\u9ed8\u8ba4\u503c\u4e0d\u540c\u7684\u90a3\u4e9b\u3002\u5173\u4e8e mypy \u6240\u6709\u914d\u7f6e\u9879\u76ee\u53ca\u5176\u542b\u4e49\u53ef\u4ee5\u53c2\u8003 \u5b98\u65b9\u6587\u6863\u3002\u8fd9\u4e9b\u914d\u7f6e\u9879\uff0c\u65e2\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u65b9\u5f0f\u76f4\u63a5\u4f20\u9012\u7ed9 mypy\u3002\u5f53\u7136\uff0c\u4f7f\u7528\u547d\u4ee4\u884c\u65b9\u5f0f\u4f20\u9012\u65f6\uff0c\u8fd9\u4e9b\u914d\u7f6e\u5c06\u5728\u5168\u5c40\u8303\u56f4\u5185\u53d1\u751f\u4f5c\u7528\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u5bf9\u793a\u4f8b\u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u9879\u9002\u5f53\u5c55\u5f00\u8bf4\u660e\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#421-disallow_untyped_defs","title":"4.2.1. disallow_untyped_defs","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cmypy \u7684\u7c7b\u578b\u68c0\u67e5\u76f8\u5f53\u5bbd\u677e\uff0c\u4ee5\u4fbf\u517c\u5bb9\u4e00\u4e9b\u9648\u65e7\u7684\u9879\u76ee\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u66f4\u4e25\u683c\u7684\u7c7b\u578b\u68c0\u67e5\uff0c\u53ef\u4ee5\u5c06 disallow_untyped_defs \u8bbe\u7f6e\u4e3a true\u3002\u6211\u4eec\u53ef\u4ee5\u6765\u6d4b\u8bd5\u4e00\u4e0b\uff1a test.py<pre><code>def bar(name):\n    return name\n</code></pre> \u51fd\u6570 bar \u6ca1\u6709\u52a0\u4efb\u4f55\u7c7b\u578b\u6ce8\u89e3\uff0c\u663e\u7136\uff0c\u5e94\u8be5\u65e0\u6cd5\u901a\u8fc7 mypy \u7684\u7c7b\u578b\u68c0\u67e5\u3002\u4f46\u5982\u679c\u6211\u4eec\u5728\u547d\u4ee4\u884c\u4e0b\u6267\u884c\uff1a <pre><code>$ mypy test.py\n</code></pre> mypy \u4e0d\u4f1a\u7ed9\u51fa\u4efb\u4f55\u9519\u8bef\u63d0\u793a\u3002\u5982\u679c\u6211\u4eec\u5e26\u4e0a--disallow-untyped-defs \u53c2\u6570\uff1a <pre><code>$ mypy --disallow-untyped-defs test.py\n</code></pre> \u8fd9\u4f1a\u63d0\u793a\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>test.py:7: error: Function is missing a type annotation  [no-untyped-def]\n</code></pre> \u5982\u679c\u662f\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u6765\u8bbe\u7f6e disallow_untyped_defs\uff0c\u50cf\u8fd9\u79cd\u5e03\u5c14\u91cf\uff0c\u5206\u522b\u8bbe\u7f6e\u4e3a true \u6216 false \u5373\u53ef\u3002\u901a\u8fc7\u547d\u4ee4\u884c\u4f20\u5165\u53c2\u6570\u4e00\u5b9a\u662f\u5168\u5c40\u751f\u6548\uff0c\u800c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\uff0c\u5219\u53ef\u4ee5\u5728\u66f4\u7ec6\u81f4\u7684\u7c92\u5ea6\u4e0a\u8fdb\u884c\u914d\u7f6e\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#422-allow-incomplete-defs","title":"4.2.2. allow-incomplete-defs","text":"<p>\u5728\u4e0a\u9762\u7684\u914d\u7f6e\u4e2d\uff0c\u8fd8\u5b58\u5728\u4e00\u4e2a\u540d\u4e3a allow-incomplete-defs \u7684\u9009\u9879\uff0c\u5b83\u9488\u5bf9\u7684\u662f\u51fd\u6570\u53c2\u6570\u53ea\u5b8c\u6210\u4e86\u90e8\u5206\u6ce8\u89e3\u7684\u60c5\u51b5\u3002\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u5141\u8bb8\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981 mypy \u4ec5\u9488\u5bf9\u4e2a\u522b\u573a\u5408\u8fdb\u884c\u4ee5\u4e0b\u914d\u7f6e\uff1a <pre><code>[mypy-special_module]\ndisallow_untyped_defs = false\nallow_incomplete_defs = true\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap06/#423-check_untyped_defs","title":"4.2.3. check_untyped_defs","text":"<p>\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u628a\u5b57\u7b26\u4e32\u4e0e\u4e00\u4e2a\u6574\u6570\u76f8\u52a0\u3002\u8fd9\u663e\u7136\u5e76\u4e0d\u5408\u7406\u3002 <pre><code>def bar()-&gt;None:\n    not_very_wise = \"1\" + 1\n</code></pre> \u5982\u679c\u5b58\u5728\u5168\u5c40\u8bbe\u7f6e disallow_untyped_defs = True\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cmypy \u5c06\u62a5\u544a\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>error: Unsupported operand types for + (\"str\" and \"int\")  [operator]\n</code></pre> \u4f46\u4e8b\u4e8b\u6709\u4f8b\u5916\u3002\u5728\u4f8b\u5916\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u9000\u800c\u6c42\u5176\u6b21\uff0c\u901a\u8fc7\u8bbe\u7f6e check_untyped_defs = True \u5c06\u53ef\u4ee5\u68c0\u67e5\u51fa\u4e0a\u8ff0\u95ee\u9898\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#424-disallow_any_unimported-ignore_missing_imports","title":"4.2.4. disallow_any_unimported \u548c ignore_missing_imports","text":"<p>\u6211\u4eec\u5728\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0c\u5982\u679c mypy \u65e0\u6cd5\u8ffd\u8e2a\u4e00\u4e2a\u5bfc\u5165\u5e93\uff0c\u5c31\u4f1a\u5c06\u8be5\u6a21\u5757\u7684\u7c7b\u578b\u63a8\u65ad\u4e3a<code>Any</code>\uff0c\u4ece\u800c\u8fdb\u4e00\u6b65\u4f20\u64ad\u5230\u6211\u4eec\u7684\u4ee3\u7801\u91cc\uff0c\u4f7f\u5f97\u66f4\u591a\u7684\u7c7b\u578b\u68c0\u67e5\u65e0\u6cd5\u8fdb\u884c\u3002\u5982\u679c\u6211\u4eec\u60f3\u8981\u7981\u6b62\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c06 disallow_any_unimported \u8bbe\u7f6e\u4e3a True\u3002\u8be5\u53c2\u6570\u7684\u7f3a\u7701\u503c\u662f false\u3002</p> <p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u5728\u5168\u5c40\u8303\u56f4\u5185\u5c06 disallow_any_unimported \u8bbe\u7f6e\u4e3a True\uff0c\u7136\u540e\u9488\u5bf9 mypy \u62a5\u544a\u51fa\u6765\u7684\u65e0\u6cd5\u5904\u7406\u5bfc\u5165\u7684\u9519\u8bef\uff0c\u9010\u4e2a\u89e3\u51b3\u3002\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u9009\u62e9\u4e86 fire \u4f5c\u4e3a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5219\u4f1a\u9047\u5230\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>error: Skipping analyzing 'fire': found module but no type hints or library stubs  [import]\n</code></pre> \u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u662f\u77e5\u540d\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u5f80\u5f80\u5728 typeshed \u4e0a\u6ce8\u518c\u8fc7\u7c7b\u578b\u5b58\u6839\u6587\u4ef6\uff0c\u7c7b\u578b\u68c0\u67e5\u5668\uff08\u6bd4\u5982 mypy) \u5e94\u8be5\u80fd\u81ea\u52a8\u627e\u5230\u3002\u5982\u679c\u662f\u4e0d\u77e5\u540d\u7684\u7b2c\u4e09\u65b9\u5e93\uff0c\u6211\u4eec\u53ef\u4ee5\u5347\u7ea7\u5b83\uff0c\u770b\u6700\u65b0\u7248\u672c\u662f\u5426\u652f\u6301\uff0c\u6216\u8005\u5728 pypi \u4e0a\u641c\u7d22\u5b83\u7684\u5b58\u6839\u5e93\u3002\u6bd4\u5982\uff0c\u5bf9<code>fire</code>\uff0c\u5982\u679c pypi \u4e0a\u5b58\u5728\u5b83\u7684\u5b58\u6839\u5e93\uff0c\u5219\u5b83\u7684\u540d\u5b57\u4e00\u5b9a\u662f<code>types-fire</code>\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u7ea0\u6b63\u4e0a\u8ff0\u95ee\u9898\uff1a <pre><code>$ pip install types-fire\n</code></pre> \u5230\u6210\u4e66\u65f6\u4e3a\u6b62\uff0cfire \u7684\u5f00\u53d1\u8005\u5e76\u6ca1\u6709\u4e0a\u4f20\u5b58\u6839\u6587\u4ef6\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u81ea\u5df1\u5199\u4e00\u4e2a<code>fire.pyi</code>\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u5b83\u653e\u5230\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u5173\u4e8e\u5982\u4f55\u5199.pyi \u6587\u4ef6\uff0c\u8bf7\u8bfb\u8005\u81ea\u884c\u641c\u7d22\u3002</p> <p>\u4f46\u5982\u679c\u65e2\u627e\u4e0d\u5230\u5408\u9002\u7684\u5b58\u6839\u5e93\uff0c\u6211\u4eec\u4e5f\u6ca1\u65f6\u95f4\u6765\u5199 pyi \u6587\u4ef6\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 ignore_missing_imports \u8bbe\u7f6e\u4e3a True\uff0c\u8fd9\u6837 mypy \u5c31\u4e0d\u4f1a\u62a5\u9519\u4e86\u3002\u8bf7\u53c2\u8003\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u7b2c 24~26 \u884c\uff0c\u4e0d\u8fc7\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u529b\u907f\u514d\u4f7f\u7528\u8fd9\u4e2a\u9009\u9879\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#425-implicit_optional","title":"4.2.5. implicit_optional","text":"<p>\u5982\u679c\u6709\u4ee5\u4e0b\u7684\u4ee3\u7801\uff1a <pre><code>def foo(arg: str = None) -&gt; None:\n    reveal_type(arg)  # Revealed type is \"Union[builtins.str, None]\"\n</code></pre> \u6211\u4eec\u901a\u8fc7 reveal_type \u5f97\u77e5\uff0cmypy \u5c06<code>arg</code>\u7684\u7c7b\u578b\u63a8\u5bfc\u4e3a Optional[str]\u3002\u8fd9\u4e2a\u63a8\u5bfc\u672c\u8eab\u6ca1\u6709\u9519\uff0c\u4f46\u662f\uff0c\u8003\u8651\u5230 zen of python \u7684\u8981\u6c42\uff0c explicit is better than implicit\uff0c\u6211\u4eec\u5e94\u8be5\u5c06 arg \u7684\u7c7b\u578b\u58f0\u660e\u4e3a<code>arg: Optional[str]</code>\u3002\u4ece 0.980 \u8d77\uff0cmypy \u9ed8\u8ba4\u5c06 implicit_optional \u8bbe\u7f6e\u4e3a Flase\uff08\u5373\u7981\u6b62\u8fd9\u6837\u4f7f\u7528\uff09\uff0c\u56e0\u6b64\uff0c\u8fd9\u4e2a\u9009\u9879\u4e5f\u6ca1\u6709\u51fa\u73b0\u5728\u6211\u4eec\u7684\u793a\u4f8b\u4e2d\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#426-warn_return_any","title":"4.2.6. warn_return_any","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u5e94\u8be5\u8ba9\u51fd\u6570\u8fd4\u56de\u7c7b\u578b\u4e3a<code>Any</code>\uff08\u5982\u679c\u771f\u6709\u7c7b\u578b\u4e0d\u786e\u5b9a\u7684\u60c5\u51b5\uff0c\u5e94\u8be5\u4f7f\u7528\u6cdb\u578b\uff09\u3002\u56e0\u6b64\uff0cmypy \u5e94\u8be5\u68c0\u67e5\u8fd9\u79cd\u60c5\u51b5\u5e76\u62a5\u544a\u4e3a\u9519\u8bef\u3002\u4f46\u662f\uff0cmypy \u7684\u7f3a\u7701\u914d\u7f6e\u5e76\u4e0d\u4f1a\u7981\u6b62\u8fd9\u79cd\u884c\u4e3a\uff0c\u6211\u4eec\u9700\u8981\u81ea\u884c\u4fee\u6539\u3002</p> <p>\u4e3a\u4e86\u4fbf\u4e8e\u7406\u89e3\uff0c\u6211\u4eec\u7ed9\u51fa\u4ee5\u4e0b\u9519\u8bef\u4ee3\u7801\uff1a <pre><code>from typing import Any\n\ndef baz() -&gt; str:\n    return something_that_returns_any()\n\ndef something_that_returns_any() -&gt; Any:\n    ...\n</code></pre> \u5f53 warn_return_any = True \u65f6\uff0cmypy \u5c06\u9488\u5bf9\u4e0a\u8ff0\u4ee3\u7801\u62a5\u544a\u5982\u4e0b\uff1a <pre><code>error: Returning Any from function declared to return \"str\"  [no-any-return]\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap06/#427-show_errors_codes-and-warn_unused_ignores","title":"4.2.7. show_errors_codes and warn_unused_ignores","text":"<p>\u5f53\u6211\u4eec\u4f7f\u7528\u4e86 type ignore \u65f6\uff0c\u6211\u4eec\u4e00\u822c\u4ecd\u7136\u5e0c\u671b mypy \u80fd\u591f\u62a5\u544a\u51fa\u9519\u8bef\u6d88\u606f\uff08\u4f46\u4e0d\u4f1a\u4f7f\u7c7b\u578b\u68c0\u67e5\u5931\u8d25\uff09\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e show_errors_codes = True \u6765\u5b9e\u73b0\u663e\u793a\u9519\u8bef\u4ee3\u7801\u3002\u8fd9\u5bf9\u4e8e\u7406\u89e3\u9519\u8bef\u539f\u56e0\u5f88\u6709\u5e2e\u52a9\u3002</p> <p>\u968f\u7740\u4ee3\u7801\u7684\u4e0d\u65ad\u6f14\u8fdb\uff0c\u6709\u65f6\u5019 type ignore \u4f1a\u53d8\u5f97\u4e0d\u518d\u5fc5\u8981\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u4f9d\u8d56\u7684\u67d0\u4e2a\u7b2c\u4e09\u65b9\u5e93\uff0c\u968f\u7740\u65b0\u7248\u672c\u7684\u53d1\u5e03\uff0c\u8865\u5168\u4e86\u7c7b\u578b\u6ce8\u89e3\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9488\u5bf9\u5b83\u7684 type ignore \u5c31\u4e0d\u518d\u5fc5\u8981\u3002\u53ca\u65f6\u6e05\u7406\u8fd9\u4e9b\u9648\u65e7\u7684\u8bbe\u7f6e\u662f\u4e00\u79cd\u826f\u597d\u4e60\u60ef\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#428-inline-comment","title":"4.2.8. inline comment","text":"<p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0\u6ce8\u91ca\u6765\u63a7\u5236 mypy \u7684\u884c\u4e3a\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728\u4ee3\u7801\u4e2d\u6dfb\u52a0<code># type: ignore</code>\u6765\u5ffd\u7565 mypy \u7684\u68c0\u67e5\u3002\u5982\u679c\u8be5\u6ce8\u91ca\u6dfb\u52a0\u5728\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\uff0c\u90a3\u4e48\u5b83\u5c06\u4f1a\u5ffd\u7565\u6574\u4e2a\u6587\u4ef6\u7684\u68c0\u67e5\u3002\u5982\u679c\u6dfb\u52a0\u5728\u67d0\u4e00\u884c\u7684\u672b\u5c3e\uff0c\u90a3\u4e48\u5b83\u5c06\u4f1a\u5ffd\u7565\u8be5\u884c\u7684\u68c0\u67e5\u3002</p> <p>\u4e00\u822c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u6307\u5b9a\u5ffd\u7565\u67d0\u4e2a\u5177\u4f53\u7684\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u5ffd\u7565\u6574\u884c\u68c0\u67e5\u3002\u5176\u8bed\u6cd5\u662f <code># type: ignore[&lt;error-code&gt;]</code>\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#5-formatter","title":"5. Formatter \u5de5\u5177","text":"<p>Formatter \u5de5\u5177\u4e5f\u6709\u5f88\u591a\u79cd\uff0c\u4f46\u662f\u6211\u4eec\u51e0\u4e4e\u6ca1\u6709\u53bb\u8003\u67e5\u5176\u4ed6\u7684 formatter\uff0c\u5c31\u9009\u62e9\u4e86 black\uff0c\u53ea\u56e0\u4e3a\u5b83\u7684 logo:</p>  The Uncompromising Code Formatter <p>\u4e0e\u5176\u5b83 Formatter \u5de5\u5177\u63d0\u4f9b\u4e86\u4f53\u8d34\u5165\u5fae\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e\u4e0d\u540c\uff0cBlack \u575a\u6301\u4e0d\u8ba9\u60a8\u505a\u4efb\u4f55\u81ea\u5b9a\u4e49\uff08\u51e0\u4e4e\uff09\u3002\u8fd9\u6837\u505a\u662f\u6709\u9053\u7406\u7684\uff0c\u5141\u8bb8\u5b9a\u5236\u53ea\u4f1a\u8ba9\u56e2\u961f\u9677\u5165\u65e0\u610f\u4e49\u5730\u4e89\u8fa9\u5f53\u4e2d\uff0c\u800c\u98ce\u683c\u5e76\u65e0\u5bf9\u9519\uff0c\u4e60\u60ef\u5c31\u597d\u3002\u6211\u4eec\u5e38\u5e38\u770b\u5230\u5728\u56e2\u961f\u91cc\uff0c\u4e00\u4e9b\u4eba\u4e3a\u4ee3\u7801\u98ce\u683c\u4e89\u8bba\uff0c\u5176\u5b9e\u4ed6\u4eec\u53cd\u5bf9\u7684\u5e76\u4e0d\u662f\u67d0\u79cd\u98ce\u683c\u672c\u8eab\uff0c\u4ed6\u4eec\u53ea\u662f\u5728\u53cd\u5bf9\u81ea\u5df1\u7684\u540c\u4e8b\u800c\u5df2\u3002</p> <p>\u5f53\u7136 Black \u8fd8\u662f\u5f00\u4e86\u4e00\u4e2a\u5c0f\u7a97\u53e3\uff0c\u5141\u8bb8\u4f60\u5b9a\u4e49\u4ee3\u7801\u884c\u7684\u6362\u884c\u957f\u5ea6\uff0cBlack \u7684\u63a8\u8350\u662f 88 \u5b57\u7b26\u3002\u6709\u7684\u56e2\u961f\u4f1a\u628a\u8fd9\u4e2a\u66f4\u6539\u4e3a 120 \u5b57\u7b26\u5bbd\uff0c\u6309\u7167\u9634\u8c0b\u8bba\u7684\u89c2\u70b9\uff0c\u5e55\u540e\u7684\u63a8\u624b\u53ef\u80fd\u662f\u751f\u4ea7\u5e26\u9c7c\u5c4f\u7684\u8d44\u672c\u529b\u91cf\u3002</p> <p>\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u628a black \u7684\u8bbe\u7f6e\u653e\u5728 pyproject.toml \u4e2d\uff1a pyproject.toml<pre><code>[tool.black]\nline-length = 88\ninclude = '\\.pyi?$'\n</code></pre></p> <p>\u53e6\u5916\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u5de5\u5177\u662f isort\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5bf9\u4ee3\u7801\u4e2d\u7684 import \u8bed\u53e5\u8fdb\u884c\u683c\u5f0f\u5316\uff0c\u5305\u62ec\u6392\u5e8f\uff0c\u5c06\u4e00\u884c\u91cc\u7684\u591a\u4e2a\u5bfc\u5165\u62c6\u5206\u6210\u6bcf\u884c\u4e00\u4e2a\u5bfc\u5165\uff1b\u59cb\u7ec8\u628a\u5bfc\u5165\u8bed\u53e5\u7f6e\u4e8e\u6b63\u5f0f\u4ee3\u7801\u4e4b\u524d\u7b49\u7b49\u3002\u901a\u8fc7 ppw \u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\uff0c\u8fd9\u4e2a\u5de5\u5177\u4e5f\u5f00\u7bb1\u5373\u7528\u7684\uff1a pyproject.toml<pre><code>[tool.isort]\nprofile = \"black\"\n</code></pre> \u8fd9\u91cc\u7684\u914d\u7f6e\u662f\u9632\u6b62 isort \u4e0e black \u76f8\u51b2\u7a81\u3002\u5b9e\u9645\u4e0a Flake8\u3001black \u548c isort \u90fd\u7684\u914d\u7f6e\u9700\u8981\u7cbe\u5fc3\u540c\u6b65\u624d\u80fd\u907f\u514d\u51b2\u7a81\u3002\u4e00\u65f6\u53d1\u751f\u51b2\u7a81\uff0c\u5c31\u4f1a\u51fa\u73b0\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u88ab A \u5de5\u5177\u6539\u8fc7\u7684\u4ee3\u7801\uff0c\u53c8\u88ab B \u5de5\u5177\u6539\u56de\u53bb\uff0c\u59cb\u7ec8\u65e0\u6cd5\u6536\u655b\u3002</p> <p>\u6bd4\u8f83\u9057\u61be\u7684\u662f\uff0c\u5728 vscode \u4e0b\u6ca1\u6709\u4e00\u4e2a\u597d\u7684\u5de5\u5177\u53ef\u4ee5\u81ea\u52a8\u79fb\u9664\u6ca1\u6709\u4f7f\u7528\u7684\u5bfc\u5165\u3002Pycharm \u662f\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u7684\u3002\u5f00\u6e90\u7684\u5de5\u5177\u4e2d\u6709\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u7684\uff0c\u4f46\u662f\u56e0\u4e3a\u5bb9\u6613\u51fa\u9519\uff0c\u8fd9\u91cc\u4e5f\u5c31\u4e0d\u63a8\u8350\u4e86\u3002</p> <p>\u5728 vscode \u4e2d\uff0cLint \u5de5\u5177\u53ef\u4ee5\u68c0\u67e5\u51fa\u672a\u4f7f\u7528\u7684\u5bfc\u5165\uff0c\u7136\u540e\u60a8\u9700\u8981\u624b\u52a8\u79fb\u9664\u3002\u79fb\u9664\u672a\u4f7f\u7528\u7684<code>import</code>\u662f\u5fc5\u8981\u7684\uff0c\u5b83\u53ef\u4ee5\u9002\u5f53\u52a0\u5feb\u7a0b\u5e8f\u542f\u52a8\u901f\u5ea6\uff0c\u964d\u4f4e\u5185\u5b58\u5360\u7528\uff0c\u5e76\u4e14\u907f\u514d\u5bfc\u5165\u5e26\u6765\u7684\u526f\u4f5c\u7528\u3002</p> <p>Tips</p> <p>\u5bfc\u5165\u4e0d\u719f\u6089\u7684\u7b2c\u4e09\u65b9\u5e93\u53ef\u80fd\u662f\u5371\u9669\u7684\uff01\u4e00\u4e9b\u5e93\u4f1a\u5728\u5168\u5c40\u4f5c\u7528\u57df\u52a0\u5165\u4e00\u4e9b\u53ef\u6267\u884c\u4ee3\u7801\uff0c\u56e0\u6b64\u5f53\u4f60\u5bfc\u5165\u8fd9\u4e9b\u5e93\u65f6\uff0c\u8fd9\u4e9b\u4ee3\u7801\u5c31\u4f1a\u88ab\u6267\u884c\u3002</p>"},{"location":"articles/python/best-practice-python/chap06/#6-pre-commit-hooks","title":"6. pre-commit hooks","text":"<p>\u6211\u4eec\u628a pre-commit hooks \u653e\u5728\u8fd9\u4e00\u7ae0\u91cc\uff0c\u662f\u56e0\u4e3a\u9ad8\u6548\u7684\u7f16\u7801\u4e5f\u5fc5\u987b\u662f\u6b63\u786e\u7684\u7f16\u7801\u3002\u6709\u65f6\u5019\u6211\u4eec\u4f1a\u89c9\u5f97\u56fd\u5185\u7684\u516c\u53f8\u4e0d\u9700\u8981\u8ba1\u5212\u548c\u6587\u6863\uff0c\u9700\u6c42\u3001\u8bbe\u8ba1\u548c\u7f16\u7801\u5404\u65b9\u4e4b\u95f4\u4e0d\u9700\u8981\u53cd\u590d\u534f\u5546\u548c\u6c9f\u901a\uff0c\u4e00\u4e2a\u6307\u4ee4\u4e0b\u6765\uff0c\u5c31\u5f88\u5feb\u5f97\u5230\u6267\u884c\u3002\u8fd9\u88ab\u8ba4\u4e3a\u662f\u6267\u884c\u529b\u5f3a\uff0c\u662f\u4e00\u5927\u4f53\u5236\u4f18\u52bf\uff0c\u4f46\u8fd9\u4e9b\u201c\u6267\u884c\u529b\u201d\u5f3a\u7684\u516c\u53f8\uff0c\u5374\u5f80\u5f80\u53c8\u7d2f\u5f97\u8981\u6b7b\u3002\u65b9\u5411\u4e0d\u6b63\u786e\uff0c\u7d2f\u6b7b\u53c8\u6709\u4f55\u76ca\uff1f</p> <p>pre-commit \u662f\u4e00\u4e2a python \u5305\uff0c\u53ef\u4ee5\u901a\u8fc7 pip \u5b89\u88c5\uff1a <pre><code>$ pip install pre-commit\n</code></pre> pre-commit \u5b89\u88c5\u540e\uff0c\u4f1a\u5728\u4f60\u7684\u9879\u76ee\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a.git/hooks \u76ee\u5f55\uff0c\u91cc\u9762\u6709\u4e00\u4e2a pre-commit \u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u662f\u4e00\u4e2a shell \u811a\u672c\uff0c\u5b83\u4f1a\u5728\u4f60\u6267\u884c git commit \u547d\u4ee4\u65f6\u88ab\u8c03\u7528\u3002pre-commit hooks \u7684\u4f5c\u7528\u662f\u5728\u4f60\u63d0\u4ea4\u4ee3\u7801\u4e4b\u524d\uff0c\u5bf9\u4ee3\u7801\u8fdb\u884c\u68c0\u67e5\uff0c\u5982\u679c\u6709\u9519\u8bef\uff0c\u5c31\u4f1a\u963b\u6b62\u4f60\u63d0\u4ea4\u4ee3\u7801\uff0c\u4ece\u800c\u4fdd\u8bc1\u4ee3\u7801\u5e93\u4e0d\u88ab\u8fd9\u4e9b\u9519\u8bef\u7684\u3001\u4e0d\u5408\u89c4\u8303\u7684\u4ee3\u7801\u6c61\u67d3\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u5411\u5bfc\u751f\u6210\u9879\u76ee\u7684\u8bdd\uff0c\u5411\u5bfc\u5df2\u7ecf\u4e3a\u60a8\u5b89\u88c5\u4e86 pre-commit hooks, \u5f53\u60a8\u8fd0\u884c<code>git commit</code>\u547d\u4ee4\u65f6\uff0c\u5c31\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u8f93\u51fa\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0cpre-commit hooks \u5bf9\u6362\u884c\u7b26\u8fdb\u884c\u4e86\u68c0\u67e5\u548c\u4fee\u590d\uff0c\u8c03\u7528 black \u8fdb\u884c\u4e86\u683c\u5f0f\u5316\uff0c\u4ee5\u53ca\u8c03\u7528 Flake8 \u8fdb\u884c\u4e86\u67e5\u9519\uff0c\u5e76\u62a5\u544a\u5bf9 f-string \u7684\u9519\u8bef\u4f7f\u7528\u3002</p> <p>\u4e00\u65e6\u9519\u8bef\u51fa\u73b0\uff0c\u60a8\u5fc5\u987b\u8fdb\u884c\u4fee\u590d\u540e\uff0c\u624d\u80fd\u518d\u6b21\u63d0\u4ea4\u3002</p> <p>\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86\u8fd9\u4e9b\u914d\u7f6e\uff1a <pre><code>repos:\n-   repo: https://github.com/Lucas-C/pre-commit-hooks\n    rev: v1.1.13\n    hooks:\n    -   id: forbid-crlf\n    -   id: remove-crlf\n    -   id: forbid-tabs\n        exclude_types: [csv]\n    -   id: remove-tabs\n        exclude_types: [csv]\n-   repo: https://github.com/pre-commit/pre-commit-hooks\n    rev: v4.1.0\n    hooks:\n    - id: trailing-whitespace\n    - id: check-merge-conflict\n    - id: check-yaml\n      args: [--unsafe]\n    - id: end-of-file-fixer\n-   repo: https://github.com/pre-commit/mirrors-isort\n    rev: v5.10.1\n    hooks:\n    - id: isort\n-   repo: https://github.com/ambv/black\n    rev: 22.3.0\n    hooks:\n    - id: black\n      language_version: python3.8\n-   repo: https://gitlab.com/pycqa/flake8\n    rev: 3.9.2\n    hooks:\n    -  id: flake8\n       additional_dependencies: [flake8-typing-imports==1.10.0]\n       exclude: ^tests\n-   repo: local\n    hooks:\n    -   id: mypy\n        name: mypy\n        entry: mypy\n        exclude: ^tests\n        language: python\n        types: [python]\n        require_serial: true\n        verbose: true\n</code></pre> \u7b2c\u4e00\u7ec4\u662f pre-commit \u63d0\u4f9b\u7684\u5f00\u7bb1\u5373\u7528\u7684\u94a9\u5b50\u3002\u9996\u5148\uff0c\u5b83\u7981\u6b62\u4f7f\u7528 windows \u7684\u6362\u884c\u7b26\uff0c\u5e76\u4e14\u5c06 windows \u7684\u6362\u884c\u7b26\u90fd\u66ff\u6362\u4e3a unix/linux \u4e0b\u7684\u6362\u884c\u7b26\u3002\u8fd9\u4e48\u505a\u7684\u539f\u56e0\u662f\uff0c\u5982\u679c\u6587\u4ef6\u4f7f\u7528 unix/linux \u4e0b\u7684\u6362\u884c\u7b26\uff0c\u8fd9\u4e9b\u6587\u4ef6\u57fa\u672c\u4e0a\u90fd\u80fd\u88ab windows \u4e0b\u7684\u7f16\u8f91\u8f6f\u4ef6\u6b63\u786e\u5904\u7406\uff1b\u53cd\u4e4b\u5219\u4e0d\u7136\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2a bash \u6216\u8005 perl \u811a\u672c\uff0c\u4f46\u4f7f\u7528\u4e86 windows \u6362\u884c\u7b26\uff0c\u90a3\u4e48\uff0c\u5b83\u5c06\u4e0d\u80fd\u5728 unix/linux \u4e0b\u8fd0\u884c\u3002</p> <p>\u5176\u6b21\uff0c\u5b83\u7981\u6b62\u5728\u6587\u4ef6\u4e2d\u4f7f\u7528 tab \u952e\uff0c\u5e76\u4e14\u5c06 tab \u952e\u66ff\u6362\u4e3a\u7a7a\u683c\u3002\u4ece\u8bed\u6cd5\u4e0a\u770b\uff0c\u53ea\u8981\u4e0d\u6df7\u5408\u4f7f\u7528 tab \u952e\u548c\u7a7a\u683c\u952e\uff0c\u8fd9\u4e24\u79cd\u65b9\u5f0f\u90fd\u662f\u53ef\u4ee5\u7684\u3002\u4f46\u662f\uff0c\u4e0d\u540c\u7684\u7f16\u8f91\u5668\uff08\u7279\u522b\u662f unix/linux \u4e0b\uff09\u5728\u5bf9\u6587\u4ef6\u8fdb\u884c\u89c6\u89c9\u5448\u73b0\u65f6\uff0c\u4f1a\u5c06 tab \u952e\u5c55\u5f00\u6210\u4e0d\u540c\u7684\u5bbd\u5ea6\uff0c\u8fd9\u4f7f\u5f97\u540c\u4e00\u4efd\u6587\u4ef6\uff0c\u5728\u4e0d\u540c\u7684\u7f16\u8f91\u5668\u91cc\uff0c\u770b\u4e0a\u53bb\u5e76\u4e0d\u4e00\u81f4\uff0c\u800c\u5982\u679c\u4f7f\u7528 space\uff0c\u5219\u4e0d\u4f1a\u6709\u8fd9\u4e2a\u95ee\u9898\u3002\u6b64\u5916\uff0c\u53ea\u4f7f\u7528\u7a7a\u683c\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u597d\u5904\uff0c\u5c31\u662f\u8d5a\u94b1\u66f4\u591a\uff1a\u6839\u636e stackoverflow \u5bf9 2.8 \u4e07\u540d\u4e13\u4e1a\u5f00\u53d1\u8005\uff08\u6392\u9664\u4e86\u5b66\u751f\uff09\u7684\u8c03\u67e5\uff0c\u4f7f\u7528\u7a7a\u683c\u7684\u5f00\u53d1\u8005\u7684\u85aa\u8d44\u603b\u4f53\u4e0a\u8981\u6bd4\u4f7f\u7528 Tab \u952e\u7684\u5f00\u53d1\u90fd\u9ad8 8.6%\u3002\u8fd9\u9879\u62a5\u544a\u53d1\u8868\u5728 stackoverflow \u7684 2017 \u5e74 6 \u6708 5 \u65e5\u7684 \u535a\u5ba2\u3002\u8fd9\u5f53\u7136\u662f\u5c5e\u4e8e\u7a0b\u5e8f\u5458\u7684\u5e7d\u9ed8\uff0c\u60a8\u53ef\u4ee5\u5f53\u771f\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5fc5\u5f53\u771f\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5e76\u975e\u6240\u6709\u7684\u6587\u4ef6\u4e2d\u7684 tab \u952e\u90fd\u9700\u8981\u88ab\u66ff\u6362\u3002\u5178\u578b\u7684\u4f8b\u5b50\u662f\u5728 csv \u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u4f7f\u7528 Tab \u952e\u4f5c\u4e3a\u5b57\u6bb5\u4e4b\u95f4\u7684\u5206\u9694\u7b26\uff0c\u56e0\u6b64\u5b83\u4eec\u5fc5\u987b\u88ab\u4fdd\u7559\u3002\u5728\u4e0a\u8ff0\u914d\u7f6e\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u5c06 csv \u6587\u4ef6\u6392\u9664\u5728\u5916\u4e86\u3002</p> <p>\u7b2c\u4e8c\u7ec4\u4ecd\u7136\u662f pre-commit \u63d0\u4f9b\u7684\u5f00\u7bb1\u5373\u7528\u7684\u94a9\u5b50\u3002\u5b83\u9996\u5148\u79fb\u9664\u4e86\u884c\u5c3e\u7684\u591a\u4f59\u7684\u7a7a\u683c\u3002\u5173\u4e8e\u4e3a\u4ec0\u4e48\u8981\u79fb\u9664\u884c\u5c3e\u591a\u4f59\u7684\u7a7a\u683c\uff0c\u5728 PEP8 \u4e2d\u6709\u7b80\u8981\u5730\u8bf4\u660e\u3002\u7136\u540e\u5b83\u68c0\u67e5\u662f\u5426\u5b58\u5728\u672a\u5b8c\u6210\u5408\u5e76\u7684\u4ee3\u7801\u6587\u4ef6\uff0c\u68c0\u67e5 yaml \u6587\u4ef6\u662f\u5426\u5408\u4e4e\u89c4\u8303\u3002</p> <p>\u6ce8\u610f\u5230\u8fd9\u91cc\u6709\u4e00\u4e2a end-of-file-fixer \u94a9\u5b50\uff0c\u8fd9\u4e2a\u94a9\u5b50\u7684\u4f5c\u7528\u662f\uff0c\u5728\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u4ec5\u542b\u6362\u884c\u7b26\u7684\u7a7a\u884c\u3002\u76f8\u4fe1\u5f88\u5c11\u6709\u4eba\u771f\u6b63\u7406\u89e3\u5b83\u7684\u542b\u4e49\u3002\u5b9e\u9645\u4e0a\uff0c\u76f8\u5173\u7684\u95ee\u9898\u5728 quora \u548c stackoverflow \u4e0a\u6709\u5f88\u591a\u63d0\u95ee\uff0c\u7b54\u6848\u4e5f\u83ab\u8877\u4e00\u662f\u3002</p> <p>\u5176\u4e2d\u4e00\u4e2a\u8bf4\u6cd5\u662f\uff0cPOSIX \u6807\u51c6\u4e2d\uff0c\u5bf9\u4e00\u884c\u6587\u672c\u7684\u5b9a\u4e49\u5c31\u662f\u96f6\u4e2a\u6216\u591a\u4e2a\u975e\u6362\u884c\u7b26\u52a0\u4e0a\u7ec8\u6b62\u6362\u884c\u7b26\u7684\u5e8f\u5217\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4e00\u884c\u6587\u672c\u4e0d\u4ee5\u6362\u884c\u7b26\u7ed3\u5c3e\uff0c\u5b83\u5c31\u53ef\u80fd\u88ab\u5404\u79cd\u5de5\u5177\u5f53\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u4f46\u8fd9\u5e76\u4e0d\u80fd\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u7ed9\u6587\u4ef6\u672b\u5c3e\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u884c\u3002</p> <p>\u4f5c\u8005\u66f4\u503e\u5411\u4e8e\u8fd9\u79cd\u89c2\u70b9\uff1a\u8fd9\u4e3b\u8981\u662f\u4e3a\u4e86\u7167\u987e\u4f7f\u7528 Unix \u548c Linux \u7684\u4eba\u3002\u5982\u679c\u4f60\u7528 vi \u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\uff0c\u60f3\u5728\u540e\u9762\u6dfb\u52a0\u4e00\u4e9b\u65b0\u7684\u5185\u5bb9\uff0c\u5982\u679c\u8be5\u6587\u4ef6\u4ee5\u4e00\u4e2a\u7a7a\u884c\u7ed3\u5c3e\uff0c\u90a3\u4e48 Ctrl+G \u5c31\u53ef\u4ee5\u76f4\u63a5\u8df3\u8f6c\u5230\u6587\u4ef6\u7ed3\u5c3e\uff0c\u7acb\u5373\u5f00\u59cb\u5de5\u4f5c\u3002\u53cd\u4e4b\uff0cCtrl+G \u53ea\u80fd\u8df3\u5230\u6700\u540e\u4e00\u884c\u7684\u5f00\u5934\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u539f\u56e0\u662f\uff0c\u5982\u679c\u4f60\u60f3\u4f7f\u7528 cat \u62fc\u63a5\u51e0\u4e2a\u6587\u4ef6\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u90fd\u4e0d\u662f\u4ee5\u7a7a\u884c\uff08\u5e26\u6362\u884c\u7b26\uff09\u7ed3\u5c3e\u7684\uff0c\u90a3\u4e48\u524d\u4e00\u4e2a\u6587\u4ef6\u7684\u6700\u540e\u4e00\u884c\u5c06\u4f1a\u4e0e\u540e\u4e00\u4e2a\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u6df7\u5408\u5728\u4e00\u8d77\uff0c\u800c\u4e0d\u662f\u50cf\u671f\u5f85\u7684\u90a3\u6837\uff0c\u5404\u5360\u4e00\u884c\u3002</p> <p>\u5728\u6587\u4ef6\u5c3e\u52a0\u4e0a\u4e00\u4e2a\u7a7a\u884c\u5e76\u4e0d\u662f\u4ec0\u4e48\u91cd\u8981\u7684\u529f\u80fd\uff0c\u53ea\u662f unix/linux \u751f\u6001\u5708\u91cc\u51e0\u4e4e\u6240\u6709\u7684\u5de5\u5177\u90fd\u662f\u8fd9\u4e48\u8fd0\u4f5c\u7684\u3002\u6211\u4eec\u5c0a\u91cd\u8fd9\u4e2a\u4e60\u60ef\u5c31\u597d\u3002</p> <p>\u63a5\u4e0b\u6765\u90fd\u662f\u5728 pre-commit \u4e2d\u8c03\u7528\u7b2c\u4e09\u65b9\u5de5\u5177\u5b9e\u73b0\u76f8\u5173\u529f\u80fd\u7684\u914d\u7f6e\u3002\u6211\u4eec\u914d\u7f6e\u4e86 isort\uff0cblack\uff0c Flake8 \u548c mypy\u3002</p> <p>mypy \u7684\u914d\u7f6e\u6709\u70b9\u4e0e\u4f17\u4e0d\u540c\u3002\u5b83\u6ca1\u6709\u4f7f\u7528\u8fdc\u7a0b\u7684 repo\uff0c\u800c\u662f\u4f7f\u7528\u4e86 local\u3002mypy \u5b98\u65b9\u5e76\u6ca1\u6709\u63d0\u4f9b\u4e0e pre-commit \u7684\u96c6\u6210\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u4e86\u76f4\u63a5\u5728 pre-commit \u4e2d\u8c03\u7528\u672c\u5730 mypy \u547d\u4ee4\u7684\u65b9\u6cd5\u3002</p> <p>\u8fd9\u4e00\u7ae0\u7684\u4e3b\u9898\u662f\u9ad8\u6548\u7f16\u7801\u3002\u6211\u4eec\u5148\u662f\u4ecb\u7ecd\u4e86\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u5de5\u5177\uff0c\u7136\u540e\u8bb2\u8ff0\u4e86\u5982\u4f55\u5229\u7528\u8bed\u6cd5\u68c0\u67e5\u5de5\u5177\u5c3d\u65e9\u53d1\u73b0\u5e76\u4fee\u590d\u9519\u8bef\uff0c\u907f\u514d\u628a\u8fd9\u4e9b\u9519\u8bef\u5e26\u5165\u5230\u6d4b\u8bd5\u751a\u81f3\u751f\u4ea7\u73af\u5883\u4e2d\u3002\u5728\u6211\u4eec\u4ecb\u7ecd\u7684\u65b9\u6848\u4e2d\uff0c\u8bed\u6cd5\u68c0\u67e5\u662f\u968f\u7740\u60a8\u7684 coding \u5b9e\u65f6\u5c55\u5f00\u7684\uff0c\u5e76\u5728\u5411\u4ee3\u7801\u5e93\u63d0\u4ea4\u65f6\uff0c\u5f3a\u5236\u6267\u884c\u4e00\u6b21\u68c0\u67e5\u3002\u540e\u9762\u60a8\u8fd8\u4f1a\u770b\u5230\uff0c\u5728\u8fd0\u884c\u6d4b\u8bd5\u65f6\uff0c\u8fd8\u4f1a\u518d\u505a\u4e00\u6b21\u68c0\u67e5\uff0c\u901a\u8fc7\u8fd9\u6837\u5206\u5c42\u5f0f\u7684\u8bbe\u9632\u4e0e\u68c0\u67e5\uff0c\u5e2e\u52a9\u60a8\u7684\u9879\u76ee\u907f\u514d\u51fa\u73b0\u91cd\u5927\u9519\u8bef\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/","title":"07 \u4ee3\u7801\u5355\u5143\u6d4b\u8bd5","text":"<p>Quote</p> <p>Testing leads to failure. Failure leads to understanding.</p> <p>\u5355\u5143\u6d4b\u8bd5\u7684\u6982\u5ff5\u53ef\u80fd\u591a\u6570\u8bfb\u8005\u90fd\u6709\u63a5\u89e6\u8fc7\u3002\u4f5c\u4e3a\u5f00\u53d1\u4eba\u5458\uff0c\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u6846\u67b6\u53d1\u73b0\u8fd9\u4e9b\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5c06\u5b83\u4eec\u7ec4\u88c5\u6210\u6d4b\u8bd5 suite \u5e76\u8fd0\u884c\uff0c\u6536\u96c6\u6d4b\u8bd5\u62a5\u544a\uff0c\u5e76\u4e14\u63d0\u4f9b\u6d4b\u8bd5\u57fa\u7840\u8bbe\u65bd\uff08\u65ad\u8a00\u3001mock\u3001setup \u548c teardown \u7b49\uff09\u3002Python \u5f53\u4e2d\u6700\u4e3b\u6d41\u7684\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\u6709\u4e09\u79cd\uff0cPytest, nose \u548c Unittest\uff0c\u5176\u4e2d Unittest \u662f\u6807\u51c6\u5e93\uff0c\u5176\u5b83\u4e24\u79cd\u662f\u7b2c\u4e09\u65b9\u5de5\u5177\u3002\u5728 ppw \u5411\u5bfc\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5c31\u4f7f\u7528\u4e86 Pytest \u6765\u9a71\u52a8\u6d4b\u8bd5\u3002</p> <p>\u8fd9\u91cc\u4e3b\u8981\u6bd4\u8f83\u4e00\u4e0b pytest \u548c unittest\u3002\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5f53\u6211\u4eec\u9009\u62e9\u5355\u5143\u6d4b\u8bd5\u6846\u67b6\u65f6\uff0c\u9009\u62e9\u4e8c\u8005\u4e4b\u4e00\u5c31\u597d\u4e86\u3002unitttest \u57fa\u4e8e\u7c7b\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\uff0c\u800c pytest \u5219\u662f\u51fd\u6570\u5f0f\u7684\uff0c\u57fa\u4e8e\u6a21\u5757\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\uff0c\u540c\u65f6\u5b83\u4e5f\u63d0\u4f9b\u4e86 group \u6982\u5ff5\u6765\u7ec4\u7ec7\u6d4b\u8bd5\u7528\u4f8b\u3002pytest \u7684 mock \u662f\u57fa\u4e8e\u7b2c\u4e09\u65b9\u7684 pytest-mock\uff0c\u800c pytest-mock \u5b9e\u9645\u4e0a\u53ea\u662f\u5bf9\u6807\u51c6\u5e93\u4e2d\u7684 mock \u7684\u7b80\u5355\u5c01\u88c5\u3002\u5355\u5143\u6d4b\u8bd5\u90fd\u4f1a\u6709 setup \u548c teardown \u7684\u6982\u5ff5\uff0cunittest \u76f4\u63a5\u4f7f\u7528\u4e86 setUp \u548c tearDown \u4f5c\u4e3a\u6d4b\u8bd5\u5165\u53e3\u548c\u7ed3\u675f\u7684 API\u3002\u5728 pytest \u4e2d\uff0c\u5219\u662f\u901a\u8fc7 fixture \u6765\u5b9e\u73b0\uff0c\u8fd9\u65b9\u9762\u5b66\u4e60\u66f2\u7ebf\u53ef\u80fd\u7a0d\u5fae\u9661\u5ced\u4e00\u70b9\u3002\u5728\u65ad\u8a00\u65b9\u9762\uff0cpytest \u4f7f\u7528 python \u7684\u5173\u952e\u5b57 assert \u8fdb\u884c\u65ad\u8a00\uff0c\u6bd4 unittest \u66f4\u4e3a\u7b80\u6d01\uff0c\u4e0d\u8fc7\u65ad\u8a00\u7c7b\u578b\u4e0a\u6ca1\u6709 unittest \u4e30\u5bcc\u3002</p> <p>\u53e6\u5916\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u533a\u522b\u662f\uff0cunittest \u4ece python 3.8 \u8d77\u5c31\u5185\u5728\u5730\u652f\u6301 asyncio\uff0c\u800c\u5728 pytest \u4e2d\uff0c\u5219\u9700\u8981\u63d2\u4ef6 pytest-asyncio \u6765\u652f\u6301\u3002\u4f46\u4e24\u8005\u5728\u6d4b\u8bd5\u7684\u517c\u5bb9\u6027\u4e0a\u5e76\u6ca1\u6709\u5927\u7684\u4e0d\u540c\u3002</p> <p>pytest \u7684\u4e3b\u8981\u4f18\u52bf\u662f\u6709\uff1a</p> <ol> <li>pytest \u7684\u6d4b\u8bd5\u7528\u4f8b\u66f4\u7b80\u6d01\u3002\u7531\u4e8e\u6d4b\u8bd5\u7528\u4f8b\u5e76\u4e0d\u662f\u6b63\u5f0f\u4ee3\u7801\uff0c\u5f00\u53d1\u8005\u5f53\u7136\u5e0c\u671b\u5c11\u82b1\u65f6\u95f4\u5728\u8fd9\u4e9b\u4ee3\u7801\u4e0a\uff0c\u56e0\u6b64\u4ee3\u7801\u7684\u7b80\u6d01\u7a0b\u5ea6\u5f88\u91cd\u8981\u3002</li> <li>\u63d0\u4f9b\u4e86\u547d\u4ee4\u884c\u5de5\u5177\u3002\u5982\u679c\u6211\u4eec\u4ec5\u4f7f\u7528 unittest\uff0c\u5219\u6267\u884c\u5355\u5143\u6d4b\u8bd5\u5fc5\u987b\u8981\u4f7f\u7528<code>python -m unittest</code>\u6765\u6267\u884c\uff1b\u800c\u901a\u8fc7 pytest \u6765\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8c03\u7528<code>pytest .</code>\u5373\u53ef\u3002</li> <li>pytest \u63d0\u4f9b\u4e86 marker\uff0c\u53ef\u4ee5\u66f4\u65b9\u4fbf\u5730\u51b3\u5b9a\u54ea\u4e9b\u7528\u4f8b\u6267\u884c\u6216\u8005\u4e0d\u6267\u884c\u3002</li> <li>pytest \u63d0\u4f9b\u4e86\u53c2\u6570\u5316\u6d4b\u8bd5\u3002</li> </ol> <p>\u8fd9\u91cc\u6211\u4eec\u7b80\u8981\u5730\u4e3e\u4f8b\u8bf4\u660e\u4e00\u4e0b\u4ec0\u4e48\u662f\u53c2\u6570\u5316\u6d4b\u8bd5\uff0c\u4ee5\u4fbf\u8bfb\u8005\u7406\u89e3\u4e3a\u4ec0\u4e48\u53c2\u6570\u5316\u6d4b\u8bd5\u662f\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u4f18\u70b9\u3002 <pre><code># \u793a\u4f8b 7 - 1\nimport pytest\nfrom datetime import datetime\nfrom src.example import get_time_of_day\n\n@pytest.mark.parametrize(\n    \"datetime_obj, expect\",\n    [\n        (datetime(2016, 5, 20, 0, 0, 0), \"Night\"),\n        (datetime(2016, 5, 20, 1, 10, 0), \"Night\"),\n        (datetime(2016, 5, 20, 6, 10, 0), \"Morning\"),\n        (datetime(2016, 5, 20, 12, 0, 0), \"Afternoon\"),\n        (datetime(2016, 5, 20, 14, 10, 0), \"Afternoon\"),\n        (datetime(2016, 5, 20, 18, 0, 0), \"Evening\"),\n        (datetime(2016, 5, 20, 19, 10, 0), \"Evening\"),\n    ],\n)\ndef test_get_time_of_day(datetime_obj, expect, mocker):\n    mock_now = mocker.patch(\"src.example.datetime\")\n    mock_now.now.return_value = datetime_obj\n\n    assert get_time_of_day() == expect\u200b\n</code></pre> \u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u7528\u4e0d\u540c\u7684\u65f6\u95f4\u53c2\u6570\uff0c\u6765\u6d4b\u8bd5 get_time_of_day \u8fd9\u4e2a\u65b9\u6cd5\u3002\u5982\u679c\u4f7f\u7528 unittest\uff0c\u6211\u4eec\u9700\u8981\u5199\u4e00\u4e2a\u5faa\u73af\uff0c\u4f9d\u6b21\u8c03\u7528 get_time_of_day()\uff0c\u7136\u540e\u5bf9\u6bd4\u7ed3\u679c\u3002\u800c\u5728 pytest \u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4f7f\u7528 parametrize \u8fd9\u4e2a\u6ce8\u89e3\uff0c\u5c31\u53ef\u4ee5\u4f20\u5165\u53c2\u6570\u6570\u7ec4\uff08\u5305\u62ec\u671f\u671b\u7684\u7ed3\u679c\uff09\uff0c\u8fdb\u884c\u591a\u6b21\u6d4b\u8bd5\uff0c\u4e0d\u4ec5\u4ee3\u7801\u91cf\u8981\u5c11\u4e0d\u5c11\uff0c\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8fd9\u79cd\u5199\u6cd5\u66f4\u52a0\u6e05\u6670\u3002</p> <p>\u57fa\u4e8e\u4ee5\u4e0a\u539f\u56e0\uff0c\u5728\u540e\u9762\u7684\u5185\u5bb9\u4e2d\uff0c\u6211\u4eec\u5c06\u4e3b\u8981\u4ee5 pytest \u4e3a\u4f8b\u8fdb\u884c\u4ecb\u7ecd\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#1","title":"1. \u6d4b\u8bd5\u4ee3\u7801\u7684\u7ec4\u7ec7","text":"<p>\u6211\u4eec\u4e00\u822c\u5c06\u6240\u6709\u7684\u6d4b\u8bd5\u4ee3\u7801\u90fd\u5f52\u7c7b\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684 tests \u6587\u4ef6\u5939\u4e2d\u3002\u6bcf\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u7684\u540d\u5b57\uff0c\u8981\u4e48\u4f7f\u7528 test_.py\uff0c\u8981\u4e48\u4f7f\u7528_test.py\u3002\u8fd9\u662f\u6d4b\u8bd5\u6846\u67b6\u7684\u8981\u6c42\u3002\u53ea\u6709\u8fd9\u6837\uff0c\u5728\u6211\u4eec\u6267\u884c\u547d\u4ee4\u5982<code>pytest tests</code>\u65f6\uff0c\u6d4b\u8bd5\u6846\u67b6\u624d\u80fd\u4ece\u8fd9\u4e9b\u6587\u4ef6\u4e2d\u53d1\u73b0\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5e76\u4e14\u7ec4\u5408\u6210\u4e00\u4e2a\u4e2a\u5f85\u6267\u884c\u7684 suite\u3002</p> <p>\u5728 test_*.py \u4e2d\uff0c\u51fd\u6570\u540d\u4e00\u6837\u8981\u9075\u5faa\u4e00\u5b9a\u7684\u6a21\u5f0f\uff0c\u6bd4\u5982\u4f7f\u7528 test_xxx\u3002\u4e0d\u9075\u5faa\u89c4\u5219\u7684\u6d4b\u8bd5\u51fd\u6570\uff0c\u4e0d\u4f1a\u88ab\u6267\u884c\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u6d4b\u8bd5\u6587\u4ef6\u5e94\u8be5\u4e0e\u529f\u80fd\u6a21\u5757\u6587\u4ef6\u4e00\u4e00\u5bf9\u5e94\u3002\u5982\u679c\u88ab\u6d4b\u4ee3\u7801\u6709\u591a\u91cd\u6587\u4ef6\u5939\uff0c\u5bf9\u5e94\u7684\u6d4b\u8bd5\u4ee3\u7801\u4e5f\u5e94\u8be5\u6309\u540c\u6837\u7684\u76ee\u5f55\u6765\u7ec4\u7ec7\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u5c06\u5546\u4e1a\u903b\u8f91\u4e0e\u5176\u6d4b\u8bd5\u4ee3\u7801\u5bf9\u5e94\u8d77\u6765\uff0c\u65b9\u4fbf\u6211\u4eec\u6dfb\u52a0\u65b0\u7684\u6d4b\u8bd5\u7528\u4f8b\u548c\u5bf9\u6d4b\u8bd5\u7528\u4f8b\u8fdb\u884c\u91cd\u6784\u3002</p> <p>\u6bd4\u5982\u5728 ppw \u751f\u6210\u7684\u793a\u4f8b\u5de5\u7a0b\u4e2d\uff0c\u6211\u4eec\u6709\uff1a <pre><code>sample\n\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py\n\u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 test_app.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test_cli.py\n</code></pre></p> <p>\u8fd9\u91cc\u867d\u7136\u53ea\u6709\u4e00\u7ea7\u76ee\u5f55\uff0c\u4f46\u76ee\u5f55\u91cc\u7684\u6587\u4ef6\u540d\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\u6ce8\u610f\u8fd9\u91cc\u9762\u7684__init__.py \u6587\u4ef6\uff0c\u5982\u679c\u7f3a\u5c11\u8fd9\u4e2a\u6587\u4ef6\u7684\u8bdd\uff0ctests \u5c31\u4e0d\u4f1a\u6210\u4e3a\u4e00\u4e2a\u5408\u6cd5\u7684\u5305\uff0c\u4ece\u800c\u5bfc\u81f4 pytest \u65e0\u6cd5\u6b63\u786e\u5bfc\u5165\u6d4b\u8bd5\u7528\u4f8b\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#2-pytest","title":"2. PYTEST","text":"<p>\u4f7f\u7528 pytest \u5199\u6d4b\u8bd5\u7528\u4f8b\u5f88\u7b80\u5355\u3002\u5047\u8bbe sample\\app.py \u5982\u4e0b\u6240\u793a\uff1a <pre><code># \u793a\u4f8b 7 - 2\ndef inc(x:int)-&gt;int:\n    return x + 1\n</code></pre> \u5219\u6211\u4eec\u7684 test_app.py \u53ea\u9700\u8981\u6709\u4ee5\u4e0b\u4ee3\u7801\u5373\u53ef\u5b8c\u6210\u6d4b\u8bd5\uff1a <pre><code># \u793a\u4f8b 7 - 3\nimport pytest\nfrom sample.app import inc\n\ndef test_inc():\n    assert inc(3) == 4\n</code></pre> \u8fd9\u6bd4 unittest \u4e0b\u7684\u4ee3\u7801\u8981\u7b80\u6d01\u5f88\u591a\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#21","title":"2.1. \u6d4b\u8bd5\u7528\u4f8b\u7684\u7ec4\u88c5","text":"<p>\u5728 pytest \u4e2d\uff0cpytest \u4f1a\u6309\u4f20\u5165\u7684\u6587\u4ef6\uff08\u6216\u8005\u6587\u4ef6\u5939\uff09\uff0c\u641c\u7d22\u5176\u4e2d\u7684\u6d4b\u8bd5\u7528\u4f8b\u5e76\u7ec4\u88c5\u6210\u6d4b\u8bd5\u96c6\u5408 (suite)\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5b83\u8fd8\u80fd\u901a\u8fc7 pytest.mark \u6765\u6807\u8bb0\u54ea\u4e9b\u6d4b\u8bd5\u7528\u4f8b\u662f\u9700\u8981\u6267\u884c\u7684\uff0c\u54ea\u4e9b\u6d4b\u8bd5\u7528\u4f8b\u662f\u9700\u8981\u8df3\u8fc7\u7684\u3002</p> <pre><code># \u793a\u4f8b 7 - 4\nimport pytest\n\n@pytest.mark.webtest\ndef test_send_http():\n    pass  # perform some webtest test for your app\n\ndef test_something_quick():\n    pass\n\ndef test_another():\n    pass\n\nclass TestClass:\n    def test_method(self):\n        pass\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u9009\u62e9\u53ea\u6267\u884c\u6807\u8bb0\u4e3a webtest \u7684\u6d4b\u8bd5\u7528\u4f8b\uff1a <pre><code>$ pytest -v -m webtest\n\n=========================== test session starts ============================\nplatform linux -- Python 3.x.y, pytest-7.x.y, pluggy-1.x.y -- $PYTHON_PREFIX/bin/python\ncachedir: .pytest_cache\nrootdir: /home/sweet/project\ncollecting ... collected 4 items / 3 deselected / 1 selected\n\ntest_server.py::test_send_http PASSED                                [100%]\n\n===================== 1 passed, 3 deselected in 0.12s ======================\n</code></pre> \u4ece\u8f93\u51fa\u53ef\u4ee5\u770b\u51fa\uff0c\u53ea\u6709 test_send_http \u88ab\u6267\u884c\u4e86\u3002</p> <p>\u8fd9\u91cc\u7684 webtest \u662f\u81ea\u5b9a\u4e49\u7684\u6807\u8bb0\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528 pytest \u7684\u5185\u7f6e\u6807\u8bb0\u6765\u7b5b\u9009\u7528\u4f8b\uff1a 1. pytest.mark.filterwarnings\uff0c \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0 filterwarnings \u6807\u8bb0\uff0c\u53ef\u4ee5\u5ffd\u7565\u8b66\u544a\u4fe1\u606f\u3002 2. pytest.mark.skip\uff0c\u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0 skip \u6807\u8bb0\uff0c\u53ef\u4ee5\u8df3\u8fc7\u6d4b\u8bd5\u7528\u4f8b\u3002 3. pytest.mark.skipif, \u7ed9\u6d4b\u8bd5\u7528\u4f8b\u6dfb\u52a0 skipif \u6807\u8bb0\uff0c\u53ef\u4ee5\u6839\u636e\u6761\u4ef6\u8df3\u8fc7\u6d4b\u8bd5\u7528\u4f8b\u3002 4. pytest.mark.xfail, \u5728\u67d0\u4e9b\u6761\u4ef6\u4e0b\uff08\u6bd4\u5982\u8fd0\u884c\u5728\u67d0\u4e2a os \u4e0a\uff09\uff0c\u7528\u4f8b\u672c\u5e94\u8be5\u5931\u8d25\uff0c\u6b64\u65f6\u5c31\u5e94\u4f7f\u7528\u6b64\u6807\u8bb0\uff0c\u4ee5\u4fbf\u5728\u6d4b\u8bd5\u62a5\u544a\u4e2d\u6807\u8bb0\u51fa\u6765\u3002</p> <p>\u8fd9\u4e9b\u6807\u8bb0\u53ef\u4ee5\u7528 pytest --markers \u547d\u4ee4\u67e5\u770b\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#22-pytest","title":"2.2. pytest \u65ad\u8a00","text":"<p>\u5728\u6d4b\u8bd5\u65f6\uff0c\u5f53\u6211\u4eec\u8c03\u7528\u4e00\u4e2a\u65b9\u6cd5\u4e4b\u540e\uff0c\u9700\u8981\u5c06\u5176\u8fd4\u56de\u7ed3\u679c\u4e0e\u671f\u671b\u7ed3\u679c\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u5224\u5b9a\u8be5\u6d4b\u8bd5\u662f\u5426\u901a\u8fc7\u3002\u8fd9\u88ab\u79f0\u4e4b\u4e3a\u6d4b\u8bd5\u65ad\u8a00\u3002</p> <p>pytest \u4e2d\u7684\u65ad\u8a00\u5de7\u5999\u5730\u62e6\u622a\u5e76\u590d\u7528\u4e86 python \u5185\u7f6e\u7684\u51fd\u6570 assert\uff0c\u7531\u4e8e\u60a8\u5f88\u53ef\u80fd\u5df2\u7ecf\u63a5\u89e6\u8fc7 assert \u4e86\uff0c\u56e0\u800c\u4f7f\u5f97\u8fd9\u4e00\u90e8\u5206\u7684\u5b66\u4e60\u6210\u672c\u53d8\u5f97\u975e\u5e38\u4f4e\u3002</p> <p><pre><code># \u793a\u4f8b 7 - 5\ndef test_assertion():\n    # \u5224\u65ad\u57fa\u672c\u53d8\u91cf\u76f8\u7b49\n    assert \"loud noises\".upper() == \"LOUD NOISES\"\n\n    # \u5224\u65ad\u5217\u8868\u76f8\u7b49\n    assert [1, 2, 3] == list((1, 2, 3))\n\n    # \u5224\u65ad\u96c6\u5408\u76f8\u7b49\n    assert set([1, 2, 3]) == {1, 3, 2}\n\n    # \u5224\u65ad\u5b57\u5178\u76f8\u7b49\n    assert dict({\n        \"one\": 1,\n        \"two\": 2\n    }) == {\n        \"one\": 1,\n        \"two\": 2\n    }\n\n    # \u5224\u65ad\u6d6e\u70b9\u6570\u76f8\u7b49\n    # \u7f3a\u7701\u5730\uff0c ORIGIN  \u00b1 1E-06\n    assert 2.2 == pytest.approx(2.2 + 1e-6)\n    assert 2.2 == pytest.approx(2.3, 0.1)\n\n    # \u5982\u679c\u8981\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u7ec4\u662f\u5426\u76f8\u7b49\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9 NUMPY.TESTING\n    import numpy\n\n    arr1 = numpy.array([1., 2., 3.])\n    arr2 = arr1 + 1e-6\n    numpy.testing.assert_array_almost_equal(arr1, arr2)\n\n    # \u5f02\u5e38\u65ad\u8a00\uff1a\u6709\u4e9b\u7528\u4f8b\u8981\u6c42\u80fd\u629b\u51fa\u5f02\u5e38\n    with pytest.raises(ValueError) as e:\n        raise ValueError(\"some error\")\n\n    msg = e.value.args[0]\n    assert msg == \"some error\"\n</code></pre> \u4e0a\u9762\u7684\u4ee3\u7801\u5206\u522b\u6f14\u793a\u4e86\u5982\u4f55\u5224\u65ad\u5185\u7f6e\u7c7b\u578b\u3001\u5217\u8868\u3001\u96c6\u5408\u3001\u5b57\u5178\u3001\u6d6e\u70b9\u6570\u548c\u6d6e\u70b9\u6570\u7ec4\u662f\u5426\u76f8\u7b49\u3002\u8fd9\u90e8\u5206\u8bed\u6cd5\u8ddf\u6807\u51c6 python \u8bed\u6cd5\u5e76\u65e0\u4e8c\u81f4\u3002pytest \u4e0e unittest \u4e00\u6837\uff0c\u90fd\u6ca1\u6709\u63d0\u4f9b\u5982\u4f55\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u6570\u7ec4\u662f\u5426\u76f8\u7b49\u7684\u65ad\u8a00\uff0c\u5982\u679c\u6709\u8fd9\u4e2a\u9700\u6c42\uff0c\u6211\u4eec\u53ef\u4ee5\u6c42\u52a9\u4e8e numpy.testing\uff0c\u6b63\u5982\u4f8b\u5b50\u4e2d\u7b2c 25~30 \u884c\u6240\u793a\u3002</p> <p>\u6709\u65f6\u5019\u6211\u4eec\u9700\u8981\u6d4b\u8bd5\u9519\u8bef\u5904\u7406\uff0c\u770b\u51fd\u6570\u662f\u5426\u6b63\u786e\u5730\u629b\u51fa\u4e86\u5f02\u5e38\uff0c\u4ee3\u7801 32~37 \u6f14\u793a\u4e86\u5f02\u5e38\u65ad\u8a00\u7684\u4f7f\u7528\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u4e0d\u5e94\u8be5\u8fd9\u4e48\u5199\uff1a <pre><code># \u793a\u4f8b 7 - 6\n    try:\n        # CALL SOME_FUNC WILL RAISE VALUEERROR\n    except ValueError as e:\n        assert str(e) == \"some error\":\n    else:\n        assert False\n</code></pre> \u4e0a\u8ff0\u4ee3\u7801\u770b\u4e0a\u53bb\u903b\u8f91\u6b63\u786e\uff0c\u4f46\u5b83\u6df7\u6dc6\u4e86\u5f02\u5e38\u5904\u7406\u548c\u65ad\u8a00\uff0c\u4f7f\u5f97\u4ed6\u4eba\u4e00\u65f6\u96be\u4ee5\u5206\u6e05\u8fd9\u6bb5\u4ee3\u7801\u7a76\u7adf\u662f\u5728\u5904\u7406\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u7684\u5f02\u5e38\u5462\uff0c\u8fd8\u662f\u5728\u6d4b\u8bd5\u88ab\u8c03\u7528\u51fd\u6570\u80fd\u5426\u6b63\u786e\u629b\u51fa\u5f02\u5e38\uff0c\u660e\u663e\u4e0d\u5982\u5f02\u5e38\u65ad\u8a00\u90a3\u6837\u6e05\u6670\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#23-pytest-fixture","title":"2.3. pytest fixture","text":"<p>\u4e00\u822c\u800c\u8a00\uff0c\u6211\u4eec\u7684\u6d4b\u8bd5\u7528\u4f8b\u5f88\u53ef\u80fd\u9700\u8981\u4f9d\u8d56\u4e8e\u4e00\u4e9b\u5916\u90e8\u8d44\u6e90\uff0c\u6bd4\u5982\u6570\u636e\u5e93\u3001\u7f13\u5b58\u3001\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u7b49\u3002\u8fd9\u4e9b\u5916\u90e8\u8d44\u6e90\u7684\u521d\u59cb\u5316\u548c\u9500\u6bc1\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u591f\u5728\u6d4b\u8bd5\u7528\u4f8b\u6267\u884c\u524d\u540e\u81ea\u52a8\u5b8c\u6210\uff0c\u5373\u81ea\u52a8\u5b8c\u6210 setup \u548c teardown \u7684\u64cd\u4f5c\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u5230 pytest \u7684 fixture\u3002</p> <p>Info</p> <p>\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\u662f\u5426\u9700\u8981\u4f7f\u7528\u5916\u90e8\u8d44\u6e90\u662f\u4e00\u4e2a\u89c1\u4ec1\u89c1\u667a\u7684\u95ee\u9898\u3002\u6709\u7684\u770b\u6cd5\u8ba4\u4e3a\uff0c\u4e00\u65e6\u5f15\u5165\u5916\u90e8\u8d44\u6e90\uff0c\u6d4b\u8bd5\u7528\u4f8b\u5c31\u4e0d\u518d\u662f\u5355\u5143\u6d4b\u8bd5\uff0c\u800c\u662f\u96c6\u6210\u6d4b\u8bd5\u3002\u65f6\u4ee3\u603b\u5728\u53d1\u5c55\uff0c\u7279\u522b\u662f\u8fdb\u5165\u5bb9\u5668\u5316\u65f6\u4ee3\u540e\uff0c\u5728\u6d4b\u8bd5\u4e2d\u5feb\u901f\u521b\u5efa\u4e00\u4e2a\u4e13\u5c5e\u7684\u6570\u636e\u5e93\u670d\u52a1\u5668\u53d8\u5f97\u5341\u5206\u5feb\u6377\u548c\u5bb9\u6613\uff0c\u8fd9\u53ef\u80fd\u8981\u6bd4\u6211\u4eec\u901a\u8fc7\u5927\u91cf\u7684 mock \u6765\u8fdb\u884c\u5916\u90e8\u8d44\u6e90\u9694\u79bb\u66f4\u5bb9\u6613\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u6ca1\u5fc5\u8981\u4e8e\u62d8\u6ce5\u4e8e\u8fd9\u4e9b\u8fc7\u53bb\u7684\u770b\u6cd5\u3002</p> <p>\u5047\u5b9a\u6211\u4eec\u6709\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5b83\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u4ee3\u7801\u5982\u4e0b\uff08\u53c2\u89c1 code/chap07/sample/app.py)</p> <p><pre><code># \u793a\u4f8b 7 - 7\nimport asyncpg\nimport datetime\n\nasync def add_user(conn: asyncpg.Connection, name: str, date_of_birth: datetime.date)-&gt;int:\n    # INSERT A RECORD INTO THE CREATED TABLE.\n    await conn.execute('''\n        INSERT INTO users(name, dob) VALUES($1, $2)\n    ''', name, date_of_birth)\n\n    # SELECT A ROW FROM THE TABLE.\n    row: asyncpg.Record = await conn.fetchrow(\n        'SELECT * FROM users WHERE name = $1', 'Bob')\n    # *ROW* NOW CONTAINS\n    # ASYNCPG.RECORD(ID=1, NAME='BOB', DOB=DATETIME.DATE(1984, 3, 1))\n    return row[\"id\"]\n</code></pre> \u6211\u4eec\u5148\u5c55\u793a\u6d4b\u8bd5\u4ee3\u7801\uff08\u53c2\u89c1 code/chap07/sample/test_app.py)\uff0c\u518d\u7ed3\u5408\u4ee3\u7801\u8bb2\u89e3 fixture \u7684\u4f7f\u7528\uff1a</p> <p><pre><code># \u793a\u4f8b 7 - 8\nimport pytest\nfrom sample.app import add_user\nimport pytest_asyncio\nimport asyncio\n\n# PYTEST-ASYNCIO \u5df2\u7ecf\u63d0\u4f9b\u4e86\u4e00\u4e2a EVENT_LOOP \u7684 FIXTURE, \u4f46\u5b83\u662f FUNCTION \u7ea7\u522b\u7684\n# \u8fd9\u91cc\u6211\u4eec\u9700\u8981\u4e00\u4e2a SESSION \u7ea7\u522b\u7684 FIXTURE\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u91cd\u65b0\u5b9e\u73b0\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    policy = asyncio.get_event_loop_policy()\n    loop = policy.new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope='session')\nasync def db():\n    import asyncpg\n    conn = await asyncpg.connect('postgresql://zillionare:123456@localhost/bpp')\n    yield conn\n\n    await conn.close()\n\n@pytest.mark.asyncio\nasync def test_add_user(db):\n    import datetime\n    user_id = await add_user(db, 'Bob', datetime.date(2022, 1, 1))\n    assert user_id == 1\n</code></pre> \u8fd9\u91cc\u7684\u529f\u80fd\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5f80 users \u8868\u91cc\u63d2\u5165\u4e00\u6761\u8bb0\u5f55\uff0c\u5e76\u8fd4\u56de\u5b83\u5728\u8868\u4e2d\u7684 id\u3002\u6d4b\u8bd5\u4ee3\u7801\u8c03\u7528 add_user \u8fd9\u4e2a\u51fd\u6570\uff0c\u7136\u540e\u68c0\u6d4b\u8fd4\u56de\u503c\u662f\u5426\u4e3a 1\uff08\u5982\u679c\u6bcf\u6b21\u6d4b\u8bd5\u524d\u90fd\u65b0\u5efa\u6570\u636e\u5e93\u6216\u8005\u6e05\u7a7a\u8868\u7684\u8bdd\uff0c\u90a3\u4e48\u8fd4\u56de\u7684 ID \u5c31\u5e94\u8be5\u662f 1\uff09\u3002</p> <p>\u8fd9\u4e2a\u6d4b\u8bd5\u663e\u7136\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u6d4b\u8bd5\u524d\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u7ed3\u675f\u540e\u5173\u95ed\u8fde\u63a5\u3002\u5e76\u4e14\uff0c\u6211\u4eec\u8fd8\u4f1a\u6709\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u6211\u4eec\u5e0c\u671b\u6570\u636e\u5e93\u8fde\u63a5\u662f\u4e00\u4e2a\u5168\u5c40\u7684\u8d44\u6e90\uff0c\u53ef\u4ee5\u5728\u591a\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u5171\u4eab\u3002\u8fd9\u5c31\u662f fixture \u7684\u7528\u6b66\u4e4b\u5730\u3002</p> <p>fixture \u662f\u4e00\u4e9b\u51fd\u6570\uff0cpytest \u4f1a\u5728\u6267\u884c\u6d4b\u8bd5\u51fd\u6570\u4e4b\u524d\uff08\u6216\u4e4b\u540e\uff09\u52a0\u8f7d\u8fd0\u884c\u5b83\u4eec\u3002\u4f46\u4e0e unitest \u4e2d\u7684 setUp \u548c tearDown \u4e0d\u540c\uff0cpytest \u4e2d\u7684 fixture \u4f9d\u8d56\u662f\u663e\u5f0f\u58f0\u660e\u7684\u3002\u6bd4\u5982\uff0c\u5728\u4e0a\u9762\u7684 test_add_user \u663e\u5f0f\u4f9d\u8d56\u4e86 db \u8fd9\u4e2a fixture\uff08\u901a\u8fc7\u5728\u51fd\u6570\u58f0\u660e\u4e2d\u4f20\u5165 db \u4f5c\u4e3a\u53c2\u6570\uff09\uff0c\u800c db \u5219\u53c8\u663e\u5f0f\u4f9d\u8d56 event_loop \u8fd9\u4e2a fixture\u3002\u4f46\u9664\u6b64\u4e4b\u5916\uff0c\u5373\u4f7f\u6587\u4ef6\u4e2d\u8fd8\u5b58\u5728\u5176\u4ed6 fixture, \u6267\u884c test_add_user \u4e5f\u4e0d\u4f1a\u6267\u884c\u8fd9\u4e9b fixture\uff0c\u56e0\u4e3a\u4f9d\u8d56\u5fc5\u987b\u663e\u5f0f\u58f0\u660e\u3002</p> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6f14\u793a\u7684\u662f\u5bf9\u5f02\u6b65\u51fd\u6570 add_user \u7684\u6d4b\u8bd5\u3002\u663e\u7136\uff0c\u5f02\u6b65\u51fd\u6570\u5fc5\u987b\u5728\u67d0\u4e2a event loop \u4e2d\u6267\u884c\uff0c\u5e76\u4e14\u76f8\u5173\u7684\u521d\u59cb\u5316 (setup) \u548c\u9000\u51fa\u64cd\u4f5c (teardown) \u4e5f\u5fc5\u987b\u5728\u540c\u4e00\u4e2a loop \u4e2d\u6267\u884c\u3002\u8fd9\u91cc\u662f\u5206\u522b\u901a\u8fc7 pytest.mark.asyncio, pytest_asyncio \u7b49 fixture \u6765\u5b9e\u73b0\u7684\uff1a</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5c06\u6d4b\u8bd5\u7528\u4f8b\u6807\u6ce8\u4e3a\u5f02\u6b65\u6267\u884c\uff0c\u5373\u4e0a\u9762\u7684\u4ee3\u7801\u7b2c 23 \u884c\u3002\u5176\u6b21\uff0ctest_add_user \u9700\u8981\u4e00\u4e2a\u6570\u636e\u5e93\u8fde\u63a5\uff0c\u8be5\u8fde\u63a5\u7531 fixture <code>db</code>\u6765\u63d0\u4f9b\u3002\u8fd9\u4e2a\u8fde\u63a5\u7684\u83b7\u5f97\u4e5f\u662f\u5f02\u6b65\u7684\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528 pytest.fixutre \u6765\u58f0\u660e\u8be5\u51fd\u6570\uff0c\u800c\u5fc5\u987b\u4f7f\u7528@pytest_asyncio.fixture\uff08\u89c1\u4ee3\u7801\u7b2c 15 \u884c\uff09\u6765\u58f0\u660e\u8be5\u51fd\u6570\u3002</p> <p>\u6211\u4eec\u8fd8\u8981\u4ecb\u7ecd\u4e00\u4e0b\u51fa\u73b0\u5728\u7b2c 8 \u884c\u548c\u7b2c 15 \u4e2d\u7684 scope='session'\u3002\u8fd9\u4e2a\u53c2\u6570\u8868\u793a\u8be5 fixture \u7684\u4f5c\u7528\u57df\uff0c\u5b83\u6709\u56db\u4e2a\u53ef\u9009\u503c\uff1afunction, class, module \u548c session\u3002\u9ed8\u8ba4\u503c\u662f function\uff0c\u8868\u793a fixture \u53ea\u5728\u5f53\u524d\u6d4b\u8bd5\u51fd\u6570\u4e2d\u6709\u6548\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u4e2a event loop \u5728\u4e00\u6b21 <sup>1</sup> \u6d4b\u8bd5\u4e2d\u90fd\u6709\u6548\uff0c\u6240\u4ee5\u5c06 scope \u8bbe\u7f6e\u4e3a session\u3002</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u5173\u4e8e\u5f02\u6b65\u6a21\u5f0f\u4e0b\u7684\u6d4b\u8bd5\u7684\u3002\u5bf9\u666e\u901a\u51fd\u6570\u7684\u6d4b\u8bd5\u66f4\u7b80\u5355\u4e00\u4e9b\u3002\u6211\u4eec\u4e0d\u9700\u8981 pytest.mark.asyncio \u8fd9\u4e2a\u88c5\u9970\u5668\uff0c\u4e5f\u4e0d\u9700\u8981 event_loop \u8fd9\u4e2a fixture\u3002\u6240\u6709\u7684 pytest_asyncio.fixture \u90fd\u6362\u6210 pytest.fixture \u5373\u53ef\uff08\u663e\u7136\uff0c\u5b83\u5fc5\u987b\u3001\u4e5f\u53ea\u80fd\u88c5\u9970\u666e\u901a\u51fd\u6570\uff0c\u800c\u975e\u7531 async \u5b9a\u4e49\u7684\u51fd\u6570\uff09\u3002</p> <p>Info</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528 unittest \u6765\u5bf9\u5f02\u6b65\u4ee3\u7801\u8fdb\u884c\u6d4b\u8bd5\uff0c\u8981\u6ce8\u610f\uff1a\u9996\u5148\u6d4b\u8bd5\u7c7b\u8981\u4ece unittest.IsolatedAsyncioTestCase \u7ee7\u627f\uff0c\u7136\u540e\u6d4b\u8bd5\u51fd\u6570\u8981\u4ee5 async def \u5b9a\u4e49\u3002\u5e76\u4e14 setup \u548c teardown \u90fd\u8981\u6362\u6210\u5b83\u4eec\u7684\u5f02\u6b65\u7248\u672c asyncSetUp\u3001asyncTearDown\u3002</p> <p>\u6ce8\u610f\u53ea\u6709\u4ece python 3.8 \u5f00\u59cb\uff0cunittest \u624d\u76f4\u63a5\u652f\u6301\u5f02\u6b65\u6d4b\u8bd5\u3002\u5728 python 3.7 \u53ca\u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93 aiounittest\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u4e0a\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u4e86 fixture\u3002\u4e0e markers \u7c7b\u4f3c\uff0c\u8981\u60f3\u77e5\u9053\u6211\u4eec\u7684\u6d4b\u8bd5\u73af\u5883\u4e2d\u5b58\u5728\u54ea\u4e9b fixtures\uff0c\u53ef\u4ee5\u901a\u8fc7 pytest --fixtures \u6765\u663e\u793a\u5f53\u524d\u73af\u5883\u4e2d\u6240\u6709\u7684 fixture\u3002 <pre><code>$ pytest --fixtures\n\n------------- fixtures defined from faker.contrib.pytest.plugin --------------\nfaker -- .../faker/contrib/pytest/plugin.py:24\n    Fixture that returns a seeded and suitable ``Faker`` instance.\n\n------------- fixtures defined from pytest_asyncio.plugin -----------------\nevent_loop -- .../pytest_asyncio/plugin.py:511\n    Create an instance of the default event loop for each test case.\n\n...\n\n------------- fixtures defined from tests.test_app ----------------\nevent_loop [session scope] -- tests/test_app.py:45\n\ndb [session scope] -- tests/test_app.py:52\n</code></pre></p> <p>\u8fd9\u91cc\u6211\u4eec\u770b\u5230 faker.contrib \u63d0\u4f9b\u4e86\u4e00\u4e2a\u540d\u4e3a faker \u7684 fixture, \u6211\u4eec\u4e4b\u524d\u5b89\u88c5\u7684\u3001\u652f\u6301\u5f02\u6b65\u6d4b\u8bd5\u7684 pytest_asyncio \u4e5f\u63d0\u4f9b\u4e86\u540d\u4e3a event_loop \u7684 fixture\uff08\u4e3a\u8282\u7701\u7bc7\u5e45\uff0c\u5176\u5b83\u51e0\u4e2a\u7701\u7565\u4e86\uff09\uff0c\u4ee5\u53ca\u6211\u4eec\u81ea\u5df1\u6d4b\u8bd5\u4ee3\u7801\u4e2d\u5b9a\u4e49\u7684 event_loop \u548c db \u8fd9\u4e24\u4e2a fixture\u3002</p> <p>Pytest \u8fd8\u63d0\u4f9b\u4e86\u4e00\u7c7b\u7279\u522b\u7684 fixture\uff0c\u5373 pytest-mock\u3002\u4e3a\u4e86\u8bb2\u89e3\u65b9\u4fbf\uff0c\u6211\u4eec\u5148\u5b89\u88c5 pytest-mock \u8fd9\u4e2a\u63d2\u4ef6\uff0c\u770b\u770b\u5b83\u63d0\u4f9b\u7684 fixture\u3002</p> <pre><code>$ pip install pytest-mock\npytest --fixture\n\n------- fixtures defined from pytest_mock.plugin --------\nclass_mocker [class scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nmocker -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nmodule_mocker [module scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\npackage_mocker [package scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n\nsession_mocker [session scope] -- .../pytest_mock/plugin.py:419\n    Return an object that has the same interface to the `mock` module, but\n    takes care of automatically undoing all patches after each test method.\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 pytest-mock \u63d0\u4f9b\u4e86 5 \u4e2a\u4e0d\u540c\u7ea7\u522b\u7684 fixture\u3002\u5173\u4e8e\u4ec0\u4e48\u662f mock\uff0c\u8fd9\u662f\u4e0b\u4e00\u8282\u7684\u5185\u5bb9\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#3-mock","title":"3. \u9b54\u6cd5\u4e00\u6837\u7684 Mock","text":"<p>\u5728\u5355\u5143\u6d4b\u8bd5\u65f6\uff0c\u6211\u4eec\u5e0c\u671b\u6d4b\u8bd5\u73af\u5883\u5c3d\u53ef\u80fd\u5355\u7eaf\u3001\u53ef\u63a7\u3002\u56e0\u6b64\u6211\u4eec\u4e0d\u5e0c\u671b\u4f9d\u8d56\u4e8e\u7528\u6237\u8f93\u5165\uff0c\u4e0d\u5e0c\u671b\u8fde\u63a5\u65e0\u6cd5\u72ec\u5360\u7684\u6570\u636e\u5e93\u6216\u8005\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u7b49\u3002\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u901a mock \u6765\u6a21\u62df\u51fa\u8fd9\u4e9b\u5916\u90e8\u63a5\u53e3\u3002mock \u53ef\u80fd\u662f\u5355\u5143\u6d4b\u8bd5\u4e2d\u6700\u6838\u5fc3\u7684\u6280\u672f\u3002</p> <p>Note</p> <p>\u611f\u8c22\u5bb9\u5668\u6280\u672f\uff01\u73b0\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u8d8a\u6765\u8d8a\u591a\u5730\u8fde\u63a5\u6570\u636e\u5e93\u3001\u7f13\u5b58\u548c\u7b2c\u4e09\u65b9\u5fae\u670d\u52a1\u4e86\u3002\u56e0\u4e3a\u5bf9\u6709\u4e00\u4e9b\u63a5\u53e3\u8fdb\u884c mock \u7684\u4ee3\u4ef7\uff0c\u5df2\u7ecf\u8d85\u8fc7\u4e86 launch \u4e00\u4e2a\u5bb9\u5668\uff0c\u521d\u59cb\u5316\u6570\u636e\u5e93\u518d\u5f00\u59cb\u6d4b\u8bd5\u4e86\u3002</p> <p>\u65e0\u8bba\u662f unittest \u8fd8\u662f pytest\uff0c\u90fd\u76f4\u63a5\u6216\u8005\u95f4\u63a5\u4f7f\u7528\u4e86 unittest \u4e2d\u7684 mock \u6a21\u5757\u3002\u6240\u4ee5\uff0c\u5f53\u4f60\u9047\u5230 mock \u76f8\u5173\u7684\u95ee\u9898\u65f6\uff0c\u90fd\u53ef\u4ee5\u67e5\u9605 unittest \u4e2d\u7684 mock \u6587\u6863\u3002\u6211\u4eec\u63a5\u4e0b\u6765\u5173\u4e8e mock \u7684\u4ecb\u7ecd\uff0c\u4e5f\u5c06\u4ee5 Unittest \u4e2d\u7684 mock \u4e3a\u4e3b\u3002\u4e0d\u8fc7\uff0c\u4e24\u4e2a\u6846\u67b6\u7684 mock\uff0c\u5728\u57fa\u672c\u6982\u5ff5\u4e0a\u90fd\u662f\u76f8\u901a\u7684\u3002</p> <p>Info</p> <p>python \u4ece 3.8 \u8d77\uff0c\u624d\u5bf9 async \u6a21\u5f0f\u4e0b\u7684 mock \u6709\u6bd4\u8f83\u5b8c\u5907\u7684\u652f\u6301\u3002\u7531\u4e8e Python 3.7 \u5df2\u7ecf\u8d70\u5230\u751f\u547d\u5c3d\u5934\uff0c\u6240\u4ee5\u672c\u4e66\u4e5f\u4e0d\u4ecb\u7ecd Python 3.7 \u4e2d\uff0c async \u6a21\u5f0f\u4e0b\u7684 mock \u8be5\u5982\u4f55\u5b9e\u73b0\u4e86\u3002</p> <p>Unittest.mock \u6a21\u5757\u63d0\u4f9b\u4e86\u6700\u6838\u5fc3\u7684 Mock \u7c7b\u3002\u5f53\u6211\u4eec\u7528 Mock \u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\u6765\u66ff\u6362\u88ab\u6d4b\u8bd5\u7cfb\u7edf\u7684\u67d0\u4e9b\u90e8\u5206\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u5b83\u7684\u4f7f\u7528\u65b9\u5f0f\u505a\u51fa\u65ad\u8a00\u3002\u8fd9\u5305\u62ec\u68c0\u67e5\u54ea\u4e9b\u65b9\u6cd5\uff08\u5c5e\u6027\uff09\u88ab\u8c03\u7528\u4ee5\u53ca\u8c03\u7528\u5b83\u4eec\u7684\u53c2\u6570\u662f\u5426\u6b63\u786e\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u8bbe\u5b9a\u8fd4\u56de\u503c\u6216\u8005\u4ee4\u5176\u629b\u51fa\u5f02\u5e38\uff0c\u4ee5\u6539\u53d8\u6267\u884c\u8def\u5f84\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0cmock \u6a21\u5757\u8fd8\u63d0\u4f9b\u4e86 patch \u65b9\u6cd5\u548c MagicMock \u5b50\u7c7b\u3002MagicMock \u533a\u522b\u4e8e Mock \u7684\u5730\u65b9\u5728\u4e8e\uff0c\u5b83\u81ea\u52a8\u5b9e\u73b0\u4e86\u5bf9 Python \u4e2d\u7c7b\u5bf9\u8c61\u4e2d\u7684\u9b54\u6cd5\u51fd\u6570\u7684 mock\uff08\u8fd9\u662f\u5b83\u7684\u540d\u5b57\u7684\u6765\u6e90\uff01\uff09\uff0c\u9b54\u6cd5\u51fd\u6570\u662f\u6307\u5e26\u53cc\u4e0b\u5212\u7ebf\u7684\u51fd\u6570\uff0c\u6bd4\u5982__iter__\u7b49\u3002patch \u5219\u662f\u4e00\u4e2a\u5e26\u4e0a\u4e0b\u6587\u7ba1\u7406\u7684\u5de5\u5177\uff0c\u5b83\u80fd\u81ea\u52a8\u590d\u539f\u6211\u4eec\u5bf9\u7cfb\u7edf\u7684\u66f4\u6539\u3002</p> <p>Info</p> <p>\u5b9e\u9645\u4e0a\uff0c\u591a\u6570\u65f6\u5019\uff0c\u6211\u4eec\u7528\u5230\u7684\u662f MagicMock \u5bf9\u8c61\uff0c\u800c\u4e0d\u662f Mock\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#31","title":"3.1. \u57fa\u7840\u6982\u5ff5\u4e0e\u57fa\u672c\u4f7f\u7528","text":"<p>\u6700\u57fa\u7840\u7684 mock \u7684\u6982\u5ff5\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u5f97\u5230\u6f14\u793a\uff1a</p> <pre><code># \u793a\u4f8b 7 - 9\nfrom unittest.mock import MagicMock\nthing = ProductionClass()\nthing.method = MagicMock(return_value=3)\nthing.method(3, 4, 5, key='value')\n\nthing.method.assert_called_with(3, 4, 5, key='value')\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u88ab\u6d4b\u8bd5\u7c7b ProductionClass\uff0c\u5f53\u6211\u4eec\u8c03\u7528\u5b83\u7684 method \u65b9\u6cd5\u65f6\uff0c\u5b83\u6709\u4e00\u4e9b\u4e0d\u4fbf\u5728\u5355\u5143\u6d4b\u8bd5\u4e0b\u8fd0\u884c\u7684\u60c5\u51b5\uff08\u6bd4\u5982\u9700\u8981\u8fde\u63a5\u6570\u636e\u5e93\uff09\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5e0c\u671b\u80fd\u8df3\u8fc7\u5bf9\u5b83\u7684\u8c03\u7528\uff0c\u800c\u76f4\u63a5\u8fd4\u56de\u6211\u4eec\u6307\u5b9a\u7684\u4e00\u4e9b\u503c\u3002</p> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u80fd\u62ff\u5230 ProductionClass \u5b9e\u4f8b\u5bf9\u50cf\u7684\u5f15\u7528\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u5b83\u7684 method \u5c5e\u6027\uff0c\u4f7f\u4e4b\u6307\u5411\u4e00\u4e2a MagicMock \u5bf9\u8c61\u3002MagicMock \u5bf9\u8c61\u6709\u4e00\u4e9b\u91cd\u8981\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002</p> <p>\u7b2c 3 \u884c\u51fa\u73b0\u7684 return_value \u662f\u7b2c\u4e00\u4e2a\u91cd\u8981\u7684\u5c5e\u6027\u3002\u5b83\u7684\u610f\u601d\u65f6\uff0c\u5f53\u88ab\u66ff\u6362\u7684\u5bf9\u8c61\uff08\u8fd9\u91cc\u662f method\uff09\u88ab\u8c03\u7528\u65f6\uff0c\u8fd4\u56de\u503c\u5e94\u8be5\u662f 3\u3002\u4e0e\u4e4b\u7c7b\u4f3c\u7684\u53e6\u4e00\u4e2a\u5c5e\u6027\u662f side_effect\u3002\u5b83\u540c\u6837\u4e5f\u5728 mock \u88ab\u8c03\u7528\u65f6\uff0c\u8fd4\u56de\u8bbe\u7f6e\u7684\u503c\u3002\u4f46 return_value \u4e0e side_effect \u6709\u91cd\u8981\u533a\u522b\uff1a\u4e24\u8005\u7684\u8fd4\u56de\u503c\u90fd\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u6570\u7ec4\uff08\u6216\u8005\u5176\u4ed6\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff09\uff0c\u4f46\u901a\u8fc7 side_effect \u8bbe\u7f6e\u8fd4\u56de\u503c\u65f6\uff0c\u6bcf\u6b21\u8c03\u7528 mock\uff0c\u5b83\u90fd\u8fd4\u56de side_effect \u4e2d\u7684\u4e0b\u4e00\u4e2a\u8fed\u4ee3\u503c\uff1b\u800c return_value \u53ea\u4f1a\u5c06\u8bbe\u7f6e\u503c\u5168\u90e8\u4e00\u6b21\u8fd4\u56de\u3002\u53e6\u5916\uff0c\u5982\u679c\u4e24\u8005\u540c\u65f6\u8bbe\u7f6e\uff0cside_effect \u4f18\u5148\u8fd4\u56de\u3002\u8bf7\u770b\u4e0b\u9762\u7684\u793a\u4f8b\uff1a</p> <pre><code># \u793a\u4f8b 7 - 10\nimport unittest.mock\n\nside_effect = [1, 2, unittest.mock.DEFAULT, 4, 5]\nm = unittest.mock.Mock(return_value=\"foo\", side_effect=side_effect)\n\nfor _ in side_effect:\n    print(m())\n\nprint(f\"m is called by {m.call_count} times\")\nm.assert_called_with()\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u5c06\u662f\uff1a</p> <pre><code>1\n2\nfoo\n4\n5\n</code></pre> <p>\u6211\u4eec\u7ed9 side_effect \u8bbe\u7f6e\u4e86 5 \u4e2a\u503c\uff0c\u5728 5 \u6b21\u91cd\u590d\u6d4b\u8bd5\u65f6\uff0c\u5b83\u5206\u522b\u4f9d\u6b21\u8fd4\u56de\u4e0b\u4e00\u4e2a\u8fed\u4ee3\u503c\u3002\u6ce8\u610f\u8fd9\u91cc\u6211\u4eec\u901a\u8fc7 unittest.mock.DEFAULT\uff0c\u6765\u8ba9\u5176\u4e2d\u4e00\u6b21\u8fed\u4ee3\uff0c\u8fd4\u56de\u4e86 return_value \u7684\u8bbe\u7f6e\u503c\u3002\u5f53\u7136\uff0c\u672c\u8d28\u4e0a\uff0c\u8fd9\u4ecd\u7136\u662f\u5bf9 side_effect \u7684\u4e00\u4e2a\u8fed\u4ee3\u7ed3\u679c\u3002</p> <p>\u8fd9\u91cc\u8fd8\u51fa\u73b0\u4e86\u5b83\u7684\u4e00\u4e2a\u91cd\u8981\u65b9\u6cd5\uff0cassert_called_with\uff0c\u5373\u68c0\u67e5\u88ab\u66ff\u6362\u7684\u65b9\u6cd5\u662f\u5426\u88ab\u4ee5\u671f\u671b\u7684\u53c2\u6570\u8c03\u7528\u4e86\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u65ad\u8a00\u88ab\u8c03\u7528\u7684\u6b21\u6570\uff0c\u7b49\u7b49\u3002</p> <p>Note</p> <p>\u5982\u679c\u4f60\u4e4b\u524d\u63a5\u89e6\u8fc7\u5176\u5b83 mock \u6846\u67b6\u7684\u8bdd\uff0c\u53ef\u80fd\u9700\u8981\u6ce8\u610f\uff0cpython \u4e2d\u7684 mock \u662f<code>action -&gt; assertion</code>\u6a21\u5f0f\uff0c\u800c\u4e0d\u662f\u5176\u5b83\u8bed\u8a00\u4e2d\u5e38\u89c1\u7684<code>record -&gt; replay</code>\u6a21\u5f0f\u3002</p> <p>\u8fd9\u4e2a\u4f8b\u5b50\u975e\u5e38\u7b80\u5355\u3002\u4f46\u5b83\u4e5f\u6f14\u793a\u4e86\u4f7f\u7528 Mock \u7684\u7cbe\u9ad3\uff0c\u5373\u751f\u6210 Mock \u5b9e\u4f8b\uff0c\u8bbe\u7f6e\u884c\u4e3a\uff08\u6bd4\u5982\u8fd4\u56de\u503c\uff09\uff0c\u66ff\u6362\u751f\u4ea7\u7cfb\u7edf\u4e2d\u7684\u5bf9\u8c61\uff08\u65b9\u6cd5\u3001\u5c5e\u6027\u7b49\uff09\uff0c\u6700\u540e\uff0c\u68c0\u9a8c\u7ed3\u679c\u3002</p> <p>\u5f88\u591a\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u901a\u8fc7 patch \u7684\u65b9\u5f0f\u6765\u4f7f\u7528 mock\u3002\u4ee5\u4e0b\u662f\u5728\u4e0d\u540c\u573a\u666f\u4e0b\u4f7f\u7528 patch \u7684\u4f8b\u5b50\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#311","title":"3.1.1. \u4f5c\u4e3a\u88c5\u9970\u5668\u4f7f\u7528","text":"<p>\u5047\u5982\u6211\u4eec\u6709\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\u76f8\u5173\u7684\u64cd\u4f5c\u3002\u8981\u6d4b\u8bd5\u8be5\u64cd\u4f5c\uff0c\u5982\u679c\u4e0d\u4f7f\u7528 mock\uff0c\u5c31\u5fc5\u987b\u5728\u6d4b\u8bd5\u73af\u5883\u4e0b\u6784\u5efa\u76ee\u5f55\uff0c\u589e\u52a0\u67d0\u4e9b\u6587\u4ef6\u3002\u9664\u975e\u4e07\u4e0d\u5f97\u5df2\uff0c\u4e00\u822c\u6211\u4eec\u4e0d\u5e0c\u671b\u6d4b\u8bd5\u4f1a\u6539\u53d8\u6211\u4eec\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd9\u662f\u6211\u4eec\u5e94\u8be5\u4f7f\u7528 mock \u7684\u5730\u65b9\u3002</p> <pre><code># \u793a\u4f8b 7 - 11\nimport os\n# \u88ab\u6d4b\u8bd5\u4ee3\u7801\nclass Foo:\n    def get_files(self, dir_: str):\n        return os.list_dir(dir_)\n\n# \u6d4b\u8bd5\u4ee3\u7801\nfrom unittest.mock import patch\nfrom unittest import TestCase\nclass FooTest(TestCase):\n    @patch('__main__.Foo.get_files')\n    def test_get_files(self, mocked):\n        mocked.return_value = [\"readme.md\"]\n        foo = Foo()\n        self.assertListEqual(foo.get_files(), [\"readme.md\"])\n\ntest = FooTest()\ntest.test_get_files()\n</code></pre> <p>\u6211\u4eec\u5bf9\u5173\u952e\u4ee3\u7801\u8fdb\u884c\u4e00\u4e9b\u89e3\u91ca\u3002\u9996\u5148\uff0c\u901a\u8fc7\u88c5\u9970\u5668\u8bed\u6cd5\u8fdb\u884c mock \u65f6\uff0c\u6211\u4eec\u7684\u6d4b\u8bd5\u51fd\u6570\u4f1a\u591a\u4e00\u4e2a\u53c2\u6570\uff08\u8fd9\u91cc\u662f mocked\uff0c\u4f46\u540d\u5b57\u53ef\u4ee5\u7531\u6211\u4eec\u4efb\u610f\u6307\u5b9a\uff09\u3002\u8fd9\u91cc\u4f7f\u7528\u591a\u4e2a patch \u88c5\u9970\u5668\u4e5f\u662f\u53ef\u4ee5\u7684\uff0c\u6bcf\u589e\u52a0\u4e00\u4e2a\u88c5\u9970\u5668\uff0c\u6d4b\u8bd5\u51fd\u6570\u5c31\u4f1a\u591a\u589e\u52a0\u4e00\u4e2a\u53c2\u6570\u3002</p> <p>\u5176\u6b21\uff0c\u6211\u4eec\u8981\u5bf9 Foo.get_files \u8fdb\u884c mock\uff0c\u4f46\u6211\u4eec\u5728 Foo.get_files \u4e4b\u524d\uff0c\u52a0\u4e0a\u4e86\u4e00\u4e2a__main__\u7684\u524d\u7f00\u3002\u8fd9\u662f\u7531\u4e8e\u7c7b Foo \u7684\u5b9a\u4e49\u5904\u5728\u9876\u5c42\u6a21\u5757\u4e2d\u3002\u5728 Python \u4e2d\uff0c\u4efb\u4f55\u4e00\u4e2a\u7b26\u53f7\uff08\u7c7b\u3001\u65b9\u6cd5\u6216\u8005\u53d8\u91cf\uff09\u90fd\u5904\u5728\u67d0\u4e2a\u6a21\u5757\uff08module\uff09\u4e4b\u4e0b\u3002\u5982\u679c\u8fd9\u6bb5\u4ee3\u7801\u5b58\u4e3a\u78c1\u76d8\u6587\u4ef6 foo.py\uff0c\u90a3\u4e48\u6a21\u5757\u540d\u5c31\u662f foo\uff1b\u6211\u4eec\u5728\u522b\u7684\u6a21\u5757\u4e2d\u5f15\u5165 Foo.get_files \u65f6\uff0c\u5e94\u8be5\u4f7f\u7528 foo.Foo.get_files\u3002\u4f46\u5728\u8fd9\u91cc\uff0c\u7531\u4e8e\u6211\u4eec\u662f\u540c\u6a21\u5757\u5f15\u7528\uff0c\u56e0\u6b64\u5b83\u7684\u524d\u7f00\u662f__main__\u3002</p> <p>Info</p> <p>\u4f7f\u7528 mock \u7684\u5173\u952e\uff0c\u662f\u8981\u627e\u5230\u88ab mock \u5bf9\u8c61\u6b63\u786e\u7684\u5f15\u7528\u65b9\u5f0f\u3002\u5728 Python \u4e2d\uff0c\u4e00\u5207\u90fd\u662f\u5bf9\u8c61\u3002\u8fd9\u4e9b\u5bf9\u8c61\u901a\u8fc7\u5177\u6709\u5c42\u6b21\u7ed3\u6784\u7684\u547d\u540d\u7a7a\u95f4\u6765\u8fdb\u884c\u5bfb\u5740\u3002\u4ee5 patch \u65b9\u6cd5\u4e3a\u4f8b\uff0c\u5b83\u5904\u5728 mock \u6a21\u5757\u4e4b\u4e2d\uff0c\u800c mock \u6a21\u5757\u53c8\u662f\u5305 unittest \u7684\u4e0b\u7ea7\u6a21\u5757\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5c31\u4f7f\u7528 unittest.mock.patch \u6765\u5f15\u7528\u5b83\uff0c\u8fd9\u4e5f\u4e0e\u5bfc\u5165\u8def\u5f84\u662f\u4e00\u81f4\u7684\u3002</p> <p>\u4f46\u662f\uff0c\u50cf\u8fd9\u91cc\u7684\u811a\u672c\uff0c\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u4e0d\u662f\u7cfb\u7edf\u5185\u7f6e\u5bf9\u8c61\uff0c\u53c8\u4e0d\u5b58\u5728\u4e8e\u4efb\u4f55\u5305\u4e2d\uff0c\u90a3\u4e48\u5b83\u7684\u540d\u5b57\u7a7a\u95f4\u5c31\u662f__main__\uff0c\u6b63\u5982\u8fd9\u91cc\u7684\u793a\u4f8b__main__.Foo \u4e00\u6837\u3002\u5173\u4e8e\u5bfb\u5740\uff0c\u8fd8\u5b58\u5728\u5176\u4ed6\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4f1a\u5728\u540e\u9762\u4ecb\u7ecd builtin \u5bf9\u8c61\u4ee5\u53ca\u9519\u8bef\u7684\u5f15\u7528\u90a3\u4e24\u8282\u4e2d\u8fdb\u884c\u4ecb\u7ecd\u3002</p> <p>\u901a\u8fc7\u88c5\u9970\u5668\u8bed\u6cd5\u4f20\u5165\u8fdb\u6765\u7684 mock \u5bf9\u8c61\uff0c\u5b83\u7684\u884c\u4e3a\u662f\u672a\u7ecf\u8bbe\u7f6e\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u8981\u5728\u8fd9\u91cc\u5148\u8bbe\u7f6e\u5b83\u7684\u8fd4\u56de\u503c\uff0c\u7136\u540e\u518d\u8c03\u7528\u4e1a\u52a1\u903b\u8f91\u51fd\u6570 foo.get_files -- \u7531\u4e8e\u5b83\u5df2\u7ecf\u88ab mock \u4e86\uff0c\u6240\u4ee5\u4f1a\u8fd4\u56de\u6211\u4eec\u8bbe\u7f6e\u7684\u8fd4\u56de\u503c\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#312","title":"3.1.2. \u5728\u5757\u7ea7\u4ee3\u7801\u4e2d\u4f7f\u7528","text":"<p>\u5f53\u6211\u4eec\u901a\u8fc7\u88c5\u9970\u5668\u6765\u4f7f\u7528 patch \u65f6\uff0c\u5b83\u7684\u4e0a\u4e0b\u6587\u662f\u51fd\u6570\u7ea7\u522b\u7684\u3002\u5728\u51fd\u6570\u9000\u51fa\u4e4b\u540e\uff0cmock \u5bf9\u7cfb\u7edf\u7684\u66f4\u6539\u5c31\u590d\u539f\u4e86\u3002\u4f46\u662f\uff0c\u6709\u65f6\u5019\u6211\u4eec\u66f4\u5e0c\u671b\u4f7f\u7528\u4ee3\u7801\u5757\u7ea7\u522b\u7684 patch\uff0c\u4e00\u65b9\u9762\u53ef\u4ee5\u66f4\u7cbe\u51c6\u5730\u9650\u5236 mock \u7684\u4f7f\u7528\u8303\u56f4\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u5b83\u7684\u8bed\u6cd5\u4f1a\u66f4\u7b80\u7ec3\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u4e00\u884c\u4ee3\u7801\u5b8c\u6210 mock \u884c\u4e3a\u7684\u8bbe\u7f6e\u3002</p> <p><pre><code># \u793a\u4f8b 7 - 12\nimport os\n\n# FUNCTION UNDER TEST\nclass Foo:\n    def get_files(self, dir_: str):\n        return os.list_dir(dir_)\n\n# TESTING CODE\nfrom unittest.mock import patch\nfrom unittest import TestCase\n\nclass FooTest(TestCase):\n    def test_get_files(self):\n        with patch('__main__.Foo.get_files', return_value=[\"readme.md\"]):\n            foo = Foo()\n            self.assertListEqual(foo.get_files(), [\"readme.md\"])\n\ntest = FooTest()\ntest.test_get_files()\n</code></pre> \u8fd9\u91cc\u4ec5\u7528\u4e00\u884c\u4ee3\u7801\u5c31\u5b8c\u6210\u4e86\u66ff\u6362\u548c\u8bbe\u7f6e\u3002</p> <p>\u5728\u5b9e\u8df5\u4e2d\uff0c\u4f7f\u7528 mock \u53ef\u80fd\u5e76\u4e0d\u50cf\u770b\u8d77\u6765\u90a3\u4e48\u5bb9\u6613\u3002\u6709\u4e00\u4e9b\u60c5\u666f\u5bf9\u521d\u5b66\u8005\u800c\u8a00\u4f1a\u6bd4\u8f83\u96be\u4ee5\u7406\u89e3\u3002\u800c\u4e00\u65e6\u719f\u6089\u4e4b\u540e\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\uff0c\u4f60\u5bf9 Python \u7684\u5e95\u5c42\u673a\u5236\uff0c\u53c8\u6709\u4e86\u66f4\u6df1\u5165\u7684\u7406\u89e3\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u4ecb\u7ecd\u5728\u8fd9\u4e9b\u573a\u666f\u4e0b\u5982\u4f55\u4f7f\u7528 mock\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#32-mock","title":"3.2. \u7279\u6b8a\u573a\u5408\u4e0b\u7684 mock","text":""},{"location":"articles/python/best-practice-python/chap07/#321","title":"3.2.1. \u4fee\u6539\u5b9e\u4f8b\u7684\u5c5e\u6027","text":"<p>\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u7ed9 patch \u4f20\u5165\u7684 target \u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u663e\u7136\uff0c\u5728 patch \u4f5c\u7528\u57df\u5185\uff0c\u6240\u6709\u7684\u65b0\u751f\u6210\u7684\u5bf9\u8c61\u90fd\u4f1a\u88ab patch\u3002\u5982\u679c\u5728 patch \u4e4b\u524d\uff0c\u5bf9\u8c61\u5df2\u7ecf\u751f\u6210\u4e86\uff0c\u6211\u4eec\u5219\u9700\u8981\u4f7f\u7528<code>patch.object</code>\u6765\u5b8c\u6210 patch\u3002\u8fd9\u6837\u505a\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u6709\u9009\u62e9\u6027\u5730 patch \u90e8\u5206\u5bf9\u8c61\u3002</p> <pre><code># \u793a\u4f8b 7 - 19\ndef bar():\n    logger = logging.getLogger(__name__)\n    logger.info(\"please check if I was called\")\n\n    root_logger = logging.getLogger()\n    root_logger.info(\"this is not intercepted\")\n\n# TEST_FOO.PY\nfrom sample.core.foo import bar\n\nlogger = logging.getLogger('sample.core.foo')\nwith mock.patch.object(logger, 'info') as m:\n    bar()\n    m.assert_called_once_with(\"please check if I was called\")\n</code></pre> <p>\u5728 bar \u65b9\u6cd5\u91cc\uff0c\u4e24\u4e2a logger(root_logger \u548c'sample.core.foo'\u5bf9\u5e94\u7684 logger) \u90fd\u88ab\u8c03\u7528\uff0c\u4f46\u5728\u6d4b\u8bd5\u65f6\uff0c\u6211\u4eec\u53ea\u62e6\u622a\u4e86\u524d\u4e00\u4e2a logger \uff08\u7b2c 2 \u884c\uff09\u7684<code>info</code>\u65b9\u6cd5\uff0c\u7ed3\u679c\u9a8c\u8bc1\u5b83\u88ab\u8c03\u7528\uff0c\u4e14\u4ec5\u88ab\u8c03\u7528\u4e00\u6b21\u3002</p> <p>\u8fd9\u91cc\u8981\u63d0\u53ca pytest \u4e2d mocker.patch \u4e0e unitest.mock.patch \u7684\u4e00\u4e2a\u7ec6\u5fae\u5dee\u522b\u3002\u540e\u8005\u8fdb\u884c patch \u65f6\uff0c\u53ef\u4ee5\u8fd4\u56de mock \u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u8fdb\u884c\u66f4\u591a\u7684\u68c0\u67e5\uff08\u89c1\u4e0a\u9762\u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u7b2c 11 \u884c\uff09\uff1b\u4f46 mocker.patch \u7684\u8fd4\u56de\u503c\u662f None\u3002</p> <p>\u8fd9\u91cc\u8981\u63d0\u53ca pytest \u4e2d mocker.patch \u4e0e unitest.mock.patch \u7684\u4e00\u4e2a\u7ec6\u5fae\u5dee\u522b\u3002\u540e\u8005\u8fdb\u884c patch \u65f6\uff0c\u53ef\u4ee5\u8fd4\u56de mock \u5bf9\u8c61\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u8fdb\u884c\u66f4\u591a\u7684\u68c0\u67e5\uff08\u89c1\u4e0a\u9762\u793a\u4f8b\u4ee3\u7801\u4e2d\u7684\u7b2c 15 \u884c\uff09\uff1b\u4f46 mocker.patch \u7684\u8fd4\u56de\u503c\u662f None\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#322","title":"3.2.2. \u5f02\u6b65\u5bf9\u8c61","text":"<p>\u4ece 3.8 \u8d77\uff0cunittest.mock \u4e00\u822c\u5c31\u4e0d\u518d\u533a\u5206\u540c\u6b65\u548c\u5f02\u6b65\u5bf9\u8c61\uff0c\u6bd4\u5982\uff1a</p> <pre><code># FUNCTION UNDER TEST\n\nclass Foo:\n    async def bar():\n        pass\n\n# TESTING CODE\nclass FooTest(TestCase):\n    async def test_bar(self):\n        foo = Foo()\n        with patch(\"__main__.Foo.bar\", return_value=\"hello from async mock!\"):\n            res = await foo.bar()\n            print(res)\n\ntest = FooTest()\nawait test.test_bar()\n</code></pre> <p>\u539f\u51fd\u6570 bar \u7684\u8fd4\u56de\u503c\u4e3a\u7a7a\u3002\u4f46\u8f93\u51fa\u7ed3\u679c\u662f \"hello from async mock\"\uff0c\u8bf4\u660e\u8be5\u51fd\u6570\u88ab mock \u4e86\u3002</p> <p>\u88ab mock \u7684\u65b9\u6cd5 bar \u662f\u4e00\u4e2a\u5f02\u6b65\u51fd\u6570\uff0c\u5982\u679c\u6211\u4eec\u53ea\u9700\u8981 mock \u5b83\u7684\u8fd4\u56de\u503c\u7684\u8bdd\uff0c\u4ecd\u7136\u662f\u7528\u540c\u6837\u7684\u65b9\u6cd5\uff0c\u76f4\u63a5\u7ed9 return_value \u8d4b\u503c\u5c31\u597d\u3002\u5982\u679c\u6211\u4eec\u8981\u5c06\u5176\u66ff\u6362\u6210\u53e6\u4e00\u4e2a\u51fd\u6570\uff0c\u4e5f\u53ea\u9700\u8981\u5c06\u8be5\u51fd\u6570\u58f0\u660e\u6210\u4e3a\u5f02\u6b65\u51fd\u6570\u5373\u53ef\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u8981 mock \u7684\u662f\u4e00\u4e2a\u5f02\u6b65\u7684\u751f\u6210\u5668\uff0c\u5219\u65b9\u6cd5\u4f1a\u6709\u6240\u4e0d\u540c\uff1a</p> <pre><code># FUNCTION UNDER TEST\nfrom unittest import mock\n\nclass Foo:\n    async def bar():\n        for i in range(5):\n            yield f\"called {i}th\"\n\n# TESTING CODE\nclass FooTest(TestCase):\n    async def test_bar(self):\n        foo = Foo()\n        with mock.patch(\n            \"__main__.Foo.bar\"\n        ) as mocked:\n            mocked.return_value.__aiter__.return_value = [0, 2, 4, 6, 8]\n            print([i async for i in foo.bar()])\n\n\ntest = FooTest()\nawait test.test_bar()\n</code></pre> <p>\u7406\u89e3\u8fd9\u6bb5\u4ee3\u7801\u7684\u5173\u952e\u662f\uff0cbar \u65b9\u6cd5\u662f\u6211\u4eec\u8981 mock \u7684\u5bf9\u8c61\uff0c\u5b83\u7684\u8fd4\u56de\u503c\uff08\u5373 mocked.return_value\uff09\u662f\u4e00\u4e2a coroutine\u3002\u6211\u4eec\u9700\u8981\u5bf9\u8be5 coroutine \u7684__aiter__\u65b9\u6cd5\u8bbe\u7f6e\u8fd4\u56de\u503c\uff0c\u8fd9\u6837\u624d\u80fd\u5f97\u5230\u6b63\u786e\u7684\u7ed3\u679c\u3002\u6b64\u5916\uff0c\u7531\u4e8e__aiter__\u672c\u8eab\u5c31\u662f\u8fed\u4ee3\u5668\u7684\u610f\u601d\uff0c\u6240\u4ee5\uff0c\u5373\u4f7f\u6211\u4eec\u8bbe\u7f6e\u5b83\u7684 return_value \u4e3a\u4e00\u4e2a\u5217\u8868\uff0c\u5b83\u4e5f\u4f1a\u6309\u6b21\u8fd4\u56de\u8fed\u4ee3\u7ed3\u679c\uff0c\u800c\u4e0d\u662f\u6574\u4e2a list\u3002\u8fd9\u662f\u4e0e\u6211\u4eec\u524d\u9762\u4ecb\u7ecd return_value \u548c side_effect \u7684\u5f02\u540c\u65f6\u6240\u8bb2\u7684\u5185\u5bb9\u76f8\u533a\u522b\u7684\u3002</p> <p>\u540c\u6837\u9700\u8981\u7279\u522b\u6ce8\u610f\u7684\u662f async with \u65b9\u6cd5\u3002\u4f60\u9700\u8981 mock \u4f4f\u5b83\u7684__aexit__\uff0c\u5c06\u5176\u66ff\u6362\u6210\u4f60\u8981\u5b9e\u73b0\u7684\u65b9\u6cd5\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#323-builtin","title":"3.2.3. builtin \u5bf9\u8c61","text":"<p>\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u9700\u8981\u8bfb\u53d6\u7528\u6237\u4ece\u63a7\u5236\u53f0\u8f93\u5165\u7684\u53c2\u6570\uff0c\u6839\u636e\u8be5\u53c2\u6570\u8fdb\u884c\u4e00\u4e9b\u8ba1\u7b97\u3002\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u6d4b\u8bd5\u8fd9\u90e8\u5206\u529f\u80fd\u3002\u663e\u7136\uff0c\u6211\u4eec\u9700\u8981 mock \u7528\u6237\u8f93\u5165\uff0c\u5426\u5219\u5355\u5143\u6d4b\u8bd5\u6ca1\u6cd5\u81ea\u52a8\u5316\u3002</p> <p>\u5728 Python \u4e2d\uff0c\u63a5\u53d7\u7528\u6237\u63a7\u5236\u53f0\u8f93\u5165\u7684\u51fd\u6570\u662f input\u3002\u8981 mock \u8fd9\u4e2a\u65b9\u6cd5\uff0c\u6309\u7167\u524d\u9762\u5b66\u4e60\u4e2d\u5f97\u5230\u7684\u7ecf\u9a8c\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u5b83\u5c5e\u4e8e\u54ea\u4e2a\u540d\u5b57\u7a7a\u95f4\u3002\u53ef\u662f\uff0c\u6211\u4eec\u4ece\u6765\u6ca1\u6709\u5bfc\u5165\u8fc7\u5b83\u4eec\uff0c\u5b83\u4eec\u7a76\u7adf\u8be5\u5c5e\u4e8e\u54ea\u4e2a\u540d\u5b57\u7a7a\u95f4\u5462\uff1f</p> <p>\u5728 Python \u4e2d\uff0c\u50cf input, open, eval \u7b49\u4e00\u7c7b\u7684\u51fd\u6570\u5927\u7ea6\u6709 80 \u4e2a\u5de6\u53f3\uff0c\u88ab\u79f0\u4e3a builtin\uff08\u5185\u7f6e\u51fd\u6570\uff09\u3002\u5728 mock \u5b83\u4eec\u65f6\uff0c\u6211\u4eec\u4f7f\u7528 builtins \u540d\u5b57\u7a7a\u95f4\u6765\u8fdb\u884c\u5f15\u7528\uff1a</p> <pre><code>with patch('builtins.input', return_value=\"input is mocked\"):\n    user_input = input(\"please say something:\")\n    print(user_input)\n</code></pre> <p>\u6267\u884c\u4e0a\u8ff0\u4ee3\u7801\u65f6\uff0c\u6211\u4eec\u5c31\u4e0d\u518d\u4f9d\u8d56\u7528\u6237\u8f93\u5165\u4e86\uff0c\u56e0\u4e3a input \u65b9\u6cd5\u88ab mock \u66ff\u6362\u4e86\uff0c\u5e76\u4e14\u603b\u662f\u4f1a\u8fd4\u56de\"input is mocked\"\uff0c\u8fd9\u6837\u6211\u4eec\u7684\u6d4b\u8bd5\u7ed3\u679c\u5c31\u80fd\u4fdd\u8bc1\u53ef\u91cd\u73b0\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#324","title":"3.2.4. \u8ba9\u65f6\u95f4\u5c31\u505c\u7559\u5728\u8fd9\u4e00\u523b","text":"<p>Quote</p> <p>Verweile doch, du bist so sch\u00f6n! \u4f60\u662f\u5982\u6b64\u7f8e\u4e3d\uff0c\u8bf7\u9017\u7559\u7247\u523b\uff01</p> <p><p> -- \u6d6e\u58eb\u5fb7</p></p> <p>\u6709\u65f6\u5019\u6211\u4eec\u4f1a\u5728\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7 datetime.datetime.now() \u6765\u83b7\u53d6\u7cfb\u7edf\u7684\u5f53\u524d\u65f6\u95f4\u3002\u663e\u7136\uff0c\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u8fdb\u884c\u6d4b\u8bd5\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4e0d\u540c\u7684\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u6d4b\u8bd5\u7ed3\u679c\u65e0\u6cd5\u56fa\u5b9a\u3002\u56e0\u6b64\uff0c\u65f6\u95f4\u4e5f\u662f\u9700\u8981\u88ab mock \u7684\u5bf9\u8c61\u3002</p> <p>\u8981\u5b9e\u73b0\u5bf9\u8fd9\u4e2a\u65b9\u6cd5\u7684 mock\uff0c\u53ef\u80fd\u6bd4\u6211\u4eec\u4e00\u5f00\u59cb\u4ee5\u4e3a\u7684\u8981\u96be\u4e00\u4e9b\u3002\u6211\u4eec\u7684\u63a8\u8350\u662f\uff0c\u4f7f\u7528 freezegun \u8fd9\u4e2a\u5e93\uff0c\u800c\u907f\u5f00\u81ea\u5df1\u53bb\u5b9e\u73b0\u8fd9\u4e2a mock\u3002</p> <pre><code># \u8bf7\u4f7f\u7528 PYTEST \u6765\u8fd0\u884c\uff0c\u6216\u8005\u81ea\u884c\u6539\u5199\u4e3a UNITTEST\nfrom freezegun import freeze_time\n\nimport datetime\nimport unittest\n\n# FREEZE TIME FOR A PYTEST STYLE TEST:\n\n@freeze_time(\"2012-01-14\")\ndef test():\n    assert datetime.datetime.now() == datetime.datetime(2012, 1, 14)\n\ndef test_case2():\n    assert datetime.datetime.now() != datetime.datetime(2012, 1, 14)\n    with freeze_time(\"2012-01-14\"):\n        assert datetime.datetime.now() == datetime.datetime(2012, 1, 14)\n    assert datetime.datetime.now() != datetime.datetime(2012, 1, 14)\n</code></pre> <p>\u6ce8\u610f Python \u7684\u65f6\u95f4\u5e93\u5f88\u591a\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u5176\u5b83\u7684\u5e93\u6765\u83b7\u53d6\u5f53\u524d\u65f6\u95f4\uff0c\u5219 freeze_gun \u5f88\u53ef\u80fd\u4f1a\u4e0d\u8d77\u4f5c\u7528\u3002\u4e0d\u8fc7\uff0c\u5bf9\u7b2c\u4e09\u65b9\u7684\u65f6\u95f4\u5e93\uff0c\u4e00\u822c\u5f88\u5bb9\u6613\u5b9e\u73b0 mock\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#325","title":"3.2.5. \u5982\u4f55\u5236\u9020\u4e00\u573a\u201c\u6df7\u4e71\u201d\uff1f","text":"<p>\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u722c\u866b\u5728\u6293\u53d6\u767e\u5ea6\u7684\u70ed\u641c\u8bcd\u3002\u5b83\u7684\u529f\u80fd\u4e3b\u8981\u7531 crawl_baidu \u6765\u5b9e\u73b0\u3002\u6211\u4eec\u53e6\u5916\u6709\u4e00\u4e2a\u51fd\u6570\u5728\u8c03\u7528\u5b83\uff0c\u4ee5\u4fdd\u5b58 crawl_baidu \u7684\u8fd4\u56de\u7ed3\u679c\u3002\u6211\u4eec\u60f3\u77e5\u9053\uff0c\u5982\u679c crawl_baidu \u4e2d\u629b\u51fa\u5f02\u5e38\uff0c\u90a3\u4e48\u8c03\u7528\u51fd\u6570\u662f\u5426\u80fd\u591f\u6b63\u786e\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\u3002</p> <p>\u8fd9\u91cc\u7684\u5173\u952e\u662f\uff0c\u6211\u4eec\u8981\u8ba9 crawl_baidu \u80fd\u629b\u51fa\u5f02\u5e38\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e0d\u80fd\u9760\u62d4\u7f51\u7ebf\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002</p> <pre><code>import httpx\nfrom httpx import get, ConnectError\nfrom unittest.mock import patch\nfrom unittest import TestCase\n\ndef crawl_baidu():\n    return httpx.get(\"https://www.baidu.com\")\n\nclass ConnectivityTest(TestCase):\n    def test_connectivity(self):\n        with patch('httpx.get', side_effect=[\"ok\", ConnectError(\"disconnected\")]):\n            print(crawl_baidu())\n\n            with self.assertRaises(ConnectError):\n                crawl_baidu()\n\n\ncase = ConnectivityTest()\ncase.test_connectivity()\n</code></pre> <p>crawl_baidu \u4f9d\u9760 httpx.get \u6765\u722c\u53d6\u6570\u636e\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 mock httpx.get \u65b9\u6cd5\uff0c\u8ba9\u5b83\u6709\u65f6\u8fd4\u56de\u6b63\u5e38\u7ed3\u679c\uff0c\u6709\u65f6\u8fd4\u56de\u5f02\u5e38\u3002\u8fd9\u662f\u901a\u8fc7 side_effect \u6765\u5b9e\u73b0\u7684\u3002</p> <p>\u518d\u5f3a\u8c03\u4e00\u6b21\uff01\u6ce8\u610f\u7b2c 12 \u884c\uff0c\u6211\u4eec\u4f7f\u7528 self.assertRaises\uff0c\u800c\u4e0d\u662f try-except \u6765\u6355\u6349\u5f02\u5e38\u3002\u4e24\u8005\u90fd\u80fd\u591f\u5b9e\u73b0\u68c0\u67e5\u5f02\u5e38\u662f\u5426\u629b\u51fa\u7684\u529f\u80fd\u3002\u4f46\u901a\u8fc7 self.assertRaises\uff0c\u6211\u4eec\u5f3a\u8c03\u4e86\u8fd9\u91cc\u5e94\u8be5\u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\uff0c\u5b83\u662f\u6211\u4eec\u6d4b\u8bd5\u903b\u8f91\u7684\u4e00\u90e8\u5206\u3002\u800c try-except \u5219\u5e94\u8be5\u7528\u6765\u5904\u7406\u771f\u6b63\u7684\u5f02\u5e38\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#326","title":"3.2.6. \u6d88\u5931\u7684\u9b54\u6cd5","text":"<p>\u518d\u5f3a\u8c03\u4e00\u904d\uff0c\u201c\u4f7f\u7528 mock \u7684\u5173\u952e\uff0c\u662f\u8981\u627e\u5230\u88ab mock \u5bf9\u8c61\u6b63\u786e\u7684\u5f15\u7528\u65b9\u5f0f\u3002\u201d\u800c\u6b63\u786e\u5f15\u7528\u7684\u5173\u952e\uff0c\u5219\u662f\u8fd9\u6837\u4e00\u53e5\u201c\u5492\u8bed\u201d\uff1a</p> <p>Warning</p> <p>Mock an item where it is used, not where it came from.</p> <p>\u5728\u5bf9\u8c61\u88ab\u4f7f\u7528\u7684\u5730\u65b9\u8fdb\u884c mock, \u800c\u4e0d\u662f\u5728\u5b83\u51fa\u751f\u7684\u5730\u65b9\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u8fd9\u4e00\u70b9\uff1a</p> <pre><code>from os import system\nfrom unittest import mock\nimport pytest\n\ndef echo():\n    system('echo \"Hello\"')\n\nwith mock.patch('os.system', side_effect=[Exception(\"patched\")]) as mocked:\n    with pytest.raises(Exception) as e:\n        echo()\n</code></pre> <p>\u6211\u4eec\u5728 echo \u65b9\u6cd5\u4e2d\uff0c\u8c03\u7528\u4e86\u7cfb\u7edf\u7684 echo \u547d\u4ee4\u3002\u5728\u6d4b\u8bd5\u4e2d\uff0c\u6211\u4eec\u8bd5\u56fe mock \u4f4f os.system \u65b9\u6cd5\uff0c\u8ba9\u5b83\u4e00\u88ab\u8c03\u7528\uff0c\u5c31\u8fd4\u56de\u4e00\u4e2a\u5f02\u5e38\u3002\u7136\u540e\u6211\u4eec\u901a\u8fc7 pytest \u6765\u68c0\u67e5\uff0c\u5982\u679c\u5f02\u5e38\u629b\u51fa\uff0c\u5219\u8bc1\u660e mock \u6210\u529f\uff0c\u5426\u5219\uff0cmock \u5931\u8d25\u3002</p> <p>\u4f46\u662f\u5982\u679c\u6211\u4eec\u8fd0\u884c\u8fd9\u4e2a\u793a\u4f8b\uff0c\u53ea\u4f1a\u5f97\u5230\u4e00\u4e2a\u53cb\u597d\u7684\u95ee\u5019\uff0cNo errors, No warnings! \u4e3a\u4ec0\u4e48\uff1f</p> <p>\u56e0\u4e3a\u5f53\u6211\u4eec\u5728 echo() \u51fd\u6570\u4e2d\u8c03\u7528 system \u51fd\u6570\u65f6\uff0c\u6b64\u65f6\u7684 system \u5b58\u5728\u4e8e__main__\u540d\u5b57\u7a7a\u95f4\uff0c\u800c\u4e0d\u662f os \u7684\u540d\u5b57\u7a7a\u95f4\u3002os \u540d\u5b57\u7a7a\u95f4\u662f system \u51fa\u751f\u7684\u5730\u65b9\uff0c\u800c__main__\u540d\u5b57\u7a7a\u95f4\u624d\u662f\u4f7f\u7528\u5b83\u7684\u5730\u65b9\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5 patch \u7684\u5bf9\u8c61\u662f'main.system'\uff0c\u800c\u4e0d\u662f'os.system'\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u5c06<code>os.system</code>\u6539\u4e3a<code>__main__.system</code>\uff0c\u91cd\u65b0\u8fd0\u884c\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u9b54\u6cd5\u53c8\u751f\u6548\u4e86\uff01</p> <p>\u5728\u914d\u5957\u4ee3\u7801\u4e2d\uff0c\u8fd8\u6709\u4e00\u4e2a\u540d\u4e3a where_to_patch \u7684\u793a\u4f8b\uff0c\u6211\u4eec\u4e5f\u6765\u770b\u4e00\u4e0b\u3002</p> <pre><code># FOO.PY\ndef get_name():\nreturn \"Alice\"\n\n# BAR.PY\nfrom .foo import get_name\nclass Bar:\n    def name(self):\n        return get_name()\n\n# TEST.PY\nfrom unittest.mock import patch\nfrom where_to_patch.bar import Bar\n\ntmp = Bar()\nwith patch('where_to_patch.foo.get_name', return_value=\"Bob\"):\n    name = tmp.name()\n    assert name == \"Bob\"\n</code></pre> <p>\u6d4b\u8bd5\u4ee3\u7801\u4f1a\u629b\u51fa <code>AssertionError: assert \"Alice\" == \"Bob\"\u7684\u9519\u8bef\u3002\u5982\u679c\u6211\u4eec\u628a</code>where_to_patch.foo<code>\u6539\u4e3a</code>where_to_patch.bar`\uff0c\u5219\u6d4b\u8bd5\u901a\u8fc7\u3002\u8fd9\u4e2a\u7a0d\u5fae\u6269\u5c55\u4e86\u4e00\u4e0b\u7684\u4f8b\u5b50\uff0c\u8fdb\u4e00\u6b65\u6e05\u6670\u5730\u6f14\u793a\u4e86\u5982\u4f55\u6b63\u786e\u5f15\u7528\u88ab mock \u5bf9\u8c61\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#4-coverage-","title":"4. Coverage - \u8861\u91cf\u6d4b\u8bd5\u7684\u8986\u76d6\u7387","text":"<p>\u6211\u4eec\u5df2\u7ecf\u638c\u63e1\u4e86\u5982\u4f55\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u3002\u63a5\u4e0b\u6765\uff0c\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u95ee\u9898\u6d6e\u73b0\u51fa\u6765\uff0c\u6211\u4eec\u5982\u4f55\u77e5\u9053\u5355\u5143\u6d4b\u8bd5\u7684\u8d28\u91cf\u5462\uff1f\u8fd9\u5c31\u63d0\u51fa\u4e86\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u6982\u5ff5\u3002\u8986\u76d6\u7387\u6d4b\u91cf\u901a\u5e38\u7528\u4e8e\u8861\u91cf\u6d4b\u8bd5\u7684\u6709\u6548\u6027\u3002\u5b83\u53ef\u4ee5\u663e\u793a\u60a8\u7684\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u5df2\u88ab\u6d4b\u8bd5\u8fc7\uff0c\u54ea\u4e9b\u6ca1\u6709\u3002</p> <p>coverage.py \u662f\u6700\u5e38\u7528\u7684\u6d4b\u91cf Python \u7a0b\u5e8f\u4ee3\u7801\u8986\u76d6\u7387\u7684\u5de5\u5177\u3002\u5b83\u76d1\u89c6\u60a8\u7684\u7a0b\u5e8f\uff0c\u8bb0\u5f55\u4ee3\u7801\u7684\u54ea\u4e9b\u90e8\u5206\u5df2\u88ab\u6267\u884c\uff0c\u7136\u540e\u5206\u6790\u6e90\u4ee3\u7801\u4ee5\u8bc6\u522b\u5df2\u6267\u884c\u548c\u672a\u6267\u884c\u7684\u4ee3\u7801\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u5b89\u88c5 coverage.py\uff1a <pre><code>$ pip install coverage\n</code></pre> \u8981\u6536\u96c6\u6d4b\u8bd5\u8986\u76d6\u7387\u6570\u636e\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u539f\u6765\u7684\u6d4b\u8bd5\u547d\u4ee4\u524d\u52a0\u4e0a coverage run \u5373\u53ef\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u4e4b\u524d\u662f\u4f7f\u7528<code>pytest arg1 arg2 arg3</code>\u6765\u8fdb\u884c\u6d4b\u8bd5\uff0c\u5219\u73b0\u5728\u6211\u4eec\u4f7f\u7528\uff1a <pre><code>$ coverage run -m pytest arg1 arg2 arg3\n</code></pre></p> <p>\u5f53\u6d4b\u8bd5\u8fd0\u884c\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>coverage report -m</code>\u6765\u67e5\u770b\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u62a5\u544a\uff1a <pre><code>Name                      Stmts   Miss  Cover   Missing\n-------------------------------------------------------\nmy_program.py                20      4    80%   33-35, 39\nmy_other_module.py           56      6    89%   17-23\n-------------------------------------------------------\nTOTAL                        76     10    87%\n</code></pre> \u5982\u679c\u5e0c\u671b\u5f97\u5230\u66f4\u597d\u7684\u89c6\u89c9\u6548\u679c\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 coverage html \u547d\u4ee4\u6765\u751f\u6210\u5e26\u6ce8\u91ca\u7684 HTML \u62a5\u544a\uff0c\u7136\u540e\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 htmlcov/index.html\u3002 </p> <p>\u4e0d\u8fc7\uff0c\u66f4\u591a\u4eba\u9009\u62e9\u4f7f\u7528 pytest-cov \u63d2\u4ef6\u6765\u8fdb\u884c\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u6536\u96c6\u3002\u8fd9\u4e5f\u662f ppw \u7684\u9009\u62e9\u3002\u901a\u8fc7 ppw \u751f\u6210\u7684\u5de5\u7a0b\uff0cpytest-cov \u5df2\u88ab\u52a0\u5165\u5230\u6d4b\u8bd5\u4f9d\u8d56\u4e2d\uff0c\u56e0\u6b64\u4e5f\u5c31\u81ea\u7136\u5b89\u88c5\u5230\u73af\u5883\u4e2d\u53bb\u4e86\u3002</p> <p>\u56e0\u6b64\uff0c\u901a\u8fc7 ppw \u914d\u7f6e\u7684\u5de5\u7a0b\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u9700\u8981\u76f4\u63a5\u8c03\u7528 coverage \u547d\u4ee4\uff0c\u800c\u662f\u4f7f\u7528 pytest \u547d\u4ee4\u6765\u8fdb\u884c\u6d4b\u8bd5\u3002pytest-cov \u63d2\u4ef6\u4f1a\u81ea\u52a8\u6536\u96c6\u6d4b\u8bd5\u8986\u76d6\u7387\u6570\u636e\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u5c06\u6d4b\u8bd5\u8986\u76d6\u7387\u62a5\u544a\u6253\u5370\u5230\u63a7\u5236\u53f0\u4e0a\u3002\u5982\u679c\u5e0c\u671b\u751f\u6210\u5e26\u6ce8\u91ca\u7684 HTML \u62a5\u544a\uff0c\u53ef\u4ee5\u4f7f\u7528<code>pytest --cov-report=html</code>\u547d\u4ee4\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0ccoverage.py \u5c06\u6d4b\u8bd5\u884c\uff08\u8bed\u53e5\uff09\u8986\u76d6\u7387\uff0c\u4f46\u901a\u8fc7\u914d\u7f6e\uff0c\u8fd8\u53ef\u4ee5\u6d4b\u91cf\u5206\u652f\u8986\u76d6\u7387\u3002\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u793a\u4f8b\u4ee3\u7801\u6765\u8bf4\u660e\u8fd9\u4e24\u79cd\u8986\u76d6\u5206\u522b\u662f\u4ec0\u4e48\u610f\u601d\u3002</p> <pre><code>def my_partial_fn(x):\n    if x:\n        y = 10\n    return y\n\nmy_partial_fn(1)\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u7b2c 2 \u884c\u662f\u4e00\u4e2a if \u8bed\u53e5\uff0c\u6839\u636e x \u7684\u53d6\u503c\uff0c\u63a5\u4e0b\u6765\u53ef\u80fd\u8fd0\u884c\u5230\u7b2c 3 \u884c\uff0c\u4e5f\u53ef\u80fd\u8fd0\u884c\u5230\u7b2c 4 \u884c\u3002\u5f53 coverage \u88ab\u914d\u7f6e\u4e3a\u6309\u8bed\u53e5\u8ba1\u7b97\u8986\u76d6\u65f6\uff08\u8fd9\u662f\u9ed8\u8ba4\u7684\u60c5\u51b5\uff09\uff0c\u53ea\u8981\u8be5\u51fd\u6570\u88ab\u6267\u884c\uff0c\u5219 coverage \u5c06\u7edf\u8ba1\u4e3a\u8be5\u51fd\u6570\u7684\u6240\u6709\u8bed\u53e5\u90fd\u5df2\u88ab\u6267\u884c\u8fc7\uff1b\u4f46\u5982\u679c coverage \u88ab\u914d\u7f6e\u4e3a\u6309\u5206\u652f\u8ba1\u7b97\u8986\u76d6\u65f6\uff0c\u5982\u679c x \u6c42\u503c\u7684\u7ed3\u679c\u4e3a False\uff0c\u90a3\u4e48\u4ee3\u7801\u6267\u884c\u5c06\u4ece\u7b2c 2 \u884c\u76f4\u63a5\u8df3\u5230\u7b2c 4 \u884c\u3002Coverage \u5c06\u628a\u7b2c 2 \u884c\u5230\u7b2c 4 \u884c\u7684\u4ee3\u7801\u6807\u8bb0\u4e3a\u90e8\u5206\u5206\u652f\u8986\u76d6\u3002</p> <p>\u9664\u4e86\u914d\u7f6e\u5206\u652f\u8986\u76d6\u5916\uff0c\u8fd8\u6709\u5176\u5b83\u51e0\u79cd\u60c5\u51b5\u9700\u8981\u914d\u7f6e\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u4ecb\u7ecd\u5982\u4f55\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>Coverage.py \u914d\u7f6e\u6587\u4ef6\u7684\u9ed8\u8ba4\u540d\u79f0\u662f\u3002coveragerc\uff0c\u5728 ppw \u751f\u6210\u7684\u5de5\u7a0b\u4e2d\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5904\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff08\u8bfb\u8005\u53ef\u4ee5\u56de\u5230\u7b2c 4 \u7ae0\u7684\u7ed3\u675f\u90e8\u5206\u67e5\u770b ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\uff09\u3002\u5982\u679c\u6ca1\u6709\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\uff0cCoverage.py \u5c06\u4ece\u5176\u4ed6\u5e38\u7528\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6bd4\u5982\u201csetup.cfg\u201d\u6216\u201ctox.ini\u201d\u4e2d\u8bfb\u53d6\u8bbe\u7f6e\u3002</p> <p>\u5728\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u540d\u79f0\u5e26\u6709\u201ccoverage:\u201d\u524d\u7f00\u7684\u8282 (section)\uff0c\u5219\u4f1a\u88ab\u5f53\u6210\u662f coverage \u7684\u914d\u7f6e\uff0c\u6bd4\u5982.coveragerc \u4e2d\u6709\u4e00\u8282\u540d\u4e3a run\uff0c\u5f53\u5b83\u51fa\u73b0\u5728 tox.ini \u4e2d\uff0c\u8282\u540d\u5b57\u5c31\u5e94\u8be5\u662f [coverage:run]\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728 pyproject.toml \u4e2d\u914d\u7f6e coverage\u3002\u5982\u679c\u8981\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\uff0c\u9700\u8981\u5728 pyproject.toml \u4e2d\u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a tool.coverage \u7684\u8282\uff0c\u7136\u540e\u5728\u8fd9\u4e2a\u8282\u4e2d\u6dfb\u52a0\u914d\u7f6e\u9879\u3002</p> <p>coverage \u7684\u914d\u7f6e\u9879\u9075\u5faa ini \u8bed\u6cd5\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a .coveragerc<pre><code>[run]\nbranch = True\n\n[report]\n# REGEXES FOR LINES TO EXCLUDE FROM CONSIDERATION\nexclude_lines =\n    # HAVE TO RE-ENABLE THE STANDARD PRAGMA\n    pragma: no cover\n\n    # DON'T COMPLAIN ABOUT MISSING DEBUG-ONLY CODE:\n    def __repr__\n    if self\\.debug\n\n    # DON'T COMPLAIN IF TESTS DON'T HIT DEFENSIVE ASSERTION CODE:\n    raise AssertionError\n    raise NotImplementedError\n\n    # DON'T COMPLAIN IF NON-RUNNABLE CODE ISN'T RUN:\n    if 0:\n    if __name__ == .__main__.:\n\n    # DON'T COMPLAIN ABOUT ABSTRACT METHODS, THEY AREN'T RUN:\n    @(abc\\.)?abstractmethod\n\nignore_errors = True\n\n[html]\ndirectory = coverage_html_report\n</code></pre></p> <p>\u6211\u4eec\u524d\u9762\u63d0\u5230\u8fc7\u53ef\u4ee5\u8ba9 coverage.py \u6309\u5206\u652f\u8986\u76d6\u7387\u6765\u7edf\u8ba1\uff0c\u8fd9\u53ef\u4ee5\u6309\u7167\u4e0a\u9762\u7b2c 2 \u884c\u4e00\u6837\u8fdb\u884c\u914d\u7f6e\u3002[report] \u8fd9\u4e00\u8282\u4e2d\u7684\u914d\u7f6e\u9879\u53ef\u4ee5\u8ba9 coverage.py \u5ffd\u7565\u4e00\u4e9b\u4e0d\u9700\u8981\u7edf\u8ba1\u7684\u4ee3\u7801\uff0c\u6bd4\u5982 debug \u4ee3\u7801\u3002[html] \u8fd9\u4e00\u8282\u914d\u7f6e\u4e86\u751f\u6210\u7684 html \u6587\u4ef6\u5e94\u8be5\u5b58\u653e\u5728\u4f55\u5904\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u5c06\u5b58\u653e\u5728 htmlcov \u76ee\u5f55\u4e0b\u3002</p> <p>\u5c3d\u7ba1\u5728\u793a\u4f8b\u4e2d\u6ca1\u6709\u63d0\u5230\uff0c\u4f46 [run] \u8fd9\u4e00\u8282\u6bd4\u8f83\u5e38\u7528\u7684\u914d\u7f6e\u9879\u8fd8\u6709 include \u548c omit\uff0c\u7528\u6765\u7279\u522b\u628a\u67d0\u4e2a\u6587\u4ef6\u6216\u8005\u76ee\u5f55\u52a0\u5165\u5230\u6d4b\u8bd5\u8986\u76d6\uff0c\u6216\u8005\u6392\u9664\u6389\u3002\u5728 [report] \u8fd9\u4e00\u8282\u4e2d\uff0c\u4e5f\u6709\u76f8\u540c\u7684\u914d\u7f6e\u9879\uff0c\u4e24\u8005\u6709\u6240\u533a\u522b\u3002\u5728 [report] \u4e2d\u6307\u5b9a omit \u6216\u8005 include\uff0c\u90fd\u4ec5\u9002\u7528\u4e8e\u62a5\u544a\u7684\u751f\u6210\uff0c\u4f46\u4e0d\u5f71\u54cd\u5b9e\u9645\u7684\u6d4b\u8bd5\u8986\u76d6\u7387\u7edf\u8ba1\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#5","title":"5. \u53d1\u5e03\u8986\u76d6\u7387\u62a5\u544a","text":"<p>\u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u662f\u5f00\u6e90\u9879\u76ee\uff0c\u4f60\u53ef\u80fd\u5e0c\u671b\u628a\u8986\u76d6\u7387\u62a5\u544a\u53d1\u5e03\u5230\u7f51\u4e0a\uff0c\u8fd9\u6837\u5176\u4ed6\u4eba\u5c31\u53ef\u4ee5\u770b\u5230\u4f60\u7684\u9879\u76ee\u7684\u8986\u76d6\u7387\u4e86\u3002\u8fd9\u5bf9\u63a8\u5e7f\u4f60\u7684\u5f00\u6e90\u9879\u76ee\u975e\u5e38\u6709\u5e2e\u52a9\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 codecov.io \u6765\u53d1\u5e03\u8986\u76d6\u7387\u62a5\u544a\u3002</p> <p>codecov \u662f\u4e00\u4e2a\u5728\u7ebf\u7684\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\u670d\u52a1\uff0c\u5b83\u53ef\u4ee5\u4ece GitHub\u3001Bitbucket\u3001GitLab \u7b49\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u4e0a\u83b7\u53d6\u4ee3\u7801\u8986\u76d6\u7387\u62a5\u544a\uff0c\u7136\u540e\u751f\u6210\u4e00\u4e2a\u5728\u7ebf\u7684\u62a5\u544a\u3002\u8fd9\u4e2a\u62a5\u544a\u53ef\u4ee5\u8ba9\u5176\u4ed6\u4eba\u770b\u5230\u4f60\u7684\u9879\u76ee\u7684\u8986\u76d6\u7387\u60c5\u51b5\u3002</p> <p>\u5728 github \u4e2d\u8bbe\u7f6e codecov \u96c6\u6210\u5f88\u7b80\u5355\uff0c\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00 https://github.com/apps/codecov \u9875\u9762\uff0c\u70b9\u51fb\u5b8c\u6210\u5b89\u88c5\uff0c\u7136\u540e\u5728 CI \u8fc7\u7a0b\u4e2d\u589e\u52a0\u4e00\u4e2a\u4e0a\u4f20\u52a8\u4f5c\u5c31\u53ef\u4ee5\u4e86\u3002\u5728\u901a\u8fc7 ppw \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86\u8fd9\u4e00\u6b65\u3002\u5982\u679c\u4f60\u60f3\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u624b\u52a8\u6267\u884c\uff0c\u5219\u53ef\u4ee5\u5206\u522b\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff08\u547d\u4ee4\u6309\u4e0d\u540c\u7684\u5e73\u53f0\uff0c\u5206\u522b\u7ed9\u51fa\uff09\u6765\u5b8c\u6210\u4e0a\u4f20\uff1a <pre><code># LINUX\n$ curl -Os https://uploader.codecov.io/latest/linux/codecov \n$ chmod +x codecov \n$ ./codecov\n\n# WINDOWS\n$ ProgressPreference = 'SilentlyContinue' \n$ Invoke-WebRequest -Uri https://uploader.codecov.io/latest/windows/codecov.exe -Outfile codecov.exe \n$ .\\codecov.exe\n\n# MACOS\n$ curl -Os https://uploader.codecov.io/latest/macos/codecov\n$ chmod +x codecov\n$ ./codecov\n</code></pre> \u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u4ec5\u901a\u8fc7 CI \u6765\u4e0a\u4f20\u8986\u76d6\u7387\u62a5\u544a\uff0c\u800c\u4e0d\u662f\u5728\u672c\u5730\u6267\u884c\u3002\u56e0\u4e3a\u672c\u5730\u6267\u884c\u7684\u8986\u76d6\u7387\u62a5\u544a\uff0c\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5f00\u53d1\u8005\u672c\u5730\u73af\u5883\u7684\u4e0d\u540c\u800c\u4ea7\u751f\u5dee\u5f02\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u5728 CI \u4e2d\u6267\u884c\u540e\uff0c\u6211\u4eec\u8fd8\u80fd\u5728 pull request \u4e4b\u540e\uff0c\u5f97\u5230\u8fd9\u6837\u7684\u72b6\u6001\u62a5\u544a\uff1a </p> <p>\u5e76\u4e14\u8fd8\u80fd\u5728 pull request \u7684\u6ce8\u91ca\u4e2d\u770b\u5230\u8986\u76d6\u7387\u7684\u53d8\u5316\uff1a </p> <p>\u8fd9\u4f1a\u8ba9\u4f60\u7684\u5f00\u6e90\u9879\u76ee\u770b\u4e0a\u53bb\u975e\u5e38\u4e13\u4e1a\uff0c\u4e0d\u662f\u5417\uff1f\u66f4\u91cd\u8981\u7684\u662f\uff0c\u8ba9\u4f60\u7684\u6f5c\u5728\u7528\u6237\u66f4\u52a0\u4fe1\u4efb\u8fd9\u662f\u4e00\u4e2a\u9ad8\u8d28\u91cf\u7684\u9879\u76ee\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#6-tox","title":"6. TOX \u5b9e\u73b0\u77e9\u9635\u5316\u6d4b\u8bd5","text":"<p>\u5982\u679c\u6211\u4eec\u7684\u8f6f\u4ef6\u652f\u6301 3 \u79cd\u64cd\u4f5c\u7cfb\u7edf\uff0c4 \u4e2a python \u7248\u672c\uff0c\u6211\u4eec\u5c31\u5fc5\u987b\u5728 3 \u79cd\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5206\u522b\u521b\u5efa 4 \u4e2a\u865a\u62df\u73af\u5883\uff0c\u5b89\u88c5\u4e0a\u6211\u4eec\u7684\u8f6f\u4ef6\u548c\u4f9d\u8d56\uff0c\u518d\u6267\u884c\u6d4b\u8bd5\uff0c\u4e0a\u4f20\u6d4b\u8bd5\u62a5\u544a\u3002\u8fd9\u4e2a\u52a8\u4f5c\u4e0d\u4ec5\u76f8\u5f53\u7e41\u7410\uff0c\u8fd8\u5f88\u5bb9\u6613\u5f15\u5165\u9519\u8bef\u3002</p> <p>\u901a\u8fc7 tox \u4e0e CI \u7ed3\u5408\uff0c\u5c31\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u5316\u5b8c\u6210\u8fd9\u4e9b\u73af\u5883\u7684\u521b\u5efa\u4e0e\u6d4b\u8bd5\u6267\u884c\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#61-tox","title":"6.1. \u4ec0\u4e48\u662f Tox\uff1f","text":"<p>Tox \u662f\u4e00\u4e2a\u901a\u7528\u7684 Python \u865a\u62df\u73af\u5883\u7ba1\u7406\u548c\u6d4b\u8bd5\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u65e8\u5728\u81ea\u52a8\u5316\u548c\u6807\u51c6\u5316 Python \u6d4b\u8bd5\u3002\u5b83\u662f\u7b80\u5316 Python \u8f6f\u4ef6\u7684\u6253\u5305\u3001\u6d4b\u8bd5\u548c\u53d1\u5e03\u8fc7\u7a0b\u7684\u66f4\u5927\u613f\u666f\u7684\u4e00\u90e8\u5206\u3002\u5927\u591a\u6570\u9879\u76ee\u90fd\u4f7f\u7528\u5b83\u6765\u786e\u4fdd\u8f6f\u4ef6\u5728\u591a\u4e2a Python \u89e3\u91ca\u5668\u7248\u672c\u4e4b\u95f4\u7684\u517c\u5bb9\u6027\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0ctox \u4e3b\u8981\u5b8c\u6210\u4ee5\u4e0b\u5de5\u4f5c\uff1a 1. \u6839\u636e\u914d\u7f6e\u521b\u5efa\u57fa\u4e8e\u591a\u4e2a\u7248\u672c\u7684 python \u865a\u62df\u73af\u5883\uff0c\u5e76\u4e14\u4fdd\u8bc1\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u7684\u53ef\u590d\u5236\u6027\uff08\u9700\u8981\u4e0e poetry \u6216\u8005\u5176\u5b83\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177\u4e00\u8d77\u534f\u4f5c\uff09\u3002 2. \u5728\u591a\u4e2a\u73af\u5883\u4e2d\u8fd0\u884c\u6d4b\u8bd5\u548c\u4ee3\u7801\u68c0\u67e5\u5de5\u5177\uff0c\u6bd4\u5982 pytest \u548c flake8, black, mypy \u7b49\u3002 3. \u9694\u79bb\u73af\u5883\u53d8\u91cf\u3002tox \u4e0d\u4f1a\u5c06\u7cfb\u7edf\u7684\u4efb\u4f55\u73af\u5883\u53d8\u91cf\u4f20\u9012\u5230\u865a\u62df\u73af\u5883\u4e2d\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u6d4b\u8bd5\u7684\u53ef\u91cd\u590d\u6027\u3002</p> <p>Tip</p> <p>\u521d\u5b66\u8005\u53ef\u80fd\u5e76\u4e0d\u4e60\u60ef\u8fd9\u4e2a\u7279\u6027\u3002\u8fd9\u610f\u5473\u7740\u5982\u679c\u4f60\u7684\u6d4b\u8bd5\u6216\u8005\u4ee3\u7801\u9700\u8981\u8bfb\u53d6\u67d0\u4e9b\u73af\u5883\u53d8\u91cf\uff0c\u5b83\u4eec\u5c31\u4e0d\u80fd\u8bbe\u7f6e\u5728\u8fd0\u884c\u6d4b\u8bd5\u7684\u4e3b\u673a\u4e2d\uff0c\u800c\u662f\u5fc5\u987b\u5728 tox \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u8fdb\u884c\u8bbe\u7f6e\u3002\u8fd9\u6837\u505a\u7684\u76ee\u7684\uff0c\u662f\u4e3a\u4e86\u4fdd\u8bc1\u6d4b\u8bd5\u7ed3\u679c\u7684\u53ef\u91cd\u73b0\u6027\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#62-tox","title":"6.2. Tox \u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u4e0b\u56fe\u662f tox \u6587\u6863\u663e\u793a\u7684\u5de5\u4f5c\u539f\u7406\u56fe\uff1a</p> <p></p> <p>\u6839\u636e\u8fd9\u5f20\u56fe\uff0ctox \u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\uff0c\u6253\u5305\u5f85\u6d4b\u8bd5\u8f6f\u4ef6\uff0c\u6309\u7167\u914d\u7f6e\u6587\u4ef6\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u5e76\u5b89\u88c5\u5f85\u6d4b\u8bd5\u8f6f\u4ef6\u548c\u4f9d\u8d56\uff0c\u7136\u540e\u4f9d\u6b21\u6267\u884c\u6d4b\u8bd5\u547d\u4ee4\u3002\u6700\u7ec8\uff0c\u5f53\u6240\u6709\u865a\u62df\u73af\u5883\u4e0b\u7684\u6d4b\u8bd5\u90fd\u901a\u8fc7\u540e\uff0ctox \u4f1a\u751f\u6210\u6d4b\u8bd5\u62a5\u544a\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4e3b\u8981\u901a\u8fc7\u4e00\u4e2a\u5178\u578b\u7684\u914d\u7f6e\u6587\u4ef6\u6765\u4ecb\u7ecd tox \u662f\u5982\u4f55\u914d\u7f6e\u548c\u5de5\u4f5c\u7684\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#63-tox","title":"6.3. \u5982\u4f55\u914d\u7f6e Tox","text":"<p>\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5b58\u5728\u4ee5\u4e0b tox.ini \u6587\u4ef6\uff1a tox.ini<pre><code>[tox]\nisolated_build = true\nenvlist = py38, py39, py310, lint\nskipsdist = false\n\n[gh-actions]\npython =\n    3.10: py310\n    3.9: py39\n    3.8: py38\n\n[testenv:lint]\nextras =\n    dev\n    doc\ndeps =\n    poetry\ncommands =\n    poetry run isort {{ cookiecutter.project_slug }}\n    poetry run black {{ cookiecutter.project_slug }} tests\n    poetry run flake8 {{ cookiecutter.project_slug }}\n    poetry build\n    poetry run mkdocs build\n    poetry run twine check dist/*\n\n[testenv]\npassenv = *\nsetenv =\n    PYTHONPATH = {toxinidir}\n    PYTHONWARNINGS = ignore\ndeps = \n    poetry\nextras =\n    test\ncommands =\n    poetry run pytest -s --cov={{ cookiecutter.project_slug }} --cov-append --cov-report=xml --cov-report term-missing tests\n</code></pre></p> <p>\u914d\u7f6e\u6587\u4ef6\u4ecd\u7136\u662f\u6807\u51c6\u7684 ini \u6587\u4ef6\u683c\u5f0f\uff08tox \u4e5f\u652f\u6301\u901a\u8fc7 pyproject.toml \u6765\u8fdb\u884c\u914d\u7f6e\uff09\u3002\u6211\u4eec\u4e3b\u8981\u5173\u6ce8\u4ee5\u4e0b\u51e0\u4e2a\u90e8\u5206\uff1a</p>"},{"location":"articles/python/best-practice-python/chap07/#631-tox","title":"6.3.1. [tox] \u8282","text":"<p>\u5728\u6d4b\u8bd5\u4e00\u4e2a package \u4e4b\u524d\uff0ctox \u9996\u5148\u9700\u8981\u6784\u5efa\u4e00\u4e2a sdit \u5206\u53d1\u5305\u3002\u5728\u6253\u5305\u8fd9\u4ef6\u4e8b\u4e0a\uff0cpython \u8d70\u8fc7\u4e86\u5f88\u957f\u7684\u4e00\u6bb5\u5386\u7a0b\uff0c\u6253\u5305\u5de5\u5177\u548c\u6807\u51c6\u4e5f\u7ecf\u5386\u4e86\u5f88\u591a\u53d8\u5316\uff0c\u8fd9\u4e9b\u6211\u4eec\u5c06\u7528\u4e13\u95e8\u7684\u4e00\u7ae0\u6765\u4ecb\u7ecd\u3002\u73b0\u5728\u6211\u4eec\u9700\u8981\u77e5\u9053\u7684\u662f\uff0c\u6700\u65b0\u7684\u6807\u51c6\u662f PEP517 \u548c PEP518\uff0ctox \u5df2\u7ecf\u652f\u6301\u8fd9\u4e24\u4e2a\u6807\u51c6\u3002\u4f46\u662f\uff0c\u5982\u679c\u9879\u76ee\u672c\u8eab\u4e0d\u652f\u6301\u8fd9\u4e24\u4e2a PEP\uff0c\u90a3\u4e48 tox \u5fc5\u987b\u56de\u5230\u4e4b\u524d\u7684\u6253\u5305\u65b9\u5f0f\u3002</p> <p>\u56e0\u6b64\uff0ctox \u5f15\u5165\u4e86 isolated_build \u8fd9\u4e2a\u9009\u9879\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0ctox \u4f1a\u4f7f\u7528 PEP517 \u548c PEP518 \u7684\u65b9\u5f0f\u6765\u6253\u5305\u9879\u76ee\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a false\uff0ctox \u4f1a\u4f7f\u7528\u4f20\u7edf\u7684\u65b9\u5f0f (setup.py) \u6765\u6253\u5305\u9879\u76ee\u3002\u5982\u679c\u901a\u8fc7 poetry \u521b\u5efa\u9879\u76ee\uff0c\u5e76\u4e14\u5728 pyproject.toml \u4e2d\u8bbe\u7f6e\u4e86 requires \u548c build-backend \u9879\u7684\u8bdd\uff0c\u90a3\u4e48\u6211\u4eec\u662f\u9700\u8981\u8bbe\u7f6e isolated_build \u4e3a true \u7684\u3002</p> <p>\u5728\u6240\u6709 ppw \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u90fd\u8bbe\u7f6e\u4e86 isolated_build \u4e3a true\uff0c\u8fd9\u6837\u624d\u4e0e pyproject.toml \u7684\u8bbe\u7f6e\u4e00\u81f4\u3002</p> <p>envlist \u9009\u9879\u7684\u542b\u4e49\u6b63\u5982\u5b83\u7684\u540d\u5b57\u6240\u793a\uff0c\u8868\u660e\u4e86\u6211\u4eec\u9700\u8981\u5728\u591a\u5c11\u4e2a\u73af\u5883\u4e0b\u5206\u522b\u8fd0\u884c\u6d4b\u8bd5\u3002\u8fd9\u91cc\u6211\u4eec\u6307\u5b9a\u4e86 py38, py39, p310 \u548c lint \u8fd9 4 \u4e2a\u865a\u62df\u73af\u5883\u3002Tox \u4f1a\u81ea\u52a8\u6839\u636e\u73af\u5883\u540d\u5b57\u6765\u51b3\u5b9a\u8be5\u73af\u5883\u4e2d\u9700\u8981\u5b89\u88c5\u7684 Python \u7248\u672c\uff0c\u6bd4\u5982\uff0c\u5b83\u80fd\u4ece py38 \u8fd9\u4e2a\u540d\u5b57\u5206\u6790\u51fa\u6765\u5e94\u8be5\u4f7f\u7528 Python 3.8 \u7684\u7248\u672c\u3002\u8fd9\u91cc\u6211\u4eec\u8fd8\u6307\u5b9a\u4e86\u4e00\u4e2a lint \u73af\u5883\uff0c\u5b83\u662f\u7528\u6765\u6267\u884c\u4ee3\u7801\u68c0\u67e5\u7684\u3002\u6211\u4eec\u6ca1\u6709\u4e3a\u5b83\u4e13\u95e8\u6307\u5b9a python \u7684\u7248\u672c\uff0cTox \u4e5f\u65e0\u6cd5\u4ece\u540d\u5b57\u5206\u6790\u51fa\u6765 Python \u7684\u7248\u672c\uff0c\u56e0\u6b64\u5b83\u4f1a\u4f7f\u7528\u5f53\u524d\u7684 python \u7248\u672c\u3002</p> <p>\u9ed8\u8ba4\u5730\uff0ctox \u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa.tox \u76ee\u5f55\uff0c\u4e0a\u8ff0\u865a\u62df\u73af\u5883\u5c31\u521b\u5efa\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\uff1a <pre><code>$ll .tox\n\ntotal 36\ndrwxrwxr-x  9 aaron aaron 4096 Jan 20 23:48 ./\ndrwxrwxr-x 12 aaron aaron 4096 Jan 20 23:48 ../\ndrwxrwxr-x  5 aaron aaron 4096 Jan 20 23:47 .package/\n-rwxrwxr-x  1 aaron aaron    0 Jan 20 23:47 .package.lock*\ndrwxrwxr-x  3 aaron aaron 4096 Jan 20 23:47 .tmp/\ndrwxrwxr-x  2 aaron aaron 4096 Jan 20 23:47 dist/\ndrwxrwxr-x  6 aaron aaron 4096 Jan 20 23:48 lint/\ndrwxrwxr-x  2 aaron aaron 4096 Jan 20 23:47 log/\ndrwxrwxr-x  7 aaron aaron 4096 Jan 20 23:47 py38/\ndrwxrwxr-x  7 aaron aaron 4096 Jan 20 23:48 py39/\n</code></pre></p> <p>\u5217\u76ee\u5f55\u65f6\uff0c\u663e\u793a\u51fa\u6765\u5b58\u5728 lint, py38 \u548c py39\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u4e00\u6b65\u67e5\u770b\u8fd9\u4e9b\u865a\u62df\u73af\u5883\u4e0b\u7684 python \u7248\u672c\u3002\u4f46\u662f\uff0c\u6211\u4eec\u6ca1\u6709\u770b\u5230 py310\uff0c\u8fd9\u91cc\u56e0\u4e3a\u5728\u6211\u6d4b\u8bd5\u65f6\uff0c\u7cfb\u7edf\u8fd8\u6ca1\u6709\u5b89\u88c5 python 3.10 \u8fd9\u4e2a\u7248\u672c\uff0c\u56e0\u6b64 tox \u4f1a\u6682\u65f6\u8df3\u8fc7\u8fd9\u4e2a\u7248\u672c\uff0c\u76f4\u5230\u6211\u4eec\u5b89\u88c5 Python 3.10\uff0ctox \u624d\u4f1a\u5728\u6d4b\u8bd5\u521d\u59cb\u5316\u65f6\uff0c\u521b\u5efa py310 \u7684\u73af\u5883\u3002</p> <p>skipsdist \u9009\u9879\u7528\u6765\u6307\u793a tox \u662f\u5426\u8981\u8df3\u8fc7\u6784\u5efa sdist \u5206\u53d1\u5305\u7684\u6b65\u9aa4\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u4e3b\u8981\u662f\u4e3a\u4e86\u517c\u5bb9 python \u5e94\u7528\u7a0b\u5e8f\uff0c\u56e0\u4e3a tox \u7684\u6d4b\u8bd5\u5bf9\u8c61\u9664\u4e86 library \u4e4b\u5916\uff0c\u8fd8\u53ef\u80fd\u662f\u670d\u52a1\u6216\u8005\u7b80\u5355\u7684\u811a\u672c\u96c6\uff0c\u8fd9\u4e9b\u670d\u52a1\u6216\u8005\u811a\u672c\u96c6\u662f\u6ca1\u6709 setup.py \u6587\u4ef6\uff0c\u4e5f\u65e0\u6cd5\u6784\u5efa sdist \u5206\u53d1\u5305\u7684\u3002\u5982\u679c\u6ca1\u6709\u4e00\u4e2a\u6807\u5fd7\u8ba9 tox \u6765\u8df3\u8fc7\u6784\u5efa sdist \u5206\u53d1\u5305\u7684\u6b65\u9aa4\uff0c\u90a3\u4e48 tox \u4f1a\u62a5\u9519\uff1a <pre><code>ERROR: No pyproject.toml or setup.py file found. The expected locations are:\n  /Users/christophersamiullah/repos/tox_examples/basic/pyproject.toml or \n  /Users/christophersamiullah/repos/tox_examples/basic/setup.py\nYou can\n  1. Create one:\n     https://tox.readthedocs.io/en/latest/example/package.html\n  2. Configure tox to avoid running sdist:\n     https://tox.readthedocs.io/en/latest/example/general.html\n  3. Configure tox to use an isolated_build\n</code></pre></p> <p>\u8fd9\u4e2a\u9009\u9879\u5728 tox \u4e2d\u662f\u9ed8\u8ba4\u4e3a false \u7684\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u65e0\u987b\u914d\u7f6e\u3002\u6211\u4eec\u51fa\u4e8e\u5e2e\u52a9\u5927\u5bb6\u7406\u89e3 tox \u5de5\u4f5c\u539f\u7406\u7684\u76ee\u7684\u624d\u5728\u8fd9\u91cc\u4ecb\u7ecd\u5b83\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#632-testenv","title":"6.3.2. [testenv] \u8282","text":"<p>\u8fd9\u4e00\u8282\u7684\u914d\u7f6e\u9879\u9002\u7528\u4e8e\u6240\u6709\u7684\u865a\u62df\u73af\u5883\u3002\u5982\u679c\u5728\u67d0\u4e2a\u865a\u62df\u73af\u5883\u4e0b\u5b58\u5728\u7279\u522b\u7684\u9009\u9879\u548c\u52a8\u4f5c\uff0c\u9700\u8981\u8c61 [testenv:lint] \u90a3\u6837\u5b9a\u4e49\u5728\u81ea\u5df1\u7684\u8282\u4e2d\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u8fd8\u989d\u5916\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u73af\u5883\u53d8\u91cf\u5b57\u6bb5\u3002\u6bd4\u5982\u8bbe\u7f6e\u4e86 PYTHONPATH\uff0c\u53e6\u5916\u4e5f\u5ffd\u7565\u4e86\u4e00\u4e9b\u8b66\u544a\u4fe1\u606f\uff08\u7b2c 27 \u884c\uff09\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u4e00\u4e9b\u5e93\u6ca1\u6709\u66f4\u65b0\uff0c\u90a3\u4e48\u5c06\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u6253\u5370\u5927\u91cf\u7684 deprecation \u8b66\u544a\uff0c\u4ece\u800c\u5e72\u6270\u6211\u4eec\u68c0\u67e5\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u7684\u9519\u8bef\u4fe1\u606f\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u5e94\u8be5\u81f3\u5c11\u5728\u6d4b\u8bd5\u4e2d\u6253\u5f00\u4e00\u6b21\u8fd9\u79cd\u8b66\u544a\uff0c\u4ee5\u4fbf\u77e5\u9053\u54ea\u4e9b\u7528\u6cd5\u5df2\u7ecf\u9700\u8981\u66f4\u65b0\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0ctox \u662f\u4e0d\u4f1a\u628a\u5bbf\u4e3b\u673a\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u4f20\u9012\u7ed9\u6d4b\u8bd5\u73af\u5883\u7684\u3002\u4f46\u6709\u4e00\u4e9b\u60c5\u51b5\uff0c\u6bd4\u5982\u91cd\u8981\u670d\u52a1\u7684\u8d26\u53f7\u548c\u53e3\u4ee4\uff0c\u5e76\u4e0d\u9002\u5408\u5199\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u53ea\u80fd\u914d\u7f6e\u5728\u5bbf\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7 passenv \u9009\u9879\u6765\u6307\u5b9a\u9700\u8981\u4f20\u9012\u7684\u73af\u5883\u53d8\u91cf\u3002\u8fd9\u4e2a\u9009\u9879\u7684\u503c\u662f\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u662f\u5355\u4e2a\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4e5f\u53ef\u4ee5\u8c61\u793a\u4f8b\u4e2d\u90a3\u6837\uff0c\u662f\u4e00\u4e2a\u901a\u914d\u7b26\u3002</p> <p>Info</p> <p>\u5728\u56e2\u961f\u5f00\u53d1\u4e2d\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5f00\u53d1\u8005\u90fd\u6709\u6743\u63a5\u89e6\u5230\u91cd\u8981\u670d\u52a1\u7684\u8d26\u53f7\u4e0e\u53e3\u4ee4\u3002\u5982\u679c\u8fd9\u4e9b\u79d8\u5bc6\u4fe1\u606f\u914d\u7f6e\u5728\u4ee3\u7801\u6587\u4ef6\u6216\u8005\u76f8\u5173\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5c31\u4f1a\u5bfc\u81f4\u8fd9\u4e9b\u79d8\u5bc6\u66b4\u9732\u7ed9\u4e86\u6240\u6709\u7684\u5f00\u53d1\u8005\u3002\u6b64\u5916\uff0c\u5982\u679c\u4ee3\u7801\u4ed3\u5e93\u4f7f\u7528\u7684\u662f gitlab\uff0c\u8fd8\u53ef\u80fd\u5bfc\u81f4\u8fd9\u4e9b\u4fe1\u606f\u6cc4\u9732\u5230\u4e92\u8054\u7f51\u4e0a\u3002\u6b63\u786e\u7684\u4f5c\u6cd5\u662f\u5c06\u8fd9\u4e9b\u91cd\u8981\u4fe1\u606f\u4ec5\u4ec5\u914d\u7f6e\u5728\u5bbf\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u53ea\u6709\u6709\u6743\u8bbf\u95ee\u90a3\u53f0\u673a\u5668\u7684\u4eba\u624d\u80fd\u63a5\u89e6\u5230\u8fd9\u4e9b\u79d8\u5bc6\u3002</p> <p>\u8fd9\u662f\u4e00\u79cd\u6807\u51c6\u7684\u505a\u6cd5\uff0c\u4e5f\u5f97\u5230\u4e86 github CI \u7684\u652f\u6301\u3002\u5728 github CI \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 workflow \u6587\u4ef6\u4e2d\u4f7f\u7528 env \u9009\u9879\u6765\u8bfb\u53d6\u73af\u5883\u53d8\u91cf\uff0c\u518d\u7ecf\u7531 tox \u628a\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4f20\u9012\u7ed9\u6d4b\u8bd5\u73af\u5883\u3002</p> <p>deps \u9009\u9879\u58f0\u660e\u4e86\u8981\u5728\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u7684 python \u5e93\u3002\u4e0d\u540c\u7684\u6d4b\u8bd5\u9700\u8981\u7684\u4f9d\u8d56\u53ef\u80fd\u5404\u4e0d\u76f8\u540c\uff0c\u4f46\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u6211\u4eec\u53ea\u9700\u8981\u4e00\u4e2a\u5171\u540c\u7684\u4f9d\u8d56\uff0c\u5373 poetry\u3002\u56e0\u4e3a\u540e\u9762\u7684\u6d4b\u8bd5\u547d\u4ee4\uff0c\u6211\u4eec\u90fd\u4f1a\u901a\u8fc7 poetry \u6765\u8c03\u7528\u3002</p> <p>Tox \u5728\u5b89\u88c5\u88ab\u6d4b\u8bd5\u5305\u65f6\uff0c\u4e00\u822c\u662f\u4e0d\u5b89\u88c5\u58f0\u660e\u4e3a extra \u7c7b\u578b\u7684\u4f9d\u8d56\u7684\u3002\u4f46\u662f\uff0c\u4e3a\u4e86\u8fd0\u884c\u6d4b\u8bd5\u548c\u8fdb\u884c lint\uff0c\u6211\u4eec\u5fc5\u987b\u5b89\u88c5 pytest, Flake8 \u7b49\u7b2c\u4e09\u65b9\u5e93\u3002\u5728 ppw \u751f\u6210\u7684\u5de5\u7a0b\u4e2d\uff0c\u8fd9\u4e9b extra \u7c7b\u578b\u7684\u4f9d\u8d56\u53c8\u88ab\u7ec6\u5206\u4e3a dev, test \u548c doc\u3002\u5176\u4e2d test \u4f9d\u8d56\u662f\u6240\u6709\u6d4b\u8bd5\u73af\u5883\uff08\u5373 py38, py310 \u7b49\uff09\u4e2d\u9700\u8981\u5b89\u88c5\u7684\uff0c\u800c dev \u548c doc \u4e00\u822c\u53ea\u5728 lint \u65f6\u9700\u8981\u5b89\u88c5\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5728 [testenv] \u4e86\u5bf9 test \u7684\u4f9d\u8d56\uff0c\u800c [testenv:lint] \u5219\u4f9d\u8d56\u5230 dev \u548c doc\u3002</p> <p>\u63a5\u4e0b\u6765\u5c31\u662f commands \u5b57\u6bb5\u3002\u8fd9\u662f\u771f\u6b63\u6267\u884c\u6d4b\u8bd5\u6216\u8005 lint \u7684\u5730\u65b9\u3002\u8fd9\u91cc\u7684\u547d\u4ee4\u662f\uff1a</p> <p><pre><code>commands =\n    poetry run pytest -s --cov=%package_under_test% --cov-append --cov-report=xml \n    --cov-report term-missing tests\n</code></pre> \"-s\" \u662f\u544a\u8bc9 pytest \u4e0d\u8981\u6355\u83b7\u63a7\u5236\u53f0\u8f93\u5165\u8f93\u51fa\u3002</p> <p>\u5728 ppw \u751f\u6210\u7684\u5de5\u7a0b\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u96c6\u6210\u4e86 pytest-coverage \u63d2\u4ef6\uff0c\u56e0\u6b64\uff0c\u901a\u8fc7\u9002\u5f53\u7684\u914d\u7f6e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6d4b\u8bd5\u65f6\u540c\u65f6\u5b8c\u6210\u6d4b\u8bd5\u8986\u76d6\u7387\u7684\u7edf\u8ba1\u3002--cov \u7528\u6765\u6307\u793a\u4ee3\u7801\u8986\u76d6\u7684\u8303\u56f4\uff0c\u8fd9\u91cc%package_under_test%\u9700\u8981\u66ff\u6362\u6210\u4e3a\u6211\u4eec\u7684\u5f85\u6d4b\u8bd5\u7a0b\u5e8f\u5e93\u540d\u5b57\u3002--cov-append \u8868\u660e\u6b64\u6b21\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u5c06\u8ffd\u52a0\u5230\u4e4b\u524d\u7684\u7edf\u8ba1\u6570\u636e\u4e2d\uff0c\u800c\u4e0d\u662f\u5b8c\u5168\u66ff\u6362\u4e4b\u524d\u7684\u6570\u636e\u3002--cov-report \u5c06\u6d4b\u8bd5\u6570\u636e\u8f93\u51fa\u4e3a xml \u683c\u5f0f\u3002--cov-report \u8868\u660e\u5e94\u8be5\u5982\u4f55\u751f\u6210\u62a5\u544a\u3002</p> <p>\u6700\u540e\uff0ctests \u662f\u6211\u4eec\u6d4b\u8bd5\u4ee3\u7801\u6240\u5728\u7684\u6587\u4ef6\u5939\u3002</p>"},{"location":"articles/python/best-practice-python/chap07/#633-testenvlint","title":"6.3.3. [testenv.lint]","text":"<p>\u8fd9\u4e00\u8282\u7684\u8bed\u6cd5\u4e0e [testenv] \u5e76\u65e0\u4e8c\u81f4\u3002\u53ea\u4e0d\u8fc7\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u4e0d\u4e00\u6837\u3002\u8fd9\u91cc\u5c31\u4e0d\u518d\u4e00\u4e00\u89e3\u91ca\u3002</p> <ol> <li> <p>\u6839\u636e pytest \u6587\u6863\uff0cpytest session \u662f\u6307\u901a\u8fc7 pytest \u547d\u4ee4\u542f\u52a8\u7684\u4e00\u6b21\u6d4b\u8bd5\u8fc7\u7a0b\u3002\u00a0\u21a9</p> </li> </ol>"},{"location":"articles/python/best-practice-python/chap08/","title":"08 \u4ee3\u7801\u7248\u672c\u7ba1\u7406","text":""},{"location":"articles/python/best-practice-python/chap08/#1","title":"1. \u7248\u672c\u63a7\u5236\u7684\u610f\u4e49","text":"<p>\u4f5c\u8005\u8fd8\u5728\u7814\u7a76\u751f\u9636\u6bb5\u65f6\uff0c\u72af\u8fc7\u4e00\u4e2a\u523b\u9aa8\u94ed\u5fc3\u7684\u9519\u8bef\uff1a\u90a3\u662f\u591c\u91cc\u4e24\u70b9\uff0c\u5728 6 \u4e2a\u5c0f\u65f6\u4e4b\u540e\uff0c\u6211\u4eec\u7814\u53d1\u7684\u7cfb\u7edf\u5c31\u8981\u5728\u67d0\u4e2a\u4f1a\u8bae\u5ba4\u91cc\uff0c\u4ea4\u4ed8\u7ed9\u8fd1 20 \u540d\u4f7f\u7528\u8005\u4f7f\u7528\uff0c\u800c\u8fd9\u4e9b\u4eba\u5c06\u4f7f\u7528\u6211\u4eec\u7684\u8f6f\u4ef6\uff0c\u5224\u5b9a\u8fd1 1 \u4e07\u9752\u5e74\u4eba\u7684\u524d\u9014\u3002\u5c31\u5728\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u53d1\u73b0\u4e4b\u524d\u901a\u8fc7\u4e86\u6d4b\u8bd5\u3001\u5df2\u7ecf\u6253\u5305\u597d\u7684\u7248\u672c\uff0c\u5728\u6e05\u7406\u78c1\u76d8\u7a7a\u95f4\u65f6\u88ab\u5220\u9664\u4e86\uff1b\u4f46\u5728\u90a3\u4e2a\u7248\u672c\u4e4b\u540e\uff0c\u6211\u4eec\u53c8\u6539\u52a8\u4e86\u4e00\u4e9b\u4ee3\u7801\u3002\u8fd9\u4e9b\u6539\u52a8\u5305\u542b\u4e86\u529f\u80fd\u589e\u5f3a\u3001\u5c0f bug \u7684\u4fee\u590d\uff0c\u5927\u7ea6\u662f\u4e00\u5929\u591a\u7684\u5de5\u4f5c\u91cf\uff0c\u672a\u7ecf\u6d4b\u8bd5\uff0c\u4e0d\u80fd\u53d1\u5e03\u3002</p> <p>\u4eca\u5929\u7684\u7a0b\u5e8f\u5458\u5f88\u96be\u7406\u89e3\u8fd9\u4e3a\u4ec0\u4e48\u4f1a\u662f\u4e00\u4e2a\u5927\u95ee\u9898\u3002\u4f46\u5728\u5f53\u65f6\uff0c\u7531\u4e8e\u7f3a\u4e4f\u7248\u672c\u7ba1\u7406\u5de5\u5177\uff08cvs \u63a8\u51fa\u6ca1\u6709\u51e0\u5e74\uff0c\u8fd8\u521a\u521a\u8fdb\u5165\u56fd\u5185\uff0c\u5728\u6821\u56ed\u91cc\u7684\u6211\u4eec\u4e0d\u4e86\u89e3\u4e5f\u662f\u60c5\u6709\u53ef\u539f\uff09\uff0c\u6211\u4eec\u9762\u4e34\u5341\u5206\u5c34\u5c2c\u7684\u5c40\u9762\uff1a\u65e2\u6ca1\u6709\u73b0\u6210\u53ef\u53d1\u5e03\u7684\u8f6f\u4ef6\uff0c\u4e5f\u6ca1\u6709\u4e00\u79cd\u529e\u6cd5\u80fd\u8f7b\u6613\u5730\u8ba9\u4ee3\u7801\u56de\u6eda\u5230\u901a\u8fc7\u6d4b\u8bd5\u7684\u90a3\u4e2a\u7248\u672c\uff0c\u4ece\u800c\u6784\u5efa\u51fa\u4e00\u6a21\u4e00\u6837\u7684\u7248\u672c\u3002</p> <p>\u90a3\u662f\u4e00\u4e2a\u75db\u82e6\u7684\u591c\u665a\u3002\u4e00\u4e9b\u4eba\u5f00\u59cb\u51c6\u5907\u5584\u540e\u65b9\u6848\uff0c\u6211\u4eec\u5219\u5e26\u7740\u6127\u759a\u7684\u5fc3\u60c5\uff0c\u52aa\u529b\u8bd5\u56fe\u8ba9\u4ee3\u7801\u5c3d\u53ef\u80fd\u5730\u56de\u6eda\u5230\u901a\u8fc7\u6d4b\u8bd5\u7684\u90a3\u4e2a\u7248\u672c\u7684\u72b6\u6001\u3002</p> <p>\u5982\u679c\u6709 CI/CD\uff0c\u8fd9\u79cd\u5931\u8bef\u51e0\u4e4e\u4e0d\u53ef\u80fd\u53d1\u751f\u3002\u5982\u679c\u6709\u7248\u672c\u63a7\u5236\u7684\u8bdd\uff0c\u5373\u4f7f\u53d1\u751f\u4e86\u8fd9\u79cd\u5931\u8bef\uff0c\u7ea0\u9519\u4ee3\u4ef7\u4e5f\u4f1a\u5c0f\u5f88\u591a\u3002</p> <p>\u7248\u672c\u63a7\u5236\u662f\u4e00\u79cd\u8bb0\u5f55\u4e00\u4e2a\u6216\u82e5\u5e72\u6587\u4ef6\u5185\u5bb9\u53d8\u5316\uff0c\u4ee5\u4fbf\u5c06\u6765\u67e5\u9605\u7279\u5b9a\u7248\u672c\u4fee\u8ba2\u60c5\u51b5\u7684\u7cfb\u7edf\u3002\u5728\u672c\u4e66\u5199\u4f5c\u65f6\uff0c\u4f5c\u8005\u5c31\u4f7f\u7528\u4e86\u7248\u672c\u63a7\u5236\uff0c\u5305\u62ec\u6b63\u6587\u5185\u5bb9\u548c\u9644\u5e26\u6e90\u7801\u3002</p> <p>\u5982\u679c\u4f60\u662f\u4e00\u540d\u56fe\u5f62\u6216\u7f51\u9875\u8bbe\u8ba1\u5e08\uff0c\u53ef\u80fd\u4f1a\u9700\u8981\u4fdd\u5b58\u67d0\u4e00\u5e45\u56fe\u7247\u6216\u9875\u9762\u5e03\u5c40\u6587\u4ef6\u7684\u6240\u6709\u4fee\u8ba2\u7248\u672c\uff08\u8fd9\u6216\u8bb8\u662f\u4f60\u975e\u5e38\u6e34\u671b\u62e5\u6709\u7684\u529f\u80fd\uff09\uff0c\u91c7\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff08VCS\uff09\u662f\u4e2a\u660e\u667a\u7684\u9009\u62e9\u3002\u6709\u4e86\u5b83\u4f60\u5c31\u53ef\u4ee5\u5c06\u9009\u5b9a\u7684\u6587\u4ef6\u6062\u590d\u5230\u4e4b\u524d\u7684\u72b6\u6001\uff0c\u751a\u81f3\u5c06\u6574\u4e2a\u9879\u76ee\u90fd\u56de\u9000\u5230\u8fc7\u53bb\u67d0\u4e2a\u65f6\u95f4\u70b9\u7684\u72b6\u6001\uff0c\u4f60\u53ef\u4ee5\u6bd4\u8f83\u6587\u4ef6\u7684\u53d8\u5316\u7ec6\u8282\uff0c\u67e5\u51fa\u6700\u540e\u662f\u8c01\u4fee\u6539\u4e86\u54ea\u4e2a\u5730\u65b9\uff0c\u4ece\u800c\u627e\u51fa\u5bfc\u81f4\u602a\u5f02\u95ee\u9898\u51fa\u73b0\u7684\u539f\u56e0\uff0c\u53c8\u662f\u8c01\u5728\u4f55\u65f6\u5bfc\u81f4\u4e86\u67d0\u4e2a\u529f\u80fd\u7f3a\u9677\u7b49\u7b49\u3002\u4f7f\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u901a\u5e38\u8fd8\u610f\u5473\u7740\uff0c\u5c31\u7b97\u4f60\u4e71\u6765\u4e00\u6c14\u628a\u6574\u4e2a\u9879\u76ee\u4e2d\u7684\u6587\u4ef6\u6539\u7684\u6539\u5220\u7684\u5220\uff0c\u4f60\u4e5f\u7167\u6837\u53ef\u4ee5\u8f7b\u677e\u6062\u590d\u5230\u539f\u5148\u7684\u6837\u5b50\uff0c\u4f46\u989d\u5916\u589e\u52a0\u7684\u5de5\u4f5c\u91cf\u5374\u5fae\u4e4e\u5176\u5fae\u3002</p> <p>\u56de\u5230\u6211\u8bfb\u7814\u7684\u90a3\u4e2a\u5e74\u4ee3\uff0c\u8bb8\u591a\u4eba\u4e60\u60ef\u7528\u590d\u5236\u6574\u4e2a\u9879\u76ee\u76ee\u5f55\u7684\u65b9\u5f0f\u6765\u4fdd\u5b58\u4e0d\u540c\u7684\u7248\u672c\uff0c\u6216\u8bb8\u8fd8\u4f1a\u5728\u76ee\u5f55\u540d\u4e0a\u52a0\u4e0a\u5907\u4efd\u65f6\u95f4\u4ee5\u793a\u533a\u522b\u3002\u8fd9\u4e48\u505a\u552f\u4e00\u7684\u597d\u5904\u5c31\u662f\u7b80\u5355\uff0c\u4f46\u662f\u7279\u522b\u5bb9\u6613\u72af\u9519\u3002\u6709\u65f6\u5019\u4f1a\u6df7\u6dc6\u6240\u5728\u7684\u5de5\u4f5c\u76ee\u5f55\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u4f1a\u5199\u9519\u6587\u4ef6\u6216\u8005\u8986\u76d6\u610f\u60f3\u5916\u7684\u6587\u4ef6\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4eba\u4eec\u5f88\u4e45\u4ee5\u524d\u5c31\u5f00\u53d1\u4e86\u8bb8\u591a\u79cd\u672c\u5730\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u5927\u591a\u90fd\u662f\u91c7\u7528\u67d0\u79cd\u7b80\u5355\u7684\u6570\u636e\u5e93\u6765\u8bb0\u5f55\u6587\u4ef6\u7684\u5386\u6b21\u66f4\u65b0\u5dee\u5f02\u3002\u5728\u8fd9\u4e2a\u65f6\u671f\u6700\u6d41\u884c\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u53ef\u80fd\u662f RCS\u3002\u5176\u5de5\u4f5c\u539f\u7406\u662f\u5728\u786c\u76d8\u4e0a\u4fdd\u5b58\u8865\u4e01\u96c6\uff08\u8865\u4e01\u662f\u6307\u6587\u4ef6\u4fee\u8ba2\u524d\u540e\u7684\u53d8\u5316\uff09\uff1b\u901a\u8fc7\u5e94\u7528\u6240\u6709\u7684\u8865\u4e01\uff0c\u53ef\u4ee5\u91cd\u65b0\u8ba1\u7b97\u51fa\u5404\u4e2a\u7248\u672c\u7684\u6587\u4ef6\u5185\u5bb9\u3002</p> <p>RCS \u7684\u7f3a\u70b9\u662f\u5b83\u4e0d\u652f\u6301\u5206\u652f\u64cd\u4f5c\uff08\u6211\u4eec\u540e\u9762\u8be6\u7ec6\u4ecb\u7ecd\u4ec0\u4e48\u662f\u5206\u652f\u64cd\u4f5c\uff09\uff0c\u52a0\u4e0a\u5b83\u53ea\u80fd\u7ba1\u7406\u672c\u5730\u6587\u4ef6\uff0c\u65e0\u6cd5\u652f\u6301\u591a\u4eba\u534f\u4f5c\u3002\u56e0\u6b64\u53c8\u53d1\u5c55 C/S \u67b6\u6784\u7684\u96c6\u4e2d\u5316\u7248\u672c\u63a7\u5236\u7cfb\u7edf (Centralized Version Control Systems\uff0c\u7b80\u79f0 CVCS\uff09\uff0c\u6bd4\u5982 CVS\uff0c subversion \u4ee5\u53ca perforce\u3002\u8fd9\u4e9b\u7cfb\u7edf\u7684\u57fa\u672c\u539f\u7406\u662f\uff0c\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u670d\u52a1\u5668\u5145\u5f53\u96c6\u4e2d\u5f0f\u7684\u6587\u4ef6\u5b58\u50a8\u548c\u7248\u672c\u5e93\uff0c\u6240\u6709\u7684\u6587\u4ef6\u90fd\u5fc5\u987b\u901a\u8fc7\u8fd9\u53f0\u670d\u52a1\u5668\u6765\u8bbf\u95ee\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6709\u6548\u5730\u63a7\u5236\u8c01\u53ef\u4ee5\u5e72\u4ec0\u4e48\u4e8b\u60c5\u3002CVCS \u7684\u7f3a\u70b9\u662f\u5fc5\u987b\u8054\u7f51\u624d\u80fd\u5de5\u4f5c\uff0c\u5982\u679c\u5728\u5c40\u57df\u7f51\u73af\u5883\u4e0b\u642d\u5efa\u670d\u52a1\u5668\uff0c\u8fd8\u9700\u8981\u4e00\u53f0 24 \u5c0f\u65f6\u5f00\u673a\u7684\u7535\u8111\u4f5c\u4e3a\u670d\u52a1\u5668\uff0c\u800c\u4e14\u6240\u6709\u7684\u6587\u4ef6\u90fd\u5fc5\u987b\u901a\u8fc7\u8fd9\u53f0\u670d\u52a1\u5668\u6765\u8bbf\u95ee\uff0c\u8fd9\u6837\u5c31\u4f1a\u9020\u6210\u8bbf\u95ee\u901f\u5ea6\u7684\u74f6\u9888\u3002</p> <p>\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u4eba\u4eec\u53c8\u5f00\u53d1\u4e86\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf (Distributed Version Control Systems\uff0c\u7b80\u79f0 DVCS\uff09\u3002\u6bd4\u5982 Git\uff0cMercurial\uff0cBazaar \u7b49\u3002DVCS \u7684\u57fa\u672c\u539f\u7406\u662f\uff0c\u6bcf\u4e2a\u5f00\u53d1\u8005\u7684\u7535\u8111\u4e0a\u90fd\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7248\u672c\u5e93\u3002\u5f53\u5f00\u53d1\u8005\u514b\u9686\u4e86\u67d0\u4e2a\u9879\u76ee\u540e\uff0c\u5c31\u62e5\u6709\u4e86\u8fd9\u4e2a\u9879\u76ee\u7684\u5b8c\u6574\u5386\u53f2\u7248\u672c\u3002\u5982\u679c\u5728\u672c\u5730\u4f5c\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u60f3\u8981\u4e0e\u5176\u4ed6\u4eba\u5206\u4eab\uff0c\u53ea\u9700\u8981\u628a\u672c\u5730\u7684\u7248\u672c\u5e93\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u5373\u53ef\u3002\u6b64\u540e\uff0c\u5176\u4ed6\u4eba\u5c31\u53ef\u4ee5\u4ece\u670d\u52a1\u5668\u4e0a\u6293\u53d6\u6700\u65b0\u7684\u7248\u672c\u5230\u672c\u5730\uff0c\u7136\u540e\u4e0e\u81ea\u5df1\u7684\u4fee\u6539\u8fdb\u884c\u5408\u5e76\uff0c\u518d\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u8fd9\u5c31\u5f62\u6210\u4e86\u4e00\u4e2a\u5206\u5e03\u5f0f\u7684\u534f\u4f5c\u5f00\u53d1\u6a21\u5f0f\u3002</p> <p>\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u53ea\u4ecb\u7ecd Git \u8fd9\u4e00\u79cd\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#2-git","title":"2. \u7248\u672c\u7ba1\u7406\u5de5\u5177 Git","text":"<p>Git \u8bde\u751f\u4e8e 2005 \u5e74\uff0c\u5b83\u7684\u5f00\u53d1\u8005 Linus Torvalds \u540c\u65f6\u4e5f\u662f Linux \u64cd\u4f5c\u7cfb\u7edf\u7684\u7f14\u9020\u8005\u3002\u5b83\u6027\u80fd\u4f18\u8d8a\uff0c\u9002\u5408\u7ba1\u7406\u5927\u9879\u76ee\uff0c\u6709\u7740\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\u7684\u975e\u7ebf\u6027\u5206\u652f\u7ba1\u7406\u7cfb\u7edf\uff0c\u662f\u76ee\u524d\u4e16\u754c\u4e0a\u6700\u6d41\u884c\u7684\u4ee3\u7801\u7ba1\u7406\u7cfb\u7edf\u4e4b\u4e00\u3002</p> <p>Git \u5728\u63a5\u53e3\u4e0a\u57fa\u672c\u5ef6\u7eed\u4e86\u5927\u591a\u6570\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u7684\u6982\u5ff5\u548c API\uff0c\u4f46\u5728\u5e95\u5c42\u8bbe\u8ba1\u4e0a\u5374\u98ce\u683c\u8fe5\u5f02\uff0c\u4ece\u800c\u6210\u5c31\u4e86\u5b83\u5f3a\u5927\u7684\u5f15\u64ce\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u662f\uff1a</p> <ol> <li> <p>\u76f4\u63a5\u8bb0\u5f55\u5feb\u7167\uff0c\u800c\u975e\u5dee\u5f02\u6bd4\u8f83\uff1a\u5176\u4ed6\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u5c06\u4e0d\u540c\u7248\u672c\u4e4b\u95f4\u7684\u5dee\u5f02\u63d0\u53d6\u4e3a\u589e\u91cf\u8fdb\u884c\u8bb0\u5f55\uff0c\u5f53\u8981\u63d0\u53d6\u6700\u65b0\u6587\u4ef6\u65f6\uff0c\u9700\u8981\u4ece\u6700\u521d\u59cb\u7684\u7248\u672c\u5f00\u59cb\uff0c\u628a\u5230\u6700\u65b0\u7684\u7248\u672c\u4e4b\u95f4\u7684\u6240\u6709\u5dee\u5f02\u4e00\u8def\u5408\u5e76\u8d77\u6765\u3002\u65e9\u671f\u8ba1\u7b97\u673a\u5b58\u50a8\u8d44\u6e90\u6bd4\u8f83\u5b9d\u8d35\uff0c\u56e0\u6b64\u524d\u51e0\u4ee3\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u91c7\u7528\u8fd9\u79cd\u8bbe\u8ba1\uff0c\u53ef\u4ee5\u51cf\u5c11\u5bf9\u5b58\u50a8\u8d44\u6e90\u7684\u5360\u7528\u3002Git \u5219\u53cd\u5176\u9053\u800c\u884c\u4e4b\uff0c\u5b83\u628a\u6587\u4ef6\u5f53\u4f5c\u662f\u5bf9\u7279\u5b9a\u6587\u4ef6\u67d0\u4e00\u65f6\u523b\u7684\u5feb\u7167\u3002\u6bcf\u6b21\u4f60\u63d0\u4ea4\u66f4\u65b0\uff0c\u6216\u8005\u4fdd\u5b58\u9879\u76ee\u7684\u5f53\u524d\u72b6\u6001\uff0cGit \u90fd\u4f1a\u5bf9\u5f53\u65f6\u7684\u5168\u90e8\u6587\u4ef6\u5236\u4f5c\u4e00\u4e2a\u5feb\u7167\u5e76\u4fdd\u5b58\u8fd9\u4e2a\u5feb\u7167\u7684\u7d22\u5f15\u3002Git \u7684\u8fd9\u79cd\u8bbe\u8ba1\u4f7f\u5f97 Git \u975e\u5e38\u9002\u5408\u5904\u7406\u5927\u578b\u9879\u76ee\uff0c\u800c\u4e14\u901f\u5ea6\u975e\u5e38\u5feb\u3002</p> </li> <li> <p>\u51e0\u4e4e\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u662f\u672c\u5730\u6267\u884c\uff1aGit \u7684\u8bbe\u8ba1\u76ee\u6807\u4e4b\u4e00\u5c31\u662f\u4fdd\u8bc1\u901f\u5ea6\u3002Git \u7684\u4e3b\u8981\u64cd\u4f5c\u90fd\u53ea\u9700\u8981\u8bbf\u95ee\u672c\u5730\u6587\u4ef6\u548c\u8d44\u6e90\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u4fe1\u606f\u90fd\u53ef\u4ee5\u5728\u672c\u5730\u627e\u5230\uff0c\u6240\u4ee5 Git \u975e\u5e38\u5feb\u3002Git \u7684\u53e6\u4e00\u4e2a\u8bbe\u8ba1\u76ee\u6807\u662f\u80fd\u591f\u53ef\u9760\u5730\u5904\u7406\u5404\u79cd\u975e\u7ebf\u6027\u7684\u5f00\u53d1\uff08\u5206\u652f\uff09\u5386\u53f2\u3002Git \u7684\u5206\u652f\u548c\u5408\u5e76\u64cd\u4f5c\u975e\u5e38\u9ad8\u6548\u3002</p> </li> <li> <p>Git \u7684\u5b8c\u6574\u6027\u4fdd\u8bc1: Git \u4e2d\u7684\u6240\u6709\u6570\u636e\u5728\u5b58\u50a8\u524d\u90fd\u8ba1\u7b97\u6821\u9a8c\u548c\uff0c\u7136\u540e\u4ee5\u6821\u9a8c\u548c\u6765\u5f15\u7528\u3002\u8fd9\u610f\u5473\u7740\uff0cGit \u5728\u5b58\u50a8\u548c\u4f20\u8f93\u6570\u636e\u65f6\uff0c\u4f1a\u81ea\u52a8\u53d1\u73b0\u6570\u636e\u7684\u635f\u574f\u3002</p> </li> <li> <p>\u8ffd\u52a0\u5f0f\u64cd\u4f5c\uff1a\u4f60\u6267\u884c\u7684 Git \u64cd\u4f5c\uff0c\u51e0\u4e4e\u53ea\u5f80 Git \u6570\u636e\u5e93\u4e2d\u6dfb\u52a0\u6570\u636e\u3002\u4e5f\u5c31\u662f\u8bf4 Git \u51e0\u4e4e\u4e0d\u4f1a\u6267\u884c\u4efb\u4f55\u53ef\u80fd\u5bfc\u81f4\u6587\u4ef6\u4e0d\u53ef\u6062\u590d\u7684\u64cd\u4f5c\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u4f7f\u7528 Git \u6210\u4e3a\u4e00\u4e2a\u5b89\u5fc3\u6109\u60a6\u7684\u8fc7\u7a0b\uff0c\u56e0\u4e3a\u6211\u4eec\u6df1\u77e5\u53ef\u4ee5\u5c3d\u60c5\u505a\u5404\u79cd\u5c1d\u8bd5\uff0c\u800c\u6ca1\u6709\u628a\u4e8b\u60c5\u5f04\u7cdf\u7684\u5371\u9669\u3002</p> </li> </ol> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u4e3b\u8981\u6309\u7167 git \u7684\u4f7f\u7528\u573a\u666f\u987a\u5e8f\uff0c\u7531\u6d45\u5165\u6df1\u5730\u4ecb\u7ecd git \u547d\u4ee4\u4e0e\u6280\u5de7\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#21-git","title":"2.1. \u521b\u5efa git \u4ed3\u5e93","text":"<p>Git \u4ed3\u5e93\uff08\u6709\u4eba\u4e5f\u79f0\u4f5c\u5b58\u50a8\u5e93\uff09\u662f\u9879\u76ee\u7684\u865a\u62df\u5b58\u50a8\u3002\u5b83\u5141\u8bb8\u60a8\u4fdd\u5b58\u4ee3\u7801\u7684\u7248\u672c\uff0c\u60a8\u53ef\u4ee5\u5728\u9700\u8981\u65f6\u8bbf\u95ee\u8fd9\u4e9b\u7248\u672c\u3002</p> <p>\u901a\u5e38\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u5f0f\u6765\u521b\u5efa git \u4ed3\u5e93\uff0c\u53d6\u51b3\u4e8e\u4f60\u7684\u5f00\u53d1\u5de5\u4f5c\u662f\u5982\u4f55\u5f00\u59cb\u7684\u3002\u4e0d\u8fc7\uff0c\u5728\u6b63\u5f0f\u4ecb\u7ecd\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u770b\u4e00\u4e2a\u6700\u57fa\u7840\u7684\u8bbe\u7f6e\u547d\u4ee4\u3002</p> <p>\u5f53\u4f60\u5728\u67d0\u53f0\u673a\u5668\u4e0a\uff08\u6216\u8005\u67d0\u4e2a\u5de5\u7a0b\u4e2d\uff09\u521d\u59cb\u4f7f\u7528 git \u65f6\uff0c\u6211\u4eec\u9700\u8981\u505a\u7684\u7b2c\u4e00\u4ef6\u4e8b\u5c31\u662f\u8bbe\u7f6e\u4f60\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u5730\u5740\u3002\u8fd9\u4e9b\u4fe1\u606f\u5728\u6bcf\u6b21\u63d0\u4ea4\u65f6\u90fd\u4f1a\u7528\u5230\u3002</p> <pre><code>$ git config --global user.name \"John Doe\"\n$ git config --global user.email johndoe@example.com\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86--global \u9009\u9879\uff0c\u5982\u6b64\u4e00\u6765\uff0c\u5728\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u4ec5\u9700\u914d\u7f6e\u4e00\u6b21\uff0c\u6240\u6709\u7684\u9879\u76ee\u90fd\u5c06\u590d\u7528\u8fd9\u4e2a\u8bbe\u7f6e\u3002\u4f46\u5982\u679c\u4f60\u540c\u65f6\u4e3a\u591a\u4e2a\u9879\u76ee\u5de5\u4f5c\uff0c\u5e76\u4e14\u5e0c\u671b\u5728\u4e0d\u540c\u7684\u9879\u76ee\u4e2d\uff0c\u4f7f\u7528\u4e0d\u540c\u7684\u7528\u6237\u540d\u548c\u90ae\u7bb1\u5730\u5740\u7684\u8bdd\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528\u8fd9\u4e00\u9009\u9879\u3002\u5176\u7ed3\u679c\u662f\uff0c\u8fd9\u4e9b\u914d\u7f6e\u5c06\u4f1a\u88ab\u5199\u5165\u5230\u5f53\u524d\u9879\u76ee\u7684.git/config \u6587\u4ef6\u4e2d\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5230\u5176\u5b83\u5de5\u7a0b\u3002\u5f53\u7136\uff0c\u8fd9\u79cd\u6309\u9879\u76ee\u7684\u914d\u7f6e\uff0c\u5c31\u5fc5\u987b\u7b49\u5230\u9879\u76ee\u4ed3\u5e93\u8bbe\u7f6e\u5b8c\u6210\u4e4b\u540e\u624d\u80fd\u8fdb\u884c\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u4ed3\u5e93\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#211-git-init","title":"2.1.1. \u521b\u5efa\u65b0\u7684\u672c\u5730\u4ed3\u5e93\uff1agit init","text":"<p>\u8981\u521b\u5efa\u65b0\u7684\u5b58\u50a8\u5e93\uff0c\u60a8\u5c06\u4f7f\u7528 git init \u547d\u4ee4\u3002git init \u662f\u60a8\u5728\u65b0\u5b58\u50a8\u5e93\u7684\u521d\u59cb\u8bbe\u7f6e\u671f\u95f4\u4f7f\u7528\u7684\u4e00\u6b21\u6027\u547d\u4ee4\u3002\u6267\u884c\u6b64\u547d\u4ee4\u65f6\uff0cgit \u5c06\u5728\u60a8\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5b50\u76ee\u5f55\u3002\u8fd9\u4e5f\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4e3b\u5206\u652f\u3002 </p> <p>\u6b64\u793a\u4f8b\u5047\u8bbe\u60a8\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u73b0\u5b58\u7684\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u5e0c\u671b\u628a\u5b83\u52a0\u5165\u7684 git \u7684\u7248\u672c\u63a7\u5236\u3002\u6211\u4eec\u9700\u8981\u5148\u8fdb\u5165\u8be5\u9879\u76ee\u7684\u6839\u76ee\u5f55\uff0c\u518d\u8fd0\u884c git init \u547d\u4ee4\u3002 <pre><code>$ cd /path/to/your/project/root\n$ git init\n</code></pre> \u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u3002git \u7684\u5b50\u76ee\u5f55\u3002\u8fd9\u4e2a\u5b50\u76ee\u5f55\u542b\u6709 Git \u4ed3\u5e93\u4e2d\u6240\u6709\u7684\u5fc5\u987b\u6587\u4ef6\uff0c\u8fd9\u4e9b\u6587\u4ef6\u662f Git \u4ed3\u5e93\u7684\u9aa8\u5e72\u3002\u4f46\u662f\uff0c\u5728\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u4ec5\u4ec5\u662f\u505a\u4e86\u4e00\u4e2a\u521d\u59cb\u5316\u7684\u64cd\u4f5c\uff0c\u4f60\u7684\u9879\u76ee\u91cc\u7684\u6587\u4ef6\u53d8\u5316\u8fd8\u6ca1\u6709\u88ab\u8ddf\u8e2a\uff08\u5982\u679c\u6211\u4eec\u662f\u901a\u8fc7\u4ece\u8fdc\u7a0b\u4ed3\u5e93\u514b\u9686\u6765\u521b\u5efa\u7684\u4ed3\u5e93\uff0c\u5219\u6240\u6709\u7684\u6587\u4ef6\u53d8\u5316\u90fd\u5df2\u7ecf\u88ab\u8ddf\u8e2a\u4e86\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#212-git-clone","title":"2.1.2. \u514b\u9686\u73b0\u6709\u5b58\u50a8\u5e93\uff1agit clone","text":"<p>\u5982\u679c\u9879\u76ee\u5df2\u7ecf\u5728\u4e2d\u592e\u5b58\u50a8\u5e93\u4e2d\u5efa\u7acb\u8d77\u6765\uff0c\u514b\u9686\u547d\u4ee4\u662f\u6211\u4eec\u83b7\u53d6\u7248\u672c\u7684\u6700\u5e38\u7528\u65b9\u5f0f\u3002</p> <p>\u5047\u8bbe Github \u662f\u6211\u4eec\u7684\u670d\u52a1\u5668\uff0c\u6211\u4eec\u9700\u8981\u628a\u672c\u4e66\u5728 Github \u4e0a\u7684\u4ed3\u5e93\u514b\u9686\u5230\u672c\u5730\uff1a <pre><code>$ git clone git@github.com:zillionare/best-practice-python.git\n</code></pre> \u8fd9\u5c06\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a best-practice-python \u7684\u6587\u4ef6\u5939\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c git \u4fe1\u606f\u90fd\u5c06\u4fdd\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u3002</p> <p>\u9664\u4e86\u4e0a\u8ff0\u65b9\u5f0f\u8fd8\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 https \u534f\u8bae\u6765\u514b\u9686\uff1a <pre><code>$ git clone https://github.com/zillionare/best-practice-python.git\n</code></pre> \u6216\u8005\u4f7f\u7528 Github CLI \u6765\u514b\u9686\uff1a <pre><code>$ gh repo clone zillionare/best-practice-python\n</code></pre> Github CLI \u6709\u7740\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u901a\u8fc7\u5b83\u53ef\u4ee5\u5b9e\u73b0\u8bb8\u591a\u81ea\u52a8\u5316\u5de5\u4f5c\uff0c\u6211\u4eec\u5c06\u5728\u7a0d\u540e\u4ecb\u7ecd\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#22-git-remote","title":"2.2. \u5efa\u7acb\u4e0e\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5173\u8054\uff1agit remote","text":"<p>\u5982\u679c\u672c\u5730\u4ed3\u5e93\u662f\u901a\u8fc7 git clone \u5efa\u7acb\u8d77\u6765\u7684\uff0c\u90a3\u4e48\u5b83\u5c31\u5df2\u7ecf\u548c\u8fdc\u7a0b\u4ed3\u5e93\u5efa\u7acb\u4e86\u5173\u8054\u3002\u5982\u679c\u662f\u901a\u8fc7 git init \u5efa\u7acb\u8d77\u6765\u7684\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u901a\u8fc7 git remote \u547d\u4ee4\u6765\u5efa\u7acb\u8fd9\u79cd\u5173\u8054\uff0c\u4ee5\u4fbf\u540e\u7eed\u6211\u4eec\u53ef\u4ee5\u5c06\u672c\u5730\u7684\u6539\u52a8\uff0c\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u3002</p> <p>\u5982\u679c\u4f60\u662f\u4e3a\u8be5\u9879\u76ee\u7b2c\u4e00\u4e2a\u521b\u5efa\u4ed3\u5e93\u7684\u4eba\uff0c\u90a3\u4e48\u5f88\u53ef\u80fd\u4f60\u8fd8\u5f97\u767b\u5f55\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684\u4e2d\u592e\u4ed3\u5e93\u3002\u5982\u679c\u4f60\u662f\u4e00\u4e2a\u56e2\u961f\u7684\u4e00\u5458\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u4e2d\u592e\u4ed3\u5e93\uff0c\u4f60\u9700\u8981\u77e5\u9053\u5b83\u7684 URL\u3002</p> <p>\u8c61 Github, gitlab\uff0c\u6216\u8005 bitbucket \u8fd9\u4e9b\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u90fd\u63d0\u4f9b\u4e86 web \u754c\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u767b\u5f55\u5230 web \u754c\u9762\u4e0a\u8fdb\u884c\u64cd\u4f5c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u6258\u7ba1\u5e73\u53f0\u662f github\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684\u547d\u4ee4\u884c\u5de5\u5177 Github CLI \u6765\u8fdb\u884c\u64cd\u4f5c\u3002\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5728 github \u4e0a\u521b\u5efa\u4e00\u4e2a\u516c\u5f00\u7684\u4ed3\u5e93\uff0c\u540d\u5b57\u4e3a sample\u3002\u5728\u5f88\u591a\u573a\u5408\u4e0b\uff0c\u8fd9\u4e2a\u540d\u5b57\u4e5f\u88ab\u79f0\u4e3a project_slug\u3002</p> <p><pre><code>$ gh repo create sample --public\n</code></pre> \u663e\u7136\uff0c\u4e0a\u8ff0\u547d\u4ee4\u6267\u884c\u524d\u662f\u9700\u8981\u9274\u6743\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u65e2\u7136\u5df2\u7ecf\u6709\u4e86\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u4e5f\u5f97\u5230\u4e86\u5b83\u7684 URL\uff0c\u6211\u4eec\u53ef\u4ee5\u6765\u5efa\u7acb\u672c\u5730\u4e0e\u8fdc\u7a0b\u4e4b\u95f4\u7684\u5173\u8054\u4e86\uff1a <pre><code># \u8bf7\u66ff\u6362\u4e0b\u9762\u8bed\u53e5\u4e2d\u7684{{GITHUB_USER_NAME}}\u4e3a\u4f60\u7684 GITHUB \u7528\u6237\u540d\uff0c{{PROJECT_SLUG}}\u4e3a\u4f60\u7684\u9879\u76ee\u540d\n# \u6bd4\u5982\uff0c GIT REMOTE ADD ORIGIN GIT@GITHUB.COM:ZILLIONARE/SAMPLE.GIT\n$ git remote add origin git@github.com:{{github_user_name}}/{{project_slug}}.git\n</code></pre></p> <p>\u8fd9\u4e2a\u547d\u4ee4\u8fd8\u4e3a\u8fdc\u7a0b\u4ed3\u5e93\u5b9a\u4e49\u4e86\u4e00\u4e2a\u522b\u540d\uff0c\u5373 origin\u3002\u8fd9\u4e2a\u522b\u540d\u53ef\u4ee5\u662f\u4efb\u610f\u7684\uff0c\u6bd4\u5982\uff0c\u65e2\u7136\u6211\u4eec\u7684\u670d\u52a1\u5668\u4f7f\u7528\u4e86 github\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u522b\u540d\u58f0\u79f0\u4e3a github\u3002\u4e0d\u8fc7 origin \u662f git \u9ed8\u8ba4\u7684\u522b\u540d\uff0c\u56e0\u6b64\uff0c\u591a\u6570\u4eba\u4e00\u822c\u90fd\u4f7f\u7528\u8fd9\u4e2a\u522b\u540d\u3002\u5b9a\u4e49\u4e86\u522b\u540d\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u5176\u5b83\u547d\u4ee4\u4e2d\u4f7f\u7528\u522b\u540d\u6765\u4ee3\u66ff\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5730\u5740\uff0c\u4ece\u800c\u53ef\u4ee5\u4f7f\u547d\u4ee4\u53d8\u7b80\u6d01\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#23-add-commit-stash","title":"2.3. \u4fdd\u5b58\u66f4\u6539\uff1aadd, commit, stash \u7b49","text":"<p>\u5f53\u6211\u4eec\u4fee\u6539\u4e86\u5de5\u4f5c\u533a\u7684\u4e00\u4e9b\u6587\u4ef6\uff08\u5305\u62ec\u65b0\u5efa\u6587\u4ef6\u3001\u4fee\u6539\u6587\u4ef6\u5185\u5bb9\u548c\u5220\u9664\u6587\u4ef6\uff09\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u5b58\u8fd9\u79cd\u66f4\u6539\u5230\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u6216\u8005\u6682\u65f6\u8d2e\u85cf\u8d77\u6765\u3002\u8fd9\u5c31\u9700\u8981 add, commit \u548c stash \u7b49\u547d\u4ee4\u3002</p> <p><pre><code># \u5c06\u6839\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u53ca\u6587\u4ef6\u5939\u9012\u5f52\u5730\u52a0\u5165\u8ddf\u8e2a\uff0c\u6682\u5b58\u6a21\u5f0f\n$ git add .\n\n# \u8fdb\u5165\u63d0\u4ea4\u72b6\u6001\n$ git commit -m 'initial project version'\n</code></pre> \u6b64\u65f6\u7528 git branch -v \u547d\u4ee4\u770b\u4e00\u4e0b\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u6211\u4eec\u5df2\u7ecf\u5904\u4e8e main \u5206\u652f\u4e0a\uff0c\u800c\u4e14\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a commit\u3002\u5982\u679c\u5206\u652f\u540d\u662f master\uff0c\u5efa\u8bae\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5c06\u5176\u6539\u4e3a main\uff1a <pre><code>$ git branch -M main\n</code></pre></p> <p>Info</p> <p>\u4ece 2022 \u5e74 10 \u6708 1 \u65e5\u8d77\uff0cgithub \u4e0a\u521b\u5efa\u7684\u65b0\u7684\u4ee3\u7801\u4ed3\u5e93\uff0c\u9ed8\u8ba4\u5206\u652f\u90fd\u662f main\uff0c\u800c\u4e0d\u662f\u4e4b\u524d\u7684 master\u3002\u4e0a\u8ff0\u66f4\u540d\u64cd\u4f5c\uff0c\u6b63\u662f\u4e3a\u4e86\u4fdd\u6301\u4e0e github \u7684\u4e00\u81f4\u6027\u3002</p> <p>github \u5c06\u9ed8\u8ba4\u5206\u652f\u540d\u4ece master \u6539\u4e3a main\uff0c\u4e3b\u8981\u662f\u53d7 2020 \u5e74 6 \u6708\u7f8e\u56fd\u7684\"Black Lives Matter\"\u8fd0\u52a8\u7684\u5f71\u54cd\u3002\u8fd9\u4e2a\u8fd0\u52a8\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u53cd\u5bf9\u79cd\u65cf\u6b67\u89c6\uff0c\u800c master \u8fd9\u4e2a\u8bcd\uff0c\u6b63\u662f\u4ece\u5974\u96b6\u4e3b\u7684\u89d2\u5ea6\u6765\u547d\u540d\u7684\uff0c\u56e0\u6b64\uff0c\u5c06\u5176\u6539\u540d\u4e3a main\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u6b67\u89c6\u3002</p> <p>\u53d7\"Black Lives Matter\"\u5f71\u54cd\uff0c\u9664\u4e86 github, \u8bb8\u591a\u79d1\u6280\u5de8\u5934\u6216\u77e5\u540d\u8f6f\u4ef6\u4e5f\u90fd\u8c03\u6574\u4e86\u81ea\u5df1\u7684\u4e1a\u52a1\u6216\u8005\u4ea7\u54c1\u3002\u6bd4\u5982\uff0cMySQL \u5ba3\u5e03\u5220\u9664 master\u3001\u9ed1\u540d\u5355\u3001\u767d\u540d\u5355\u7b49\u672f\u8bed\uff1bLinus Torvalds \u901a\u8fc7\u4e86 Linux \u4e2d\u907f\u514d master/slave \u7b49\u672f\u8bed\u7684\u63d0\u6848\uff1b\u8fd8\u6709 Twitter \u3001GitHub\u3001\u5fae\u8f6f\u3001LinkedIn\u3001Ansible\u3001Splunk\u3001OpenZFS\u3001OpenSSL\u3001JP Morgan\u3001 Android \u79fb\u52a8\u64cd\u4f5c\u7cfb\u7edf\u3001Go \u7f16\u7a0b\u8bed\u8a00\u3001PHPUnit \u548c Curl \u7b49\u5ba3\u5e03\u8981\u5bf9\u6b64\u7c7b\u672f\u8bed\u8fdb\u884c\u5220\u9664\u6216\u66f4\u6539\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u8ba1\u7b97\u673a\u672f\u8bed\u7684\u653f\u6cbb\u6b63\u786e\u6027\u65e9\u5df2\u4e0d\u662f\u65b0\u9c9c\u8bdd\u9898\u30022004 \u5e74\uff0c\u201cmaster/slave\u201d \u66fe\u88ab\u5168\u7403\u8bed\u8a00\u68c0\u6d4b\u673a\u6784\u8bc4\u4e3a\u5e74\u5ea6\u6700\u4e0d\u653f\u6cbb\u6b63\u786e\u7684\u5341\u5927\u8bcd\u6c47\u4e4b\u4e00\u30022018 \u5e74\uff0cIETF \u4e5f\u5728\u8349\u6848\u5f53\u4e2d\u6307\u51fa\uff0c\u8981\u6c42\u5f00\u6e90\u8f6f\u4ef6\u66f4\u6539 \u201cmaster/slave\u201d \u548c \u201cblacklist/whitelist\u201d \u4e24\u9879\u8868\u8ff0\u3002\u5982\u679c\u6211\u4eec\u7684\u8f6f\u4ef6\u662f\u9762\u5411\u5168\u7403\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5c3d\u91cf\u907f\u514d\u4f7f\u7528\u8fd9\u4e9b\u672f\u8bed\uff0c\u4ee5\u514d\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u8bef\u89e3\u3002</p> <p>\u60a8\u5df2\u7ecf\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u5c06\u53d8\u66f4\u4fdd\u5b58\u5230 git \u7cfb\u7edf\u4e2d\u7684\u6b65\u9aa4\u4e0d\u6b62\u4e00\u6b65\u3002\u5b9e\u9645\u4e0a\uff0cgit \u4e2d\u7684\u5f88\u591a\u64cd\u4f5c\u90fd\u662f\u591a\u9636\u6bb5\u7684\uff0c\u5e38\u5e38\u4f1a\u7ecf\u5386\u4e00\u4e2a\u4fee\u6539\uff08modified\uff09\u3001\u6682\u5b58\uff08stagged\uff09\uff0c\u63d0\u4ea4\uff08committed\uff09\u548c\u63a8\u9001\uff08push\uff09\u7684\u8fc7\u7a0b\u3002\u8981\u7406\u89e3\u8fd9\u51e0\u4e2a\u9636\u6bb5\uff0c\u6211\u4eec\u8fd8\u5f97\u5148\u6df1\u5165\u4ecb\u7ecd\u4e00\u4e0b\u76f8\u5173\u7684\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5\uff1aHEAD, index \u548c working tree\u3002</p> <p>\u5934\uff08HEAD\uff09</p> <p>HEAD \u662f\u5f53\u524d\u5206\u652f\u5f15\u7528\u7684\u6307\u9488\uff0c\u5b83\u603b\u662f\u6307\u5411\u8be5\u5206\u652f\u4e0a\u7684\u6700\u540e\u4e00\u6b21\u63d0\u4ea4\u3002\u540c\u65f6\u4e5f\u662f\u4e0b\u4e00\u6b21\u63d0\u4ea4\u7684\u7236\u7ed3\u70b9\u3002\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u628a HEAD \u770b\u4f5c\u662f\u5206\u652f\u7684\u4ee3\u540d\u8bcd\u3002\u5b83\u662f\u6211\u4eec\u6267\u884c git commit \u547d\u4ee4\u540e\uff0c\u53d8\u66f4\u8981\u53bb\u5f80\u7684\u5730\u65b9\u3002</p> <p>\u7d22\u5f15\uff08index\uff09</p> <p>\u5f53\u6211\u4eec\u8c03\u7528 git add \u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u5c31\u4f1a\u628a\u53d8\u66f4\u8bb0\u5f55\u5230\u7d22\u5f15\u533a\u3002\u7136\u540e\u518d\u4ece\u8fd9\u91cc\u628a\u53d8\u66f4\u63d0\u4ea4\u5230\u5206\u652f\u3002\u66f4\u591a\u65f6\u5019\uff0c\u4eba\u4eec\u4f1a\u7528\u6682\u5b58\u533a\u8fd9\u4e2a\u8bcd\uff0c\u4f46 index \u662f Git \u4e2d\u4f7f\u7528\u7684\u89c4\u8303\u672f\u8bed\u3002</p> <p>\u5de5\u4f5c\u76ee\u5f55\uff08working tree\uff09</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u5f97\u6709\u81ea\u5df1\u7684\u5de5\u4f5c\u76ee\u5f55\uff08\u901a\u5e38\u4e5f\u53eb\u5de5\u4f5c\u533a\uff09\u3002\u53e6\u5916\u4e24\u68f5\u6811\uff08\u5373 HEAD \u548c INDEX\uff09\u4f1a\u4ee5\u4e00\u79cd\u9ad8\u6548\u4f46\u5e76\u4e0d\u76f4\u89c2\u7684\u65b9\u5f0f\uff0c\u5c06\u5b83\u4eec\u7684\u5185\u5bb9\u5b58\u50a8\u5728.git \u6587\u4ef6\u5939\u4e2d\u3002\u800c\u5de5\u4f5c\u76ee\u5f55\u4f1a\u5c06\u5b83\u4eec\u89e3\u5305\u4e3a\u5b9e\u9645\u7684\u6587\u4ef6\u4ee5\u4fbf\u7f16\u8f91\u3002\u4f60\u53ef\u4ee5\u628a\u5de5\u4f5c\u76ee\u5f55\u5f53\u505a\u6c99\u76d2\u3002\u5728\u4f60\u5c06\u4fee\u6539\u63d0\u4ea4\u5230\u6682\u5b58\u533a\u5e76\u8bb0\u5f55\u5230\u5386\u53f2\u4e4b\u524d\uff0c\u53ef\u4ee5\u968f\u610f\u66f4\u6539\u3002</p> <p>\u4e0b\u56fe\u5219\u5c55\u793a\u4e86\u8fd9\u4e09\u4e2a\u6982\u5ff5\u7684\u5173\u7cfb\uff1a</p> <p></p> <p>\u6211\u4eec\u7ed3\u5408\u547d\u4ee4\u548c\u56fe\u793a\u6765\u89e3\u91ca\u53d8\u66f4\u7684\u6d41\u52a8\u3002</p> <p><pre><code>$ git status\n\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git restore &lt;file&gt;...\" to discard changes in working directory)\n        modified:   README.md\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n</code></pre> status \u547d\u4ee4\u663e\u793a\u6587\u4ef6\u5904\u5728\u5de5\u4f5c\u533a\uff08working directory\uff09\uff0c\u8fd8\u6ca1\u8fdb\u5165\u5230\u6682\u5b58\u533a\u3002</p> <p>\u6b64\u65f6\u5728 vscode \u4fa7\u9762\u677f\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230 README.md \u6587\u4ef6\u51fa\u73b0\u5728 changes \u7c7b\u522b\u4e0b\uff08\u6ce8\u610f vscode \u4f7f\u7528\u7684\u672f\u8bed\u4e0e git \u4e0d\u540c\uff0c\u8fd9\u662f\u53ef\u4ee5\u7406\u89e3\u7684\uff09\uff0c </p> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 git add \u547d\u4ee4\u5c06 README.md \u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff0c\u7136\u540e\u518d\u6b21\u67e5\u770b\u72b6\u6001\uff1a <pre><code>$ git add README.md\n$ git status\n\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges to be committed:\n  (use \"git restore --staged &lt;file&gt;...\" to unstage)\n        modified:   README.md\n</code></pre></p> <p>Status \u547d\u4ee4\u63d0\u793a README.md \u8fd8\u6ca1\u6709\u63d0\u4ea4\uff08\u6b64\u65f6\u6587\u4ef6\u5904\u5728\u6682\u5b58\u533a staging area \u4e2d\uff09\u3002\u6b64\u65f6\u5728 vscode \u4fa7\u9762\u677f\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230 README.md \u6587\u4ef6\u51fa\u73b0\u5728 Staged Changes \u7c7b\u522b\u4e0b\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u63d0\u4ea4\u5230\u672c\u5730\u4ed3\u5e93\uff0c\u5e76\u518d\u6b21\u67e5\u770b\u5f53\u524d\u72b6\u6001\uff1a</p> <pre><code>$ git commit -m \"update README.md\"\n$ git status\n\nOn branch main\nYour branch is ahead of 'origin/main' by 1 commit.\n  (use \"git push\" to publish your local commits)\n\nnothing to commit, working tree clean\n</code></pre> <p>\u73b0\u5728\uff0c\u4e09\u4e2a\u533a\u57df\u7684\u72b6\u6001\u5b8c\u5168\u4e00\u81f4\uff08\u89c1\u4e0a\u9762\u8f93\u51fa\u4e2d\u7684\u6700\u540e\u4e00\u53e5\uff1anothing to commit, working tree clean\uff09\u3002\u4f46\u8fd8\u6709\u4e00\u6761\u63d0\u793a\uff1a\u672c\u5730\u5206\u652f\u9886\u5148\u8fdc\u7a0b main \u5206\u652f\u4e00\u4e2a\u63d0\u4ea4\uff08Your branch is ahead of \u2018origin/main\u2019 by 1 commit\uff09\uff0c\u5373\u6211\u4eec\u521a\u521a\u63d0\u4ea4\u7684\u53d8\u66f4\u8fd8\u6ca1\u540c\u6b65\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u521a\u521a\u6267\u884c\u7684\u63d0\u4ea4\u5c06\u53ef\u4ee5\u5728 COMMITS \u7c7b\u522b\u4e0b\u627e\u5230\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6b64\u65f6\u5728 vscode \u4fa7\u9762\u677f\u4e0a\uff0cSOURCE CONTROL \u7c7b\u522b\u4e0b\u5df2\u6e05\u7a7a\uff0c\u53ea\u51fa\u73b0\u4e86\u4e00\u4e2a sync changes \u7684\u6309\u952e\uff0c\u4e00\u65e6\u6211\u4eec\u70b9\u51fb\u6b64\u6309\u94ae\uff0c\u6211\u4eec\u521a\u521a\u63d0\u4ea4\u7684\u53d8\u66f4\u5c31\u4f1a\u53d1\u5e03\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u3002</p> <p></p> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7528\u5230 stash \u547d\u4ee4\u3002\u6211\u4eec\u5148\u4ecb\u7ecd git stash \u547d\u4ee4\u884c\u6a21\u5f0f\u7684\u4e00\u4e9b\u4f8b\u5b50\uff0c\u7136\u540e\u518d\u4ecb\u7ecd\u5982\u4f55\u4ece\u56fe\u5f62\u754c\u9762\u6765\u4f7f\u7528\u5b83\uff1a <pre><code># \u8d2e\u85cf\u5f53\u524d\u672a\u63d0\u4ea4\u7684\u53d8\u66f4\n$ git stash\nSaved working directory and index state \\\n  \"WIP on master: 049d078 added the index file\"\nHEAD is now at 049d078 added the index file\n(To restore them type \"git stash apply\")\n\n# \u67e5\u770b\u6240\u6709\u7684\u8d2e\u85cf\n$ git stash list\nstash@{0}: WIP on master: 049d078 added the index file\nstash@{1}: WIP on master: c264051 Revert \"added file_size\"\nstash@{2}: WIP on master: 21d80a5 added number to log\n\n# \u5e94\u7528\u6700\u8fd1\u7684\u8d2e\u85cf\uff0c\u4f46\u4e0d\u5220\u9664\u5b83\u3002\n$ git stash apply\nOn branch master\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\n    modified:   index.html\n    modified:   lib/simplegit.rb\n\nno changes added to commit (use \"git add\" and/or \"git commit -a\")\n\n# \u5e94\u7528\u6700\u8fd1\u7684\u8d2e\u85cf\uff0c\u5e76\u5220\u9664\u5b83\ngit stash pop\n\n# \u76f4\u63a5\u5220\u9664\u6700\u8fd1\u7684\u8d2e\u85cf\ngit stash drop\n</code></pre> \u5f53\u6211\u4eec\u5e94\u7528\u8d2e\u85cf\u65f6\uff0c\u8d2e\u85cf\u4e2d\u7684\u53d8\u66f4\u4f1a\u88ab\u5e94\u7528\u5230\u5f53\u524d\u7684\u5de5\u4f5c\u533a\uff0c\u8fd9\u4e5f\u53ef\u80fd\u53d1\u751f\u51b2\u7a81\uff0c\u9700\u8981\u6211\u4eec\u624b\u52a8\u89e3\u51b3\u3002\u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\uff0c\u6211\u4eec\u6ca1\u6709\u6307\u5b9a\u8981\u64cd\u4f5c\u7684\u8d2e\u85cf\u7684\u540d\u5b57\uff0c\u6240\u4ee5\u64cd\u4f5c\u7684\u76ee\u6807\u90fd\u662f\u6700\u8fd1\u7684\u8d2e\u85cf\u3002\u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u64cd\u4f5c\u65f6\uff0c\u6307\u5b9a stash \u7684\u540d\u5b57\u3002</p> <p>\u5728 vscode \u7684 git lens \u6269\u5c55\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\"Changes\"\u9762\u677f\u4e2d\uff0c\u5c06\u5f53\u524d\u7684\u53d8\u66f4\u8d2e\u85cf\uff08\u5982\u56fe 8- 5 \u6240\u793a\uff09\uff1a</p> <p></p> <p>\u4e0a\u56fe\u4e2d\u7ea2\u8272\u6846\u5185\u7684\u6309\u94ae\u5373\u662f stash all \u6309\u94ae\u3002\u6211\u4eec\u70b9\u51fb\u5b83\uff0c\u5c31\u53ef\u4ee5\u5c06\u5f53\u524d\u7684\u53d8\u66f4\u8d2e\u85cf\u8d77\u6765\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728\"Stashes\"\u9762\u677f\u4e2d\uff0c\u67e5\u770b\u6240\u6709\u7684\u8d2e\u85cf\uff1a</p> <p></p> <p>\u70b9\u51fb\"Apply\"\u6309\u94ae\uff0c\u5728\u5f39\u51fa\u6765\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u7ed9\u6211\u4eec\u4e24\u4e2a\u63d0\u793a\uff0c\u4e00\u4e2a\u662f\u53ea\u5e94\u7528\uff0c\u4e0d\u5220\u9664\u8be5\u8d2e\u85cf\uff1b\u53e6\u4e00\u4e2a\u662f\u5e94\u7528\u5e76\u5220\u9664\u8be5\u8d2e\u85cf\uff1a</p> <p></p> <p>\u6700\u540e\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e0b.gitignore \u6587\u4ef6\u3002\u6709\u4e00\u4e9b\u6587\u4ef6\u6211\u4eec\u5e76\u4e0d\u60f3\u88ab git \u8ddf\u8e2a\uff0c\u6bd4\u5982 IDE \u4ea7\u751f\u7684\u4e34\u65f6\u6587\u4ef6\u3001\u65e5\u5fd7\u6587\u4ef6\uff0c\u6d89\u53ca\u5230\u5bc6\u7801\u7684\u67d0\u4e9b\u6587\u4ef6\uff08\u6bd4\u5982.env) \u7b49\u7b49\u3002\u8fd9\u4e9b\u6587\u4ef6\u6211\u4eec\u53ef\u4ee5\u5728.gitignore \u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e\uff0cgit \u5c31\u4f1a\u5ffd\u7565\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>.gitignore \u6587\u4ef6\u7684\u6bcf\u4e00\u884c\u90fd\u662f\u4e00\u4e2a\u7b26\u5408 glob patternglob \u7684\u5b57\u7b26\u4e32\u5339\u914d\u6a21\u5f0f\u3002\u88ab\u8be5\u6a21\u5f0f\u5339\u914d\u5230\u7684\u6587\u4ef6\uff08\u6216\u8005\u6587\u4ef6\u5939\uff09\uff0c\u5c06\u4e0d\u4f1a\u88ab git \u8ddf\u8e2a\u3002\u6211\u4eec\u53ef\u4ee5\u624b\u52a8\u7f16\u8f91\u8fd9\u4e2a\u6587\u4ef6\uff0c\u4f46\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u76f8\u5173\u7684\u6269\u5c55\u6765\u534f\u52a9\u7ba1\u7406\u6b64\u6587\u4ef6\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#24-git-push-git-pull","title":"2.4. \u4e0e\u4ed6\u4eba\u540c\u6b65\u53d8\u66f4\uff1agit push \u548c git pull","text":"<p>\u524d\u9762\u7684\u64cd\u4f5c\u53ea\u662f\u628a\u53d8\u66f4\u8bb0\u5f55\u5728\u672c\u5730\u7684 git \u7cfb\u7edf\u4e2d\u3002\u4e3a\u4e86\u4f7f\u5f97\u8fd9\u4e9b\u53d8\u66f4\u80fd\u4e3a\u4ed6\u4eba\u6240\u89c1\uff0c\u6211\u4eec\u5f97\u628a\u8fd9\u4e9b\u53d8\u66f4\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u3002</p> <pre><code>$ git push -u origin main\n</code></pre> <p>-u \u53c2\u6570\u662f\u4e3a\u4e86\u5c06\u672c\u5730\u7684 main \u5206\u652f\u4e0e\u8fdc\u7a0b\u7684 main \u5206\u652f\u5173\u8054\u8d77\u6765\uff0c\u5728\u4ee5\u540e\u7684\u63a8\u9001\u6216\u8005\u62c9\u53d6\u5206\u652f\u65f6\uff0c\u5c31\u53ef\u4ee5\u7b80\u5316\u547d\u4ee4\uff1a</p> <pre><code># \u5f53\u6211\u4eec\u4e0d\u6307\u5b9a\u5206\u652f\u540d\u65f6\uff0cGIT \u4f1a\u4f7f\u7528\u5f53\u524d\u5206\u652f\n$ git push\n\n# \u4ece\u8fdc\u7a0b\u4ed3\u5e93\u62c9\u53d6\u5176\u5b83\u4eba\u6240\u505a\u7684\u53d8\u66f4\n$ git pull\n</code></pre> <p>\u6ce8\u610f\uff0c\u672c\u5730\u4ed3\u5e93\u4e0e\u670d\u52a1\u5668\u5173\u8054\u7684\u547d\u4ee4\uff08\u5373<code>git remote add</code>\uff09\u53ea\u9700\u8981\u6267\u884c\u4e00\u6b21\uff1b\u800c\u6bcf\u6b21\u521b\u5efa\u4e86\u65b0\u7684\u5206\u652f\u540e\uff0c\u90fd\u8981\u5728\u7b2c\u4e00\u6b21\u5f80\u8be5\u5206\u652f\u63a8\u9001\u53d8\u66f4\u65f6\uff0c\u6267\u884c<code>git push -u ...</code>\u8fd9\u4e2a\u547d\u4ee4\uff0c\u4ee5\u4fbf\u5728\u63a8\u9001\u7684\u540c\u65f6\uff0c\u4e5f\u5b8c\u6210\u672c\u5730\u5206\u652f\u4e0e\u8fdc\u7a0b\u5206\u652f\u7684\u7ed1\u5b9a\u3002\u4e00\u65e6\u7ed1\u5b9a\u5b8c\u6210\uff0c\u5728\u968f\u540e\u7684\u63a8\u9001\uff08\u6216\u8005\u62c9\u53d6\uff09\u52a8\u4f5c\u4e2d\uff0c\u5c31\u53ef\u4ee5\u7701\u7565-u \u53c2\u6570\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#25-git","title":"2.5. git \u6807\u7b7e","text":"<p>\u968f\u7740\u5f00\u53d1\u7684\u8fdb\u884c\uff0c\u7ec8\u6709\u4e00\u5929\uff0c\u6211\u4eec\u4f1a\u5230\u8fbe\u67d0\u4e2a\u91cd\u8981\u7684\u8282\u70b9\uff0c\u6bd4\u5982\u67d0\u4e2a\u7248\u672c\u7684\u5b8c\u6210\u3002\u6b64\u65f6\u6211\u4eec\u5c31\u4f1a\u7ed9\u4ed3\u5e93\u7684\u72b6\u6001\u6253\u4e0a\u6807\u7b7e\uff0c\u65b9\u4fbf\u56de\u6eaf\u3002\u8fd9\u5c31\u9700\u8981\u7528\u5230 git tag \u7684\u4e00\u7cfb\u5217\u547d\u4ee4\u3002 <pre><code># \u5217\u51fa\u6240\u6709\u7684\u6807\u7b7e\n$ git tag\nv0.9\nV1.0\n\n# \u6709\u7b5b\u9009\u5730\u5217\u51fa\u6807\u7b7e\ngit tag --list \"v1.0.*\"\n\nv1.0\n\n# \u521b\u5efa\u6807\u7b7e\uff1a\u4f7f\u7528-A \u9009\u9879\u6307\u5b9a\u6807\u7b7e\u540d\uff0c-M \u6307\u5b9a\u6807\u7b7e\u7684\u63cf\u8ff0\u6587\u5b57\n$ git tag -a v1.4 -m \"my version 1.4\"\n$ git tag\nv0.9\nv1.0\nv1.4\n\n$ git tag -a v1.5 -m \"my version 1.5\"\n$ git tag\nv0.9\nv1.0\nv1.4\nv1.5\n\n# \u67e5\u770b\u6807\u7b7e\u4fe1\u606f\n$ git show v1.5\n\ntag v1.5\nTagger: zillionare \nDate:   Mon Jan 23 15:10:55 2023 +0800\n\nsecond\n\ncommit 57eb735f513c753e49b2fe3005ccfa9b3412762d (HEAD -&gt; main, tag: v1.4, tag: v1.5, origin/main)\nAuthor: zillionare \nDate:   Mon Jan 23 10:19:28 2023 +0800\n</code></pre></p> <p>\u8fd9\u91cc\u6211\u4eec\u7a0d\u4f5c\u505c\u987f\uff0c\u89e3\u91ca\u4e0b\u6807\u7b7e\u7a76\u7adf\u610f\u5473\u7740\u4ec0\u4e48\u3002\u524d\u9762\u6211\u4eec\u8bf4\u8fc7\uff0c\u521b\u5efa\u6807\u7b7e\u662f\u7ed9\u4ed3\u5e93\u7684\u67d0\u4e2a\u72b6\u6001\u6253\u4e0a\u6807\u8bb0\u7684\u52a8\u4f5c\u3002\u5728\u4e0a\u9762\u793a\u4f8b\u4e2d\u7684\u7b2c 14 \u884c\u548c\u7b2c 15 \u884c\uff0c\u6211\u4eec\u5728\u6ca1\u6709\u4efb\u4f55\u65b0\u7684\u63d0\u4ea4\u7684\u60c5\u51b5\u4e0b\uff0c\u8fde\u7eed\u521b\u5efa\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684\u6807\u7b7e\u3002\u8003\u8651\u5230\u6211\u4eec\u7684\u4ed3\u5e93\u662f\u4e00\u4e2a\u7ebf\u6027\u7684\u63d0\u4ea4\u5386\u53f2\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6807\u7b7e\u7a76\u7adf\u6307\u5411\u4e86\u4ec0\u4e48\u5462\uff1f\u968f\u540e\uff0c\u7b2c 23 \u884c\u7684\u547d\u4ee4\u8f93\u51fa\u663e\u793a\u4e86\uff0c\u8fd9\u4e24\u4e2a\u6807\u7b7e\u6307\u5411\u4e86\u540c\u4e00\u4e2a\u63d0\u4ea4\uff0c\u5373 57eb\u3002\u8fd9\u4e24\u4e2a\u6807\u7b7e\u5173\u8054\u7684\u90fd\u662f 57eb \u63d0\u4ea4\u4e4b\u540e\u7684\u4ed3\u5e93\u72b6\u6001\u3002\u8fd9\u4e5f\u8bf4\u660e\uff0c\u6807\u7b7e\u4e0e\u63d0\u4ea4\u672c\u8eab\u4e0d\u662f\u4e00\u5bf9\u4e00\u7684\u6620\u5c04\uff0c\u800c\u662f\u591a\u5bf9\u4e00\u7684\u6620\u5c04\u3002</p> <p>\u65e2\u7136\u6807\u7b7e\u662f\u6307\u5411\u63d0\u4ea4\u7684\uff0c\u60a8\u53ef\u80fd\u4f1a\u60f3\uff0c\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u4e3a\u8fc7\u53bb\u7684\u67d0\u4e2a\u72b6\u6001\u8ffd\u52a0\u6807\u7b7e\uff1f\u60a8\u7684\u731c\u6d4b\u662f\u6b63\u786e\u7684\uff0c\u6211\u4eec\u786e\u5b9e\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a <pre><code># \u5047\u8bbe\u6211\u4eec\u53c8\u5411\u4ed3\u5e93\u505a\u4e86\u82e5\u5e72\u63d0\u4ea4\u4e4b\u540e\uff0c\u53d1\u73b0\u9700\u8981\u5bf9'57EB'\u8fd9\u4e2a\u63d0\u4ea4\u6253\u4e0a\u6807\u7b7e\ngit tag -a v1.6 57eb -m \"my version 1.6\"\n</code></pre></p> <p>Info</p> <p>\u524d\u9762\u8bb2\u8fc7\uff0c\u5728 git \u4e2d\uff0c\u8bb8\u591a\u5bf9\u8c61\u7684\u6807\u8bc6\u7b26\u90fd\u662f\u4e00\u4e2a hash \u4e32\u3002\u6bcf\u4e00\u6b21\u63d0\u4ea4\u7684\u6807\u8bc6\u7b26 (commit id) \u4e5f\u662f\u4e00\u6837\uff0c\u5b83\u662f\u57fa\u4e8e SHA-1 \u7b97\u6cd5\u7684\u4e00\u4e2a 40 \u5b57\u8282\u7684 hash \u4e32\u3002</p> <p>\u5728\u521a\u521a\u7684\u547d\u4ee4\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u63d0\u4ea4 (commit) \u7684 hash \u4e32\u7684\u524d 4 \u4e2a\u5b57\u8282\u4ee3\u66ff\u6574\u4e2a hash \u4e32\u3002\u5728 git \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u53ea\u4f7f\u7528\u63d0\u4ea4\u7684 hash \u4e32\u7684\u524d\u82e5\u5e72\u4e2a\u5b57\u8282\u6765\u4ee3\u66ff\u6574\u4e2a hash \u4e32\uff0c\u53ea\u8981\u5b83\u662f\u552f\u4e00\u7684\u3001\u5e76\u4e14\u81f3\u5c11\u5305\u62ec 4 \u4e2a\u5b57\u8282\u3002</p> <p>\u4e5f\u8bb8\u60a8\u4f1a\u611f\u5230\u597d\u5947\uff0c\u5982\u679c\u4e00\u4e2a\u9879\u76ee\u8db3\u591f\u5927\uff0ccommit id \u53d1\u751f hash \u78b0\u649e\u7684\u51e0\u7387\u5c31\u4f1a\u53d8\u5927\uff0c\u90a3\u4e48\u6700\u7ec8\u6211\u4eec\u53ef\u80fd\u8981\u4f7f\u7528\u591a\u5c11\u4e2a\u5b57\u8282\uff0c\u624d\u80fd\u552f\u4e00\u5730\u786e\u5b9a\u4e00\u4e2a hash \u4e32\u5462\uff1fLinux \u7684\u5185\u6838\u662f\u4e00\u4e2a\u76f8\u5f53\u5927\u7684 Git \u9879\u76ee\uff0c\u622a\u6b62 2019 \u5e74 2 \u6708\u6b62\uff0c\u5171\u8bb0\u5f55\u4e86\u8d85\u8fc7 875,000 \u4e2a\u63d0\u4ea4\uff0c\u901a\u8fc7\u8ba1\u7b97\u5f97\u77e5\uff0c\u6700\u5c11\u9700\u8981 12 \u4e2a\u5b57\u7b26\u624d\u80fd\u4fdd\u8bc1\u552f\u4e00\u6027\u3002</p> <p>\u6211\u4eec\u524d\u9762\u8bb2\u8fc7\uff0c\u51e0\u4e4e\u6240\u6709\u7684 git \u64cd\u4f5c\u90fd\u662f\u591a\u9636\u6bb5\u7684\uff0c\u521b\u5efa tag \u4e5f\u662f\u4e00\u6837\u3002\u5f53\u6211\u4eec\u6267\u884c<code>git tag -a</code>\u547d\u4ee4\u65f6\uff0c\u6211\u4eec\u53ea\u5728\u672c\u5730\u4ed3\u5e93\u521b\u5efa\u4e86\u8fd9\u4e2a\u6807\u7b7e\uff0c\u6211\u4eec\u4ecd\u7136\u9700\u8981\u628a\u5b83\u540c\u6b65\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff1a</p> <pre><code># \u4e00\u6b21\u6027\u5730\u5c06\u6240\u6709\u6807\u7b7e\u63a8\u9001\u5230\u8fdc\u7a0b\n$ git push origin --tags\n\n# \u4ec5\u63a8\u9001\u7279\u5b9a\u6807\u7b7e\n$ git push origin v1.6\n</code></pre> <p>\u4e5f\u6709\u53ef\u80fd\u6211\u4eec\u9700\u8981\u5220\u9664\u6807\u7b7e\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u4e24\u9636\u6bb5\u7684\u64cd\u4f5c <pre><code># \u4ece\u672c\u5730\u5220\u9664 V1.4 \u8fd9\u4e2a\u6807\u7b7e\n$ git tag -d v1.4\n\n# \u4ece\u8fdc\u7a0b\u5220\u9664 V1.4 \u8fd9\u4e2a\u6807\u7b7e\u3002\u8fd9\u4e00\u6b65\u53ef\u4ee5\u4e0e\u4e0a\u4e00\u6b65\u72ec\u7acb\u8fd0\u884c\n$ git push origin --delete v1.4\n</code></pre></p> <p>\u6807\u7b7e\u521b\u5efa\u4ee5\u540e\uff0c\u6211\u4eec\u4f7f\u7528\u5230\u8be5\u6807\u7b7e\u7684\u5e38\u89c1\u64cd\u4f5c\u662f\u68c0\u51fa\u8fd9\u4e2a\u6807\u7b7e\u6307\u5411\u7684\u6587\u4ef6\u7248\u672c\uff0c\u6bd4\u5982\u5728 CI \u670d\u52a1\u5668\u4e0a\u68c0\u51fa\u8fd9\u4e2a\u7248\u672c\u5236\u4f5c\u6784\u5efa\uff08build\uff09\u3002\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 git checkout \u547d\u4ee4\uff1a</p> <pre><code>git checkout v1.4\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u7b7e\u51fa\u67d0\u4e2a\u6807\u7b7e\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u8fdb\u884c\u4fee\u6539\uff0c\u6ce8\u610f\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5e94\u8be5\u4e3a\u8fd9\u4e2a\u68c0\u51fa\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5206\u652f\u3002\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u8fd9\u4e2a\u5de5\u4f5c\u533a\u91cc\u8fdb\u884c\u4fee\u6539\uff0c\u518d\u63a8\u9001\u5230\u670d\u52a1\u5668\u4e0a\u3002\u5982\u679c\u6211\u4eec\u4e0d\u521b\u5efa\u65b0\u7684\u5206\u652f\uff0c\u800c\u76f4\u63a5\u5bf9\u7b7e\u51fa\u5230\u5de5\u4f5c\u533a\u7684\u4ee3\u7801\u8fdb\u884c\u4fee\u6539\uff0c\u4f1a\u5bfc\u81f4\u4ed3\u5e93\u5904\u4e8e\u201c\u5206\u79bb\u5934\u6307\u9488 (detached HEAD)\u201d\u7684\u72b6\u6001\u3002\u8fd9\u79cd\u72b6\u6001\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\uff0c\u4f46\u65e0\u6cd5\u63d0\u4ea4\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e9b\u4fee\u6539\u6700\u7ec8\u4f1a\u4e22\u5931\u3002</p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u57fa\u672c\u4e0a\u63a5\u89e6\u5230\u4e86 git \u4e2d\u5168\u90e8\u57fa\u7840\u7684\u64cd\u4f5c\u3002\u6211\u4eec\u5b66\u4f1a\u4e86\u5982\u4f55\u521b\u5efa\u4ed3\u5e93\uff0c\u8ddf\u8e2a\u53d8\u66f4\uff0c\u63d0\u4ea4\u53d8\u66f4\uff0c\u4e0e\u8fdc\u7a0b\u670d\u52a1\u5668\u540c\u6b65\uff0c\u5e76\u4e14\u521b\u5efa\u6807\u7b7e\u4ee5\u8bb0\u5f55\u5f00\u53d1\u4e2d\u7684\u91cd\u8981\u65f6\u523b\u3002\u5f53\u7136\u8fd8\u6709\u4e00\u4e9b\u67e5\u9519\u6027\u8d28\u7684\u64cd\u4f5c\u6211\u4eec\u6ca1\u6709\u4ecb\u7ecd\uff0c\u6bd4\u5982\u67e5\u770b\u65e5\u5fd7 (git log)\uff0c\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\u3002\u53e6\u5916\uff0c\u5728\u638c\u63e1 git \u7684\u5de5\u4f5c\u539f\u7406\u4e4b\u540e\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u901a\u8fc7\u56fe\u5f62\u754c\u9762\u6765\u7ba1\u7406 git \u4ed3\u5e93\uff0c\u56e0\u6b64\u8c61\u67e5\u770b\u53d8\u66f4\u5386\u53f2\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u4e5f\u5e94\u8be5\u901a\u8fc7\u56fe\u5f62\u754c\u9762\u6765\u67e5\u770b\u3002</p> <p>Info</p> <p>\u56de\u60f3\u8d77\u591a\u5e74\u524d\u7684\u90a3\u4e2a\u591c\u665a\uff0c\u5982\u679c\u6211\u4eec\u5f53\u65f6\u5df2\u7ecf\u4f7f\u7528\u4e86\u4e86\u7248\u672c\u7ba1\u7406\u52a0 CI/CD\uff0c\u90a3\u5c06\u662f\u65e0\u6570\u4e2a\u7f8e\u597d\u7684\u591c\u665a\u4e4b\u4e00\u3002\u5b9e\u9645\u4e0a\uff0c\u76f4\u5230\u591c\u91cc\u4e24\u70b9\u4e4b\u524d\uff0c\u4e00\u5207\u90fd\u975e\u5e38\u7f8e\u597d\uff0c\u9879\u76ee\u7ec4\u51c6\u5907\u7528\u6765\u5e86\u529f\u7684\u9648\u5e74\u8305\u53f0\u5df2\u7ecf\u5f00\u542f\uff0c\u90a3\u6de1\u91d1\u8272\u7684\u6db2\u4f53\u548c\u99a5\u90c1\u7684\u9171\u9999\u4ee4\u4eba\u96be\u5fd8\u3002</p> <p>\u7136\u800c\uff0cgit \u4e2d\u771f\u6b63\u9ad8\u7ea7\u7684\u6280\u5de7\u90fd\u4e0e\u5206\u652f\u76f8\u5173\uff0c\u8fd9\u4e5f\u5c06\u662f\u6211\u4eec\u63a5\u4e0b\u6765\u8981\u8bb2\u8ff0\u7684\u5185\u5bb9\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#3","title":"3. \u5206\u652f\u7ba1\u7406","text":"<p>\u51e0\u4e4e\u6240\u6709\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u90fd\u4ee5\u67d0\u79cd\u5f62\u5f0f\u652f\u6301\u5206\u652f\u3002\u4f7f\u7528\u5206\u652f\u610f\u5473\u7740\u53ef\u4ee5\u8fdb\u884c\u591a\u4e2a\u529f\u80fd\uff08\u6216\u8005\u70ed\u4fee\u590d\uff09\u7684\u5e76\u884c\u5f00\u53d1\uff0c\u6362\u8a00\u4e4b\uff0c\u53ef\u4ee5\u5b9e\u73b0\u591a\u4eba\u540c\u65f6\u5f00\u53d1\uff0c\u6216\u8005\u4e00\u4e2a\u4eba\u540c\u65f6\u8ddf\u8fdb\u51e0\u4e2a\u529f\u80fd\u7684\u5f00\u53d1\uff0c\u800c\u4ee3\u7801\u6700\u7ec8\u8fd8\u80fd\u6bd4\u8f83\u5bb9\u6613\u5730\u5408\u5e76\u8d77\u6765\u3002</p> <p>\u6709\u4eba\u628a Git \u7684\u5206\u652f\u6a21\u578b\u79f0\u4e3a\u5b83\u7684\u201c\u5fc5\u6740\u6280\u7279\u6027\u201d\u3002\u56e0\u4e3a\u4e0e\u5176\u5b83\u7248\u672c\u7ba1\u7406\u5de5\u5177\u76f8\u6bd4\uff0cGit \u5904\u7406\u5206\u652f\u7684\u65b9\u5f0f\u53ef\u8c13\u662f\u96be\u4ee5\u7f6e\u4fe1\u7684\u8f7b\u91cf\uff0c\u521b\u5efa\u65b0\u5206\u652f\u8fd9\u4e00\u64cd\u4f5c\u51e0\u4e4e\u80fd\u5728\u77ac\u95f4\u5b8c\u6210\uff0c\u5e76\u4e14\u5728\u4e0d\u540c\u5206\u652f\u4e4b\u95f4\u7684\u5207\u6362\u64cd\u4f5c\u4e5f\u662f\u4e00\u6837\u4fbf\u6377\u3002\u4e0e\u8bb8\u591a\u5176\u5b83\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u4e0d\u540c\uff0cGit \u9f13\u52b1\u5728\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u9891\u7e41\u5730\u4f7f\u7528\u5206\u652f\u4e0e\u5408\u5e76\uff0c\u54ea\u6015\u4e00\u5929\u4e4b\u5185\u8fdb\u884c\u8bb8\u591a\u6b21\u3002</p> <p>Git \u7684\u5206\u652f\u7ba1\u7406\u80fd\u505a\u5230\u5982\u6b64\u4f18\u79c0\uff0c\u6839\u6e90\u8fd8\u5728\u4e8e\u5b83\u7684\u5e95\u5c42\u8bbe\u8ba1\u3002\u6211\u4eec\u524d\u9762\u8bb2\u8fc7\uff0cgit \u4e0e\u5176\u5b83\u8f6f\u4ef6\u4e0d\u540c\uff0cgit \u4fdd\u5b58\u7684\u4e0d\u662f\u6587\u4ef6\u7684\u53d8\u5316\u6216\u8005\u5dee\u5f02\uff0c\u800c\u662f\u4e00\u7cfb\u5217\u4e0d\u540c\u65f6\u523b\u7684\u6587\u4ef6\u5feb\u7167\u3002\u5b83\u7684\u7279\u5f81\u662f\u4ee5\u50a8\u5b58\u7a7a\u95f4\u6765\u6362\u53d6\u65f6\u95f4\uff08\u6027\u80fd\uff09\u7684\u3002</p> <p>\u76f4\u5230\u73b0\u5728\uff0c\u6211\u4eec\u90fd\u6ca1\u6709\u8d4b\u4e88\u5206\u652f\u4e00\u4e2a\u6e05\u6670\u5b8c\u6574\u7684\u5b9a\u4e49\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u6765\u7406\u89e3\u5206\u652f\uff1a\u5047\u8bbe\u6211\u4eec\u6b63\u5728\u5f00\u53d1\u4e00\u4e2a\u535a\u5ba2\u7f51\u7ad9\u3002\u5f00\u53d1\u5c0f\u7ec4\u6709 4 \u4e2a\u4eba\uff0c\u529f\u80fd\u6709\u6301\u4e45\u5316\u4e0e\u7f13\u5b58\u6a21\u5757\u3001\u6587\u6863\u5bf9\u8c61\u62bd\u8c61\u6a21\u5757\u3001\u4e3b\u9898\u4e0e\u5c55\u793a\u6a21\u5757\u3001\u8bc4\u8bba\u7ba1\u7406\u6a21\u5757\u7b49\u529f\u80fd\u3002\u5982\u679c\u6bcf\u4e2a\u4eba\u8d1f\u8d23\u4e00\u4e2a\u529f\u80fd\uff0c\u90a3\u4e48\u6548\u7387\u6700\u9ad8\u7684\u5f00\u53d1\u6a21\u5f0f\u5e94\u8be5\u662f\u6bcf\u4e2a\u4eba\u90fd\u5728\u81ea\u5df1\u7684\u5206\u652f\u4e0a\u72ec\u7acb\u5f00\u53d1\uff0c\u5b8c\u6210\u81ea\u5df1\u6a21\u5757\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u518d\u5408\u5e76\u5230\u4e00\u4e2a\u5171\u540c\u7684\u5206\u652f\uff08\u6bd4\u5982\u79f0\u4f5c develop) \u4e0a\u8fdb\u884c\u96c6\u6210\u6d4b\u8bd5\u3002\u5f53\u96c6\u6210\u6d4b\u8bd5\u5b8c\u6210\u65f6\uff0c\u518d\u5408\u5e76\u5230 main \u5206\u652f\u4e0a\u5b8c\u6210\u7248\u672c\u53d1\u5e03\uff0c\u63a5\u4e0b\u6765\u8fdb\u5165\u4e0b\u4e00\u4e2a\u529f\u80fd\u8fed\u4ee3\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u4f1a\u9047\u5230\u8fd9\u6837\u7684\u60c5\u51b5\uff1a\u7f51\u7ad9\u7684 1.0 \u7248\u672c\u53d1\u5e03\u540e\uff0c\u5df2\u7ecf\u5f00\u59cb\u4e86\u65b0\u7684\u529f\u80fd\u5f00\u53d1\uff0c\u4f46\u6709\u7d27\u6025\u7684 bug \u9700\u8981\u4fee\u590d\uff0c\u8fd9\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5207\u6362\u5230\u7ebf\u4e0a\u7684\u5206\u652f\uff08\u5373 main \u4e0a\u9762\u7684\u67d0\u4e00\u4e2a\u6807\u7b7e\uff09\uff0c\u521b\u5efa\u4e00\u4e2a hotfix \u5206\u652f\uff0c\u4fee\u590d bug\uff0c\u6d4b\u8bd5\u548c\u53d1\u5e03\uff0c\u6700\u540e\u5408\u5e76\u5230 main \u5206\u652f\uff0c\u4ee5\u53ca\u96c6\u6210\u5206\u652f (develop) \u4e0a\u3002</p> <p>\u4e0a\u8ff0\u5f00\u53d1\u573a\u666f\u662f\u6bd4\u8f83\u5178\u578b\u7684\u4e00\u4e2a\u573a\u666f\u30022010 \u5e74\uff0cVincent Driessen \u5c06\u5176\u62bd\u8c61\u6210\u4e86\u4e00\u4e2a\u5de5\u4f5c\u6d41\u6a21\u578b\uff0c\u5728\u6b64\u540e\u7684 10 \u591a\u5e74\u4e2d\uff0c\u8be5\u6a21\u578b\u5f97\u5230\u4e86\u5e7f\u6cdb\u7684\u8ba4\u53ef\u3002bitbucket\uff0c\u7531\u8457\u540d\u7684 Atlassian \u516c\u53f8\u51fa\u54c1\u7684\u652f\u6301 git \u7248\u672c\u5e93\u6258\u7ba1\u670d\u52a1\uff0c\u4e5f\u5728\u5176\u5b98\u65b9\u6587\u6863\u4e2d\u63a8\u8350\u4e86\u8fd9\u4e2a\u6a21\u578b\u3002Vincent \u8fd8\u57fa\u4e8e\u8fd9\u4e2a\u6a21\u578b\uff0c\u5f00\u53d1\u4e86 git \u7684\u6269\u5c55 gitflow\uff0c\u4ee5\u5e2e\u52a9\u4eba\u4eec\u66f4\u597d\u5730\u8fd0\u7528\u8fd9\u4e2a\u6a21\u578b\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u4e2a\u9879\u76ee\u5728 Github \u4e0a\u83b7\u5f97\u4e86 26.1k \u7684 star\u3002</p> <p></p> <p>\u5728\u8fd9\u4e2a\u6a21\u578b\u4e2d\uff0c\u670d\u52a1\u5668\u4e0a\u59cb\u7ec8\u5b58\u5728\u4e24\u4e2a\u5206\u652f\uff0c\u5373 main \u5206\u652f\uff08\u539f\u56fe\u4e2d\u7684 master\uff09\u548c develop \u5206\u652f\u3002main \u5206\u652f\u7684 head \u6307\u9488\u5e94\u8be5\u6307\u5411\u5df2\u53d1\u5e03\u7684\u4ea7\u54c1\u6784\u5efa\u65f6\u7684\u72b6\u6001\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5e94\u8be5\u968f\u65f6\u53ef\u4ee5\u4f7f\u7528 main \u5206\u652f\u6784\u5efa\u51fa\u4e00\u4efd\u53ef\u7528\u7684\u4ea7\u54c1\u51fa\u6765\u3002develop \u5206\u652f\u53ef\u4ee5\u8ba4\u4e3a\u662f\u4e00\u79cd\u96c6\u6210\u5206\u652f\uff0c\u5b83\u7684 head \u6307\u9488\u5e94\u8be5\u53cd\u6620\u51fa\u4e0b\u4e00\u4e2a\u53d1\u5e03\u7684\u6700\u65b0\u5f00\u53d1\u72b6\u6001\u3002\u8fd9\u4e5f\u662f\u6211\u4eec\u7528\u6765\u5236\u4f5c\u591c\u95f4\u6784\u5efa\uff08nightly build\uff09\u7684\u5206\u652f\u3002</p> <p>\u5f53 develop \u5206\u652f\u4e0a\u7684\u4ee3\u7801\u8fbe\u5230\u67d0\u4e2a\u7a33\u5b9a\u7684\u72b6\u6001\uff0c\u5df2\u7ecf\u51c6\u5907\u597d\u53d1\u5e03\u65f6\uff0c\u6240\u6709\u7684\u8fd9\u4e9b\u53d8\u66f4\u5e94\u8be5\u5408\u5e76\u5230 main \u5206\u652f\u4e0a\uff0c\u5e76\u4e14\u6253\u4e0a\u5e26\u7248\u672c\u53f7\u7684\u6807\u7b7e\u3002\u4ece\u5b9a\u4e49\u4e0a\u6765\u8bb2\uff0c\u6bcf\u6b21\u6709\u53d8\u66f4\u5408\u5e76\u5230 main \u5206\u652f\u65f6\uff0c\u90fd\u5e94\u8be5\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\u7248\u672c\u3002\u56e0\u6b64\uff0c\u5f80 main \u5206\u652f\u4e0a\u505a\u5408\u5e76\u5e94\u8be5\u975e\u5e38\u4e25\u683c\uff0c\u9700\u8981\u4f7f\u7528\u94a9\u5b50\u6765\u4fdd\u8bc1 CI \u8fc7\u7a0b\u81ea\u52a8\u6784\u5efa\u8f6f\u4ef6\u548c\u6d4b\u8bd5\uff0c\u5e76\u5b8c\u6210\u90e8\u7f72\uff08\u6216\u8005\u5411 pypi \u53d1\u5e03\uff09\u3002</p> <p>\u5982\u679c\u5f00\u53d1\u8005\u662f\u4e00\u4e2a\u56e2\u961f\uff0c\u663e\u7136\u4ece develop \u5206\u652f\u5f80 main \u5206\u652f\u4e0a\u7684\u5408\u5e76\uff0c\u5e94\u8be5\u662f develop lead \u7684\u5de5\u4f5c\u3002</p> <p>\u9664\u4e86 main \u548c develop \u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u4f1a\u6709\u4e00\u7cfb\u5217\u7684\u8f85\u52a9\u5206\u652f\uff0c\u5b83\u4eec\u53ea\u4f1a\u4e34\u65f6\u5b58\u5728\uff0c\u5e76\u4e14\u6700\u7ec8\u4f1a\u88ab\u79fb\u9664\u6389\u3002\u8fd9\u4e9b\u5206\u652f\u662f\uff1a 1. \u529f\u80fd\u5206\u652f\uff08Feature branches) 2. \u53d1\u5e03\u5206\u652f (Release branches) 3. \u70ed\u4fee\u590d\u5206\u652f (Hotfix branches)</p> <p>\u8fd9\u4e9b\u5206\u652f\u90fd\u6709\u81ea\u5df1\u7684\u7279\u5b9a\u76ee\u6807\uff0c\u56e0\u6b64\uff0c\u5b83\u4eec\u7684\u6765\u6e90\u548c\u6700\u7ec8\u5408\u5e76\u7684\u53bb\u5411\u4e5f\u9075\u5faa\u4e25\u683c\u7684\u89c4\u5219\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#31-feature-branch","title":"3.1. \u529f\u80fd\u5206\u652f (Feature branch)","text":"<p>\u529f\u80fd\u5206\u652f\u662f\u4ece develop \u5206\u652f\u4e0a\u521b\u5efa\u51fa\u6765\u7684\uff0c\u7528\u6765\u5f00\u53d1\u67d0\u4e2a\u65b0\u529f\u80fd\u3002\u5f53\u529f\u80fd\u5f00\u53d1\u5b8c\u6210\u65f6\uff0c\u9700\u8981\u5408\u5e76\u56de develop \u5206\u652f\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528{{feature_name}}/{{developer}}\u6765\u547d\u4ee4\u5206\u652f\u3002\u8fd9\u91cc feature_name \u662f\u529f\u80fd\u7684\u540d\u5b57\uff0cdeveloper \u662f\u56e2\u961f\u4e2d\u8d1f\u8d23\u8fd9\u4e2a\u529f\u80fd\u7684\u5f00\u53d1\u8005\u3002\u5f53\u7136\uff0c\u5982\u679c\u529f\u80fd\u53ea\u6709\u4e00\u4e2a\u4eba\u8d1f\u8d23\u5f00\u53d1\uff0c\u4e5f\u53ef\u4ee5\u7701\u7565 developer \u8fd9\u4e00\u90e8\u5206\u3002</p> <p>\u6211\u4eec\u5e94\u8be5\u8fd9\u6837\u521b\u5efa\u4e00\u4e2a\u529f\u80fd\u5206\u652f\uff1a</p> <pre><code>git checkout -b feature_name/developer_name develop\n</code></pre> <p>\u5728\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e94\u8be5\u53ca\u65f6\u628a\u53d8\u66f4\u63d0\u4ea4\u5e76\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\uff0c\u4ee5\u907f\u514d\u4ee3\u7801\u4e22\u5931\uff0c\u4e5f\u65b9\u4fbf\u5176\u4ed6\u4eba\u8fdb\u884c code review\u3002\u5f53\u529f\u80fd\u5f00\u53d1\u5b8c\u6210\u65f6\uff0c\u6211\u4eec\u5e94\u8be5\u53ca\u65f6\u628a\u53d8\u66f4\u4ece\u529f\u80fd\u5206\u652f\u5408\u5e76\u56de develop \u5206\u652f\uff0c\u5e76\u5220\u9664\u529f\u80fd\u5206\u652f\u3002\u4ee5\u4e0b\u662f\u64cd\u4f5c\u547d\u4ee4\u793a\u4f8b\uff1a</p> <p><pre><code>$ git checkout develop\nSwitched to branch 'develop'\n\n$ git merge --no-ff myfeature\nUpdating ea1b82a..05e9557\n(Summary of changes)\n\n$ git branch -d myfeature\nDeleted branch myfeature (was 05e9557).\n\n$ git push origin develop\n</code></pre> \u8fd9\u91cc\u7684\u547d\u4ee4\u7528\u6765\u63cf\u8ff0\u5de5\u4f5c\u6d41\u7a0b\uff0c\u5b9e\u9645\u4e0a\u5728\u64cd\u4f5c\u65f6\uff0c\u6211\u4eec\u66f4\u503e\u5411\u4e8e\u4f7f\u7528 git lens \u7684\u56fe\u5f62\u5316\u754c\u9762\u6765\u64cd\u4f5c\u3002\u6ce8\u610f\u7b2c 4 \u884c\u7684--no-ff \u9009\u9879\u3002\u8fd9\u4e2a\u9009\u9879\u7684\u4f5c\u7528\u662f\uff0c\u8ba9\u6211\u4eec\u5728 develop \u5206\u652f\u4e0a\u4ecd\u7136\u770b\u5230\u4e00\u4e2a\u5b8c\u6574\u7684\u5386\u53f2\u8bb0\u5f55\uff0c\u5305\u62ec\u66fe\u7ecf\u5b58\u5728\u4e00\u4e2a feature \u5206\u652f\uff0c\u4ee5\u53ca\u54ea\u4e9b\u63d0\u4ea4\u6784\u6210\u4e86\u4e00\u4e2a feature\u3002\u4e0b\u56fe\u5bf9\u6bd4\u4e86\u662f\u5426\u4f7f\u7528\u8be5\u9009\u9879\u7684\u5dee\u5f02\uff1a </p> <p>\u4e0a\u56fe\u4e2d\u53f3\u8fb9\u7684\u90e8\u5206\u663e\u793a\u4e86\u4e00\u4e2a\u666e\u901a\u7684\u5408\u5e76\uff08\u5373\u6ca1\u6709\u6307\u5b9a--no-ff \u9009\u9879\uff09\uff0c\u5728\u8fd9\u91cc\uff0c\u770b\u4e0d\u51fa\u6765\u54ea\u4e9b\u63d0\u4ea4\u6784\u6210\u4e86\u4e00\u4e2a\u529f\u80fd\uff08\u9664\u975e\u68c0\u67e5\u65e5\u5fd7\uff09\uff0c\u66f4\u4e0d\u7528\u8bf4 feature \u5206\u652f\u7684\u5b58\u5728\u4e86\u3002\u53e6\u5916\uff0c\u5728\u53f3\u8fb9\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u56de\u6eda\u6574\u4e2a\u529f\u80fd\u4e5f\u4f1a\u662f\u4ee4\u4eba\u5934\u75bc\u7684\u4e8b\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#32-release-branch","title":"3.2. \u53d1\u5e03\u5206\u652f\uff08Release branch)","text":"<p>\u53d1\u5e03\u5206\u652f \uff08release branch\uff09\u7528\u6765\u51c6\u5907\u4e00\u4e2a\u65b0\u7684\u53d1\u5e03\uff0c\u7528\u4ee5\u5b8c\u6210\u6b63\u5f0f\u53d1\u5e03\u524d\u7684\u6bcf\u4e00\u4e2a\u7ec6\u8282\u3002\u8fd9\u4e2a\u5206\u652f\u4e5f\u5141\u8bb8\u5c0f\u7684\u8865\u4e01\u548c\u4e00\u4e9b meta-data \u7684\u53d8\u66f4\uff08\u6bd4\u5982\u7248\u672c\u53f7\uff0c\u6784\u5efa\u65e5\u671f\u7b49\uff09\u3002\u4e00\u65e6 release \u5206\u652f\u88ab\u521b\u5efa\uff0cdevelop \u5206\u652f\u5c31\u53ef\u4ee5\u7ee7\u7eed\u5f00\u53d1\u4e0b\u4e00\u4e2a\u7248\u672c\u7684\u529f\u80fd\u4e86\u3002\u5f53\u53d1\u5e03\u5b8c\u6210\uff0c\u9700\u8981\u5408\u5e76\u56de develop \u5206\u652f\u548c main \u5206\u652f\u3002\u5206\u652f\u540d\u4e00\u822c\u4f7f\u7528 release-*\u3002</p> <p>\u4ece develop \u5206\u652f\u8fc1\u79fb\u5230 release \u5206\u652f\u5e94\u8be5\u53d1\u751f\u5728\u6240\u6709\u7684\u529f\u80fd\u90fd\u5408\u5e76\u5230 develop \u4e4b\u540e\uff0c\u800c\u4efb\u4f55\u4e0d\u5c5e\u4e8e\u6b64\u6b21\u53d1\u5e03\u7684\u529f\u80fd\uff0c\u5219\u7edd\u5bf9\u4e0d\u5e94\u8be5\u5728\u6b64\u524d\u8fdb\u5165\u5230 develop \u5206\u652f\u3002</p> <p>\u53ea\u6709\u5728 release \u5206\u652f\u521b\u5efa\u65f6\uff0c\u6211\u4eec\u624d\u5e94\u8be5\u786e\u5b9a\u7248\u672c\u53f7\u3002\u521b\u5efa release \u5206\u652f\u7684\u547d\u4ee4\u662f\uff08\u5047\u8bbe\u4e4b\u524d\u7684\u7248\u672c\u662f 1.1.5\uff0c\u6700\u65b0\u7684\u7248\u672c\u5b9a\u4e3a 1.2\uff09\uff1a <pre><code>$ git checkout -b release-1.2 develop\nSwitched to a new branch \"release-1.2\"\n$ poetry version 1.2\nFiles modified successfully, version bumped to 1.2.\n$ git commit -a -m \"Bumped version number to 1.2\"\n[release-1.2 74d9424] Bumped version number to 1.2\n1 files changed, 1 insertions(+), 1 deletions(-)\n</code></pre></p> <p>\u5f53 release \u5206\u652f\u6700\u7ec8\u7a33\u5b9a\u4e0b\u6765\uff0c\u53ef\u4ee5\u53d1\u5e03\u65f6\uff0c\u6211\u4eec\u5e94\u8be5\u628a release \u5206\u652f\u5408\u5e76\u5230 main \u5206\u652f\uff0c\u5e76\u6253\u4e0a\u4e00\u4e2a tag\u3002\u8fd9\u4e2a tag \u7684\u540d\u5b57\u5e94\u8be5\u548c\u7248\u672c\u53f7\u4e00\u81f4\uff08\u4e00\u822c\u4ee5 V \u5f00\u5934\uff09\u3002\u6700\u540e\uff0c\u5c06 release \u5206\u652f\u5408\u5e76\u5230 develop \u5206\u652f\u4e0a\uff0c\u5373\u628a\u6240\u6709\u7684\u53d8\u66f4\u5e26\u5165\u5230\u4e0b\u4e00\u4e2a\u7248\u672c\u4e2d\u3002</p> <p>\u5408\u5e76 release \u5206\u652f\u5230 main \u5206\u652f\u7684\u547d\u4ee4\u662f\uff1a <pre><code>$ git checkout main\nSwitched to branch 'main'\n\n$ git merge --no-ff release-1.2\nMerge made by recursive.\n(Summary of changes)\n\n$ git tag -a 1.2\n\n$ git checkout develop\nSwitched to branch 'develop'\n\n$ git merge --no-ff release-1.2\nMerge made by recursive.\n(Summary of changes)\n</code></pre> \u6700\u540e\uff0c\u9274\u4e8e release \u5206\u652f\u4e0a\u6240\u6709\u7684\u53d8\u66f4\u90fd\u5df2\u5408\u5e76\u5230\u4e86 main \u548c develop\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u6ca1\u5fc5\u8981\u4fdd\u7559\u5b83\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u5e94\u8be5\u5220\u9664\u8fd9\u4e2a\u5206\u652f\uff1a <pre><code>$ git branch -d release-1.2\nDeleted branch release-1.2 (was ff452fe).\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap08/#33","title":"3.3. \u70ed\u4fee\u590d\u5206\u652f","text":"<p>\u70ed\u4fee\u590d\u5206\u652f (hotfix branch) \u4ece main \u5206\u652f\u4e0a\u5206\u51fa\u6765\uff0c\u7528\u6765\u4fee\u590d\u7ebf\u4e0a\u7684 bug\u3002\u5f53\u4fee\u590d\u5b8c\u6210\uff0c\u9700\u8981\u5408\u5e76\u56de main \u5206\u652f\u548c develop \u5206\u652f\u3002\u5206\u652f\u540d\u4e00\u822c\u4f7f\u7528 hotfix-*\u3002</p> <p>\u70ed\u4fee\u590d\u5206\u652f\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u4f7f\u5f97\u5728 develop \u5206\u652f\u4e0a\u7684\u5f00\u53d1\u8005\u4e0d\u53d7\u5f71\u54cd\uff0c\u800c\u5176\u5b83\u4eba\u5219\u53ef\u4ee5\u5feb\u901f\u4fee\u590d\u7ebf\u4e0a\u7684 bug\u3002\u5177\u4f53\u7684\u64cd\u4f5c\u547d\u4ee4\u4e0e\u524d\u9762\u7684\u793a\u4f8b\u5927\u540c\u5c0f\u5f02\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\u4e0d\u8fc7\u9700\u8981\u63d0\u9192\u7684\u662f\uff0c\u6211\u4eec\u4e00\u6837\u8981\u7ed9 hotfix \u5206\u914d\u7248\u672c\u53f7\u5e76\u6253\u4e0a\u6807\u7b7e\u3002</p> <p>\u5982\u679c\u5728\u8fdb\u884c\u70ed\u4fee\u590d\u65f6\uff0c\u5df2\u7ecf\u5b58\u5728 release \u5206\u652f\uff0c\u6b64\u65f6 hotfix \u5e94\u8be5\u5408\u5e76\u56de develop \u5206\u652f\uff0c\u8fd8\u662f release \u5206\u652f\uff1f\u7b54\u6848\u662f release \u5206\u652f\u3002\u5982\u679c hotfix \u88ab\u5408\u5e76\u5230 develop \u5206\u652f\uff0c\u90a3\u4e48\u8fd9\u4e2a hotfix \u5c06\u53ea\u80fd\u968f\u4e0b\u4e00\u4e2a\u7248\u672c\u53d1\u5e03\u800c\u53d1\u5e03\uff0c\u8fd9\u662f\u4e0d\u5408\u7406\u7684\u3002\u56e0\u6b64\uff0chotfix \u5e94\u8be5\u5408\u5e76\u5230 release \u5206\u652f\uff0c\u6700\u7ec8\uff0c\u5b83\u5c06\u968f release \u5206\u652f\u518d\u5408\u5e76\u5230 develop \u5206\u652f\u4e2d\uff0c\u4ece\u800c\u4fdd\u8bc1\u8fdb\u5165\u540e\u7eed\u7248\u672c\u3002</p> <p>\u4e0b\u56fe\u6f14\u793a\u4e86 hotfix \u4e2d\u7684\u53d8\u66f4\u5728\u5404\u5206\u652f\u4e4b\u95f4\u7684\u6d41\u52a8\uff1a</p> <p></p> <p>\u5728\u4ecb\u7ecd\u672c\u8282\u5185\u5bb9\u65f6\uff0c\u6211\u4eec\u8f83\u591a\u5730\u53c2\u8003\u4e86 Vincent Driessen \u7684\u535a\u5ba2\u6587\u7ae0 \u300aA successful Git branching model\u300b\u3002\u8fd9\u7bc7\u6587\u7ae0\u662f Git \u5206\u652f\u6a21\u578b\u7684\u7ecf\u5178\u4e4b\u4f5c\uff0c\u5efa\u8bae\u8bfb\u8005\u505a\u5ef6\u4f38\u9605\u8bfb\u3002Vincent Driessen \u5f00\u53d1\u7684 gitflow \u5de5\u5177\u662f git \u7684\u4e00\u4e2a\u6269\u5c55\uff0c\u7528\u6765\u5b9e\u73b0\u4e0a\u8ff0\u5de5\u4f5c\u6d41\uff0c\u8fd9\u91cc\u4e5f\u63a8\u8350\u5b89\u88c5\u4f7f\u7528\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#4-git","title":"4. Git \u4e2d\u7684\u9ad8\u7ea7\u64cd\u4f5c","text":""},{"location":"articles/python/best-practice-python/chap08/#41","title":"4.1. \u5206\u652f\u5408\u5e76\u548c\u4e09\u8def\u5f52\u5e76","text":"<p>\u5728\u5206\u652f\u7ba1\u7406\u90a3\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u53ca\u4e86 merge\uff08\u5206\u652f\u5408\u5e76\uff09\u8fd9\u4e2a\u6982\u5ff5\uff0c\u4f46\u6211\u4eec\u6ca1\u6709\u5177\u4f53\u8bb2\u5982\u4f55\u64cd\u4f5c\u3002\u8fd9\u4e00\u8282\uff0c\u6211\u4eec\u5c06\u4ee5 hotfix \u7684\u53d1\u5e03\u4e3a\u4f8b\uff0c\u4ecb\u7ecd\u5206\u652f\u5408\u5e76\u4e0e\u4e09\u8def\u5f52\u5e76 (3-way merge) \u64cd\u4f5c\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u7684\u4ea7\u54c1\u5df2\u7ecf\u53d1\u5e03\u4e86 1.1\uff0c\u73b0\u5728\u56e2\u961f\u6b63\u5728\u5f00\u53d1 1.2 \u7248\u672c\u3002\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u7ebf\u4e0a\u7248\u672c\u53d1\u73b0\u4e86\u4e00\u4e2a\u4e25\u91cd\u7684 bug\uff08\u5728 tracker \u7cfb\u7edf\u4e2d\u7f16\u53f7\u4e3a 533\uff09\uff0c\u9700\u8981\u7acb\u5373\u4fee\u590d\u3002\u6309\u7167 gitflow \u7684\u6a21\u578b\uff0c\u6211\u4eec\u5e94\u8be5\u4ece main \u5206\u652f\u4e0a\u5207\u51fa\u4e00\u4e2a hotfix_533 \u5206\u652f\uff0c\u4fee\u590d bug \u540e\uff0c\u518d\u5408\u5e76\u56de main \u5206\u652f\u548c develop \u5206\u652f\u3002</p> <p>\u4e0b\u56fe\u5c55\u793a\u4e86 hotfix_533 \u5206\u652f\u521b\u5efa\u65f6\uff0c\u76f8\u5173\u5206\u652f\u7684\u72b6\u6001\u56fe\uff1a</p> <p></p> <p>\u5f53\u6211\u4eec\u4fee\u590d\u5b8c\u8fd9\u4e2a bug \u540e\uff0c\u4ea7\u751f\u4e86\u4e00\u4e2a\u65b0\u7684\u63d0\u4ea4\uff0c\u8bb0\u4e3a c3, \u5b83\u7684\u7236\u7ed3\u70b9\u662f c2\u3002\u8fd9\u4e2a\u63d0\u4ea4\u53d1\u751f\u5728 hotfix_533 \u5206\u652f\u4e0a\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u5fc5\u987b\u5c06\u5176 merge \u56de main \u5206\u652f\u3002\u5047\u8bbe\u6211\u4eec\u5728\u4fee\u590d issue 533 \u65f6\uff0c\u7ebf\u4e0a\u8fd8\u53d1\u73b0\u4e00\u4e2a\u65b0\u7684 bug\uff0c\u8bb0\u4e3a issue 534\u3002\u800c\u8fd9\u4e2a hotfix \u5b8c\u6210\u5f97\u66f4\u65e9\uff0c\u4ea7\u751f\u4e86\u8bb0\u4e3a c4 \u7684\u63d0\u4ea4\uff0c\u5df2\u7ecf\u5408\u5e76\u5230\u4e86 main \u5206\u652f\u3002\u6b64\u65f6\uff0c\u76f8\u5173\u5206\u652f\u7684\u72b6\u6001\u56fe\u5982\u56fe 8- 12 \u6240\u793a\uff1a</p> <p></p> <p>\u5982\u679c\u63d0\u4ea4 c4 \u548c c3 \u4fee\u6539\u4e92\u4e0d\u51b2\u7a81\uff08\u6bd4\u5982\u4fee\u6539\u7684\u6587\u4ef6\u4e0d\u540c\uff0c\u6216\u8005\u5373\u4f7f\u662f\u540c\u4e00\u6587\u4ef6\uff0c\u4f46\u4fee\u6539\u7684\u884c\u4e0d\u540c\uff09\uff0c\u8fd9\u6837 git \u4e00\u822c\u53ef\u4ee5\u76f4\u63a5\u5408\u5e76\uff0c\u5982\u679c\u76f8\u4e92\u51b2\u7a81\uff0c\u5219\u6211\u4eec\u8fd8\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u3002</p> <p>\u6211\u4eec\u5148\u770b\u6ca1\u6709\u51b2\u7a81\u7684\u60c5\u51b5\u3002\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u90fd\u662f\u4ee5 git \u7684\u539f\u751f\u547d\u4ee4\uff0c\u4ee5\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u6f14\u793a\u3002\u4f46\u4ece\u73b0\u5728\u8d77\uff0c\u6211\u4eec\u53ef\u80fd\u66f4\u591a\u5730\u4f7f\u7528\u56fe\u5f62\u5316\u754c\u9762\u6765\u4e3e\u4f8b\uff0c\u5e76\u63d0\u53ca\u53d1\u751f\u5728\u80cc\u540e\u7684 git \u547d\u4ee4\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u5c06 c4 \u4ece hotfix_534 \u5206\u652f\u4e0a merge \u56de main \u5206\u652f\u3002\u6211\u4eec\u8981\u5148\u5207\u6362\u5230 main \u5206\u652f\uff0c\u518d\u5728\u4e0b\u9762\u7684\u754c\u9762\u4e2d\uff0c\u5c06\u9f20\u6807\u79fb\u52a8\u5230 hotfix_534 \u90a3\u4e2a\u6761\u76ee\u4e0a\uff0c\u518d\u53f3\u952e\u5524\u51fa\u4e0a\u4e0b\u6587\u83dc\u5355\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u70b9\u51fb\u201cMerge into current branch\u201d\uff0c\u5728\u63a5\u4e0b\u6765\u7684\u5bf9\u8bdd\u6846\u4e2d\uff0c\u9009\u62e9\"Merge\"\uff08\u5bf9\u5e94\u7684\u547d\u4ee4\u662f git merge), \u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 git merge --no-ff\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u5374\u4f7f\u7528\u4e86 git merge\u3002\u8fd9\u662f\u56e0\u4e3a\uff0chotfix \u5c5e\u4e8e\u77ed\u751f\u547d\u671f\u7684\u5206\u652f\u3002\u5982\u679c\u6211\u4eec\u5de5\u4f5c\u5728 develop \u5206\u652f\u4e0a\uff0c\u6211\u4eec\u5e94\u8be5\u4f7f\u7528 git merge --no-ff\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u7559 develop \u5206\u652f\u7684\u5386\u53f2\u8bb0\u5f55\u3002\u5982\u679c\u4f60\u5e0c\u671b\u9488\u5bf9\u4e0d\u540c\u7684\u5206\u652f\uff0c\u5bf9 merge \u52a8\u4f5c\u5b9a\u5236\u4e0d\u540c\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 gitconfig \u6587\u4ef6\u6765\u5b9e\u73b0\uff0c\u8bf7\u611f\u5174\u8da3\u7684\u8bfb\u8005\u81ea\u884c\u7814\u7a76\u3002</p> <p>\u5982\u679c c4 \u4e0e c3 \u76f8\u4e92\u51b2\u7a81\u5462\uff1f\u8fd9\u79cd\u60c5\u51b5\u88ab\u79f0\u4e3a\u4e09\u8def\u5f52\u5e76\uff0c\u6211\u4eec\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\u3002\u4ece vscode 1.69 \u8d77\uff0cvscode \u63d0\u4f9b\u4e86\u4e09\u8def\u5f52\u5e76\u7f16\u8f91\u5668\uff0c\u5927\u5927\u65b9\u4fbf\u4e86\u5408\u5e76\uff0c\u4e5f\u7ec8\u4e8e\u8865\u9f50\u4e86\u5b83\u4e0e pycharm \u4e4b\u95f4\u6700\u5927\u7684\u4e00\u5757\u77ed\u677f\u3002</p> <p>\u6211\u4eec\u9700\u8981\u5728 vscode \u7684\u8bbe\u7f6e\u4e2d\uff0c\u6253\u5f00\u76f8\u5e94\u7684\u5f00\u5173\uff1a</p> <p></p> <p>\u6b64\u65f6\u518d\u6267\u884c\u5408\u5e76\uff0c\u6211\u4eec\u4f1a\u770b\u5230\u4ee5\u4e0b\u754c\u9762\uff1a</p> <p></p> <p>\u6211\u4eec\u70b9\u51fb\"Resolve in Merge Editor\"\u6309\u94ae\uff1a</p> <p></p> <p>\u5de6\u8fb9\u7684\u662f hotfix_533 \u5206\u652f\uff0c\u53f3\u8fb9\u7684\u5219\u662f main \u5206\u652f\uff0c\u4e24\u4e2a\u6539\u52a8\u76f8\u4e92\u51b2\u7a81\u3002\u5982\u679c\u6211\u4eec\u63a5\u53d7 hotfix_533\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u9876\u90e8\u7684\"Accept Incoming\"\u6309\u94ae\uff0c\u5982\u679c\u6211\u4eec\u63a5\u53d7 main \u5206\u652f\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u5e95\u90e8\u7684\"Accept Current\"\u6309\u94ae\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u4fdd\u7559\u4e24\u4e2a\u5206\u652f\u7684\u6539\u52a8\uff0c\u5219\u53ef\u4ee5\u70b9\u51fb\u4e2d\u95f4\u7684\"Accept Combination\"\u6309\u94ae\uff0c\u5c06\u4e24\u4e2a\u4fee\u6539\u540c\u65f6\u4fdd\u7559\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5168\u90e8\u62d2\u7edd\u4e24\u4e2a\u4fee\u6539\uff0c\u8fd9\u6837\u53ea\u9700\u8981\u7f16\u8f91\u4e0b\u9762\u7684 result \u7a97\u53e3\u4e2d\u5bf9\u5e94\u884c\uff08\u56fe\u4e2d\u7684\u7b2c 3 \u884c\uff09\u5c31\u884c\u4e86\u3002</p> <p>\u5f53\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u51b2\u7a81\u90fd\u88ab\u89e3\u51b3\u4e4b\u540e\uff0c\u70b9\u51fb\u201cComplete Merge\u201d\u6309\u94ae\u5173\u95ed\u7f16\u8f91\u5668\uff0c\u5b8c\u6210\u5408\u5e76\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#42-rebase","title":"4.2. rebase","text":"<p>\u53d8\u57fa\u662f\u53e6\u4e00\u79cd\u5408\u5e76\u5206\u652f\u7684\u65b9\u5f0f\u3002\u53d8\u57fa\u7684\u76ee\u7684\u662f\u5c06\u4e00\u4e2a\u5206\u652f\u7684\u6539\u52a8\uff0c\u79fb\u52a8\u5230\u53e6\u4e00\u4e2a\u5206\u652f\u4e0a\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4ee5\u4e0b\u72b6\u6001\uff1a</p> <p></p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528 git merge \u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u5408\u5e76\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u4e0b\u56fe\uff1a</p> <p></p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u5bf9 hotfix_533 \u8fdb\u884c rebase \u64cd\u4f5c\uff0c\u4f7f\u5f97 c3 \u7684\u7236\u7ed3\u70b9\u4ece c2 \u53d8\u4e3a c4\uff1a <pre><code>$ git checkout hotfix_533\n$ git rebase main\nFirst, rewinding head to replay your work on top of it...\nApplying: added staged command\n</code></pre> rebase \u66f4\u50cf\u662f\u4e00\u79cd\u64cd\u4f5c\u91cd\u653e\uff0c\u5b83\u628a main \u5206\u652f\u4e0a\u5728 c2\uff08\u5171\u540c\u7956\u5148\uff09\u4e4b\u540e\u7684\u6240\u6709\u63d0\u4ea4\uff0c\u90fd\u5728 hotfix_533 \u5206\u652f\u4e0a\u91cd\u65b0\u6267\u884c\u4e86\u4e00\u6b21\uff0c\u7136\u540e\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u5e94\u7528 c3\u3002\u6700\u540e\uff0c\u6211\u4eec\u5c06 hotfix_533 \u5206\u652f\u518d\u5408\u5e76\u56de main\u3002\u56fe 8- 20 \u53cd\u5e94\u4e86\u4e24\u4e2a\u5206\u652f\u4e0a\u7684\u53d8\u5316\u548c\u6700\u7ec8\u72b6\u6001\uff1a</p> <p></p> <p>\u4e0e\u4e0d\u4f7f\u7528 rebase \u76f8\u6bd4\uff0c\u8fdb\u884c rebase \u4e4b\u540e\uff0c\u5206\u652f\u5386\u53f2\u5c06\u4e0d\u4f1a\u51fa\u73b0\u5206\u53c9\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u5f97\u5206\u652f\u5386\u53f2\u66f4\u52a0\u6e05\u6670\u3002</p> <p>\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u53d8\u57fa\u548c\u5408\u5e76\u90fd\u7528\u4e8e\u4ee3\u7801\u5408\u5e76\uff0c\u4f60\u4e00\u5b9a\u4f1a\u60f3\u95ee\uff0c\u5230\u5e95\u54ea\u79cd\u65b9\u5f0f\u66f4\u597d\uff0c\u4e24\u79cd\u65b9\u6cd5\uff0c\u5206\u522b\u5728\u4f55\u65f6\u4f7f\u7528\uff1f\u5b9e\u9645\u4e0a\uff0c\u65e0\u8bba\u4f7f\u7528\u54ea\u79cd\u65b9\u6cd5\uff0c\u4ee3\u7801\u7684\u6700\u7ec8\u72b6\u6001\u90fd\u5fc5\u7136\u662f\u4e00\u81f4\u7684\uff0c\u4e0d\u540c\u7684\u53ea\u662f\u63d0\u4ea4\u5386\u53f2\u3002</p> <p>\u6709\u4e00\u79cd\u89c2\u70b9\u8ba4\u4e3a\uff0c\u4ed3\u5e93\u7684\u63d0\u4ea4\u5386\u53f2\u5373\u662f\u8bb0\u5f55\u5b9e\u9645\u53d1\u751f\u8fc7\u4ec0\u4e48\u3002\u5b83\u662f\u9488\u5bf9\u5386\u53f2\u7684\u6587\u6863\uff0c\u672c\u8eab\u5c31\u6709\u4ef7\u503c\uff0c\u4e0d\u80fd\u4e71\u6539\u3002 \u4ece\u8fd9\u4e2a\u89d2\u5ea6\u770b\u6765\uff0c\u6539\u53d8\u63d0\u4ea4\u5386\u53f2\u662f\u4e00\u79cd\u4eb5\u6e0e\uff0c\u4f60\u4f7f\u7528\u8c0e\u8a00\u63a9\u76d6\u4e86\u5b9e\u9645\u53d1\u751f\u8fc7\u7684\u4e8b\u60c5\u3002\u5982\u679c\u7531\u5408\u5e76\u4ea7\u751f\u7684\u63d0\u4ea4\u5386\u53f2\u662f\u4e00\u56e2\u7cdf\u600e\u4e48\u529e\uff1f\u65e2\u7136\u4e8b\u5b9e\u5c31\u662f\u5982\u6b64\uff0c\u90a3\u4e48\u8fd9\u4e9b\u75d5\u8ff9\u5c31\u5e94\u8be5\u88ab\u4fdd\u7559\u4e0b\u6765\uff0c\u8ba9\u540e\u4eba\u80fd\u591f\u67e5\u9605\u3002</p> <p>\u53e6\u4e00\u79cd\u89c2\u70b9\u5219\u6b63\u597d\u76f8\u53cd\uff0c\u4ed6\u4eec\u8ba4\u4e3a\u63d0\u4ea4\u5386\u53f2\u662f\u9879\u76ee\u8fc7\u7a0b\u4e2d\u53d1\u751f\u7684\u4e8b\u3002\u6ca1\u4eba\u4f1a\u51fa\u7248\u4e00\u672c\u4e66\u7684\u7b2c\u4e00\u7248\u8349\u7a3f\uff0c\u8f6f\u4ef6\u7ef4\u62a4\u624b\u518c\u4e5f\u662f\u9700\u8981\u53cd\u590d\u4fee\u8ba2\u624d\u80fd\u65b9\u4fbf\u4f7f\u7528\u3002\u6301\u8fd9\u4e00\u89c2\u70b9\u7684\u4eba\u4f1a\u4f7f\u7528 rebase \u6765\u7f16\u5199\u6545\u4e8b\uff0c\u600e\u4e48\u65b9\u4fbf\u540e\u6765\u7684\u8bfb\u8005\u5c31\u600e\u4e48\u5199\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u56de\u5230\u4e4b\u524d\u7684\u95ee\u9898\u4e0a\u6765\uff0c\u5230\u5e95\u5408\u5e76\u8fd8\u662f\u53d8\u57fa\u597d\uff1f\u8fd9\u5e76\u6ca1\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u7b54\u6848\u3002 Git \u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u5de5\u5177\uff0c\u5b83\u5141\u8bb8\u4f60\u5bf9\u63d0\u4ea4\u5386\u53f2\u505a\u8bb8\u591a\u4e8b\u60c5\uff0c\u4f46\u6bcf\u4e2a\u56e2\u961f\u3001\u6bcf\u4e2a\u9879\u76ee\u5bf9\u6b64\u7684\u9700\u6c42\u5e76\u4e0d\u76f8\u540c\u3002 \u65e2\u7136\u4f60\u5df2\u7ecf\u5206\u522b\u5b66\u4e60\u4e86\u4e24\u8005\u7684\u7528\u6cd5\uff0c\u76f8\u4fe1\u4f60\u80fd\u591f\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4f5c\u51fa\u660e\u667a\u7684\u9009\u62e9\u3002</p> <p>\u4e0d\u8fc7\uff0c\u6211\u4eec\u8981\u5f3a\u8c03\u7684\u662f\uff0crebase \u662f\u4e00\u79cd\u9ad8\u7ea7\u64cd\u4f5c\uff0c\u5728\u4e00\u4e9b\u590d\u6742\u7684\u63d0\u4ea4\u7ec4\u5408\u4e0b\uff08\u6bd4\u5982\u591a\u4eba\u534f\u4f5c\u5f00\u53d1\u65f6\uff0c\u6709\u4eba\u5bf9\u5df2\u63a8\u9001\u7684\u63d0\u4ea4\u8fdb\u884c\u4e86\u56de\u6eda\uff09\uff0c\u4f7f\u7528 rebase \u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002\u56e0\u6b64\uff0c\u5728\u4f60\u6df1\u5165\u7406\u89e3 rebase \u7684\u5de5\u4f5c\u539f\u7406\u4e4b\u524d\uff0c\u4e5f\u53ef\u4ee5\u53ea\u4f7f\u7528 merge\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#43-git-diff","title":"4.3. \u5206\u652f\u6bd4\u8f83\uff1agit diff","text":"<p>\u5728\u8fdb\u884c\u4ee3\u7801\u5408\u5e76\u524d\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u5728\u4e0d\u540c\u7684\u5206\u652f\u95f4\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ee5\u4fbf\u4e86\u89e3\u4e24\u4e2a\u5206\u652f\u7684\u5dee\u5f02\u3002\u5b83\u4e5f\u5e2e\u52a9\u6211\u4eec\u5728\u5408\u5e76\u4e4b\u524d\u5c31\u53d1\u73b0\u6709\u54ea\u4e9b\u5408\u5e76\u51b2\u7a81\u3002</p> <p>Git \u63d0\u4f9b\u4e86 git diff \u547d\u4ee4\u6765\u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u7684\u5dee\u5f02\uff0c\u4e0d\u4ec5\u5982\u6b64\uff0c\u5b83\u8fd8\u53ef\u4ee5\u6bd4\u8f83\u4e24\u4e2a\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u6211\u4eec\u5148\u7b80\u5355\u4ecb\u7ecd\u4e0b git diff \u547d\u4ee4\u884c\u4e0b\u7684\u4e00\u4e9b\u7528\u6cd5\uff0c\u7136\u540e\u5c31\u8df3\u8f6c\u5230\u56fe\u5f62\u5316\u754c\u9762\u3002\u6bd5\u7adf\uff0c\u56fe\u5f62\u5316\u754c\u9762\u53ef\u4ee5\u663e\u793a\u51fa\u66f4\u591a\u7684\u4fe1\u606f\u3002</p> <p>\u5728\u8c03\u7528 Git diff \u65f6\uff0c\u663e\u7136\u6211\u4eec\u9700\u8981\u7ed9\u5b83\u63d0\u4f9b\u5f85\u6bd4\u8f83\u7684\u5206\u652f\u540d\u3002\u8fd9\u91cc\u53c8\u6709\u6240\u8c13\u7684\u4e24\u70b9\u8bed\u6cd5\u548c\u4e09\u70b9\u8bed\u6cd5\u3002\u524d\u8005\u662f\u4e24\u4e2a\u5206\u652f\u76f4\u63a5\u6bd4\u8f83\uff1b\u540e\u8005\u5219\u4f1a\u5f15\u5165\u5171\u540c\u7956\u5148\u4e00\u8d77\u8fdb\u884c\u6bd4\u8f83\u3002</p> <pre><code># \u4f7f\u7528\u4e24\u70b9\u8bed\u6cd5\u65f6\uff0c\u663e\u793a\u7684\u662f\u5728\u540e\u4e00\u4e2a\u5206\u652f\u4e0a\uff0c\u800c\u4e0d\u5728\u524d\u4e00\u4e2a\u5206\u652f\u4e0a\u7684\u63d0\u4ea4\n$ git diff branch1..branch2\ndiff --git a/file-feature b/file-feature\nnew file mode 100644\nindex 0000000..add9a1c\n--- /dev/null\n+++ b/file-feature\n@@ -0,0 +1 @@\n+this is a feature file\n\n# \u4f7f\u7528\u4e09\u70b9\u8bed\u6cd5\uff0c\u663e\u793a\u7684\u662f\u81ea\u5171\u540c\u7956\u5148\u4ee5\u6765\u7684\u6240\u6709\u63d0\u4ea4\u7684\u53bb\u540c\u5b50\u96c6\n$ git diff branch1...branch2\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b\u5728 git lens \u6269\u5c55\u4e2d\uff0c\u5982\u4f55\u6bd4\u8f83\u4e24\u4e2a\u5206\u652f\u3002\u9996\u5148\uff0c\u6211\u4eec\u5728\u4e0b\u9762\u7684\u83dc\u5355\uff08\u56fe 8- 21\uff09\u4e2d\uff0c\u9009\u62e9\u8981\u6bd4\u8f83\u7684\u4e24\u4e2a\u5206\u652f\uff1a</p> <p></p> <p>\u7136\u540e\u6211\u4eec\u5728\"Search &amp; Compare\"\u9762\u677f\u4e0b\uff0c\u627e\u5230\u5bf9\u6bd4\u7ed3\u679c\uff1a</p> <p></p> <p>\u6ce8\u610f\u5230\u5728\"Comparing hotfix/...\"\u5b57\u7b26\u4e32\u540e\u9762\uff0c\u6709\u4e00\u4e2a\u4ea4\u6362\u56fe\u6807\u3002\u5b83\u7528\u6765\u4ea4\u6362 git diff \u4e24\u70b9\u8bed\u6cd5\u4e2d\u7684\u4e24\u4e2a\u5206\u652f\u7684\u987a\u5e8f\u3002\u8981\u67e5\u770b\u6587\u4ef6\u5185\u5bb9\u7684\u53d8\u66f4\uff0c\u53ef\u4ee5\u5728\"1 file changed\"\u7684\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u627e\u5230\u53d8\u5316\u7684\u6587\u4ef6\u540d\uff0c\u7136\u540e\u70b9\u51fb\u5b83\u5c31\u53ef\u4ee5\u6d4f\u89c8\u53d8\u66f4\u7684\u5177\u4f53\u60c5\u51b5\u4e86\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#44-reset-checkout","title":"4.4. reset \u4e0e checkout","text":"<p>\u524d\u9762\u6211\u4eec\u5df2\u7ecf\u63a5\u89e6\u5230\u4e86 checkout \u547d\u4ee4\u3002\u8fd9\u91cc\u518d\u4ecb\u7ecd\u4e00\u4e2a\u7c7b\u4f3c\u7684\u547d\u4ee4\uff0c\u5373 reset\u3002</p> <p>\u8981\u7406\u89e3 reset \u547d\u4ee4\uff0c\u6211\u4eec\u9700\u8981\u5148\u56de\u987e\u4e0b git \u7684\u4e09\u68f5\u6811\u6a21\u578b\uff0c\u5373\u5de5\u4f5c\u533a\u3001\u6682\u5b58\u533a (index) \u548c HEAD\u3002reset \u547d\u4ee4\u7684\u4f5c\u7528\u662f\u5c06\u5f53\u524d\u5206\u652f\u6307\u5411\u67d0\u4e2a\u63d0\u4ea4\uff0c\u540c\u65f6\u91cd\u7f6e\u6682\u5b58\u533a\u548c\u5de5\u4f5c\u533a\uff0c\u4f7f\u5b83\u4eec\u4e0e\u6307\u5b9a\u7684\u63d0\u4ea4\u4e00\u81f4\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u6709\u5982\u4e0b\u63d0\u4ea4\u5386\u53f2\uff1a <pre><code>$ git log --oneline\n59b6711 (HEAD -&gt; main) test reset\n4699b9e (origin/main, develop) Initial commit by ppw\n\n$ git status\ngit status\nOn branch main\nYour branch is ahead of 'origin/main' by 1 commit.\n  (use \"git push\" to publish your local commits)\n\nnothing to commit, working tree clean\n</code></pre> \u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u524d\u5171\u6709 1 \u4e2a\u672a\u63a8\u9001\u7684\u63d0\u4ea4\uff0c\u5373 59b6711\u3002\u73b0\u5728\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u91cd\u7f6e\u8fd9\u4e2a\u63d0\u4ea4\uff1a</p> <p><pre><code># \u91cd\u7f6e\u5230\u4e0a\u4e00\u4e2a\u63d0\u4ea4\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684 HEAD~\u8868\u793a\u4e0a\u4e00\u4e2a\u63d0\u4ea4\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528\u63d0\u4ea4\u7684 HASH \u4e32\n$ git reset --soft HEAD~\n\n$ git status\nOn branch main\nYour branch is up to date with 'origin/main'.\n\nChanges to be committed:\n  (use \"git restore --staged &lt;file&gt;...\" to unstage)\n        modified:   README.md\n</code></pre> \u73b0\u5728\uff0c\u4f60\u5c06\u5728 vscode \u7684\u4fa7\u8fb9\u680f\u7684\"SOURCE CONTROL\"\u9762\u677f\u7684\"Staged Changes\"\u7c7b\u522b\u4e0b\uff0c\u770b\u5230\u51fa\u73b0\u4e86 README.md \u6587\u4ef6\u3002\u8fd9\u76f8\u5f53\u4e8e\u53d6\u6d88\u4e86 commit \u64cd\u4f5c\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5c06 README.md \u518d\u63d0\u4ea4\u4e00\u6b21\uff0c\u7136\u540e\u518d\u6267\u884c reset \u547d\u4ee4\uff1a <pre><code>$ git reset --mixed HEAD~\n</code></pre> \u8fd9\u6b21\uff0c\u6211\u4eec\u4f7f\u7528\u7684\u53c2\u6570\u662f mixed\uff0c\u6211\u4eec\u5c06\u770b\u5230 README.md \u6587\u4ef6\u51fa\u73b0\u5728\"Changes\"\u7c7b\u522b\u4e0b\uff0c\u5373\u76f8\u5f53\u4e8e\u53d6\u6d88\u4e86 commit \u548c add \u64cd\u4f5c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4f7f\u7528--hard \u53c2\u6570\u6765\u6267\u884c reset\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u8fd8\u5c06\u53d6\u6d88\u6587\u4ef6\u7684\u53d8\u66f4\u672c\u8eab\uff1a <pre><code>$ git reset --hard HEAD~\n</code></pre> \u5982\u679c\u6211\u4eec\u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\uff0c\u5219 reset \u5c06\u6267\u884c\u4e00\u4e2a mixed \u7684\u64cd\u4f5c\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4ece\u56fe\u5f62\u754c\u9762\u4e0a\u6267\u884c reset \u64cd\u4f5c\uff0c\u5927\u6982\u5206\u8fd9\u4e48\u51e0\u6b65\u3002\u9996\u5148\uff0c\u6211\u4eec\u627e\u5230 COMMITS \u9762\u677f\uff0c\u7136\u540e\u627e\u5230\u8981\u91cd\u7f6e\u7684\u63d0\u4ea4\uff0c\u70b9\u51fb\u5b83\uff0c\u9009\u62e9\"undo commit\"\u64cd\u4f5c\uff0c\u8fd9\u76f8\u5f53\u4e8e\u6267\u884c\u4e86\u4e00\u4e2a\u201dreset --soft HEAD~\"\u64cd\u4f5c\u3002</p> <p></p> <p>\u5982\u679c\u6211\u4eec\u8fd8\u8981\u53d6\u6d88\"stage\"\u64cd\u4f5c\uff08\u5373 undo add)\uff0c\u5219\u53ef\u4ee5\u5728\u201cSOURCE CONTROLE\u201d\u9762\u677f\u4e2d\uff0c\u627e\u5230 staged changes\uff0c\u518d\u70b9\u51fb\u201cunstage all changes\"\u6309\u94ae\u3002\u540c\u6837\u7684\u64cd\u4f5c\u8fd8\u53ef\u4ee5\u8fd0\u7528\u5728\"Changes\"\u7c7b\u522b\u4e0b\u9762\u7684\u6587\u4ef6\u4e0a\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#45-gutter-change","title":"4.5. gutter change","text":"<p>\u5728\u6211\u4eec\u524d\u9762\u4ecb\u7ecd\u6682\u5b58\u64cd\u4f5c\u65f6\uff0c\u90fd\u662f\u4ee5\u6574\u4e2a\u6587\u4ef6\u4e3a\u5355\u4f4d\u8fdb\u884c\u6682\u5b58\u3002\u4f46\u662f\uff0c\u6709\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u5e94\u8be5\u628a\u67d0\u4e00\u4e2a\u6587\u4ef6\u5206\u4e3a\u51e0\u4e2a\u4e0d\u540c\u7684\u6279\u6b21\u6765\u6dfb\u52a0\u3002\u8fd9\u4e2a\u547d\u4ee4\u5728 git \u4e2d\u79f0\u4e3a\u4ea4\u4e92\u5f0f\u6682\u5b58 (interactive staging)\u3002\u901a\u8fc7\u547d\u4ee4\u884c\u6267\u884c\u6bd4\u8f83\u7e41\u7410\uff0c\u8fd9\u91cc\u6211\u4eec\u4ecb\u7ecd git lens \u4e2d\u7684 gutter change \u529f\u80fd\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>gutter change \u662f\u6307\u5982\u4e0a\u56fe\u6240\u793a\uff0c\u5728\u7f16\u8f91\u533a\u884c\u53f7\u6307\u793a\u53f3\u4fa7\uff0c\u901a\u8fc7\u4e00\u4e2a\u7ebf\u6761\u6765\u6307\u793a\u5f53\u524d\u533a\u57df\u5b58\u5728\u53d8\u66f4\uff0c\u5f53\u4f60\u70b9\u51fb\u8fd9\u4e2a\u7ebf\u6761\u65f6\uff0c\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u663e\u793a\u5f53\u524d\u533a\u57df\u7684\u53d8\u66f4\u5386\u53f2\uff0c\u5e76\u4e14\u5141\u8bb8\u4f60\u4ec5\u5bf9\u8fd9\u51e0\u884c\u53d8\u66f4\u8fdb\u884c\u56de\u6eda\u6216\u8005\u63d0\u4ea4\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#5","title":"5. \u8c01\u5f15\u5165\u4e86\u9519\u8bef\uff1a\u5982\u4f55\u8ffd\u8e2a\u4ee3\u7801\u53d8\u5316\uff08\u6848\u4f8b\uff09","text":"<p>\u5047\u8bbe\u4e00\u7ec4\u4eba\u5171\u540c\u5f00\u53d1\u4e00\u4e2a\u529f\u80fd\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u4eba\u63d0\u4ea4\u4e86\u4e00\u4e2a\u9519\u8bef\u7684\u4ee3\u7801\uff0c\u8fd9\u4e2a\u9519\u8bef\u7684\u4ee3\u7801\u88ab\u5408\u5e76\u5230\u4e86\u4e3b\u5206\u652f\uff0c\u5bfc\u81f4\u4e86\u7ebf\u4e0a\u7684\u6545\u969c\u3002\u4e00\u4e2a\u7d27\u6025\u7684\u4fee\u590d\u7248\u672c\u53d1\u5e03\u540e\uff0c\u95ee\u9898\u4fee\u590d\u4e86\u3002\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u56e2\u961f\u51b3\u5b9a\u5f00\u4e00\u4e2a\u4e8b\u540e\u5206\u6790\u7684\u4f1a\u8bae\uff0c\u5e0c\u671b\u77e5\u9053\u9519\u8bef\u662f\u5982\u4f55\u5f15\u5165\u7684\uff0c\u4eca\u540e\u5982\u4f55\u4e3e\u4e00\u53cd\u4e09\uff0c\u907f\u514d\u7c7b\u4f3c\u9519\u8bef\u3002</p> <p>\u901a\u5e38\uff0c\u5982\u679c\u9519\u8bef\u4ee3\u7801\u8fd8\u7559\u5728\u5f53\u524d\u7684\u4ee3\u7801\u4e2d\uff0c\u663e\u7136\u6211\u4eec\u53ea\u8981\u901a\u8fc7 git blame \u5c31\u53ef\u4ee5\u77e5\u9053\u662f\u8c01\u63d0\u4ea4\u7684\u3002\u5982\u679c\u5b89\u88c5\u4e86 git lens\uff0c\u53ea\u9700\u8981\u5c06\u9f20\u6807\u79fb\u52a8\u5230\u8be5\u884c\u4ee3\u7801\u672b\u5c3e\uff0cgit lens \u5c31\u4f1a\u663e\u793a\u8be5\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\u5386\u53f2\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u4f46\u662f\uff0c\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u4fee\u590d\u4e86\u8be5\u9519\u8bef\u4ee3\u7801\uff0c\u5e76\u4e14\u4e5f\u8fc7\u53bb\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u6240\u4ee5\u8be5\u6bb5\u4ee3\u7801\u5df2\u7ecf\u4ece\u4ee3\u7801\u4e2d\u5220\u9664\u4e86\u3002\u73b0\u5728\uff0c\u60df\u4e00\u7684\u7ebf\u7d22\uff0c\u5c31\u662f\u53ea\u77e5\u9053\u53ef\u80fd\u662f\u4e00\u4e2a\u9519\u8bef\u7684\u5b57\u7b26\u4e32\u5f15\u8d77\u4e86\u8fd9\u4e2a bug\u3002\u90a3\u4e48\uff0c\u5982\u4f55\u901a\u8fc7\u8fd9\u4e2a\u5b57\u7b26\u4e32\u6765\u641c\u7d22\u5462\uff1f</p> <p>\u7b54\u6848\u662f git log \u547d\u4ee4+git blame \u547d\u4ee4\u3002 <pre><code>$ git log -S \"hotfix 533\" -p --all\ncommit 8e24fd76282a9e876fe3ceed4e95908d4d4300fd (HEAD -&gt; main)\nAuthor: aaron yang &lt;aaron_yang@jieyu.ai&gt;\nDate:   Wed Jan 25 20:18:30 2023 +0800\n\n    test\n\ndiff --git a/README.md b/README.md\nindex 8a5ccfb..909d4f6 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,5 +1,6 @@\n # SAMPLE\n\n+this is hotfix 533\n\n &lt;p align=\"center\"&gt;\n &lt;a href=\"https://pypi.python.org/pypi/sample\"&gt;\n\ncommit e5cb519e57d131f23acea92fe46f39a21319a570 (origin/hotfix_534, hotfix_534)\nAuthor: aaron yang &lt;aaron_yang@jieyu.ai&gt;\nDate:   Tue Jan 24 20:58:02 2023 +0800\n\n    \ud83d\udc1e fix: fix\n\ndiff --git a/README.md b/README.md\nindex 8a5ccfb..2539c76 100644\n--- a/README.md\n+++ b/README.md\n@@ -1,5 +1,6 @@\n # SAMPLE\n\n+this is hotfix 534, should be conflict with hotfix 533\n</code></pre> \u5171\u6709\u4e24\u4e2a\u63d0\u4ea4\u5305\u542b\u5b57\u7b26\u4e32\"hotfix 533\"\u3002\u6211\u4eec\u66f4\u5173\u5fc3 8e24 \u8fd9\u4e2a\u63d0\u4ea4\u4e2d\u7684\u53d8\u66f4\u662f\u8c01\u5f15\u5165\u7684\uff0c\u4e8e\u662f\u6211\u4eec\u4f7f\u7528 git blame \u547d\u4ee4\u6765\u67e5\u770b\u8be5\u63d0\u4ea4\u7684\u53d8\u66f4\u5386\u53f2\uff1a <pre><code>$ git blame\n8e24fd76 (aaron yang 2023-01-25 20:18:30 +0800  3) this is hotfix 533\n</code></pre> \u62ec\u53f7\u5185\u663e\u793a\u4e86\u8be5\u884c\u4ee3\u7801\u7684\u63d0\u4ea4\u8005\u548c\u63d0\u4ea4\u65f6\u95f4\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u53bb\u95ee\u95ee\u4ed6\uff0c\u5f53\u65f6\u5f15\u5165\u8fd9\u884c\u4ee3\u7801\u7684\u8003\u8651\u662f\u4ec0\u4e48\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#6-github-github-cli","title":"6. Github \u548c github cli","text":"<p>GitHub \u662f\u4e00\u4e2a\u5728\u7ebf\u8f6f\u4ef6\u6e90\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u5e73\u53f0\uff0c\u4f7f\u7528 Git \u4f5c\u4e3a\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\uff0c\u7531\u5f00\u53d1\u8005 Chris Wanstrath\u3001P. J. Hyett \u548c\u6c64\u59c6\u00b7\u666e\u96f7\u65af\u987f\u00b7\u6c83\u7eb3\u4f7f\u7528 Ruby on Rails \u7f16\u5199\u800c\u6210\u3002Github \u5f00\u59cb\u4e8e 2007 \u5e74 10 \u6708 1 \u65e5\uff0c 2008 \u5e74 4 \u6708\u6b63\u5f0f\u4e0a\u7ebf\u3002\u5728 2018 \u5e74\uff0cGitHub \u88ab\u5fae\u8f6f\u516c\u53f8\u6536\u8d2d\u3002</p> <p>Github \u9664\u4e86\u5141\u8bb8\u4e2a\u4eba\u548c\u7ec4\u7ec7\u8fdb\u884c\u7248\u672c\u7ba1\u7406\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e86\u67d0\u4e9b\u793e\u4ea4\u529f\u80fd\uff0c\u5305\u62ec\u5141\u8bb8\u8ffd\u8e2a (follow) \u5176\u4ed6\u7528\u6237\u3001\u7ec4\u7ec7\u3001\u8f6f\u4ef6\u5e93\u7684\u52a8\u6001\uff0c\u5bf9\u8f6f\u4ef6\u4ee3\u7801\u7684\u6539\u52a8\u548c bug \u63d0\u51fa\u8bc4\u8bba\u7b49\u3002GitHub \u4e5f\u63d0\u4f9b\u4e86\u56fe\u8868\u529f\u80fd\uff0c\u7528\u4e8e\u663e\u793a\u5f00\u53d1\u8005\u4eec\u600e\u6837\u5728\u4ee3\u7801\u5e93\u4e0a\u5de5\u4f5c\u4ee5\u53ca\u8f6f\u4ef6\u7684\u5f00\u53d1\u6d3b\u8dc3\u7a0b\u5ea6\u3002</p> <p>Info</p> <p>\u636e\u7edf\u8ba1\uff0cgithub \u7528\u6237\u4e2d\uff0c\u7537\u6027\u7fa4\u4f53\u9ad8\u8fbe 95%\u4ee5\u4e0a\uff0c\u56e0\u6b64 Github \u4e5f\u5e38\u88ab\u7f51\u53cb\u620f\u79f0\u4e3a Gayhub\uff0c\u5168\u7403\u6700\u5927\u540c\u6027\u4ea4\u53cb\u7f51\u7ad9\u3002</p> <p>\u622a\u81f3 2022 \u5e74 6 \u6708\uff0cGitHub \u5df2\u7ecf\u6709\u8d85\u8fc7 5700 \u4e07\u6ce8\u518c\u7528\u6237\u548c 1.9 \u4ebf\u4ee3\u7801\u5e93\uff08\u5305\u62ec\u81f3\u5c11 2800 \u4e07\u5f00\u6e90\u4ee3\u7801\u5e93\uff09\uff0c\u4e8b\u5b9e\u4e0a\u5df2\u7ecf\u6210\u4e3a\u4e86\u4e16\u754c\u4e0a\u6700\u5927\u7684\u4ee3\u7801\u6258\u7ba1\u7f51\u7ad9\u548c\u5f00\u6e90\u793e\u533a\u3002\u5b83\u6258\u7ba1\u7684\u5de8\u5927\u6e90\u4ee3\u7801\u5e93\uff0c\u4e5f\u6210\u4e3a copilot \u7684\u8bad\u7ec3\u6570\u636e\u96c6\u3002</p> <p>\u9664\u4e86\u4f5c\u4e3a Git \u7684\u6258\u7ba1\u670d\u52a1\u5e73\u53f0\u5916\uff0cgithub \u8fd8\u63d0\u4f9b\u4e86 Github pages \u7f51\u9875\u6258\u7ba1\u670d\u52a1\uff08\u53ef\u5b58\u653e\u9759\u6001\u7f51\u9875\uff0c\u5305\u62ec\u535a\u5ba2\u3001\u9879\u76ee\u6587\u6863\u751a\u81f3\u6574\u672c\u4e66\uff09\uff1bcodespace \u5728\u7ebf\u5f00\u53d1\u73af\u5883\u548c Github actions CI \u7b49\u670d\u52a1\u3002 </p> <p>Github \u7f51\u9875\u7248\u7684\u529f\u80fd\u7559\u7ed9\u8bfb\u8005\u81ea\u5df1\u63a2\u7d22\u3002\u8fd9\u91cc\u4e3b\u8981\u8bb2\u89e3\u4e0b Github cli \u7684\u529f\u80fd\u548c\u7528\u6cd5\u3002</p> <p>\u9664\u4e86\u7f51\u9875\u4e4b\u5916\uff0cGithub \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b REST \u98ce\u683c\u7684 API \u4f9b\u5927\u5bb6\u4f7f\u7528\uff0c\u73b0\u5728\u53ef\u4ee5\u4f7f\u7528\u7684 API \u7248\u672c\u79f0\u4e3a V3\u3002\u901a\u8fc7\u8fd9\u4e9b API\uff0c\u6211\u4eec\u53ef\u4ee5\u7ba1\u7406\u4ed3\u5e93\u3001\u8bbf\u95ee\u7528\u6237\u3001\u6784\u5efa\u548c\u89e6\u53d1 CI\u3001\u7ba1\u7406 issue \u7b49\u3002</p> <p>\u8fd9\u4e9b API\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 curl \u6765\u5b8c\u6210\u4e0a\u8ff0\u529f\u80fd\u3002Github \u8fd8\u57fa\u4e8e\u8fd9\u4e9b API\uff0c\u5f00\u53d1\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0cgithub cli\uff0c\u7b80\u79f0 gh\u3002</p>"},{"location":"articles/python/best-practice-python/chap08/#61","title":"6.1. \u5b89\u88c5","text":"<p>\u5728 mac \u4e0b\u5b89\u88c5 gh\uff0c\u53ef\u4ee5\u4f7f\u7528 brew \u5b89\u88c5\uff1a <pre><code>$ brew install gh\n</code></pre></p> <p>\u5728 linux \u548c bsd \u4e0b\u5b89\u88c5\uff0c\u5982\u679c\u662f Debian, Ubuntu Linux, Raspberry Pi OS \u7b49\u57fa\u4e8e apt \u7684\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528 apt \u5b89\u88c5\uff1a <pre><code>type -p curl &gt;/dev/null || sudo apt install curl -y\ncurl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg \\\n&amp;&amp; sudo chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg \\\n&amp;&amp; echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main\" | sudo tee /etc/apt/sources.list.d/github-cli.list &gt; /dev/null \\\n&amp;&amp; sudo apt update \\\n&amp;&amp; sudo apt install gh -y\n</code></pre> \u5982\u679c\u662f Fedora, CentOS, Red Hat Enterprise Linux \u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\uff0c\u53ef\u4ee5\u4f7f\u7528 dnf: <pre><code>$ sudo dnf install 'dnf-command(config-manager)'\n$ sudo dnf config-manager --add-repo https://cli.github.com/packages/rpm/gh-cli.repo\n$ sudo dnf install gh\n</code></pre> \u5982\u679c\u60a8\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u5728\u6b64\u5217\uff0c\u53ef\u4ee5\u53c2\u8003 installing gh on Linux and BSD \u8fd9\u7bc7\u6587\u7ae0\u3002</p> <p>\u5982\u679c\u662f windows\uff0c\u53ef\u4ee5\u901a\u8fc7 winget, scoop, Chocolatey \u7b49\u5305\u7ba1\u7406\u5de5\u5177\u5b89\u88c5\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d \u5b89\u88c5\u5305 \u5b89\u88c5\u3002</p> <p>\u6700\u540e\uff0c\u5982\u679c\u5728\u6240\u6709\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5982\u679c\u60a8\u5df2\u7ecf\u5b89\u88c5\u4e86 conda\uff0c\u5219\u4e5f\u53ef\u4ee5\u901a\u8fc7 conda \u6765\u5b89\u88c5\uff1a <pre><code>$ conda install -c conda-forge gh\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap08/#62-github-cli","title":"6.2. Github cli \u7684\u4e3b\u8981\u547d\u4ee4","text":"<p>Github cli \u7684\u4e3b\u8981\u547d\u4ee4\u6709\uff1a <pre><code>auth:        \u5b8c\u6210 gh \u548c git \u5728 github \u4e0a\u7684\u9274\u6743\ncodespace:   \u8fde\u63a5\u5e76\u7ba1\u7406 codespace\ngist:        \u7ba1\u7406 gists\uff0c\u4e3b\u8981\u662f\u589e\u5220\u6539\u67e5\u7684\u4e00\u4e9b\u52a8\u4f5c\nissue:       \u7ba1\u7406 issue\uff0c\u5305\u62ec\u67e5\u770b\u3001\u7f16\u8f91\u3001\u8bc4\u8bba\u3001\u5173\u95ed\u548c\u91cd\u65b0\u6253\u5f00\u3001\u79fb\u4ea4\u7b49 16 \u4e2a\u5b50\u547d\u4ee4\npr:          \u7ba1\u7406 pull request\uff0c\u5305\u62ec checkout, close, diff, edit \u7b49 16 \u4e2a\u5b50\u547d\u4ee4\nrelease:     \u7ba1\u7406\u7248\u672c\u53d1\u5e03\uff0c\u5305\u62ec\u589e\u5220\u6539\u67e5\u7b49 8 \u4e2a\u5b50\u547d\u4ee4\nrepo:        \u7ba1\u7406\u5b58\u50a8\u5e93\uff0c\u5305\u62ec\u514b\u9686\u3001\u521b\u5efa\u3001\u5220\u9664\u3001\u540c\u6b65\u7b49 15 \u4e2a\u5b50\u547d\u4ee4\nrun:         \u67e5\u770b\u3001\u5217\u51fa\u3001\u76d1\u63a7\u6700\u8fd1\u6267\u884c\u7684 Github actions\nworkflow:    \u5217\u51fa\u3001\u67e5\u770b\u3001\u542f\u7528\u548c\u505c\u6b62\u5b9a\u4e49\u4e2d\u7684 workflow\u3002\u4e0e run \u76f8\u6bd4\uff0c\u76f8\u5f53\u4e8e\u7a0b\u5e8f\u4e0e\u8fdb\u7a0b\u7684\u5173\u7cfb\u3002\nalias:       \u7ba1\u7406\u547d\u4ee4\u522b\u540d\uff0c\u6216\u8005\u8bf4\u662f\u547d\u4ee4\u7684\u5feb\u6377\u65b9\u5f0f\nconfig:      gh \u7684\u8bbe\u7f6e\u547d\u4ee4\nextension:   \u7ba1\u7406 gh \u7684\u6269\u5c55\nlabel:       \u7ba1\u7406\u4ed3\u5e93\u4e2d\u8ddf issue \u76f8\u5173\u7684\u6807\u7b7e\u3002\nsearch:      \u641c\u7d22\u4ed3\u5e93\uff0cissue \u548c pr\u3002\u7528\u6cd5\u4e3e\u4f8b\uff1a\u641c\u7d22 python \u4e3b\u9898\u4e0b\u70b9\u8d5e\u6570\u6700\u591a\u7684\u4ed3\u5e93\u3002\nsecret:      \u7ba1\u7406\u8ddf\u4ed3\u5e93\u5173\u8054\u7684\u4e00\u4e9b\u673a\u5bc6\u4fe1\u606f\nssh-key:     \u7ba1\u7406 ssh \u79d8\u94a5\nstatus:      \u663e\u793a\u672c\u8d26\u53f7\u5173\u8054\u7684 issue\uff0cpr \u72b6\u6001\u548c\u6700\u8fd1\u7684\u6d3b\u52a8\n</code></pre> \u9664\u4e0a\u9762\u7684\u547d\u4ee4\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u4e13\u95e8\u4ecb\u7ecd api \u8fd9\u4e2a\u547d\u4ee4\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u53d1\u8d77\u4e00\u4e2a Github API \u8bf7\u6c42\uff0c\u56e0\u4e3a gh \u5df2\u7ecf\u9274\u6743\u4e86\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8bf7\u6c42\u53ef\u4ee5\u514d\u9274\u6743\u3002gh \u652f\u6301\u7684\u547d\u4ee4\u662f\u6709\u9650\u7684\uff0c\u901a\u8fc7 api \u8fd9\u4e2a\u547d\u4ee4\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9 gh \u8fdb\u884c\u6269\u5c55\uff0c\u6bd4\u5982\uff0c\u8981\u83b7\u53d6 Github \u7528\u6237\u5217\u8868\uff1a <pre><code>$ gh api users\n[\n  {\n    \"login\": \"mojombo\",\n    \"id\": 1,\n    \"node_id\": \"MDQ6VXNlcjE=\",\n    \"avatar_url\": \"https://avatars.githubusercontent.com/u/1?v=4\",\n    \"gravatar_id\": \"\",\n    \"url\": \"https://api.github.com/users/mojombo\",\n    \"html_url\": \"https://github.com/mojombo\",\n    \"followers_url\": \"https://api.github.com/users/mojombo/followers\",\n    \"following_url\": \"https://api.github.com/users/mojombo/following{/other_user}\",\n    \"gists_url\": \"https://api.github.com/users/mojombo/gists{/gist_id}\",\n    \"starred_url\": \"https://api.github.com/users/mojombo/starred{/owner}{/repo}\",\n    \"subscriptions_url\": \"https://api.github.com/users/mojombo/subscriptions\",\n    \"organizations_url\": \"https://api.github.com/users/mojombo/orgs\",\n    \"repos_url\": \"https://api.github.com/users/mojombo/repos\",\n    \"events_url\": \"https://api.github.com/users/mojombo/events{/privacy}\",\n    \"received_events_url\": \"https://api.github.com/users/mojombo/received_events\",\n    \"type\": \"User\",\n    \"site_admin\": false\n  },\n  {\n    \"login\": \"defunkt\",\n    \"id\": 2,\n    \"node_id\": \"MDQ6VXNlcjI=\",\n    \"avatar_url\": \"https://avatars.githubusercontent.com/u/2?v=4\",\n    \"gravatar_id\": \"\",\n    \"url\": \"https://api.github.com/users/defunkt\",\n    \"html_url\": \"https://github.com/defunkt\",\n    \"followers_url\": \"https://api.github.com/users/defunkt/followers\",\n    \"following_url\": \"https://api.github.com/users/defunkt/following{/other_user}\",\n    \"gists_url\": \"https://api.github.com/users/defunkt/gists{/gist_id}\",\n    \"starred_url\": \"https://api.github.com/users/defunkt/starred{/owner}{/repo}\",\n    \"subscriptions_url\": \"https://api.github.com/users/defunkt/subscriptions\",\n    \"organizations_url\": \"https://api.github.com/users/defunkt/orgs\",\n    \"repos_url\": \"https://api.github.com/users/defunkt/repos\",\n    \"events_url\": \"https://api.github.com/users/defunkt/events{/privacy}\",\n    \"received_events_url\": \"https://api.github.com/users/defunkt/received_events\",\n    \"type\": \"User\",\n    \"site_admin\": false\n  },\n  ...\n]\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap08/#63-github-cli","title":"6.3. Github cli \u5e94\u7528\u4e3e\u4f8b","text":"<p>Github cli \u53ef\u4ee5\u65b9\u4fbf\u6211\u4eec\u5bf9\u8d26\u6237\u548c\u4ed3\u5e93\u6267\u884c\u4e00\u4e9b\u81ea\u52a8\u5316\u7684\u64cd\u4f5c\u3002\u5728 ppw \u521b\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u6709\u4e00\u4e2a\u540d\u4e3a repo.sh \u7684\u811a\u672c\uff0c\u8fd9\u91cc\u9762\u5c31\u4f7f\u7528\u4e86 Github cli\u3002</p> <p>\u5f53 ppw \u751f\u6210\u4e86\u6846\u67b6\u4ee3\u7801\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u628a\u5b83\u63d0\u4ea4\u5230 Github \u4e0a\u53bb\u3002\u7531\u4e8e\u6b64\u65f6 Github \u4e0a\u8fd8\u6ca1\u6709\u8fd9\u4e2a\u4ed3\u5e93\uff0c\u6211\u4eec\u5fc5\u987b\u7b49\u7528\u6237\u624b\u52a8\u521b\u5efa\uff0c\u56e0\u6b64\u8fd9\u4e2a\u63d0\u4ea4\u4e5f\u6ca1\u6cd5\u81ea\u52a8\u5316\u3002\u5f53\u6211\u4eec\u4f7f\u7528\u4e86 Github cli \u4e4b\u540e\uff0c\u8fd9\u4e2a\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\uff1a <pre><code># \u8c03\u7528 GH \u547d\u4ee4\u521b\u5efa\u4ed3\u5e93\n$ gh repo create sample --public\n\n# \u7531\u4e8e\u4ed3\u5e93\u662f GH \u521b\u5efa\u7684\uff0c\u56e0\u6b64\u811a\u672c\u5c31\u77e5\u9053\u8fdc\u7a0b\u670d\u52a1\u5668 URL\n$ git remote add origin git@github.com:zillionare/sample.git\n\n$ git remote add origin git@github.com:zillionare/sample.git\n</code></pre></p> <p>\u53e6\u5916\uff0c\u901a\u8fc7 Github \u7684 web \u754c\u9762\u6765\u8bbe\u7f6e\u4ed3\u5e93\u7684\u4e00\u4e9b\u673a\u5bc6\u4fe1\u606f\u6bd4\u8f83\u7e41\u7410\uff0c\u8017\u65f6\u8f83\u957f\u3002\u5047\u8bbe\u4f60\u7ba1\u7406\u4e86 10 \u4e2a\u4ee5\u4e0a\u7684\u4ed3\u5e93\uff0c\u8fd8\u8981\u5b9a\u671f\u66f4\u6362\u8fd9\u4e9b\u673a\u5bc6\u4fe1\u606f\u7684\u8bdd\u5c31\u66f4\u662f\u5982\u6b64\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 gh secret \u547d\u4ee4\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6458\u5f55\u81ea repo.sh\uff1a <pre><code>gh secret set PERSONAL_TOKEN --body $GH_TOKEN\ngh secret set PYPI_API_TOKEN --body $PYPI_API_TOKEN\ngh secret set TEST_PYPI_API_TOKEN --body $TEST_PYPI_API_TOKEN\n\ngh secret set BUILD_NOTIFY_MAIL_SERVER --body $BUILD_NOTIFY_MAIL_SERVER\ngh secret set BUILD_NOTIFY_MAIL_PORT --body $BUILD_NOTIFY_MAIL_PORT\ngh secret set BUILD_NOTIFY_MAIL_FROM --body $BUILD_NOTIFY_MAIL_FROM\ngh secret set BUILD_NOTIFY_MAIL_PASSWORD --body $BUILD_NOTIFY_MAIL_PASSWORD\ngh secret set BUILD_NOTIFY_MAIL_RCPT --body $BUILD_NOTIFY_MAIL_RCPT\n</code></pre></p> <p>\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5f53 CI \u8fd0\u884c\u65f6\uff0c\u9700\u8981\u6709 pypi \u548c test.pypi \u7684 API key, \u53d1\u5e03\u6587\u6863\u65f6\u9700\u8981 Github \u7684 API key, \u4ee5\u53ca CI \u5b8c\u6210\u65f6\uff0c\u9700\u8981\u53d1\u9001\u90ae\u4ef6\u901a\u77e5\uff0c\u8fd9\u9700\u8981\u914d\u7f6e\u76f8\u5173\u670d\u52a1\u5668\u4fe1\u606f\u53ca\u53d1\u4ef6\u4eba\u3001\u6536\u4ef6\u4eba\u4fe1\u606f\u7b49\u8bf8\u591a\u654f\u611f\u4fe1\u606f\u3002</p> <p>\u901a\u8fc7\u4e0a\u8ff0\u811a\u672c\uff0c\u6211\u4eec\u628a\u5f53\u524d\u5bbf\u4e3b\u673a\u4e0a\u7684\u73af\u5883\u53d8\u91cf\u5bfc\u5165\u5230\u4e86\u4ed3\u5e93\u7684\u673a\u5bc6\u4fe1\u606f\u4e2d\uff0c\u8fd9\u6837\u5728 Github actions \u4e2d\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e86\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u65e2\u4fdd\u8bc1\u4e86\u65b9\u4fbf\uff0c\u53c8\u4fdd\u8bc1\u4e86\u673a\u5bc6\u4fe1\u606f\u7684\u5b89\u5168\u6027\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/","title":"09 \u6301\u7eed\u96c6\u6210","text":"<p>\u5f53\u4e00\u7ec4\u5f00\u53d1\u8005\u5171\u540c\u5f00\u53d1\u4e00\u4e2a\u9879\u76ee\u65f6\uff0c\u5404\u79cd\u51b2\u7a81\u4f3c\u4e4e\u4e0d\u53ef\u907f\u514d\u3002\u6211\u4eec\u5728\u7b2c 8 \u7ae0\u4ecb\u7ecd\u4e86\u5206\u652f\u548c gitflow \u5de5\u4f5c\u6d41\u6a21\u578b\uff0c\u4ece\u800c\u89e3\u51b3\u4e86\u4ee3\u7801\u51b2\u7a81\u7684\u95ee\u9898\u3002\u4f46\u662f\uff0c\u4ee3\u7801\u5408\u5e76\u53ea\u80fd\u8fbe\u5230\u8868\u9762\u4e0a\u7684\u548c\u8c10\u3002\u4e0d\u540c\u7684\u4eba\u5f00\u53d1\u7684\u4ee3\u7801\u80fd\u5426\u534f\u540c\u5de5\u4f5c\uff0c\u6700\u7ec8\u8fd8\u5f97\u901a\u8fc7\u6d4b\u8bd5\u6765\u68c0\u9a8c\u3002</p> <p>\u5728\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u7684\u5f00\u53d1\u6d41\u7a0b\u4e2d\uff0c\u5f00\u53d1\u8005\u5728\u7b7e\u5165\u4ee3\u7801\u5e76\u63a8\u9001\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e4b\u524d\uff0c\u5e94\u8be5\u901a\u8fc7 tox \u6267\u884c\u7684\u5355\u5143\u6d4b\u8bd5\u548c\u4ee3\u7801\u68c0\u67e5\u3002\u4f46\u662f\uff0c\u5982\u679c\u5f00\u53d1\u8005\u6709\u610f\u5ffd\u7565\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u4e0d\u826f\u4ee3\u7801\u4ecd\u7136\u80fd\u6e9c\u8fdb\u4ed3\u5e93\u3002\u6b64\u5916\uff0c\u5c3d\u7ba1\u6211\u4eec\u865a\u62df\u5316\u4e86\u6d4b\u8bd5\u73af\u5883\uff0c\u4f46\u4ecd\u7136\u6709\u53ef\u80fd\u53d1\u751f\u8fd9\u6837\u7684\u60c5\u51b5\uff1a\u5728\u4e00\u540d\u5f00\u53d1\u8005\u673a\u5668\u4e0a\u901a\u8fc7\u7684\u6d4b\u8bd5\uff0c\u4e0d\u80fd\u5728\u53e6\u4e00\u4e2a\u73af\u5883\u91cc\u8fd0\u884c\u3002\u6bd4\u5982\uff0c\u53ef\u80fd\u5f15\u5165\u4e86\u65b0\u7684\u914d\u7f6e\u9879\uff0c\u8fd9\u4e9b\u914d\u7f6e\u9879\u5b58\u5728\u4e8e\u672c\u5730\u73af\u5883\uff0c\u4f46\u5176\u4ed6\u4eba\u5e76\u4e0d\u77e5\u9053\uff1b\u6216\u8005\u66f4\u6539\u4e86\u672c\u5730\u6570\u636e\u5e93\uff0c\u4f46\u76f8\u5e94\u7684\u53d8\u66f4\u811a\u672c\u5e76\u6ca1\u6709\u96c6\u6210\u8fdb\u6765\uff0c\u7b49\u7b49\u3002\u5982\u679c\u53ea\u8981\u6709\u65b0\u7684\u4ee3\u7801\u7b7e\u5165\uff0c\u5c31\u80fd\u5728\u4e00\u53f0\u516c\u5171\u673a\u5668\u4e0a\u81ea\u52a8\u6267\u884c\u6240\u6709\u6d4b\u8bd5\u4ee5\u786e\u4fdd\u4ee3\u7801\u6b63\u786e\u6027\uff0c\u663e\u7136\u53ef\u4ee5\u66f4\u65e9\u5730\u53d1\u73b0\u95ee\u9898\uff0c\u964d\u4f4e\u540e\u671f\u7ef4\u62a4\u6210\u672c\u3002\u8fd9\u5c31\u662f\u6301\u7eed\u96c6\u6210\u7684\u610f\u4e49\u6240\u5728\u3002</p> <p>\u6301\u7eed\u96c6\u6210\u662f\u4e00\u79cd DevOps \u8f6f\u4ef6\u5f00\u53d1\u5b9e\u8df5\u3002\u91c7\u7528\u6301\u7eed\u96c6\u6210\u65f6\uff0c\u5f00\u53d1\u4eba\u5458\u4f1a\u5b9a\u671f\u5c06\u4ee3\u7801\u53d8\u66f4\u5408\u5e76\u5230\u4e00\u4e2a\u4e2d\u592e\u5b58\u50a8\u5e93\u4e2d\uff0c\u4e4b\u540e\u7cfb\u7edf\u4f1a\u81ea\u52a8\u8fd0\u884c\u6784\u5efa\u548c\u6d4b\u8bd5\u64cd\u4f5c\u3002\u6301\u7eed\u96c6\u6210\u901a\u5e38\u662f\u6307\u8f6f\u4ef6\u53d1\u5e03\u6d41\u7a0b\u7684\u6784\u5efa\u6216\u96c6\u6210\u9636\u6bb5\uff0c\u9700\u8981\u7528\u5230\u81ea\u52a8\u5316\u7ec4\u4ef6\uff08\u4f8b\u5982 CI \u6216\u6784\u5efa\u670d\u52a1\uff09\u548c\u6587\u5316\u7ec4\u4ef6\uff08\u6307\u7ec4\u7ec7\u7684\u6d41\u7a0b\u548c\u89c4\u8303\u7b49\uff0c\u4f8b\u5982\u5b66\u4e60\u9891\u7e41\u5730\u96c6\u6210\uff09\u3002\u6301\u7eed\u96c6\u6210\u7684\u4e3b\u8981\u76ee\u6807\u662f\u66f4\u5feb\u53d1\u73b0\u5e76\u89e3\u51b3\u7f3a\u9677\uff0c\u63d0\u9ad8\u8f6f\u4ef6\u8d28\u91cf\uff0c\u5e76\u51cf\u5c11\u9a8c\u8bc1\u548c\u53d1\u5e03\u65b0\u8f6f\u4ef6\u66f4\u65b0\u6240\u9700\u7684\u65f6\u95f4\u3002</p> <p>Info</p> <p>\u6301\u7eed\u96c6\u6210\u5f3a\u8c03\u7684\u6587\u5316\u662f\uff1aFail fast, fail often\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u4e00\u65e6\u6784\u5efa\u8d77\u826f\u597d\u7684 CI/CD \u6d41\u6c34\u7ebf\u548c\u6587\u5316\uff0c\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u7684\u5c06\u662f Move fast and don't break things\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#1-ci","title":"1. \u76d8\u70b9 CI \u8f6f\u4ef6\u548c\u5728\u7ebf\u670d\u52a1","text":"<p>\u6211\u4eec\u5148\u6765\u8ba4\u8bc6\u4e00\u4e0b\u6301\u7eed\u96c6\u6210\u9886\u57df\u7684\u5934\u90e8\u73a9\u5bb6\u3002Jekins \u662f\u6301\u7eed\u96c6\u6210\u9886\u57df\u7684\u8001\u5927\u54e5\uff0c\u81ea\u8bde\u751f\u4e4b\u65e5\u8d77\uff0c\u81f3\u4eca\u5df2\u53d1\u5c55\u4e86\u8fd1 20 \u5e74\uff0c\u793e\u533a\u3001\u751f\u6001\u6700\u4e3a\u5b8c\u5584\u3002Gitlab \u6700\u521d\u662f\u57fa\u4e8e Git \u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u81ea\u7248\u672c 8.0 \u8d77\uff0c\u5f00\u59cb\u63d0\u4f9b\u6301\u7eed\u96c6\u6210\u529f\u80fd\u3002\u5176\u4f18\u70b9\u662f\u4e0e\u4ee3\u7801\u4ed3\u5e93\u65e0\u7f1d\u96c6\u6210\uff0c\u539f\u751f\u5730\u652f\u6301\u4ee3\u7801\u4ed3\u5e93\u5404\u7c7b\u4e8b\u4ef6\u89e6\u53d1\u6d41\u6c34\u7ebf\u3002\u4e0d\u8db3\u4e4b\u5904\u662f\uff0c\u65e0\u8bba Jekins \u8fd8\u662f Gitlab\uff0c\u90fd\u9700\u8981\u81ea\u5df1\u642d\u5efa\u670d\u52a1\u5668\uff0c\u8fd9\u5bf9\u4e8e\u5f00\u6e90\u9879\u76ee\u548c\u4e2a\u4eba\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u6210\u672c\u592a\u9ad8\u4e86\u3002</p> <p>\u6784\u5efa CI \u670d\u52a1\u5668\u7684\u6210\u672c\u662f\u6602\u8d35\u7684\u3002\u5728\u865a\u62df\u673a\u6ca1\u6709\u5e7f\u6cdb\u5e94\u7528\u4e4b\u524d\uff0c\u8fd9\u4e2a\u6210\u672c\u5c31\u66f4\u4e3a\u6602\u8d35\u3002\u4f60\u9700\u8981\u4e3a\u4f60\u7684\u5e94\u7528\u5c06\u8981\u90e8\u7f72\u5230\u7684\u6bcf\u4e00\u79cd\u64cd\u4f5c\u7cfb\u7edf\u51c6\u5907\u81f3\u5c11\u4e00\u53f0\u673a\u5668\u3002\u5982\u679c\u4f60\u7684\u5e94\u7528\u9700\u8981\u90e8\u7f72\u5230\u4ece windows\u3001 Linux \u5230 Macos \u4e0a\u7684\u5404\u4e2a\u7248\u672c\uff0c\u4f60\u53ef\u80fd\u5c31\u9700\u8981\u51c6\u5907\u81f3\u5c11\u5341\u53f0\u4ee5\u4e0a\u7684\u673a\u5668\u786c\u4ef6\u3002\u865a\u62df\u5316\u7684\u51fa\u73b0\u5927\u5927\u964d\u4f4e\u4e86 CI \u7684\u6210\u672c\uff0c\u968f\u540e\u662f\u5bb9\u5668\u5316\u7684\u51fa\u73b0\uff0c\u8fdb\u4e00\u6b65\u964d\u4f4e\u4e86 CI \u7684\u6210\u672c\u3002\u4f46\u662f\uff0c\u5373\u4fbf\u662f\u8fd9\u6837\uff0c\u5bf9\u5f00\u6e90\u9879\u76ee\uff0c\u81ea\u884c\u642d\u5efa\u548c\u7ef4\u62a4 CI \u670d\u52a1\u5668\u7684\u6210\u672c\u4ecd\u7136\u662f\u6602\u8d35\u7684\u3002\u6bd4\u5982\uff0c\u5982\u679c\u4f60\u7684\u5e94\u7528\u9700\u8981\u90e8\u7f72\u5230 MacOs \u4e0a\uff0c\u4f60\u5fc5\u987b\u81f3\u5c11\u6709\u4e00\u5230\u591a\u53f0\u82f9\u679c\u7684\u670d\u52a1\u5668\uff0c\u56e0\u4e3a\u5176\u5b83\u673a\u5668\u4e0a\u90fd\u65e0\u6cd5\u865a\u62df\u5316\u51fa\u6765 macos \u7684\u5bb9\u5668\u3002</p> <p>\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u63a8\u8350\u4f7f\u7528\u5728\u7ebf CI \u670d\u52a1\u7684\u539f\u56e0\u3002\u597d\u6d88\u606f\u662f\uff0c\u5bf9\u5f00\u6e90\u9879\u76ee\uff0c\u6709\u76f8\u5f53\u591a\u7684\u5728\u7ebf CI \u670d\u52a1\u662f\u514d\u8d39\u7684\u3002\u8fd9\u91cc\u6211\u4eec\u4ec5\u4ec5\u4ecb\u7ecd Travis CI \u548c Github Actions\u3002</p> <p>Travis CI \u662f\u4e00\u4e2a\u57fa\u4e8e\u4e91\u7684\u6301\u7eed\u96c6\u6210\u670d\u52a1\uff0c\u5b83\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u5728 Github \u4e0a\u6784\u5efa\u548c\u6d4b\u8bd5\u4ee3\u7801\uff0c\u4ece\u800c\u51cf\u5c11\u53d1\u5e03\u8f6f\u4ef6\u7684\u65f6\u95f4\u3002Travis CI \u4e3a\u5f00\u6e90\u9879\u76ee\u63d0\u4f9b\u4e86\u4e00\u5b9a\u91cf\u7684\u670d\u52a1\u65f6\u95f4\uff0c\u5bf9\u4e8e\u79c1\u6709\u9879\u76ee\uff0c\u5219\u9700\u8981\u4ed8\u8d39--\u8d77\u4ef7\u662f\u6bcf\u6708 69 \u7f8e\u5143\u3002\u8fd9\u4e2a\u5b9a\u4ef7\u672c\u8eab\u4e5f\u8bf4\u660e\u4e86\u6301\u7eed\u96c6\u6210\u7684\u4ef7\u503c\uff0c\u4ee5\u53ca\u8981\u5b9e\u73b0\u6301\u7eed\u96c6\u6210\uff0c\u6240\u9700\u8981\u6d88\u8017\u7684\u8d44\u6e90\u3002</p> <p>Github Actions \u662f Github \u5728 2020 \u5e74\u524d\u540e\u63a8\u51fa\u7684\u6301\u7eed\u96c6\u6210\u670d\u52a1\uff0c\u5b83\u7684\u4f18\u70b9\u540c gitlab CI \u4e00\u6837\uff0c\u4e5f\u5728\u4e8e\u4e0e\u4ee3\u7801\u6258\u7ba1\u670d\u52a1\u65e0\u7f1d\u96c6\u6210\u3002\u5728\u4ef7\u683c\u65b9\u9762\uff0cGithub Actions \u5bf9\u5f00\u6e90\u9879\u76ee\u4e5f\u662f\u514d\u8d39\u4f7f\u7528\u7684\uff0c\u4e0e Travis CI \u76f8\u6bd4\uff0c\u7ed9\u51fa\u7684\u514d\u8d39 quota \u66f4\u591a\uff0c\u8db3\u582a\u4f7f\u7528\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u672c\u7ae0\u5c31\u7565\u8fc7 Travis CI\uff0c\u76f4\u63a5\u4ecb\u7ecd Github Actions\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#2-github-actions","title":"2. GITHUB ACTIONS","text":"<p>Github Actions \u662f\u4e00\u4e2a\u6301\u7eed\u96c6\u6210\u4e0e\u4ea4\u4ed8\u7684\u5e73\u53f0\uff0c\u5b83\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5c06\u6784\u5efa\u3001\u6d4b\u8bd5\u548c\u90e8\u7f72\u50cf\u6d41\u6c34\u7ebf\u4e00\u6837\u81ea\u52a8\u5316\u3002\u60a8\u53ef\u4ee5\u521b\u5efa\u5de5\u4f5c\u6d41\u7a0b\u6765\u6784\u5efa\u548c\u6d4b\u8bd5\u5b58\u50a8\u5e93\u7684\u6bcf\u4e2a\u62c9\u53d6\u8bf7\u6c42\uff0c\u6216\u5c06\u5408\u5e76\u7684\u62c9\u53d6\u8bf7\u6c42\u90e8\u7f72\u5230\u751f\u4ea7\u73af\u5883\u3002</p> <p>GitHub \u901a\u8fc7\u4e91\u670d\u52a1\u6765\u63d0\u4f9b Linux\u3001Windows \u548c macOS \u8fd9\u4e9b\u57fa\u7840\u8bbe\u65bd\uff0c\u4f46\u4e5f\u5141\u8bb8\u6211\u4eec\u5728\u81ea\u5df1\u7684\u79c1\u6709\u4e91\u4e0a\u8fdb\u884c\u672c\u5730\u5316\u90e8\u7f72\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#21-github-actions","title":"2.1. Github Actions \u7684\u67b6\u6784\u548c\u6982\u5ff5","text":"<p>Github Actions \u7531\u5de5\u4f5c\u6d41 (workflow)\u3001\u4e8b\u4ef6 (Event)\u3001\u4f5c\u4e1a (job)\u3001\u64cd\u4f5c (Action) \u548c\u6267\u884c\u8005 (runner) \u7b49\u7ec4\u4ef6\u6784\u6210\u3002</p> <p>\u5de5\u4f5c\u6d41\u7531\u4e00\u4e2a yaml \u6587\u4ef6\u6765\u5b9a\u4e49\uff0c\u5b83\u4f4d\u4e8e\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684.github/workflows \u76ee\u5f55\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u7b80\u5355\u5730\u5c06\u8be5\u6587\u4ef6\u5f53\u6210\u811a\u672c\u6765\u7406\u89e3\u3002\u8be5\u6587\u4ef6\u5b9a\u4e49\u4e86\u54ea\u4e9b\u4e8b\u4ef6\u53ef\u4ee5\u89e6\u53d1\u5de5\u4f5c\u6d41\uff0c\u5de5\u4f5c\u6d41\u4e2d\u5e94\u8be5\u5305\u542b\u54ea\u4e9b\u4f5c\u4e1a\uff0c\u4ee5\u53ca\u4f5c\u4e1a\u5e94\u8be5\u5728\u4ec0\u4e48\u6837\u7684\u6267\u884c\u8005\uff08\u5bb9\u5668\uff09\u4e2d\u8fd0\u884c\u3002\u4e00\u4e2a\u5b58\u50a8\u5e93\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u5de5\u4f5c\u6d41\uff0c\u5206\u522b\u6267\u884c\u4e0d\u540c\u7684\u4efb\u52a1\u96c6\u3002</p> <p>\u4e8b\u4ef6\u662f\u80fd\u5f15\u53d1\u5de5\u4f5c\u6d41\u8fd0\u884c\u7684\u7279\u5b9a\u4e8b\u4ef6\uff0c\u6bd4\u5982\u5f53\u6709\u4eba\u521b\u5efa\u62c9\u53d6\u8bf7\u6c42\u3001\u6216\u8005\u5c06\u63d0\u4ea4 (commit) \u63a8\u9001\u5230\u5b58\u50a8\u5e93\u65f6\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u80fd\u89e6\u53d1\u5de5\u4f5c\u6d41\u7684\u4e8b\u4ef6\u3002</p> <p>\u4f5c\u4e1a (job) \u662f\u5de5\u4f5c\u6d41\u4e2d\u5728\u540c\u4e00\u8fd0\u884c\u5668\u4e0a\u6267\u884c\u7684\u4e00\u7ec4\u6b65\u9aa4\uff08steps\uff09\u3002 \u6bcf\u4e2a\u6b65\u9aa4 (step) \u8981\u4e48\u662f\u4e00\u4e2a\u5c06\u8981\u6267\u884c\u7684 shell \u811a\u672c\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u5c06\u8981\u8fd0\u884c\u7684\u64cd\u4f5c (Action\uff09\u3002 \u6b65\u9aa4\u6309\u987a\u5e8f\u6267\u884c\uff0c\u5e76\u4e14\u76f8\u4e92\u4f9d\u8d56\u3002 \u7531\u4e8e\u6bcf\u4e2a\u6b65\u9aa4\u90fd\u5728\u540c\u4e00\u8fd0\u884c\u5668\u4e0a\u6267\u884c\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u5c06\u6570\u636e\u4ece\u4e00\u4e2a\u6b65\u9aa4\u5171\u4eab\u5230\u53e6\u4e00\u4e2a\u6b65\u9aa4\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728\u6784\u5efa\u5e94\u7528\u7a0b\u5e8f\u7684\u6b65\u9aa4\u4e4b\u540e\u8ddf\u4e00\u4e2a\u6d4b\u8bd5\u5df2\u751f\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u6b65\u9aa4\u3002</p> <p>\u4e00\u4e2a\u5de5\u4f5c\u6d41\u4e2d\u53ef\u4ee5\u6709\u591a\u4e2a\u4f5c\u4e1a\u3002\u4f5c\u4e1a\u4e4b\u95f4\u9ed8\u8ba4\u6ca1\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5e76\u4e14\u5f7c\u6b64\u5e76\u884c\u8fd0\u884c\u3002 \u4f46\u6211\u4eec\u4e5f\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e2a\u4f5c\u4e1a\u4f9d\u8d56\u4e8e\u53e6\u4e00\u4e2a\u4f5c\u4e1a\uff0c\u6b64\u65f6\uff0c\u5b83\u5c06\u7b49\u5f85\u4ece\u5c5e\u4f5c\u4e1a\u5b8c\u6210\uff0c\u7136\u540e\u624d\u80fd\u8fd0\u884c\u3002 \u4f8b\u5982\uff0c\u5bf9\u4e8e\u6ca1\u6709\u4f9d\u8d56\u5173\u7cfb\u7684\u4e0d\u540c\u4f53\u7cfb\u7ed3\u6784\uff0c\u60a8\u53ef\u80fd\u6709\u591a\u4e2a\u6d4b\u8bd5\u4f5c\u4e1a\uff0c\u4ee5\u53ca\u4e00\u4e2a\u4f9d\u8d56\u4e8e\u8fd9\u4e9b\u4f5c\u4e1a\u7684\u6253\u5305\u4f5c\u4e1a\u3002\u6d4b\u8bd5\u4f5c\u4e1a\u5c06\u5e76\u884c\u8fd0\u884c\uff0c\u4f46\u53ea\u6709\u5b83\u4eec\u5168\u90e8\u6210\u529f\u5b8c\u6210\u540e\uff0c\u6253\u5305\u4f5c\u4e1a\u624d\u4f1a\u8fd0\u884c\u3002</p> <p>\u64cd\u4f5c (Action) \u662f\u7528\u4e8e GitHub Actions \u5e73\u53f0\u7684\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\uff0c\u5b83\u6267\u884c\u590d\u6742\u4f46\u7ecf\u5e38\u91cd\u590d\u7684\u4efb\u52a1\u3002 \u4f7f\u7528\u64cd\u4f5c\u53ef\u5e2e\u52a9\u51cf\u5c11\u5728\u5de5\u4f5c\u6d41\u7a0b\u6587\u4ef6\u4e2d\u7f16\u5199\u7684\u91cd\u590d\u4ee3\u7801\u91cf\u3002 \u64cd\u4f5c\u53ef\u4ee5\u4ece GitHub \u62c9\u53d6 git \u5b58\u50a8\u5e93\uff0c\u4e3a\u60a8\u7684\u6784\u5efa\u73af\u5883\u8bbe\u7f6e\u6b63\u786e\u7684\u5de5\u5177\u94fe\uff0c\u6216\u8bbe\u7f6e\u5bf9\u4e91\u63d0\u4f9b\u5546\u7684\u8eab\u4efd\u9a8c\u8bc1\u3002</p> <p>\u60a8\u53ef\u4ee5\u7f16\u5199\u81ea\u5df1\u7684\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u5728 GitHub Marketplace \u4e2d\u627e\u5230\u8981\u5728\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u4f7f\u7528\u7684\u64cd\u4f5c\u3002</p> <p>\u6267\u884c\u8005 (runner) \u662f\u8fd0\u884c\u5de5\u4f5c\u6d41\u7684\u670d\u52a1\u5668\u3002\u6bcf\u4e2a\u6267\u884c\u8005\u4e00\u6b21\u53ef\u4ee5\u8fd0\u884c\u4e00\u4e2a\u4f5c\u4e1a\u3002 GitHub \u63d0\u4f9b Ubuntu Linux\u3001Microsoft Windows \u548c macOS \u8fd0\u884c\u5668\u6765\u8fd0\u884c\u60a8\u7684\u5de5\u4f5c\u6d41\u7a0b\uff1b\u6bcf\u4e2a\u5de5\u4f5c\u6d41\u7a0b\u8fd0\u884c\u90fd\u5728\u65b0\u9884\u914d\u7684\u5168\u65b0\u865a\u62df\u673a\uff08\u6216\u8005\u5bb9\u5668\uff09\u4e2d\u6267\u884c\u3002</p> <p>\u4e0b\u9762\u7684\u56fe\u5c55\u793a\u4e86 Github Actions \u7684\u67b6\u6784\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap09/#22","title":"2.2. \u5de5\u4f5c\u6d41\u8bed\u6cd5\u6982\u8ff0","text":"<p>\u5728\u4e86\u89e3\u4e86 Github Actions \u7684\u67b6\u6784\u4e4b\u540e\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6765\u8bb2\u89e3\u5982\u4f55\u5b9a\u4e49\u5de5\u4f5c\u6d41\u3002</p> <p>\u6211\u4eec\u5148\u770b ppw \u751f\u6210\u7684\u4e00\u4e2a\u5de5\u4f5c\u6d41\u6587\u4ef6\uff1a</p> <pre><code>name: dev build CI\n\n# \u5b9a\u4e49\u54ea\u4e9b\u4e8b\u4ef6\u53ef\u4ee5\u89e6\u53d1\u5de5\u4f5c\u6d41\uff0c\u4ee5\u53ca\u7b5b\u9009\u6761\u4ef6\non:\n  # \u5f53\u5b58\u50a8\u5e93\u6709 PUSH \u6216\u8005 PULL_REQUEST \u4e8b\u4ef6\u65f6\u89e6\u53d1\n  push:\n    branches:\n      - '*'\n  pull_request:\n    branches:\n      - '*'\n\n# \u5b9a\u4e49\u4f5c\u4e1a\u96c6\njobs:\n  # \u5de5\u4f5c\u6d41\u5305\u542b\u4e09\u4e2a\u4f5c\u4e1a\uff0c\u5206\u522b\u662f TEST, PUBLISH_DEV_BUILD, NOTIFICATION\n  test:\n    # \u5b9a\u4e49\u4f5c\u4e1a\u7684\u8fd0\u884c\u73af\u5883\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86\u77e9\u9635\u5f0f\u5b9a\u4e49\n    strategy:\n      matrix:\n        python-versions: ['3.8', '3.9', '3.10']\n        os: [ubuntu-latest, windows-latest, macos-latest]\n    runs-on: ${{ matrix.os }}\n    # \u5c06\u6b65\u9aa4\u7684\u8f93\u51fa\u63d0\u5347\u4e3a\u4f5c\u4e1a\u7684\u8f93\u51fa\uff0c\u4ee5\u4fbf\u5b83\u4eec\u53ef\u4ee5\u5728\u4f5c\u4e1a\u4e4b\u95f4\u5171\u4eab\n    outputs:\n      package_version: ${{ steps.variables_step.outputs.package_version }}\n      package_name: ${{ steps.variables_step.outputs.package_name }}\n      repo_name: ${{ steps.variables_step.outputs.repo_name }}\n      repo_owner: ${{ steps.variables_step.outputs.repo_owner }}\n\n    # \u8fd9\u662f\u542f\u7528\u5916\u90e8\u670d\u52a1\u7684\u4e00\u4e2a\u793a\u4f8b\n    # SERVICES:\n    #   REDIS:\n    #     IMAGE: REDIS\n    #     OPTIONS: &gt;-\n    #       --HEALTH-CMD \"REDIS-CLI PING\"\n    #       --HEALTH-INTERVAL 10S\n    #       --HEALTH-TIMEOUT 5S\n    #       --HEALTH-RETRIES 5\n    #     PORTS:\n    #       - 6379:6379\n\n    # \u6b65\u9aa4\u96c6\u4ee3\u8868\u4e86\u4e00\u7cfb\u5217\u7684\u4efb\u52a1\uff0c\u8fd9\u4e9b\u4efb\u52a1\u5c06\u4f5c\u4e3a\u4f5c\u4e1a\u7684\u4e00\u90e8\u5206\u6267\u884c\n    steps:\n      # \u4f5c\u4e1a\u662f\u5728\u5bb9\u5668\u91cc\u6267\u884c\u7684\uff0c\u6211\u4eec\u9700\u8981\u5148\u5c06\u4ee3\u7801\u68c0\u51fa\u5230\u8fd9\u4e2a\u5e72\u51c0\u7684\u5bb9\u5668\u91cc\n      - uses: actions/checkout@v2\n      - uses: actions/setup-python@v2\n        with:\n          python-version: ${{ matrix.python-versions }}\n\n      - name: Install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install tox tox-gh-actions poetry\n\n      # \u8fd9\u4e00\u6b65\u91cc\uff0c\u6211\u4eec\u8bbe\u7f6e\u4e86\u4e00\u4e9b\u53d8\u91cf\uff0c\u5c06\u5176\u8f93\u51fa\u5230\u63a7\u5236\u53f0\uff0c\u4ece\u800c\u53ef\u4ee5\u5728\u7b2c 85 \u884c\u63d0\u5347\u4e3a JOB \u7684\u8f93\u51fa\n      - name: Declare variables for convenient use\n        id: variables_step\n        run: |\n          echo \"::set-output name=repo_owner::${GITHUB_REPOSITORY%/*}\"\n          echo \"::set-output name=repo_name::${GITHUB_REPOSITORY#*/}\"\n          echo \"::set-output name=package_name::`poetry version | awk '{print $1}'`\"\n          echo \"::set-output name=package_version::`poetry version --short`\"\n        shell: bash\n\n      # \u6267\u884c\u5355\u5143\u6d4b\u8bd5\u548c\u4ee3\u7801\u68c0\u67e5\u3002\n      - name: test with tox\n        run: tox\n\n      # \u901a\u8fc7 CODECOV \u4e0a\u4f20\u6d4b\u8bd5\u8986\u76d6\u7387\u3002\n      - uses: codecov/codecov-action@v3\n        with:\n          fail_ci_if_error: true\n\n  publish_dev_build:\n    # \u53ea\u6709 TEST \u4f5c\u4e1a\u5b8c\u6210\uff0c\u6211\u4eec\u624d\u5f00\u59cb\u672c\u4f5c\u4e1a\n    needs: test\n    # \u6307\u5b9a\u672c\u4f5c\u4e1a\u8fd0\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u73af\u5883\u3002\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n      - uses: actions/setup-python@v2\n        with:\n          # \u8fd9\u4e00\u6b65\u53ea\u9700\u8981\u5728\u4efb\u610f\u4e00\u4e2a PYTHON \u7248\u672c\u4e0a\u8fd0\u884c\n          python-version: '3.9'\n\n      - name: Install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install poetry tox tox-gh-actions\n\n      - name: build documentation\n        run: |\n          poetry install -E doc\n          poetry run mkdocs build\n          git config --global user.name Docs deploy\n          git config --global user.email docs@dummy.bot.com\n          poetry run mike deploy -p -f --ignore \"`poetry version --short`.dev\"\n          poetry run mike set-default -p \"`poetry version --short`.dev\"\n\n      - name: Build wheels and source tarball\n        run: |\n          poetry version $(poetry version --short)-dev.$GITHUB_RUN_NUMBER\n          poetry lock\n          poetry build\n\n      - name: publish to Test PyPI\n        uses: pypa/gh-action-pypi-publish@release/v1\n        with:\n          user: __token__\n          password: ${{ secrets.TEST_PYPI_API_TOKEN}}\n          repository_url: https://test.pypi.org/legacy/\n          skip_existing: true\n\n  notification:\n    needs: [test,publish_dev_build]\n    if: always()\n    runs-on: ubuntu-latest\n    steps:\n      - uses: martialonline/workflow-status@v2\n        id: check\n\n      - name: build success notification via email\n        if: ${{ steps.check.outputs.status == 'success' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          server_address: ${{ secrets.BUILD_NOTIFY_MAIL_SERVER }}\n          server_port: ${{ secrets.BUILD_NOTIFY_MAIL_PORT }}\n          username: ${{ secrets.BUILD_NOTIFY_MAIL_FROM }}\n          password: ${{ secrets.BUILD_NOTIFY_MAIL_PASSWORD }}\n          from: build-bot\n          to: ${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}\n          subject: ${{ needs.test.outputs.package_name }}.${{ needs.test.outputs.package_version}} build successfully\n          convert_markdown: true\n          html_body: |\n            ## Build Success\n            ${{ needs.test.outputs.package_name }}.${{ needs.test.outputs.package_version }} is built and published to test pypi\n\n            ## Change Details\n            ${{ github.event.head_commit.message }}\n\n            For more information, please check change history at https://${{ needs.test.outputs.repo_owner }}.github.io/${{ needs.test.outputs.repo_name }}/${{ needs.test.outputs.package_version }}/history\n\n            ## Package Download\n            The pacakge is available at: https://test.pypi.org/project/${{ needs.test.outputs.package_name }}/\n\n      - name: build failure notification via email\n        if: ${{ steps.check.outputs.status == 'failure' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          server_address: ${{ secrets.BUILD_NOTIFY_MAIL_SERVER }}\n          server_port: ${{ secrets.BUILD_NOTIFY_MAIL_PORT }}\n          username: ${{ secrets.BUILD_NOTIFY_MAIL_FROM }}\n          password: ${{ secrets.BUILD_NOTIFY_MAIL_PASSWORD }}\n          from: build-bot\n          to: ${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}\n          subject: ${{ needs.test.outputs.package_name }}.${{ needs.test.outputs.package_version}} build failure\n          convert_markdown: true\n          html_body: |\n            ## Change Details\n            ${{ github.event.head_commit.message }}\n\n            ## View Log\n            https://github.com/${{ needs.test.outputs.repo_owner }}/${{ needs.test.outputs.repo_name }}/actions\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u540d\u4e3a dev build CI \u7684\u4f5c\u4e1a\uff0c\u5b83\u5c06\u5728\u4efb\u4e00\u5206\u652f\u53d1\u751f\u63d0\u4ea4\u548c pull request \u65f6\u89e6\u53d1\u3002\u5b83\u5305\u542b\u4e09\u4e2a\u4f5c\u4e1a\uff0c\u5373 test\uff08\u6267\u884c\u5355\u5143\u6d4b\u8bd5\uff09\u3001publish_dev_build\uff08\u6784\u5efa\u5e76\u53d1\u5e03\u5f00\u53d1\u7248\u672c\u5230 test_pypi) \u548c notification\uff08\u5728\u6784\u5efa\u6210\u529f\u6216\u5931\u8d25\u65f6\u53d1\u9001\u90ae\u4ef6\u901a\u77e5\uff09\u3002\u4e09\u8005\u4e4b\u95f4\u6709\u4f9d\u8d56\u5173\u7cfb\uff0c\u5982\u679c test \u4f5c\u4e1a\u5931\u8d25\uff0cpublish_dev_build \u4f1a\u53d6\u6d88\uff1b\u4f46\u662f\u65e0\u8bba test/publish_dev_build \u4f5c\u4e1a\u662f\u5426\u6210\u529f\uff0cnotification \u4f5c\u4e1a\u90fd\u4f1a\u6267\u884c\uff0c\u5e76\u6839\u636e\u524d\u4e24\u4e2a\u4f5c\u4e1a\u7684\u72b6\u6001\u53d1\u9001\u5185\u5bb9\u4e0d\u540c\u7684\u90ae\u4ef6\u901a\u77e5\u3002</p> <p>\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684\u4f5c\u4e1a\uff0c\u4f46\u4e5f\u6d89\u53ca\u4e86\u6211\u4eec\u5728 CI \u4e2d\u9700\u8981\u505a\u7684\u51e0\u4e4e\u6240\u6709\u4e8b\u60c5\u3002\u5728\u4ee3\u7801\u4e2d\u6211\u4eec\u52a0\u5165\u4e86\u8f83\u591a\u7684\u6ce8\u91ca\uff0c\u5efa\u8bae\u8bfb\u8005\u7ed3\u5408\u4e0b\u9762\u7684\u8bb2\u89e3\uff0c\u4ed4\u7ec6\u9605\u8bfb\u4ee3\u7801\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#221","title":"2.2.1. \u5b9a\u4e49\u89e6\u53d1\u6761\u4ef6","text":"<p>\u7b2c 4 \u884c\u5230\u7b2c 14 \u884c\u914d\u7f6e\u4e86\u5de5\u4f5c\u6d41\u7684\u89e6\u53d1\u6761\u4ef6\u3002\u89e6\u53d1\u6761\u4ef6\u4e00\u8282\u7531\u5173\u952e\u5b57'on'\u5f15\u8d77\u3002\u5728\u5b83\u7684\u4e0b\u4e00\u5c42\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u89e6\u53d1\u4e8b\u4ef6\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u89e6\u53d1\u4e8b\u4ef6\uff0c\u6307\u5b9a\u7c7b\u578b\u548c\u8fc7\u6ee4\u5668\u3002\u4e00\u4e2a\u5b8c\u6574\u7684\u89e6\u53d1\u6761\u4ef6\u914d\u7f6e\u5982\u4e0b\uff1a</p> <p><pre><code>on:\n    push:\n        branches: \n          - '*'\n        tags:\n          - v*\n    label:\n        branches:\n            - main\n        types:\n            - created\n    schedule:\n        - cron: '30 5 * * 1,3'\n</code></pre> \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c'push', 'label', 'tags'\u548c'schedule'\u90fd\u662f\u4e8b\u4ef6\u5173\u952e\u5b57\u3002\u53ef\u7528\u7684\u4e8b\u4ef6\u5173\u952e\u5b57\u53ef\u53c2\u89c1 \u89e6\u53d1\u5de5\u4f5c\u6d41\u7684\u4e8b\u4ef6\u3002</p> <p>\u5728\u4e8b\u4ef6\u7684\u4e0b\u4e00\u7ea7\uff0c\u662f\u5b9a\u4e49\u6d3b\u52a8\u7c7b\u578b\u548c\u7b5b\u9009\u5668\u7684\u5730\u65b9\u3002\u4e0d\u662f\u6240\u6709\u7684\u4e8b\u4ef6\u90fd\u6709\u6d3b\u52a8\u7c7b\u578b\uff0c\u5373\u4f7f\u6709\uff0c\u5b83\u4eec\u7684\u6d3b\u52a8\u7c7b\u578b\u4e5f\u5f88\u53ef\u80fd\u4e0d\u4e00\u6837\u3002\u6bd4\u5982\uff0c<code>push</code>\u4e8b\u4ef6\u5c31\u6ca1\u6709\u6d3b\u52a8\u7c7b\u578b\uff0c\u800c<code>label</code>\u4e8b\u4ef6\u6709<code>created</code>, <code>edited</code>\u548c<code>deleted</code>\u4e09\u79cd\u6d3b\u52a8\u7c7b\u578b\uff0c\u800c<code>issues</code>\u4e8b\u4ef6\u7684\u6d3b\u52a8\u7c7b\u578b\u5219\u662f<code>opened</code>\u548c<code>labeled</code>\u7b49\u3002\u8981\u60f3\u77e5\u9053\u4e8b\u4ef6\u6709\u54ea\u4e9b\u6d3b\u52a8\u7c7b\u578b\uff0c\u53ef\u4ee5\u53c2\u8003 \u89e6\u53d1\u5de5\u4f5c\u6d41\u7684\u4e8b\u4ef6\u3002</p> <p>\u7b5b\u9009\u5668\u6709 branches \u548c tags \u4e24\u79cd\uff0c\u5206\u522b\u7528\u4e8e\u6307\u5b9a\u5206\u652f\u548c\u6807\u7b7e\u3002\u4ece\u4e0a\u9762\u7684\u793a\u4f8b\u53ef\u4ee5\u770b\u51fa\uff0c\u7b5b\u9009\u5668\u7684\u503c\u652f\u6301 glob \u6a21\u5f0f\uff0c\u5373\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u3001*\u3001 +\u3001 ? \u548c\uff01\u7b49\u901a\u914d\u7b26\u6765\u5339\u914d\u5206\u652f\u548c\u6807\u7b7e\u540d\u3002\u9664\u4e86\u793a\u4f8b\u4e2d\u7684\u6b63\u5411\u5339\u914d\u5916\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 branches-ignore \u6216\u8005 tags-ignore \u6765\u53cd\u5411\u5339\u914d\u3002</p> <p>\u4e0a\u9762\u7684\u793a\u4f8b\u8fd8\u5c55\u793a\u4e86\u4e00\u79cd\u7279\u6b8a\u7684\u4e8b\u4ef6\uff0c\u5373 'schedule' \u4e8b\u4ef6\u3002\u8fd9\u5c06\u5bfc\u81f4\u5de5\u4f5c\u6d41\u5468\u671f\u6027\u5730\u8fd0\u884c\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u8fd0\u884c\u4e00\u4e9b\u5b89\u5168\u6027\u626b\u63cf\u3001\u4f9d\u8d56\u5347\u7ea7\u626b\u63cf\u7b49\u5de5\u4f5c\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#222","title":"2.2.2. \u5b9a\u4e49\u4f5c\u4e1a\u96c6","text":"<p>\u63a5\u4e0b\u6765\u5de5\u4f5c\u6d41\u58f0\u660e\u4e86\u4e09\u4e2a\u4f5c\u4e1a\uff0c\u5373 test, publish_dev_build \u548c notification\u3002\u4f5c\u4e1a\u5b9a\u4e49\u4e00\u8282\u7531\u5173\u952e\u5b57'jobs'\u5f15\u8d77\u3002\u5728\u5b83\u7684\u4e0b\u4e00\u5c42\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u4f5c\u4e1a\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u4f5c\u4e1a\uff0c\u6307\u5b9a\u8fd0\u884c\u73af\u5883\u548c\u8fd0\u884c\u6b65\u9aa4\u3002</p> <p>\u6bcf\u4e2a\u4f5c\u4e1a\u90fd\u6709\u81ea\u5df1\u7684 id \u548c\u540d\u5b57\u3002\u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0ctest, publish_dev_build \u548c notification \u90fd\u662f\u4f5c\u4e1a id\u3002\u4f5c\u4e1a id \u662f\u5fc5\u987b\u7684\uff0c\u4f46\u662f\u4f5c\u4e1a\u540d\u5b57\u662f\u53ef\u9009\u7684\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4f5c\u4e1a\u540d\u5b57\uff0c\u90a3\u4e48\u4f5c\u4e1a\u540d\u5b57\u5c06\u9ed8\u8ba4\u4e3a\u4f5c\u4e1a id\u3002\u4f5c\u4e1a\u540d\u5b57\u53ef\u4ee5\u7528\u6765\u5728 GitHub Actions \u7684\u754c\u9762\u4e0a\u663e\u793a\u4f5c\u4e1a\u7684\u540d\u79f0\u3002</p> <p>\u5728\u4f5c\u4e1a publish_dev_build \u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u5173\u952e\u5b57<code>needs</code>\u6765\u5b9a\u4e49\u4e86\u5b83\u5bf9\u4f5c\u4e1a<code>test</code>\u7684\u4f9d\u8d56\u3002\u6211\u4eec\u5728\u7b2c 114 \u884c\u8fd8\u770b\u5230\uff0c\u4f5c\u4e1a\u8fd8\u53ef\u4ee5\u4f9d\u8d56\u5230\u4e00\u7ec4\u4f5c\u4e1a\u3002\u5f53\u6211\u4eec\u6307\u5b9a\u4f5c\u4e1a\u4f9d\u8d56\u65f6\uff0c\u8981\u6ce8\u610f\u53ea\u80fd\u4f7f\u7528\u4f5c\u4e1a\u7684 id\uff0c\u800c\u4e0d\u662f\u4f5c\u4e1a\u7684\u540d\u5b57\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u4e3a\u4f5c\u4e1a\u5b9a\u4e49\u6267\u884c\u73af\u5883\u3002\u6267\u884c\u73af\u5883\u662f\u901a\u8fc7\u5173\u952e\u5b57 'runs-on' \u6765\u5b9a\u4e49\u7684\u3002\u6709\u4e9b\u4efb\u52a1\u53ea\u9700\u8981\u5728\u4e00\u53f0\u673a\u5668\u4e0a\u6267\u884c\u5c31\u53ef\u4ee5\u4e86\uff0c\u6bd4\u5982 Python \u5305\u7684\u6784\u5efa\u548c\u53d1\u5e03\uff1b\u6709\u4e9b\u4efb\u52a1\u5219\u9700\u8981\u5728\u6240\u6709\u7684\u673a\u5668\u4e0a\u3001\u5e76\u4ee5\u591a\u4e2a python \u8fd0\u884c\u65f6\u6765\u8fd0\u884c\uff0c\u6bd4\u5982\u6d4b\u8bd5\u3002</p> <p>\u6bd4\u5982\uff0cpublish_dev_build \u4f5c\u4e1a\u53ea\u9700\u8981\u5728 ubuntu_latest \u548c python 3.9 \u8fd9\u4e2a\u7ec4\u5408\u4e0a\u8fd0\u884c\uff0c\u56e0\u4e3a\u5728\u4efb\u4f55\u4e00\u4e2a\u7ec4\u5408\u4e0a\u8fd0\u884c\u8fd9\u4e2a\u4f5c\u4e1a\uff0c\u5b83\u4eec\u7684\u7ed3\u679c\u90fd\u5e94\u8be5\u662f\u4e00\u6837\u7684\u3002\u7b2c 78 \u884c\u548c\u7b2c 84 \u884c\u90fd\u662f\u6307\u5b9a\u5355\u4e2a\u6267\u884c\u73af\u5883\u7684\u4f8b\u5b50\u3002\u4f46\u5bf9\u6d4b\u8bd5\u4efb\u52a1\uff0c\u6211\u4eec\u5e0c\u671b\u5b83\u5728\u6240\u6709\u673a\u5668\u4e0a\u90fd\u8fd0\u884c\uff0c\u5e76\u4e14\u8fd8\u8981\u8fd0\u884c\u5728\u4e0d\u540c\u7684 python \u7248\u672c\u4e0a\u3002\u4e3a\u4e86\u8868\u8fbe\u7b80\u6d01\u8d77\u89c1\uff0cGithub actions \u5f15\u5165\u4e86\u77e9\u9635\u7684\u6982\u5ff5\u3002</p> <p>\u6211\u4eec\u901a\u8fc7 strategy.matrix \u6765\u5b9a\u4e49\u6d4b\u8bd5\u77e9\u9635\u3002\u5728\u793a\u4f8b\u7b2c 20~23 \u884c\u5b9a\u4e49\u7684\u77e9\u9635\u4e2d\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86 python \u7248\u672c\u548c\u64cd\u4f5c\u7cfb\u7edf\u5217\u8868\u3002\u8fd9\u4e2a\u5b9a\u4e49\u968f\u540e\u5c31\u88ab\u4f7f\u7528\u4e86\uff0c\u5728\u7b2c 24 \u884c\uff0c\u6211\u4eec\u901a\u8fc7{{matrix.os}}\u6765\u5f15\u7528\u4e86\u5176\u4e2d\u7684\u64cd\u4f5c\u7cfb\u7edf\u5b9a\u4e49\u3002\u7b2c 22 \u884c\u7684 python-versions \u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u5173\u952e\u5b57\uff0c\u5b83\u7528\u6765\u6307\u793a\u6211\u4eec\u8981\u4f7f\u7528\u7684 python \u7248\u672c\u3002\u5982\u679c\u6211\u4eec\u7684\u5f00\u53d1\u8bed\u8a00\u4e0d\u662f python\uff0c\u8fd9\u91cc\u7684\u6307\u5b9a\u5c06\u6ca1\u6709\u610f\u4e49\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u4e3a\u4f5c\u4e1a\u5b9a\u4e49\u5177\u4f53\u6267\u884c\u54ea\u4e9b\u4efb\u52a1\uff0c\u5b83\u4eec\u88ab\u5f52\u7c7b\u5728\u6b65\u9aa4\u96c6 (steps) \u4e2d\u3002\u6b65\u9aa4\u96c6\u662f\u4e00\u4e2a\u5305\u542b\u591a\u4e2a\u6b65\u9aa4\u7684\u5217\u8868\u3002\u800c\u6bcf\u4e00\u4e2a\u6b65\u9aa4\uff0c\u8981\u4e48\u662f\u4e00\u4e2a shell \u547d\u4ee4\uff08\u6216\u8005\u4e00\u7ec4 shell \u547d\u4ee4\uff09\uff0c\u8981\u4e48\u662f\u4e00\u4e2a action\u3002\u5982\u679c\u8981\u8fd0\u884c shell \u547d\u4ee4\uff0c\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u6cd5\uff1a <pre><code>- name: &lt;step name&gt;\n  run: &lt;shell command&gt;\n</code></pre> \u5982\u679c\u8981\u8fd0\u884c\u4e00\u7ec4 shell \u547d\u4ee4\uff0c\u6211\u4eec\u4f7f\u7528\uff1a <pre><code>- name: &lt;step name&gt;\n  run: |\n    &lt;shell command 1&gt;\n    &lt;shell command 2&gt;\n    ...\n</code></pre> \u6ce8\u610f\u4e0a\u8ff0\u4e24\u7ec4\u8bed\u6cd5\u7684\u4e0d\u540c\u4e4b\u5904\uff0c\u4e0d\u80fd\u6df7\u6dc6\u3002</p> <p>\u81f3\u4e8e action\uff0c\u6211\u4eec\u524d\u9762\u5df2\u7ecf\u8bb2\u8fc7\u4e86\uff0c\u5b83\u662f\u7528\u4e8e GitHub Actions \u5e73\u53f0\u7684\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u3002\u60a8\u53ef\u4ee5\u81ea\u5df1\u7f16\u5199 action\uff0c\u4e5f\u53ef\u4ee5\u5728 Github \u7684\u5e94\u7528\u5e02\u573a\u4e0a\u67e5\u627e\u4ed6\u4eba\u5f00\u53d1\u7684\u5e94\u7528\u3002</p> <p>\u6bcf\u4e00\u4e2a\u6b65\u9aa4\u90fd\u53ef\u4ee5\u6307\u5b9a python \u8fd0\u884c\u65f6\u3002\u6211\u4eec\u5728\u7b2c 48 \u884c\u770b\u5230\uff0c\u8fd9\u91cc<code>{{ matrix.python-versions }}</code>\u4f7f\u7528\u7684\u662f\u77e9\u9635\u4e2d\u5b9a\u4e49\u7684 python \u7248\u672c\u3002\u800c\u5728\u7b2c 84 \u884c\uff0c\u6211\u4eec\u5219\u76f4\u63a5\u6307\u5b9a\u4e86\u4e00\u4e2a python \u7684\u7248\u672c\u3002\u8fd9\u91cc\u8fd8\u8981\u6ce8\u610f\uff0c\u7248\u672c\u53f7\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0cq \u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>'3.10'</code>\uff0c\u4f46\u4e0d\u80fd\u4f7f\u7528<code>3.10</code>\uff0c\u540e\u8005\u5c06\u4f1a\u88ab yaml \u89e3\u6790\u4e3a<code>3.1</code>\uff0c\u4ece\u800c\u51fa\u73b0\u627e\u4e0d\u5230 python \u7248\u672c\u7684\u95ee\u9898\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e00\u4e0b job \u8fd0\u884c\u65f6\u7684\u6761\u4ef6\u63a7\u5236\u3002\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86 job \u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8fd9\u53ef\u4ee5\u7b97\u4f5c\u662f\u4e00\u79cd\u6761\u4ef6\u3002\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u6bd4\u5982\u793a\u4f8b\u4e2d\u7684 notification \u4f5c\u4e1a\uff0c\u6211\u4eec\u8981\u6c42\u5b83\u53ea\u80fd\u5728\u524d\u4e24\u4e2a\u4f5c\u4e1a\u90fd\u5b8c\u6210\u540e\u624d\u8fd0\u884c\uff08\u5e76\u4e14\u65e0\u8bba\u6210\u529f\u4e0e\u5426\uff0c\u90fd\u8981\u8fd0\u884c\uff09\uff0c\u4f46\u4f1a\u6839\u636e\u524d\u9762\u4f5c\u4e1a\u7684\u72b6\u6001\uff0c\u53d1\u51fa\u4e0d\u540c\u5185\u5bb9\u7684\u901a\u77e5\u90ae\u4ef6\uff0c\u6b64\u65f6\uff0c\u6211\u4eec\u5c31\u9700\u8981\u5f15\u5165<code>if</code>\u6761\u4ef6\u63a7\u5236\u3002</p> <p><code>if</code>\u6761\u4ef6\u63a7\u5236\u53ef\u4ee5\u4f5c\u7528\u4e8e\u4f5c\u4e1a\u4f5c\u7528\u57df\uff08\u5982\u7b2c 116 \u884c\u6240\u793a\uff09\uff0c\u4e5f\u53ef\u4ee5\u4f5c\u7528\u4e8e\u6b65\u9aa4\u4f5c\u7528\u57df\uff08\u5982\u7b2c 123 \u884c\u6240\u793a\uff09\u3002\u5728\u4f5c\u4e1a\u4f5c\u7528\u57df\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>success()</code>\u3001<code>failure()</code>\u3001<code>cancelled()</code>\u3001<code>always()</code>\u7b49\u51fd\u6570\u6765\u6307\u5b9a\u5728\u4f55\u79cd\u60c5\u51b5\u4e0b\u624d\u8fd0\u884c\u672c\u4f5c\u4e1a\u3002\u5728\u6b65\u9aa4\u4f5c\u7528\u57df\u4e2d\uff0c\u6211\u4eec\u5219\u53ef\u4ee5\u8fdb\u884c\u7b80\u5355\u7684\u6761\u4ef6\u5224\u65ad\uff0c\u6765\u6307\u793a\u672c\u6b65\u9aa4\u662f\u5426\u8fd0\u884c\u3002</p> <p>\u5728\u8fdb\u884c\u6761\u4ef6\u5224\u65ad\u65f6\uff0c\u6211\u4eec\u5fc5\u7136\u9700\u8981\u4f7f\u7528\u53d8\u91cf\u3002\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u5168\u9762\u5730\u4ecb\u7ecd\u4e00\u4e0b\u5728\u5de5\u4f5c\u6d41\u4e2d\u53d8\u91cf\u7684\u4f7f\u7528\u3002\u901a\u8fc7\u53d8\u91cf\uff0c\u7ed3\u5408\u5404\u79cd\u63a7\u5236\u6761\u4ef6\uff0c\u6211\u4eec\u624d\u80fd\u5b9e\u73b0\u4e00\u4e9b\u9ad8\u7ea7\u7684\u6280\u5de7\u3002 Github \u4e2d\u7684\u53d8\u91cf\u5206\u4e3a\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u7cfb\u7edf\u53d8\u91cf\uff0c\u4e00\u79cd\u662f\u4f5c\u4e1a\u53d8\u91cf\u3002\u7cfb\u7edf\u53d8\u91cf\u662f Github \u5e73\u53f0\u63d0\u4f9b\u7684\uff0c\u4f5c\u4e1a\u53d8\u91cf\u662f\u6211\u4eec\u81ea\u5df1\u5b9a\u4e49\u7684\u3002\u65e0\u8bba\u90a3\u4e00\u79cd\u53d8\u91cf\uff0c\u6211\u4eec\u90fd\u901a\u8fc7<code>${{ }}</code>\u6765\u5f15\u7528\u3002</p> <p>\u7cfb\u7edf\u53d8\u91cf\u6309\u7ea7\u522b\u53ef\u4ee5\u5b9a\u4e49\u5728\u7ec4\u7ec7\u3001\u5b58\u50a8\u5e93\u6216\u8005\u73af\u5883\u4e0a\u3002\u6bd4\u5982<code>secrets</code>\u5c31\u5b9a\u4e49\u5728\u5b58\u50a8\u5e93\u7ea7\u522b\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7<code>${{ secrets.BUILD_NOTIFY_MAIL_RCPT }}</code>\u6765\u8bbf\u95ee\u5b83\u7684\u503c\uff0c\u8fd9\u9700\u8981\u6211\u4eec\u5728\u5b58\u50a8\u5e93\u91cc\u4e8b\u5148\u5b9a\u4e49<code>BUILD_NOTIFY_MAIL_RCPT</code>\u8fd9\u4e2a\u53d8\u91cf\u3002GitHub \u63d0\u4f9b\u4e86\u4e00\u4e9b\u9ed8\u8ba4\u53d8\u91cf\uff0c\u6bd4\u5982<code>GITHUB_REPOSITORY</code>\uff08\u6b64\u53d8\u91cf\u7684\u503c\u662f\u4ed3\u5e93\u6240\u6709\u8005\u53ca\u4ed3\u5e93\u540d\uff0c\u6bd4\u5982\uff0coctocat/Hello-World\uff0c\u793a\u4f8b\u7b2c 59 \u884c\u4f7f\u7528\u4e86\u8fd9\u4e00\u53d8\u91cf\uff0c\u5e76\u4e14\u6f14\u793a\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32\u63d0\u53d6\u6280\u5de7\uff09\u7b49\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u4f5c\u4e1a\u53d8\u91cf\u7684\u4f7f\u7528\u6280\u5de7\uff08\u6458\u81ea\u793a\u4f8b\u7b2c 122~132 \u884c\uff09\uff1a</p> <p><pre><code>  notification:\n    needs: [test,publish_dev_build]\n    steps:\n      - name: build success notification via email\n        if: ${{ steps.check.outputs.status == 'success' }}\n        uses: dawidd6/action-send-mail@v3\n        with:\n          subject: ${{ needs.test.outputs.package_name }}.\n</code></pre> \u9996\u5148\uff0c\u5728\u4f5c\u4e1a test \u4e2d\uff0c\u5c06\u6b65\u9aa4 variable_step\uff08\u7b2c 57~63 \u884c\uff09\u7684\u8f93\u51fa\u63d0\u5347\u4e3a\u4f5c\u4e1a\u7684\u8f93\u51fa\uff08\u7b2c 24~28 \u884c\uff09\uff0c\u4e5f\u76f8\u5f53\u4e8e\u58f0\u660e\u4e86 package_name \u7b49 4 \u4e2a\u53d8\u91cf\u3002\u7136\u540e\uff0c\u6211\u4eec\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u901a\u8fc7${{ needs.test.outputs.package_name }}\u6765\u5f15\u7528\u4e86\u8fd9\u4e9b \u53d8\u91cf\uff08\u6bd4\u5982 package_name\uff09\u3002\u53d8\u91cf\u662f\u901a\u8fc7<code>{job_id}.outputs.{variable}</code>\u6765\u5f15\u7528\u7684\uff0c\u8fd9\u5e76\u6ca1\u6709\u4ec0\u4e48\u5947\u602a\u7684\u5730\u65b9\u3002\u4f46\u662f\u8981\u6ce8\u610f\u5b83\u8fd8\u6709\u4e00\u4e2a<code>needs</code>\u4f5c\u7528\u57df\u3002\u8fd9\u8868\u660e\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u53d8\u91cf\u7684\u5730\u65b9\uff0c\u5176\u6240\u5c5e\u7684\u4f5c\u4e1a\u5982\u679c\u6ca1\u6709\u58f0\u660e\u4f9d\u8d56\u5230<code>test</code>\u4f5c\u4e1a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u53d8\u91cf\u662f\u65e0\u6cd5\u88ab\u5f15\u7528\u7684\u3002</p> <p>\u793a\u4f8b\u4e2d\u6ca1\u6709\u5c55\u793a\u73af\u5883\u53d8\u91cf\u7684\u7528\u6cd5\uff0c\u8fd9\u91cc\u6211\u4eec\u7ed9\u4e00\u4e2a\u793a\u4f8b\uff0c\u8bf7\u8bfb\u8005\u7ed3\u5408\u6ce8\u91ca\u81ea\u884c\u7814\u7a76\uff1a <pre><code>env:\n  # \u58f0\u660e\u4e86\u4e00\u4e2a\u5168\u5c40\u4e0a\u4e0b\u6587\u7684\u73af\u5883\u53d8\u91cf\n  DAY_OF_WEEK: Monday\n\njobs:\n  greeting_job:\n    runs-on: ubuntu-latest\n    env:\n      # \u58f0\u660e\u4e86\u4e00\u4e2a\u4f5c\u4e1a\u4e0a\u4e0b\u6587\u7684\u73af\u5883\u53d8\u91cf\n      Greeting: Hello\n    steps:\n      - name: \"Say Hello Mona it's Monday\"\n        # \u4f7f\u7528\u65f6\u6211\u4eec\u5728\u53d8\u91cf\u524d\u52a0\u4e00\u4e2a`ENV.`\u7684\u7ea6\u675f\n        if: ${{ env.DAY_OF_WEEK == 'Monday' }}\n        # \u5f53\u4f7f\u7528\u7684\u73af\u5883\u53d8\u91cf\u662f\u5728\u4f5c\u4e1a\u5185\u58f0\u660e\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u7701\u7565`ENV.`\u7684\u7ea6\u675f\n        run: echo \"$Greeting $First_Name. Today is $DAY_OF_WEEK!\"\n        env:\n          # \u58f0\u660e\u4e86\u6b65\u9aa4\u4e0a\u4e0b\u6587\u7684\u73af\u5883\u53d8\u91cf\n          First_Name: Mona\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap09/#223","title":"2.2.3. \u8fde\u63a5\u5176\u5b83\u670d\u52a1","text":"<p>\u5728\u793a\u4f8b\u7684\u7b2c 31 \u884c\u5230\u7b2c 40 \u884c\uff0c\u6709\u4e00\u6bb5\u88ab\u6ce8\u91ca\u7684\u4ee3\u7801\uff0c\u8fd9\u662f\u7528\u6765\u542f\u7528 redis \u670d\u52a1\u7684\u3002Github Actions \u901a\u8fc7\u5bb9\u5668\u6280\u672f\u6765\u63d0\u4f9b\u8fd9\u4e9b\u670d\u52a1\u3002\u7406\u8bba\u4e0a\uff0c\u53ea\u8981\u5728 docker hub \u4e0a\u5b58\u5728\u67d0\u4e2a\u670d\u52a1\u7684 image\uff08\u955c\u50cf\uff09\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728 Github Actions \u4e2d\u4f7f\u7528\u5b83\u3002</p> <p>Attention</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u6211\u4eec\u8981\u5728 workflow \u4e2d\u4f7f\u7528\u670d\u52a1\uff0c\u6267\u884c\u8005 (runner) \u5fc5\u987b\u662f ubuntu \u64cd\u4f5c\u7cfb\u7edf\uff0c\u800c\u4e0d\u662f\u80fd\u5176\u5b83 Linux \u7cfb\u7edf\uff0c\u6216\u8005 windows \u548c MacOS\u3002</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\u6d41\u53ef\u4ee5\u8fd0\u884c\u5728\u6267\u884c\u8005 (runner) \u4e0a\uff0c\u4e5f\u53ef\u4ee5\u8fd0\u884c\u5728\u5bb9\u5668\u91cc\uff08\u8be5\u5bb9\u5668\u8fd0\u884c\u5728 runner \u4e0a\uff09\u3002\u5982\u679c\u5de5\u4f5c\u6d41\u8fd0\u884c\u5728\u5bb9\u5668\u91cc\uff0c\u5219\u9700\u8981\u901a\u8fc7\u81ea\u5b9a\u4e49\u7684\u6865\u63a5\u7f51\u7edc\u6765\u8fde\u63a5\u8fd0\u884c\u5728\u5bb9\u5668\u91cc\u7684\u670d\u52a1\u3002\u5982\u679c\u5de5\u4f5c\u6d41\u5c31\u8fd0\u884c\u5728\u6267\u884c\u8005 (runner) \u4e0a\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5c06\u5bb9\u5668\u7684\u7aef\u53e3\u6620\u5c04\u5230\u6267\u884c\u8005\u4e0a\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u5bb9\u5668\u91cc\u7684\u670d\u52a1\u4e86\u3002</p> <p>\u5728\u5de5\u4f5c\u6d41\u4e2d\u4f7f\u7528\u670d\u52a1\uff0c\u4e00\u822c\u9700\u8981\u7b49\u5f85\u5bb9\u5668\u5b8c\u5168\u542f\u52a8\u88ab\u521d\u59cb\u5316\u6210\u529f\u3002\u8fd9\u5c31\u662f\u7b2c 35 \u884c\uff08REDIS-CLI PING\uff09\u7684\u4f5c\u7528\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#3-actions","title":"3. \u7b2c\u4e09\u65b9\u5e94\u7528\u548c Actions","text":"<p>\u6211\u4eec\u5df2\u7ecf\u5728\u793a\u4f8b\u4e2d\u770b\u5230\u4e86\u4e00\u4e9b\u6765\u81ea\u5e94\u7528\u5e02\u573a\u7684 action\uff0c\u6bd4\u5982 actions/checkout, actions/setup-python, pypa/gh-action-pypi-publish, dawidd6/action-send-mail, codecove/Codecov \u7b49\u7b49\u3002\u8fd9\u91cc'/'\u4e4b\u524d\u7684\u662f action \u7684\u4f5c\u8005\uff0c\u4f5c\u8005\u4e3a actions \u7684\u662f GitHub \u5b98\u65b9\u7684 action\uff0c\u5176\u4ed6\u7684\u90fd\u662f\u7b2c\u4e09\u65b9\u7684 action\u3002\u8fd9\u4e9b action\uff0c\u5b83\u4eec\u7684\u540d\u5b57\u5c31\u5df2\u7ecf\u8bf4\u660e\u4e86\u5176\u529f\u80fd\uff0c\u56e0\u6b64\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u4f7f\u7528\u8f83\u591a\u7684\u7b2c\u4e09\u65b9 actions\uff0c\u5176\u4e2d\u6709\u4e00\u4e9b\u6211\u4eec\u8fdb\u884c\u4e86\u7b80\u8981\u8bf4\u660e\u5e76\u4e3e\u4f8b\u4e86\u4f7f\u7528\u65b9\u6cd5\u3002\u5982\u679c\u6211\u4eec\u6ca1\u6709\u8fdb\u884c\u7279\u522b\u8bf4\u660e\uff0c\u6216\u8005\u60a8\u60f3\u8fdb\u4e00\u6b65\u4e86\u89e3\u76f8\u5173\u4fe1\u606f\uff0c\u53ef\u4ee5\u8bbf\u95ee marketplace \u67e5\u770b\u76f8\u5173\u6587\u6863\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#31-github-pages","title":"3.1. Github pages \u90e8\u7f72","text":"<p>\u8fd9\u4e2a action \u53ef\u4ee5\u7528\u6765\u5c06\u9759\u6001\u7f51\u7ad9\u90e8\u7f72\u5230 Github Pages \u4e0a\u3002\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u5b83\u4e0e mkdocs/mike \u914d\u5408\u4f7f\u7528\u3002\u5176 ID \u662f JamesIves/github-pages-deploy-action\uff0c\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a <pre><code>name: Build and Deploy\non: [push]\npermissions:\n  contents: write\njobs:\n  build-and-deploy:\n    concurrency: ci-${{ github.ref }} # Recommended if you intend to make multiple deployments in quick succession.\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout \ud83d\udece\ufe0f\n        uses: actions/checkout@v3\n\n      - name: Install and Build \ud83d\udd27 # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.\n        run: |\n          npm ci\n          npm run build\n\n      - name: Deploy \ud83d\ude80\n        uses: JamesIves/github-pages-deploy-action@v4\n        with:\n          folder: build # The folder the action should deploy.\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap09/#32-docker","title":"3.2. \u6784\u5efa\u548c\u53d1\u5e03 docker \u955c\u50cf","text":"<p>\u663e\u7136\uff0c\u4f5c\u4e3a\u6301\u7eed\u90e8\u7f72\u7684\u4e00\u4e2a\u6b65\u9aa4\uff0cdocker \u955c\u50cf\u7684\u6784\u5efa\u4e5f\u5e94\u8be5\u901a\u8fc7 CI/CD \u670d\u52a1\u5668\u6765\u5b8c\u6210\u5e76\u53d1\u5e03\u3002docker \u5b98\u65b9\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5b8c\u6210\u6b64\u529f\u80fd\u7684 action\uff0c id \u662f docker/build-push-action\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#33-github-release","title":"3.3. Github Release","text":"<p>\u4e00\u822c\u5730\uff0cPython \u9879\u76ee\u7684\u53d1\u5e03\u90fd\u662f\u901a\u8fc7 PyPI \u6765\u5b8c\u6210\u7684\u3002\u4f46\u662f\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u5176\u53d1\u5e03\u5230 Github Release \u4e0a\u3002\u8fd9\u4e2a action \u7684 id \u662f softprops/action-gh-release\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#34","title":"3.4. \u5236\u8ba2\u53d1\u5e03\u65e5\u5fd7\u8349\u6848","text":"<p>\u7f16\u5199\u53d1\u5e03\u65e5\u5fd7\uff08release notes\uff09\u662f\u4e00\u4ef6\u67af\u71e5\u4e4f\u5473\u7684\u4e8b\u3002relase-drafter/release-drafter \u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u81ea\u52a8\u751f\u6210\u53d1\u5e03\u65e5\u5fd7\u8349\u6848\u3002\u5b83\u5c06\u81ea\u52a8\u4ece\u4ee3\u7801\u63d0\u4ea4\u65e5\u5fd7\u4e2d\u627e\u5230\u6709\u7528\u7684\u4fe1\u606f\u4ee5\u7ec4\u7ec7\u4e00\u4efd\u53d1\u5e03\u65e5\u5fd7\u3002</p> <p>\u5728\u7f16\u5199\u53d1\u5e03\u65e5\u5fd7\u65f6\uff0c\u5f80\u5f80\u53ea\u9700\u8981\u8bb0\u5f55\u529f\u80fd\u6027\u7684\u53d8\u66f4\u3001\u4fee\u8ba2\uff08bug fix\uff09\u3001\u6027\u80fd\u589e\u5f3a\u8fd9\u7c7b\u5f71\u54cd\u5230\u5916\u90e8\u4f7f\u7528\u7684\u4fe1\u606f\u3002\u4f46\u5728\u6211\u4eec\u8fdb\u884c\u4ee3\u7801\u63d0\u4ea4\u65f6\uff0c\u4f1a\u5b58\u5728\u5404\u79cd\u5404\u6837\u7684\u63d0\u4ea4\uff0c\u9664\u4e86\u4e0a\u8ff0\u51e0\u7c7b\u4e4b\u5916\uff0c\u8fd8\u6709\u6587\u6863\u4fee\u8ba2\uff0c\u4ee3\u7801\u683c\u5f0f\u5316\uff0cCI \u6d41\u7a0b\u53d8\u66f4\u7b49\u7b49\u3002Release-drafter \u5982\u4f55\u81ea\u52a8\u628a\u8fd9\u4e9b\u65e0\u7528\u7684\u4fe1\u606f\u8fc7\u6ee4\u6389\u5462\uff1f\u8fd9\u5c31\u9700\u8981\u6211\u4eec\u5728\u63d0\u4ea4\u65e5\u5fd7\u65f6\uff0c\u4e00\u662f\u4e25\u683c\u8fdb\u884c\u5206\u7c7b\uff0c\u4e8c\u662f\u8981\u9075\u5faa\u89c4\u8303\u7684\u683c\u5f0f\u3002\u6211\u4eec\u5728\u7b2c 2 \u7ae0\u7684\u7f16\u8f91\u63d0\u4ea4\u4fe1\u606f\u7684\u6269\u5c55\u8fd9\u4e00\u8282\u4e2d\uff0c\u4ecb\u7ecd\u4e86\u4e00\u4e2a\u7f16\u8f91\u63d0\u4ea4\u4fe1\u606f\u7684\u6269\u5c55\u3002\u901a\u8fc7\u6b64\u7c7b\u5de5\u5177\uff0c\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u6211\u4eec\u63d0\u4ea4\u7684\u65e5\u5fd7\u90fd\u6709\u826f\u597d\u7684\u5206\u7c7b\uff0c\u4ece\u800c release-drafter \u5c31\u53ef\u80fd\u5b8c\u6210\u81ea\u52a8\u4fe1\u606f\u63d0\u53d6\uff0c\u5f62\u6210\u8349\u6848\u3002\u63a5\u4e0b\u6765\u5373\u4f7f\u8fd8\u9700\u8981\u4eba\u5de5\u7f16\u8f91\uff0c\u5de5\u4f5c\u91cf\u4e5f\u4f1a\u5c11\u4e0d\u5c11\u3002</p> <p>\u6b63\u5982\u6211\u4eec\u5f00\u5934\u6240\u8bf4\u7684\uff0c\u597d\u7684\u5f00\u53d1\u4e60\u60ef\u4e0d\u80fd\u4ec5\u4ec5\u9760\u57f9\u517b\u7a0b\u5e8f\u5458\u7684\u610f\u8bc6\uff0c\u91cd\u8981\u7684\u662f\uff0c\u8981\u901a\u8fc7\u4e00\u7cfb\u5217\u73af\u73af\u76f8\u6263\u7684\u5de5\u5177\uff0c\u6765\u628a\u6211\u4eec\u7684\u6d41\u7a0b\u6d41\u6c34\u7ebf\u5316\uff0c\u4ece\u800c\u5f97\u5230\u5f3a\u5236\u9075\u5faa\u3002</p> <p>\u8fd8\u6709\u4e00\u4e9b\u597d\u73a9\u7684 action\uff0c\u6bd4\u5982\u4e00\u4e2a\u751f\u6210\u8d2a\u5403\u86c7\u6e38\u620f\u7684 action\uff0cid \u662f Platane/snk\u3002\u5b83\u4f1a\u751f\u6210\u5982\u4e0b\u7684\u8d2a\u5403\u86c7\u6e38\u620f\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap09/#35","title":"3.5. \u901a\u77e5\u6d88\u606f","text":"<p>\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u90ae\u4ef6\u901a\u77e5\u3002\u5728\u5e94\u7528\u5e02\u573a\u91cc\uff0c\u8fd8\u6709\u5404\u79cd\u5404\u6837\u7684\u901a\u77e5 action\uff0c\u6bd4\u5982 Slack \u901a\u77e5\uff0c\u53ef\u4ee5\u901a\u8fc7 Ilshidur/action-slack \u8fd9\u4e2a id \u6765\u627e\u5230\u5b83\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#36-giscus","title":"3.6. Giscus","text":"<p>Giscus \u662f\u4e00\u4e2a\u57fa\u4e8e Github Discussion \u7684\u8bc4\u8bba\u7cfb\u7edf\u3002\u5b83\u7684 id \u662f giscus/giscus\u3002\u5982\u679c\u4f60\u4f7f\u7528\u4e86 gitpages \u4f5c\u4e3a\u535a\u5ba2\u548c\u9759\u6001\u7ad9\u7cfb\u7edf\uff0c\u4f60\u53ef\u4ee5\u5728 Github \u4e0a\u5b89\u88c5\u5b83\uff0c\u5e76\u5728\u535a\u5ba2\u548c\u9759\u6001\u7ad9\u7cfb\u7edf\u4e2d\u589e\u52a0\u8bc4\u8bba\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap09/#4-github-ci-python","title":"4. \u901a\u8fc7 Github CI \u53d1\u5e03 Python \u5e93","text":"<p>\u6211\u4eec\u5728\u524d\u9762\u770b\u5230\u7684\u4f8b\u5b50\u6765\u81ea\u4e8e<code>ppw</code>\u751f\u6210\u7684\u9879\u76ee\u4e0b\u7684.github\\workflows\\dev.yml \u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u5b9a\u4e49\u7684\u5de5\u4f5c\u6d41\u9002\u7528\u4e8e\u6240\u6709\u7684\u5206\u652f\uff0c\u5728\u6bcf\u6b21 push \u65f6\u90fd\u4f1a\u89e6\u53d1\u3002\u5b83\u7684\u4f5c\u7528\u662f\u8fdb\u884c\u96c6\u6210\u6d4b\u8bd5\uff0c\u6784\u5efa\u6d4b\u8bd5\u5305\u5e76\u53d1\u5e03\u5230 testpypi\uff0c\u5e76\u53d1\u5e03\u975e\u6b63\u5f0f\u6587\u6863\u5230 Github Pages \u4e0a\u3002</p> <p>\u6b63\u5f0f\u7684\u7248\u672c\u53d1\u5e03\u5de5\u4f5c\u4ea4\u7ed9\u4e86 release.yml\u3002\u8fd9\u4e2a\u5de5\u4f5c\u6d41\u4ec5\u9002\u7528\u4e8e main \u5206\u652f\uff0c\u5e76\u4e14\u53ea\u6709\u5f53 main \u5206\u652f\u4e0a\u6709\u6253\u6807\u7b7e\u4e8b\u4ef6\u53d1\u751f\uff0c\u5e76\u4e14\u6807\u7b7e\u662f\u4ee5'v'\u5b57\u7ebf\u5f00\u5934\u65f6\uff0c\u624d\u4f1a\u771f\u6b63\u8fd0\u884c\u3002\u4e0b\u9762\u662f\u8fd9\u4e2a\u5de5\u4f5c\u6d41\u7684\u5185\u5bb9\uff1a release.yml<pre><code># PUBLISH PACKAGE ON RELEASE BRANCH IF IT'S TAGGED WITH 'V*'\n\nname: build &amp; release\n\n# CONTROLS WHEN THE ACTION WILL RUN.\non:\n  # TRIGGERS THE WORKFLOW ON PUSH OR PULL REQUEST EVENTS BUT ONLY FOR THE MASTER BRANCH\n  push:\n    branch: [main, master]\n    tags:\n      - 'v*'\n\n  # ALLOWS YOU TO RUN THIS WORKFLOW MANUALLY FROM THE ACTIONS TAB\n  workflow_dispatch:\n\n# A WORKFLOW RUN IS MADE UP OF ONE OR MORE JOBS THAT CAN RUN SEQUENTIALLY OR IN PARALLEL\njobs:\n  release:\n    runs-on: ubuntu-latest\n\n    strategy:\n      matrix:\n        python-versions: ['3.9']\n\n    # MAP STEP OUTPUTS TO JOB OUTPUTS SO THEY CAN BE SHARE AMONG JOBS\n    outputs:\n      package_version: ${{ steps.variables_step.outputs.package_version }}\n      package_name: ${{ steps.variables_step.outputs.package_name }}\n      repo_name: ${{ steps.variables_step.outputs.repo_name }}\n      repo_owner: ${{ steps.variables_step.outputs.repo_owner }}\n\n    # STEPS REPRESENT A SEQUENCE OF TASKS THAT WILL BE EXECUTED AS PART OF THE JOB\n    steps:\n      # CHECKS-OUT YOUR REPOSITORY UNDER $GITHUB_WORKSPACE, SO YOUR JOB CAN ACCESS IT\n      - uses: actions/checkout@v2\n\n      - name: build change log\n        id: build_changelog\n        uses: mikepenz/release-changelog-builder-action@v3.2.0\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n\n      - uses: actions/setup-python@v2\n        with:\n          python-version: ${{ matrix.python-versions }}\n\n      - name: Install dependencies\n        run: |\n          python -m pip install --upgrade pip\n          pip install tox-gh-actions poetry\n\n        # DECLARE PACKAGE_VERSION, REPO_OWNER, REPO_NAME, PACKAGE_NAME SO YOU MAY USE IT IN WEB HOOKS.\n      - name: Declare variables for convenient use\n        id: variables_step\n        run: |\n          echo \"::set-output name=repo_owner::${GITHUB_REPOSITORY%/*}\"\n          echo \"::set-output name=repo_name::${GITHUB_REPOSITORY#*/}\"\n          echo \"::set-output name=package_name::`poetry version | awk '{print $1}'`\"\n          echo \"::set-output name=package_version::`poetry version --short`\"\n        shell: bash\n\n      - name: publish documentation\n        run: |\n          poetry install -E dev\n          poetry run mkdocs build\n          git config --global user.name Docs deploy\n          git config --global user.email docs@dummy.bot.com\n          poetry run mike deploy -p -f --ignore `poetry version --short`\n          poetry run mike set-default -p `poetry version --short`\n\n      - name: Build wheels and source tarball\n        run: |\n          poetry lock\n          poetry build\n\n      - name: Create Release\n        id: create_release\n        uses: actions/create-release@v1\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        with:\n          tag_name: ${{ github.ref_name }}\n          release_name: Release ${{ github.ref_name }}\n          body: ${{ steps.build_changelog.outputs.changelog }}\n          draft: false\n          prerelease: false\n\n      - name: publish to PYPI\n        uses: pypa/gh-action-pypi-publish@release/v1\n        with:\n          user: __token__\n          password: ${{ secrets.PYPI_API_TOKEN }}\n          skip_existing: true\n</code></pre> \u8fd9\u4e2a\u5de5\u4f5c\u6d41\u7528\u5230\u7684\u8bed\u6cd5\u7279\u6027\u524d\u9762\u5df2\u7ecf\u8bb2\u8fc7\u4e86\u3002\u8fd9\u91cc\u5c31\u4e0d\u518d\u89e3\u91ca\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/","title":"10 \u64b0\u5199\u6280\u672f\u6587\u6863","text":"<p>\u6240\u6709\u597d\u7684\u4ea7\u54c1\u90fd\u5e94\u8be5\u6709\u4e00\u4efd\u7b80\u6d01\u6613\u8bfb\u7684\u4f7f\u7528\u8bf4\u660e\u4e66\uff0c\u9664\u4e86\u82f9\u679c\u3002\u82f9\u679c\u7528\u6237\u5929\u751f\u5c31\u77e5\u9053\u5982\u4f55\u4f7f\u7528\u4ed6\u4eec\u7684\u4ea7\u54c1\uff0c\u56e0\u6b64\u5b8c\u5168\u4e0d\u9700\u8981\u6587\u6863\u3002\u8fd9\u662f\u771f\u7684\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u82f9\u679c\u4ea7\u54c1\uff0c\u90fd\u6ca1\u6709\u7528\u6237\u8bf4\u660e\u4e66\u3002</p> <p>\u4f46\u662f\u5bf9\u4e8e\u8f6f\u4ef6\u6765\u8bf4\uff0c\u5176\u590d\u6742\u6027\u5f80\u5f80\u8981\u6c42\u5fc5\u987b\u6709\u4e0e\u4e4b\u914d\u5957\u7684\u8be6\u5c3d\u7684\u6280\u672f\u6587\u6863\uff0c\u4f7f\u7528\u8005\u624d\u597d\u4e0a\u624b\u3002\u5373\u4f7f\u662f\u5f00\u6e90\u4ea7\u54c1\uff0c\u4eba\u4eec\u901a\u5e38\u4e5f\u662f\u9996\u5148\u501f\u52a9\u4ea7\u54c1\u7684\u6280\u672f\u6587\u6863\u5feb\u901f\u4e0a\u624b\u3002\u5728\u4e00\u4e2a\u901f\u98df\u65f6\u4ee3\uff0c\u5982\u679c\u4e0d\u662f\u903c\u4e0d\u5f97\u5df2\uff0c\u8c01\u6709\u65f6\u95f4\u53bb\u4e00\u884c\u4e00\u884c\u5730\u770b\u4ee3\u7801\u5462\uff1f</p> <p>\u65e2\u7136\u6280\u672f\u6587\u6863\u5982\u6b64\u91cd\u8981\uff0c\u90a3\u4e48\uff0c\u5982\u4f55\u5199\u597d\u6280\u672f\u6587\u6863\uff0c\u6709\u54ea\u4e9b\u5de5\u5177\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fdb\u884c\u6587\u6863\u521b\u4f5c\uff0c\u597d\u7684\u6280\u672f\u6587\u6863\u6709\u54ea\u4e9b\u8bc4\u4ef7\u6807\u51c6\uff0c\u5176\u8bc4\u4ef7\u6807\u51c6\u80fd\u5426\u8c61\u8f6f\u4ef6\u4e00\u6837\u8fdb\u884c\u91cf\u5316\uff1f</p> <p>\u4f5c\u8005\u8ba4\u4e3a\uff0c\u9664\u4e86\u8981\u6c42\u6280\u672f\u4f5c\u8005\u672c\u8eab\u6709\u8f83\u597d\u7684\u6587\u7b14\u4e4b\u5916\uff0c\u4e00\u4e2a\u597d\u7684\u6280\u672f\u6587\u6863\u5e38\u5e38\u8fd8\u5305\u62ec\u4ee5\u4e0b\u6280\u672f\u8981\u6c42\uff1a</p> <ol> <li>\u89c4\u8303\u7684\u6587\u6863\u7ed3\u6784\uff0c\u7b80\u6d01\u4f18\u7f8e\u7684\u683c\u5f0f</li> <li>\u5185\u5bb9\u51c6\u786e\u65e0\u8bef\uff1a\u5305\u62ec\u6587\u6863\u7248\u672c\u4e0e\u4ee3\u7801\u5b9e\u73b0\u59cb\u7ec8\u4fdd\u6301\u4e00\u81f4\uff08\u591a\u7248\u672c\uff09</li> <li>\u63d0\u4f9b\u5fc5\u8981\u7684\u5bfc\u822a\u548c\u4ea4\u53c9\u5f15\u7528\uff0c\u5e2e\u52a9\u8bfb\u8005\u8fdb\u4e00\u6b65\u9605\u8bfb\uff0c\u5e76\u4e14\u65e0\u6b7b\u94fe</li> <li>\u6587\u6863\u5728\u7ebf\u6258\u7ba1\uff0c\u968f\u65f6\u53ef\u9605\u8bfb\u548c\u53ef\u641c\u7d22</li> <li>\u5728\u5fc5\u8981\u65f6\u80fd\u591f\u751f\u6210\u5404\u79cd\u683c\u5f0f\uff0c\u6bd4\u5982 html, PDF, epub \u7b49\u3002</li> </ol> <p>\u8fd9\u7bc7\u6587\u7ae0\u5c06\u63a2\u7d22\u5e38\u89c1\u7684\u6587\u6863\u6784\u5efa\u6280\u672f\u6808\u3002\u4f5c\u8005\u7684\u91cd\u70b9\u4e0d\u5728\u4e8e\u63d0\u4f9b\u4e00\u4efd\u5927\u800c\u5168\u7684\u64cd\u4f5c\u6307\u5357\uff0c\u800c\u5728\u4e8e\u63a2\u7d22\u5404\u79cd\u53ef\u80fd\u7684\u65b9\u6848\uff0c\u5e76\u5bf9\u5b83\u4eec\u8fdb\u884c\u6bd4\u8f83\uff0c\u4ece\u800c\u5e2e\u52a9\u60a8\u9009\u62e9\u81ea\u5df1\u6700\u9002\u5408\u7684\u65b9\u6848\u3002\u81f3\u4e8e\u5982\u4f55\u4e00\u6b65\u6b65\u5730\u5e94\u7528\u8fd9\u4e9b\u65b9\u6848\uff0c\u6587\u7ae0\u4e5f\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684\u94fe\u63a5\u4f9b\u53c2\u8003\u3002</p> <p>\u901a\u8fc7\u9605\u8bfb\u8fd9\u4e00\u7ae0\uff0c\u60a8\u5c06\u4e86\u89e3\u5230\uff1a</p> <ol> <li>\u6587\u6863\u7ed3\u6784\u7684\u6700\u4f73\u5b9e\u8df5</li> <li>\u6587\u6863\u6784\u5efa\u7684\u4e24\u5927\u95e8\u6d3e</li> <li>\u5982\u4f55\u81ea\u52a8\u751f\u6210 API \u6587\u6863</li> <li>\u5982\u4f55\u4f7f\u7528 GitHub Pages \u8fdb\u884c\u6587\u6863\u53d1\u5e03</li> </ol>"},{"location":"articles/python/best-practice-python/chap10/#1","title":"1. \u6280\u672f\u6587\u6863\u7684\u7ec4\u6210","text":"<p>\u4e00\u4efd\u6280\u672f\u6587\u6863\u901a\u5e38\u6709\u4e24\u4e2a\u6765\u6e90\uff1a\u4e00\u662f\u6211\u4eec\u5728\u5199\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\u6309\u7167\u4e00\u5b9a\u98ce\u683c\u8fdb\u884c\u6ce8\u91ca\uff0c\u901a\u8fc7\u5de5\u5177\u5c06\u5176\u63d0\u53d6\u51fa\u6765\u5f62\u6210\u7684\u6240\u8c13 API \u6587\u6863\uff0c\u8fd9\u90e8\u5206\u6587\u6863\u6df1\u5165\u5230\u7ec6\u8282\u4e4b\u4e2d\uff1b\u4e8c\u662f\u5728\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u7279\u522b\u64b0\u5199\u7684\u5e2e\u52a9\u6587\u6863\uff0c\u76f8\u6bd4 API \u6587\u6863\uff0c\u5b83\u4eec\u66f4\u52a0\u5b8f\u89c2\u6982\u8981\uff0c\u6db5\u76d6\u4e86 API \u6587\u6863\u4e2d\u4e0d\u9002\u5408\u63d0\u53ca\u7684\u90e8\u5206\uff0c\u6bd4\u5982\u6574\u4e2a\u8f6f\u4ef6\u7684\u8bbe\u8ba1\u7406\u5ff5\u4e0e\u539f\u5219\u3001\u5b89\u88c5\u6307\u5357\u3001License \u4fe1\u606f\u3001\u7248\u672c\u5386\u53f2\u3001\u6db5\u76d6\u5168\u5c40\u7684\u793a\u4f8b\u7b49\u7b49\u3002</p> <p>\u65f6\u81f3\u4eca\u65e5\uff0c\u5728 Python \u4e16\u754c\u91cc\uff0c\u5927\u81f4\u6709\u4e24\u79cd\u6d41\u884c\u7684\u6280\u672f\u6587\u6863\u6784\u5efa\u6280\u672f\u6808\uff0c\u5373 sphinx \u548c mkdocs\u3002\u4e0b\u9762\u662f\u57fa\u4e8e sphinx \u6280\u672f\u6808\u6784\u5efa\u7684\u4e00\u4efd\u6587\u4ef6\u6e05\u5355\uff1a <pre><code>.\n\u251c\u2500\u2500 AUTHORS.rst\n\u251c\u2500\u2500 CONTRIBUTING.rst\n\u251c\u2500\u2500 HISTORY.rst\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.rst\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 conf.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 Makefile\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 make.bat\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.rst\n\u2514\u2500\u2500 Makefile\n</code></pre> \u8fd9\u4e2a\u5e03\u5c40\u662f\u300aPython \u6700\u4f73\u5b9e\u8df5\u6307\u5357\u300b\u4e00\u4e66\u4e2d\u63a8\u8350\u7684\uff0c\u5b83\u7684\u6700\u521d\u51fa\u5904\u662f Knnedth Reitz \u5728 2013 \u5e74\u63a8\u8350\u7684\u4e00\u4e2a Python \u9879\u76ee\u5e03\u5c40\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u4e3a\u9002\u5e94\u5f00\u6e90\u9879\u76ee\u7684\u9700\u8981\uff0c\u6211\u5728\u8fd9\u91cc\u589e\u52a0\u4e86 CONTRIBUTING.rst \u548c AUTHORS.rst \u4e24\u4e2a\u6587\u4ef6\u3002\u5176\u7279\u70b9\u662f\uff0c\u6587\u6863\u7684\u7c7b\u578b\u662f rst \u6587\u4ef6\uff0c\u6587\u6863\u76ee\u5f55\u4e0b\u5305\u542b\u4e86\u4e00\u4e2a conf.py \u7684 python \u6587\u4ef6\u548c\u4e00\u4efd Makefile \u6587\u4ef6\u3002</p> <p>Info</p> <p>Knnedth Reitz \u662f\u4e00\u540d\u8f6f\u4ef6\u67b6\u6784\u5e08\uff0c\u8457\u540d\u7684 Python \u5e93 requests \u7684\u4f5c\u8005\uff0c\u4ed6\u7684 Python ORM \u5e93 records\uff0c\u4ee5\u53ca\u865a\u62df\u73af\u5883\u7ba1\u7406\u5de5\u5177 PipEnv \u4e5f\u540c\u6837\u5e7f\u53d7\u6b22\u8fce\u3002\u4ed6\u81f4\u529b\u4e8e\u8bbe\u8ba1\u9ad8\u5ea6\u62bd\u8c61\u3001\u964d\u4f4e\u8ba4\u77e5\u8d1f\u62c5\u548c\u6613\u4e8e\u4f7f\u7528\u7684\u8f6f\u4ef6\u3002</p> <p>\u5982\u679c\u4f60\u4f7f\u7528 Cookiecutter-pypackage \u6765\u751f\u6210\u9879\u76ee\u7684\u6846\u67b6\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b83\u751f\u6210\u7684\u9879\u76ee\u6b63\u597d\u5c31\u5305\u62ec\u4e86\u8fd9\u4e9b\u6587\u4ef6\u3002</p> <p>\u53e6\u4e00\u6761\u6280\u672f\u8def\u7ebf\u5219\u662f mkdocs\u3002\u8fd9\u4e5f\u6b63\u662f ppw \u6240\u91c7\u7528\u7684\u6280\u672f\u8def\u7ebf\u3002\u5c3d\u7ba1\u7b2c 4 \u7ae0\u5df2\u7ecf\u7ed9\u51fa\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684\u6587\u4ef6\u6e05\u5355\uff0c\u4f46\u4e3a\u4e86\u4fbf\u4e8e\u8bfb\u8005\u7406\u89e3\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u8fd8\u662f\u7ed9\u51fa\u4e00\u4e2a\u7ecf\u8fc7\u7cbe\u7b80\u7684\u3001\u4ec5\u4e0e\u6587\u6863\u6784\u5efa\u76f8\u5173\u7684\u6e05\u5355\u5982\u4e0b\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 AUTHORS.md\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 HISTORY.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 api.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 authors.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 contributing.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 history.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 index.md\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 installation.md\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 usage.md\n\u2514\u2500\u2500 mkdocs.yml\n</code></pre> <p>\u8fd9\u6761\u6280\u672f\u8def\u7ebf\u4f7f\u7528 markdown \u7684\u6587\u4ef6\u683c\u5f0f\uff0c\u7531 mkdocs.yml \u63d0\u4f9b\u4e3b\u63a7\u6587\u6863\u548c\u914d\u7f6e\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u5e76\u4e0d\u9700\u8981\u522b\u7684\u914d\u7f6e\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u6765\u4ecb\u7ecd\u4e0b rst \u548c markdown \u4e24\u79cd\u6587\u6863\u683c\u5f0f\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#2","title":"2. \u4e24\u79cd\u4e3b\u8981\u7684\u6587\u6863\u683c\u5f0f","text":"<p>\u6280\u672f\u6587\u6863\u4e00\u822c\u4f7f\u7528\u7eaf\u6587\u672c\u683c\u5f0f\u7684\u8d85\u96c6\u6765\u4e66\u5199\u3002\u5e38\u89c1\u7684\u683c\u5f0f\u6709 reStructuredText\uff08\u4ee5\u4e0b\u79f0\u4e3a rst) \u548c Markdown\u3002\u524d\u8005\u5386\u53f2\u66f4\u4e3a\u4e45\u8fdc\uff0c\u8bed\u6cd5\u590d\u6742\uff0c\u4f46\u529f\u80fd\u5f3a\u5927\uff1b\u540e\u8005\u6bd4\u8f83\u65b0\u9896\uff0c\u8bed\u6cd5\u5341\u5206\u7b80\u6d01\uff0c\u5728\u4e00\u4e9b\u7b2c\u4e09\u65b9\u63d2\u4ef6\u7684\u652f\u6301\u4e0b\uff0c\u529f\u80fd\u4e0a\u4e5f\u5df2\u9010\u6e10\u8ffd\u8d76\u4e0a\u6765\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#3-restructured-text","title":"3. reStructured Text","text":"<p>\u8fd9\u4e00\u8282\u6211\u4eec\u7b80\u8981\u5730\u4ecb\u7ecd reStructured Text\uff08\u4ee5\u4e0b\u7b80\u79f0\u4e3a rst\uff09\u7684\u5e38\u7528\u8bed\u6cd5\u3002\u5982\u679c\u8bfb\u8005\u6709\u5174\u8da3\u5168\u9762\u4e86\u89e3 rst \u7684\u8bed\u6cd5\uff0c\u53ef\u4ee5\u53c2\u8003 reStructuredText \u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#31-section","title":"3.1. \u7ae0\u8282\u6807\u9898 (section)","text":"<p>\u5728 rst \u4e2d\uff0c\u7ae0\u8282\u6807\u9898\u662f\u901a\u8fc7\u6587\u672c\u52a0\u4e0a\u7b49\u6570\u91cf\u7684\u4e0b\u7f00\u6807\u70b9\uff08\u9650#=-~:'\"^_*+&lt;&gt;`) \u6765\u6784\u6210\u7684\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <p><pre><code>\u4e00\u7ea7\u6807\u9898\n####\n\nrestructured text example\n\n1. \u4e8c\u7ea7\u6807\u9898\n=====\n\n1.1 \u4e09\u7ea7\u6807\u9898\n-------\n\n1.1.1 \u56db\u7ea7\u6807\u9898\n^^^^^^^^^\n\n1.1.2 \u56db\u7ea7\u6807\u9898\n^^^^^^^^^\n1.1.1.2.1 \u4e94\u7ea7\u6807\u9898\n+++++++++++++\n\n1.1.1.2.1.1 \u516d\u7ea7\u6807\u9898\n***************\n1.2 \u4e09\u7ea7\u6807\u9898\n-------\n</code></pre> \u4e0a\u8ff0\u6587\u672c\u5c06\u6e32\u67d3\u4e3a\u4ee5\u4e0b\u683c\u5f0f\uff1a</p> <p></p> <p>\u8fd9\u79cd\u8bed\u6cd5\u7684\u70e6\u7410\u548c\u96be\u7528\u4e4b\u5904\u5728\u4e8e\uff0c\u6807\u9898\u5b57\u7b26\u6570\u4e0e\u4e0b\u9762\u7684\u6807\u70b9\u7b26\u53f7\u6570\u5fc5\u987b\u5339\u914d\u3002\u5982\u679c\u4f7f\u7528\u4e86\u975e\u7b49\u5bbd\u5b57\u7b26\uff08\u6bd4\u5982\u4f7f\u7528\u4e86\u4e2d\u6587\u6807\u9898\uff09\uff0c\u5339\u914d\u5c06\u5341\u5206\u56f0\u96be\uff0c\u60a8\u53ef\u4ee5\u81ea\u884c\u5bfb\u627e\u4e00\u4e2a\u652f\u6301 rst \u7684\u7f16\u8f91\u5668\uff08\u6bd4\u5982\u5728 vscode \u4e2d\uff0c\u5b89\u88c5\"RST Preview\"\u6269\u5c55\uff09\uff0c\u624b\u52a8\u952e\u5165\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u9a8c\u8bc1\u8fd9\u4e00\u70b9\u3002</p> <p>\u9664\u4e86\u5728\u8f93\u5165\u4e0a\u4e0d\u591f\u7b80\u6d01\u5916\uff0c\u6807\u9898\u7684\u7ea7\u522b\u4e0e\u7b26\u53f7\u65e0\u5173\uff0c\u800c\u53ea\u4e0e\u7b26\u53f7\u51fa\u73b0\u7684\u987a\u5e8f\u6709\u5173\uff0c\u4e5f\u662f\u5bb9\u6613\u51fa\u9519\u7684\u5730\u65b9\u3002\u4f7f\u7528\u8005\u5fc5\u987b\u8bb0\u4f4f\u6bcf\u4e2a\u7b26\u53f7\u4e0e\u6807\u9898\u7ea7\u522b\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u5426\u5219\u751f\u6210\u7684\u6587\u6863\u5c31\u4f1a\u51fa\u73b0\u6807\u9898\u7ea7\u522b\u9519\u8bef\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#32-list","title":"3.2. \u5217\u8868 (list)","text":"<p>\u5728 rst \u4e2d\uff0c\u4f7f\u7528*,-,+\u505a\u9879\u76ee\u7b26\u53f7\u6784\u6210\u65e0\u5e8f\u5217\u8868\uff1b\u6709\u5e8f\u5217\u8868\u5219\u4ee5\u6570\u5b57\u3001\u5b57\u6bcd\u3001\u7f57\u9a6c\u6570\u5b57\u52a0\u4e0a'.'\u6216\u8005\u62ec\u53f7\u6765\u6784\u6210\u3002\u8bf7\u89c1\u4ee5\u4e0b\u793a\u4f8b\uff1a <pre><code>*   \u65e0\u5e8f 1\n*   \u65e0\u5e8f 2\n\n-   \u65e0\u5e8f 1\n-   \u65e0\u5e8f 2\n\n+   \u65e0\u5e8f 3\n\n1.  \u6709\u5e8f 1\n2.  \u6709\u5e8f 2\n\n2)  \u6709\u5e8f 2)\n3)  \u6709\u5e8f 3\uff09\n\n(3) \u6709\u5e8f (3)\n(4) \u6709\u5e8f (4)\n\ni.  \u6709\u5e8f \u4e00\nii.  \u6709\u5e8f \u4e8c\n\nII.  \u6709\u5e8f \u8d30\nIII.  \u6709\u5e8f \u53c1\n\nc.  \u6709\u5e8f three\nd.  \u6709\u5e8f four\n</code></pre> \u793a\u4f8b\u4e2d\uff0c\u6709\u5e8f\u5217\u8868\u53ef\u4ee5\u4f7f\u7528\u53f3\u62ec\u53f7\uff0c\u6216\u8005\u5b8c\u5168\u5305\u56f4\u7684\u62ec\u53f7\uff0c\u4f46\u4e0d\u80fd\u53ea\u4f7f\u7528\u5de6\u62ec\u53f7\u3002\u4e0a\u8ff0\u793a\u4f8b\u663e\u793a\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap10/#33","title":"3.3. \u8868\u683c","text":"<p>rst \u6838\u5fc3\u8bed\u6cd5\u652f\u6301\u4e24\u79cd\u8868\u683c\u8868\u793a\u65b9\u6cd5\uff0c\u5373\u7f51\u683c\u8868\u683c\u548c\u7b80\u5355\u8868\u683c\u3002\u7f51\u683c\u8868\u683c\u5c31\u662f\u4f7f\u7528\u4e00\u4e9b\u7b26\u53f7\u6765\u6784\u6210\u8868\u683c\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>+------------------------+------------+----------+----------+\n| Header row, column 1   | Header 2   | Header 3 | Header 4 |\n| (header rows optional) |            |          |          |\n+========================+============+==========+==========+\n| body row 1, column 1   | column 2   | column 3 | column 4 |\n+------------------------+------------+----------+----------+\n| body row 2             | Cells may span columns.          |\n+------------------------+------------+---------------------+\n| body row 3             | Cells may  | - Table cells       |\n+------------------------+ span rows. | - contain           |\n| body row 4             |            | - body elements.    |\n+------------------------+------------+---------------------+\n</code></pre> \u8fd9\u6837\u5236\u8868\u663e\u7136\u5341\u5206\u70e6\u7410\uff0c\u4e0d\u6613\u7ef4\u62a4\u3002\u7b80\u5355\u8868\u683c\u5728\u6b64\u57fa\u7840\u4e0a\u505a\u4e86\u4e00\u4e9b\u7b80\u5316\uff0c\u4e0d\u518d\u8981\u6c42\u5217\u4e4b\u95f4\u63d2\u5165\u7ad6\u7ebf\u8fdb\u884c\u5206\u5272\uff0c\u4f46\u662f\u529f\u80fd\u53c8\u53d7\u5230\u9650\u5236\u3002\u4e8e\u662f rst \u901a\u8fc7\u6307\u4ee4\u8bed\u6cd5\uff0c\u6269\u5c55\u51fa\u6765 csv \u8868\u683c\u548c list \u8868\u683c\u3002\u4e0b\u9762\u662f csv \u8868\u683c\u4e00\u4f8b\uff1a <pre><code>.. csv-table:: \u7269\u7406\u5185\u5b58\u9700\u6c42\u8868\n    :header: \"\u884c\u60c5\u6570\u636e\",\"\u8bb0\u5f55\u6570\uff08\u6bcf\u54c1\u79cd\uff09\",\"\u65f6\u957f\uff08\u5e74\uff09\",\"\u7269\u7406\u5185\u5b58\uff08GB\uff09\"\n    :widths: 12, 15, 10, 15\n\n    \u65e5\u7ebf\uff0c1000,4,0.75\n</code></pre> \u8fd9\u91cc 1-3 \u884c\u662f\u6307\u4ee4\uff0c\u7b2c 5 \u884c\u5219\u662f csv \u6570\u636e\u3002\u4e0a\u9762\u7684\u8bed\u6cd5\u5c06\u751f\u6210\u4e0b\u9762\u7684\u8868\u683c\uff1a</p> <p></p> <p>\u76f8\u6bd4\u8f83\u800c\u8a00\uff0c\u8fd9\u79cd\u8bed\u6cd5\u5728\u8f93\u5165\u5927\u91cf\u6570\u636e\u7684\u60c5\u51b5\u4e0b\uff0c\u4f1a\u7b80\u5355\u4e0d\u5c11\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#34","title":"3.4. \u56fe\u7247","text":"<p>\u5728\u6587\u6863\u4e2d\u63d2\u5165\u56fe\u7247\u8981\u4f7f\u7528\u6307\u4ee4\u8bed\u6cd5\uff0c\u4f8b\u5982\uff1a <pre><code>.. image:: img/p0.jpg\n    :height: 400px\n    :width: 600px\n    :scale: 50%\n    :align: center\n    :target: https://docutils.sourceforge.io/docs/ref/rst/directives.html#image\n</code></pre> \u793a\u4f8b\u5728\u6587\u6863\u4e2d\u63d2\u5165\u4e86 img \u76ee\u5f55\u4e0b\u7684 p0.jpg \u56fe\u7247\uff0c\u5e76\u4e14\u663e\u793a\u4e3a 400px \u9ad8\uff0c600px \u5bbd\uff0c\u7f29\u653e\u6bd4\u4f8b\u4e3a 50%\uff0c\u56fe\u7247\u5c45\u4e2d\u5bf9\u9f50\uff0c\u70b9\u51fb\u56fe\u7247\u4f1a\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u94fe\u63a5\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#35","title":"3.5. \u4ee3\u7801\u5757","text":"<p>\u5728\u6587\u6863\u4e2d\u63d2\u5165\u4ee3\u7801\u5757\u8981\u4f7f\u7528\u6307\u4ee4\u8bed\u6cd5\uff0c\u4f8b\u5982\uff1a <pre><code>.. code:: python\n\n  def my_function():\n      \"just a test\"\n      print 8/2\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap10/#36","title":"3.6. \u8b66\u793a\u6587\u672c","text":"<p>\u8b66\u793a\u6587\u672c\u901a\u5e38\u7528\u4e8e\u5f3a\u8c03\u4e00\u4e9b\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u6bd4\u5982\u63d0\u793a\u9519\u8bef (error)\u3001\u91cd\u8981 (important)\u3001\u5c0f\u8d34\u58eb (tip)\u3001\u8b66\u544a (warning)\u3001\u6ce8\u91ca (note) \u7b49\u3002</p> <p>\u540c\u6837\u6211\u4eec\u7528\u6307\u4ee4\u8bed\u6cd5\u6765\u663e\u793a\u8b66\u793a\u6587\u672c\uff0c\u4f8b\u5982\uff1a</p> <p><pre><code>.. DANGER::\n   Beware killer rabbits!\n</code></pre> \u663e\u793a\u5982\u4e0b\uff1a</p> <p></p> <p>\u6b64\u5916\u8fd8\u6709\u4e00\u4e9b\u5e38\u7528\u7684\u8bed\u6cd5\uff0c\u6bd4\u5982\u5bf9\u5b57\u4f53\u52a0\u7c97\u3001\u659c\u4f53\u663e\u793a\uff0c\u663e\u793a\u6570\u5b66\u516c\u5f0f\u3001\u4e0a\u4e0b\u6807\u3001\u811a\u6ce8\u3001\u5f15\u7528\u548c\u8d85\u94fe\u63a5\u7b49\u3002\u8981\u4ecb\u7ecd\u5b8c\u5168\u90e8 rst \u7684\u8bed\u6cd5\uff0c\u5df2\u7ecf\u8fdc\u8fdc\u8d85\u51fa\u4e86\u672c\u4e66\u7684\u8303\u56f4\uff0c\u611f\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u53c2\u8003 \u5b98\u65b9\u6587\u6863\u3002\u5173\u4e8e rst\uff0c\u6211\u4eec\u8981\u8bb0\u4f4f\u7684\u662f\uff0c\u5c3d\u7ba1\u8bed\u6cd5\u7e41\u7410\uff0c\u4f46\u5b83\u63d0\u4f9b\u4e86\u975e\u5e38\u5f3a\u5927\u7684\u6392\u7248\u529f\u80fd\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u7528\u6765\u5199\u5728\u7ebf\u6587\u6863\uff0c\u8fd8\u53ef\u4ee5\u76f4\u63a5\u4ed8\u6893\u6210\u4e66\uff0c\u8fd9\u4e00\u70b9\uff0c\u76ee\u524d\u4ec5\u6709 latex \u53ef\u4ee5\u5ab2\u7f8e\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#4-markdown","title":"4. Markdown","text":"<p>Markdown \u8d77\u6e90\u4e8e 2000 \u5e74\u4ee3\u3002\u5728 2000 \u5e74\u524d\u540e\uff0cJohn Gruber \u6709\u4e00\u4e2a\u535a\u5ba2\uff0c\u53eb \u52c7\u6562\u7684\u706b\u7403 (Daring Fireball)\u3002\u5f53\u65f6\u5728\u7ebf\u7f16\u8f91\u5de5\u5177\u8fd8\u6ca1\u6709\u73b0\u5728\u8fd9\u6837\u53d1\u8fbe\uff0c\u7f51\u9875\u6587\u672c\u7684\u683c\u5f0f\u5316\u529f\u80fd\u8fd8\u9700\u8981\u901a\u8fc7 HTML \u4ee3\u7801\u6765\u5b9e\u73b0\u3002\u5c3d\u7ba1\u4ed6\u672c\u4eba\u5b8c\u5168\u638c\u63e1 HTML \u7684\u8bed\u6cd5\uff0c\u4f46\u611f\u89c9\u8fd9\u79cd\u8bed\u6cd5\u80af\u5b9a\u4e0d\u9002\u7528\u5927\u591a\u6570\u4eba\uff0c\u4e8e\u662f\u840c\u751f\u4e86\u53d1\u660e\u4e00\u79cd\u7b80\u5316\u7684\u6807\u8bb0\u8bed\u8a00 (markup) \u7684\u60f3\u6cd5\u3002\u8fd9\u79cd\u8bed\u8a00\u8981\u6bd4 HTML \u7b80\u5355\uff0c\u4f46\u80fd\u8f6c\u6362\u6210 HTML\u3002\u6700\u7ec8\uff0c\u5728\u501f\u9274\u4e86\u7eaf\u6587\u672c\u7535\u5b50\u90ae\u4ef6\u6807\u8bb0\u7684\u4e00\u4e9b\u60ef\u4f8b\uff0c\u4ee5\u53ca Setext \u548c atx \u5f62\u5f0f\u7684\u6807\u8bb0\u8bed\u8a00\u7684\u4e00\u4e9b\u7279\u70b9\u540e\uff0c\u4ed6\u4e8e 2004 \u5e74\u53d1\u660e\u4e86 Markdown \u8bed\u8a00\uff0c\u5e76\u53d1\u5e03\u4e86\u7b2c\u4e00\u4e2a\u5c06 markdown \u8f6c\u6362\u6210 HTML \u7684\u5de5\u5177\u3002</p> <p>\u5728 2007 \u5e74\uff0cGitHub \u7684\u5f00\u53d1\u8005 Chris Wanstrath \u63a5\u89e6\u5230\u4e86 Markdown \u8bed\u8a00\u3002\u5728 2014 \u5e74\uff0cGitHub \u5ba3\u5e03\uff0c\u5c06\u4f1a\u5728 GitHub \u4e0a\u4f7f\u7528 Markdown \u8bed\u8a00\u6765\u7f16\u5199\u6587\u6863\u3002\u8fd9\u4e00\u4e3e\u52a8\uff0c\u4f7f\u5f97 Markdown \u8bed\u8a00\u66f4\u52a0\u6d41\u884c\u8d77\u6765\u3002Markdown \u7684\u6838\u5fc3\u8bed\u6cd5\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u6709\u51e0\u5341\u4e2a\u89c4\u5219\uff0c\u4ecd\u6709\u4e00\u4e9b\u5e38\u7528\u7684\u683c\u5f0f\u65e0\u6cd5\u5b9e\u73b0\uff0c\u4e8e\u662f Github, Reddit \u548c Stack Exchange \u5bf9 Markdown \u505a\u4e86\u4e00\u4e9b\u81ea\u5df1\u7684\u6269\u5c55\uff0c\u8fd9\u4e9b\u6269\u5c55\u88ab\u79f0\u4e3a\"\u98ce\u5473\"(Flavors)\uff0c\u6bd4\u5982 Github Markdown Flavor\uff0c\u5c31\u589e\u52a0\u4e86\u8868\u683c\u3001\u4ee3\u7801\u6bb5\u7b49\u3002\u8fd9\u4e9b\u6269\u5c55\u5927\u5927\u589e\u5f3a\u4e86 Markdown \u7684\u8868\u8fbe\u80fd\u529b\u3002</p> <p>Readmore</p> <p>\u8c61 Github, Reddit \u8fd9\u6837\u7684\u5927\u73a9\u5bb6\u67d3\u6307 Markdown \u4e4b\u540e\uff0cMarkdown \u7684\u6807\u51c6\u5316\u95ee\u9898\u5c31\u51fa\u73b0\u4e86\u30022014 \u5e74\uff0c\u52a0\u5dde\u5927\u5b66\u7684\u54f2\u5b66\u6559\u6388 John MacFarlane\uff0c Discourse \u7684\u8054\u5408\u521b\u59cb\u4eba Jeff Atwood\uff0c\u4ee5\u53ca Reddit, Github\uff0c Stackoverflow \u7684\u4ee3\u8868\u5171\u540c\u7ec4\u6210\u4e86\u4e00\u4e2a\u5de5\u4f5c\u7ec4\uff0c\u5f00\u59cb\u4e86 Markdown \u7684\u6807\u51c6\u5316\u5de5\u4f5c\u3002\u51fa\u4eba\u610f\u6599\u7684\u662f\uff0cMarkdown \u7684\u521b\u59cb\u4eba John Gruber \u53cd\u5bf9 Markdown \u7684\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u5e76\u7981\u6b62\u4ed6\u4eec\u4f7f\u7528 Markdown \u8fd9\u4e2a\u540d\u5b57\uff0c\u6700\u7ec8\uff0c\u8fd9\u4e2a\u6807\u51c6\u5316\u7684\u7ed3\u679c\u5c31\u53d8\u6210\u4e86 commonmark\uff0c\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u3002</p> <p>John Gruber \u53cd\u5bf9 Markdown \u7684\u6807\u51c6\u5316\u5de5\u4f5c\uff0c\u5e76\u4e14\u4e0d\u5141\u8bb8\u5de5\u4f5c\u7ec4\u4f7f\u7528 Markdown \u8fd9\u4e2a\u540d\u5b57\uff0c\u4e0d\u80fd\u4e0d\u8bf4\u4ee4\u4eba\u9057\u61be\u3002\u4e0d\u77e5\u9053\u8fd9\u80fd\u4e0d\u80fd\u7b97\u662f\u5c60\u9f99\u5c11\u5e74\u7ec8\u6210\u9f99\u7684\u53e6\u4e00\u4e2a\u5b9e\u4f8b\u3002\u4e0d\u8fc7\uff0c\u5728\u6280\u672f\u754c\u8fd9\u4e5f\u5e76\u975e\u5b64\u4f8b\u3002\u4e00\u4e9b\u4eba\u4e5f\u8ba4\u4e3a\uff0c\u89e3\u51b3 Python \u6027\u80fd\u95ee\u9898\u7684\u6700\u5927\u963b\u788d\uff0c\u5176\u5b9e\u5c31\u6765\u81ea\u4e8e\u521b\u5efa\u8005 Guido\uff0c\u56e0\u4e3a\u4ed6\u8ba4\u4e3a Python \u7684\u6027\u80fd\u5df2\u7ecf\u591f\u597d\uff1a\u5982\u679c\u6709\u4eba\u8ba4\u4e3a Python \u6027\u80fd\u4e0d\u591f\u597d\uff0c\u90a3\u4e48\u4ed6\u5e94\u8be5\u6539\u7528\u522b\u7684\u8bed\u8a00\u3002\u63d0\u5347 Python \u8bed\u8a00\u7684\u6027\u80fd\u7684\u8fc7\u7a0b\u4e2d\uff0c\u51b3\u4e0d\u5141\u8bb8\u51fa\u73b0\u7248\u672c 2 \u5230\u7248\u672c 3 \u5347\u7ea7\u65f6\u7684\u90a3\u79cd\u4e0d\u517c\u5bb9\u73b0\u8c61\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u5c31\u7ed3\u5408\u4f8b\u5b50\u6765\u770b\u770b Markdown \u7684\u8bed\u6cd5\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u6211\u4eec\u6ca1\u6709\u4e25\u683c\u533a\u5206\u54ea\u4e9b\u662f\u6838\u5fc3\u8bed\u6cd5\uff0c\u54ea\u4e9b\u662f commonmark \u6269\u5c55\u7684\u8bed\u6cd5\uff0c\u56e0\u4e3a\u5230\u76ee\u524d\u4e3a\u6b62\uff0ccommonmark \u7684\u6269\u5c55\u5df2\u7ecf\u4e3a\u5927\u591a\u6570\u7f16\u8f91\u5668\u6240\u652f\u6301\u4e86\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#41","title":"4.1. \u7ae0\u8282\u6807\u9898","text":"<p>Markdown \u7684\u7ae0\u8282\u6807\u9898\u4f7f\u7528'#'\u6765\u5f15\u8d77\uff0c\u2018#\u2019\u7684\u4e2a\u6570\u8868\u793a\u6807\u9898\u7684\u7ea7\u522b\uff0c\u4f8b\u5982\uff1a <pre><code># 1. \u8fd9\u662f\u4e00\u7ea7\u6807\u9898\n## 1.1 \u8fd9\u662f\u4e8c\u7ea7\u6807\u9898\n### 1.1.1 \u8fd9\u662f\u4e09\u7ea7\u6807\u9898\n### 1.1.2 \u53e6\u4e00\u4e2a\u4e09\u7ea7\u6807\u9898\n## 1.2 \u53e6\u4e00\u4e2a\u4e8c\u7ea7\u6807\u9898\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u6bd4 rst \u8981\u76f4\u89c2\u3001\u6613\u8bb0\u5fc6\u548c\u7b80\u6d01\u3002\u5728\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9\u6807\u9898\u8fdb\u884c\u4e86\u624b\u5de5\u7f16\u53f7\u3002\u8fd9\u4e0d\u662f\u5fc5\u987b\u7684\uff0c\u8bb8\u591a Markdown \u6e32\u67d3\u5de5\u5177\u90fd\u53ef\u4ee5\u901a\u8fc7 css \u6765\u81ea\u52a8\u7ed9\u6807\u9898\u52a0\u4e0a\u7f16\u53f7\u3002\u53e6\u5916\uff0c\u5f88\u591a Markdown \u7f16\u8f91\u5668\u4e5f\u5177\u6709\u7ed9\u6807\u9898\u81ea\u52a8\u63d2\u5165\u548c\u66f4\u65b0\u7f16\u53f7\u7684\u80fd\u529b\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#42","title":"4.2. \u5217\u8868","text":"<p>Markdown \u7684\u5217\u8868\u4e0e rst \u5dee\u4e0d\u591a\uff0c\u65e0\u5e8f\u5217\u8868\u4f7f\u7528'-'\u6216\u8005'*'\u5f15\u8d77\uff0c\u4f8b\u5982\uff1a <pre><code>- \u65e0\u5e8f\u5217\u8868 1\n- \u65e0\u5e8f\u5217\u8868 2\n</code></pre> \u6700\u7ec8\u6e32\u67d3\u7684\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>\u65e0\u5e8f\u5217\u8868 1</li> <li>\u65e0\u5e8f\u5217\u8868 2</li> </ul> <p>\u6709\u5e8f\u5217\u8868\u4f7f\u7528\u6570\u5b57\u52a0'.'\u5f15\u8d77\uff0c\u4f8b\u5982\uff1a <pre><code>1. \u6709\u5e8f\u5217\u8868 1\n3. \u6709\u5e8f\u5217\u8868 2\n</code></pre> \u6700\u7ec8\u6e32\u67d3\u7684\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a</p> <ol> <li>\u6709\u5e8f\u5217\u8868 1</li> <li>\u6709\u5e8f\u5217\u8868 2</li> </ol> <p>\u6ce8\u610f\uff0c\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u7ed9\u6709\u5e8f\u5217\u8868\u7684\u5e8f\u53f7\u5e76\u4e0d\u662f\u8fde\u7eed\u7684\u3002\u5728 markdown \u8bed\u6cd5\u4e2d\uff0c\u5e76\u4e0d\u5728\u610f\u6211\u4eec\u7ed9\u51fa\u7684\u6570\u5b57\u662f\u591a\u5c11\uff0cmarkdown \u7684\u6e32\u67d3\u5de5\u5177\u6700\u7ec8\u90fd\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u8c03\u6574\u6b63\u786e\u3002\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#43","title":"4.3. \u8868\u683c","text":"<p>\u4e0e rst \u76f8\u6bd4\uff0cmarkdown \u7684\u8868\u683c\u8bed\u6cd5\u8fd8\u662f\u7a0d\u5acc\u590d\u6742\uff1a <pre><code>| Header1 | Header2 | Header3 |\n| :------ | :-----: | ------: |\n| data1   |  data2  |   data3 |\n| data11  | data12  |  data13 |\n</code></pre> \u8bed\u6cd5\u7684\u7279\u70b9\u662f\uff0c\u8868\u683c\u7684\u6bcf\u4e00\u884c\u90fd\u662f\u4ee5'|'\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\uff0c\u6bcf\u4e00\u5217\u7684\u6570\u636e\u4e4b\u95f4\u7528'|'\u5206\u9694\uff0c\u8868\u5934\u548c\u8868\u683c\u7684\u5206\u9694\u7ebf\u4f7f\u7528'-'\u8868\u793a\u3002\u8868\u5934\u548c\u8868\u683c\u7684\u5206\u9694\u7ebf\u7684\u6570\u91cf\u53ef\u4ee5\u4e0d\u4e00\u81f4\uff0c\u4f46\u662f\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e\u8868\u683c\u7684\u5217\u6570\u3002\u8868\u683c\u7684\u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a</p> Header1 Header2 Header3 data1 data2 data3 data11 data12 data13 <p>\u6ce8\u610f\u4e0a\u8ff0\u8868\u683c\u8bed\u6cd5\u4e2d\u7684\u5192\u53f7\u3002\u5b83\u5728\u8fd9\u91cc\u7684\u4f5c\u7528\u662f\u6307\u793a\u8be5\u5217\u7684\u5bf9\u9f50\u65b9\u5f0f\u3002\u5f53\u5728\u5206\u9694\u7ebf\u7684\u5de6\u4fa7\u4f7f\u7528\u4e00\u4e2a\u5192\u53f7\u65f6\uff0c\u8be5\u5217\u4e3a\u5de6\u5bf9\u9f50\uff1b\u5982\u679c\u5728\u5206\u9694\u7ebf\u7684\u53f3\u4fa7\u4f7f\u7528\u4e00\u4e2a\u5192\u53f7\u65f6\uff0c\u8be5\u5217\u4e3a\u53f3\u5bf9\u9f50\uff1b\u5982\u679c\u5728\u4e24\u7aef\u540c\u65f6\u4f7f\u7528\u5192\u53f7\uff0c\u5219\u8be5\u5217\u4e3a\u5c45\u4e2d\u5bf9\u9f50\u3002\u5728\u4e0d\u4f7f\u7528\u5192\u53f7\u7684\u60c5\u51b5\u4e0b\uff0c\u8be5\u5217\u4e3a\u5de6\u5bf9\u9f50\u3002</p> <p>markdown \u6ca1\u6709 rst \u90a3\u6837\u7684\u6307\u4ee4\u8bed\u6cd5\uff0c\u56e0\u6b64\u5bf9\u8d85\u51fa\u6838\u5fc3\u8bed\u6cd5\u7684\u7279\u6027\uff0c\u6269\u5c55\u5e76\u4e0d\u5bb9\u6613\u3002\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5728 markdown \u4e2d\u4e0d\u80fd\u76f4\u63a5\u5c06 csv \u6570\u636e\u6e32\u67d3\u4e3a\u8868\u683c\u3002\u5982\u679c\u6211\u4eec\u5bf9\u5728 markdown \u4e2d\u5236\u4f5c\u8868\u683c\u611f\u5230\u56f0\u96be\uff0c\u4e00\u822c\u7684\u4f5c\u6cd5\u662f\u901a\u8fc7\u7f16\u8f91\u5668\u7684\u6269\u5c55\u529f\u80fd\uff0c\u5c06 csv \u6570\u636e\u8f6c\u6362\u4e3a markdown \u7684\u8868\u683c\u3002</p> <p>Tip</p> <p>vscode \u4e2d\u6709\u6269\u5c55\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#44","title":"4.4. \u63d2\u5165\u94fe\u63a5","text":"<p>\u5728 markdown \u4e2d\u63d2\u5165\u94fe\u63a5\u5f88\u7b80\u5355\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a <pre><code>[\u94fe\u63a5\u540d](https://example.com)\n</code></pre> \u5373\u7531\u7b26\u53f7\"[]()\"\u5b9a\u4e49\u4e86\u4e00\u4e2a\u94fe\u63a5\uff0c\u5176\u4e2d\"[]\"\u4e2d\u662f\u94fe\u63a5\u7684\u663e\u793a\u6587\u5b57\uff0c\"()\"\u4e2d\u5219\u662f\u94fe\u63a5\u7684 target\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#45","title":"4.5. \u63d2\u5165\u56fe\u7247","text":"<p>\u63d2\u5165\u56fe\u7247\u7684\u8bed\u6cd5\u4e0e\u63d2\u5165\u94fe\u63a5\u7c7b\u4f3c\uff1a <pre><code>![alt text](image url \"image Title\")\n</code></pre> \u4e0d\u540c\u7684\u662f\uff0c\u56fe\u7247\u94fe\u63a5\u5fc5\u987b\u7531\u4e00\u4e2a\u611f\u53f9\u53f7\u5f15\u8d77\u3002'[]'\u4e2d\u7684\u6587\u5b57\u6b64\u65f6\u6210\u4e3a\u56fe\u50cf\u7684\u66ff\u4ee3\u6587\u672c\uff0c\u5c4f\u5e55\u9605\u8bfb\u5de5\u5177\u7528\u5b83\u6765\u5411\u89c6\u89c9\u969c\u788d\u8bfb\u8005\u63cf\u8ff0\u56fe\u50cf\u3002'()'\u4e2d\u7684\u6587\u5b57\u5219\u662f\u56fe\u50cf\u7684 URL\uff0c\u53ef\u4ee5\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u7edd\u5bf9\u8def\u5f84\u3002\u6700\u540e\uff0c\u8fd8\u53ef\u4ee5\u52a0\u4e0a\u4e00\u4e2a\u53cc\u5f15\u53f7\uff0c\u5176\u4e2d\u7684\u6587\u5b57\u5219\u662f\u56fe\u50cf\u7684\u6807\u9898\uff0c\u9f20\u6807\u60ac\u505c\u5728\u56fe\u50cf\u4e0a\u65f6\u4f1a\u663e\u793a\u51fa\u6765\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a <pre><code>![\u8fd9\u662f\u4e00\u6bb5\u8b66\u793a\u6587\u672c](img/markdown.png)\n</code></pre> \u751f\u6210\u6548\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>markdown \u6838\u5fc3\u8bed\u6cd5\u4e0d\u80fd\u8c61 rst \u90a3\u6837\u652f\u6301\u6307\u5b9a\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3001\u5bf9\u9f50\u65b9\u5f0f\u7b49\u3002\u5982\u679c\u6211\u4eec\u6709\u8fd9\u4e9b\u9700\u8981\uff0c\u4e00\u822c\u6709\u4e24\u79cd\u65b9\u5f0f\u53ef\u4ee5\u89e3\u51b3\u3002\u4e00\u662f\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 html \u8bed\u6cd5\u6765\u5b9e\u73b0\uff0c\u4f8b\u5982\uff1a  <pre><code>&lt;img src=\"img/markdown.png\" width=\"30%\"&gt;\n</code></pre>  \u6548\u679c\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p> <p>\u4e8c\u662f\u53ef\u80fd\u60a8\u4f7f\u7528\u7684 markdown \u7f16\u8f91\u5668\u652f\u6301\u6269\u5c55\u8bed\u6cd5\u3002\u672c\u6587\u64b0\u5199\u65f6\uff0c\u5c31\u4f7f\u7528\u4e86 Mkdocs-Material \u4e2d\u7684\u76f8\u5173\u6269\u5c55\u529f\u80fd\uff0c\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5b83\u7684\u7528\u6cd5\u4e3e\u4f8b\uff1a <pre><code> ![](assets/img/chap10/markdown_logo.png \"\u8b66\u793a\u6587\u672c\u793a\u4f8b\"){width=\"30%\"}\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap10/#46","title":"4.6. \u4ee3\u7801\u5757","text":"<p>\u6211\u4eec\u4f7f\u7528\u4e09\u4e2a\u53cd\u5f15\u53f7'`'\u6765\u5b9a\u4e49\u4ee3\u7801\u5757\uff0c\u4f8b\u5982\uff1a <pre><code>    ```python\n        def foo():\n            print('hello world')\n    ```\n</code></pre> \u8d77\u5934\u7684\u53cd\u5f15\u53f7\u4e4b\u540e\uff0c\u53ef\u4ee5\u52a0\u4e0a\u8bed\u8a00\u5b9a\u4e49\u3002\u5982\u6b64\u4ee5\u6765\uff0c\u4ee3\u7801\u5757\u5c31\u53ef\u4ee5\u83b7\u5f97\u8bed\u6cd5\u9ad8\u4eae\u4e86\u3002\u4e0a\u9762\u7684\u4ee3\u7801\u5757\uff0c\u6211\u4eec\u4f7f\u7528\u4e86'python'\u4f5c\u4e3a\u8bed\u8a00\u5b9a\u4e49\uff0c\u8fd9\u6837\u4ee3\u7801\u5757\u5c31\u4f1a\u83b7\u5f97 python \u7684\u8bed\u6cd5\u9ad8\u4eae\uff0c\u5982\u4e0b\u6240\u793a\uff1a <pre><code>    def foo() -&gt; None:\n        print('hello world')\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap10/#47","title":"4.7. \u8b66\u793a\u6587\u672c","text":"<p>\u5728 markdown \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e09\u4e2a\u611f\u53f9\u53f7\u6765\u5f15\u8d77\u8b66\u793a\u6587\u672c\uff0c\u8bed\u6cd5\u5982\u4e0b\uff1a <pre><code>!!! type \"\u53cc\u5f15\u53f7\u5b9a\u4e49\u6807\u9898\"\n    Any number of other indented markdown elements.\n\n    This is the second paragraph.\n</code></pre></p> <p>\u8fd9\u662f commonmark \u7684\u6269\u5c55\u8bed\u6cd5\u3002\u611f\u53f9\u53f7\u540e\u9762\u7684\u82f1\u6587\u5355\u8bcd\u662f\u8b66\u793a\u6587\u672c\u7684\u7c7b\u578b\uff0ccommonmark \u5e76\u6ca1\u6709\u9650\u5b9a\u6709\u54ea\u4e9b\u7c7b\u578b\u3002\u5728\u5b9e\u73b0\u4e0a\uff0c\u8fd9\u4e9b\u7c7b\u578b\u90fd\u662f css \u7684\u4e00\u4e2a class\uff0c\u56e0\u6b64\u5177\u4f53\u663e\u793a\u6548\u679c\u5982\u4f55\u5b9e\u73b0\uff0c\u53d6\u51b3\u4e8e\u6e32\u67d3\u5668\u7684\u51b3\u5b9a\u3002\u6bd4\u5982\uff0c\u672c\u4e66\u7684\u7f51\u9875\u7248\u4f7f\u7528\u4e86 mkdocs-material \u4e3b\u9898\uff0cmaterial \u652f\u6301\u7684\u7c7b\u578b\u6709 note, abstract, info, tip, success, question, warning, example, quote \u7b49\u3002\u5982\u679c\u4f7f\u7528\u4e86\u4e0d\u5728\u4e0a\u8ff0\u5217\u8868\u4e4b\u4e2d\u7684\u7c7b\u578b\uff0cmkdocs-material \u5c31\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u7684\u6837\u5f0f\u6765\u663e\u793a\u8fd9\u6bb5\u8b66\u793a\u6587\u672c\u3002</p> <p>\u6bd4\u5982\uff0c\u4e0b\u9762\u662f\u5f15\u7528\u5b83\u4eba\u6587\u5b57\u7684\u4e00\u4f8b\uff1a <pre><code>    !!! quote \"\u7f57\u66fc. \u7f57\u5170\"\n        \u4e16\u4e0a\u53ea\u6709\u4e00\u79cd\u82f1\u96c4\u4e3b\u4e49\uff0c\u5c31\u662f\u8ba4\u6e05\u751f\u6d3b\u7684\u771f\u76f8\u4e4b\u540e\u4f9d\u7136\u70ed\u7231\u751f\u6d3b\u3002\n</code></pre> \u5176\u6548\u679c\u5982\u4e0b\uff1a</p> <p>\u7f57\u66fc. \u7f57\u5170</p> <p>\u4e16\u4e0a\u53ea\u6709\u4e00\u79cd\u82f1\u96c4\u4e3b\u4e49\uff0c\u5c31\u662f\u8ba4\u6e05\u751f\u6d3b\u7684\u771f\u76f8\u4e4b\u540e\u4f9d\u7136\u70ed\u7231\u751f\u6d3b\u3002</p> <p>\u4eba\u7684\u751f\u7269\u5b66\u8fdb\u5316\u662f\u4ee5\u5343\u5e74\u4e3a\u5355\u4f4d\uff0c\u4f46\u6211\u4eec\u7684\u793e\u4f1a\u5374\u65e9\u5c31\u8fdb\u5165\u4e86\u4fe1\u606f\u7206\u70b8\uff0c\u4fe1\u606f\u8fc7\u8f7d\u7684\u65f6\u4ee3\uff0c\u8fd9\u662f\u73b0\u4ee3\u4eba\u611f\u89c9\u6d3b\u5f97\u5f88\u7d2f\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u5728\u6211\u4eec\u7f16\u5199\u6280\u672f\u6587\u6863\u65f6\uff0c\u5e94\u8be5\u591a\u591a\u4f7f\u7528 admonition \u8fd9\u6837\u7684\u6837\u5f0f\uff0c\u628a\u6587\u7ae0\u7684\u91cd\u70b9\u63d0\u793a\u51fa\u6765\uff0c\u4ee5\u51cf\u8f7b\u9605\u8bfb\u8d1f\u62c5\uff1b\u540c\u65f6\uff0c\u5b83\u56fe\u5f62\u5316\u7684\u6392\u7248\u4e5f\u7ed9\u7565\u663e\u5446\u677f\u7684\u6587\u5b57\uff0c\u5e26\u6765\u4e00\u62b9\u8f7b\u677e\u7684\u8272\u5f69\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#48","title":"4.8. \u5176\u5b83\u8bed\u6cd5","text":"<p>\u4e24\u4e2a'**'\u4e4b\u95f4\u7684\u6587\u672c\u5c06\u663e\u793a\u4e3a\u52a0\u7c97\uff0c\u4e24\u4e2a'_'\u4e4b\u95f4\u7684\u6587\u672c\u5c06\u663e\u793a\u4e3a \u659c\u4f53\uff08\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a'*'\u5305\u542b\u6587\u672c\uff09\u3002\u5982\u679c\u6587\u672c\u88ab\u5305\u542b\u5728\u4e24\u7ec4'***'\u4e4b\u4e2d\uff0c\u5219\u6587\u672c\u5c06\u4ee5 \u52a0\u7c97+\u659c\u4f53\u65b9\u5f0f\u663e\u793a\u3002</p> <p>\u884c\u5185\u6570\u5b66\u516c\u5f0f\u4f7f\u7528\u4e00\u5bf9'$'\u5305\u542b\uff0c\u4f8b\u5982\uff1a$x^2$\uff0c\u8fd9\u5c06\u663e\u793a\u4e3a\uff1ax<sup>2</sup>\u3002\u8fd9\u91cc\u6211\u4eec\u8fd8\u6f14\u793a\u4e86\u4e0a\u6807\u7684\u7528\u6cd5\uff0c\u5373\u4f7f\u7528'^'\u3002\u5982\u679c\u662f\u8981\u751f\u6210\u4e0b\u6807\uff0c\u5219\u53ef\u4ee5\u7528'_'\uff0c\u4f8b\u5982\uff1a$x_2$\uff0c\u8fd9\u5c06\u663e\u793a\u4e3a\uff1ax<sub>2</sub> \u3002</p> <p>\u6211\u4eec\u5728\u4ecb\u7ecd\u63d2\u5165\u56fe\u7247\u7684\u8bed\u6cd5\u65f6\u63d0\u5230\uff0c\u6709\u4e00\u4e9b\u7279\u6027\uff0c\u6bd4\u5982\u6307\u5b9a\u5bbd\u5ea6\uff0cmarkdown \u6838\u5fc3\u8bed\u6cd5\u4e0d\u652f\u6301\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 html \u8bed\u6cd5\u3002\u8fd9\u4e0d\u4ec5\u4ec5\u5bf9\u56fe\u7247\u9002\u7528\u3002\u5b9e\u9645\u4e0a\uff0c\u5728 markdown \u6587\u6863\u7684\u4efb\u4f55\u5730\u65b9\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u4f7f\u7528 html \u6765\u589e\u5f3a\u663e\u793a\u6548\u679c\u3002\u7531\u4e8e html \u8bed\u6cd5\u652f\u6301\u4e0a\u4e0b\u6807\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7528 html \u8bed\u6cd5\u6765\u91cd\u5199\u4e0a\u9762\u7684\u4f8b\u5b50\u3002\u4e0a\u4e0b\u6807\u53ef\u4ee5\u4f7f\u7528 html \u7684<sup>\u548c<sub>\u6807\u7b7e\u6765\u5b9e\u73b0\uff0c\u6bd4\u5982 x<sup>2</sup>\u5c06\u663e\u793a\u4e3a x^2\u3002H<sub>2</sub>O \u5c06\u663e\u793a\u4e3a\u4e0b\u6807 H_2 O\u3002 <p>\u4e0a\u4e0b\u6807\u53ef\u4ee5\u4f7f\u7528 html \u7684\u3001&lt;sup&gt;\u548c\u3001&lt;sub&gt;\u6807\u7b7e\u6765\u5b9e\u73b0\uff0c\u6bd4\u5982 x\\&lt;sup&gt;2\\&lt;/sup&gt;\u5c06\u663e\u793a\u4e3a x<sup>2</sup>\u3002H\\&lt;sub&gt;2\\&lt;/sub&gt;O \u5c06\u663e\u793a\u4e3a\u4e0b\u6807 H<sub>2</sub>O\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#5-sphinx-vs-mkdocs","title":"5. Sphinx vs Mkdocs\uff1a\u4e24\u79cd\u4e3b\u8981\u7684\u6784\u5efa\u5de5\u5177","text":"<p>rst \u548c markdown \u90fd\u662f\u4f1f\u5927\u7684\u53d1\u660e\uff0c\u5b83\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u57fa\u4e8e\u6587\u672c\u6587\u4ef6\u683c\u5f0f\u6765\u4fdd\u5b58\u4fe1\u606f\uff0c\u5373\u4f7f\u4e0d\u4f9d\u8d56\u4efb\u4f55\u5546\u4e1a\u8f6f\u4ef6\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u7f16\u8f91\u3001\u9605\u8bfb\u8fd9\u4e9b\u6587\u6863\u3002\u8bd5\u60f3\uff0c\u5982\u679c\u6211\u4eec\u628a\u5927\u91cf\u7684\u6587\u6863\u4fe1\u606f\u4fdd\u5b58\u5728 word \u8fd9\u79cd\u5546\u4e1a\u8f6f\u4ef6\u4e2d\uff0c\u4e00\u65e6\u6709\u4e00\u5929\u5546\u4e1a\u8f6f\u4ef6\u7ec8\u6b62\u670d\u52a1\u3001\u6216\u8005\u63d0\u9ad8\u6536\u8d39\u6807\u51c6\uff0c\u8fd9\u79cd\u6280\u672f\u9501\u5b9a\u6548\u5e94\u5c06\u5e26\u6765\u591a\u5927\u7684\u8fc1\u79fb\u6210\u672c\uff1f\uff01</p> <p>\u4f46\u662f\uff0crst \u548c markdown \u6bd5\u7adf\u53ea\u662f\u7b80\u5355\u6587\u672c\u683c\u5f0f\uff0c\u76f4\u63a5\u9605\u8bfb\uff0c\u89c6\u89c9\u6548\u679c\u5e76\u4e0d\u597d\u3002\u6b64\u5916\uff0c\u5927\u578b\u6587\u6863\u5f80\u5f80\u7531\u591a\u7bc7\u5b50\u6587\u6863\u7ec4\u6210\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u9700\u8981\u6709\u80fd\u628a\u6587\u6863\u7ec4\u7ec7\u8d77\u6765\u7684\u5de5\u5177\uff0c\u4ee5\u4fbf\u5411\u8bfb\u8005\u63d0\u4f9b\u76ee\u5f55\u548c\u5bfc\u822a\u7b49\u529f\u80fd\u3002\u8fd9\u5c31\u5f15\u51fa\u4e86\u6587\u6863\u6784\u5efa\u5de5\u5177\u7684\u9700\u6c42\u3002</p> <p>\u6587\u6863\u6784\u5efa\u5de5\u5177\u7684\u4e3b\u8981\u4f5c\u7528\uff0c\u5c31\u662f\u5c06\u6563\u843d\u5728\u4e0d\u540c\u5730\u65b9\u7684\u6587\u6863\u7edf\u5408\u8d77\u6765\uff0c\u5448\u73b0\u4e00\u5b9a\u7684\u7ed3\u6784\uff0c\u6587\u6863\u5404\u90e8\u5206\u80fd\u591f\u76f8\u4e92\u94fe\u63a5\u548c\u5bfc\u822a\uff0c\u5e76\u4e14\u5c06\u7b80\u5355\u6587\u672c\u683c\u5f0f\u6e32\u67d3\u6210\u66f4\u52a0\u7f8e\u89c2\u7684\u5bcc\u6587\u672c\u683c\u5f0f\u3002\u5728 Python \u7684\u4e16\u754c\u4e2d\uff0c\u6700\u91cd\u8981\u7684\u6587\u6863\u6784\u5efa\u5de5\u5177\u5c31\u662f Sphinx \u548c Mkdocs\u3002</p> <p>Sphinx \u662f\u59cb\u4e8e 2008 \u5e74 5 \u6708\u7684\u4e00\u79cd\u6587\u6863\u6784\u5efa\u5de5\u5177\uff0c\u5f53\u524d\u7248\u672c 7.2\u3002\u5176\u4e3b\u8981\u529f\u80fd\u662f\u901a\u8fc7\u4e3b\u63a7\u6587\u6863\u6765\u7edf\u5408\u5404\u4e2a\u5b50\u6587\u6863\uff0c\u751f\u6210\u6587\u6863\u7ed3\u6784 (toctree)\u3001API \u6587\u6863\uff0c\u5b9e\u73b0\u6587\u6863\u5185\u53ca\u8de8\u6587\u4ef6\u3001\u8de8\u9879\u76ee\u7684\u5f15\u7528\uff0c\u4ee5\u53ca\u754c\u9762\u4e3b\u9898\u529f\u80fd\u3002</p> <p>\u5728\u65e9\u671f\u7684\u7248\u672c\u4e2d\uff0cSphinx \u5e76\u6ca1\u6709\u751f\u6210 API \u6587\u6863\u7684\u529f\u80fd\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u6bd4\u5982 sphinx-apidoc \u6765\u5b9e\u73b0\u8fd9\u4e00\u529f\u80fd\u3002\u5927\u7ea6\u4ece 2018 \u5e74\u8d77\uff0cSphinx \u901a\u8fc7 autodoc \u8fd9\u4e00\u6269\u5c55\u6765\u5b9e\u73b0\u4e86\u751f\u6210 API \u6587\u6863\u7684\u529f\u80fd\u3002\u73b0\u5728\u7684\u9879\u76ee\u4e2d\uff0c\u5df2\u7ecf\u6ca1\u6709\u5fc5\u8981\u518d\u4f7f\u7528 sphinx-apidoc \u8fd9\u4e00\u5de5\u5177\u4e86\uff08\u6ce8\uff1a\u5728 cookiecutter-pypackage \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u4ecd\u7136\u5728\u4f7f\u7528 sphinx-apidoc \u8fd9\u4e00\u5de5\u5177\uff09\u3002</p> <p>intersphinx \u662f\u5176\u7279\u8272\u529f\u80fd\uff0c\u5b83\u5141\u8bb8\u4f60\u5728\u4e24\u4e2a\u4e0d\u540c\u7684\u6587\u6863\u4e2d\u76f8\u4e92\u94fe\u63a5\u3002\u6bd4\u5982\uff0c\u4f60\u5728\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u91cd\u8f7d\u4e86 Python \u6807\u51c6\u5e93\u4e2d\u7684\u67d0\u4e2a\u5b9e\u73b0\uff0c\u5e76\u5df2\u7ecf\u5bf9\u65b0\u589e\u7684\u529f\u80fd\u64b0\u5199\u4e86\u6587\u6863\uff0c\u4f46\u5bf9\u4e8e\u672a\u505a\u6539\u53d8\u7684\u90a3\u90e8\u5206\u529f\u80fd\uff0c\u4f60\u5e76\u4e0d\u5e0c\u671b\u5c06\u5b83\u7684\u5e2e\u52a9\u6587\u6863\u91cd\u5199\u4e00\u904d\uff0c\u8fd9\u6837\u5c31\u6709\u4e86\u94fe\u63a5\u5230 Python \u6807\u51c6\u5e93\u6587\u6863\u7684\u9700\u6c42\u3002\u6bd4\u5982\uff0c\u901a\u8fc7 intersphinx\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 :py:class:`zipfile.ZipFile` \u6765\u8df3\u8f6c\u5230 Python \u6807\u51c6\u5e93\u7684<code>ZipFile</code>\u7c7b\u7684\u6587\u6863\u4e0a\u3002\u867d\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4e00\u4e2a HTML \u8d85\u94fe\u63a5\u6765\u5b9e\u73b0\u8fd9\u6837\u7684\u8df3\u8f6c\uff0c\u4f46\u6beb\u65e0\u7591\u95ee\uff0cintersphinx \u7684\u8bed\u6cd5\u66f4\u4e3a\u7b80\u6d01\u3002</p> <p>Mkdocs \u51fa\u73b0\u4e8e 2014 \u5e74\uff0c\u5f53\u524d\u7248\u672c 1.5\u3002\u9664\u4e86\u6784\u5efa\u9879\u76ee\u6587\u6863\u5916\uff0cMkdocs \u8fd8\u53ef\u4ee5\u7528\u6765\u6784\u5efa\u9759\u6001\u7ad9\u70b9\u3002\u5728\u6784\u5efa\u9879\u76ee\u6587\u6863\u65b9\u9762\uff0c\u5b83\u4e3b\u8981\u63d0\u4f9b\u6587\u6863\u7edf\u5408\u529f\u80fd\u3001\u754c\u9762\u4e3b\u9898\u548c\u63d2\u4ef6\u4f53\u7cfb\u3002\u4e0e Sphinx \u76f8\u6bd4\uff0c\u5b83\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u5b9e\u65f6\u9884\u89c8\u80fd\u529b\u3002Sphinx \u81ea\u8eab\u6ca1\u6709\u63d0\u4f9b\u8fd9\u4e00\u80fd\u529b\uff0c\u6709\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5de5\u5177\uff08\u6bd4\u5982 vscode \u4e2d\u7684 rst \u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e86\u5355\u7bc7\u6587\u7ae0\u7684\u9884\u89c8\u529f\u80fd\u3002</p> <p>\u8fd9\u4e24\u79cd\u6587\u6863\u6784\u5efa\u5de5\u5177\u90fd\u5f97\u5230\u4e86\u6587\u6863\u6258\u7ba1\u5e73\u53f0 readthedocs \u548c git pages \u7684\u652f\u6301\u3002\u5728\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u4f5c\u8005\u66f4\u63a8\u8350\u4f7f\u7528 mkdocs \u53ca Markdown \u8bed\u6cd5\uff0c\u8fd9\u4e5f\u662f ppw \u6b63\u5728\u4f7f\u7528\u7684\u6280\u672f\u8def\u7ebf\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#6-sphinx","title":"6. \u4f7f\u7528 Sphinx \u6784\u5efa\u6587\u6863","text":""},{"location":"articles/python/best-practice-python/chap10/#61","title":"6.1. \u521d\u59cb\u5316\u6587\u6863\u7ed3\u6784","text":"<p>\u5728\u5b89\u88c5 sphinx \u4e4b\u540e\uff0c\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u521d\u59cb\u5316\u6587\u6863\uff1a</p> <p><pre><code>$ pip install sphinx \n\n# \u6b64\u547d\u4ee4\u5fc5\u987b\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u6267\u884c\uff01\n$ shpinx-quickstart\n</code></pre> Sphinx \u4f1a\u63d0\u793a\u4f60\u8f93\u5165\u9879\u76ee\u540d\u79f0\u3001\u4f5c\u8005\u3001\u7248\u672c\u7b49\u4fe1\u606f\uff0c\u6700\u7ec8\u751f\u6210 docs \u76ee\u5f55\u53ca\u4ee5\u4e0b\u6587\u4ef6\uff1a <pre><code>docs/\ndocs/conf.py\ndocs/index.rst\ndocs/Makefile\ndocs/make.bat\ndocs/_build\ndocs/_static\ndocs/_templates\n</code></pre> \u5982\u679c\u6587\u6863\u4e2d\u4f7f\u7528\u4e86\u56fe\u50cf\u6587\u4ef6\uff0c\u5e94\u8be5\u653e\u5728_static \u76ee\u5f55\u4e0b\u3002</p> <p>\u73b0\u5728\u8fd0\u884c <code>make html</code>\u5c31\u53ef\u4ee5\u751f\u6210\u4e00\u4efd\u6587\u6863\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00<code>_build/index.html</code>\u6765\u9605\u8bfb\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>python -m http.server -d _build/index</code>\uff0c\u7136\u540e\u518d\u901a\u8fc7\u6d4f\u89c8\u5668\u6765\u8bbf\u95ee\u9605\u8bfb\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#62","title":"6.2. \u6587\u4ef6\u91cd\u5b9a\u5411","text":"<p>\u6211\u4eec\u4e00\u822c\u628a README.rst, AUTHOR.rst, HISTORY.rst \u653e\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u5373\u4e0e Sphinx \u7684\u6587\u6863\u6839\u76ee\u5f55\u540c\u7ea7\uff0c\u8fd9\u662f Python \u9879\u76ee\u7ba1\u7406\u7684\u9700\u6c42\uff0c\u4e5f\u662f\u50cf Github \u8fd9\u6837\u7684\u6258\u7ba1\u5e73\u53f0\u7684\u60ef\u4f8b\u3002\u800c\u6309 Sphinx \u7684\u8981\u6c42\uff0c\u6587\u6863\u53c8\u5fc5\u987b\u653e\u7f6e\u5728 docs \u76ee\u5f55\u4e0b\u3002\u6211\u4eec\u5f53\u7136\u4e0d\u60f3\u540c\u6837\u7684\u6587\u4ef6\uff0c\u5728\u4e24\u4e2a\u76ee\u5f55\u4e0b\u5404\u653e\u7f6e\u4e00\u4efd\u62f7\u8d1d\u3002\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528<code>include</code>\u8bed\u6cd5\uff0c\u6765\u5c06\u7236\u76ee\u5f55\u4e2d\u7684\u540c\u540d\u6587\u4ef6\u5305\u542b\u8fdb\u6765\u3002\u6bd4\u5982\u4e0a\u8ff0 index.rst \u4e2d\u7684 history \u6587\u4ef6\uff1a</p> <p><pre><code># CONTENT OF DOCS/HISTORY.RST\n\n.. include:: ../HISTORY.rst\n</code></pre> \u8fd9\u6837\u5c31\u907f\u514d\u4e86\u540c\u4e00\u4efd\u6587\u4ef6\uff0c\u51fa\u73b0\u591a\u4e2a\u62f7\u8d1d\u7684\u60c5\u51b5\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#63","title":"6.3. \u4e3b\u63a7\u6587\u6863\u548c\u5de5\u5177\u94fe","text":"<p>\u5982\u679c\u60a8\u662f\u901a\u8fc7 Sphinx-quickstart \u6765\u8fdb\u884c\u521d\u59cb\u5316\u7684\uff0c\u5b83\u7684\u5411\u5bfc\u4f1a\u5f15\u9886\u60a8\u8fdb\u884c\u4e00\u4e9b\u5de5\u5177\u94fe\u7684\u914d\u7f6e\uff0c\u6bd4\u5982\u8c61\u914d\u7f6e autodoc\uff08\u7528\u4e8e\u751f\u6210 API \u6587\u6863\uff09\u3002\u4e3a\u4e86\u5b8c\u5907\u8d77\u89c1\uff0c\u6211\u4eec\u8fd8\u662f\u518d\u63d0\u4e00\u4e0b\u8fd9\u4e2a\u8bdd\u9898\u3002</p> <p>Sphinx \u5728\u6784\u5efa\u6587\u6863\u65f6\uff0c\u9700\u8981\u4e00\u4e2a\u4e3b\u63a7\u6587\u6863\uff0c\u4e00\u822c\u662f index.rst:</p> <pre><code>\u6587\u6863 Title\n==========\n\n.. toctree::\n   :maxdepth: 2\n\n   deployment\n   usage\n   api\n   contributing\n   authors\n   history\n\nIndices and tables\n==================\n* :ref:`genindex`\n* :ref:`modindex`\n* :ref:`search`\n</code></pre> <p>Sphinx \u901a\u8fc7\u4e3b\u63a7\u6587\u6863\uff0c\u628a\u5355\u4e2a\u6587\u6863\u4e32\u8054\u8d77\u6765\u3002 \u4e0a\u9762\u7684 toctree \u4e2d\u7684\u6bcf\u4e00\u4e2a\u5165\u53e3\uff08\u6bd4\u5982 deployment)\uff0c\u90fd\u5bf9\u5e94\u5230\u4e00\u7bc7\u6587\u6863\uff08\u6bd4\u5982 deployment.rst)\u3002\u6b64\u5916\uff0c\u8fd8\u5305\u542b\u4e86\u7d22\u5f15\u548c\u641c\u7d22\u5165\u53e3\u3002</p> <p>\u8c61 deployment, usage \u8fd9\u6837\u7684\u6587\u6863\uff0c\u6211\u4eec\u4f9d\u7167 rst \u7684\u8bed\u6cd5\u6765\u64b0\u5199\u5c31\u597d\uff0c\u8fd9\u90e8\u5206\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\u3002\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u7279\u522b\u4ecb\u7ecd\u7684\u662f api \u6587\u6863\uff0c\u5b83\u662f\u901a\u8fc7 autodoc \u6765\u751f\u6210\u7684\uff0c\u6709\u81ea\u5df1\u7279\u6b8a\u7684\u8bed\u6cd5\u8981\u6c42\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#64-api","title":"6.4. \u751f\u6210 API \u6587\u6863","text":"<p>\u8981\u81ea\u52a8\u751f\u6210 API \u6587\u6863\uff0c\u6211\u4eec\u9700\u8981\u914d\u7f6e autodoc \u6269\u5c55\u3002\u6211\u4eec\u9700\u8981\u5728 Sphinx \u7684\u914d\u7f6e\u6587\u6863 docs/conf.py \u4e2d\uff0c\u7279\u522b\u52a0\u5165\u4e0b\u9762\u7684\u7b2c 2 \u884c\u548c\u7b2c 5~9 \u884c\uff1a</p> <p>docs/conf.py<pre><code># \u8981\u5b9e\u73b0 AUTODOC \u7684\u529f\u80fd\uff0c\u4f60\u7684\u6a21\u5757\u5fc5\u987b\u80fd\u591f\u5bfc\u5165\uff0c\u56e0\u6b64\u5148\u58f0\u660e\u5bfc\u5165\u8def\u5f84\nsys.path.insert(0, os.path.abspath('../src'))\n\n# \u58f0\u660e AUTODOC \u6269\u5c55\nextensions = [\n  'sphinx.ext.intersphinx',\n  'sphinx.ext.autodoc',\n  'sphinx.ext.doctest'\n]\n</code></pre> \u6211\u4eec\u8fd8\u8981\u6309 Autodoc \u7684\u8981\u6c42\uff0c\u7f16\u5199 api.rst \u6587\u6863\uff0c\u5e76\u5728 index.rst \u4e2d\u5f15\u7528\u8fd9\u4e2a\u6587\u6863\u3002api.rst \u6587\u6863\u7684\u4f5c\u7528\u662f\u7528\u4f5c autodoc \u7684\u6587\u6863\u5165\u53e3\u3002\u4e0b\u56fe\u662f api.rst \u7684\u4e00\u4e2a\u793a\u4f8b\uff1a</p> <p><pre><code>Crawler Python API\n==================\n\nGetting started with Crawler is easy.\nThe main class you need to care about is :class:`~crawler.main.Crawler`\n\ncrawler.main\n------------\n\n.. automodule:: crawler.main\n   :members:\n\ncrawler.utils\n-------------\n\n.. testsetup:: *\n\n   from crawler.utils import should_ignore, log\n\n.. automethod:: crawler.utils.should_ignore\n\n.. doctest::\n\n    &gt;&gt;&gt; should_ignore(['blog/$'], 'http://example.com/blog/')\n    True\n</code></pre> \u8fd9\u91cc\u865a\u6784\u4e86\u4e00\u4e2a\u540d\u4e3a Crawler \u7684\u7a0b\u5e8f\uff0c\u5b83\u5171\u6709<code>main</code>\u548c<code>util</code>\u4e24\u4e2a\u6a21\u5757\u3002</p> <p>\u5728\u4e00\u7bc7\u6587\u6863\u91cc\uff0c\u666e\u901a rst \u8bed\u6cd5\u3001autodoc \u6307\u4ee4\u548c doctest \u6307\u4ee4\u662f\u53ef\u4ee5\u76f8\u4e92\u6df7\u7528\u7684\uff0c\u5728\u4e0a\u9762\u7684\u6587\u6863\u91cc\uff0c\u6211\u4eec\u770b\u5230\u4e86\u4e00\u4e9b\u5df2\u7ecf\u719f\u6089\u7684 rst \u8bed\u6cd5\uff0c\u6bd4\u5982\u4e00\u7ea7\u6807\u9898\"Crawler Python API\"\u548c\u4e8c\u7ea7\u6807\u9898\"crawler.main\"\u7b49\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u770b\u5230\u4e86 autodoc \u7684\u4e00\u4e9b\u6307\u4ee4\u548c doctest \u7684\u6307\u4ee4\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u6269\u5c55\u6307\u4ee4 automodule\uff08\u7b2c 10 \u884c\uff09\u5c06 crawler.main \u6a21\u5757\u5f15\u5165\uff0c\u8fd9\u6837 autodoc \u5c31\u4f1a\u81ea\u52a8\u63d0\u53d6\u8be5\u6a21\u5757\u7684 docstring\u3002\u6ce8\u610f\u8fd9\u91cc\u7684 :members: \u8bed\u6cd5\uff1a\u6211\u4eec\u53ef\u4ee5\u5728\u5176\u540e\u8ddf\u4e0a crawler.main \u4e2d\u7684\u5b50\u6a21\u5757\u540d\u5b57\uff0c\u8868\u660e\u53ea\u4e3a\u8fd9\u4e9b\u6a21\u5757\u751f\u6210 API \u6587\u6863\u3002\u5982\u679c\u5176\u540e\u4e3a\u7a7a\u767d\uff0c\u5219\u8868\u660e\u6211\u4eec\u5c06\u9012\u5f52\u751f\u6210 crawler.main \u4e0b\u6240\u6709\u6a21\u5757\u7684 API \u6587\u6863\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7 :undoc-members: \u6765\u6392\u9664\u90a3\u4e9b\u4e0d\u9700\u8981\u751f\u6210 API \u6587\u6863\u7684\u6210\u5458\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u7684\u6307\u4ee4\u9664\u4e86 automodule \u4e4b\u5916\uff0c\u8fd8\u6709 autoclass, autodata, autoattribute, autofunction, automethod \u7b49\u3002\u8fd9\u4e9b\u6307\u4ee4\u7684\u7528\u6cd5\u4e0e automodule \u7c7b\u4f3c\uff0c\u53ea\u662f\u5b83\u4eec\u5206\u522b\u7528\u4e8e\u7c7b\uff0c\u6570\u636e\uff0c\u5c5e\u6027\uff0c\u51fd\u6570\u548c\u65b9\u6cd5\u7684\u6587\u6863\u751f\u6210\u3002</p> <p>\u7b2c 16 \u884c\u8d77\uff0c\u8fd9\u91cc\u6df7\u6742\u4e86 autodoc \u4e0e doctest \u6307\u4ee4\u3002testsetup \u6307\u4ee4\u7528\u4e8e\u5728 doctest \u4e2d\u8fdb\u884c\u6d4b\u8bd5\u524d\u7684\u51c6\u5907\u5de5\u4f5c\uff0c\u8fd9\u91cc\u7684\u51c6\u5907\u5de5\u4f5c\u662f\u5bfc\u5165 crawler.utils \u6a21\u5757\u3002doctest \u6307\u4ee4\u7528\u4e8e\u6267\u884c doctest\uff0c\u8fd9\u91cc\u6211\u4eec\u6267\u884c\u4e86\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u4e86 crawler.utils.should_ignore \u51fd\u6570\u7684\u529f\u80fd\u3002</p> <p>\u6700\u540e\uff0c\u5728 Sphinx \u8fdb\u884c\u6587\u6863\u6784\u5efa\u65f6\uff0c\u5c31\u4f1a\u5728\u89e3\u6790 api.rst \u6587\u6863\u65f6\uff0c\u4f9d\u6b21\u6267\u884c autodoc \u548c doctest \u6307\u4ee4\uff0c\u5c06\u751f\u6210\u7684\u6587\u6863\u63d2\u5165\u5230 api.rst \u6587\u6863\u4e2d\u3002</p> <p>Sphinx \u7684\u529f\u80fd\u5341\u5206\u5f3a\u5927\uff0c\u5176\u5b66\u4e60\u66f2\u7ebf\u4e5f\u6bd4\u8f83\u9661\u5ced\u3002\u5728\u5b66\u4e60\u65f6\uff0c\u53ef\u4ee5\u5c06\u5176 sphinx \u6559\u7a0b \u4e0e sphinx \u6559\u7a0b\u7684\u6e90\u7801 \u5bf9\u7167\u8d77\u6765\u770b\uff0c\u8fd9\u6837\u66f4\u5bb9\u6613\u7406\u89e3\u3002</p> <p>\u4f7f\u7528 Autodoc \u751f\u6210\u7684 API \u6587\u6863\uff0c\u9700\u8981\u6211\u4eec\u9010\u4e2a\u624b\u52a8\u6dfb\u52a0\u5165\u53e3\uff0c\u5c31\u8c61\u4e0a\u9762\u7684<code>.. automodules:: cralwer.main</code>\u90a3\u6837\u3002\u5bf9\u6bd4\u8f83\u5927\u7684\u5de5\u7a0b\uff0c\u8fd9\u6837\u65e0\u7591\u4f1a\u5f15\u5165\u4e00\u5b9a\u7684\u5de5\u4f5c\u91cf\u3002Sphinx \u7684\u5b98\u65b9\u63a8\u8350\u4f7f\u7528 sphinx.ext.autosummary \u6269\u5c55\u6765\u81ea\u52a8\u5316\u8fd9\u4e00\u4efb\u52a1\u3002\u524d\u9762\u5df2\u7ecf\u63d0\u5230\uff0c\u5728\u8f83\u65e9\u7684\u65f6\u5019\uff0cSphinx \u8fd8\u6709\u4e00\u4e2a cli \u5de5\u5177\uff0c\u53eb sphinx-apidoc \u53ef\u4ee5\u7528\u6765\u5b8c\u6210\u8fd9\u4e00\u4efb\u52a1\u3002\u4f46\u6839\u636e \u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u4eec\u5e94\u8be5\u8f6c\u800c\u4f7f\u7528<code>sphinx-ext.autosummary</code>\u8fd9\u4e2a\u6269\u5c55\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0creadthedocs \u5b98\u65b9\u8fd8\u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3a sphinx-autoapi \u7684\u6269\u5c55\u3002\u4e0e autosummary \u4e0d\u540c\uff0c\u5b83\u5728\u6784\u5efa API \u6587\u6863\u65f6\uff0c\u5e76\u4e0d\u9700\u8981\u5bfc\u5165\u6211\u4eec\u7684\u9879\u76ee\u3002\u76ee\u524d\u770b\uff0c\u9664\u4e86\u4e0d\u9700\u8981\u5bfc\u5165\u9879\u76ee\u4e4b\u5916\uff0c\u6ca1\u6709\u4eba\u7279\u522b\u63d0\u5230\u8fd9\u4e2a\u6269\u5c55\u4e0e autosummary \u76f8\u6bd4\u6709\u4f55\u4f18\u52bf\uff0c\u8fd9\u91cc\u4e5f\u5c31\u7b80\u5355\u63d0\u4e00\u4e0b\uff0c\u5927\u5bb6\u53ef\u4ee5\u6301\u7eed\u8ddf\u8e2a\u8fd9\u4e2a\u9879\u76ee\u7684\u8fdb\u5c55\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#65-docstring","title":"6.5. docstring \u7684\u6837\u5f0f","text":"<p>\u663e\u7136\uff0c\u4e3a\u4e86\u4f7f\u5f97 API \u6587\u6863\u80fd\u591f\u4ece\u4ee3\u7801\u6ce8\u91ca\u4e2d\u81ea\u52a8\u63d0\u53d6\u51fa\u6765\uff0c\u4ee3\u7801\u6ce8\u91ca\u5fc5\u987b\u6ee1\u8db3\u4e00\u5b9a\u7684\u683c\u5f0f\u8981\u6c42\u3002</p> <p>\u5982\u679c\u4e0d\u505a\u4efb\u4f55\u914d\u7f6e\uff0cSphinx \u4f1a\u4f7f\u7528 rst \u7684 docstring \u6837\u5f0f\u3002\u4e0b\u9762\u662f rst \u98ce\u683c\u7684 docstring \u793a\u4f8b\uff1a <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    :param a: _description_\n    :type a: int\n    :param c: _description_, defaults to [1,2]\n    :type c: list, optional\n    :raises AssertionError: _description_\n    :return: _description_\n    :rtype: _type_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> rst \u98ce\u683c\u7684 docstring \u7a0d\u663e\u5197\u957f\u3002\u4e3a\u7b80\u6d01\u8d77\u89c1\uff0c\u6211\u4eec\u4e00\u822c\u4f7f\u7528 google style\uff08\u6700\u7b80\u6d01\uff09\uff0c\u6216\u8005 numpy style\u3002</p> <p>\u4e0b\u9762\u662f google style \u7684 docstring \u793a\u4f8b\uff1a <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    Args:\n        a (int): _description_\n        c (list, optional): _description_. Defaults to [1,2].\n\n    Raises:\n        AssertionError: _description_\n\n    Returns:\n        _type_: _description_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> \u663e\u7136\uff0cgoogle style \u4f7f\u7528\u7684\u5b57\u6570\u66f4\u5c11\uff0c\u89c6\u89c9\u4e0a\u66f4\u7b80\u6d01\u3002google style \u4e5f\u662f\u53ef\u7f55\u5b66\u9662\uff08khan academy\uff09<sup>1</sup> \u7684\u5b98\u65b9\u63a8\u8350\u98ce\u683c\u3002</p> <p>\u6211\u4eec\u518d\u6765\u770b\u770b numpy \u98ce\u683c\u7684 docstring: <pre><code>def abc(a: int, c = [1,2]):\n    \"\"\"_summary_\n\n    Parameters\n    ----------\n    a : int\n        _description_\n    c : list, optional\n        _description_, by default [1,2]\n\n    Returns\n    -------\n    _type_\n        _description_\n\n    Raises\n    ------\n    AssertionError\n        _description_\n    \"\"\"\n    if a &gt; 10:\n        raise AssertionError(\"a is more than 10\")\n\n    return c\n</code></pre> \u8fd9\u79cd\u98ce\u683c\u4e5f\u6bd4 google style \u8981\u7e41\u590d\u8bb8\u591a\u3002</p> <p>\u8981\u5728\u6587\u6863\u4e2d\u4f7f\u7528\u8fd9\u4e24\u79cd\u6837\u5f0f\u7684 docstring\uff0c\u4f60\u9700\u8981\u542f\u7528 Napolen \u6269\u5c55\u3002\u5173\u4e8e\u8fd9\u4e24\u79cd\u6837\u5f0f\u7684\u793a\u4f8b\uff0c\u6700\u597d\u7684\u4f8b\u5b50\u6765\u81ea\u4e8e MkApi \u7684\u6587\u6863\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002</p> <p>\u6ce8\u610f\u5728 Sphinx 3.0 \u4ee5\u540e\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86 Type Hint\uff0c\u5219\u5728\u4e66\u5199 docstring \u65f6\uff0c\u4e0d\u5fc5\u5728\u53c2\u6570\u548c\u8fd4\u56de\u503c\u4e0a\u58f0\u660e\u7c7b\u578b\u3002\u6269\u5c55\u5c06\u81ea\u52a8\u4e3a\u4f60\u52a0\u4e0a\u7c7b\u578b\u58f0\u660e\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#66-markdown","title":"6.6. \u6df7\u5408\u4f7f\u7528 Markdown","text":"<p>\u591a\u6570\u4eba\u4f1a\u89c9\u5f97 rst \u7684\u8bed\u6cd5\u8fc7\u4e8e\u7e41\u7410\uff0c\u56e0\u6b64\u5f88\u81ea\u7136\u5730\uff0c\u6211\u4eec\u5e0c\u671b\u90e8\u5206\u6587\u6863\u4f7f\u7528 Markdown \u6765\u4e66\u5199\uff08\u5982\u679c\u4e0d\u80fd\u5168\u90e8\u4f7f\u7528 Markdown \u7684\u8bdd\uff09\u3002\u5927\u7ea6\u4ece 2018 \u5e74\u8d77\uff0creadthedocs \u5f00\u53d1\u4e86\u4e00\u4e2a\u540d\u4e3a recommonmark \u7684\u6269\u5c55\uff0c\u4ee5\u652f\u6301\u5728 Sphinx \u6784\u5efa\u8fc7\u7a0b\u4e2d\u90e8\u5206\u4f7f\u7528 Markdown\u3002</p> <p>\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\u8981\u6ce8\u610f\u7684\u4e00\u4e2a\u95ee\u9898\u662f\uff0cMarkdown \u6587\u4ef6\u5fc5\u987b\u90fd\u5728 docs \u76ee\u5f55\u53ca\u5176\u4e0b\u7ea7\u76ee\u5f55\u4e2d\uff0c\u800c\u4e0d\u80fd\u51fa\u73b0\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u8c61 README\uff0cHISTORY \u8fd9\u6837\u7684\u6587\u6863\uff0c\u5c31\u5fc5\u987b\u4ecd\u7136\u4f7f\u7528 rst \u6765\u5199\uff08\u4ee5\u5229\u7528<code>include</code>\u8bed\u6cd5\u6765\u5305\u542b\u6765\u81ea\u4e0a\u4e00\u7ea7\u7684 README)\u3002\u5982\u679c\u8981\u4f7f\u7528 Markdown \u7684\u8bdd\uff0c\u5c31\u5fc5\u987b\u4f7f\u7528\u7b26\u53f7\u8fde\u63a5\u5c06\u7236\u76ee\u5f55\u4e2d\u7684 README.md \u8fde\u63a5\u5230 docs \u76ee\u5f55\u4e0b\uff08recommenmark \u81ea\u5df1\u7684\u6587\u6863\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\uff09\uff1b\u6216\u8005\u901a\u8fc7 Makefile \u7b49\u7b2c\u4e09\u65b9\u5de5\u5177\uff0c\u5728 sphinx build \u4e4b\u524d\uff0c\u5c06\u8fd9\u4e9b\u6587\u6863\u62f7\u8d1d\u5230 docs \u76ee\u5f55\u3002</p> <p>\u5728 github \u4e0a\u8fd8\u6709\u4e00\u4e2a m2r \u7684\u9879\u76ee\uff0c\u53ca\u5176 fork m2r2\uff0c\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\uff0c\u4e0d\u8fc7\u5f00\u53d1\u8005\u6020\u4e8e\u7ef4\u62a4\uff0c\u968f\u7740 Sphinx \u7248\u672c\u5347\u7ea7\uff0c\u57fa\u672c\u4e0a\u4e0d\u53ef\u7528\u4e86\u3002</p> <p>\u5982\u679c\u60a8\u7684\u9879\u76ee\u5fc5\u987b\u4f7f\u7528 rst\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u9879\u76ee\u4e2d\u542f\u7528 recommonmark\uff0c\u5b9e\u73b0\u4e24\u79cd\u65b9\u5f0f\u7684\u6df7\u7528\u3002\u901a\u8fc7\u5728 recommonmark \u4e2d\u542f\u7528\u4e00\u4e2a\u540d\u4e3a autostructify \u7684\u5b50\u7ec4\u4ef6\uff0c\u53ef\u4ee5\u5c06 Markdown \u6587\u4ef6\u4e8b\u524d\u7f16\u8bd1\u6210 rst \u6587\u4ef6\uff0c\u518d\u4f20\u7ed9 Sphinx \u5904\u7406\uff1b\u66f4\u5999\u7684\u662f\uff0cautostructify \u7ec4\u4ef6\u652f\u6301\u5728 Markdown \u4e2d\u5d4c\u5165 rst \u8bed\u6cd5\uff0c\u6240\u4ee5\u5373\u4f7f\u4e00\u4e9b\u529f\u80fd Markdown \u4e0d\u652f\u6301\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c40\u90e8\u4f7f\u7528 rst \u6765\u8865\u6551\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#7-mkdocs","title":"7. \u4f7f\u7528 Mkdocs \u6784\u5efa\u6587\u6863","text":"<p>mkdocs \u662f\u4e00\u4e2a\u9ad8\u6548\u6613\u7528\u7684\u6280\u672f\u6587\u6863\u6784\u5efa\u5de5\u5177\uff0c\u540c\u65f6\u4e5f\u662f\u4e00\u4e2a\u9759\u6001\u7f51\u7ad9\u6784\u5efa\u5de5\u5177\uff0c\u975e\u5e38\u9002\u5408\u6784\u5efa\u535a\u5ba2\u3001\u6280\u672f\u6587\u6863\u7ad9\u70b9\u3002\u5b83\u6784\u5efa\u7684\u6587\u6863\u51e0\u4e4e\u53ef\u4ee5\u88ab\u4efb\u4f55\u7f51\u7ad9\u6258\u7ba1\u670d\u52a1\u6240\u6258\u7ba1\uff0c\u5305\u62ec github pages\uff0creadthedocs \u7b49\u3002\u5b83\u4f7f\u7528 Markdown \u4f5c\u4e3a\u6587\u6863\u683c\u5f0f\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u4e3b\u9898\uff0c\u652f\u6301\u5b9e\u65f6\u9884\u89c8\u3002Mkdocs \u6709\u5f3a\u5927\u7684\u81ea\u5b9a\u4e49\u529f\u80fd\uff08\u901a\u8fc7\u63d2\u4ef6\u548c\u4e3b\u9898\uff09\uff0c\u4ece\u800c\u53ef\u4ee5\u751f\u6210\u98ce\u683c\u591a\u6837\u7684\u7ad9\u70b9\u3002</p> <p>\u5b89\u88c5 mkdocs \u4e4b\u540e\uff0c\u53ef\u4ee5\u770b\u4e00\u4e0b\u5b83\u7684\u57fa\u672c\u547d\u4ee4\uff1a</p> <p></p> <p>mkdocs \u63d0\u4f9b\u4e86\u4e24\u79cd\u5f00\u7bb1\u5373\u7528\u7684\u4e3b\u9898\uff0creadthedocs \u548c mkdocs\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u793e\u533a\u91cc\u5bfb\u627e\u66f4\u591a\u7684\u4e3b\u9898 \u3002\u5728\u4f17\u591a\u4e3b\u9898\u4e4b\u4e2d\uff0cmaterial \u662f\u5f53\u524d\u6700\u53d7\u6b22\u8fce\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u5b83\u652f\u6301 responsive \u8bbe\u8ba1\uff0c\u6240\u4ee5\u6587\u6863\u65e0\u8bba\u5728 pc \u7aef\u3001\u8fd8\u662f\u624b\u673a\u548c\u5e73\u677f\u4e0a\u6253\u5f00\uff0c\u90fd\u6709\u76f8\u5f53\u4e0d\u9519\u7684\u4f53\u9a8c\u3002\u6b64\u5916\uff0c\u5b83\u81ea\u5e26\u4e86 SEO \u4f18\u5316\uff0c\u8be5\u4e3b\u9898\u7684\u5b98\u65b9\u7f51\u7ad9\u4e5f\u88ab\u4ed6\u4eec\u81ea\u5df1\u4f18\u5316\u5230\u8d85\u8fc7\u4e86 Mkdocs \u7684\u6392\u540d\u3002 \u8fd9\u7bc7\u6587\u7ae0 \u7ed9\u51fa\u4e86\u4e00\u4e2a\u4e0d\u9519\u7684\u6559\u7a0b\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5\u3002</p> <pre><code>$ pip install --upgrade pip\n$ pip install mkdocs\n# \u5b89\u88c5 MATERIAL \u4e3b\u9898\u3002\u5982\u679c\u5ffd\u7565\uff0c\u5c06\u4f7f\u7528 READTHEDOCS \u9ed8\u8ba4\u4e3b\u9898\u3002\n$ pip install mkdocs-material \n\n# \u521b\u5efa\u6587\u6863\u7ed3\u6784\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u6267\u884c\n$ mkdocs new PROJECT_NAME\n$ cd PROJECT_NAME\n</code></pre> <p>\u73b0\u5728\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u5e94\u8be5\u591a\u4e86\u4e00\u4e2a docs \u76ee\u5f55\uff0c\u548c\u4e00\u4e2a\u540d\u4e3a mkdocs.yaml \u7684\u6587\u4ef6\u3002docs \u76ee\u5f55\u4e0b\u8fd8\u6709\u4e00\u4e2a\u540d\u4e3a index.md \u7684\u6587\u4ef6\u3002\u5982\u679c\u6b64\u65f6\u8fd0\u884c<code>mkdocs serve -a 0.0.0.0:8000</code>, \u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\uff0c\u4f60\u4f1a\u770b\u5230\u5982\u4e0b\u56fe\u6240\u793a\u754c\u9762\uff1a</p> <p></p> <p>Tip</p> <p>\u8bf7\u6ce8\u610f\uff0cMkdocs \u80fd\u63d0\u4f9b\u5b9e\u65f6\u9884\u89c8\u6587\u6863\uff0c\u800c\u4e14\u6709\u5f88\u5feb\u7684\u54cd\u5e94\u901f\u5ea6\u3002\u56e0\u6b64\u5728\u60a8\u7f16\u5199\u6587\u6863\u65f6\uff0c\u53ef\u4ee5\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5b9e\u65f6\u9884\u89c8\u6587\u6863\u7684\u6548\u679c\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#71-mkdocs","title":"7.1. \u914d\u7f6e Mkdocs","text":"<p>\u4e0b\u9762\uff0c\u6211\u4eec\u901a\u8fc7<code>ppw</code>\u751f\u6210\u7684 mkdocs.yml \u6587\u4ef6\u7684\u4f8b\u5b50\u6765\u770b\u770b mkdocs \u7684\u914d\u7f6e\u6587\u4ef6\u8bed\u6cd5\u3002</p> <pre><code>site_name: sample\nsite_url: http://www.jieyu.ai\nrepo_url: https://github.com/zillionare/sample\nrepo_name: sample\nsite_description: A great mkdocs sample site\nsite_author: name of the author\n\nnav:\n  - home: index.md\n  - usage: usage.md\n  - modules: api.md\ntheme:\n  name: material\n  language: en\n  logo: assets/logo.png\nmarkdown_extensions:\n  - pymdownx.emoji:\n      emoji_index: !!python/name:materialx.emoji.twemoji\n      emoji_generator: !!python/name:materialx.emoji.to_svg\n  - pymdownx.critic\n  - pymdownx.caret\n  - pymdownx.mark\n  - pymdownx.tilde\n  - pymdownx.tabbed\n  - attr_list\n  - pymdownx.arithmatex:\n      generic: true\n  - pymdownx.highlight:\n      linenums: true\n  - pymdownx.superfences\n  - pymdownx.details\n  - admonition\n  - toc:\n      baselevel: '2-4'\n      permalink: true\n      slugify: !!python/name:pymdownx.slugs.uslugify\n  - meta\nplugins:\n  - include-markdown\n  - search:\n      lang: en\n  - mkdocstrings:\n      watch:\n        - sample\nextra:\n  version:\n    provider: mike\n</code></pre> <p>mkdocs.yml \u7684\u914d\u7f6e\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u7ad9\u70b9\u8bbe\u7f6e\u3001\u6587\u6863\u5e03\u5c40\u3001\u4e3b\u9898\u8bbe\u7f6e\u3001\u6784\u5efa\u5de5\u5177\u8bbe\u7f6e\u548c\u9644\u52a0\u4fe1\u606f\u8fd9\u4e48\u51e0\u9879\u3002</p> <p>\u6587\u6863\u5e03\u5c40\u4ee5\u5173\u952e\u5b57<code>nav</code>\u5f15\u8d77\uff0c\u540e\u9762\u8ddf\u968f\u4e00\u4e2a yaml \u7684\u5217\u8868\uff0c\u5b9a\u4e49\u4e86\u5168\u5c40\u7ad9\u70b9\u5bfc\u822a\u83dc\u5355\u53ca\u5b50\u83dc\u5355\u7ed3\u6784\u3002\u5217\u8868\u4e2d\u7684\u6bcf\u4e00\u9879\u90fd\u662f\u4e00\u4e2a\u6587\u6863\u7684\u6807\u9898\u548c\u5bf9\u5e94\u7684\u6587\u4ef6\u540d\u3002\u8fd9\u91cc\u7684\u6587\u4ef6\u540d\u662f\u76f8\u5bf9\u4e8e docs \u76ee\u5f55\u7684\u3002\u4f8b\u5982\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c<code>home</code>\u5bf9\u5e94\u7684\u6587\u4ef6\u662f<code>docs/index.md</code>\uff0c<code>usage</code>\u5bf9\u5e94\u7684\u6587\u4ef6\u662f<code>docs/usage.md</code>\uff0c\u7b49\u7b49\u3002</p> <p>\u6ce8\u610f\u8fd9\u91cc\u7684 toc \u914d\u7f6e\u9879\u4e2d\u7684 baselevel\u3002\u9ed8\u8ba4\u503c\u4e3a<code>2-4</code>\u3002\u5728 HTML5 \u89c4\u8303\u4e2d\uff0c\u53ea\u80fd\u5b58\u5728\u4e00\u4e2a H1 \u6807\u7b7e\uff08\u6216\u8005 Article \u6807\u7b7e\uff09\uff0c\u6240\u4ee5\uff0cToc \u5217\u8868\u4e2d\u7684\u5c42\u7ea7\uff0c\u53ea\u80fd\u4ece\u7b2c 2 \u7ea7\u5f00\u59cb\u5217\u3002\u4e0d\u6b62\u5728\u8fd9\u91cc\uff0c\u60a8\u5728\u4efb\u4f55\u5730\u65b9\u64b0\u5199 Markdown \u6587\u6863\u65f6\uff0c\u90fd\u5e94\u8be5\u9075\u5faa\u8fd9\u4e2a\u7ea6\u5b9a\u3002</p> <p>\u6587\u6863\u5e03\u5c40\u652f\u6301\u591a\u7ea7\u5d4c\u5957\uff0c\u6bd4\u5982\uff1a <pre><code>nav:\n    - Home: 'index.md'\n    - 'User Guide':\n        - 'Writing your docs': 'writing-your-docs.md'\n        - 'Styling your docs': 'styling-your-docs.md'\n    - About:\n        - 'License': 'license.md'\n        - 'Release Notes': 'release-notes.md'\n</code></pre> \u4e0a\u8ff0\u914d\u7f6e\u5b9a\u4e49\u4e86\u4e09\u4e2a\u9876\u7ea7\u83dc\u5355\uff0c\u5206\u522b\u662f Home\u3001User Guide \u548c About\u3002User Guide \u548c About \u53c8\u5206\u522b\u5305\u542b\u4e24\u4e2a\u5b50\u83dc\u5355\u3002\u5f53\u7136\uff0c\u6700\u7ec8\u5982\u4f55\u5c55\u793a\u8fd9\u4e9b\u5185\u5bb9\uff0c\u7531\u4f60\u9009\u62e9\u7684\u4e3b\u9898\u6765\u51b3\u5b9a\u3002</p> <p>\u793a\u4f8b\u4e2d\u7684\u4e3b\u9898\u914d\u7f6e\u7531\u5173\u952e\u5b57'theme'\u5f15\u8d77\uff0c\u4e00\u822c\u5305\u62ec\u4e86\u4e3b\u9898\u540d\u3001\u8bed\u8a00\u3001\u7ad9\u70b9 logo \u548c\u56fe\u6807\u7b49\u901a\u7528\u9009\u9879\uff0c\u4e5f\u6709\u4e00\u4e9b\u4e3b\u9898\u81ea\u5b9a\u4e49\u7684\u914d\u7f6e\u9879\u3002</p> <p>\u6784\u5efa\u5de5\u5177\u8bbe\u7f6e\u4e3b\u8981\u662f\u542f\u7528 markdown \u6269\u5c55\u7684\u4e00\u4e9b\u7279\u6027\u548c\u63d2\u4ef6\u3002</p> <p>Mkdocs \u4f7f\u7528\u4e86 Python-Markdown \u6765\u6267\u884c markdown \u5230 html \u7684\u8f6c\u6362\uff0c\u800c Python-Markdown \u672c\u8eab\u53c8\u901a\u8fc7\u6269\u5c55\u6765\u5b9e\u73b0 markdown \u6838\u5fc3\u8bed\u6cd5\u4e4b\u5916\u7684\u4e00\u4e9b\u5e38\u7528\u529f\u80fd\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u6784\u5efa\u6280\u672f\u6587\u6863\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u4f7f\u7528\u8fd9\u4e9b\u8bed\u6cd5\u6269\u5c55\uff0c\u6211\u4eec\u9700\u8981\u5728\u8fd9\u4e00\u8282\u4e0b\u542f\u7528\u8fd9\u4e9b\u7279\u6027\u3002</p> <p>\u5728\u4e0a\u8ff0\u914d\u7f6e\u793a\u4f8b\u4e2d\uff0cattr_list, admonition, toc, meta \u662f Python-Markdown \u7684\u5185\u7f6e\u6269\u5c55\uff0c\u6211\u4eec\u76f4\u63a5\u8c61\u793a\u4f8b\u90a3\u6837\u542f\u7528\u5c31\u53ef\u4ee5\u4e86\u3002\u5173\u4e8e Python-Markdown \u63d0\u4f9b\u4e86\u54ea\u4e9b\u5b98\u65b9\u6269\u5c55\uff0c\u53ef\u4ee5\u53c2\u8003 \u8fd9\u91cc\u3002\u524d\u9762\u63d0\u5230\uff0cMarkdown \u4e2d\u7684\u56fe\u7247\u8981\u6307\u5b9a\u5bbd\u5ea6\uff0c\u8981\u4e48\u4f7f\u7528 html \u6807\u7b7e\uff0c\u8981\u4e48\u901a\u8fc7 python-markdown \u6269\u5c55\u3002\u8fd9\u91cc\u7684 attr_list \u5c31\u662f\u7528\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u7684\u3002\u5173\u4e8e admonition\uff0c\u6211\u4eec\u5728 markdown \u7684\u8bed\u6cd5\u4e2d\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\uff0c\u4e0d\u719f\u6089\u7684\u8bfb\u8005\u53ef\u4ee5\u56de\u5230\u90a3\u4e00\u8282\u518d\u770b\u4e00\u904d\u3002toc \u662f\u7528\u6765\u751f\u6210\u76ee\u5f55\u7684\uff0cmeta \u662f\u7528\u6765\u63d0\u53d6\u6587\u6863\u5143\u6570\u636e\u7684\u3002</p> <p>\u4f7f\u7528\u7b2c\u4e09\u65b9\u7684\u6269\u5c55\u8ddf\u4f7f\u7528\u7b2c\u4e09\u65b9\u4e3b\u9898\u4e00\u6837\uff0c\u6211\u4eec\u5fc5\u987b\u5148\u5b89\u88c5\u8fd9\u4e9b\u6269\u5c55\u3002\u6bd4\u5982\uff0c\u7b2c 22 \u884c\u7684 pymakdownx.critic \u5c31\u6765\u81ea\u4e8e\u7b2c\u4e09\u65b9\u6269\u5c55 pymdown-extensions\uff0c\u6211\u4eec\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55\uff0c\u7136\u540e\u624d\u80fd\u5728 mkdocs.yml \u4e2d\u542f\u7528\u5b83\u3002critic \u7ed9\u6587\u6863\u63d0\u4f9b\u4e86\u6279\u6ce8\u529f\u80fd\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u793a\u4f8b\uff1a</p> <p></p> <p>\u5176\u663e\u793a\u6548\u679c\u5982\u4e0b\uff1a</p> <p> One Only one  thing is impossible for God: To find any sense in any.</p> <p>Truth is stranger than fiction, but it is because Fiction is obliged to stick to possibilities; Truth isn\u2019t.</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b\u5982\u4f55\u5b9a\u5236 mkdocs\uff0c\u4f7f\u4e4b\u66f4\u9002\u5408\u751f\u6210\u6280\u672f\u6587\u6863\u3002\u8fd9\u4e9b\u5b9a\u5236\u4e3b\u8981\u5305\u62ec\uff1a</p> <ol> <li>\u66f4\u6362\u4e3b\u9898</li> <li>\u6587\u6863\u91cd\u5b9a\u5411</li> <li>\u589e\u5f3a markdown \u529f\u80fd</li> <li>\u81ea\u52a8\u751f\u6210 API \u6587\u6863</li> </ol>"},{"location":"articles/python/best-practice-python/chap10/#72","title":"7.2. \u66f4\u6362\u4e3b\u9898","text":"<p>MkDocs \u63d0\u4f9b\u4e86\u4e24\u79cd\u5f00\u7bb1\u5373\u7528\u7684\u4e3b\u9898\uff0c\u5373 MkDocs \u548c readthedocs\u3002\u540e\u8005\u662f\u5bf9 Read the Docs \u7f51\u7ad9\u9ed8\u8ba4\u4e3b\u9898\u7684\u590d\u5236\u3002MkDocs \u7684\u5b98\u7f51\u4f7f\u7528\u7684\u4e3b\u9898\u5c31\u662f MkDocs\uff0c\u6240\u4ee5\uff0c\u8003\u8651\u9009\u62e9\u8fd9\u4e2a\u4e3b\u9898\u7684\u8bfb\u8005\uff0c\u53ef\u4ee5\u901a\u8fc7\u5b83\u7684\u5b98\u7f51\u6765\u4e86\u89e3\u8fd9\u79cd\u4e3b\u9898\u7684\u98ce\u683c\u548c\u6837\u5f0f\u3002</p> <p>\u9664\u4e86\u8fd9\u4e24\u79cd\u4e3b\u9898\u5916\uff0cmaterial \u662f\u5f53\u524d\u6bd4\u8f83\u53d7\u6b22\u8fce\u7684\u4e00\u4e2a\u4e3b\u9898\u3002\u8fd9\u4e2a\u4e3b\u9898\u4e5f\u5f97\u5230\u4e86 FastAPI \u5f00\u53d1\u8005\u7684\u9ad8\u5ea6\u8bc4\u4ef7\uff1a</p> <p>Quote</p> <p>\u8bb8\u591a\u4eba\u559c\u6b22 FastAPI, Typer \u548c SQLModel \u7684\u539f\u56e0\u4e4b\u4e00\u662f\u5176\u6587\u6863\u3002\u6211\u82b1\u4e86\u5f88\u591a\u65f6\u95f4\uff0c\u6765\u4f7f\u5f97\u8fd9\u4e9b\u9879\u76ee\u7684\u6587\u6863\u6613\u4e8e\u5b66\u4e60\u3001\u80fd\u88ab\u5feb\u901f\u7406\u89e3\u3002\u8fd9\u91cc\u7684\u5173\u952e\u56e0\u7d20\u662f Material for Mkdocs \u63d0\u4f9b\u4e86\u4e30\u5bcc\u591a\u6837\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u6211\u5f88\u5bb9\u6613\u5411\u8bfb\u8005\u89e3\u91ca\u548c\u5c55\u793a\u5404\u79cd\u5404\u6837\u7684\u5185\u5bb9\u3002\u540c\u6837\u5730\uff0c\u7ed3\u6784\u5316\u5728 Material \u4e2d\u4e5f\u5f88\u5bb9\u6613\u3002\u4f7f\u7528\u7b80\u5355\u3001\u5929\u751f\u7f8e\u89c2\uff0c\u8ba9\u8bfb\u8005\u6c89\u6d78\u5176\u4e2d\u3002</p> <p>\u8981\u66f4\u6362\u4e3b\u9898\u4e3a Material\uff0c\u9996\u5148\u6211\u4eec\u5f97\u5b89\u88c5 mkdocs-material \u5305\uff0c\u518d\u5728 mkdocs.yaml \u4e2d\u6307\u5b9a\u4e3b\u9898\u4e3a material:</p> <p><pre><code>pip install mkdocs-material\n</code></pre> \u7136\u540e\u6211\u4eec\u9700\u8981\u5728 mkdocs.yml \u4e2d\u6307\u5b9a\u4e3b\u9898\u4e3a material: <pre><code>site_name: An amazing site!\n\nnav: \n  - Home: index.md\n  - \u5b89\u88c5\uff1ainstallation.md\ntheme: material\n</code></pre></p> <p>Info</p> <p>\u5982\u679c\u60a8\u662f\u4f7f\u7528<code>ppw</code>\u521b\u5efa\u7684\u5de5\u7a0b\uff0c\u5219\u9ed8\u8ba4\u4e3b\u9898\u5df2\u7ecf\u662f material\uff0c\u5e76\u4e14\u4f9d\u8d56\u90fd\u5df2\u5b89\u88c5\u597d\u4e86\u3002</p> <p>Material for Mkdocs \u8fd8\u63d0\u4f9b\u4e86\u8bb8\u591a\u5b9a\u5236\u9879\uff0c\u5305\u62ec\u66f4\u6539\u5b57\u4f53\u3001\u4e3b\u9898\u989c\u8272\u3001logo\u3001favicon\u3001\u5bfc\u822a\u3001\u9875\u5934 (header) \u548c\u9875\u811a (footer) \u7b49\u3002\u5982\u679c\u9879\u76ee\u4f7f\u7528 Github \u7684\u8bdd\uff0c\u8fd8\u53ef\u4ee5\u589e\u52a0 Giscuss \u4f5c\u4e3a\u8bc4\u8bba\u7cfb\u7edf\u3002</p> <p>Material \u5929\u751f\u652f\u6301\u591a\u7248\u672c\u6587\u6863\u3002\u5b83\u7684\u591a\u7248\u672c\u6587\u6863\u662f\u901a\u8fc7 mike \u6765\u5b9e\u73b0\u7684\u3002\u540e\u9762\u6211\u4eec\u8fd8\u8981\u4e13\u95e8\u4ecb\u7ecd\u8fd9\u4e2a\u5de5\u5177\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#73","title":"7.3. \u6587\u4ef6\u91cd\u5b9a\u5411","text":"<p>\u5728 Sphinx \u90a3\u4e00\u8282\uff0c\u6211\u4eec\u5df2\u7ecf\u9762\u4e34\u8fc7\u540c\u6837\u7684\u95ee\u9898\uff1a READEME, HISTORY, AUTHORS, LICENSE \u7b49\u51e0\u4e2a\u6587\u4ef6\uff0c\u901a\u5e38\u5fc5\u987b\u653e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff0c\u800c sphinx \u5728\u6784\u5efa\u6587\u6863\u65f6\uff0c\u53c8\u53ea\u8bfb\u53d6 docs \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u3002</p> <p>Mkdocs \u4e5f\u5b58\u5728\u540c\u6837\u7684\u95ee\u9898\uff0c\u4e0d\u8fc7\u597d\u5728\u6709\u4e00\u4e2a\u597d\u7528\u7684\u63d2\u4ef6\uff0cmkdocs-include-mkdown-plugin\uff0c\u5728\u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u4fee\u6539 docs/index.md \u6587\u4ef6\uff0c\u4f7f\u4e4b\u6307\u5411\u7236\u76ee\u5f55\u7684 README:</p> <pre><code>{%\n    include-markdown \"../README.md\"\n% }\n</code></pre> <p>\u4fee\u6539 mkdocs.yaml\uff0c\u52a0\u8f7d include-markdown \u63d2\u4ef6\uff1a <pre><code>site_name: Omicron\n\nnav: \n  - Home: index.md\n  - \u5b89\u88c5\uff1ainstallation.md\n  - History: history.md\n\ntheme: readthedocs\n\nplugins:\n  - include-markdown\n</code></pre> Mkdocs \u4f1a\u5c06 docs/index.md \u8f6c\u6362\u6210\u7f51\u7ad9\u7684\u9996\u9875\u3002\u6211\u4eec\u8ba9 index.md \u6307\u5411 README.md\uff0c\u4ece\u800c\u4f7f\u5f97 README.md \u7684\u5185\u5bb9\u6210\u4e3a\u7f51\u7ad9\u7684\u9996\u9875\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#74","title":"7.4. \u9875\u9762\u5f15\u7528","text":"<p>\u5728\u4ecb\u7ecd Markdown \u8bed\u6cd5\u65f6\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u8d85\u94fe\u63a5\u8bed\u6cd5\u3002\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5728\u6587\u6863\u4e2d\u5f15\u7528\u5176\u4ed6\u9875\u9762\uff0c\u751a\u81f3\u662f\u9875\u9762\u5185\u7684\u6807\u9898\uff0c\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u7528\u5230\u5185\u90e8\u94fe\u63a5\u3002\u5185\u90e8\u94fe\u63a5\u7684\u8bed\u6cd5\u662f\uff1a <pre><code>[\u9875\u9762\u6807\u9898](\u9875\u9762\u8def\u5f84#\u6807\u9898\u951a\u70b9)\n</code></pre> \u8981\u4f7f\u7528\u6807\u9898\u951a\u70b9\uff0c\u5fc5\u987b\u5728\u914d\u7f6e\u4e2d\u542f\u7528 toc \u7684\u914d\u7f6e\u3002\u5982\u4e0b\u6240\u793a\uff1a <pre><code>markdown_extensions:\n  - toc:\n      permalink: true\n      toc_depth: 5\n      baselevel: 2-4\n      slugify: !!python/name:pymdownx.slugs.uslugify\n</code></pre> \u6ce8\u610f\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d slugify \u9879\u7684\u914d\u7f6e\u3002\u8fd9\u4e2a\u914d\u7f6e\u7684\u4f5c\u7528\u662f\u5141\u8bb8\u5728\u951a\u70b9\u4e2d\u4f7f\u7528\u975e\u82f1\u6587\u5b57\u7b26\u3002\u73b0\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5f15\u7528\u7b2c 4 \u7ae0 ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\uff1a <pre><code>[ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868](chap04.md#ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868)\n</code></pre> \u8fd9\u5c06\u751f\u6210\u4e00\u4e2a \u94fe\u63a5\u3002\u70b9\u51fb\u8fd9\u4e2a\u94fe\u63a5\uff0c\u5c06\u8df3\u8f6c\u5230\u7b2c 4 \u7ae0\u7684 ppw \u751f\u6210\u7684\u6587\u4ef6\u5217\u8868\u7684\u6807\u9898\u5904\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#75-api-mkdocstrings","title":"7.5. API \u6587\u6863\u548c mkdocstrings","text":"<p>\u524d\u9762\u5df2\u7ecf\u63d0\u5230\u8fc7 MkApi \u8fd9\u4e2a\u6269\u5c55\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u751f\u6210 API \u6587\u6863\u3002\u53e6\u4e00\u4e2a\u80fd\u5b9e\u73b0\u540c\u6837\u529f\u80fd\u7684\u6269\u5c55\u53eb mkdocstrings\u3002\u5728\u6211\u4eec\u7684\u6d4b\u8bd5\u4e2d\uff0cMkdocstrings \u7684\u7a33\u5b9a\u6027\u66f4\u597d\uff0c\u793e\u533a\u6d3b\u8dc3\u5ea6\u4e5f\u66f4\u9ad8\u4e00\u4e9b\u3002\u56e0\u6b64\u8fd9\u91cc\u6211\u4eec\u4ec5\u4ecb\u7ecd mkdocstrings\u3002</p> <p>Mkdocstrings \u53ea\u652f\u6301 google style \u7684 docstring, \u5728\u6837\u5f0f\u4e0a\u652f\u6301\u4e86 Material, Readthedocs \u548c mkdocs \u4e09\u79cd\u4e3b\u9898\u3002\u8981\u4f7f\u7528 mkdocstrings\uff0c\u9700\u8981\u5148\u5b89\u88c5\u8fd9\u4e2a\u6269\u5c55\uff1a <pre><code>poetry add mkdocstrings\n</code></pre> \u518d\u5728 mkdocs.yaml \u4e2d\u914d\u7f6e\uff1a <pre><code>plugins:\n  - mkdocstrings:\n      watch:\n        - sample\n</code></pre> mkdocstrings \u6709\u4ee5\u4e0b\u529f\u80fd\u7279\u6027\uff1a</p>"},{"location":"articles/python/best-practice-python/chap10/#751","title":"7.5.1. \u4ea4\u53c9\u5f15\u7528","text":"<p>\u6211\u4eec\u5728 \u9875\u9762\u5f15\u7528\u90a3\u4e00\u8282\u91cc\u8bb2\u5230\u7684\u90a3\u4e9b\u5f15\u7528\uff0c\u5728 mkdocstrings \u4e2d\u4e5f\u662f\u652f\u6301\u7684\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u9700\u8981\u5728 mkdocs.yml \u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u542f\u7528\u4e00\u4e2a\u540d\u4e3a autorefs \u7684\u63d2\u4ef6\uff1a <pre><code>plugins:\n    - search\n    - autorefs\n</code></pre> autorefs \u5e76\u4e0d\u9700\u8981\u5b89\u88c5\uff0c\u5b83\u4f1a\u968f mkdocstrings \u7684\u5b89\u88c5\u800c\u5b89\u88c5\u3002</p> <p>\u63a5\u4e0b\u6765\u4e3b\u8981\u8bb2\u89e3\u4e00\u4e0b\uff0c\u5982\u4f55\u5f15\u7528\u5230\u51fd\u6570\u3001\u7c7b\u3001\u6a21\u5757\u5bf9\u5e94\u7684\u6587\u6863\u3002\u5728 mkdocstrings \u4e2d\uff0c\u6b64\u7c7b\u5f15\u7528\u7c7b\u4f3c\u4f7f\u7528 markdown \u7684\u5f15\u7528\u8bed\u6cd5\u7684\u98ce\u683c\uff0c\u4f46\u7565\u6709\u4e0d\u540c\u3002\u4e3e\u4f8b\u5982\u4e0b\uff1a <pre><code>With a custom title:\n[`Object 1`][full.path.object1]\n\nWith the identifier as title:\n[full.path.object2][]\n</code></pre> \u53ef\u4ee5\u770b\u51fa\uff0c\u6b64\u7c7b\u5f15\u7528\u662f\u7531\u4e24\u5bf9\u65b9\u62ec\u53f7\uff0c\u800c\u4e0d\u662f\u7531\u4e00\u5bf9\u65b9\u62ec\u53f7\u52a0\u4e00\u5bf9\u5706\u62ec\u53f7\u7ec4\u6210\u3002\u5176\u4e2d\u7b2c\u4e00\u5bf9\u65b9\u62ec\u53f7\u91cc\u9762\u662f\u6807\u9898\uff0c\u7b2c\u4e8c\u5bf9\u65b9\u62ec\u53f7\u91cc\u9762\u662f\u5f15\u7528\u7684\u5bf9\u8c61\u7684\u8def\u5f84\u3002\u4e5f\u53ef\u4ee5\u50cf\u7b2c 60 \u884c\u4e00\u6837\uff0c\u53ea\u4f7f\u7528\u9ed8\u8ba4\u7684\u94fe\u63a5\u6587\u5b57\uff0c\u5373\u5bf9\u8c61\u5b57\u9762\u540d\u3002</p> <p>\u6211\u4eec\u518d\u6765\u89e3\u91ca\u4e00\u4e0b\uff0c\u5f15\u7528\u5bf9\u8c61\u7684\u8def\u5f84\u7684\u542b\u4e49\u3002\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a\u5e93\uff0c\u540d\u4e3a foo\uff0c\u4e0b\u9762\u6709\u4e00\u4e2a\u6a21\u5757 bar, \u5728 bar \u6a21\u5757\u4e2d\u53c8\u5b9a\u4e49\u4e86\u7c7b Baz\uff0c\u800c\u7c7b Baz \u53c8\u5305\u542b\u4e86\u65b9\u6cd5 bark\u3002\u5982\u679c\u6211\u4eec\u8981\u5728\u67d0\u4e2a\u65b9\u6cd5\uff08\u6bd4\u5982 dog_bark\uff09\u4e2d\u5f15\u7528 bark \u65b9\u6cd5\u7684\u6587\u6863\uff0c\u5219 dog_bark \u7684\u6587\u6863\u5e94\u8be5\u5982\u4e0b\uff08\u7b2c 5 \u884c\uff09\uff1a</p> <p><pre><code>def dog_bark(msg: str) -&gt; None:\n    \"\"\" Bark like a dog\n\n        See Also:\n            [Baz.bark][foo.bar.Baz.bark]\n        Args:\n            msg: The message to bark\n    \"\"\"\n    ...\n</code></pre> \u8fd9\u91cc\u5404\u5c42\u7ea7\u5bf9\u8c61\u4e4b\u95f4\u7684\u8fde\u63a5\u7b26\u90fd\u662f\".\"\u3002\u8fd9\u65e2\u7b80\u5316\u4e86\u8bb0\u5fc6\u91cf\uff0c\u4e5f\u7b26\u5408 Python \u7684\u52a8\u6001\u7c7b\u578b\u7279\u5f81 -- \u5728 Python \u4e2d\uff0c\u4e00\u5207\u90fd\u662f\u5bf9\u8c61\u3002</p> <p>Attention</p> <p>\u5982\u679c foo.bar.Baz.bark \u8fd9\u4e2a\u51fd\u6570\u5e76\u6ca1\u6709\u6587\u6863\uff0c\u90a3\u4e48\u5c06\u4ea7\u751f\u4e00\u4e2a\u65e0\u6548\u94fe\u63a5\u3002</p> <p>\u4e00\u4e2a\u521d\u5b66\u8005\u4e0d\u6613\u89c9\u5bdf\u7684\u4e8b\u5b9e\u662f\uff0cmkdocstrings \u5728\u751f\u6210 API \u6587\u6863\u65f6\uff0c\u9700\u8981\u5bfc\u5165\u6211\u4eec\u5f00\u53d1\u7684\u6a21\u5757\u3002\u5982\u679c\u6a21\u5757\u6709\u8bed\u6cd5\u9519\u8bef\uff0c\u7279\u522b\u662f\u4e0d\u80fd\u6b63\u5e38\u5bfc\u5165\u7684\u8bdd\uff0c\u5219 mkdocstring \u5c06\u65e0\u6cd5\u751f\u6210 API \u6587\u6863\uff0c\u5e76\u4e14\u4e0d\u4e00\u5b9a\u80fd\u51c6\u786e\u62a5\u544a\u9519\u8bef\u3002\u6240\u4ee5\uff0c\u5728\u751f\u6210\u6587\u6863\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5355\u5143\u6d4b\u8bd5\u5df2\u7ecf\u5b8c\u5168\u901a\u8fc7\u4e86\u3002</p> <p>\u5728 mkdocstrings 0.14 \u4e4b\u540e\uff0c\u8df3\u8f6c\u5230\u67d0\u4e2a\u51fd\u6570\u6587\u6863\u5185\u90e8\u7684\u5b50\u6807\u9898\u7684\u80fd\u529b\u4e5f\u5177\u5907\u4e86\u3002\u5728 0.16 \u4e4b\u540e\uff0c\u5b83\u53c8\u6709\u4e86\u7c7b\u4f3c intersphinx \u90a3\u6837\u8de8\u5de5\u7a0b\u5f15\u7528\u7684\u80fd\u529b\u3002\u5177\u4f53\u5982\u4f55\u4f7f\u7528\uff0c\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#752","title":"7.5.2. \u4e0e\u4e3b\u63a7\u6587\u6863\u5efa\u7acb\u5173\u8054","text":"<p>\u4e00\u822c\u5730\uff0c\u6211\u4eec\u8981\u5728 docs \u76ee\u5f55\u4e0b\u751f\u6210\u4e00\u4e2a\u540d\u4e3a api.md \u7684\u6587\u6863\uff08\u6587\u4ef6\u540d\u53ef\u4ee5\u4efb\u610f\u53d6\uff09\uff0c\u5e76\u5728 mkdocs.yml \u4e2d<code>nav</code>\u4e00\u8282\u4e2d\u914d\u7f6e\u8fdb\u6765\uff08\u89c1\u7b2c 5 \u884c\uff09\uff1a <pre><code>nav:\n  - home: index.md\n  - installation: installation.md\n  - usage: usage.md\n  - modules: api.md\n</code></pre> \u6839\u636e mkdocs \u7684\u8bed\u6cd5\uff0c\u8fd9\u91cc\u7684 home, usage, modules \u7b49\uff0c\u5c06\u6210\u4e3a\u5bfc\u822a\u83dc\u5355\u4e0a\u7684\u4e00\u9879\uff0c\u5b83\u4eec\u7684\u94fe\u63a5\u5c06\u6307\u5411\u5192\u53f7\u540e\u9762\u7684\u6587\u6863\u3002\u7136\u540e\uff0c\u5728 api.md \u4e2d\uff0c\u6211\u4eec\u5f15\u5165\u9700\u8981\u751f\u6210\u6587\u6863\u7684\u5404\u4e2a\u6a21\u5757\uff1a <pre><code>::: my_package.my_module.MyClass\n    handler: python\n    options:\n      members:\n        - method_a\n        - method_b\n      show_root_heading: false\n      show_source: false\n</code></pre> \u4e0a\u9762\u7684\u793a\u4f8b\u662f\u4e00\u4e2a\u914d\u7f6e\u9879\u6bd4\u8f83\u5b8c\u5168\u7684\u4f8b\u5b50\u3002\u4e00\u822c\u5730\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u8c61\u8fd9\u6837\u914d\u7f6e\uff1a <pre><code>::: sample.models.security\n    rendering:\n        heading_level: 1\n</code></pre> \u8fd9\u6837\u5728\u6a21\u5757 sample.models.security \u4e0b\u7684\u6240\u6709\u7c7b\u548c\u51fd\u6570\u90fd\u4f1a\u88ab\u751f\u6210\u6587\u6863\u3002</p> <p>\u5bf9\u4e8e\u5927\u578b\u5de5\u7a0b\uff0c\u6211\u4eec\u503e\u5411\u4e8e\u5c06 API \u6587\u6863\u62c6\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u518d\u901a\u8fc7 mkdocs.yml \u5173\u8054\u8d77\u6765\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a <pre><code># MKDOCS.YML\nnav:\n  - \u7b80\u4ecb\uff1aindex.md\n  - \u5b89\u88c5\uff1ainstallation.md\n  - \u6559\u7a0b\uff1ausage.md\n  - API \u6587\u6863\uff1a\n    - timeframe: api/timeframe.md\n    - triggers: api/triggers.md\n    - security: api/security.md\n</code></pre> \u5bf9\u5e94\u5730\uff0c\u6211\u4eec\u5728 docs/api \u76ee\u5f55\u4e0b\u751f\u6210\u4e86 security.md \u7b49\u51e0\u4e2a\u6587\u6863\uff0c\u6bcf\u4e2a\u6587\u6863\u4e2d\u90fd\u53ea\u5f15\u5165\u4e86\u81ea\u5df1\u5173\u5fc3\u7684\u6a21\u5757\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#76","title":"7.6. \u591a\u7248\u672c\u53d1\u5e03","text":"<p>\u6211\u4eec\u7684\u8f6f\u4ef6\u59cb\u7ec8\u5728\u4e0d\u65ad\u5730\u8fed\u4ee3\uff0c\u603b\u6709\u4e00\u4e9b\u7528\u6237\u53ef\u80fd\u5e76\u4e0d\u4f1a\u968f\u7740\u6211\u4eec\u7684\u6b65\u4f10\u5347\u7ea7\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5fc5\u987b\u8981\u63d0\u4f9b\u591a\u4e2a\u7248\u672c\u7684\u6587\u6863\uff0c\u4ee5\u4fbf\u7528\u6237\u80fd\u591f\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u9009\u62e9\u5408\u9002\u7684\u7248\u672c\u3002\u5728 mkdocs \u4e2d\uff0c\u8fd9\u4e00\u529f\u80fd\u662f\u7531 Mike \u6765\u5b9e\u73b0\u7684\u3002 \u5982\u679c\u6211\u4eec\u4f7f\u7528 mkdocs-material \u4e3b\u9898\uff0c\u5219\u53ea\u9700\u8981\u5728 mkdocs.yml \u4e2d\u8fdb\u884c\u914d\u7f6e\u5373\u53ef\uff1a <pre><code>extra:\n  version:\n    provider: mike\n</code></pre> \u8fd9\u4f1a\u4f7f\u5f97\u5728\u6587\u6863\u7684 header \u533a\u57df\u51fa\u73b0\u4e00\u4e2a\u7248\u672c\u9009\u62e9\u5668\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p>"},{"location":"articles/python/best-practice-python/chap10/#8","title":"8. \u5728\u7ebf\u6258\u7ba1\u6587\u6863","text":"<p>\u6700\u597d\u7684\u6587\u6863\u5206\u53d1\u65b9\u5f0f\u662f\u4f7f\u7528\u5728\u7ebf\u6258\u7ba1\uff0c\u4e00\u65e6\u6709\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u6587\u6863\u80fd\u7acb\u5373\u5f97\u5230\u66f4\u65b0\uff1b\u5e76\u4e14\uff0c\u65e7\u7684\u7248\u672c\u5bf9\u5e94\u7684\u6587\u6863\u4e5f\u80fd\u5f97\u5230\u4fdd\u7559\u3002Reade the Docs \u662f\u6700\u91cd\u8981\u7684\u6587\u6863\u6258\u7ba1\u7f51\u7ad9\u4e4b\u4e00\uff0c\u4e5f\u662f\u591a\u5e74\u4ee5\u6765\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\uff0c\u800c github pages \u5219\u662f\u540e\u8d77\u4e4b\u79c0\u3002\u7531\u4e8e\u5b83\u4e0e github \u6709\u8f83\u597d\u7684\u96c6\u6210\u6027\uff0c\u90e8\u7f72\u66f4\u4e3a\u7b80\u5355\u65b9\u4fbf\uff0c\u56e0\u6b64\u6211\u4eec\u4ee5\u4ecb\u7ecd github pages \u4e3a\u4e3b\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#81-read-the-docs","title":"8.1. Read the docs","text":"<p>\u5173\u4e8e\u5982\u4f55\u4f7f\u7528 read the docs, \u8bf7\u53c2\u8003\u5b83\u7684 \u5e2e\u52a9\u6587\u6863\u3002\u8fd9\u91cc\u53ea\u63d0\u793a\u4e00\u4e0b\u9700\u8981\u6ce8\u610f\u7684\u51e0\u4e2a\u6838\u5fc3\u6982\u5ff5\uff1a</p> <ol> <li>read the docs \u6784\u5efa\u6587\u6863\u7684\u65b9\u5f0f\u662f\uff0c\u5b83\u4ece github \u6216\u8005\u5176\u4ed6\u5728\u7ebf\u6258\u7ba1\u5e73\u53f0\u62c9\u53d6\u6211\u4eec\u7684\u6587\u6863\u548c\u4ee3\u7801\uff0c\u5728\u5b83\u81ea\u5df1\u7684\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u6587\u6863\u6784\u5efa\u3002\u6240\u4ee5\uff0c\u5b83\u5bf9\u6587\u6863\u6784\u5efa\u6280\u672f\u6709\u9009\u62e9\u6027\uff0c\u76ee\u524d\u5b83\u652f\u6301\u7684\u5de5\u5177\u6709 Sphinx \u548c MkDocs \u4e24\u79cd\u3002</li> <li>\u6211\u4eec\u5728\u64b0\u5199\u6587\u6863\u65f6\uff0c\u5f80\u5f80\u4f1a\u751f\u6210\u672c\u5730\u9884\u89c8\u6587\u6863\u3002\u4f46\u8fd9\u4efd\u6587\u6863\u4e0e read the docs \u4e0a\u7684\u6587\u6863\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\u672c\u5730\u9884\u89c8\u6b63\u786e\u4e0d\u4ee3\u8868 read the docs \u80fd\u751f\u6210\u540c\u6837\u7684\u6587\u4ef6\u3002</li> <li>\u5982\u679c\u8bbe\u7f6e\u4e86 Read the Docs \u81ea\u52a8\u62c9\u53d6\u4ee3\u7801\u5e76\u6784\u5efa\u6587\u6863\u7684\u529f\u80fd\uff0c\u90a3\u4e48\u6bcf\u6b21\u5f80 GitHub \u4e0a push \u4ee3\u7801\u65f6\uff0c\u90fd\u4f1a\u89e6\u53d1\u4e00\u6b21\u6587\u6863\u6784\u5efa\uff0c\u5e76\u5bfc\u81f4\u6587\u6863\u66f4\u65b0\u3002\u6240\u4ee5\u6b63\u786e\u7684\u505a\u6cd5\u662f\u5c06 Read the Docs \u7ed1\u5b9a\u5230\u7279\u5b9a\u7684\u5206\u652f\u4e0a\uff08\u6bd4\u5982 release \u548c main\uff09\uff0c\u53ea\u6709\u91cd\u8981\u7684\u7248\u672c\u53d1\u5e03\u65f6\uff0c\u624d\u5f80\u8fd9\u4e2a\u5206\u652f\u4e0a push \u4ee3\u7801\uff0c\u4ece\u800c\u89e6\u53d1\u6587\u6863\u7f16\u8bd1\u3002Read the Docs \u76ee\u524d\u5e76\u4e0d\u652f\u6301 Git \u6807\u7b7e\u89e6\u53d1\u3002</li> <li>read the docs \u7f16\u8bd1\u6587\u6863\u65f6\uff0c\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u4f9d\u8d56\u95ee\u9898\u3002\u9996\u5148\u5e94\u8be5\u7ed1\u5b9a\u6784\u5efa\u5de5\u5177 (Sphinx \u548c Mkdocs) \u7684\u7248\u672c\u3002read the docs \u63d0\u4f9b\u4e86 readthedocs.yml \u4ee5\u4f9b\u914d\u7f6e\uff08\u653e\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff09\u3002\u6211\u4eec\u4f7f\u7528\u7684 API \u6587\u6863\u751f\u6210\u5de5\u5177\u53ef\u80fd\u8fd8\u9700\u8981\u5bfc\u5165\u9879\u76ee\u751f\u6210\u7684 package\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8fd8\u9700\u8981\u4e3a\u6784\u5efa\u5de5\u5177\u6307\u5b9a\u4f9d\u8d56\u3002\u5728\u8fd9\u91cc \u6709\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u677f\u3002</li> <li>\u5728\u6587\u6863\u6784\u5efa\u4e2d\u53ef\u80fd\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u4e3a\u4e86\u5e2e\u52a9\u8c03\u8bd5\uff0cread the docs \u53d1\u5e03\u4e86\u5b98\u65b9 docker image\uff0c\u4f9b\u5927\u5bb6\u5728\u672c\u5730\u4f7f\u7528\u3002</li> </ol> <p>\u57fa\u4e8e\u4e0a\u8ff0\u539f\u56e0\uff0c\u6211\u4eec\u66f4\u63a8\u8350\u4f7f\u7528 GitHub Pages \u6765\u6258\u7ba1\u6587\u6863\uff0c\u5b83\u7b80\u5355\u6613\u7528\uff0c\u6784\u5efa\u5728\u672c\u5730\u5b8c\u6210\uff0c\u56e0\u6b64\u672c\u5730\u751f\u6210\u6587\u6863\u4e0e github pages \u6258\u7ba1\u6587\u6863\u5929\u7136\u5177\u6709\u4e00\u81f4\u6027\uff0c\u8fd9\u5c06\u4f1a\u4e3a\u6211\u4eec\u8282\u7701\u4e0d\u5c11\u67e5\u9519\u65f6\u95f4\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#82-github-pages","title":"8.2. Github Pages","text":"<p>Github Pages \u662f Github \u63d0\u4f9b\u7684\u9759\u6001\u7ad9\u70b9\u6258\u7ba1\u670d\u52a1\uff0c\u5b83\u7684\u539f\u7406\u662f\uff0c\u7531\u7528\u6237\u5728\u672c\u5730\uff08\u6216\u8005 CI \u670d\u52a1\u5668\u4e0a\uff09\u7f16\u8bd1\u597d\u9759\u6001\u7ad9\u70b9\u6587\u4ef6\uff0c\u7b7e\u5165 github \u670d\u52a1\u5668\u7684\u67d0\u4e2a\u5206\u652f\uff0c\u518d\u8bbe\u7f6e\u8be5\u5206\u652f\u4e3a github pages \u8bfb\u53d6\u7684\u5206\u652f\u5373\u53ef\u3002\u8fd9\u6837\u751f\u6210\u7684\u7f51\u7ad9\u4f7f\u7528 github.io \u7684\u57df\u540d\uff0c\u652f\u6301 https \u8bbf\u95ee\u3002\u5982\u679c\u4f60\u9700\u8981\u4f7f\u7528\u81ea\u5df1\u7684\u57df\u540d\uff0c\u5b83\u4e5f\u63d0\u4f9b\u4e86\u4fee\u6539\u65b9\u5f0f\u3002</p> <p>\u5728 github \u4e0a\u8bbe\u7f6e git pages\uff1a</p> <p></p> <p>\u5f53\u4f7f\u7528\u4e86 mkdocs \u4e4b\u540e\uff0c\u5982\u679c\u6211\u4eec\u8981\u4ece\u672c\u5730\u53d1\u5e03\u6587\u6863\uff0c\u53ef\u4ee5\u6267\u884c\uff1a <pre><code>mkdocs gh-deploy\n</code></pre> \u5982\u679c\u4f60\u4f7f\u7528 mike \u8fdb\u884c\u591a\u7248\u672c\u53d1\u5e03\uff0c\u5219\u6211\u4eec\u4e0d\u5e94\u8be5\u4f7f\u7528 mkdocs \u6765\u8fdb\u884c\u672c\u5730\u53d1\u5e03\uff0c\u800c\u662f\u5e94\u8be5\u4f7f\u7528 mike: <pre><code>mike deploy [version] [alias] --push\nmike set-default [version-or-alias]\n</code></pre></p> <p>\u7b2c 1 \u884c\u4e2d\uff0c\u6211\u4eec\u4e0d\u4ec5\u6307\u5b9a\u4e86\u7248\u672c\u53f7\uff0c\u8fd8\u7ed9\u5b83\u6307\u5b9a\u4e86\u4e00\u4e2a\u522b\u540d\u3002\u522b\u540d\u6709\u7740\u975e\u5e38\u5b9e\u7528\u7684\u529f\u80fd\u3002\u5728\u542f\u7528\u591a\u7248\u672c\u90e8\u7f72\u4e4b\u540e\uff0c\u94fe\u63a5\u90fd\u4f1a\u5e26\u4e0a\u7248\u672c\u53f7\uff0c\u6bd4\u5982\uff0chttp://.../myproject/0.1.0/topic\u3002\u65b0\u7248\u672c\u53d1\u5e03\u540e\uff0c\u5f15\u7528\u8fd9\u4e9b\u94fe\u63a5\u7684\u5730\u65b9\u5fc5\u987b\u8981\u5168\u90e8\u66f4\u6539\uff0c\u5426\u5219\u5c31\u4f1a\u6307\u5411\u8fc7\u65f6\u7684\u6587\u6863\uff08\u5f53\u7136\u4e2a\u522b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e5f\u786e\u5b9e\u9700\u8981\u6307\u5411\u65e7\u7684\u7248\u672c\u53f7\uff0c\u4f46\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u90fd\u9700\u8981\u6307\u5411\u6700\u65b0\u7684\u7248\u672c\uff09\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u53eb latest \u7684\u522b\u540d\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4ece\u4e00\u5f00\u59cb\uff0c\u94fe\u63a5\u5c31\u662f https://.../myproject/latest/topic\uff0c\u968f\u7740\u65b0\u7248\u672c\u53d1\u5e03\uff0c\u5b83\u603b\u662f\u6307\u5411\u6700\u65b0\u7684\u90a3\u4e2a\u7248\u672c\u3002</p> <p>\u7b2c 2 \u884c\u4e2d\uff0c\u6211\u4eec\u6307\u5b9a\u4e86\u9ed8\u8ba4\u7248\u672c\u3002\u5728\u591a\u7248\u672c\u90e8\u7f72\u4e0b\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u9ed8\u8ba4\u7248\u672c\uff0c\u5219\u7528\u6237\u5fc5\u987b\u6307\u5b9a\u660e\u786e\u7684\u7248\u672c\u53f7\u624d\u80fd\u8bbf\u95ee\u6587\u6863\u3002\u4f46\u7528\u6237\u53ef\u80fd\u4e8b\u5148\u5e76\u4e0d\u77e5\u9053\u6700\u65b0\u7684\u7248\u672c\u662f\u54ea\u4e00\u4e2a\u3002\u8fd9\u5c31\u662f\u9ed8\u8ba4\u7248\u672c\u7684\u4f5c\u7528\u3002</p>"},{"location":"articles/python/best-practice-python/chap10/#9","title":"9. \u7ed3\u8bba","text":"<p>Sphinx + rst \u8fd9\u6761\u6280\u672f\u6808\u6bd4\u8f83\u6210\u719f\u7a33\u5b9a\uff0c\u4f46\u5b66\u4e60\u66f2\u7ebf\u6bd4\u8f83\u9661\u5ced\uff0crst \u7684\u4e00\u4e9b\u8bed\u6cd5\u8fc7\u4e8e\u70e6\u7410\uff0c\u6587\u6863\u64b0\u5199\u7684\u6548\u7387\u4e0d\u9ad8\u3002Mkdocs \u6b63\u5728\u6210\u4e3a\u6784\u5efa\u9759\u6001\u7ad9\u70b9\u548c\u6280\u672f\u6587\u6863\u7684\u65b0\u5de5\u5177\uff0c\u76f8\u5173\u529f\u80fd\u3001\u7279\u6027\u9010\u6e10\u4e30\u5bcc\uff0c\u7248\u672c\u4e5f\u8d8b\u4e8e\u7a33\u5b9a\uff0c\u5efa\u8bae\u8bfb\u8005\u4f18\u5148\u4f7f\u7528\u3002</p> <p>\u4e24\u79cd\u6280\u672f\u6808\u7684\u6bd4\u8f83\u5982\u4e0b\uff1a</p> \u9879\u76ee Sphinx Mkdocs \u8bf4\u660e \u4e3b\u63a7\u6587\u6863 index.rst mkdocs.yml - API \u6587\u6863 autodoc+autosummary mkdocstrings mkdocstrings \u5bf9 material \u652f\u6301\u8f83\u597d\uff0c\u8fd8\u672a\u8fbe\u5230 1.0 \u91cc\u7a0b\u7891 \u6587\u6863\u91cd\u5b9a\u5411 rst \u53ef\u652f\u6301 \u901a\u8fc7\u63d2\u4ef6\u652f\u6301 - \u8b66\u793a\u6587\u672c \u652f\u6301 \u901a\u8fc7\u6269\u5c55\u548c\u4e3b\u9898\u652f\u6301 - \u94fe\u63a5 \u6587\u6863\u5185+\u8de8\u9879\u76ee \u901a\u8fc7\u6269\u5c55\u652f\u6301 \u540c Sphinx \u5b9e\u65f6\u9884\u89c8 \u7b2c\u4e09\u65b9 \u5185\u7f6e mkdocs \u5b9e\u65f6\u9884\u89c8\u66f4\u9ad8\u6548 \u8868\u8fbe\u80fd\u529b \u975e\u5e38\u5f3a\uff0c\u591f\u7528 - \u751f\u4ea7\u6548\u7387 \u4e00\u822c \u9ad8\u6548 - <ol> <li> <p>\u53ef\u7f55\u5b66\u9662\u662f\u9ebb\u7701\u7406\u5de5\u53ca\u54c8\u4f5b\u5927\u5b66\u6bd5\u4e1a\u751f\u8428\u5c14\u66fc. \u53ef\u6c57\u521b\u5efa\u7684\u975e\u8425\u5229\u6559\u80b2\u673a\u6784\uff0c\u901a\u8fc7\u7f51\u683c\u63d0\u4f9b\u514d\u8d39\u6559\u6750\u3002\u4ed6\u4eec\u5bf9 Google style \u6587\u6863\u98ce\u683c\u7684\u63a8\u8350\u51fa\u73b0\u5728 github \u21a9</p> </li> </ol>"},{"location":"articles/python/best-practice-python/chap11/","title":"11 \u53d1\u5e03\u5e94\u7528","text":"<p>\u6211\u4eec\u7684\u63a2\u7d22\u4e4b\u65c5\uff0c\u5c31\u8981\u63a5\u8fd1 Python \u5f00\u53d1\u6d41\u6c34\u7ebf\u7684\u7ec8\u70b9\u4e86\u3002\u7ec8\u70b9\u7ad9\u7684\u4e3b\u9898\u662f\u5982\u4f55\u6253\u5305\u548c\u53d1\u5e03\u5e94\u7528\u3002</p> <p>Python \u5f00\u53d1\u9879\u76ee\u7684\u6210\u679c\uff0c\u53ef\u80fd\u662f\u4e00\u4e2a Python \u5e93 (package)\uff0c\u4e5f\u53ef\u80fd\u662f\u4e00\u4e2a\u72ec\u7acb\u8fd0\u884c\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u6216\u8005\u540e\u53f0\u670d\u52a1\uff09\u3002</p> <p>Python \u5e93\u7684\u5206\u53d1\u53ef\u80fd\u5927\u5bb6\u6bd4\u8f83\u719f\u6089\u4e86\u3002 PyPA\uff08PyPA \u662f Python \u8f6f\u4ef6\u57fa\u91d1\u4f1a -- Python Software Foundation\uff0c\u7b80\u79f0 PSF \u8d44\u52a9\u7684\u4e00\u4e2a\u6838\u5fc3\u9879\u76ee\uff09\u901a\u8fc7 PyPI \u548c\u4e00\u7cfb\u5217\u5de5\u5177\uff0c\u4e3a Python \u5e93\u7684\u5206\u53d1\u63d0\u4f9b\u4e86\u4e8b\u5b9e\u4e0a\u7684\u6807\u51c6\u548c\u57fa\u7840\u8bbe\u65bd\u3002</p> <p>\u5206\u53d1\u5e94\u7528\u7a0b\u5e8f\u5219\u8981\u590d\u6742\u4e0d\u5c11\u3002\u53d6\u51b3\u4e8e\u6211\u4eec\u4f7f\u7528\u7684\u6846\u67b6\u3001\u6280\u672f\u548c\u7528\u6237\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u9700\u8981\u5206\u53d1\u5230\u670d\u52a1\u5e73\u53f0\uff08Serivce platforms\uff09-- \u8fd9\u4e00\u822c\u9002\u7528\u4e8e\u6784\u5efa\u6258\u7ba1\u7684 SaaS \u670d\u52a1\uff0c\u6bd4\u5982\u90a3\u4e9b\u90e8\u7f72\u5728 Heroku\uff0c Google App Engine \u5e73\u53f0\u4e0a\u7684\u670d\u52a1\uff1b\u4e5f\u53ef\u80fd\u662f\u90e8\u7f72\u5728\u4e91\u4e0a\uff08\u65e0\u8bba\u662f\u516c\u6709\u4e91\u8fd8\u662f\u79c1\u6709\u4e91\uff09\u7684\u5355\u4e2a\u6216\u8005\u4e00\u7ec4\u76f8\u4e92\u5408\u4f5c\u7684\u5bb9\u5668 -- \u8fd9\u4e9b\u90fd\u662f\u9002\u5408\u4e8e\u670d\u52a1\u7684\u6a21\u5f0f\uff1b\u4e5f\u6709\u53ef\u80fd\u8fd9\u662f\u4e2a\u9762\u5411\u6d88\u8d39\u7ea7\u7528\u6237\u7684 App\uff0c\u9700\u8981\u901a\u8fc7 App store, Android \u5e02\u573a\uff0c\u6216\u8005 Windows \u5546\u5e97\u6765\u5206\u53d1 -- \u8fd9\u5c31\u8fd8\u6d89\u53ca\u5411\u5bfc\u5f0f\u5b89\u88c5\u7a0b\u5e8f\u7684\u5236\u4f5c\uff0c\u4ee5\u53ca\u5982\u4f55\u8fd0\u884c Python \u7a0b\u5e8f\u7684\u95ee\u9898\u3002</p> <p>Python \u9879\u76ee\u5e94\u8be5\u4f7f\u7528\u54ea\u79cd\u65b9\u5f0f\u8fdb\u884c\u5206\u53d1\uff0c\u53d6\u51b3\u4e8e\u7528\u6237\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u4ee5\u53ca\u662f\u5426\u6d89\u53ca\u5b9a\u5236\u5316\u5b89\u88c5\u3002\u4e00\u4e9b Python \u5e93\u53ef\u4ee5\u901a\u8fc7 console script \u7684\u65b9\u5f0f\uff0c\u5728\u547d\u4ee4\u884c\u4e0b\u8fd0\u884c\u3002\u5982\u679c\u4e00\u4e2a Python \u5e93\u4ee5 pip \u7684\u65b9\u5f0f\u5b89\u88c5\u540e\u65e0\u987b\u914d\u7f6e\u5373\u53ef\u8fd0\u884c\uff0c\u5e76\u4e14\u7528\u6237\u81ea\u5df1\u77e5\u9053\u5982\u4f55\u5b89\u88c5 Python\uff08\u53ca\u53ef\u80fd\u4f1a\u521b\u5efa\u865a\u62df\u73af\u5883\uff09\uff0c\u8fd9\u6837\u6765\u5206\u53d1\u5e94\u7528\u4e5f\u662f\u5141\u8bb8\u7684\u3002\u4f46\u5bf9\u591a\u6570\u6d88\u8d39\u7ea7\u5e94\u7528\u7684\u7528\u6237\u800c\u8a00\uff0c\u4ed6\u4eec\u6050\u6015\u5e76\u4e0d\u61c2\u5f97\u5982\u4f55\u901a\u8fc7 pip \u6765\u5b89\u88c5\u5e94\u7528\uff0c\u5e76\u5728\u547d\u4ee4\u884c\u4e0b\u542f\u52a8\u5e94\u7528\u3002\u6b64\u5916\uff0c\u901a\u8fc7 pip \u5b89\u88c5\u65f6\uff0c\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u65e0\u6cd5\u63a5\u53d7\u7528\u6237\u8f93\u5165\uff0c\u56e0\u6b64\uff0c\u5b89\u88c5\u8fc7\u7a0b\u65e0\u6cd5\u5b9a\u5236\uff08\u6bd4\u5982\uff0c\u65e0\u6cd5\u8ba9\u7528\u6237\u9009\u62e9\u5b89\u88c5\u76ee\u7684\u5730\u3001\u4e5f\u65e0\u6cd5\u8ba9\u4ed6\u4eec\u8f93\u5165\u8d26\u6237\u4fe1\u606f\u7b49\uff09\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#1-python","title":"1. \u4ee5 PYTHON \u5e93\u7684\u65b9\u5f0f\u5206\u53d1","text":"<p>\u5728\u7a0b\u5e8f\u5e93\u7684\u5206\u53d1\u4e0a\uff0c\u5f88\u591a\u8bed\u8a00\u90fd\u5efa\u7acb\u4e86\u4e2d\u592e\u5b58\u50a8\u5e93\u548c\u5305\u7ba1\u7406\u5668\u751f\u6001\uff0c\u6bd4\u5982 Java \u7684 Maven\uff0cRuby \u7684 RubyGems\uff0cNode.js \u7684 npm\uff0cRust \u7684 Cargo\uff0c\u751a\u81f3 C/C++\u4e5f\u6709\u4e86 Conan\u3002\u4e0e\u5176\u5b83\u8bed\u8a00\u7c7b\u4f3c\uff0cPython \u5e93\u7684\u5206\u53d1\u4e5f\u662f\u901a\u8fc7\u4e00\u4e2a\u4e2d\u592e\u7d22\u5f15\u5e93 (The Python Package Index) \u6765\u5b9e\u73b0\u7684\uff0c\u7b80\u79f0 PyPI\uff0c\u542f\u7528\u4e8e 2003 \u5e74\u3002PyPI \u7684\u542f\u7528\u662f Python \u5f97\u4ee5\u52a0\u901f\u53d1\u5c55\u7684\u91cd\u8981\u56e0\u7d20\uff0c\u56e0\u4e3a Python \u5e7f\u53d7\u6b22\u8fce\u7684\u539f\u56e0\u4e4b\u4e00\u5c31\u662f\u5b83\u7684\u751f\u6001\u7cfb\u7edf\u975e\u5e38\u4e30\u5bcc\uff0cPyPI \u5219\u6b63\u662f\u6784\u5efa\u8fd9\u4e2a\u751f\u6001\u7cfb\u7edf\u7684\u6838\u5fc3\u3002</p> <p>\u8ba9\u6211\u4eec\u628a\u65f6\u95f4\u62c9\u56de\u5230 2000 \u5e74\u3002\u5f53 Python 1.6 \u53d1\u5e03\u65f6\uff0c\u5b83\u6dfb\u52a0\u4e86\u4e00\u4e2a\u6709\u610f\u601d\u7684\u529f\u80fd\uff0cdistutils\uff0c\u5960\u5b9a\u4e86 Python \u7684\u6253\u5305\u5de5\u5177\u7684\u5f00\u7aef\u3002\u5f7c\u65f6\u5b83\u7684\u529f\u80fd\u8fd8\u5f88\u7b80\u5355\uff0c\u53ea\u63d0\u4f9b\u4e86\u7b80\u5355\u7684\u6253\u5305\u529f\u80fd\uff0c\u6ca1\u6709\u58f0\u660e\u4f9d\u8d56\u548c\u81ea\u52a8\u5b89\u88c5\u4f9d\u8d56\u7684\u529f\u80fd\u3002</p> <p>2004 \u5e74\uff0c distutils \u6f14\u5316\u6210\u4e3a setuptools\uff0c\u5f15\u5165\u4e86\u65b0\u7684\u6253\u5305\u683c\u5f0f -- egg\u3002\u628a\u5305\u683c\u5f0f\u547d\u4e3a egg \u662f\u4e00\u79cd\u7a0b\u5e8f\u5458\u5f0f\u7684\u6d6a\u6f2b\u548c\u5e7d\u9ed8\uff0c\u56e0\u4e3a\u87d2\u86c7\u662f\u901a\u8fc7\u4e0b\u86cb\u6765\u5b9e\u73b0\u7e41\u6b96\u7684\uff0c\u800c Python \u5e93\u6b63\u662f Python \u5f00\u679d\u6563\u53f6\u7684\u4e00\u4e2a\u91cd\u8981\u8f7d\u4f53\u3002\u540c\u6837\u7684\u7c7b\u6bd4\u5728\u5176\u5b83\u8bed\u8a00\u4e2d\u4e5f\u5b58\u5728\uff0c\u6bd4\u5982 Ruby \u8bed\u8a00\u4e0e gems \u7684\u5173\u7cfb\u3002 egg \u6587\u4ef6\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a zip \u5305\uff0c\u53ea\u4e0d\u8fc7\u540d\u5b57\u4e0d\u540c\u800c\u5df2\u3002\u8fd9\u4e00\u9636\u6bb5\u7684 setuptools \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u65b0\u7684\u547d\u4ee4\uff0ceasy_install\uff0c\u7528\u6765\u5b89\u88c5 python eggs\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u547d\u4ee4\u5728 2.7 \u4e4b\u540e\u5c31\u88ab\u79fb\u9664\u4e86\u3002</p> <p>2008 \u5e74\uff0cPyPA \u53d1\u5e03 pip\uff0c\u66ff\u6362\u6389\u4e86 easy_install\uff0c\u968f\u540e\u5c06\u6253\u5305\u5de5\u5177\u7684\u884c\u4e3a\u6807\u51c6\u5316\u4e3a PEP 438\u3002</p> <p>\u5728 2012 \u5e74\u65f6\uff0c\u968f\u7740 PEP 427 \u7684\u901a\u8fc7\uff0c\u4e00\u79cd\u65b0\u7684\u6253\u5305\u683c\u5f0f\uff0c\u5373 Wheel \u683c\u5f0f\u53d6\u4ee3\u4e86 egg \u683c\u5f0f\uff0c\u6210\u4e3a\u6784\u5efa\u548c\u6253\u5305\uff08\u4e8c\u8fdb\u5236\uff09Python \u5e93\u7684\u6807\u51c6\u683c\u5f0f\u3002</p> <p>\u5c3d\u7ba1\u5728\u300azen of Python\u300b\u4e2d\u5199\u9053\uff0c\"\u6c38\u8fdc\u90fd\u5e94\u8be5\u53ea\u6709\u4e00\u79cd\u663e\u800c\u6613\u89c1\u7684\u89e3\u51b3\u4e4b\u9053\"\uff0c\u4f46\u662f\uff0c\u7406\u60f3\u7167\u8fdb\u73b0\u5b9e\u7684\u8fc7\u7a0b\u603b\u8981\u7ecf\u8fc7\u66f2\u6298\u7684\u6295\u5f71\u3002\u6211\u4eec\u4e00\u8def\u8bb2\u8ff0\u4e0b\u6765\uff0c\u8bfb\u8005\u5df2\u7ecf\u53d1\u73b0\uff0cPython \u5728\u865a\u62df\u73af\u5883\u3001\u4f9d\u8d56\u89e3\u6790\u548c\u6253\u5305\u6784\u5efa\u7b49\u9886\u57df\u90fd\u5148\u540e\u51fa\u73b0\u4e86\u597d\u591a\u4e2a\u65b9\u6848\u6765\u89e3\u51b3\u76f8\u4f3c\u7684\u95ee\u9898\uff0c\u51fa\u73b0\u4e86\u8ba9\u4eba\u83ab\u8877\u4e00\u662f\u7684\u201c\u767e\u82b1\u9f50\u653e\u201d\uff0c\u5982\u679c\u6ca1\u6709\u7ecf\u8fc7\u7cfb\u7edf\u7684\u68b3\u7406\uff0c\u5f88\u591a\u4eba\u4f1a\u96be\u514d\u611f\u5230\u56f0\u60d1\uff0c\u4e0d\u77e5\u9053\u54ea\u4e00\u4e2a\u65b9\u6848\u80fd\u591f\u901a\u5411\u672a\u6765\uff0c\u81ea\u5df1\u638c\u63e1\u7684\u6280\u672f\u4e0e\u8d44\u8baf\uff0c\u662f\u5426\u5df2\u7ecf\u88ab\u793e\u533a\u629b\u5f03\u3002\u597d\u5728 Python \u793e\u533a\u73b0\u5728\u5df2\u7ecf\u901a\u8fc7\u4e00\u7cfb\u5217\u7684 PEP \u56de\u7b54\u4e86\u6807\u51c6\u95ee\u9898\uff0c\u76f8\u5173\u7684\u5de5\u5177\u548c\u751f\u6001\u9010\u6e10\u5728\u9075\u5faa\u6807\u51c6\u7684\u57fa\u7840\u4e0a\u5efa\u7acb\u8d77\u6765\u4e86\uff0c\u4eca\u540e\u7684\u8fd9\u6837\u7684\u201c\u767e\u82b1\u9f50\u653e\u201d\uff0c\u53ef\u80fd\u4f1a\u5c11\u4e00\u4e9b\u3002\u662f\u5426\u9075\u5faa\u6700\u65b0\u7684 PEP\uff0c\u4e5f\u6b63\u662f ppw \u5de5\u5177\u548c\u672c\u4e66\u9009\u62e9\u67d0\u9879\u6280\u672f\u7684\u51c6\u5219\u3002</p> <p>\u5728<code>ppw</code>\u4e2d\uff0c\u6211\u4eec\u7684\u53d1\u5e03\u662f\u5728 Github Actions \u4e2d\u5b8c\u6210\u7684\u3002\u8fd9\u90e8\u5206\u6211\u4eec\u5df2\u7ecf\u5728 \u6301\u7eed\u96c6\u6210 \u90a3\u4e00\u7ae0\u8bb2\u8fc7\u4e86\u3002\u4e07\u4e00\u4f60\u5b58\u5728\u624b\u5de5\u53d1\u5e03\u7684\u9700\u6c42\uff0c\u90a3\u4e48\u8bf7\u56de\u987e \u57fa\u4e8e Poetry \u8fdb\u884c\u53d1\u884c\u5305\u7684\u6784\u5efa\u90a3\u4e00\u8282\u3002</p> <p>\u8fd9\u91cc\u7b80\u8981\u5730\u56de\u987e\u4e00\u4e0b\uff0c\u5728 Poetry \u51fa\u73b0\u4e4b\u524d\uff0c\u6211\u4eec\u662f\u5982\u4f55\u53d1\u5e03 Python \u5e93\u7684\uff0c\u4ee5\u9632\u8bfb\u8005\u5076\u5c14\u8fd8\u4f1a\u9047\u5230\u9700\u8981\u7ef4\u62a4\u8001\u65e7\u7684 Python \u9879\u76ee\u7684\u60c5\u51b5\u3002\u5728 Poetry \u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7 twine \u8fd9\u4e2a\u547d\u4ee4\u6765\u53d1\u5e03 Python \u5e93\u3002\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u901a\u8fc7 pip \u6765\u5b89\u88c5\uff1a</p> <pre><code>$ pip install twine\n</code></pre> <p>\u5c3d\u7ba1<code>ppw</code>\u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u522b\u7684\u6280\u672f\u6765\u53d1\u5e03 Python \u5e93\uff0c\u4f46\u8fd9\u4e2a\u547d\u4ee4\u4e5f\u4fdd\u7559\u4e86\u4e0b\u6765\u3002\u7528\u5728<code>poetry build</code>\u4e4b\u540e\uff0c\u68c0\u67e5\u6784\u5efa\u7269\u662f\u5426\u5408\u4e4e PyPI \u7684\u89c4\u5b9a\uff0c\u4ee5\u63d0\u524d\u9884\u9632\u53d1\u5e03\u5931\u8d25\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#1","title":"1. \u6253\u5305\u548c\u5206\u53d1\u6d41\u7a0b","text":"<p>\u6253\u5305\u548c\u53d1\u5e03\u662f\u4e00\u4e2a\u4ece\u5f00\u53d1\u8005\u7684\u6e90\u4ee3\u7801\u8d77\uff0c\u5230\u7528\u6237\u53ef\u4ee5\u5b89\u88c5\u5e76\u4f7f\u7528\u7684 Python \u5e93\u7684\u8fc7\u7a0b\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u7ecf\u5386\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4\uff1a 1. \u51c6\u5907\u4e00\u4efd\u5305\u542b\u5c06\u8981\u6253\u5305\u7684\u5e93\u7684\u6e90\u4ee3\u7801\uff0c\u901a\u5e38\u662f\u4ece\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u68c0\u51fa\u3002</p> <ol> <li> <p>\u51c6\u5907\u4e00\u4e2a\u63cf\u8ff0\u5305\u7684\u5143\u6570\u636e\uff08\u540d\u79f0\u3001\u7248\u672c\u7b49\uff09\u4ee5\u53ca\u5982\u4f55\u521b\u5efa\u6784\u5efa\u5de5\u4ef6\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u5e93\uff0c\u8fd9\u5c06\u662f\u4e00\u4e2a pyproject.toml \u6587\u4ef6\uff0c\u5728\u6e90\u4ee3\u7801\u6811\u4e2d\u624b\u52a8\u7ef4\u62a4\u3002</p> </li> <li> <p>\u5b8c\u6210\u6784\u5efa\uff1b\u751f\u6210\u7ed3\u679c\u7684\u6587\u4ef6\u683c\u5f0f\u662f\"sdist\"\u548c\uff08\u6216\uff09\"wheel\"\u3002\u8fd9\u4e9b\u662f\u7531\u6784\u5efa\u5de5\u5177\u4f7f\u7528\u4e0a\u4e00\u6b65\u4e2d\u7684\u914d\u7f6e\u6587\u4ef6\u521b\u5efa\u7684\u3002</p> </li> <li> <p>\u5c06\u6784\u5efa\u7684\u7ed3\u679c\u4e0a\u4f20\u5230\u5305\u5206\u53d1\u670d\u52a1\uff08\u901a\u5e38\u662f PyPI\uff09\u3002</p> </li> </ol> <p>\u6b64\u65f6\uff0c\u60a8\u5f00\u53d1\u7684 Python \u5e93\u5c31\u51fa\u73b0\u5728\u4e86\u5206\u53d1\u670d\u52a1\u5668\u4e0a\u3002\u8981\u4f7f\u7528\u8fd9\u4e2a\u5e93\uff0c\u6700\u7ec8\u7528\u6237\u5fc5\u987b\u4e0b\u8f7d\u548c\u5b89\u88c5\u5b83\u3002\u901a\u5e38\u6211\u4eec\u4f7f\u7528 pip \u6765\u5b8c\u6210\u8fd9\u4e2a\u8fc7\u7a0b\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#11-sdist-wheel","title":"1.1. \u6253\u5305\u683c\u5f0f\uff1asdist \u548c wheel","text":"<p>Sdist \u548c wheel \u662f\u4e24\u79cd\u4e0d\u540c\u7684\u6253\u5305\u683c\u5f0f\uff0c\u867d\u7136\u672c\u8d28\u4e0a\uff0c\u5b83\u4eec\u90fd\u662f zip \u683c\u5f0f\uff0c\u4f46\u4e24\u8005\u5728\u6253\u5305\u5185\u5bb9\u4e0a\u6709\u6240\u4e0d\u540c\uff0c\u7279\u522b\u662f\u5f53 Python \u9879\u76ee\u4e2d\u5305\u542b\u9700\u8981\u7f16\u8bd1\u7684 c \u4ee3\u7801\u65f6\uff0c\u8fd9\u79cd\u533a\u522b\u5c31\u66f4\u660e\u663e\u3002</p> <p>Sdist \u683c\u5f0f\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u901a\u8fc7\u63a8\u8fdf\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u6784\u5efa\uff0c\u4f7f\u5f97\u60a8\u7684 Python \u5e93\u6709\u53ef\u80fd\u5b89\u88c5\u5230\u66f4\u591a\u5e73\u53f0\u4e0a\u53bb\u3002\u6bd4\u5982\uff0c\u5982\u679c\u60a8\u7684 Python \u5e93\u4e2d\u4f7f\u7528\u4e86 Cython \u548c c \u4ee3\u7801\u6765\u8fdb\u884c\u6027\u80fd\u4f18\u5316\uff0c\u8fd9\u90e8\u5206\u4ee3\u7801\u662f\u4e0d\u5177\u5907 Python \u90a3\u6837\u7684\u8de8\u5e73\u53f0\u80fd\u529b\u7684\u3002\u6362\u8a00\u4e4b\uff0c\u6211\u4eec\u5fc5\u987b\u4e3a\u6bcf\u4e00\u4e2a\u5e73\u53f0\u5355\u72ec\u6784\u5efa\u539f\u751f\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u4e00\u822c\u6211\u4eec\u4f1a\u4e3a\u51e0\u4e2a\u4e3b\u8981\u7684\u5e73\u53f0\u9884\u6784\u5efa\u4e00\u4e9b\u539f\u751f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u800c\u80fd\u4e00\u4e9b\u7279\u6b8a\u5e73\u53f0\uff08\u6bd4\u5982 Raspberry Pi, Alpine\uff09\u8fd0\u884c\u4e0a\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5f80\u5f80\u5c31\u5fc5\u987b\u63a8\u8fdf\u5230\u5b89\u88c5\u65f6\uff0c\u5728\u672c\u673a\u8fdb\u884c\u7f16\u8bd1\u6784\u5efa\u3002\u6b64\u5916\uff0c\u5ef6\u8fdf\u6784\u5efa\u4e5f\u5141\u8bb8\u5728\u6784\u5efa\u65f6\uff0c\u8fdb\u884c\u4e00\u4e9b\u7f16\u8bd1\u4f18\u5316\uff0c\u4ee5\u6700\u6709\u6548\u5730\u5229\u7528\u5e73\u53f0\u7684\u6027\u80fd\uff0c\u8fd9\u4e5f\u662f\u9884\u6784\u5efa\u65b9\u6cd5\u6240\u505a\u4e0d\u5230\u7684\u3002\u6b64\u5916\uff0c\u6211\u4eec\u5e38\u5e38\u8fd8\u4f1a\u628a\u5355\u5143\u6d4b\u8bd5\u3001\u793a\u4f8b\u90fd\u6253\u5305\u5728 Sdist \u683c\u5f0f\u4e2d\u3002</p> <p>\u4e0e sdist \u4e0d\u540c\uff0cwheel \u4e2d\u53ea\u5305\u542b\u5df2\u7ecf\u7f16\u8bd1\u597d\uff0c\u53ef\u4ee5\u7acb\u5373\u5b89\u88c5\u7684\u6587\u4ef6\u3002\u5982\u679c\u9879\u76ee\u4e2d\u5305\u542b c \u6269\u5c55\uff0c\u8fd9\u4e9b\u6269\u5c55\u5c06\u5728\u6253\u5305\u65f6\u88ab\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u518d\u5c06\u5176\u7ed3\u679c\u5305\u542b\u5728 wheel \u4e2d\u3002Pip \u5728\u5b89\u88c5 wheel \u65f6\uff0c\u53ea\u662f\u7b80\u5355\u7684\u6587\u4ef6\u62f7\u8d1d\u3002\u56e0\u6b64\uff0cwheel \u683c\u5f0f\u7684\u5305\u5728\u5b89\u88c5\u65f6\u4f1a\u66f4\u5feb\u4e00\u4e9b\u3002</p> <p>\u4e0e sdist \u4e0d\u540c\uff0cwheel \u4e2d\u53ea\u5305\u542b\u5df2\u7ecf\u7f16\u8bd1\u597d\uff0c\u53ef\u4ee5\u7acb\u5373\u5b89\u88c5\u7684\u6587\u4ef6\u3002\u5982\u679c\u9879\u76ee\u4e2d\u5305\u542b c \u6269\u5c55\uff0c\u8fd9\u4e9b\u6269\u5c55\u5c06\u88ab\u4e8b\u5148\u7f16\u8bd1\u540e\uff0c\u518d\u5c06\u5176\u7ed3\u679c\u5305\u542b\u5728 wheel \u4e2d\u3002Pip \u5728\u5b89\u88c5 wheel \u65f6\uff0c\u53ea\u662f\u7b80\u5355\u7684\u6587\u4ef6\u62f7\u8d1d\u3002\u56e0\u6b64\uff0cwheel \u683c\u5f0f\u7684\u5305\u5728\u5b89\u88c5\u65f6\u4f1a\u66f4\u5feb\u4e00\u4e9b\u3002</p> <p>\u5728 Poetry \u6784\u5efa\u7684\u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u4f1a\u540c\u65f6\u751f\u6210 sdist \u548c wheel \u683c\u5f0f\u7684\u5b89\u88c5\u5305\uff0c\u5982\u679c\u662f sdist \u683c\u5f0f\uff0cpoetry \u4f1a\u751f\u6210\u4e00\u4e2a\u7b80\u5355\u7684 setup.py \u6587\u4ef6\u3002\u5728\u5b89\u88c5\u4e0a\uff0c\u5982\u679c\u6ca1\u6709\u7279\u522b\u6307\u5b9a\uff0cpip \u603b\u662f\u4f18\u5148\u9009\u62e9 wheel \u683c\u5f0f\u3002</p> <p>Attention</p> <p>\u65e0\u8bba\u662f sdist \u8fd8\u662f wheel\uff0c\u5b83\u4eec\u7684\u5b89\u88c5\u90fd\u4e0d\u662f\u4f20\u7edf\u610f\u4e49\u4e0a\u7684\u5e94\u7528\u7a0b\u5e8f\u5b89\u88c5\uff1a\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u90fd\u4e0d\u80fd\u63a5\u53d7\u7528\u6237\u8f93\u5165\uff0c\u5b9e\u73b0\u5b9a\u5236\u3002\u5c3d\u7ba1 sdist \u5f53\u4e2d\u5b58\u5728 setup.py \u8fd9\u4e2a\u811a\u672c\u53ef\u4ee5\u6267\u884c\u4efb\u610f\u4ee3\u7801\uff0c\u4f46\u8be5\u811a\u672c\u4ecd\u7136\u65e0\u6cd5\u63a5\u53d7\u7528\u6237\u901a\u8fc7\u63a7\u5236\u53f0\u7684\u8f93\u5165\u3002\u8fd9\u53ef\u80fd\u662f\u4e0d\u592a\u4e3a\u4eba\u6240\u77e5\u7684\u4e00\u4e2a\u51b7\u77e5\u8bc6\u3002\u603b\u4e4b\uff0csdist \u548c wheel \u662f\u7528\u6765\u6253\u5305\u7a0b\u5e8f\u5e93 (package) \u7684\uff0c\u5b83\u4eec\u4e0d\u80fd\u7528\u6765\u5236\u4f5c\u5e94\u7528\u5b89\u88c5\u7a0b\u5e8f\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#12","title":"1.2. \u5206\u53d1\u5305\u7684\u5143\u6570\u636e","text":"<p>\u5728\u521b\u5efa\u7684\u5206\u53d1\u5305\u4e2d\uff0c\u5305\u542b\u4e86\u4e00\u4e2a\u540d\u4e3a METADATA \u7684\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a <pre><code>Metadata-Version: 2.1\nName: sample\nVersion: 0.1.0\nSummary: Skeleton project created by Python Project Wizard (ppw).\nLicense: MIT\nRequires-Python: &gt;=3.8,&lt;3.9\nClassifier: Development Status :: 2 - Pre-Alpha\n...\nClassifier: Programming Language :: Python :: 3.9\nProvides-Extra: dev\n...\nRequires-Dist: black (&gt;=22.3.0,&lt;23.0.0) ; extra == \"test\"\n...\nRequires-Dist: virtualenv (&gt;=20.13.1,&lt;21.0.0) ; extra == \"dev\"\nDescription-Content-Type: text/markdown\n\n# SAMPLE\n\nthis is hotfix 533\n...\n\n* TODO\n\n## Credits\n\nThis package was created with the [ppw](https://zillionare.github.io/python-project-wizard) tool...\n</code></pre> \u6587\u4ef6\u5185\u5bb9\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u5220\u8282\u3002</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u6709\u4e00\u4e9b\u5b57\u6bb5\u6211\u4eec\u9700\u8981\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b</p> <p>Name\uff0cAuthor\uff0cAuthor-email\uff0cLicense\uff0c Homepage, Keywords, Download-URL \u7b49\u5b57\u6bb5\u7684\u542b\u4e49\u4e0d\u8a00\u81ea\u660e\uff0c\u65e0\u987b\u89e3\u91ca\u3002\u5728\u65e7\u5f0f\u7684\u9879\u76ee\uff08\u5373\u901a\u8fc7 setuptools \u6765\u6253\u5305\u7684\u9879\u76ee\uff09\u4e2d\uff0c\u8fd9\u4e9b\u5b57\u6bb5\u90fd\u8981\u6307\u5b9a\u5728 setup.py \u6587\u4ef6\u4e2d\uff0c\u5e76\u4f20\u9012\u7ed9\u4e00\u4e2a\u540d\u4e3a<code>setup</code>\u7684\u53ef\u4ee5\u63a5\u53d7\u975e\u5e38\u591a\u53c2\u6570\u7684\u51fd\u6570\u3002\u5728\u4f7f\u7528\u4e86 Poetry \u7684\u9879\u76ee\u4e2d\uff0cPoetry \u4f1a\u4ece pyproject.toml \u6587\u4ef6\u4e2d\u63d0\u53d6\u8fd9\u4e9b\u4fe1\u606f\u3002</p> <p>Platform \u5b57\u6bb5\u7528\u6765\u6307\u5b9a\u7279\u6b8a\u7684\u64cd\u4f5c\u7cfb\u7edf\u8981\u6c42\u3002 Supported-Platform \u5b57\u6bb5\uff0c\u7528\u6765\u6307\u5b9a\u66f4\u8be6\u7ec6\u7684\u64cd\u4f5c\u7cfb\u7edf\u548c CPU \u67b6\u6784\u652f\u6301\uff0c\u6bd4\u5982\u6307\u5b9a Linux \u4e3a RedHat\uff0c\u6216\u8005 cpu \u67b6\u6784\u4e3a arm \u7b49\u3002 Summary \u5b57\u6bb5\u6765\u7528\u7b80\u8981\u5730\u63cf\u8ff0\u5305\u7684\u529f\u80fd\u3002\u5728\u4f7f\u7528\u4e86 Poetry \u7684\u9879\u76ee\u4e2d\uff0c\u5b83\u63d0\u53d6\u81ea description \u5b57\u6bb5\u3002\u5728 PyPI \u4e0a\uff0c\u5b83\u5c06\u663e\u793a\u5728\u8fd9\u91cc\uff1a</p> <p></p> <p>Description \u548c Description-Content-Type \u5b57\u6bb5\uff1aDescription \u5b57\u6bb5\u7528\u6765\u8be6\u7ec6\u63cf\u8ff0\u5305\u7684\u4e00\u4e9b\u4fe1\u606f\uff0cDescription-Content-Type \u5b57\u6bb5\u7528\u6765\u6307\u5b9a Description \u5b57\u6bb5\u7684\u5185\u5bb9\u7c7b\u578b\uff0c\u652f\u6301\u7684\u7c7b\u578b\u6709 Markdown \u548c reStructuredText \u4e24\u79cd\u3002\u5728\u4f7f\u7528\u4e86 Poetry \u7684\u9879\u76ee\u4e2d\uff0cPoetry \u5c06\u81ea\u52a8\u628a README \u7684\u5185\u5bb9\u590d\u5236\u8fdb\u6765\u3002\u5728 PyPI \u4e0a\uff0c\u5b83\u5c06\u663e\u793a\u5728\u4e0b\u56fe\u4e2d\u7684\u53f3\u4e0b\u4fa7\uff08\u65b9\u6846\u4e2d\uff09\uff1a</p> <p></p> <p>Classifier \u5b57\u6bb5\uff1a\u5206\u7c7b\u7b26\u63cf\u8ff0\u4e86\u8fd9\u4e2a\u9879\u76ee\u7684\u4e00\u4e9b\u5206\u7c7b\u5c5e\u6027\u3002\u8fd9\u4e9b\u5c5e\u6027\u4f1a\u5728 PyPI \u4e0a\u663e\u793a\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f5c\u4e3a\u7b5b\u9009\u6761\u4ef6\u6765\u8fdb\u884c\u67e5\u627e\u548c\u8fc7\u6ee4\uff0c\u8bf7\u53c2\u89c1\u4e0b\u56fe\uff1a</p> <p></p> <p>PyPI \u7684\u5206\u7c7b\u7cfb\u7edf\u662f\u4e00\u4e2a\u6811\u5f62\u7ed3\u6784\u3002\u6700\u9876\u5c42\u7684\u5206\u7c7b\u662f\u6846\u67b6\uff08Framework\uff09\uff0c\u4e3b\u9898\uff08Topic\uff09\uff0c\u5f00\u53d1\u72b6\u6001\uff08Development Status\uff09\uff0c\u64cd\u4f5c\u7cfb\u7edf\uff08Operating System\uff09\u7b49 10 \u4e2a\u5927\u7c7b\u522b\u3002\u5176\u5b9e\uff0cPyPi \u4e0a\u7684\u7b2c\u4e09\u65b9\u5e93\u53ef\u8c13\u6d69\u5982\u70df\u6d77\uff0c\u4eba\u5de5\u67e5\u8be2\u8fd9\u4e9b\u5206\u7c7b\u610f\u4e49\u5e76\u4e0d\u5927\u3002\u8fd9\u4e9b\u5206\u7c7b\u6709\u52a9\u4e8e PyPI \u7ec4\u7ec7\u548c\u7ba1\u7406\u6240\u6709\u7684\u5e93\uff0c\u4f46\u5e76\u4e0d\u662f\u5f3a\u5236\u7684\uff0c\u5bf9\u5305\u7684\u5b89\u88c5\u4e5f\u6ca1\u6709\u5e2e\u52a9\u3002\u4f46\u662f\uff0cPyPA \u4ecd\u7136\u63a8\u8350\u5728\u4efb\u4f55\u9879\u76ee\u4e2d\uff0c\u90fd\u81f3\u5c11\u58f0\u660e\u8be5\u5e93\u5de5\u4f5c\u7684 Python \u7248\u672c\u3001license, \u64cd\u4f5c\u7cfb\u7edf\u7b49\u5206\u7c7b\u3002</p> <p>\u6b64\u5916\uff0c\u65b0\u52a0\u5165\u7684 Typing \u5206\u7c7b\u7b26\u6bd4\u8f83\u6709\u610f\u601d\u3002\u5b83\u7684\u4f5c\u7528\u662f\u544a\u8bc9 PyPI \u8fd9\u4e2a\u9879\u76ee\u662f\u4e00\u4e2a\u7c7b\u578b\u6ce8\u89e3\u7684\u9879\u76ee\u3002\u5982\u679c\u6211\u4eec\u7684\u9879\u76ee\u662f\u4e00\u4e2a\u7c7b\u578b\u6ce8\u89e3\u5c31\u7eea\u7684\u9879\u76ee\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u5728\u9879\u76ee\u7684\u6e90\u4ee3\u7801\u76ee\u5f55\u4e0b\u52a0\u5165 py.typed \u6587\u4ef6\uff0c\u5e76\u5728 pyproject.toml \u4e2d\u52a0\u5165\u8fd9\u4e2a\u5206\u7c7b\u7b26\uff1a</p> <pre><code>classifiers=[\n    'Typing :: Typed',\n]\n</code></pre> <p>Requires-Dist \u5b57\u6bb5\uff1a\u8fd9\u4e2a\u5b57\u6bb5\u7528\u6765\u63cf\u8ff0\u9879\u76ee\u7684\u4f9d\u8d56\u5173\u7cfb\u3002<code>pip</code>\u5728\u5b89\u88c5\u65f6\uff0c\u9700\u8981\u8bfb\u53d6\u8fd9\u4e2a\u5b57\u6bb5\u4ee5\u53d1\u73b0\u54ea\u4e9b\u4f9d\u8d56\u9700\u8981\u5b89\u88c5\u3002 Requires-Python \u5b57\u6bb5\uff1a\u8868\u660e\u8fd9\u4e2a\u9879\u76ee\u9700\u8981\u7684 Python \u7248\u672c\u3002</p> <p>\u9057\u61be\u7684\u662f\uff0c\u5c3d\u7ba1\u6bcf\u4e00\u4e2a\u5305\u90fd\u5305\u542b\u4e86\u8fd9\u4e9b\u4fe1\u606f\uff0c\u4f46\u662f\u5bf9\u4e8e\u4e00\u4e9b\u91cd\u8981\u7684\u4fe1\u606f\uff0c\u7279\u522b\u662f\u8c61 requires-dist \u8fd9\u6837\u7684\u4fe1\u606f\uff0cPyPI \u5e76\u6ca1\u6709\u5c06\u5176\u63d0\u53d6\u51fa\u6765\u5355\u72ec\u7ba1\u7406\u3002\u5176\u5b83\u8bed\u8a00\u7684\u5e93\u7ba1\u7406\u5668\uff0c\u6bd4\u5982 maven\uff0c\u5728\u8fd9\u4e00\u70b9\u4e0a\u505a\u5f97\u66f4\u597d\u3002\u4e3a\u4ec0\u4e48\u8fd9\u662f\u4e00\u4e2a\u9057\u61be\uff0c\u6211\u4eec\u5c06\u5728\u5f88\u5feb\u8bb2\u5230\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#2-testpypi-pypi","title":"2. TestPyPI \u548c PyPI","text":"<p>\u5728 ppw \u751f\u6210\u7684\u9879\u76ee\u4e2d\uff0cdev \u5de5\u4f5c\u6d41\u4e2d\u7684 publish \u4efb\u52a1\u4f1a\u5c06\u6784\u5efa\u7269\u53d1\u5e03\u5230 TestPyPI\u3002\u8fd9\u662f\u4e00\u4e2a\u4f9b\u6d4b\u8bd5\u7528\u7684 PyPI\u3002\u8fd9\u4e48\u505a\u7684\u76ee\u7684\u6709\u4e24\u4e2a\uff0c\u4e00\u6765\u6211\u4eec\u5e0c\u671b CI \u603b\u662f\u8986\u76d6\u5230\u5f00\u53d1\u5168\u8fc7\u7a0b\uff0c\u56e0\u6b64\u6784\u5efa\u548c\u53d1\u5e03\u8fd9\u4e24\u6b65\u4e5f\u4e0d\u5e94\u8be5\u7f3a\u5931\u3002\u4e8c\u6765\uff0c\u5728\u4e00\u4e2a\u5927\u578b\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u540c\u65f6\u5f00\u53d1\u7740\u591a\u4e2a\u76f8\u4e92\u4f9d\u8d56\u7684\u9879\u76ee\uff0c\u6b64\u65f6\u6211\u4eec\u5c31\u9700\u8981\u501f\u52a9 testpypi\uff0c\u4f7f\u5f97\u5f53\u67d0\u4e2a\u9879\u76ee\u6709\u4e86\u66f4\u65b0\u7684\u7248\u672c\u3001\u4f46\u53c8\u4e0d\u5230\u6b63\u5f0f\u53d1\u5e03\u9636\u6bb5\u4e4b\u524d\uff0c\u5176\u4ed6\u4f9d\u8d56\u4e8e\u6b64\u7684\u9879\u76ee\u4e5f\u80fd\u591f\u4f7f\u7528\u5230\u8fd9\u4e2a\u9879\u76ee\u7684\u6700\u65b0\u7684\u7248\u672c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 pyproject \u4e2d\u6dfb\u52a0\u7b2c\u4e8c\u4e2a\u6e90\uff0c\u6307\u5411 testpypi\uff0c\u8fd9\u6837\u5f53\u6211\u4eec\u6307\u5b9a\u8be5\u9879\u76ee\u7684\u6700\u65b0\u5f00\u53d1\u7248\u672c\u65f6\uff0cpoetry \u5c31\u4f1a\u4ece\u67e5\u627e testpypi\u3002</p> <p>\u6211\u4eec\u6765\u4e3e\u4f8b\u8bf4\u660e\u5982\u4f55\u901a\u8fc7 testpypi \u5411\u9879\u76ee\u6dfb\u52a0\u4e00\u4e2a\u975e\u6b63\u5f0f\u53d1\u5e03\u7248\u672c\u3002</p> <p>\u6211\u4eec\u4ee5\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u4e3a\u4f8b\u3002\u8fd9\u662f\u4e00\u4e2a\u5305\u542b\u4e86\u591a\u4e2a\u6a21\u5757\u7684\u5927\u578b\u5e94\u7528\u3002\u5176\u4e2d\uff0czillionare-omicron \u662f\u6570\u636e\u8bfb\u5199\u7684 sdk\uff0c zillionare-omega \u662f\u884c\u60c5\u6570\u636e\u670d\u52a1\u5668\uff0c\u5b83\u4f9d\u8d56\u4e8e zillionare-omicron\uff0c\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u6a21\u5757\u3002\u4e0d\u8fc7\u8981\u7406\u89e3\u6211\u4eec\u8fd9\u91cc\u7684\u793a\u4f8b\uff0c\u53ea\u9700\u8981\u77e5\u9053\u8fd9\u4e24\u4e2a\u6a21\u5757\u5c31\u591f\u4e86\u3002\u5b9e\u9645\u4e0a\uff0c\u4f60\u53ef\u4ee5\u5b8c\u5168\u4e0d\u77e5\u9053\u4ec0\u4e48\u662f\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\uff0c\u53ea\u9700\u8981\u77e5\u9053\u51e0\u4e2a\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5047\u8bbe<code>zillionare-omicron</code>\u5f53\u524d\u6700\u65b0\u7684\u5f00\u53d1\u7248\u672c\u662f 1.2.3a1\u3002<code>zillionare-omicron</code>\u4f7f\u7528\u4e86\u57fa\u4e8e\u8bed\u4e49\u7684\u7248\u672c\u7ba1\u7406\u65b9\u6848\uff0c\u56e0\u6b64\u4ece\u7248\u672c\u53f7\u4e0a\u6211\u4eec\u5f97\u77e5\uff0c\u8fd9\u4e0d\u662f\u6b63\u5f0f\u7248\u672c\uff0c\u53ea\u4f1a\u53d1\u5e03\u5230 testpypi \u4e0a\u53bb\u3002\u5982\u679c\u8981\u5728\u9879\u76ee\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u7248\u672c\uff0c\u6211\u4eec\u9700\u8981\u5148\u5c06 testpypi \u6dfb\u52a0\u4e3a\u4e00\u4e2a\u6e90\uff0c\u7136\u540e\u5728<code>pyproject.toml</code>\u4e2d\u6307\u5b9a<code>zillionare-omicron</code>\u7684\u7248\u672c\u4e3a<code>1.2.3a1</code>\u3002\u8fd9\u6837\uff0c\u5f53\u6211\u4eec\u6267\u884c<code>poetry install</code>\u65f6\uff0cpoetry \u5c31\u4f1a\u4ece testpypi \u4e2d\u67e5\u627e<code>zillionare-omicron</code>\u7684 1.2.3a1 \u7248\u672c\uff0c\u7136\u540e\u5b89\u88c5\u5230\u672c\u5730\u3002</p> <p>\u6211\u4eec\u5728 \u7b2c 5 \u7ae0 poetry \u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406\u90a3\u4e00\u8282\u4ecb\u7ecd\u8fc7\u5982\u4f55\u589e\u52a0\u7b2c\u4e8c\u4e2a\u6e90\u3002\u6211\u4eec\u8fd9\u91cc\u7528\u540c\u6837\u7684\u65b9\u6cd5\u6765\u589e\u52a0 testpypi \u6e90\uff1a <pre><code>$ poetry source add -s testpypi https://test.pypi.org/simple\n</code></pre> \u7136\u540e\u6211\u4eec\u7684 pyproject.toml \u6587\u4ef6\u4e2d\u5c06\u4f1a\u591a\u8fd9\u6837\u4e00\u9879\uff1a <pre><code>[[tool.poetry.source]]\nname = \"testpypi\"\nurl = \"https://test.pypi.org/simple\"\ndefault = false\nsecondary = true\n</code></pre> \u73b0\u5728\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u5bf9 zillionare-omicron \u7684\u5f00\u53d1\u4e2d\u7248\u672c\u7684\u4f9d\u8d56\u52a0\u8fdb\u6765\uff1a <pre><code>$ poetry add -v zillionare-omicron^1.2.3a1\n</code></pre> \u547d\u4ee4\u5c06\u6210\u529f\u6267\u884c\uff0c\u4f60\u53ef\u4ee5\u4ece\u66f4\u65b0\u540e\u7684 pyproject.toml \u4e2d\u770b\u5230\u5bf9<code>zillionare-omicron</code>\u7684\u5f15\u7528\u3002\u5982\u679c\u6211\u4eec\u6ca1\u6709\u6dfb\u52a0\u8fd9\u4e2a\u6e90\uff0c\u5219\u4e0a\u8ff0\u547d\u4ee4\u5728\u6267\u884c\u65f6\u4f1a\u62a5\u51fa\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>Using virtualenv: /home/aaron/miniconda3/envs/sample\n\n  ValueError\n\n  Could not find a matching version of package zillionare-omicron\n\n  at ~/miniconda3/envs/sample/lib/python3.8/site-packages/poetry/console/commands/init.py:414 in _find_best_version_for_package\n      410\u2502         )\n      411\u2502 \n      412\u2502         if not package:\n      413\u2502             # TODO: find similar\n    \u2192 414\u2502             raise ValueError(f\"Could not find a matching version of package {name}\")\n      415\u2502 \n      416\u2502         return package.pretty_name, selector.find_recommended_require_version(package)\n      417\u2502 \n      418\u2502     def _parse_requirements(self, requirements: list[str]) -&gt; list[dict[str, Any]]:\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap11/#3-pip-python","title":"3. Pip: Python \u5305\u7ba1\u7406\u5de5\u5177","text":"<p>\u4f60\u53ef\u80fd\u611f\u5230\u597d\u5947\uff0c<code>pip</code>\u51e0\u4e4e\u662f\u6240\u6709\u5b66\u4e60 Python \u7684\u4eba\u6700\u65e9\u63a5\u89e6\u7684\u51e0\u4e2a\u547d\u4ee4\u4e4b\u4e00\uff0c\u4e5f\u662f\u672c\u4e66\u6700\u65e9\u4f7f\u7528\u7684\u90a3\u4e9b\u547d\u4ee4\u4e4b\u4e00\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u5374\u5b89\u6392\u5230\u4e86\u6700\u540e\u6765\u4ecb\u7ecd\uff1f\u539f\u56e0\u662f\uff0c\u56e0\u4e3a\u5927\u5bb6\u975e\u5e38\u719f\u6089<code>pip</code>\u4e86\uff0c\u6240\u4ee5\u5bf9<code>pip</code>\u7684\u4e00\u822c\u6027\u4ecb\u7ecd\u5df2\u7ecf\u4e0d\u592a\u6709\u5fc5\u8981\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c<code>pip</code>\u540c\u6837\u9762\u4e34\u7740\u4f9d\u8d56\u89e3\u6790\u7684\u95ee\u9898\uff0c\u6700\u9002\u5408\u8ba8\u8bba\u8fd9\u4e2a\u95ee\u9898\u7684\u5730\u65b9\uff0c\u5219\u662f\u5728\u4e86\u89e3\u4e86\u6784\u5efa\u548c\u5206\u53d1\u7cfb\u7edf\u7684\u5168\u8c8c\u4e4b\u540e\u3002</p> <p>\u4f9d\u8d56\u89e3\u6790\u3002\u8fd9\u662f\u6211\u4eec\u53c8\u4e00\u6b21\u63a5\u89e6\u5230\u8fd9\u4e2a\u8bcd\u3002\u4e0a\u4e00\u6b21\u8fd8\u662f\u5728\u8bb2 Poetry \u7684\u90a3\u4e00\u7ae0\u3002\u662f\u7684\uff0cPoetry \u53ea\u89e3\u51b3\u4e86\u5f00\u53d1\u9636\u6bb5\u7684\u4f9d\u8d56\u95ee\u9898\uff0c\u5e76\u4e3a\u5b89\u88c5\u9636\u6bb5\u7684\u4f9d\u8d56\u89e3\u6790\u6253\u4e0b\u4e86\u826f\u597d\u57fa\u7840\uff0c\u4f46\u662f\uff0c<code>pip</code>\u4ecd\u7136\u8981\u72ec\u81ea\u9762\u4e34\u4f9d\u8d56\u89e3\u6790\u95ee\u9898\u3002</p> <p>\u4e0b\u9762\u7684\u793a\u4f8b\u6765\u81ea\u4e8e<code>pip</code>\u7684\u6587\u6863\uff1a</p> <p><pre><code>$ pip install tea\nCollecting tea\n  Downloading tea-1.9.8-py2.py3-none-any.whl (346 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 346 kB 10.4 MB/s\nCollecting spoon==2.27.0\n  Downloading spoon-2.27.0-py2.py3-none-any.whl (312 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 312 kB 19.2 MB/s\nCollecting cup&gt;=1.6.0\n  Downloading cup-3.22.0-py2.py3-none-any.whl (397 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 397 kB 28.2 MB/s\nINFO: pip is looking at multiple versions of this package to determine\nwhich version is compatible with other requirements.\nThis could take a while.\n  Downloading cup-3.21.0-py2.py3-none-any.whl (395 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 395 kB 27.0 MB/s\n  Downloading cup-3.20.0-py2.py3-none-any.whl (394 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 394 kB 24.4 MB/s\n  Downloading cup-3.19.1-py2.py3-none-any.whl (394 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 394 kB 21.3 MB/s\n  Downloading cup-3.19.0-py2.py3-none-any.whl (394 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 394 kB 26.2 MB/s\n  Downloading cup-3.18.0-py2.py3-none-any.whl (393 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 393 kB 22.1 MB/s\n  Downloading cup-3.17.0-py2.py3-none-any.whl (382 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 382 kB 23.8 MB/s\n  Downloading cup-3.16.0-py2.py3-none-any.whl (376 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 376 kB 27.5 MB/s\n  Downloading cup-3.15.1-py2.py3-none-any.whl (385 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 385 kB 30.4 MB/s\nINFO: pip is looking at multiple versions of this package to determine\nwhich version is compatible with other requirements.\nThis could take a while.\n  Downloading cup-3.15.0-py2.py3-none-any.whl (378 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 378 kB 21.4 MB/s\n  Downloading cup-3.14.0-py2.py3-none-any.whl (372 kB)\n     |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 372 kB 21.1 MB/s\n</code></pre> \u8981\u54c1\u4e00\u53e3\u9999\u8317\uff0c\u9664\u4e86\u597d\u8336\uff0c\u4f60\u8fd8\u5f97\u6709\u70ed\u6c34\uff0c\u8336\u5319\u548c\u676f\u5b50\u3002\u5728\u8fd9\u91cc\uff0c<code>tea</code>\u4f9d\u8d56\u4e8e<code>hot-water</code>, <code>spoon</code>\u548c<code>cup</code>\u3002\u5f53\u5b89\u88c5<code>tea</code>\u65f6\uff0c<code>pip</code>\u4e0b\u8f7d\u4e86\u6700\u65b0\u7684<code>spoon</code>\u548c<code>cup</code>\uff0c\u53d1\u73b0\u4e24\u8005\u4e0d\u517c\u5bb9\uff0c\u4e8e\u662f\u5b83\u4e0d\u5f97\u4e0d\u5411\u524d\u641c\u7d22\u517c\u5bb9\u7684\u7248\u672c\uff0c\u8fd9\u4e2a\u529f\u80fd\u88ab\u79f0\u4e4b\u4e3a\u56de\u6eaf\uff0c\u662f\u4ece 20.3 \u8d77\u624d\u6709\u7684\u529f\u80fd\u3002\u7531\u4e8e\u4f9d\u8d56\u4fe1\u606f\u4e0d\u80fd\u901a\u8fc7\u67e5\u8be2 PyPI \u5f97\u5230\uff0c\u6240\u4ee5\u5b83\u4e0d\u5f97\u4e0d\u4e00\u6b21\u53c8\u4e00\u6b21\u7684\u4e0b\u8f7d\u65e9\u524d\u7248\u672c\u7684\u5305\uff0c\u4ece\u8fd9\u4e9b\u5305\u4e2d\u63d0\u53d6\u4f9d\u8d56\u4fe1\u606f\uff0c\u770b\u662f\u5426\u4e0e<code>spoon</code>\u517c\u5bb9\uff0c\u4e0d\u65ad\u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u517c\u5bb9\u7684\u7248\u672c\u3002</p> <p>\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u5728 Poetry \u8fdb\u884c\u4f9d\u8d56\u89e3\u6790\u65f6\u4e5f\u770b\u5230\u8fc7\u3002\u6211\u4eec\u5728 [\u7b2c 5 \u7ae0 poetry \u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406](chap05.md#poetry \u4f9d\u8d56\u89e3\u6790\u7684\u5de5\u4f5c\u539f\u7406\uff09\u4e2d\u89e3\u91ca\u8fc7\uff0cPyPI \u4e0a\u5e76\u6ca1\u6709\u67d0\u4e2a\u5e93\u7684\u4f9d\u8d56\u6811\uff0c\u6240\u4ee5\uff0cPoetry \u8981\u77e5\u9053\u67d0\u4e2a\u5e93\u7684\u4f9d\u8d56\u9879\uff0c\u5c31\u5fc5\u987b\u5148\u628a\u5b83\u4e0b\u8f7d\u4e0b\u6765\u3002\u8fd9\u4e2a\u8bf4\u6cd5\u5176\u5b9e\u53ea\u662f\u90e8\u5206\u6b63\u786e\u3002\u5728\u8bfb\u8fc7 \u5206\u53d1\u5305\u7684\u5143\u6570\u636e\u90a3\u4e00\u8282\u4e4b\u540e\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\uff0c\u8fd9\u4e9b\u4fe1\u606f\u5df2\u7ecf\u4e0a\u4f20\u5230\u4e86 PyPI\uff0c\u53ea\u662f\u7531\u4e8e\u67d0\u4e9b\u5386\u53f2\u539f\u56e0\uff0cPyPI \u5e76\u6ca1\u6709\u628a\u5b83\u4eec\u5355\u72ec\u63d0\u53d6\u51fa\u6765\u4ee5\u4f9b\u4f7f\u7528\u800c\u5df2\u3002</p> <p>\u4eba\u4eec\u82b1\u4e86\u8fd9\u4e48\u591a\u529f\u592b\u6765\u89e3\u51b3\u4f9d\u8d56\u95ee\u9898\uff0c\u770b\u6765\u201c\u4f9d\u8d56\u5730\u72f1\u201d\u4e00\u8bf4\uff0c\u5e76\u975e\u865a\u5984\u3002</p> <p>\u95ee\u9898\u662f\uff0c\u65e2\u7136 Poetry \u5728\u6dfb\u52a0\u4f9d\u8d56\u65f6\uff0c\u5df2\u7ecf\u8fdb\u884c\u8fc7\u4e86\u4f9d\u8d56\u89e3\u6790\uff0c\u53c8\u751f\u6210\u4e86 lock \u6587\u4ef6\uff0c\u4e3a\u4f55<code>pip</code>\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u4e9b\u4fe1\u606f\uff0c\u8fd8\u8981\u91cd\u65b0\u8fdb\u884c\u4e00\u6b21\u4f9d\u8d56\u89e3\u6790\u5462\uff1f\u73b0\u5728\u8bf7\u4f60\u6253\u5f00<code>sample</code>\u5de5\u7a0b\u6784\u5efa\u51fa\u6765\u7684 wheel \u6587\u4ef6\u3002\u6211\u4eec\u8bf4\u8fc7\uff0c\u5b83\u662f<code>zip</code>\u683c\u5f0f\u7684\u538b\u7f29\u6587\u4ef6\u3002\u6253\u5f00\u540e\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\uff1a <pre><code>.\n\u251c\u2500\u2500 sample\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cli.py\n\u2514\u2500\u2500 sample-0.1.0.dist-info\n    \u251c\u2500\u2500 LICENSE\n    \u251c\u2500\u2500 METADATA\n    \u251c\u2500\u2500 RECORD\n    \u251c\u2500\u2500 WHEEL\n    \u2514\u2500\u2500 entry_points.txt\n</code></pre></p> <p>\u6211\u4eec\u5728\u8fd9\u91cc\u627e\u4e0d\u5230\u4efb\u4f55\u8ddf poetry \u6709\u5173\u7684\u4e1c\u897f\u3002\u8fd9\u5e76\u4e0d\u5947\u602a\uff0c\u6bd5\u7adf\uff0cpoetry \u4e0e pip \u4e0d\u5c5e\u4e8e\u540c\u4e00\u4e2a\u5f00\u53d1\u8005\uff0c\u800c poetry \u8fd8\u4e0d\u662f\u6807\u51c6\u5e93\u7684\u4e00\u90e8\u5206\uff0c\u6240\u4ee5 pip \u6ca1\u6709\u7406\u7531\u53bb\u89e3\u6790\u4efb\u4f55 poetry \u76f4\u63a5\u76f8\u5173\u7684\u4e1c\u897f\u3002\u6240\u6709\u7684\u4f9d\u8d56\u4fe1\u606f\u90fd\u5728 METADATA \u8fd9\u4e2a\u6587\u4ef6\u91cc\uff0c\u7279\u522b\u662f Requires-Dist:</p> <p><pre><code>Requires-Dist: black (&gt;=22.3.0,&lt;23.0.0) ; extra == \"test\"\nRequires-Dist: fire (==0.4.0)\nRequires-Dist: flake8 (==4.0.1) ; extra == \"test\"\nRequires-Dist: flake8-docstrings (&gt;=1.6.0,&lt;2.0.0) ; extra == \"test\"\nRequires-Dist: isort (==5.10.1) ; extra == \"test\"\n</code></pre> \u6211\u4eec\u770b\u5230\uff0c\u6709\u4e00\u4e9b\u4f9d\u8d56\u6307\u5b9a\u4e86\u7cbe\u786e\u7684\u7248\u672c\uff0c\u6709\u7684\u5219\u53ea\u6307\u5b9a\u4e86\u7248\u672c\u8303\u56f4\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u4e0d\u7b49\u5f0f\u8bed\u6cd5\uff08\u8bf7\u89c1 Poetry \u8fdb\u884c\u4f9d\u8d56\u7ba1\u7406\u7684\u76f8\u5173\u547d\u4ee4\u3002\u6240\u4ee5\uff0c\u5c3d\u7ba1 Poetry \u901a\u8fc7 lock \u6587\u4ef6\u9501\u5b9a\u4e86\u7cbe\u786e\u7684\u7248\u672c\uff0c\u4f46 lock \u6587\u4ef6\u53ea\u4f1a\u5728\u5f00\u53d1\u8005\u4e4b\u95f4\u5171\u4eab\uff0c\u4ee5\u52a0\u5feb\u4ed6\u4eec\u7684\u5f00\u53d1\u73af\u5883\u6784\u5efa\u901f\u5ea6\uff0c\u800c\u4e0d\u4f1a\u53d1\u5e03\u7ed9\u7ec8\u7aef\u7528\u6237\u3002\u53d1\u5e03\u7ed9\u7ec8\u7aef\u7528\u6237\u7684\u4f9d\u8d56\u4fe1\u606f\uff0c\u662f Poetry \u6309\u7167 pyproject.toml \u6587\u4ef6\u7684\u5185\u5bb9\u751f\u6210\u7684\uff0c\u4e24\u8005\u8bed\u4e49\u5b8c\u5168\u4e00\u81f4\uff0c\u53ea\u4e0d\u8fc7 Poetry \u5141\u8bb8\u5f00\u53d1\u8005\u4f7f\u7528\u5305\u62ec\u901a\u914d\u7b26\u3001\u63d2\u5b57\u7b26\u3001\u6ce2\u6d6a\u7b26\u3001\u4e0d\u7b49\u5f0f\u7b49\u591a\u79cd\u8bed\u6cd5\u6765\u6307\u5b9a\u7248\u672c\u53f7\uff0c\u800c\u5728\u751f\u6210 METADATA \u65f6\uff0c\u90fd\u88ab\u8f6c\u6362\u6210\u4e0d\u7b49\u5f0f\u8bed\u6cd5\u800c\u5df2\u3002\u6211\u4eec\u518d\u6765\u56de\u5fc6\u4e00\u4e0b sample \u9879\u76ee\u4e2d\u7684 pyproject.toml \u6587\u4ef6\u7684\u76f8\u5173\u90e8\u5206\uff1a <pre><code>fire = \"0.4.0\"\n\nblack  = { version = \"^22.3.0\", optional = true}\nisort  = { version = \"5.10.1\", optional = true}\nflake8  = { version = \"4.0.1\", optional = true}\nflake8-docstrings = { version = \"^1.6.0\", optional = true }\n</code></pre></p> <p>Poetry \u4e3a\u4f55\u4e0d\u5c06<code>lock</code>\u6587\u4ef6\u4e2d\u9501\u5b9a\u7684\u7248\u672c\u53f7\u5199\u5165\u5230 METADATA \u6587\u4ef6\u4e2d\u5462\uff1f\u8fd9\u662f\u56e0\u4e3a\uff0clock \u6587\u4ef6\u5b8c\u5168\u9501\u6b7b\u4e86\u4f9d\u8d56\u7684\u7248\u672c\u53f7\uff0c\u8fd9\u6837\u867d\u7136\u5b89\u88c5\u901f\u5ea6\u53d8\u5feb\uff0c\u4f46\u4e5f\u4f1a\u5bfc\u81f4\u4efb\u4f55\u66f4\u65b0\uff0c\u5c31\u8fde\u5b89\u5168\u66f4\u65b0\u4e5f\u4e0d\u53ef\u7528\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u660e\u767d\u4e86\uff0c\u5728 Poetry \u5411\u9879\u76ee\u4e2d\u589e\u52a0\u4e00\u4e2a\u4f9d\u8d56\u65f6\uff0c\u5982\u679c\u53d1\u751f\u4e86\u56de\u6eaf\uff0c\u90a3\u4e48\u6781\u6709\u53ef\u80fd\u5728<code>pip</code>\u5b89\u88c5\u65f6\u4e5f\u53d1\u751f\u540c\u6837\u7684\u56de\u6eaf\u3002\u8981\u52a0\u5feb<code>pip</code>\u5b89\u88c5\u7684\u901f\u5ea6\uff0c\u6211\u4eec\u5e94\u8be5\u67e5\u770b<code>poetry.lock</code>\u6587\u4ef6\uff0c\u627e\u51fa\u5176\u9501\u5b9a\u7684\u7248\u672c\uff0c\u4ee5\u5b83\u4e3a\u57fa\u70b9\uff0c\u91cd\u65b0\u6307\u5b9a\u4e00\u4e2a\u6070\u5f53\u7684\u7248\u672c\u8303\u56f4\uff0c\u8fd9\u6837\u53ef\u4ee5\u6781\u5927\u7a0b\u5ea6\u4e0a\u907f\u514d\u5728<code>pip</code>\u5b89\u88c5\u65f6\u53d1\u751f\u56de\u6eaf\u3002</p> <p>\u4e00\u4e2a\u597d\u6d88\u606f\u662f\uff0c\u6839\u636e<code>pip</code>\u7684\u6587\u6863\uff0c\u81f4\u529b\u4e8e\u4e0d\u4e0b\u8f7d Python package \u5c31\u80fd\u5f97\u5230\u5176\u4f9d\u8d56\u4fe1\u606f\u7684\u65b9\u6848\u6b63\u5728\u5de5\u4f5c\u5f53\u4e2d\u3002\u8ba9\u6211\u4eec\u671f\u5f85\u5b83\u7684\u5230\u6765\u5427\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#2","title":"2. \u5e94\u7528\u7a0b\u5e8f\u5206\u53d1","text":"<p>\u5e94\u7528\u7a0b\u5e8f\u7684\u6253\u5305\u5206\u53d1\uff0c\u6309\u5b83\u6700\u7ec8\u5206\u53d1\u7684\u76ee\u6807\uff0c\u53c8\u53ef\u5927\u81f4\u5206\u4e3a\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u548c\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f <sup>1</sup>\u3002\u524d\u8005\u4e00\u822c\u53ea\u9700\u8981\u501f\u52a9\u4e00\u4e9b\u6253\u5305\u5de5\u5177\uff1b\u540e\u8005\u5f80\u5f80\u8981\u5728\u4e00\u5f00\u59cb\uff0c\u5c31\u8981\u4ece\u6846\u67b6\u5165\u624b\u8fdb\u884c\u652f\u6301\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#4","title":"4. \u684c\u9762\u5e94\u7528\u7a0b\u5e8f","text":"<p>Python \u6253\u5305\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u7684\u9009\u9879\u975e\u5e38\u4e4b\u591a\uff0c\u5305\u62ec\u8de8\u5e73\u53f0\u7684\u5982 pyInstaller<sup>3</sup>, Nuitka<sup>8</sup>\uff0cbriefcase<sup>5</sup>\uff0c\u4e13\u7528\u4e8e Windows \u7684 py2exe<sup>6</sup> \u548c\u4e13\u7528\u4e8e Mac \u7684 py2app<sup>7</sup> \u7b49\u3002\u6b64\u5916\uff0c\u8fd8\u6709 cx_Freeze<sup>4</sup>\uff0cmakeself<sup>2</sup> \u7b49\u3002\u8fd9\u91cc\u6211\u4eec\u5c06\u4ecb\u7ecd makeself, PyInstaller\uff0cNuikta\u3002</p> <p>\u5728\u4ecb\u7ecd\u8fd9\u4e9b\u5de5\u5177\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u8ba8\u8bba\u4e0b\uff0c\u6253\u5305\u5206\u53d1\u4e00\u4e2a\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u610f\u5473\u7740\u4ec0\u4e48\uff1f\u5f53\u6211\u4eec\u5206\u53d1\u4e00\u4e2a Python \u5e93\u65f6\uff0c\u6211\u4eec\u7684\u7528\u6237\u662f\u7a0b\u5e8f\u5458\uff0c\u4ed6\u4eec\u5e94\u8be5\u638c\u63e1\u8bf8\u5982\u521b\u5efa\u865a\u62df\u73af\u5883\u3001\u5b89\u88c5\u4f9d\u8d56\u7b49\u57fa\u672c\u7684 Python \u77e5\u8bc6\u3002\u800c\u5f53\u6211\u4eec\u5206\u53d1\u4e00\u4e2a\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u65f6\uff0c\u6211\u4eec\u7684\u7528\u6237\u5e38\u5e38\u662f\u666e\u901a\u7528\u6237\uff0c\u4ed6\u4eec\u5f88\u53ef\u80fd\u4e0d\u5177\u5907\u8fd9\u4e9b\u77e5\u8bc6\uff0c\u751a\u81f3\u53ef\u80fd\u90fd\u4e0d\u77e5\u9053\u5982\u4f55\u8fd0\u884c\u4e00\u4e2a Python \u7a0b\u5e8f\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u5e2e\u4ed6\u4eec\u521b\u5efa\u7a0b\u5e8f\u8fd0\u884c\u7684\u5165\u53e3\uff08\u6bd4\u5982\uff0c\u5c06\u7a0b\u5e8f\u5165\u53e3\u653e\u5230\u542f\u52a8\u83dc\u5355\u3001\u684c\u9762\u5feb\u6377\u65b9\u5f0f\u7b49\uff09\u3002\u6b64\u5916\uff0c\u5728\u5b89\u88c5\u65f6\uff0c\u53ef\u80fd\u8fd8\u9700\u8981\u8be2\u95ee\u7528\u6237\u5b89\u88c5\u76ee\u5f55\u3001\u663e\u793a\u5e76\u63a5\u53d7\u8bb8\u53ef\u534f\u8bae\u7b49\u3002\u8fd9\u4e9b\u90fd\u662f\u6253\u5305\u5206\u53d1\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u7684\u57fa\u672c\u8981\u6c42\u3002</p> <p>\u4e0d\u662f\u6240\u6709\u6211\u4eec\u5c06\u4ecb\u7ecd\u7684\u5de5\u5177\uff0c\u90fd\u540c\u6837\u5177\u6709\u4e0a\u8ff0\u80fd\u529b\uff0c\u8bf7\u8bfb\u8005\u6ce8\u610f\u8fa8\u522b\uff0c\u6839\u636e\u9700\u8981\u505a\u51fa\u9009\u62e9\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#41-makeself","title":"4.1. makeself \u7684\u591a\u5e73\u53f0\u5b89\u88c5\u5305\uff08\u5185\u542b\u6848\u4f8b\uff09","text":"<p>Makeself<sup>2</sup> \u662f\u4e00\u4e2a\u53ef\u7528\u4ee5 Unix/Linux \u548c MacOs \u4e0b\u7684\u81ea\u89e3\u538b\u5de5\u5177\u3002\u5982\u679c\u7528\u6237\u4f7f\u7528 Windows\uff0c\u5219\u5728\u5b89\u88c5\u4e86 cygwin \u7684\u524d\u63d0\u4e0b\uff0c\u4e5f\u53ef\u4f7f\u7528\uff08\u4e0d\u8fc7\u8fd9\u6837\u4e00\u6765\uff0c\u57fa\u672c\u4e0a\u5c31\u5c06\u666e\u901a\u7528\u6237\u6392\u9664\u5728\u5916\u4e86\uff0c\u6240\u4ee5\u5e76\u4e0d\u662f\u597d\u7684\u65b9\u6848\uff09\u3002Makeself \u672c\u8eab\u662f\u4e00\u4e2a\u5c0f\u578b shell \u811a\u672c\uff0c\u53ef\u4ece\u6307\u5b9a\u76ee\u5f55\u751f\u6210\u53ef\u81ea\u89e3\u538b\u7684\u538b\u7f29\u6587\u6863\u3002\u751f\u6210\u7684\u6587\u4ef6\u663e\u793a\u4e3a shell \u811a\u672c\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728 shell \u4e0b\u542f\u52a8\u6267\u884c\u3002\u6267\u884c\u65f6\uff0c\u8fd9\u4e2a\u538b\u7f29\u6587\u6863\u5c06\u81ea\u884c\u89e3\u538b\u7f29\u5230\u4e00\u4e2a\u4e34\u65f6\u76ee\u5f55\uff0c\u7136\u540e\u6267\u884c\u4e8b\u5148\u6307\u5b9a\u597d\u7684\u547d\u4ee4\uff08\u4f8b\u5982\u5b89\u88c5\u811a\u672c\uff09\u3002\u8fd9\u4e0e\u5728 Windows \u4e16\u754c\u4e2d\u4f7f\u7528 WinZip Self-Extractor \u751f\u6210\u7684\u6863\u6848\u975e\u5e38\u76f8\u4f3c\u3002Makeself \u6863\u6848\u8fd8\u5305\u62ec\u7528\u4e8e\u5b8c\u6574\u6027\u81ea\u6211\u9a8c\u8bc1\u7684\u6821\u9a8c\u548c\uff08CRC \u548c/\u6216 MD5/SHA256 \u6821\u9a8c\u548c\uff09\u3002</p> <p>\u6211\u4eec\u4ecb\u7ecd\u8fd9\u4e2a\u5de5\u5177\uff0c\u662f\u56e0\u4e3a\u5728\u8fd0\u7ef4\u9886\u57df\u5b83\u5e94\u7528\u975e\u5e38\u5e7f\u6cdb\uff0c\u5728 Github \u4e0a\u4e5f\u6709\u8fc7\u5343 stars\u3002\u53e6\u5916\uff0c\u5bf9\u4e8e Python \u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u8fd9\u4e2a\u6982\u5ff5\u5f88\u53ef\u80fd\u5e76\u4e0d\u964c\u751f\u3002\u5982\u679c\u4f60\u5728 Linux \u4e0b\u5b89\u88c5\u8fc7 Anaconda\uff0c\u4f60\u53ef\u80fd\u77e5\u9053\uff0cAnaconda \u7684\u5b89\u88c5\u5305\u5c31\u662f\u4e00\u4e2a\u7c7b\u4f3c\u4e8e shell \u811a\u672c\u7684\u538b\u7f29\u5305\uff0c\u4e0d\u786e\u5b9a\u7684\u662f\uff0c\u5b83\u662f\u7528 makeself \u6253\u5305\u7684\uff0c\u8fd8\u662f\u7528\u5176\u5b83\u5de5\u5177\u6253\u5305\u7684\u3002</p> <p>Makeself \u7684\u4f7f\u7528\u65b9\u6cd5\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u51e0\u4e4e\u6ca1\u6709\u5b66\u4e60\u6210\u672c\u3002\u5728 Ubuntu \u4e0b\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a <pre><code>$ sudo apt-get install makeself\n</code></pre> \u5728\u5176\u5b83\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u4ece\u5176\u5b98\u7f51 <sup>2</sup> \u4e0b\u8f7d\u5b89\u88c5\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>conda</code>\u547d\u4ee4\u6765\u5b89\u88c5\uff1a <pre><code>$ conda install -c conda-forge makeself\n</code></pre></p> <p>\u5b83\u7684\u7528\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>$ makeself.sh [args] archive_dir file_name label startup_script [script_args]\n</code></pre> <p>args \u662f Makeself \u81ea\u5df1\u5728\u6253\u5305\u65f6\u8981\u4f7f\u7528\u7684\u53c2\u6570\u3002\u53c2\u6570\u6bd4\u8f83\u591a\uff0c\u6db5\u76d6\u4e86\u5982\u4f55\u538b\u7f29\u3001\u662f\u5426\u52a0\u5bc6\u3001\u89e3\u538b\u7f29\u884c\u4e3a\u7b49\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4e00\u4e00\u8be6\u8ff0\u3002\u8bf7\u8bfb\u8005\u5728\u9700\u8981\u65f6\u53c2\u8003\u5b98\u65b9\u6587\u6863 <sup>2</sup>\u3002</p> <p>\u5728\u51c6\u5907\u9636\u6bb5\uff0c\u6211\u4eec\u901a\u5e38\u628a\u8981\u6253\u5305\u5b89\u88c5\u7684\u6587\u4ef6\u90fd\u653e\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\u3002archive_dir \u5c31\u662f\u8fd9\u4e2a\u76ee\u5f55\u7684\u540d\u5b57\uff0c\u6bd4\u5982\u9879\u76ee\u4e0b\u7684 dist \u6587\u4ef6\u5939\uff1bfile_name \u662f\u6700\u7ec8\u5236\u4f5c\u51fa\u7684\u5b89\u88c5\u6587\u4ef6\u540d\uff0c\u6bd4\u5982 install_sample.sh\uff1blabel \u5219\u662f\u5bf9\u5b89\u88c5\u6587\u4ef6\u7684\u63cf\u8ff0\uff0c\u6bd4\u5982\u201cInstall sample\u201d; startup_script \u662f\u5b89\u88c5\u6587\u4ef6\u89e3\u538b\u540e\u8981\u6267\u884c\u7684\u811a\u672c\uff0c\u6bd4\u5982 install.sh\uff1bscript_args \u662f startup_script \u7684\u53c2\u6570\u3002</p> <p>\u4ecd\u4ee5<code>sample</code>\u9879\u76ee\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u811a\u672c\u6765\u5b8c\u6210\u6253\u5305\uff1a <pre><code>#!/BIN/BASH\n\npoetry build\nrm -rf /tmp/sample\nmkdir /tmp/sample\n\nversion=`poetry version | awk '{print $2}'`\n\necho \"version is $version\"\n# PREPARE ARCHIVE\ncp dist/sample-$version-py3-none-any.whl /tmp/sample/\n\n# PREPARE INSTALL SCRIPT\necho \"#! /bin/bash\" &gt; /tmp/sample/install.sh\necho \"pip install ./sample-$version-py3-none-any.whl\" &gt;&gt; /tmp/sample/install.sh\nchmod +x /tmp/sample/install.sh\n\n# PACKAGING WITH MAKESELF\nmakeself /tmp/sample install_sample.sh \"sample package made by makeself\" ./install.sh\n</code></pre> \u975e\u5e38\u8f7b\u5de7\u548c\u5e72\u51c0\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u4ecb\u7ecd\u5b83\u7684\u539f\u56e0\u3002\u6211\u4eec\u8fd9\u91cc\u4f7f\u7528\u4e86\u4e00\u4e2a\u540d\u4e3a install.sh \u7684\u811a\u672c\u4f5c\u4e3a\u542f\u52a8\u811a\u672c\u3002\u5728\u8fd9\u4e2a\u811a\u672c\u91cc\uff0c\u6211\u4eec\u4ec5\u4ec5\u6f14\u793a\u4e86\u5982\u4f55\u6267\u884c\u5b89\u88c5\u547d\u4ee4\uff0c\u4e00\u4e2a\u5b89\u6574\u7684\u5b89\u88c5\u811a\u672c\u53ef\u80fd\u9700\u8981\uff1a 1. \u68c0\u67e5\u7b26\u5408\u7248\u672c\u8981\u6c42\u7684 Python \u662f\u5426\u53ef\u7528\uff0c\u5982\u679c\u4e0d\u53ef\u7528\uff0c\u4e0b\u8f7d\u5e76\u5b89\u88c5\u3002\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u8be2\u95ee\u7528\u6237\u610f\u89c1\uff0c\u5982\u679c\u7528\u6237\u4e0d\u63a5\u53d7\uff0c\u5219\u9000\u51fa\u5b89\u88c5\u3002 2. \u5b89\u88c5 virtualenv\uff0c\u5982\u679c virtualenv \u5728\u5f53\u524d\u73af\u5883\u4e0b\u4e0d\u5b58\u5728\u7684\u8bdd\uff0c\u8fd8\u8981\u901a\u8fc7 pip install virtualenv \u5b89\u88c5\u3002 3. \u901a\u8fc7<code>virtualenv --no-site-packages venv path/to/your/app</code>\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u73af\u5883\uff0c\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u5728\u6b64\u865a\u62df\u73af\u5883\u4e0b\u8fd0\u884c\u3002\u865a\u62df\u73af\u5883\u7684\u8def\u5f84\u4e5f\u5c06\u662f\u6211\u4eec\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u8fd9\u9700\u8981\u5411\u7528\u6237\u8be2\u95ee\u5e76\u63a5\u6536\u8f93\u5165\u3002\u8fd9\u91cc\u7684\u53c2\u6570<code>--no-site-packages</code>\u7684\u4f5c\u7528\u662f\u4e0d\u5c06\u7cfb\u7edf\u73af\u5883\u4e2d\u7684\u5305\u62f7\u8d1d\u8fc7\u6765\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u5e72\u51c0\u7684\u865a\u62df\u73af\u5883\u3002 4. \u5c06\u89e3\u538b\u540e\u7684\u5e94\u7528\u7a0b\u5e8f\u62f7\u8d1d<code>path/to/your/app</code>\u4e2d\u3002 5. \u5207\u6362\u76ee\u5f55\u5230<code>path/to/your/app</code>\u4e0b\uff0c\u6fc0\u6d3b\u865a\u62df\u73af\u5883\uff1a<code>source venv/bin/activate</code> 6. \u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f\uff1a<code>pip install ./sample-$version-py3-none-any.whl</code>\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u8fd9\u4e2a whl \u6587\u4ef6\u4e5f\u53ef\u4ee5\u5220\u9664\u3002 7. \u521b\u5efa\u4e00\u4e2a\u542f\u52a8\u811a\u672c\uff08\u5047\u8bbe\u540d\u5b57\u4e3a start.sh\uff09\uff0c\u8fd9\u4e2a\u542f\u52a8\u811a\u672c\u7684\u4f5c\u7528\u662f\u901a\u8fc7\u865a\u62df\u73af\u5883\u4e2d\u7684 python \u6765\u8c03\u7528\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f<code>sample</code>\u3002\u5982\u679c<code>sample</code>\u7a0b\u5e8f\u63d0\u4f9b\u4e86<code>console script</code>\uff0c\u90a3\u4e48\u542f\u52a8\u811a\u672c\u7684\u4efb\u52a1\u5c31\u662f\u76f4\u63a5\u8c03\u7528\u5b83\uff1b\u5426\u5219\uff0c\u5c31\u8981\u770b<code>sample</code>\u7684\u5165\u53e3\u7a0b\u5e8f\u662f\u5982\u4f55\u63d0\u4f9b\u7684\u4e86\u3002\u8fd9\u90e8\u5206\u53ea\u80fd\u4ea4\u7ed9\u8bfb\u8005\u81ea\u884c\u5b8c\u6210\u4e86\u3002 8. \u521b\u5efa\u4e00\u4e2a\u8f6f\u94fe\u63a5\uff0c\u5c06\u542f\u52a8\u811a\u672c\u94fe\u63a5\u5230<code>/usr/local/bin</code>\u4e0b\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728\u4efb\u4f55\u5730\u65b9\u901a\u8fc7<code>sample</code>\u547d\u4ee4\u6765\u542f\u52a8\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u4e86\u3002\u521b\u5efa\u8f6f\u94fe\u63a5\u7684\u547d\u4ee4\u662f\uff1a <pre><code>$ sudo ln -s path/to/your/app/start.sh /usr/local/bin/sample\n</code></pre></p>"},{"location":"articles/python/best-practice-python/chap11/#42-pyinstaller-nuitka","title":"4.2. PyInstaller \u548c Nuitka","text":"<p>\u8fd9\u4e24\u8005\u90fd\u662f\u6253\u5305\u5de5\u5177\u3002\u5176\u76ee\u6807\u90fd\u662f\u5c06 Python \u7a0b\u5e8f\u6253\u5305\u6210\u4e00\u4e2a\u81ea\u5305\u542b\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff08\u4e5f\u53ef\u80fd\u662f\u6587\u4ef6\u5939\uff09\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u5176\u5206\u53d1\u7ed9\u5ba2\u6237\uff0c\u65e0\u8bba\u5ba2\u6237\u7684\u76ee\u6807\u673a\u5668\u4e0a\u662f\u5426\u5b89\u88c5\u6709 Python\uff0c\u90fd\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\uff0c\u5e76\u4e14\u6240\u6709\u7684\u4f9d\u8d56\u90fd\u5df2\u7ecf\u5305\u542b\u4e86\u3002\u9664\u4e86\u4e0a\u8ff0\u529f\u80fd\u5916\uff0c\u4e24\u4e2a\u5de5\u5177\u90fd\u8fd8\u6709\u52a0\u5bc6 Python \u7a0b\u5e8f\u7684\u80fd\u529b\uff0c\u8fd9\u4e5f\u662f\u4e0d\u5c11\u5f00\u53d1\u8005\u6240\u9700\u8981\u7684\u529f\u80fd\u3002</p> <p>\u4e0d\u540c\u7684\u662f\uff0cPyInstaller \u53ea\u5bf9 Python \u7a0b\u5e8f\u8fdb\u884c\u6253\u5305\uff0c\u5373\u4ece\u6307\u5b9a\u7684 python \u6587\u4ef6\u5f00\u59cb\uff0c\u9012\u5f52\u5206\u6790\u5b83\u7684\u4f9d\u8d56\u9879\uff0c\u5c06\u8fd9\u4e9b\u4f9d\u8d56\u9879\u548c\u9002\u914d\u7684 Python \u89e3\u91ca\u5668\u4e00\u5e76\u6253\u5305\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u5b83\u53ef\u4ee5\u6309\u8981\u6c42\u5bf9\u751f\u6210\u7684\u5b57\u8282\u7801\u8fdb\u884c\u4e00\u5b9a\u7684\u6df7\u6dc6\uff0c\u4ece\u800c\u8d77\u5230\u52a0\u5bc6\u7684\u4f5c\u7528\u3002\u6700\u7ec8\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u65b9\u5f0f\u8ddf\u666e\u901a\u7684 Python \u7a0b\u5e8f\u4e00\u6837\uff0c\u901a\u8fc7\u89e3\u91ca\u5668\u6765\u6267\u884c\u3002</p> <p>Nuitka \u5219\u4f1a\u5148\u5c06 Python \u7a0b\u5e8f\u7ffb\u8bd1\u6210 C \u4ee3\u7801\uff0c\u7136\u540e\u518d\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8fd9\u6837\uff0c\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5c31\u4e0d\u4f9d\u8d56\u4e8e Python \u89e3\u91ca\u5668\u4e86\u3002\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u66f4\u5c0f\uff0c\u7406\u8bba\u4e0a\u8fd0\u884c\u901f\u5ea6\u5e94\u8be5\u6bd4\u80a9 c \u7a0b\u5e8f\u3002\u4e0d\u8fc7 Python \u7a0b\u5e8f\u8f6c\u6362\u4e3a c \u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u90e8\u5206\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cNuitka \u4f1a\u4f18\u5148\u8003\u8651\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u800c\u4e0d\u662f\u4f18\u5316\u901f\u5ea6\uff0c\u56e0\u6b64\u4e00\u822c\u8ba4\u4e3a\u52a0\u901f\u5728 30%\u4ee5\u5185\u3002\u4f7f\u7528 Nuitka \u6253\u5305\u7684\u53e6\u4e00\u4e2a\u597d\u5904\u662f\uff0c\u7531\u4e8e\u6211\u4eec\u53d1\u5e03\u7684\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6240\u4ee5\u80fd\u6bd4\u8f83\u597d\u5730\u4fdd\u62a4\u6e90\u4ee3\u7801\u3002</p> <p>\u770b\u4e0a\u53bb Nuitka \u4f3c\u4e4e\u66f4\u6709\u53d1\u5c55\u524d\u666f\uff0c\u6bd5\u7adf\uff0c\u5b83\u6709\u6027\u80fd\u52a0\u6210\u7684\u56e0\u7d20\u3002\u968f\u7740\u4f7f\u7528 Type hint \u7684 Python \u5e93\u8d8a\u6765\u8d8a\u591a\uff0c\u8fd9\u79cd\u6027\u80fd\u52a0\u6210\u5c06\u4f1a\u8d8a\u6765\u8d8a\u660e\u663e\u3002\u56e0\u6b64\uff0c\u8fd9\u91cc\u6211\u4eec\u53ea\u5bf9 Nuitka \u8fdb\u884c\u7b80\u5355\u4ecb\u7ecd\u3002\u5982\u679c\u8bfb\u8005\u5bf9 PyInstaller \u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u6309\u7167\u6211\u4eec\u6587\u4e2d\u7ed9\u51fa\u7684\u5b98\u7f51\u94fe\u63a5\uff0c\u81ea\u884c\u5b66\u4e60\u3002</p> <p>\u4e0b\u9762\uff0c\u6211\u4eec\u4ee5\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e\u5982\u4f55\u4f7f\u7528 Nuitka \u6253\u5305 Python \u7a0b\u5e8f\u3002\u5c3d\u7ba1\u6211\u4eec\u6240\u6709\u7684\u793a\u4f8b\u90fd\u63a8\u8350\u5728 Ubunutu \u6216\u8005 MacOS \u4e0a\u8fd0\u884c\uff0c\u4f46\u8fd9\u4e00\u6b21\uff0c\u6211\u4eec\u9700\u8981\u5728 windows \u4e0a\u8fd0\u884c\u8fd9\u4e2a\u793a\u4f8b\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u8981\u5b89\u88c5 nuitka\uff0c\u53ef\u4ee5\u901a\u8fc7 pip \u5b89\u88c5\uff08\u6ce8\u610f\u6211\u4eec\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\uff0c\u5728\u5176\u4e2d\u5b89\u88c5 nuitka\uff09\uff1a</p> <pre><code>$ pip install nuitka\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>greetings.py</code>\u7684\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> greetings.py<pre><code>import fire\n\ndef greeting(name: str):\n    print(f\"hi {name}\")\n\nfire.Fire({\n    \"greeting\": greeting\n})\n</code></pre> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u89c1\u8bc1\u5947\u8ff9\u7684\u65f6\u523b\uff0c\u6211\u4eec\u8fd9\u6837\u8fdb\u884c\u6253\u5305\uff1a <pre><code>python -m nuitka greetings.py\n</code></pre> \u8fd9\u4f1a\u5728\u7ed9\u51fa\u4ee5\u4e0b\u8b66\u793a\u540e\uff0c\u7a0b\u5e8f\u7ee7\u7eed\uff1a <pre><code>Nuitka-Options:INFO: Used command line options: greetings.py\nNuitka-Options:WARNING: You did not specify to follow or include anything but main program. Check options and make sure\nNuitka-Options:WARNING: that is intended.\nNuitka:WARNING: Using very slow fallback for ordered sets, please install 'orderedset' PyPI package for best Python\nNuitka:WARNING: compile time performance.\n</code></pre></p> <p>Nuitka \u5728\u7f16\u8bd1\u4e2d\u7ed9\u51fa\u4e86\u4e00\u4e9b\u6027\u80fd\u76f8\u5173\u7684\u8b66\u544a\u3002\u5bf9\u6211\u4eec\u8fd9\u4e2a\u7b80\u5355\u7684\u7a0b\u5e8f\uff0c\u8fd9\u4e9b\u8b66\u544a\u4e0d\u4f1a\u6709\u4efb\u4f55\u5f71\u54cd\u3002\u6bd4\u5982\uff0c\u5176\u4e2d\u7684\u4e00\u6761\u662f\uff0c\u5982\u679c\u4f60\u7684\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u4e86<code>set</code>\uff0c\u90a3\u4e48\u4f60\u5e94\u8be5\u5b89\u88c5<code>orderedset</code>\uff0c\u8fd9\u6837\u53ef\u4ee5\u63d0\u9ad8\u8fd0\u884c\u901f\u5ea6\u3002\u6211\u4eec\u7684\u793a\u4f8b\u7a0b\u5e8f\u662f\u5982\u6b64\u7b80\u5355\uff0c\u4ee5\u81f4\u4e8e\u5373\u4f7f\u6211\u4eec\u6309\u63d0\u793a\u5b89\u88c5\u4e86 orderedset\uff0c\u4e5f\u4e0d\u4f1a\u5f97\u5230\u6027\u80fd\u4e0a\u7684\u63d0\u5347\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5b8c\u5168\u5ffd\u7565\u8fd9\u4e9b\u8b66\u544a\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5b83\u8981\u6c42\u4e0b\u8f7d\u5e76\u5b89\u88c5 MinGW64 \u548c ccache\u3002\u8fd9\u4e2a\u4e0b\u8f7d\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u5982\u679c\u662f\u8fd9\u6837\uff0c\u4f60\u9700\u8981\u81ea\u884c\u4e0b\u8f7d\uff0c\u5e76\u4e14\u5c06\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\u89e3\u538b\u7f29\u540e\uff0c\u6309\u63d0\u793a\u653e\u5230\u6307\u5b9a\u7684\u4f4d\u7f6e\uff0c\u6bd4\u5982'C:\\Users\\Administrator\\AppData\\Local\\Nuitka\\Nuitka\\Cache\\downloads\\gcc\\x86_64\\11.3.0-14.0.3-10.0.0-msvcrt-r3'\u3002\u8fd9\u4e2a\u4f4d\u7f6e\u53ef\u80fd\u4f1a\u56e0\u4e3a\u4f60\u7684\u7cfb\u7edf\u4e0d\u540c\u800c\u4e0d\u540c\uff0c\u4f46\u90fd\u4f1a\u6253\u5370\u5728\u547d\u4ee4\u884c\u7a97\u53e3\u4e2d\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u5b83\u5f00\u59cb\u8fdb\u884c\u7f16\u8bd1\uff1a <pre><code>Nuitka:INFO: Starting Python compilation with Nuitka '1.4.3' on Python '3.8' commercial grade 'not installed'.\nNuitka:INFO: Completed Python level compilation and optimization.\nNuitka:INFO: Generating source code for C backend compiler.\nNuitka:INFO: Running data composer tool for optimal constant value handling.\nNuitka:INFO: Running C compilation via Scons.\nNuitka-Scons:INFO: Backend C compiler: gcc (gcc).\nNuitka-Scons:INFO: Backend linking program with 6 files (no progress information available).\nNuitka-Scons:INFO: Compiled 24 C files using ccache.\nNuitka-Scons:INFO: Cached C files (using ccache) with result 'cache miss': 6\nNuitka:INFO: Keeping build directory 'greetings.build'.\nNuitka:INFO: Successfully created 'greetings.exe'.\nNuitka:INFO: Execute it by launching 'greetings.cmd', the batch file needs to set environment.\n</code></pre> \u6839\u636e\u63d0\u793a\uff0c\u6211\u4eec\u770b\u5230\u5b83\u5c06 python \u4ee3\u7801\u8f6c\u6362\u6210 c \u7684\u6e90\u7801\uff0c\u5e76\u8fdb\u4e00\u6b65\u7f16\u8bd1\u6210 windows \u4e0a\u53ef\u4ee5\u8fd0\u884c\u7684\u539f\u751f\u7a0b\u5e8f\u3002\u6700\u7ec8\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e24\u4e2a\u6587\u4ef6\uff0c\u4e00\u4e2a\u662f'greetings.exe'\uff0c\u53e6\u4e00\u4e2a\u662f'greetings.cmd'\u3002\u5982\u679c\u6211\u4eec\u662f\u5728\u521a\u521a\u8fdb\u884c\u6253\u5305\u7684\u7a97\u53e3\u4e2d\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c<code>greetings.exe</code>\uff0c\u5426\u5219\uff0c\u6211\u4eec\u5e94\u8be5\u8fd0\u884c<code>greetings.cmd</code>\u3002</p> <p>\u8fd0\u884c\u7ed3\u679c\u5982\u4e0b\uff1a <pre><code>$ greetings.exe greeting aaron\n\nhi aaron\n</code></pre> \u8fd9\u4ec5\u4ec5\u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u6240\u4ee5\u770b\u4e0a\u53bb\u53ef\u80fd\u4e0d\u90a3\u4e48\u4ee4\u4eba\u5174\u594b\u3002\u5982\u679c\u6211\u4eec\u6253\u7b97\u4ece\u8d44\u6e90\u7ba1\u7406\u5668\u91cc\u627e\u5230\u5b83\uff0c\u53cc\u51fb\u5e76\u8fd0\u884c\u5b83\uff0c\u6211\u4eec\u4f1a\u88ab\u63d0\u793a\u7f3a\u5c11\u67d0\u4e9b python \u7684 dll\u3002\u4e3a\u4e86\u4f7f\u8fd9\u4e2a\u7a0b\u5e8f\u80fd\u5b8c\u5168\u72ec\u7acb\u8fd0\u884c\uff0c\u6211\u4eec\u9700\u8981\u5728\u6253\u5305\u65f6\u52a0\u4e0a--standalone \u53c2\u6570\uff1a <pre><code>$ python -m nuitka --standalone --follow-imports greetings.py\n</code></pre></p> <p>\u8fd9\u4e00\u6b21\uff0c\u53c8\u4f1a\u63d0\u793a\u4e0b\u8f7d\u4e00\u4e9b\u4e1c\u897f\uff0c\u4e3b\u8981\u662f msvc \u7684\u8fd0\u884c\u65f6\uff0c\u4f46\u8fd9\u6b21\u4e0b\u8f7d\u4f1a\u975e\u5e38\u987a\u5229\u3002\u6700\u7ec8\uff0c\u7f16\u8bd1\u6210\u529f\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u540d\u4e3a greetings.dist \u7684\u6587\u4ef6\u5939\u3002\u73b0\u5728\uff0c\u5982\u679c greetings \u662f\u4e00\u4e2a\u5e26\u56fe\u5f62\u754c\u9762\u7684\u5e94\u7528\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u8d44\u6e90\u7ba1\u7406\u5668\u4e2d\uff0c\u76f4\u63a5\u53cc\u51fb\u5176\u4e2d\u7684 greetings.exe \u8fd0\u884c\u4e86\u3002\u4e0d\u8fc7\uff0c\u7531\u4e8e\u6211\u4eec\u7684 greetings \u7a0b\u5e8f\u9700\u8981\u63a5\u6536\u7528\u6237\u8f93\u5165\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u662f\u5f97\u4ece\u547d\u4ee4\u884c\u4e2d\u6253\u5f00\u5b83\u3002\u4f46\u8fd9\u6b21\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u65b0\u751f\u6210\u7684\u6587\u4ef6\u5939\u62f7\u8d1d\u5230\u6ca1\u6709\u5b89\u88c5 python \u548c nuitka \u7684\u673a\u5668\u4e0a\uff0c\u7136\u540e\u5728\u547d\u4ee4\u884c\u4e0b\u8fd0\u884c greetings.exe\uff1a</p> <pre><code>$ greetings.exe greeting aaron\n\nhi aaron\n</code></pre> <p>Nuitka \u7684\u6253\u5305\u6784\u5efa\u8fc7\u7a0b\u5df2\u7ecf\u53ef\u4ee5\u548c poetry \u6574\u5408\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8fd9\u6837\u4fee\u6539<code>pyproject.toml</code>\u5373\u53ef\u5de5\u4f5c\uff1a <pre><code>[build-system]\nrequires = [\"setuptools&gt;=42\", \"wheel\", \"nuitka\", \"toml\"]\nbuild-backend = \"nuitka.distutils.Build\"\n\n[nuitka]\n# THESE ARE NOT RECOMMENDED, BUT THEY MAKE IT OBVIOUS TO HAVE EFFECT.\n\n# BOOLEAN OPTION, E.G. IF YOU CARED FOR C COMPILATION COMMANDS, LEADING\n# DASHES ARE OMITTED\nshow-scons = true\n\n# OPTIONS WITH SINGLE VALUES, E.G. ENABLE A PLUGIN OF NUITKA\nenable-plugin = pyside2\n\n# OPTIONS WITH SEVERAL VALUES, E.G. AVOIDING INCLUDING MODULES, ACCEPTS\n# LIST ARGUMENT.\nnofollow-import-to = [\"*.tests\", \"*.distutils\"]\n</code></pre></p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u601d\u8003\u4e00\u4e0b\uff0cPyInstaller \u548c Nuitka \u7684\u5b9a\u4f4d\u3002\u5b83\u4eec\u90fd\u662f\u6253\u5305\u7a0b\u5e8f\uff0c\u663e\u7136\u3002\u4f46\u4ed6\u4eec\u5e76\u4e0d\u662f\u5b89\u88c5\u7a0b\u5e8f\u3002\u901a\u8fc7\u5b83\u4eec\u6253\u5305\uff0c\u6211\u4eec\u5b9e\u73b0\u7684\u76ee\u6807\u662f\u8ba9\u8fd9\u4e9b\u7a0b\u5e8f\u53ef\u4ee5\u5728\u7528\u6237\u7684\u684c\u9762\u64cd\u4f5c\u7cfb\u7edf\u4e0a\uff0c\u5728\u4e0d\u5b89\u88c5 Python \u548c\u4f9d\u8d56\u7684\u60c5\u51b5\u4e0b\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\uff0c\u4f46\u662f\uff0c\u5b83\u53ea\u9002\u5408\u65e0\u987b\u5b89\u88c5\u7684\u201c\u7eff\u8272\u7a0b\u5e8f\u201d\uff0c\u5982\u679c\u6211\u4eec\u7684\u7a0b\u5e8f\u9700\u8981\u521b\u5efa\u684c\u9762\u5feb\u6377\u65b9\u5f0f\uff0c\u4fee\u6539\u6ce8\u518c\u8868\uff0c\u90a3\u4e48\u5b83\u5c06\u65e0\u80fd\u4e3a\u529b\u3002</p> <p>\u5982\u679c\u60a8\u7684\u7a0b\u5e8f\u9700\u8981\u6709\u4e00\u4e2a\u8f83\u534e\u4e3d\u7684\u5b89\u88c5\u754c\u9762\uff0c\u5efa\u8bae\u60a8\u67e5\u770b\u4e00\u4e0b Inno Setup<sup>4</sup> \u6216\u8005 Wix<sup>9</sup>\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#5","title":"5. \u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f","text":"<p>\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u4e0e\u684c\u9762\u5e94\u7528\u6709\u5f88\u5927\u7684\u4e0d\u540c\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u5373\u4f7f\u6211\u4eec\u80fd\u628a\u4e00\u4e2a\u684c\u9762\u5e94\u7528\u6253\u5305\u6210\u80fd\u5b89\u88c5\u7684\u79fb\u52a8\u5e94\u7528\uff0c\u5176\u7528\u6237\u4f53\u9a8c\u4e5f\u5f88\u96be\u8bf4\u4f1a\u6709\u591a\u597d\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e Python \u5e94\u7528\u7a0b\u5e8f\u7684\u6253\u5305\u548c\u5206\u53d1\uff0c\u5fc5\u987b\u4ece\u4e00\u5f00\u59cb\u5c31\u8fdb\u884c\u89c4\u5212\uff0c\u5fc5\u987b\u4e00\u5f00\u59cb\u5c31\u4f7f\u7528\u4e0a\u76f8\u5173\u7684\u8de8\u5e73\u53f0\u5f00\u53d1\u7684\u6846\u67b6\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u4e3b\u8981\u4ecb\u7ecd\u548c\u6bd4\u8f83\u4e24\u4e2a\u6700\u6d41\u884c\u7684\u6846\u67b6\uff0c<code>Kivy</code>\u548c<code>BeeWare</code>\uff0c\u8bfb\u8005\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u9700\u8981\u8fdb\u884c\u9009\u62e9\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#51-kivy","title":"5.1. Kivy","text":"<p>Kivy<sup>10</sup> \u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684 Python \u6846\u67b6\uff0c\u5b83\u53ef\u4ee5\u8ba9\u6211\u4eec\u4f7f\u7528 Python \u6765\u5f00\u53d1\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\u548c\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u3002\u5b83\u57fa\u4e8e MIT License\uff0c\u5b8c\u5168\u514d\u8d39\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u662f\uff0c\u6709\u81ea\u5df1\u7684 UI \u8bbe\u8ba1\u8bed\u8a00\uff0c\u56e0\u6b64\u5728\u6240\u6709\u7684\u8bbe\u5907\u4e0a\uff0c\u5e94\u7528\u7a0b\u5e8f\u90fd\u6709\u4e00\u81f4\u7684\u884c\u4e3a\u548c\u5916\u89c2\uff1b\u5b83\u4f7f\u7528 OpenGL \u6765\u7ed8\u5236 UI\uff0c\u56e0\u6b64\u5341\u5206\u9ad8\u6548\u3002 \u4e0b\u56fe\u662f\u4f7f\u7528 Kivy \u5f00\u53d1\u7684\u4e00\u4e2a\u56f4\u68cb\u6e38\u620f\uff0c\u540d\u4e3a Lazy Baduk\uff0c\u4f60\u53ef\u4ee5\u5728\u8c37\u6b4c\u5e94\u7528\u5546\u5e97\u4e2d\u627e\u5230\u5b83\u3002</p> <p></p> <p>Info</p> <p>\u5982\u679c\u4f60\u5bf9\u56f4\u68cb\u611f\u5174\u8da3\uff0c\u8fd9\u91cc\u63a8\u8350\u4e00\u4e2a\u540d\u4e3a KaTrain \u7684\u56f4\u68cb\u8bad\u7ec3\u8f6f\u4ef6\uff0c\u5b83\u4e5f\u662f\u7528 Python \u548c Kivy \u5f00\u53d1\u7684\u3002\u5b83\u57fa\u4e8e KataGo -- \u6700\u5f3a\u7b97\u529b\u7684\u5f00\u6e90\u56f4\u68cb AI\uff0c\u4e00\u4e9b\u8c23\u4f20\u8ba4\u4e3a\uff0c\u67d0\u4e9b\u5546\u4e1a\u8f6f\u4ef6\uff0c\u5305\u62ec\u67d0\u4e9b\u56fd\u5bb6\u961f\u7528\u4ee5\u8bad\u7ec3\u7684 AI \u56f4\u68cb\u8f6f\u4ef6\uff0c\u90fd\u201c\u501f\u9274\u201d\u4e86 KataGo \u7684\u7b97\u6cd5\u3002</p> <p>Kivy \u7684\u77ed\u677f\u53ef\u80fd\u4e5f\u5728\u4e8e\u5b83\u7684\u72ec\u7279\u7684 UI \u8bbe\u8ba1\u8bed\u8a00\u3002Kivy \u7684 UI toolkit \u4fdd\u8bc1\u4e86\u57fa\u4e8e Kivy \u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5f88\u597d\u5728\u8fd0\u884c\u5728 Android, iOS, Linux \u751a\u81f3 Raspberry Pi \u4e0a\uff0c\u4f46\u662f\u4e5f\u4f7f\u5f97\u5b83\u7f3a\u5c11\u4e86\u539f\u751f\u5e94\u7528\u7a0b\u5e8f\u7684\u67d0\u4e9b\u64cd\u4f5c\u80fd\u529b\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#52-beeware","title":"5.2. BeeWare","text":"<p>BeeWare<sup>11</sup> \u540c\u6837\u662f\u4e00\u4e2a\u8de8\u5e73\u53f0\u7684 Python \u6846\u67b6\u3002\u5b83\u57fa\u4e8e BSD License\uff0c\u5b8c\u5168\u514d\u8d39\u3002\u5b83\u7684\u4e3b\u8981\u7279\u70b9\u662f\uff0c\u5b83\u81f4\u529b\u4e8e\u63d0\u4f9b\u63a5\u8fd1\u539f\u751f\u7a0b\u5e8f\u7684\u7528\u6237\u4f53\u9a8c\u3002BeeWare \u7684\u51fa\u73b0\u65f6\u95f4\u8981\u665a\u4e00\u4e9b\uff0c\u4e0d\u8fc7\u5b83\u7684\u53d1\u5c55\u52bf\u5934\u4e5f\u4e0d\u5dee\u3002\u53e6\u5916\uff0c\u5b83\u662f\u7ec4\u4ef6\u5f0f\u7684\uff0cBeeWare \u5305\u542b\u4e86 BriefCase\uff0c\u8fd9\u662f\u53e6\u4e00\u4e2a\u4e3a\u4eba\u5e7f\u6cdb\u4f7f\u7528\u7684 Python \u6253\u5305\u5de5\u5177\u3002Toga\uff0c\u4e00\u4e2a\u57fa\u4e8e Python \u7684\u8de8\u5e73\u53f0 GUI \u6846\u67b6\uff0c\u4e5f\u662f BeeWare \u7684\u4e00\u90e8\u5206\u3002</p> <p>\u79fb\u52a8\u7aef\u7684\u5dee\u5f02\u8fdc\u5927\u4e8e\u684c\u9762\u7aef\u3002\u80fd\u5229\u7528\u79fb\u52a8\u8bbe\u5907\u7684\u6700\u65b0\u7279\u6027\uff0c\u5bf9\u6253\u9020\u4e00\u6b3e\u5438\u5f15\u4eba\u7684\u79fb\u52a8\u5e94\u7528\u662f\u5341\u5206\u91cd\u8981\u7684\u3002\u4f46\u65e0\u8bba\u662f BeeWare \u8fd8\u662f Kivy\uff0c\u90fd\u53ea\u80fd\u9488\u5bf9\u591a\u6570\u79fb\u52a8\u8bbe\u5907\u5171\u540c\u5177\u6709\u7684\u7279\u6027\u8fdb\u884c\u62bd\u8c61\u5316\u3002\u51fa\u4e8e\u8fd9\u4e2a\u8003\u8651\uff0c\u4e5f\u8bb8 Python \u76ee\u524d\u4ecd\u4e0d\u662f\u6700\u9002\u5408\u7684\u5f00\u53d1\u8bed\u8a00\u3002\u4f46\u662f\uff0c\u4e0d\u7ba1\u662f Kivy\uff0c\u8fd8\u662f BeeWare\uff0c\u90fd\u4e3a Python \u5f00\u53d1\u79fb\u52a8\u5e94\u7528\u63d0\u4f9b\u4e86\u4e00\u79cd\u9009\u62e9\u3002</p>"},{"location":"articles/python/best-practice-python/chap11/#6","title":"6. \u57fa\u4e8e\u4e91\u7684\u5e94\u7528\u90e8\u7f72","text":"<p>\u6bd4\u8d77\u684c\u9762\u5e94\u7528\u7a0b\u5e8f\uff0cPython \u4f3c\u4e4e\u66f4\u64c5\u957f\u5f00\u53d1\u540e\u53f0\u670d\u52a1\u7a0b\u5e8f\u3002\u5728\u5fae\u670d\u52a1\u67b6\u6784\u4e0b\uff0c\u591a\u8fdb\u7a0b+\u5f02\u6b65 IO\uff0c\u4f7f\u5f97 Python \u65e0\u6cd5\u5145\u5206\u5229\u7528\u786c\u4ef6\u6027\u80fd\u7684\u77ed\u677f\u88ab\u8865\u9f50\uff0c\u800c\u5b83\u7b80\u6d01\u3001\u9ad8\u6548\u548c\u4e30\u5bcc\u7684\u751f\u6001\u7684\u4f18\u52bf\u5219\u5f97\u5230\u4e86\u5145\u5206\u7684\u53d1\u6325\u3002</p> <p>Python \u7684\u4e91\u90e8\u7f72\u6709 Heroku, GoogleApp \u7b49\u65b9\u5f0f\u3002\u4f46\u66f4\u5e7f\u6cdb\u4f7f\u7528\u7684\u65b9\u5f0f\u53ef\u80fd\u662f\u57fa\u4e8e\u4e91\u7684\u5bb9\u5668\u5316\u90e8\u7f72\u3002\u5bb9\u5668\u662f\u4e00\u79cd\u8f7b\u91cf\u5316\u7684\u865a\u62df\u673a\uff0c\u5b83\u4e0e\u865a\u62df\u673a\u4e0d\u540c\u7684\u662f\uff0c\u5b83\u4e0d\u9700\u8981\u4e00\u4e2a\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u800c\u662f\u76f4\u63a5\u4f7f\u7528\u5bbf\u4e3b\u673a\u7684\u5185\u6838\u3002\u8fd9\u6837\uff0c\u5bb9\u5668\u7684\u542f\u52a8\u901f\u5ea6\u6bd4\u865a\u62df\u673a\u5feb\u5f88\u591a\uff0c\u800c\u4e14\u5b83\u4eec\u7684\u8d44\u6e90\u5360\u7528\u4e5f\u66f4\u5c11\u3002\u4e00\u822c\u5730\uff0c\u6211\u4eec\u4f7f\u7528\u5bb9\u5668\u6765\u8fd0\u884c\u67d0\u4e2a\u670d\u52a1\uff0c\u5f53\u8be5\u670d\u52a1\u505c\u6b62\u65f6\uff0c\u5bb9\u5668\u4e5f\u5c31\u7ec8\u7ed3\u4e86\u3002</p> <p>Docker \u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u5bb9\u5668\u5316\u90e8\u7f72\u5de5\u5177\u3002\u6784\u5efa\u57fa\u4e8e\u5bb9\u5668\u7684\u670d\u52a1\uff0c\u4e00\u822c\u5206\u4e3a\u4e24\u4e2a\u6b65\u9aa4\uff1a\u6784\u5efa\u955c\u50cf\u548c\u8fd0\u884c\u5bb9\u5668\u3002\u955c\u50cf\u662f\u901a\u5e38\u7531\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\uff0c\u4e00\u4e2a Python \u89e3\u91ca\u5668\uff0c\u4ee5\u53ca\u6211\u4eec\u7684 Python \u670d\u52a1\u7ec4\u6210\u3002\u8fd9\u4e9b\u7ec4\u4ef6\u53ef\u4ee5\u901a\u8fc7 Dockerfile \u6765\u63cf\u8ff0\u3002Dockerfile \u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u5b83\u5305\u542b\u4e86\u4e00\u7cfb\u5217\u547d\u4ee4\u548c\u53c2\u6570\uff0c\u7528\u4ee5\u6784\u5efa\u4e00\u4e2a\u955c\u50cf\u3002\u955c\u50cf\u662f\u4e00\u4e2a\u53ea\u8bfb\u7684\u6a21\u677f\uff0c\u5b83\u63cf\u8ff0\u4e86\u4e00\u4e2a Docker \u5bb9\u5668\u5e94\u8be5\u5982\u4f55\u8fd0\u884c\u3002\u5f53\u955c\u50cf\u88ab Docker \u8fd0\u884c\u65f6\u62c9\u53d6\u5230\u672c\u5730\u5e76\u6267\u884c\u65f6\uff0c\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a\u5bb9\u5668\uff0c\u5e76\u4e14\u670d\u52a1\u5c31\u5728\u5bb9\u5668\u4e2d\u8fd0\u884c\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\u5982\u4f55\u6784\u5efa\u548c\u8fd0\u884c\u4e00\u4e2a Python \u670d\u52a1\u7684\u5bb9\u5668\u3002\u793a\u4f8b\u7684\u6e90\u4ee3\u7801\u5728 code/chap11/docker \u76ee\u5f55\u4e0b\u3002\u6211\u4eec\u4ecd\u7136\u662f\u901a\u8fc7<code>ppw</code>\u6765\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a sample \u7684\u9879\u76ee\u3002\u4e0e\u4ee5\u5f80\u4e0d\u540c\u7684\u662f\uff0c\u6211\u4eec\u5c06\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>docker</code>\uff08\u540d\u5b57\u53ef\u4efb\u610f\uff09\u7684\u76ee\u5f55\uff0c\u5176\u4e2d\u5305\u542b\u4ee5\u4e0b\u6587\u4ef6\uff1a <pre><code>.\n\u251c\u2500\u2500 build.sh\n\u251c\u2500\u2500 dockerfile\n\u2514\u2500\u2500 rootfs\n    \u2514\u2500\u2500 root\n        \u251c\u2500\u2500 entrypoint.sh\n        \u2514\u2500\u2500 sample\n            \u251c\u2500\u2500 index.html\n            \u2514\u2500\u2500 mars.jpg\n</code></pre> \u6240\u6709\u8ddf\u6784\u5efa\u955c\u50cf\u76f8\u5173\u7684\u6587\u4ef6\u90fd\u653e\u5728\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u3002</p> <p>\u5176\u4e2d\uff0cbuild.sh \u662f\u4e00\u4e2a\u811a\u672c\uff0c\u7528\u4e8e\u6784\u5efa\u955c\u50cf\u3002dockerfile \u7528\u4e8e\u63cf\u8ff0\u955c\u50cf\u3002rootfs \u662f\u4e00\u4e2a\u76ee\u5f55\uff0c\u7528\u4e8e\u5b58\u653e\u6211\u4eec\u9700\u8981\u5e26\u5230\u955c\u50cf\u4e2d\u7684\u6587\u4ef6\u3002\u5728\u6784\u5efa\u955c\u50cf\u65f6\uff0c\u5b83\u5c06\u88ab\u6620\u5c04\u4e3a\u5bb9\u5668\u7684\u6839\u76ee\u5f55\u3002</p> <p>build.sh \u4e3b\u8981\u7684\u5de5\u4f5c\u662f\u6784\u5efa sample \u9879\u76ee\uff0c\u5c06\u76f8\u5e94\u7684\u6587\u4ef6\u62f7\u8d1d\u5230 rootfs \u4e0b\uff0c\u518d\u6267\u884c<code>docker build</code>\u547d\u4ee4\u6765\u6784\u5efa\u955c\u50cf\u3002</p> <p>\u4ee5\u4e0b\u662f build.sh \u7684\u4e3b\u8981\u5185\u5bb9\uff1a <pre><code>version=`poetry version | awk '{print $2}'`\nwheel=\"/root/sample/sample-$version-py3-none-any.whl\"\n\npoetry build\n\n# \u5c06 WHEEL \u5305\u62f7\u8d1d\u5230 ROOTFS \u76ee\u5f55\u4e0b\u4ee5\u4fbf\u6784\u5efa\u955c\u50cf\u65f6\u8fdb\u884c\u5b89\u88c5\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06 WHEEL \u5305\u4e0a\u4f20\u5230 PYPI\uff0c\u7136\u540e\u5728\n# DOCKERFILE \u4e2d\u901a\u8fc7 PIP INSTALL SAMPLE \u5b89\u88c5\u3002\ncp ../dist/*$version*.whl rootfs/root/sample/\n\n# \u79fb\u9664\u4e0a\u4e00\u6b21\u7f16\u8bd1\u751f\u6210\u7684\u955c\u50cf\uff0c\u91cd\u65b0\u6784\u5efa\u3002\u8fd9\u5c06\u751f\u6210\u4e00\u4e2a\u540d\u4e3a SAMPLE \u7684\u955c\u50cf\u3002\n# \u6ce8\u610f\u6211\u4eec\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u901a\u8fc7--BUILD-ARG \u4f20\u5165\u7f16\u8bd1\u671f\u53d8\u91cf\u7ed9\u955c\u50cf\ndocker rmi sample\ndocker build --build-arg version=$version --build-arg wheel=$wheel . -t sample\n\n# \u542f\u52a8\u670d\u52a1\ndocker run -d --name sample -p 7878:7878 sample\n</code></pre> \u5728\u8fd9\u4e2a\u6784\u5efa\u811a\u672c\u91cc\uff0c\u6211\u4eec\u9996\u5148\u6784\u5efa\u4e86 sample \u9879\u76ee\u7684 wheel \u5305\uff0c\u7136\u540e\u5c06\u5b83\u62f7\u8d1d\u5230 rootfs \u76ee\u5f55\u4e0b\u3002\u63a5\u7740\uff0c\u6211\u4eec\u6267\u884c<code>docker build</code>\u547d\u4ee4\uff0c\u6784\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a sample \u7684\u955c\u50cf\uff0c\u6700\u540e\uff0c\u6211\u4eec\u4ee5\u6b64\u955c\u50cf\u4e3a\u57fa\u7840\uff0c\u542f\u52a8\u4e86\u4e00\u4e2a\u540d\u4e3a sample \u7684\u5bb9\u5668\uff0c\u5e76\u4e14\u5c06\u7aef\u53e3 7878 \u6620\u5c04\u4e3a\u4e3b\u673a\u7aef\u53e3\u3002</p> <p>Dockerfile \u662f\u8fd9\u4e00\u8282\u7684\u6838\u5fc3\uff0c\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b Dockerfile \u7684\u5185\u5bb9\uff1a <pre><code>FROM python:3.8-alpine3.17\n\nWORKDIR /\nCOPY rootfs ./\n\nARG version\nARG pypi=https://pypi.tuna.tsinghua.edu.cn/simple\nARG wheel\nENV PORT=7878\n\nRUN pip config set global.index-url ${pypi} \\\n    &amp;&amp; pip install ${wheel}\n\nEXPOSE $PORT\nENTRYPOINT [\"/root/entrypoint.sh\"]\n</code></pre> \u6784\u5efa\u4efb\u4f55\u955c\u50cf\u65f6\uff0c\u6211\u4eec\u90fd\u662f\u4ece\u4e00\u4e2a\u57fa\u7840\u7684\u955c\u50cf\u5f00\u59cb\u3002\u8fd9\u4e2a\u57fa\u7840\u955c\u50cf\u53ef\u4ee5\u662f\u50cf Linux Alpine \u6216\u8005 Ubuntu \u8fd9\u6837\u7684\u64cd\u4f5c\u7cfb\u7edf\u955c\u50cf\uff0c\u4e5f\u53ef\u4ee5\u662f\u6784\u5efa\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u7684\u5e94\u7528\u955c\u50cf\uff0c\u6bd4\u5982\u793a\u4f8b\u4e2d\u7684 python:3.8-alphine3.17 \u5c31\u662f\u4e00\u4e2a\u6784\u5efa\u5728 Alpine \u64cd\u4f5c\u7cfb\u7edf\u4e4b\u4e0a\u7684 Python \u5e94\u7528\u955c\u50cf\u3002\u955c\u50cf\u7684\u6807\u8bc6\u7b26\u4e00\u822c\u662f\"\u5f00\u53d1\u8005/\u955c\u50cf\u540d\uff1a\u7248\u672c\"\u7684\u5f62\u5f0f\u3002\u8fd9\u91cc\u5192\u53f7\u4e4b\u540e\u7684\u5b57\u7b26\u4e32\u662f\u6807\u7b7e\uff0c\u4e00\u822c\u662f\u5176\u7248\u672c\u53f7\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u7248\u672c\uff0c\u90a3\u4e48\u9ed8\u8ba4\u662f latest\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u5f00\u53d1\u8005\uff0c\u610f\u5473\u7740\u8fd9\u662f\u4e00\u4e2a\u6765\u81ea\u4e8e\u5b98\u65b9\u7684\u955c\u50cf\uff0c\u6216\u8005\u662f\u6211\u4eec\u81ea\u5df1\u6784\u5efa\u7684\u672c\u5730\u955c\u50cf\u3002</p> <p>\u955c\u50cf\u7684\u5206\u53d1\u662f\u4e00\u4e2a\u4e8c\u7ea7\u67b6\u6784\u3002\u5982\u679c\u5728\u672c\u5730\u4e0d\u5b58\u5728 python:3.8-alpine3.17 \u8fd9\u4e2a\u955c\u50cf\uff0cdocker \u5c31\u4f1a\u53bb Docker Hub<sup>12</sup> \u4e0a\u67e5\u627e\u3002Docker Hub\uff0c\u7c7b\u4f3c\u4e8e PyPI\uff0c\u662f\u4e00\u4e2a\u516c\u5171\u7684\u955c\u50cf\u4ed3\u5e93\uff0c\u5b83\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u955c\u50cf\u4f9b\u6211\u4eec\u4f7f\u7528\u3002\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b Docker Hub \u4e0a\u7684 python:3.8-alpine3.17 \u8fd9\u4e2a\u955c\u50cf\uff0c\u5b83\u7a76\u7adf\u662f\u4ec0\u4e48\u3002\u5728 Docker Hub \u4e0a\uff0c\u6211\u4eec\u8981\u901a\u8fc7\u955c\u50cf\u540d\uff08\u5373\u4e0d\u5e26\u7248\u672c\u6807\u7b7e\uff09\u6765\u641c\u7d22\u3002\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u955c\u50cf\u88ab\u4e0b\u8f7d\u8d85\u8fc7 10 \u4ebf\u6b21\u3002\u8fd9\u4e0d\u4ec5\u8bf4\u660e Python \u7684\u4f7f\u7528\u6709\u591a\u4e48\u5e7f\u6cdb\uff0c\u4e5f\u8bf4\u660e\u4e86 Python \u5728\u540e\u53f0\u670d\u52a1\u5f00\u53d1\u4e0a\u6709\u591a\u91cd\u8981\u3002</p> <p>\u70b9\u51fb\u4e0a\u56fe\u4e2d\u7684\u94fe\u63a5\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u5165\u8be6\u60c5\u9875\uff0c\u627e\u5230 3.8-alpine3.17 \u8fd9\u4e2a\u6807\u7b7e\uff0c\u70b9\u51fb\u8fdb\u53bb\uff0c\u6211\u4eec\u4f1a\u8df3\u8f6c\u5230 Github \u4e0a\uff0c\u67e5\u770b\u5176 Dockerfile \u7684\u5185\u5bb9\uff1a</p> <p></p> <p>Alpine \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684 Linux \u53d1\u884c\u7248\uff0c\u57fa\u4e8e Alpine \u6784\u5efa\u7684\u955c\u50cf\uff0c\u5176\u5927\u5c0f\u53ea\u6709 5M \u5de6\u53f3\uff0c\u56e0\u6b64\u5e38\u5e38\u662f\u6784\u5efa\u5fae\u670d\u52a1\u7684\u9996\u9009\u3002\u6211\u4eec\u7684\u955c\u50cf\uff0c\u6700\u7ec8\u4e5f\u662f\u4f7f\u7528\u7684\u8fd9\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u3002</p> <p>\u7136\u540e\u6211\u4eec\u6307\u5b9a\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u4e3a\u6839\u76ee\u5f55\uff0c\u5e76\u5c06 rootfs \u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u62f7\u8d1d\u5230\u5bb9\u5668\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u63a5\u7740\uff0c\u5b83\u5b89\u88c5\u4e86 sample \u9879\u76ee\u7684 wheel \u5305\u3002\u6700\u540e\uff0c\u5b83\u8bbe\u7f6e\u4e86\u5bb9\u5668\u7684\u5165\u53e3\u70b9\u4e3a/root/entrypoint.sh\u3002</p> <p>\u6211\u4eec\u7528<code>ARG</code>\u6765\u4f20\u9012 docker \u7f16\u8bd1\u671f\u53d8\u91cf\u3002\u8fd9\u91cc\u7684 version \u548c wheel \u662f\u4e24\u4e2a\u7f16\u8bd1\u5668\u53d8\u91cf\uff0c\u5b83\u4eec\u662f\u7531 build.sh \u901a\u8fc7<code>--arg $version</code>\u4f20\u9012\u8fdb\u6765\u7684\u3002<code>EXPOSE</code>\u547d\u4ee4\u662f\u5c06\u7aef\u53e3\u66b4\u9732\u51fa\u6765\u3002\u6211\u4eec\u5728<code>entrypoint.sh</code>\u4e2d\u542f\u52a8\u4e86\u4e00\u4e2a\u76d1\u542c\u5728$PORT \u4e0a\u7684 HTTP \u670d\u52a1\uff0c\u6211\u4eec\u5fc5\u987b\u628a\u8fd9\u4e2a\u7aef\u53e3\u66b4\u9732\u7ed9\u4e3b\u673a\uff0c\u4ee5\u4fbf\u6211\u4eec\u53ef\u4ee5\u4ece\u4e3b\u673a\u4e0a\u8bbf\u95ee\u8fd9\u91cc\u7684\u670d\u52a1\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u770b\u770b<code>entrypoint.sh</code>\u7684\u5185\u5bb9\uff1a <pre><code>#!/BIN/SH\n\npython3 -m http.server -d /root/sample $PORT\n</code></pre></p> <p>\u7531\u4e8e\u8fd9\u53ea\u662f\u4e2a\u6f14\u793a\u6027\u7684\u7a0b\u5e8f\uff0c\u6211\u4eec\u5728\u8fd9\u91cc\u5c31\u6ca1\u6709\u7528\u5230 sample \u7684\u4efb\u4f55\u529f\u80fd\uff0c\u800c\u662f\u7b80\u5355\u5730\u901a\u8fc7 python \u5185\u7f6e<code>http</code>\u6a21\u5757\u6765\u542f\u52a8\u4e86\u4e00\u4e2a web \u670d\u52a1\u3002\u60a8\u53ea\u9700\u8981\u77e5\u9053\uff0c\u5982\u679c\u60a8\u60f3\u4f7f\u7528 sample \u7684\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u5728\u8fd9\u91cc\u8c03\u7528\u5b83\u7684\u547d\u4ee4\u5373\u53ef\u3002\u8fd9\u4e0e\u6211\u4eec\u5728\u522b\u7684\u5730\u65b9\u8c03\u7528\u5b83\u6ca1\u6709\u4efb\u4f55\u4e0d\u540c\u3002</p> <p>\u5f53\u6211\u4eec\u5728\u672c\u5730\u6d4b\u8bd5\u901a\u8fc7\u540e\uff0c\u5c31\u53ef\u4ee5\u5728 Docker Hub \u4e0a\u6ce8\u518c\u8d26\u53f7\uff0c\u5c06\u6211\u4eec\u7684\u955c\u50cf\u53d1\u5e03\u4e0a\u53bb\uff0c\u4f9b\u5176\u5b83\u4eba\u4e0b\u8f7d\uff0c\u8fd9\u6837\u5c31\u5b8c\u6210\u4e86\u57fa\u4e8e\u5bb9\u5668\u7684\u5e94\u7528\u53d1\u5e03\u3002\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2a\u79c1\u6709\u4e91\u7684\u955c\u50cf\u4ed3\u5e93\uff0c\u5c06\u955c\u50cf\u53d1\u5e03\u5230\u79c1\u6709\u4e91\u4e0a\uff0c\u4f9b\u5185\u90e8\u90e8\u7f72\u4f7f\u7528\u3002</p> <p>\u5728\u8fd9\u4e2a\u793a\u4f8b\u4e2d\uff0c\u6700\u7ec8\u6211\u4eec\u6784\u5efa\u7684\u955c\u50cf\u6587\u4ef6\u53ea\u6709 66MB \u5de6\u53f3\u3002\u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e docker \u6587\u4ef6\u7cfb\u7edf\u7684\u5206\u5c42\u8bbe\u8ba1\uff0c\u5982\u679c\u5176\u4ed6\u4eba\u4ece Docker Hub \u4e0a\u4e0b\u8f7d\u6211\u4eec\u7684\u955c\u50cf\uff0c\u4ed6\u4eec\u5b9e\u9645\u4e0a\u8981\u4e0b\u8f7d\u7684\u6570\u636e\u91cf\u4f1a\u66f4\u5c0f\u3002</p> <p>\u8fd9\u5c31\u662f\u6784\u5efa\u57fa\u4e8e\u5bb9\u5668\u7684\u670d\u52a1\u7684\u5168\u90e8\u8fc7\u7a0b\uff0c\u662f\u4e0d\u662f\u51fa\u4eba\u610f\u6599\u5730\u7b80\u5355\u548c\u53ef\u9760\uff1f\u5728\u672c\u4e66\u4e2d\uff0c\u6211\u4eec\u7528\u4e86\u975e\u5e38\u591a\u7684\u7bc7\u5e45\u6765\u8bb2\u5982\u4f55\u8fdb\u884c\u9694\u79bb\uff0c\u8fd9\u91cc\u63d0\u4f9b\u4e86\u53c8\u4e00\u79cd\u65b9\u5f0f\uff0c\u5b83\u751a\u81f3\u6bd4\u4e4b\u524d\u6240\u6709\u7684\u65b9\u5f0f\u90fd\u66f4\u52a0\u7b80\u5355\u548c\u53ef\u9760\u3002\u8fd0\u884c\u5728\u5bb9\u5668\u4e2d\u7684\u670d\u52a1\uff0c\u72ec\u5360\u4e86\u6587\u4ef6\u7cfb\u7edf\u548c\u8ba1\u7b97\u8d44\u6e90\uff0c\u65e0\u8bba\u662f\u4e0e\u5bbf\u4e3b\u673a\u3001\u8fd8\u662f\u4e0e\u8fd0\u884c\u5728\u540c\u4e00\u5bbf\u4e3b\u673a\u4e0a\u7684\u5176\u5b83\u5bb9\u5668\u90fd\u4e92\u4e0d\u5e72\u6270\u3002\u800c\u4e14\uff0c\u6211\u4eec\u53ef\u4ee5\u65e0\u9650\u6b21\u5730\u4ece\u540c\u4e00\u955c\u50cf\uff0c\u751f\u6210\u76f8\u540c\u7684\u5bb9\u5668\u3002\u53ef\u590d\u73b0\u7684\u90e8\u7f72\u7ec8\u4e8e\u5f97\u5230\u5b8c\u7f8e\u7684\u5b9e\u73b0\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u8fd0\u884c\u793a\u4f8b\u4e2d\u7684 build.sh\u3002\u5b83\u5c06\u4e3a\u6211\u4eec\u6784\u5efa\u955c\u50cf\uff0c\u5e76\u542f\u52a8\u8be5\u955c\u50cf\u7684\u4e00\u4e2a\u5bb9\u5668\u3002</p> <p>\u6211\u4eec\u5728 build.sh \u4e2d\uff0c\u6307\u5b9a\u4e86\u5bb9\u5668\u7684\u7aef\u53e3\u4e3a 7878\u3002\u73b0\u5728\uff0c\u5bb9\u5668\u5df2\u7ecf\u542f\u52a8\uff0c\u670d\u52a1\u4e5f\u6b63\u5728\u8fd0\u884c\uff0c\u8ba9\u6211\u4eec\u8bbf\u95ee\u5b83\u5427\u3002\u6211\u4eec\u5728\u6d4f\u89c8\u5668\u5730\u5740\u680f\u4e2d\u8f93\u5165 http://ip-to-host:7878/\uff08\u9700\u8981\u5c06 ip-to-host \u66ff\u6362\u4e3a\u4f60\u5b9e\u9645\u90e8\u7f72\u8fd0\u884c\u793a\u4f8b\u5bb9\u5668\u7684\u673a\u5668 ip\uff09\uff0c\u6211\u4eec\u5c06\u770b\u5230\u4ee5\u4e0b\u754c\u9762\uff1a</p> <p></p> <p>\u6211\u4eec\u5728\u7b2c\u4e00\u7ae0\u91cc\u770b\u5230\u8fc7\u8fd9\u5f20\u56fe\u3002</p> <p>\u5c31\u8ba9\u6211\u4eec\u4ece\u8fd9\u91cc\u5f00\u59cb\uff0c\u4e5f\u5728\u8fd9\u91cc\u7ed3\u675f\u3002\u73b0\u5728\uff0c\u662f\u4f60\u5f00\u59cb\u81ea\u5df1\u7684\u706b\u661f\u63a2\u7d22\u4e4b\u65c5\u7684\u65f6\u523b\u4e86\u3002</p> <ol> <li> <p>\u5728 Python \u5b98\u65b9\u6587\u6863(https://packaging.python.org/en/latest/overview/#packaging-python-applications) \u4e2d\uff0c\u8fd8\u63d0\u5230\u4e86\u5176\u5b83\u51e0\u79cd\u6253\u5305\u3002\u00a0\u21a9</p> </li> <li> <p>Makeself \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://makeself.io/\u00a0\u21a9\u21a9\u21a9\u21a9</p> </li> <li> <p>PyInstaller \u7684\u5b98\u7f51\u662f\uff1ahttps://pyinstaller.org\u00a0\u21a9</p> </li> <li> <p>Inno Setup \u7684\u5b98\u7f51\u662f\uff1ahttps://jrsoftware.org/isinfo.php\u00a0\u21a9\u21a9</p> </li> <li> <p>Briefcase \u7684\u5b98\u7f51\u662f\uff1ahttps://briefcase.readthedocs.io/\u00a0\u21a9</p> </li> <li> <p>Py2exe \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://www.py2exe.org/\u00a0\u21a9</p> </li> <li> <p>Py2app \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://py2app.readthedocs.io/\u00a0\u21a9</p> </li> <li> <p>Nuitka \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://nuitka.net/\u00a0\u21a9</p> </li> <li> <p>WiX \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://wixtoolset.org/\u00a0\u21a9</p> </li> <li> <p>Kivy \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://kivy.org\u00a0\u21a9</p> </li> <li> <p>BeeWare \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://beeware.org/\u00a0\u21a9</p> </li> <li> <p>Docker Hub \u7684\u5b98\u7f51\u5730\u5740\u662f\uff1ahttps://hub.docker.com\u00a0\u21a9</p> </li> </ol>"},{"location":"articles/python/visualize/dash/","title":"Dash: \u6838\u5fc3\u6982\u5ff5\u3001\u8def\u7531\u3001Auth \u4e0e Pitfall","text":"<p>Dash \u662f\u4e00\u4e2a\u901a\u8fc7 python \u8bed\u8a00\u6765\u5f00\u53d1 web \u754c\u9762\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u5c06\u524d\u7aef\u7f16\u8bd1\u6210 html/js/css \u5e76\u8fd0\u884c\u7684\u6846\u67b6\u3002\u5b83\u4f7f\u5f97Python\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u6210\u4e3a\u5168\u6808\u5f00\u53d1\u5de5\u7a0b\u5e08\u3002\u5176\u4e3b\u8981\u7279\u70b9\u662f\uff1a</p> <ol> <li> <p>\u5b8c\u5168\u4f7f\u7528 Python \u6765\u5f00\u53d1\uff0c\u65e0\u8bba\u662f\u754c\u9762\u5143\u7d20\u8fd8\u662f\u670d\u52a1\u7aef\u903b\u8f91\u3002Dash \u4e0d\u4ec5\u8d1f\u8d23\u5c06 python \u7f16\u5199\u7684\u754c\u9762\u5143\u7d20\u8f6c\u5316\u4e3a html/js/css\uff0c\u800c\u4e14\u8d1f\u8d23\u524d\u7aef\u4e0e\u540e\u7aef\u7684\u4ea4\u4e92\u3002\u56e0\u6b64\uff0c\u7a0b\u5e8f\u5458\u53ef\u4ee5\u5b8c\u5168\u5728 python \u8bed\u8a00\u6846\u67b6\u5185\u5b8c\u6210\u5168\u90e8\u5de5\u4f5c\u3002</p> </li> <li> <p>Dash \u5185\u7f6e flask \u670d\u52a1\u5668\uff0c\u56e0\u6b64 flask \u7684\u8bf8\u591a\u8fd0\u884c\u673a\u5236\u4e5f\u4e00\u6837\u9002\u7528\uff0c\u6bd4\u5982\u53ef\u4ee5\u5982\u4e0b\u83b7\u53d6 cookie:</p> </li> </ol> <pre><code>import flask\n\nflask.request.cookies.get(\"your cookie name\")\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u53ef\u4ee5\u5728\u5168\u5c40\u4f7f\u7528\uff0c\u4e5f\u53ef\u4ee5 callback \u65b9\u6cd5\u4e2d\u4f7f\u7528\uff08\u8fd9\u91cc\u7684 callback \u7279\u6307 Dash \u7684 app.callback\uff09\u3002</p> <ol> <li>\u4e0e plotly \u65e0\u7f1d\u96c6\u6210\uff0c\u5177\u6709\u8f83\u5f3a\u7684\u53ef\u89c6\u5316\u80fd\u529b\u3002\u5c24\u4e3a\u53ef\u8d35\u7684\u662f\uff0c\u53ef\u89c6\u5316\u662f web \u4ea4\u4e92\u5f0f\u7684\uff0c\u4f46\u53c8\u5b8c\u5168\u662f\u901a\u8fc7 Python \u6765\u7f16\u7a0b\u7684\uff08\u6ce8\u610f javascript \u63d0\u4f9b\u4e86\u4ea4\u4e92\u80fd\u529b\uff0c\u800c python \u662f\u4e0d\u53ef\u80fd\u7684\uff09\u3002</li> </ol> <p>\u8fd9\u4e00\u7bc7\u6587\u7ae0\u662f\u6211\u4eec\u5728\u6df1\u5165\u4f53\u9a8c\u8fc7Dash\u4e4b\u540e\uff0c\u5c31\u5b83\u7684\u6838\u5fc3\u6982\u5ff5\u3001\u8def\u7531\u3001Auth\u7b49\u7b49\u8fdb\u884c\u7684\u68b3\u7406\uff0c\u8fd8\u4ecb\u7ecd\u4e86\u4e00\u4e9b\u5e38\u89c1\u7684pitfall\u3002</p> <p>\u6211\u662f\u91cf\u5316\u98ce\u4e91\uff0c\u91cf\u5316\u4ece\u4e1a\u8005\uff0c\u6709\u591a\u5e74\u91cf\u5316\u6846\u67b6\u548c\u7b56\u7565\u7684\u7814\u53d1\u7ecf\u9a8c\u3002\u6b22\u8fce\u5173\u6ce8\uff01\u5982\u679c\u9700\u8981\u672c\u5730\u5316\u90e8\u7f72\u91cf\u5316\u6295\u7814\u6846\u67b6\uff0c\u53ef\u4ee5\u4f7f\u7528 Zillionare 2.0\u3002\u5b83\u57fa\u4e8eInfluxdb\u6784\u5efa\uff0c\u76ee\u524d\u5728\u751f\u4ea7\u73af\u5883\u4e0b\u5df2\u5b58\u50a8\u8d85\u8fc735\u4ebf\u6761\u6d77\u91cf\u884c\u60c5\u6570\u636e\u3002</p>"},{"location":"articles/python/visualize/dash/#1","title":"1. \u6838\u5fc3\u6982\u5ff5","text":"<p>\u5728\u4e00\u822c\u7684 web \u7f16\u7a0b\u4e2d\uff0c\u6211\u4eec\u901a\u5e38\u8981\u4e3a\u89c6\u56fe\u51c6\u5907\u4e24\u4e2a handler\uff0c\u4e00\u4e2a\u54cd\u5e94 GET \u8bf7\u6c42\uff0c\u63d0\u4f9b\u521d\u59cb\u5316\u7684\u754c\u9762\uff0c\u4f9b\u7528\u6237\u64cd\u4f5c\uff1b\u53e6\u4e00\u4e2a\u54cd\u5e94 POST \u8bf7\u6c42\uff0c\u63a5\u6536\u7528\u6237\u63d0\u4ea4\u7684\u6570\u636e\uff0c\u8fdb\u884c\u5904\u7406\u540e\uff0c\u518d\u91cd\u5b9a\u5411\u5230\u65b0\u7684\u89c6\u56fe\u3002</p> <p>\u5728 Dash \u4e2d\uff0c\u4e0a\u8ff0\u4ea4\u4e92\u5bf9\u7528\u6237\u662f\u4e0d\u53ef\u89c1\u7684\u3002\u6211\u4eec\u51c6\u5907\u4e00\u4e2a\u89c6\u56fe\uff0c\u901a\u8fc7 callback \u6765\u5904\u7406\u7528\u6237\u7684\u8f93\u5165\u3002\u5f53\u7528\u6237\u5728\u524d\u7aef\u8fdb\u884c\u8f93\u5165\u65f6\uff0cdash \u81ea\u52a8\u5c06\u8fd9\u4e9b\u6d88\u606f (click \u4e8b\u4ef6\u6216\u8005\u503c\u53d8\u66f4\uff09\u53ca\u65f6\u4f20\u9012\u7ed9\u540e\u7aef\uff0c\u5e94\u7528\u5728\u5219 callback \u4e2d\u5f97\u5230\u8fd9\u4e9b\u8f93\u5165\u503c\uff0c\u5b8c\u6210\u6821\u9a8c\uff0c\u5c06\u7ed3\u679c\u66f4\u65b0\u5230\u540c\u4e00\u4e2a\u89c6\u56fe\u4e2d\u7684\u67d0\u4e9b\u63a7\u4ef6\u4e0a\uff0c\u6216\u8005\u8f93\u51fa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe\uff08\u5982\u679c\u6307\u5b9a\u7684 Output \u4e2d\u7ed1\u5b9a\u4e86\u67d0\u4e2a html \u63a7\u4ef6\u7684 children \u5c5e\u6027\u7684\u8bdd\uff09\u3002</p> <pre><code>layout = dbc.Container(\n    [\n        html.Br(),\n        dbc.Container(\n            [\n                dcc.Location(id=\"urlLogin\", pathname=\"/login\", refresh=True),\n                html.Div(\n                    [\n                        dbc.Container(\n                            html.Img(\n                                src=\"/assets/dash-logo-stripe.svg\", className=\"center\"\n                            ),\n                        ),\n                        dbc.Container(\n                            id=\"loginType\",\n                            children=[\n                                dcc.Input(\n                                    placeholder=\"Enter your username\",\n                                    type=\"text\",\n                                    id=\"usernameBox\",\n                                    className=\"form-control\",\n                                    n_submit=0,\n                                ),\n                                html.Br(),\n                                dcc.Input(\n                                    placeholder=\"Enter your password\",\n                                    type=\"password\",\n                                    id=\"passwordBox\",\n                                    className=\"form-control\",\n                                    n_submit=0,\n                                ),\n                                html.Br(),\n                                html.Button(\n                                    children=\"Login\",\n                                    n_clicks=0,\n                                    type=\"submit\",\n                                    id=\"loginButton\",\n                                    className=\"btn btn-primary btn-lg\",\n                                ),\n                                html.Br(),\n                            ],\n                            className=\"form-group\",\n                        ),\n                    ]\n                ),\n            ],\n            className=\"jumbotron\",\n        ),\n    ]\n)\n\n################################################################################\n# LOGIN BUTTON CLICKED / ENTER PRESSED - REDIRECT TO PAGE1 IF LOGIN DETAILS ARE CORRECT\n################################################################################\n@callback(\n    Output(\"urlLogin\", \"pathname\"),\n    Input(\"loginButton\", \"n_clicks\"),\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n    suppress_callback_exceptions=True,\n)\ndef on_login(n_clicks, username, password):\n    if n_clicks == 0:\n        print(\"first loaded\")\n    else:\n        print(\"login button clicked with:\", username, password)\n        response = dash.callback_context.response\n        if login_user(response, username, password):\n            # JUMP TO INDEX PAGE\n            return \"/\"\n\n@callback(\n    Output(\"usernameBox\", \"className\"),\n    [\n        Input(\"loginButton\", \"n_clicks\"),\n        Input(\"usernameBox\", \"n_submit\"),\n        Input(\"passwordBox\", \"n_submit\"),\n    ],\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n)\ndef update_output(n_clicks, usernameSubmit, passwordSubmit, username, password):\n    print(\"update_output by usernameBox\")\n    if (n_clicks &gt; 0) or (usernameSubmit &gt; 0) or (passwordSubmit &gt; 0):\n        if get_current_user() is None:\n            response = dash.callback_context.response\n            if login_user(response, username, password):\n                return \"form-control\"\n            else:\n                return \"form-control is-invalid\"\n        else:\n            return \"form-control is-invalid\"\n    else:\n        return \"form-control\"\n\n################################################################################\n# LOGIN BUTTON CLICKED / ENTER PRESSED - RETURN RED BOXES IF LOGIN DETAILS INCORRECT\n################################################################################\n@callback(\n    Output(\"passwordBox\", \"className\"),\n    [\n        Input(\"loginButton\", \"n_clicks\"),\n        Input(\"usernameBox\", \"n_submit\"),\n        Input(\"passwordBox\", \"n_submit\"),\n    ],\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n)\ndef update_output(n_clicks, usernameSubmit, passwordSubmit, username, password):\n    print(\"in update_output: passwordBox\")\n    if (n_clicks &gt; 0) or (usernameSubmit &gt; 0) or (passwordSubmit) &gt; 0:\n        if get_current_user() is None:\n            response = dash.callback_context.response\n\n            if login_user(response, username, password):\n                return \"form-control\"\n            else:\n                return \"form-control is-invalid\"\n        else:\n            return \"form-control is-invalid\"\n    else:\n        return \"form-control\"\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u5b9a\u4e49\u4e86\u4e00\u4e2a\u89c6\u56fe\u3002\u6709\u51e0\u70b9\u9700\u8981\u6ce8\u610f\uff1a</p> <ol> <li> <p>\u8fd9\u4e2a\u89c6\u56fe\u4e2d\uff0c\u5b58\u5728\u4e00\u4e2a dcc.Location \u5bf9\u8c61\u3002\u5728\u89c6\u56fe\u4e2d\u53ea\u8981\u5b58\u5728\u8fd9\u4e2a\u5bf9\u8c61\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7 callback \u6765\u6539\u53d8\u5176 url \u5c5e\u6027\uff0c\u4ece\u800c\u5f15\u8d77\u91cd\u65b0\u52a0\u8f7d\uff08\u91cd\u65b0\u52a0\u8f7d\u65e2\u53ef\u80fd\u662f\u539f\u89c6\u56fe\uff0c\u4e5f\u53ef\u80fd\u662f\u65b0\u7684\u9875\u9762\uff09</p> </li> <li> <p>\u7b2c\u4e00\u4e2a callback \u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u63a5\u6536\u6765\u81ea usernameBox \u548c passwordBox \u4e2d\u7684\u503c\uff0c\u5224\u65ad\u7528\u6237\u80fd\u5426\u767b\u5f55\u3002\u5982\u679c\u5141\u8bb8\u767b\u5f55\uff0c\u6211\u4eec\u5c31\u4fee\u6539\u4e0a\u8ff0 dcc.Location \u5bf9\u8c61\u7684\u8def\u5f84\u4e3a\"/\"\uff0c\u5728\u67d0\u4e2a\u5730\u65b9\uff0c\u6211\u4eec\u5c06\u8fd9\u4e2a\u8def\u5f84\u6307\u5411\u5e94\u7528\u7a0b\u5e8f\u7684\u7f3a\u7701\u663e\u793a\u9875\uff08\u5373 homepage\uff09\u3002\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7\u5c06\u4e0a\u8ff0\u4e24\u4e2a\u63a7\u4ef6\uff08\u4ee5\u53ca loginButton\uff09\u4f5c\u4e3a\u8f93\u5165\uff0c\u5c06 urlLogin \u63a7\u4ef6\uff08\u5373 dcc.Location\uff09\u4f5c\u4e3a\u8f93\u51fa\u7ed1\u5b9a\u5728\u4e00\u8d77\uff0c\u5e76\u4e14\u5728\u6210\u529f\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd4\u56de\u8def\u5f84\"/\"\u6765\u5b9e\u73b0\u7684\u3002</p> </li> <li> <p>\u5176\u5b83\u4e24\u4e2a\u65b9\u6cd5\u5206\u522b\u5904\u7406\u4e0a\u8ff0\u8f93\u5165\u63a7\u4ef6\u6fc0\u53d1\u6570\u636e\u53d8\u5316\uff0c\u4f46\u9a8c\u8bc1\u4e0d\u80fd\u901a\u8fc7\u7684\u60c5\u51b5\u4e0b\uff0c\u5411\u7528\u6237\u63d0\u793a\u54ea\u4e2a\u63a7\u4ef6\u7684\u8f93\u5165\u6709\u9519\u8bef\u3002\u8fd9\u65f6\u6211\u4eec\u4e0d\u4fee\u6539 urlLogin \u63a7\u4ef6\u7684 pathname \u503c\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u4ecd\u7136\u505c\u7559\u5728\u672c\u9875\u9762\u3002</p> </li> </ol>"},{"location":"articles/python/visualize/dash/#2","title":"2. \u8def\u7531","text":"<p>\u4e00\u822c\u800c\u8a00\uff0cDash \u5e94\u7528\u7a0b\u5e8f\u6ca1\u6709\u8def\u7531\u3002\u4f46\u662f\uff0c\u53ea\u8981\u662f\u6784\u5efa\u5927\u578b\u5e94\u7528\u7a0b\u5e8f\uff0c\u90fd\u4e0d\u53ef\u907f\u514d\u5730\u6d89\u53ca\u8def\u7531\u95ee\u9898\uff1a\u5728\u4f20\u7edf c/s \u7a0b\u5e8f\u4e2d\uff0c\u529f\u80fd\u90fd\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u4e2a page\uff08\u6bcf\u4e2a page \u5bf9\u5e94\u4e00\u4e2a url\uff09\uff0c\u670d\u52a1\u7aef\u901a\u8fc7\u54cd\u5e94\u6d4f\u89c8\u5668\u63d0\u4ea4\u7684\u8def\u5f84\uff0c\u6839\u636e\u8def\u7531\u914d\u7f6e\u6765\u751f\u6210\u54cd\u5e94\u9875\u9762\u3002</p> <p>\u5728\u5927\u578b SPA \u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u5373\u4f7f server \u7aef\u53ea\u5904\u7406\u5c11\u6570\u51e0\u4e2a\u8def\u7531\uff0c\u6211\u4eec\u4e5f\u5f80\u5f80\u5728\u524d\u7aef\u751f\u6210\u8def\u7531\u8868\u6765\u5207\u6362\u89c6\u56fe\uff0c\u4ee5\u4fdd\u6301\u4ee3\u7801\u7684\u7b80\u6d01\u53ef\u8bfb\uff08\u53e6\u4e00\u4e2a\u539f\u56e0\u662f\u53ef\u4ee5\u5b9e\u73b0\u5206\u6b65\u52a0\u8f7d\uff0c\u63d0\u9ad8\u521d\u6b21\u54cd\u5e94\u901f\u5ea6\uff09\u3002</p> <p>\u5f88\u663e\u7136\uff0c\u8981\u6784\u5efa\u590d\u6742\u7684 Dash \u5e94\u7528\uff0c\u6211\u4eec\u4e5f\u5fc5\u987b\u4f7f\u7528\u8def\u7531\u3002Dash \u76ee\u524d\u6ca1\u6709\u63d0\u4f9b\u524d\u7aef\u8def\u7531\u673a\u5236\uff0c\u76f8\u53cd\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u591a\u9875\u5e94\u7528\u7684\u65b9\u5f0f\u3002\u5176\u6838\u5fc3\u662f\uff0c\u5982\u679c\u5f53\u524d\u89c6\u56fe\u5904\u7406\u5b8c\u6210\u4e86\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u6539\u53d8\u9875\u9762\u4e2d\u7684 Location \u63a7\u4ef6\u7684 pathname \u5c5e\u6027\uff08\u5f53\u7136\u662f\u901a\u8fc7 callback \u673a\u5236\uff0c\u89c1\u4e0a\u4e00\u8282\uff09\uff0c\u4ece\u800c\u5f15\u8d77\u91cd\u5b9a\u5411\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u8def\u7531\u5b9e\u73b0\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u6309\u7167 Dash \u7684\u60ef\u4f8b\uff0c\u5b9a\u4e49\u4e00\u4e2a layout:</p> <pre><code># ROUTING.PY\n\nlayout = html.Div(\n    [\n        dcc.Location(id=\"router\", refresh=False),\n        html.Div(id=\"page-content\")\n    ],\n    id=\"rootElement\",\n)\n</code></pre> <p>\u8fd9\u4e2a layout \u975e\u5e38\u7b80\u5355\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u6253\u7b97\u7528\u5b83\u6765\u5c55\u793a\u4efb\u4f55\u4e1c\u897f\uff0c\u53ea\u662f\u7b80\u5355\u5730\u7528\u6765\u505a\u8def\u7531\u8f6c\u53d1\u3002\u4e3a\u4e86\u505a\u5230\u8fd9\u4e00\u70b9\uff0c \u6211\u4eec\u9700\u8981\u63d0\u4f9b\u4fee\u6539 ur \u8fd9\u4e2a Location \u63a7\u4ef6\u7684 pathname \u5c5e\u6027\uff08\u5047\u8bbe\u6240\u6709\u7684\u8df3\u8f6c\u90fd\u5728\u672c\u670d\u52a1\u4ee5\u5185\uff09\u7684\u673a\u5236\uff0c\u8fd9\u662f\u901a\u8fc7\u5c06\u8fd9\u4e2a\u63a7\u4ef6\u4f5c\u4e3a Output\uff0cLocation \u63a7\u4ef6\u4f5c\u4e3a\u8f93\u5165\u8fdb\u884c\u7ed1\u5b9a\u6765\u5b9e\u73b0\u7684\uff1a</p> <pre><code># ROUTING.PY\n\n@callback(Output(\"page-content\", \"children\"), \n          [Input(\"router\", \"pathname\")])\ndef _routing(pathname):\n    # ENSURE AUTH\n    if not auth.get_current_user():\n        return auth.layout\n\n    handler = routes.get(pathname, None)\n    if handler is None:\n        return homepage.layout\n\n    return handler()\n</code></pre> <p>\u8fd9\u91cc\u7684 Location \u63a7\u4ef6\u6bd4\u8f83\u7279\u6b8a\uff0c\u5b83\u5e76\u4e0d\u4f1a\u51fa\u73b0\u5728\u9875\u9762\u5143\u7d20\u4e2d\u3002\u4f3c\u4e4e\u4e00\u4e2a\u9875\u9762\u4e5f\u5141\u8bb8\u591a\u4e2a Location \u63a7\u4ef6\uff0c\u4f46\u90fd\u5c06\u66f4\u65b0\u5f53\u524d\u7a97\u53e3\u7684\u5730\u5740\u3002</p> <p>\u4e0a\u8ff0 callback \u7684\u673a\u5236\u662f\uff0c\u5f53\u68c0\u6d4b\u5230\u5f53\u524d\u7a97\u53e3\u7684 pathname\uff08dash \u7528\u8bed\uff0c\u6307 http://host:port/server_path\uff1fquery_string \u4e2d\u7684 server_path\uff09\u53d1\u751f\u6539\u53d8\u540e\uff0c\u5c06\u4f1a\u89e6\u53d1\u8fd9\u4e2a callback \u8fd0\u884c\uff0c\u5e76\u4e14\u51fd\u6570\u5f97\u5230\u65b0\u7684 pathname\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u68c0\u6d4b\u7528\u6237\u662f\u5426\u5df2\u767b\u5f55\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5219\u8fd4\u56de\u767b\u5f55\u9875\u9762\uff08auth.layout\uff09\uff0c\u5426\u5219\uff0c\u8c03\u7528\u8def\u5f84\u5bf9\u5e94\u7684\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\uff0c\u4e00\u822c\u5730\uff0c\u6211\u4eec\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u9875\u9762\u89c6\u56fe\uff0c\u800c dash \u5219\u5c06\u8fd9\u4e2a\u65b0\u7684\u89c6\u56fe\u88c5\u8f7d\u5230\u4e0a\u8ff0\"page-content\"\u4e2d\u3002page-content \u4e2d\u539f\u6765\u7684\u5143\u7d20\u5219\u88ab\u6e05\u9664\uff08\u8fd9\u91cc\u53ef\u80fd\u5f15\u8d77\u5185\u5b58\u95ee\u9898\uff09\u3002</p> <p>\u8fd9\u91cc\u5e76\u6ca1\u6709\u770b\u5230\u4efb\u4f55\u5b9e\u9645\u7684\u8def\u7531\u548c\u8def\u7531\u5904\u7406\u51fd\u6570\u3002\u6240\u6709\u7684\u8def\u7531\uff0c\u90fd\u6536\u96c6\u5728 routing.py \u4e2d\u7684 routes \u96c6\u5408\u4e2d\uff0c\u5e76\u4e14\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u88c5\u9970\u5668\u6765\u8ba9\u7ec4\u4ef6\u81ea\u5df1\u6ce8\u518c\u8def\u7531\uff1a</p> <pre><code># ROUTING.PY\n\nroutes = {}\n\ndef on(pathname: str):\n    \"\"\"\n    dispatch function.\n    \"\"\"\n    def decorator(func):\n        global routes\n\n        routes[pathname] = func\n        return func\n    return decorator\n</code></pre> <p>auth \u89c6\u56fe\u7a0d\u5fae\u590d\u6742\u4e00\u4e9b\uff0c\u4e0e\u8def\u7531\u76f8\u5173\u7684\u90e8\u5206\u662f\uff1a</p> <pre><code>layout = dbc.Container(\n    [\n        html.Br(),\n        dbc.Container(\n            [\n                dcc.Location(id=\"urlLogin\", pathname=\"/login\", refresh=True),\n              ...\n\n# CALLBACK\n@callback(\n    Output(\"urlLogin\", \"pathname\"),\n    Input(\"loginButton\", \"n_clicks\"),\n    [State(\"usernameBox\", \"value\"), State(\"passwordBox\", \"value\")],\n    suppress_callback_exceptions=True,\n)\ndef on_login(n_clicks, username, password):\n    if n_clicks == 0:\n       ...\n</code></pre> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0cloginButton \u7684\u70b9\u51fb\u3001\u6216\u8005 usernameBox\u3001passwordBox \u7684\u503c\u53d8\u5316\u90fd\u4f1a\u5f15\u8d77\u8fd9\u4e2a callback \u88ab\u8c03\u7528\uff0c\u5e76\u4e14\u5f53\u5b83\u88ab\u8c03\u7528\u65f6\uff0c\u6211\u4eec\u5df2\u7ecf\u62ff\u5230\u4e86\u7528\u6237\u8f93\u5165\u7684 username \u548c password\uff08\u6309\u58f0\u660e\u987a\u5e8f\u7ed1\u5b9a\u5230 Input, State \u5bf9\u8c61\u4e0a\uff09\u3002\u6211\u4eec\u73b0\u5728\u8981\u505a\u7684\u5c31\u662f\uff0c\u68c0\u67e5 username \u548c password \u662f\u5426\u6709\u6548\uff0c\u5982\u679c\u6709\u6548\uff0c\u5219\u8ba9\u7528\u6237\u767b\u5f55\uff0c\u751f\u6210 session\uff0c\u6700\u7ec8\u8fd4\u56de\u4e00\u4e2a\u8def\u5f84\uff08str\uff09\uff0cdash \u4f1a\u5c06\u8fd9\u4e2a\u8def\u5f84\u66f4\u65b0\u5230 Location \u63a7\u4ef6\uff0c\u6700\u7ec8\u5bfc\u81f4 dash \u5411\u540e\u53f0\u8bf7\u6c42\u65b0\u7684\u9875\u9762\u3002 \u6ce8\u518c\u8def\u7531</p> <p>\u5728 auth \u6a21\u5757\u7684 controller.py \u4e2d\uff0c\u6211\u4eec\u6ce8\u518c\u4e24\u4e2a\u8def\u7531\uff1a</p> <pre><code>from .models import get_current_user, remove_current_user\nfrom .view import layout\nfrom alpha.web import routing\n\n@routing.on('/logout')\ndef logout():\n    if  get_current_user():\n        remove_current_user()\n\n    return layout\n\n@routing.on('/login')\ndef login():\n    return layout\n</code></pre> <p>\u5f53\u4e0a\u8ff0 controller.py \u88ab\u5bfc\u5165\u65f6\uff0c\u6ce8\u518c\u5c06\u81ea\u52a8\u5b8c\u6210\u3002\u4f46\u6211\u4eec\u9700\u8981\u6709\u65b9\u6cd5\u6765\u4fdd\u8bc1\u8fd9\u4e2a\u6ce8\u518c\u4e00\u5b9a\u4f1a\u5728\u7a0b\u5e8f\u5f00\u59cb\u524d\u5c31\u5b8c\u6210\u3002\u56e0\u6b64 routing \u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a build_blueprints() \u7684\u65b9\u6cd5\uff1a</p> <pre><code>def build_blueprints():\n    \"\"\"\n    collect all routes by import controller from web/*/controller.py\n    \"\"\"\n    _dir = os.path.dirname(os.path.abspath(__file__))\n    package_prefix = \"alpha.web.\"\n    for pyfile in glob.glob(f\"{_dir}/**/controller.py\"):\n        sub = pyfile.replace(f\"{_dir}/\", \"\").replace(\".py\", \"\").replace(\"/\", \".\")\n        module_name = package_prefix + sub\n        importlib.import_module(module_name)\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u8981\u6c42\uff0c\u6240\u6709\u7684\u9875\u9762\u6a21\u5757\u90fd\u653e\u5728 alpha.web \u76ee\u5f55\u4e0b\uff0c\u5e76\u4e14\u4e8b\u4ef6\u54cd\u5e94\u90fd\u5728 controller.py \u4e2d\u3002\u5982\u679c\u4f60\u7684\u4ee3\u7801\u6709\u5176\u5b83\u7684\u7ec4\u7ec7\u65b9\u5f0f\uff0c\u9700\u8981\u5bf9\u6b64\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u6211\u4eec\u518d\u6765\u770b\u53e6\u4e00\u4e2a\u89c6\u56fe\uff0c\u5373\u6839\u89c6\u56fe\u3002\u5f53\u7528\u6237\u767b\u5f55\u540e\uff0c\u5c31\u4f1a\u8fdb\u5165\u5230\u8fd9\u4e2a\u89c6\u56fe\u3002\u8fd9\u4e2a\u89c6\u56fe\u4f4d\u7f6e\u5728 alpha.web.homepage \u4e0b\uff0c\u5b83\u7684 view \u7279\u522b\u7b80\u5355\uff1a</p> <pre><code>from dash import html, dcc, callback, Input, Output\nfrom alpha.web import auth\n\nlayout = html.Div(\n    [\n        dcc.Location(id=\"homepage\", refresh=False)\n        html.H1(\"logout\"),\n        dcc.Link(\"Logout\", href=\"/logout\"),\n    ], id=\"rootElement\"\n)\n</code></pre> <p>\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u94fe\u63a5\uff0c\u5f53\u7528\u6237\u70b9\u51fb\u540e\uff0c\u5c31\u4f1a\u8df3\u8f6c\u5230/logout \u8fd9\u4e2a\u8def\u5f84\u4e0a\uff08\u8fd9\u662f Dash \u4e2d\u6539\u53d8\u89c6\u56fe\u7684\u53e6\u4e00\u4e2a\u65b9\u6cd5\uff09\u3002\u7136\u540e routing \u6a21\u5757\u68c0\u6d4b\u5230\u65b0\u7684 pathname\uff0c\u4e8e\u662f\u89e6\u53d1 callback\uff0c\u627e\u5230/logout \u7684\u5904\u7406\u51fd\u6570\uff0c\u9000\u51fa\u5f53\u524d\u7528\u6237\uff0c\u5e76\u8df3\u8f6c\u5230\u767b\u5f55\u9875\u9762\u3002\u56e0\u6b64\uff0c\u8fd9\u91cc\u7684 Location \u7ec4\u4ef6\u5e76\u6ca1\u6709\u8d77\u4f5c\u7528\uff0c\u6211\u4eec\u58f0\u660e\u8fd9\u6837\u4e00\u4e2a\u7ec4\u4ef6\uff0c\u53ea\u662f\u4e3a\u4e86\u5c06\u6765\u4e4b\u7528\u3002</p>"},{"location":"articles/python/visualize/dash/#3-gotcha","title":"3. Gotcha","text":"<p>routing.py \u80fd\u591f\u63d0\u4f9b\u8def\u7531\u7684\u5173\u952e\u539f\u56e0\u662f\uff0crootElement \u662f\u540e\u9762\u6240\u6709\u89c6\u56fe\u7684\u7236\u7ed3\u70b9\uff0c\u53ea\u8981\u8fd9\u4e2a\u8282\u70b9\u5b58\u5728\uff0c\u8def\u7531\u673a\u5236\u5c31\u6709\u6548\u3002</p> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u5373\u4f7f\u5207\u6362\u5230\u4e86 logout \u89c6\u56fe\uff0c\u8fd9\u4e2a rootElement \u4ecd\u7136\u5b58\u5728\u3002\u56e0\u6b64\uff0c\u5728 routing \u4e2d\uff0c\u6211\u4eec\u5fc5\u987b\u5c06\u65b0\u7684\u89c6\u56fe\u66f4\u65b0\u5230\u201cpage-content\"\u8282\u70b9\u4e0b\uff0c\u800c\u4e0d\u662f rootElement \u4e2d\u3002\u5426\u5219\uff0c\u6211\u4eec\u5c06\u6467\u6bc1\u8fd9\u4e2a\u603b\u8def\u7531\u3002</p>"},{"location":"articles/python/visualize/how-to-scale/","title":"\u91cf\u5316\u7b56\u7565\u4e2d\u5982\u4f55\u8fdb\u884c\u7f29\u653e\u548c\u5f52\u4e00\u5316","text":"<p>\u7f29\u653e\u548c\u5f52\u4e00\u5316\u662f\u673a\u5668\u5b66\u4e60\u4e2d\u5fc5\u7136\u9047\u5230\u7684\u4e00\u4e2a\u95ee\u9898\u3002\u5728\u91cf\u5316\u7b56\u7565\u4e2d\uff0c\u4e0d\u7ba1\u662f\u5426\u7528\u5230\u673a\u5668\u5b66\u4e60\uff0c\u6211\u4eec\u4e5f\u5e38\u5e38\u9047\u5230\u7c7b\u4f3c\u95ee\u9898\u3002</p> <p>\u5728\u300a\u5927\u5bcc\u7fc1\u91cf\u5316\u91d1\u878d\u5b9e\u6218\u8bfe\u300b\u7b2c12\u8bfe\u4e2d\uff0c\u5bf9\u8fd9\u4e2a\u95ee\u9898\u8fdb\u884c\u4e86\u8f83\u6df1\u5165\u7684\u8ba8\u8bba\u3002\u8fd9\u7bc7\u6587\u7ae0\u65e2\u662f\u5bf9\u8be5\u8bfe\u5185\u5bb9\u7684\u4e00\u4e2a\u6458\u8981\uff0c\u4e5f\u662f\u52a0\u5165\u4e86\u4e00\u4e9b\u65b0\u7684\u601d\u8003\uff0c\u53ef\u4ee5\u72ec\u7acb\u6210\u7bc7\u3002</p> <p>\u4ece\u6570\u5b66\u4e0a\u770b\uff0c\u7f29\u653e\uff08\u5f52\u4e00\u5316\uff09\u662f\u4ece\u4e00\u4e2a\u503c\u57df\u6620\u5c04\u5230\u53e6\u4e00\u4e2a\u503c\u57df\u7684\u8fc7\u7a0b\u3002\u8fd9\u79cd\u6620\u5c04\uff0c\u6709\u7684\u662f\u7ebf\u6027\u7684\uff08\u6bd4\u5982min-max scale\uff09\uff0c\u6709\u65f6\u5019\u5219\u9700\u8981\u975e\u7ebf\u6027\u6620\u5c04\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5e38\u5e38\u9700\u8981\u5c06\u4e00\u4e2a\\((-\\infin, +\\infin)\\)\u7684\u533a\u95f4\u6620\u5c04\u5230\\((-1, 1)\\)\u6216\u8005\\((0, 1)\\)\u4e0a\u3002</p> <p>\u4ece\u91cf\u5316\u4ea4\u6613\u7684\u89d2\u5ea6\u770b\uff0cWR\u6307\u6807\uff08William's R)\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684min-max scale\uff0c\u5b83\u7684\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ WR = \\frac{max(high) - close}{max(high) - min(low)} \\] <p>Attention</p> <p>\u5728\u91cf\u5316\u4ea4\u6613\u4e2d\u4f7f\u7528min-max scale\u4e00\u5b9a\u8981\u975e\u5e38\u5c0f\u5fc3\u3002 \u5b83\u4e3b\u8981\u5b58\u5728\u4e24\u4e2a\u95ee\u9898\u3002 \u5176\u4e00\u662f\u5b83\u5f15\u5165\u4e86\u672a\u6765\u6570\u636e\uff08\u4f46\u4e0d\u662f\u5728\u6240\u6709\u60c5\u51b5\u4e0b\u90fd\u4f1a\u5f15\u5165\u672a\u6765\u6570\u636e\uff0c\u6bd4\u5982William's R\u5728\u5b9e\u65f6\u8ba1\u7b97\u65f6\uff0c\u662f\u4e0d\u5b58\u5728\u672a\u6765\u6570\u636e\u7684\uff1b\u4f46\u5728\u56de\u6d4b\u4e2d\u662f\u5426\u5f15\u5165\u672a\u6765\u6570\u636e\uff0c\u5c31\u8981\u770b\u4f60\u600e\u4e48\u7528\u4e86\u3002 \u5176\u4e8c\u662f\uff0c\u4f7f\u7528\u7ecf\u8fc7min-max scale\u5904\u7406\u7684\u6570\u636e\u6765\u8fdb\u884c\u9884\u6d4b\uff0c\u9884\u6d4b\u503c\u4e00\u5b9a\u5728[min, max]\u533a\u95f4\u5185\u3002\u4f46\u662f\uff0c\u80a1\u4ef7\u4e0d\u5b58\u5728\u786e\u5b9a\u7684min/max\u3002\u5982\u679c\u6211\u4eec\u6839\u636e\u5f53\u4e0b\u7ecf\u8fc7min-max scale\u5904\u7406\u540e\u7684\u6570\u636e\u6765\u9884\u6d4b\u672a\u6765\u7684\u80a1\u4ef7\uff0c\u9884\u6d4b\u51fa\u6765\u7684\u80a1\u4ef7\u662f\u4e0d\u53ef\u80fd\u7a81\u7834\u5f53\u4e0b\u89c1\u5230\u7684\u6700\u5927\u503c\u7684\uff0c\u800c\u5b9e\u9645\u4e0a\uff0c\u80a1\u4ef7\u662f\u53ef\u4ee5\u6da8\u4e0a\u5929\u7684\u3002 \u4e0e\u4e4b\u5bf9\u6bd4\uff0c\u5728\u9e22\u5c3e\u82b1\u6570\u636e\u96c6\u4e2d\uff0c\u6211\u4eec\u5bf9\u82b1\u74e3\u7684\u957f\u5ea6\u548c\u5bbd\u5ea6\u90fd\u53ef\u4ee5\u8fdb\u884cmin-max scale\uff0c\u56e0\u4e3a\u6211\u4eec\u7684\u91c7\u6837\u57fa\u672c\u4e0a\u80fd\u591f\u4ee3\u8868\u603b\u4f53\uff0c\u672a\u6765\u4e5f\u57fa\u672c\u4e0a\u4e0d\u4f1a\u51fa\u73b0\u660e\u663e\u8d85\u51fa\u91c7\u6837\u4e2d\u7684min/max\u7684\u3002</p> <p>\u66f4\u591a\u7684\u65f6\u5019\uff0c\u5728\u91cf\u5316\u4e2d\u6211\u4eec\u9700\u8981\u8fdb\u884c\u975e\u7ebf\u6027\u6620\u5c04\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u66fe\u7ecf\u4ecb\u7ecd\u8fc7\uff0c\u5730\u91cf\u662f\u4e00\u79cd\u6bd4\u8f83\u91cd\u8981\u7684\u4ea4\u6613\u4fe1\u53f7\u3002\u5730\u91cf\u89c1\u5730\u4ef7\u3002\u4ec0\u4e48\u662f\u5730\u91cf\uff1f\u6211\u4eec\u53ef\u4ee5\u7528\u5f53\u524d\u6210\u4ea4\u91cf\u662f\u591a\u5c11\u4e2a\u5468\u671f\u4ee5\u6765\u7684\u6700\u4f4e\u503c\u6765\u5ea6\u91cf\u3002\u8fd9\u4e2a\u6570\u503c\u6700\u5c0f\u4e3a1\uff0c\u6700\u5927\u53ef\u4ee5\u662f10\u5929\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u6708\uff0c\u4e00\u5e74\u6216\u8005\u66f4\u957f\uff0c\u56e0\u6b64\uff0c\u5b83\u7684\u53d6\u503c\u8303\u56f4\u4ece\u6570\u5b66\u4e0a\u770b\u662f\\([1, +\\infin]\\)\u3002</p> <p>\u5728\u7b2c13\u8bfe\uff0c\u6211\u4eec\u4ecb\u7ecd\u5706\u5f27\u5e95\u7684\u8bc4\u4ef7\u51fd\u6570\u65f6\uff0c\u4e5f\u8bb2\u5230\u8fc7\u5706\u5f27\u5e95\u7684\u5bbd\u5ea6\u533a\u95f4\u53ef\u80fd\u5728\\([3, +\\infin)\\)\u4e4b\u95f4\u3002</p> <p>\u5bf9\u8fd9\u79cd\u503c\u57df\u8303\u56f4\u4e0d\u786e\u5b9a\u7684\uff0c\u6211\u4eec\u4e00\u822c\u53ef\u4ee5\u7528S\u578b\u51fd\u6570\u6765\u8fdb\u884c\u53d8\u6362\u3002\u8fd9\u4e9b\u51fd\u6570\u5305\u62ec\uff1a</p> \\[ f(x) = sigmoid(x) = \\frac{1}{1 + e^{-x}} \\tag 1 \\] \\[ f(x) = tanh(x) = \\frac{e^x - e^{-x}}{e^x + e^{-x}} \\tag 2 \\] \\[ f(x) = \\frac{x}{1+|x|}  \\tag 3 \\] \\[ f(x) = \\frac{x}{sqrt(1 + x^2)} \\tag 4 \\] <p>\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6211\u4eec\u7684\u91c7\u6837\u6570\u636e\u5b58\u5728\u5468\u671f\u6027\u7279\u70b9\uff0c\u800c\u4e14\u6211\u4eec\u5e0c\u671b\u5728\u53d8\u6362\u540e\uff0c\u4fdd\u7559\u5b83\u4eec\u5728\u5468\u671f\u4e0a\u7684\u5173\u8054\u6027\uff0c\u4e5f\u53ef\u4ee5\u7528\\(sin\\)\u548c\\(cos\\)\u51fd\u6570\u3002\u8fd9\u79cd\u5f52\u4e00\u5316\u65b9\u6cd5\uff0c\u5728\u8457\u540d\u7684\u300aattention is all you need\u300b\u4e00\u6587\u4e2d\u5c31\u4f7f\u7528\u8fc7\uff08\u5bf9token\u7684\u4f4d\u7f6e\u8fdb\u884c\u7f16\u7801\uff09\uff1a</p> <p></p> <p>\u8003\u8651\u5230\u80a1\u4ef7\u6ce2\u52a8\u7684\u5468\u671f\u6027\uff0c\u4e5f\u8bb8\u7c7b\u4f3c\u7684\u65b9\u6cd5\u4e5f\u5e94\u8be5\u5728\u91cf\u5316\u4e2d\u627e\u5230\u8fd0\u7528\u3002</p> <p>\u4f46\u662f\uff0c\u4f7f\u7528sigmoid\u51fd\u6570\u6765\u8fdb\u884c\u5f52\u4e00\u5316\u4e5f\u5b58\u5728\u4e00\u4e9b\u95ee\u9898\u3002\u6bd4\u5982\u5728\u5730\u91cf\u90a3\u4e2a\u4f8b\u5b50\u4e2d\uff0c13\u4e2a\u5468\u671f\u4ee5\u6765\u7684\u5730\u91cf\uff0c\u4e0e120\u5929\u4ee5\u6765\u7684\u5730\u91cf\u76f8\u6bd4\uff0c\u663e\u7136\u4e24\u8005\u5177\u6709\u5b8c\u5168\u4e0d\u540c\u7684\u4fe1\u53f7\u542b\u4e49\uff1a\u4e00\u652f\u4e2a\u80a1\u5f88\u5bb9\u6613\u51fa\u73b013\u4e2a\u5468\u671f\u4ee5\u5185\u7684\u5730\u91cf\uff0c\u800c\u5f88\u96be\u51fa\u73b0120\u4e2a\u5468\u671f\u4ee5\u5185\u7684\u5730\u91cf\u3002\u4e00\u65e6\u51fa\u73b0\uff0c\u5f88\u5bb9\u6613\u51fa\u73b0\u4e00\u5b9a\u5e45\u5ea6\u7684\u53cd\u5f39\u3002</p> <p>\u7136\u800c\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u5176\u8fdb\u884csigmoid\u5f52\u4e00\u5316\u7684\u8bdd\uff0c\u5b83\u4eec\u7684\u53d6\u503c\u5c06\u4f1a\u662f\u4e00\u6837\u7684\uff1a</p> <p><pre><code>def sigmoid(x):\n    return 1/(1 + np.exp(-x))\n\nprint(\"sigmoid(12) == sigmoid(13)?\", np.isclose(sigmoid(12), sigmoid(13)))\n</code></pre> \u4ece\u4e0a\u4f8b\u53ef\u4ee5\u770b\u51fa\uff0c\u5b9e\u9645\u4e0a\uff0c\u5f53\\(x &gt; 12\\)\u65f6\uff0c\u5728\u8ba1\u7b97\u4e2d\u6211\u4eec\u5c31\u5df2\u7ecf\u65e0\u6cd5\u533a\u5206\u51fd\u6570\u503c\u4e4b\u95f4\u7684\u5dee\u5f02\u4e86\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u4f7f\u7528\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u8981\u5bf9sigmoid\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u4f7f\u4e4b\u5728\u67d0\u4e2a\u533a\u95f4\u5185\uff0c\u5177\u6709\u8f83\u9ad8\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u516c\u5f0f\u5982\u4e0b\uff1a</p> \\[ f(x) = \\frac{2}{1+e^{-\\frac{ln(40000)}{b}.(x-b)+ln(0.005)}} - 1 \\] <p>\u6b64\u65f6\u56fe\u5f62\u4e3b\u8981\u7531\u53c2\u6570b\u51b3\u5b9a\u3002\u5f53b\u4e3a15\u65f6\uff0c\u56fe\u5f62\u5982\u4e0b\uff1a</p> <p></p> <p>\u8be5\u5206\u5e03\u533a\u95f4\u4e3a[-1, 1]\uff0cx\u53d6\u503c\u5728[0,b]\u4e4b\u95f4\u65f6\u5206\u5e03\u5bc6\u5ea6\u8f83\u9ad8\u3002</p> <p>\u5728\u975e\u673a\u5668\u5b66\u4e60\u578b\u7684\u91cf\u5316\u6253\u5206\u7b56\u7565\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u503e\u5411\u4e8e\u51fd\u6570\u503c\u57df\u843d\u5728[0,1]\u4e4b\u95f4\uff08\u60f3\u60f3\u770b\uff0cRSI\u548cWR\u90fd\u5728\u8fd9\u4e2a\u533a\u95f4\u5185\uff0c\u800c\u4e0d\u662f[-1,1]\uff09\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u5bf9\u4e0a\u8ff0\u516c\u5f0f\u7565\u52a0\u4fee\u6539\uff0c\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a</p> <pre><code>import matplotlib.pyplot as plt\n\ndef scaled_sigmoid(x, start, end):\n    \"\"\"\u5f53`x`\u843d\u5728`[start,end]`\u533a\u95f4\u65f6\uff0c\u51fd\u6570\u503c\u4e3a[0,1]\u4e14\u5728\u8be5\u533a\u95f4\u6709\u8f83\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\n    \"\"\"\n    n = np.abs(start - end)\n\n    score = 2/(1 + np.exp(-np.log(40_000)*(x - start - n)/n + np.log(5e-3)))\n    return score/2\n\n\nfig, (ax1, ax2, ax3,ax4) = plt.subplots(nrows = 1, ncols = 4, figsize=(12,3))\n\nx = np.linspace(0, 1)\nax1.plot(x, [scaled_sigmoid(i, x[0], x[-1]) for i in x])\nax1.set_title(\"fit (0,1)\")\n\nx = np.linspace(0, 100)\nax2.plot(x, [scaled_sigmoid(i, x[0], x[-1]) for i in x])\nax2.set_title(\"fit (0, 100)\")\n\nx = np.linspace(18, 38)\nax3.plot(x, [scaled_sigmoid(i, x[0], x[-1]) for i in x])\nax3.set_title(\"fit (18, 38)\")\n\nx = np.linspace(0, 100)\nax4.plot(x, [sigmoid(i) for i in x])\nax4.set_title(\"fit (0,100) with original\")\n</code></pre> <p></p> <p>\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u4e0e\u539f\u6765\u7684sigmoid\u76f8\u6bd4\uff0c\u65b0\u7684scaled_sigmoid\u51fd\u6570\u5728[start, end]\u533a\u95f4\u6709\u5f88\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\uff0c\u6b64\u533a\u57df\u5185\u7684\u5206\u5e03\u5bc6\u5ea6\u6700\u9ad8\u3002</p>"},{"location":"articles/python/visualize/matplotlib-1/","title":"matplotlib\u7684\u5e03\u5c40\u95ee\u9898\uff081\uff09","text":"<p>\u8fd9\u4e00\u7bc7\u7b14\u8bb0\uff0c\u6211\u4eec\u6765\u4ecb\u7ecdmatplotlib\u4e2d\u7684\u5e03\u5c40\u6982\u5ff5\u3002</p> <p>matplotlib\u4e2d\u7684\u5e03\u5c40\uff0c\u4e3b\u8981\u6d89\u53ca\u5230GridSpec, layout\u4ee5\u53ca\u76f8\u5173\u7684\u51fd\u6570\u6784\u6210\u3002</p> <p>\u5728matplotlib\u4e2d\uff0c\u9664\u4e86\u50cf\u6211\u4eec\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u6307\u51fa\u7684\u90a3\u6837\uff0c\u76f4\u63a5\u901a\u8fc7<code>fig.add_axes</code>\u65b9\u6cd5\u8fdb\u884c\u5b50\u56fe\u7684\u5b9a\u4f4d\u5916\uff0c\u4e00\u822c\u91c7\u7528\u7f51\u683c\u5b9a\u4f4d\u3002\u5373\u901a\u8fc7subplots\u4e2d\u7684nrows/ncols\u65b9\u6cd5\u6307\u5b9a\u6709\u591a\u5c11\u4e2a\u7b49\u957f\uff08\u5bbd\uff09\u7684\u7f51\u683c\uff0c\u6216\u8005\u901a\u8fc7gridspec\u6307\u5b9a\u7f51\u683c\u7684\u89c4\u683c\u3002</p> <p>\u6307\u5b9a\u7b49\u957f\u7f51\u683c\u7684\u6bd4\u8f83\u7b80\u5355\uff0c\u6211\u4eec\u770b\u770b\u5982\u4f55\u901a\u8fc7gridspec\u6765\u521b\u5efa\u66f4\u590d\u6742\u4e00\u4e9b\u7684\u7f51\u683c\uff1a</p> <p><pre><code>import matplotlib.pyplot as plt\nfrom matplotlib.gridspec import GridSpec\n\ndef annotate_axes(fig):\n    for i, ax in enumerate(fig.axes):\n        ax.text(0.5, 0.5, \"ax%d\" % (i+1), va=\"center\", ha=\"center\")\n        ax.tick_params(labelbottom=False, labelleft=False)\n\n\nfig = plt.figure(facecolor='0.8')\n\nfig.suptitle(\"Controlling spacing around and between subplots\")\n\ngs1 = GridSpec(3, 3, left=0.3, right=0.48, wspace=0.05)\nax1 = fig.add_subplot(gs1[:-1, :])\nax2 = fig.add_subplot(gs1[-1, :-1])\nax3 = fig.add_subplot(gs1[-1, -1])\n\ngs2 = GridSpec(3, 3, left=0.55, right=0.98, hspace=0.05)\nprint(\"gs2 is:\", gs2[:, :-1])\n\nax4 = fig.add_subplot(gs2[:, :-1])\nax5 = fig.add_subplot(gs2[:-1, -1])\nax6 = fig.add_subplot(gs2[-1, -1])\n\nannotate_axes(fig)\n\ndef show_grid(gs, pos):\n    # Get the grid positions\n    bottoms, tops, lefts, rights = gs.get_grid_positions(plt.gcf())\n\n    ax = plt.axes([0,0,1,1], facecolor=(1,1,1,0))\n\n    vlines = sorted([*lefts, *rights])\n    for x in vlines:\n        ax.axvline(x, ls='-', lw=1, ymin=min(bottoms), ymax=max(tops))\n\n    hlines = sorted([*bottoms, *tops])\n    for y in hlines:\n        ax.axhline(y, ls='-', lw=1, xmin=min(lefts), xmax=max(rights))\n\nshow_grid(gs1, [0.3, 0, 0.48, 1])\nshow_grid(gs2, [0.55,0, 0.98, 1])\n\nplt.show()\n</code></pre> \u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5148\u901a\u8fc7GridSpec\u521b\u5efa\u4e86\u4e24\u4e2a3*3\u7684\u7f51\u683c\uff0c\u4e00\u5de6\u4e00\u53f3\uff0c\u7136\u540e\u901a\u8fc7add_subplot\u521b\u5efa\u4e866\u4e2a\u5b50\u56fe\uff0c\u5728\u521b\u5efa\u65f6\uff0c\u5c06gridspec\u4f20\u5165\u3002</p> <p>\u5728\u521b\u5efa\u5b50\u56fe\uff0c\u6211\u4eec\u901a\u8fc7\u7ed9\u5b50\u56fe\u7ed1\u5b9a\u5230\u4e0d\u540c\u7684\u7f51\u683c\uff0c\u5b9e\u73b0\u4e86\u7c7b\u4f3cexcel\u4e2d\u7684\u5355\u5143\u683c\u5408\u5e76\u7684\u6548\u679c\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u5f02\u5f62\u7f51\u683c\u3002</p> <p>)</p> <p>\u8fd9\u6bb5\u4ee3\u7801\u5c55\u793a\u4e86\u975e\u5e38\u591a\u7684\u7ed8\u56fe\u6280\u5de7\uff0c\u503c\u5f97\u597d\u597d\u7814\u7a76\u3002</p> <p>\u9996\u5148\uff0c\u6bcf\u4e2aGridspec\u53ef\u4ee5\u6307\u5b9a\u5b83\u4eec\u5728Figure\u4e2d\u7684\u4f4d\u7f6e\u548c\u5927\u5c0f\u3002\u6bd4\u5982\uff0c\u8fd9\u91cc\u7684gs1\u5c31\u662f\u4ecex\u8f74\u76840.3\u52300.48\u5904\uff08\u5360\u636e\u4e86\u5168\u90e8\u9ad8\u5ea6\uff0c\u56e0\u4e3a\u6ca1\u6709\u6307\u5b9a\uff09\u3002</p> <p>\u5176\u6b21\uff0c\u6211\u4eec\u4e3a\u4e86\u663e\u793a\u6bcf\u4e2a\u7f51\u683c\uff08\u5373\u6bcf\u4e2a3*3\u7684\u5c0f\u683c\u5b50\uff09\u662f\u5982\u4f55\u5206\u914d\u5230\u6bcf\u4e2aax\u7684\uff0c\u6211\u4eec\u5c06\u8fd9\u4e9b\u683c\u5b50\u8fdb\u884c\u4e86\u63cf\u8fb9\u3002</p> <p>\u56e0\u6b64\uff0c\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c1~6\u7684\u5c0f\u7f51\u683c\u90fd\u5206\u914d\u7ed9\u4e86ax1\uff0c\u8fd9\u662f\u7531\u4ee3\u7801gs[:-1,:]\u6765\u6307\u5b9a\u7684\u3002gs[:-1,:]\u610f\u5473\u7740\u628a\u76f4\u5230\u6700\u540e\u4e00\u884c\uff08\u4e0d</p> <p>\u5305\u62ec\uff09\u7684\u6240\u6709\u5217\u5bf9\u5e94\u7684\u7f51\u683c\u90fd\u5206\u914d\u7ed9ax1,\u4e5f\u5c31\u662f\u524d6\u4e2a\u7f51\u683c\u3002\u5173\u4e8e\u5982\u4f55\u9605\u8bfb\u5207\u7247\uff0c\u5728\u6211\u4eec\u8bfe\u7a0b\u7b2c9\u8bb2\u4e2d\u6709\u8be6\u7ec6\u8bf4\u660e\uff0c\u5e76\u4e14\u7ed9\u51fa\u4e86\u7ed8\u56fe\u3002</p> <p>\u5bf9ax2\uff0c\u5206\u914d\u7684\u662fgs1[-1,:-1]\uff0c\u8fd9\u610f\u5473\u7740\u662f\u628a\u6700\u540e\u4e00\u884c\uff0c\u76f4\u5230\u6700\u540e\u4e00\u5217\u7684\u6240\u6709grid\u90fd\u5206\u914d\u7ed9\u5b83\uff0c\u8fd9\u5bf9\u5e94\u7740\u4e24\u4e2a\u5c0f\u7684\u5355\u5143\u683c\uff0c\u53737\u548c8\u53f7\u5355\u5143\u683c\u3002</p> <p>\u6700\u540e\uff0cax3\u5206\u5230\u6700\u540e\u7684\u5355\u5143\u683c\uff0cgs1[-1,-1]\u3002</p> <p>\u5bf9gs2\uff0c\u903b\u8f91\u7c7b\u4f3c\u3002ax4\u5f97\u5230\u4e86gs2[:,:-1]\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u884c\u7684\u524d\u4e24\u5217\u90fd\u5206\u914d\u7ed9\u4e86ax4\uff1bax5\u5219\u662f\u5f97\u5230\u4e86\u6700\u540e\u4e00\u5217\u7684\u524d\u4e24\u884c\uff1bax6\u5f97\u5230\u4e86gs2[-1,-1]\u3002</p> <p>\u6ce8\u610f\u8fd9\u91cc\u8fd8\u6709\u4e00\u4e2a\u6280\u5de7\uff0c\u5373\u5728\u7ed8\u5236\u7f51\u683c\u7ebf\u65f6\uff0c\u6211\u4eec\u662f\u901a\u8fc7\u65b0\u5efa\u7684ax\u6765\u8fdb\u884c\u7ed8\u5236\u7684\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u6211\u4eec\u7684\u7ed8\u5236\u5e94\u8be5\u53d1\u751f\u6210figure\u7ea7\u522b\u4e0a\uff08\u56e0\u4e3a\u8981\u8de8\u8d8a\u4e0d\u540c\u7684axes\uff09\uff0c\u4f46\u662f\uff0cfigure\u5e76\u6ca1\u6709\u76f8\u5e94\u7684\u7ed8\u5236\u76f4\u7ebf\u7684\u65b9\u6cd5\uff08figure\u6709\u54ea\u4e9b\u65b9\u6cd5\uff0c\u5728\u8bfe\u7a0b\u4e00\u5f00\u59cb\u6709\u4ecb\u7ecd\uff09\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u589e\u52a0\u4e00\u4e2a\u4e0eFigure\u540c\u7b49\u5927\u5c0f\u7684ax\uff1a <pre><code>ax = plt.axes([0,0,1,1], facecolor=(1,1,1,0))\n</code></pre> \u901a\u8fc7\u5b83\u6765\u7ed8\u5236\u8fd9\u4e9b\u7f51\u683c\u7ebf\u3002</p> <p>\u8fd9\u91cc\u4ecb\u7ecd\u7684\u65b9\u6cd5\u548c\u539f\u7406\u90fd\u662f\u6bd4\u8f83\u504f\u5e95\u5c42\u7684\uff0c\u5c5e\u4e8ematplotlib\u7684\u9ad8</p> <p>\u7ea7\u7ed8\u5236\u6280\u5de7\uff0c\u638c\u63e1\u4e86\u8fd9\u4e9b\u6280\u5de7\u548c\u539f\u7406\uff0c\u5c31\u7b97\u662f\u7cbe\u901a\u4e86matplotlib\u3002</p> <p>\u7ed8\u56fe\u4e0d\u4ec5\u4ec5\u662f\u521b\u9020\u7f8e\u4e3d\u7684\u53ef\u89c6\u5316\u6548\u679c\uff0c\u66f4\u662f\u4e3a\u4e86\u91ca\u653e\u6570\u636e\u7684\u5168\u90e8\u6f5c\u529b\uff0c\u5e76\u63ed\u793a\u539f\u672c\u9690\u85cf\u7684insights\uff0c\u5b83\u662f\u6570\u5b57\u8bed\u8a00\u548c\u6545\u4e8b\u8bed\u8a00\u4e4b\u95f4\u7684\u6865\u6881\uff0c\u4f7f\u5f97\u4e2a\u4eba\u548c\u7ec4\u7ec7\u80fd\u591f\u505a\u51fa\u660e\u667a\u7684\u51b3\u7b56\uff0c\u5e76\u521b\u9020\u6709\u610f\u4e49\u7684\u53d8\u9769</p> <p>\u672c\u7b14\u8bb0\u662f\u300aPython\u6570\u636e\u5206\u6790\u53ef\u89c6\u5316\u300b\u7684\u4e00\u90e8\u5206\u3002\u5168\u7cfb\u5217\u5c06\u50cf\u672c\u7b14\u8bb0\u4e00\u6837\uff0c\u901a\u8fc7\u8be6\u5c3d\u7684\u56fe\u793a\u3001\u53ef\u8fd0\u884c\u7684\u4ee3\u7801\uff0c\u6df1\u5165\u6d45\u51fa\u5730\u8bb2\u89e3Python\u4e2d\u7684\u7ed8\u56fe\u539f\u7406\u548c\u6280\u5de7\uff0c\u5305\u62ec\uff1a</p>"},{"location":"articles/python/visualize/matplotlib-1/#matplotlib","title":"matplotlib","text":"<p>\u4e3b\u8981\u4ecb\u7ecd\u7ed8\u56fe\u9886\u57df\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5305\u62ec\u56fe\u7684\u6784\u6210\u3001\u5e03\u5c40\u3001\u989c\u8272\u3001\u5750\u6807\u7b49\u57fa\u7840\u6982\u5ff5\u3002</p>"},{"location":"articles/python/visualize/matplotlib-1/#plotly","title":"plotly","text":"<p>plotly\u662f\u4e00\u4e2a\u9ad8\u7ea7\u7ed8\u56fe\u5de5\u5177\uff0c\u5b83\u53ef\u4ee5\u521b\u5efa\u4ea4\u4e92\u5f0f\u7ed8\u56fe\u751a\u81f3\u52a8\u753b\uff01\u8fd9\u4e00\u90e8\u5206\u6211\u4eec\u8fd8\u5c06\u4ecb\u7ecdDash\uff0c\u5b66\u4f1a\u540e\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4ec5\u4ec5\u901a\u8fc7Dash\uff0c\u5c31\u5b8c\u6210\u4e00\u4e2a\u80fd\u7ed8\u5236\u7cbe\u7f8e\u56fe\u5f62\uff0c\u5e76\u4e0e\u7528\u6237\u4ea4\u4e92\u7684\u7f51\u7ad9\u5e94\u7528\u3002</p> <p></p>"},{"location":"articles/python/visualize/matplotlib-1/#seaborn","title":"seaborn","text":"<p>seaborn\u662f\u57fa\u4e8ematplotlib\u7684\u9ad8\u7ea7\u7ed8\u56fe\u5e93\uff0c\u5b83\u5c4f\u853d\u4e86matplotlib\u4e2d\u7684\u5927\u90e8\u5206\u7ed8\u56fe\u7ec6\u8282\uff0c\u8ba9\u4f60\u805a\u7126\u4e8e\u63a2\u7d22\u6570\u636e\u4e4b\u95f4\u7684\u8054\u7cfb\u4e0e\u8bed\u4e49\uff01</p> <p></p>"},{"location":"articles/python/visualize/matplotlib-1/#pyecharts","title":"PyEcharts","text":"<p>\u8fd9\u662f\u56fd\u4eba\u8d21\u732e\u51fa\u6765\u7684\u4e00\u4e2aApache\u9876\u7ea7\u5e93\uff0c\u7c7b\u4f3c\u4e8eplotly\uff0c\u4e5f\u53ef\u4ee5\u751f\u6210\u4ea4\u4e92\u5f0f\u7ed8\u56fe\u3002</p>"},{"location":"articles/python/visualize/matplotlib-2/","title":"matplotlib\u7684\u5e03\u5c40\u95ee\u9898\uff082\uff09","text":"<p>\u4e0a\u4e00\u671f\u6587\u7ae0\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 GridSpect \u6765\u8fdb\u884c\u5e03\u5c40\u3002\u5f53\u6211\u4eec\u4f7f\u7528 GridSpec \u5e03\u5c40\u65f6\uff0c\u4e00\u822c\u662f\u4e3a\u4e86\u521b\u5efa\u8f83\u590d\u6742\u7684\u5e03\u5c40\uff0c\u6bd4\u5982\u5f02\u5f62\u7f51\u683c\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5f80\u5f80\u662f\u5148\u751f\u6210\u82e5\u5e72\u5c0f\u7684\u7f51\u683c\uff0c\u518d\u901a\u8fc7 span \u6765\u5408\u5e76\u7f51\u683c\uff0c\u4ee5\u751f\u6210\u5f02\u5f62\u7f51\u683c\u3002</p> <p>\u8fd9\u662f\u4e00\u79cd\u81ea\u5e95\u5411\u4e0a\u7684\u65b9\u6cd5\uff0c\u5373\u7531\u5c0f\u7684\u7f51\u683c\u751f\u6210\u5927\u7684\u7f51\u683c\u3002</p> <p>\u8fd9\u7bc7\u7b14\u8bb0\u6211\u4eec\u5c06\u4ecb\u7ecd\u53e6\u4e00\u79cd\u81ea\u9876\u5411\u4e0b\u7684\u65b9\u6cd5\uff0c\u5373\u5148\u751f\u6210\u5927\u7684\u7f51\u683c\uff0c\u518d\u901a\u8fc7 subgridspec\uff0c\u5728\u8fd9\u4e9b\u7f51\u683c\u4e2d\uff0c\u8fdb\u4e00\u6b65\u5207\u5206\u51fa\u5c0f\u7684\u7f51\u683c\u3002</p>"},{"location":"articles/python/visualize/matplotlib-2/#-subgridspec","title":"\u81ea\u9876\u5411\u4e0b - subgridspec","text":"<p><pre><code>import matplotlib.pyplot as plt\n\ndef my_text(name):\n    exec(\n        name\n        + \".text(0.5, 0.5, name, ha='center', \"\\\n        \"va='center', fontsize=16, color='darkgrey')\"\n    )\n\nfig = plt.figure(constrained_layout=True)\n\n# \u751f\u6210\u4e00\u884c\u4e24\u5217\u7684\u7b49\u9762\u79ef\u7f51\u683c\ngs = fig.add_gridspec(1, 2)\n\n# \u5c06\u7b2c\u4e00\u4e2a\u7f51\u683c\u518d\u5212\u5206\u6210 2 * 2 \u7684\u5355\u5143\u683c\ngs_left = gs[0].subgridspec(2, 2)\n\n# \u5c06\u7b2c\u4e8c\u4e2a\u7f51\u683c\u518d\u5212\u5206\u6210 3 * 1 \u7684\u5355\u5143\u683c\ngs_right = gs[1].subgridspec(3, 1)\n\nfor a in range(2):\n    for b in range(2):\n        exec(f\"ax{a}{b} = fig.add_subplot(gs_left[{a},{b}])\")\n        my_text(f\"ax{a}{b}\")\n\nfor a in range(3):\n    exec(f\"ax{a} = fig.add_subplot(gs_right[{a}])\")\n    my_text(f\"ax{a}\")\n\n# \u589e\u52a0 FIGURE-LEVEL \u7684\u6807\u9898\n_ = fig.suptitle(\"nested gridspecs\")\n</code></pre> \u8fd9\u79cd\u65b9\u6cd5\u8f83\u4e4b\u4e0a\u4e00\u7bc7\u4e2d\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u4f3c\u4e4e\u66f4\u4e3a\u4f18\u96c5\u548c\u7b26\u5408\u76f4\u89c9\u3002</p>"},{"location":"articles/python/visualize/matplotlib-2/#mosaic","title":"\u795e\u5947\u7684 Mosaic","text":"<p>\u5bf9\u4e8e\u5bc6\u96c6\u3001\u5747\u5300\u7684\u7f51\u683c\uff0c\u6211\u4eec\u6709 Figure.subplots\uff1b\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u5e03\u5c40\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Gridspec + \u5355\u5143\u683c\u5408\u5e76\uff0c\u6216\u8005\u672c\u7bc7\u8bb2\u7684 subgridspec \u65b9\u6cd5\u6765\u521b\u5efa\u7f51\u683c\u3002</p> <p>\u4f46\u662f\uff0c\u6211\u4eec\u4ecd\u7136\u8981\u8bb0\u4f4f\u6211\u4eec\u662f\u5982\u4f55\u5408\u5e76\u8fd9\u4e9b\u5355\u5143\u683c\u7684\uff0c\u4ee5\u53ca\u8bb0\u4f4f\u5408\u5e76\u540e\u7684\u5355\u5143\u683c (Axes \u5bf9\u8c61\uff09\u7684\u7d22\u5f15\u3002</p> <p>subplot_mosaic \u63d0\u4f9b\u4e86\u4e00\u4e2a\u76f4\u89c2\u5730\u3001\u8bed\u4e49\u5316\u5e03\u5c40\u548c\u547d\u540d Axes \u7684\u65b9\u6cd5\u3002\u8fd9\u79cd\u65b9\u6cd5\u4f5c\u4e3a Grid \u5e03\u5c40\u4e2d\u7684\u4e00\u79cd\uff0c\u6b63\u5728 R\uff0cWeb \u7b49\u591a\u4e2a\u5730\u65b9\u6d41\u884c\u3002</p> <p>subplot_mosaic \u51fd\u6570\u63d0\u4f9b\u4e86\u4e00\u79cd\u4f18\u96c5\u4e14\u53ef\u8bfb\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u590d\u6742\u7684\u5b50\u56fe\u6392\u5217\u3002\u6211\u4eec\u4e0d\u7528\u4ece\u6570\u5b57\u89d2\u5ea6\u8003\u8651\u5b50\u56fe\u7f51\u683c\uff0c\u800c\u662f\u6839\u636e\u5e03\u5c40\u6a21\u5f0f\u6765\u8003\u8651\u5b83\u4eec\u3002\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u8868\u793a\u4e3a\u5b57\u7b26\u4e32\u5217\u8868\u5217\u8868\u7684\u53ef\u89c6\u5316\u5e03\u5c40\uff0c\u5176\u4e2d\u6bcf\u4e2a\u5b57\u7b26\u4e32\u4ee3\u8868\u4e00\u4e2a\u5b50\u56fe\u3002\u6bcf\u4e2a\u552f\u4e00\u7684\u5b57\u7b26\u4e32\u5bf9\u5e94\u4e00\u4e2a\u552f\u4e00\u7684\u5b50\u56fe\uff0c\u800c\u5e03\u5c40\u4e2d\u91cd\u590d\u7684\u5b57\u7b26\u4e32\u5c06\u521b\u5efa\u8de8\u8d8a\u91cd\u590d\u4f4d\u7f6e\u7684\u66f4\u5927\u7684\u5b50\u56fe\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u4f8b\u5b50\u6765\u7406\u89e3\u5b83\uff1a</p> <pre><code>import numpy as np\n\n# \u7528\u6765\u6807\u8bc6\u5b50\u56fe\u5bf9\u8c61 (AXES)\ndef identify_axes(ax_dict, fontsize=48):\n    kw = dict(ha=\"center\", va=\"center\", fontsize=fontsize, color=\"darkgrey\")\n    for k, ax in ax_dict.items():\n        ax.text(0.5, 0.5, k, transform=ax.transAxes, **kw)\n\nfig = plt.figure(layout=\"constrained\")\nnp.random.seed(19680801)\nhist_data = np.random.randn(1_500)\nax_dict = fig.subplot_mosaic(\n    [\n        [\"bar\", \"plot\"],\n        [\"hist\", \"image\"],\n    ],\n)\nax_dict[\"bar\"].bar([\"a\", \"b\", \"c\"], [5, 7, 9])\nax_dict[\"plot\"].plot([1, 2, 3])\nax_dict[\"hist\"].hist(hist_data)\nax_dict[\"image\"].imshow([[1, 2], [2, 1]])\n\n# \u628a AXES \u540d\u5b57\u6807\u8bb0\u5728\u5b50\u56fe\u4e0a\nidentify_axes(ax_dict)\n</code></pre> <p>![50%]](https://images.jieyu.ai/images/2023/07/promo-pyvisual-matplot-2-1.png)</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u7684\u4f18\u7f8e\u4e4b\u5904\u5728\u4e8e\uff0c\u6211\u4eec\u5728\u521b\u5efa\u6bcf\u4e2a\u5b50\u56fe\u65f6\uff0c\u5c31\u7ed9\u4e86\u5b83\u4eec\u4e00\u4e2a\u540d\u5b57\uff0c\u540e\u9762\u7ed8\u56fe\uff08\u7b2c 12 \u5230\u7b2c 15 \u884c\uff09\u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u540d\u5b57\u6765\u5f15\u7528\u8fd9\u4e9b\u5b50\u56fe\u3002</p> <p>\u5728\u5b9a\u4e49\u7f51\u683c\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2a 22 \u7684\u5b57\u7b26\u4e32\u6570\u7ec4\u6765\u8868\u793a\u8981\u751f\u6210\u4e00\u4e2a 22 \u7684\u7f51\u683c\uff0c\u8fd9\u4e5f\u5f88\u7b26\u5408\u76f4\u89c9\u3002</p> <p>\u66f4\u6709\u8da3\u7684\u662f\uff0c\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u5acc\u5f03\u6570\u7ec4\u5b9a\u4e49\u8fc7\u4e8e\u7e41\u590d\uff1a</p> <pre><code>mosaic = \"AB;CD\"\nfig = plt.figure(layout=\"constrained\")\nax_dict = fig.subplot_mosaic(mosaic)\n\nidentify_axes(ax_dict)\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u5b9a\u4e49 ABCD 4 \u4e2a\u5b50\u56fe\uff0c\u4ec5\u4ec5\u662f\u901a\u8fc7 mosaic = \"AB;CD\"\u5c31\u5b8c\u6210\u4e86\u6307\u5b9a\u3002</p> <p>![50%]](https://images.jieyu.ai/images/2023/07/promotion-mosaic-abcd.png)</p> <p>\u5982\u679c\u6211\u4eec\u628a mosaic \u6307\u5b9a\u4e3a\u8fd9\u6837\uff1a <pre><code>\"\"\"\nABD\nCCD\n\"\"\"\n</code></pre> \u5e94\u8be5\u5f88\u5bb9\u6613\u731c\u5230\u8fd9\u5c06\u751f\u6210\u4ec0\u4e48\u6837\u7684\u7f51\u683c\u5e03\u5c40\u3002\u6211\u4eec\u901a\u8fc7\u4ee3\u7801\u6f14\u793a\u4e00\u4e0b\uff1a</p> <pre><code>axd = plt.figure(layout=\"constrained\").subplot_mosaic(\n    \"\"\"\n    ABD\n    CCD\n    \"\"\"\n)\n\naxd[\"A\"].bar([\"a\", \"b\", \"c\"], [5, 7, 9])\naxd[\"C\"].plot([1,2,3])\nidentify_axes(axd)\n</code></pre> <p>\u5bf9 Axes \u7684\u5f15\u7528\u975e\u5e38\u76f4\u89c2\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528 axd[\"A\"] \u6216\u8005 axd[\"C\"] \u5373\u53ef\u3002</p> <p>![50%]](https://images.jieyu.ai/images/2023/07/promotion-mosaic-abdccd.png)</p> <p>\u5982\u679c\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u66f4\u602a\u5f02\u7684\u5e03\u5c40\uff0c\u6bd4\u5982\uff0c\u5728\u67d0\u4e2a\u4f4d\u7f6e\u4e0a\uff0c\u6211\u4eec\u60f3\u7559\u7a7a\uff1a</p> <pre><code>    A.C\n    BBB\n    .D.\n    \"\"\"\n</code></pre> <p>\u4f7f\u7528\".\"\u7684\u5730\u65b9\u5c06\u4f1a\u7559\u7a7a\u3002\u8fd9\u5c06\u751f\u6210\u4e0b\u56fe\uff1a</p> <p>![50%]](https://images.jieyu.ai/images/2023/07/promo-pyvis-matplot-4.png)</p> <p>\u4e0a\u9762\u6211\u4eec\u751f\u6210\u7684\u90fd\u662f\u5747\u5300\u957f\u5ea6\u7684\u5b50\u56fe\uff08\u5728\u5408\u5e76\u4e4b\u524d\uff09\u3002subplot_mosaic \u63a5\u53d7 gridspec_kw \u53c2\u6570\uff1a</p> <pre><code>axd = fig.subplot_mosaic(\n    mosaic,\n    gridspec_kw={\n        \"bottom\": 0.05,\n        \"top\": 0.75,\n        \"left\": 0.6,\n        \"right\": 0.95,\n        \"wspace\": 0.5,\n        \"hspace\": 0.5,\n    },\n)\n</code></pre> <p>\u4e5f\u8bb8\u6211\u4eec\u8fd8\u6000\u5ff5 subgridspec \u90a3\u79cd\u81ea\u9876\u5411\u4e0b\u7684\u521b\u5efa\u65b9\u5f0f--\u6ca1\u95ee\u9898\uff0csubplot_mosaic \u652f\u6301\u5d4c\u5957\uff1a</p> <pre><code>inner = [\n    [\"inner A\"],\n    [\"inner B\"],\n]\n\n# \u5728\u8fd9\u91cc\u6211\u4eec\u628a INNER \u7f51\u683c\u5d4c\u5957\u8fdb\u6765\u4e86\nouter_nested_mosaic = [\n    [\"main\", inner],\n    [\"bottom\", \"bottom\"],\n]\naxd = plt.figure(layout=\"constrained\").subplot_mosaic(\n    outer_nested_mosaic, empty_sentinel=None\n)\nidentify_axes(axd, fontsize=36)\n</code></pre> <p>![50%]](https://images.jieyu.ai/images/2023/07/promo-pyvis-matplot-2-5.png)</p> <p>\u597d\uff0c\u770b\u5b8c\u8fd9\u4e00\u671f\u6587\u7ae0\uff0c\u4f60\u5e94\u8be5\u5b8c\u5168\u7cbe\u901a matplotlib \u7684\u5e03\u5c40\u4e86\uff01</p>"},{"location":"articles/python/visualize/qq-plot/","title":"\u539f\u7406","text":"<p>\u5047\u8bbe\u6709\u4e00\u4e2a\u968f\u673a\u53d8\u91cf\uff0c\u6211\u4eec\u60f3\u77e5\u9053\u5b83\u662f\u5426\u670d\u4ece\u67d0\u79cd\u5206\u5e03\uff0c\u6211\u4eec\u662f\u5426\u80fd\u591f\u901a\u8fc7\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u5bf9\u5b83\u8fdb\u884c\u5224\u5b9a\uff1f</p> <p>\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u9700\u8981\u7528\u5230 Q-Q \u56fe\uff0c\u5373 Quantile-Quantile \u56fe\uff0c\u53c8\u79f0\u5206\u4f4d\u56fe\uff0c\u5b83\u662f\u53ef\u89c6\u5316\u7edf\u8ba1\u63a8\u65ad\u7684\u91cd\u8981\u624b\u6bb5\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u6709\u8fd9\u6837\u4e00\u4e2a\u4e8b\u5b9e\uff1a</p> <ol> <li>\u5982\u679c X \u662f\u4e00\u4e2a\u6570\u636e\u96c6\uff0c\u90a3\u4e48\\([X, X]\\)\u5728\u4e8c\u7ef4\u5e73\u9762\u4e0a\u7684\u56fe\u50cf\u5c06\u662f\u5b8c\u5168\u843d\u5728\u4e00\u6761 45 \u5ea6\u89d2\u7684\u76f4\u7ebf\u4e0a\u7684\u6563\u70b9\u56fe\uff1b</li> <li> <p>\u5982\u679c\u6709\u53e6\u5916\u4e00\u4e2a\u6570\u636e\u96c6 Y\uff0c\u5c06 X \u4e0e Y \u5206\u522b\u6392\u5e8f\u540e\uff0c\u5982\u679c\u4efb\u610f\u5750\u6807\u4f4d\\(i\\)\u4e0a\u7684\\(X_i\\)\u548c\\(Y_i\\)\u5b8c\u5168\u76f8\u7b49\uff0c\u6211\u4eec\u4ecd\u5c06\u5f97\u5230\u76f8\u540c\u7684\u56fe\u5f62\uff1b</p> </li> <li> <p>\u5982\u679c\u4efb\u610f\u5750\u6807\u4f4d\\(i\\)\u4e0a\u7684\\(X_i\\)\u548c\\(Y_i\\)\u90fd\u8fd1\u4f3c\u76f8\u7b49\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u5206\u5e03\u5728\u8fd9\u6761\u76f4\u7ebf\u4e24\u4fa7\u4e0d\u8fdc\u5904\u7684\u6563\u70b9\u56fe\u3002</p> </li> </ol> <pre><code>X = stats.norm.rvs(size=1000)\nY = stats.norm.rvs(size=1000)\n\nplt.scatter(sorted(X), sorted(Y), s=1)\nplt.plot(X, X, color='orange')\n</code></pre> <p></p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4ece\u6807\u51c6\u6b63\u6001\u5206\u5e03\u4e2d\u62bd\u6837\u5206\u522b\u62bd\u6837\u4e24\u6b21\uff0c\u5f97\u5230\\(X\\)\u548c\\(Y\\)\uff0c\u5bf9\u5b83\u4eec\u8fdb\u884c\u6392\u5e8f\u540e\u8fdb\u884c\u7ed8\u56fe\uff0c\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u5206\u5e03\u5728 45 \u5ea6\u76f4\u7ebf\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u4e0a\u9762\u7684\u4f8b\u5b50\u5df2\u7ecf\u7ed9\u4e86\u6211\u4eec\u4e00\u4e2a\u5224\u522b\u67d0\u4e2a\u5206\u5e03\u662f\u5426\u5c5e\u4e8e\u6807\u51c6\u6b63\u6001\u5206\u5e03\u7684\u4e00\u4e2a\u7b97\u6cd5\u3002\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u89e3\u91ca\u4e00\u4e0b\uff0c\u4e3a\u4ec0\u4e48\u5bf9\u5c5e\u4e8e\u540c\u4e00\u5206\u5e03\u7684\\(X\\)\u548c\\(Y\\)\uff0c\u8fdb\u884c\u6392\u5e8f\u540e\uff0c\u5bf9\u5e94\u4f4d\u7f6e\u7684\u5143\u7d20\u5e94\u8be5\u5927\u81f4\u76f8\u7b49\u3002\u8fd9\u5c31\u9700\u8981\u5f15\u5165\u5206\u4f4d\u6570\u7684\u6982\u5ff5\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6709\u968f\u673a\u53d8\u91cf X\uff0c\u5047\u8bbe\u5b83\u670d\u4ece\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff0c\u90a3\u4e48\u5728 50%\u5206\u4f4d\u5904\uff0cX \u7684\u91c7\u6837\u70b9\\(x_1\\)\u5e94\u8be5\u975e\u5e38\u63a5\u8fd1\u4e8e 0\uff08\u7531\u4e8e\u662f\u968f\u673a\u53d8\u91cf\uff0c\u6240\u4ee5\u4e5f\u5f88\u96be\u5b8c\u5168\u76f8\u7b49\uff09\uff0c\u56e0\u4e3a\u6807\u51c6\u6b63\u6001\u5206\u5e03\uff0c\u5728 50%\u5206\u4f4d\u5904\u7684\u53d6\u503c\u5c31\u662f 0\uff1b\u63a8\u5e7f\u5230 25%\u5206\u4f4d\u5904\uff0c75%\u5206\u4f4d\u5904\uff0c\\(X\\)\u5728\u8fd9\u4e9b\u5206\u4f4d\u6570\u4e0a\u7684\u53d6\u503c\uff0c\u4e5f\u5e94\u8be5\u4e0e\u6807\u51c6\u6b63\u6001\u5206\u5e03\u53d6\u503c\u975e\u5e38\u63a5\u8fd1\uff1b\u6216\u8005\u8fdb\u4e00\u6b65\u63a8\u5e7f\uff0c\u5728\u4efb\u610f\u5206\u4f4d\u6570\u5904\uff0c\u4e24\u8005\u7684\u91c7\u6837\u503c\u90fd\u5e94\u8be5\u975e\u5e38\u63a5\u8fd1\u3002</p> <p>\u56e0\u6b64\uff0c\u6309\u7167\u5206\u4f4d\u6570\u5206\u522b\u5bf9\\(X\\)\u548c\u6807\u51c6\u6b63\u6001\u5206\u5e03\u8fdb\u884c\u91c7\u6837\uff0c\u518d\u8fdb\u884c\u7ed8\u56fe\uff0c\u8fd9\u6837\u7684\u56fe\u5f62\u5c31\u662f\u4e00\u4e2a\u5206\u5e03\u5728 45 \u5ea6\u76f4\u7ebf\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p> <p>\u5728\u5b9e\u9645\u7ed8\u56fe\u4e2d\uff0c\u6211\u4eec\u4f1a\u7b80\u5316\u4e0a\u8ff0\u7b97\u6cd5\uff0c\u4e0d\u53bb\u8fdb\u884c\u5206\u4f4d\u6570\u8ba1\u7b97\uff0c\u800c\u662f\u4ee5\u6392\u5e8f\u8fdb\u66ff\u4ee3\u3002\u5c06 X \u4e0e Y \u6392\u5e8f\u540e\uff0c\u5982\u679c\u6837\u672c\u603b\u6570\u662f N\uff0c\u90a3\u4e48\u6392\u5e8f\u540e\u7684\u7b2c\\(n\\)\u4e2a\u5143\u7d20\uff0c\u5c31\u88ab\u8ba4\u4e3a\u662f\u7b2c \\(n/N\\)\u5206\u4f4d\u6570\u5904\u7684\u968f\u673a\u53d8\u91cf\u53d6\u503c\uff1b\u5982\u679c\u7b2c\\(n\\)\u4e2a\u5143\u7d20\u5904\u7684\\(X_n\\)\u4e0e\\(Y_n\\)\u975e\u5e38\u63a5\u8fd1\uff0c\u90a3\u4e48\u70b9\\([X_n, Y_n]\\)\u5c06\u843d\u5728\u76f4\u7ebf \\(Y = X\\) \u9644\u8fd1\uff0c\u4e5f\u5c31\u662f 45 \u5ea6\u89d2\u7684\u76f4\u7ebf\u4e0a\u3002</p> <p>\u8fd9\u79cd\u7b80\u5316\uff0c\u5728 n \u503c\u8f83\u5927\u65f6\uff0c\u662f\u5b8c\u5168\u751f\u6548\u7684\uff1b\u5728 n \u503c\u8f83\u5c0f\u65f6\uff0c\u6709\u53ef\u80fd\u51fa\u73b0\u8f83\u5927\u504f\u5dee\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5f53 n \u4ece 10 \u5f00\u59cb\uff0c\u4f9d\u6b21\u500d\u589e\u5230 1280 \u65f6\u7684\u7ed8\u56fe\uff1a</p> <pre><code>fig, axes = plt.subplots(nrows=2, ncols=4, figsize=(16,8))\naxes = axes.flatten()\n\nfor i, n in enumerate((10, 20, 40, 80, 160, 320, 640, 1280)):\n    X = stats.norm.rvs(size=n)\n    Y = stats.norm.rvs(size=n)\n\n    ax = axes[i]\n    ax.scatter(sorted(stats.zscore(X)), sorted(Y), s=3)\n    ax.plot(X, X, '--', color='grey')\n</code></pre> <p></p> <p>\u4ece\u56fe\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53 n \u5927\u4e8e\u7b49\u4e8e 320 \u65f6\uff0c\u5927\u591a\u6570\u70b9\u90fd\u843d\u5728\u76f4\u7ebf\u4e24\u4fa7\u9644\u8fd1\u3002</p>"},{"location":"articles/python/visualize/qq-plot/#_2","title":"\u4efb\u610f\u6b63\u6001\u5206\u5e03\u68c0\u9a8c","text":"<p>\u5982\u679c\\(X\\)\u662f\u4e00\u4e2a norm(loc, scale) \u7684\u6b63\u6001\u5206\u5e03\uff0c\u90a3\u4e48\uff0c\u5982\u679c\u6211\u4eec\u4ecd\u4ee5 [$X, \\(Y] \u7ed8\u56fe\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u4e00\u4e2a\u5206\u5e03\u5728\u76f4\u7ebf\\)Y = (X - loc)/scale $\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p> <pre><code>np.random.seed(78)\nloc = 5\nscale = 3\nX = stats.norm.rvs(loc=loc, scale = scale, size=1000)\nY = stats.norm.rvs(size=1000)\n\nplt.scatter(sorted(X), sorted(Y), s=1)\nplt.plot(X, X, color='orange')\n\nx2 = np.linspace(min(X), max(X), len(X))\ny2 = x2 / scale - loc / scale\nplt.plot(x2, y2, color='cyan')\n\nplt.text(5, 5, \"[X,X]\")\nplt.text(10, 2, \"[X,Y]\", color='blue')\nplt.text(10, 3.5, \"[X, (X-loc)/scale]\", color='red')\n</code></pre> <p></p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u8003\u8651\u5148\u5c06\\(X\\)\u8fdb\u884c zscore \u5316\uff0c\u8fd9\u6837\u518d\u4e0e\u6807\u51c6\u6b63\u6001\u5206\u5e03\u7684\u91c7\u6837\u8fdb\u884c\u7ed8\u56fe\u3002\u5982\u679c\\(X\\)\u670d\u4ece\u6b63\u6001\u5206\u5e03\uff0c\u6b64\u65f6\u5f97\u5230\u7684\u56fe\u5f62\uff0c\u4ecd\u7136\u662f\u591a\u6570\u70b9\u5206\u5e03\u5728\\(y=x\\)\u76f4\u7ebf\u4e24\u4fa7\u7684\u6563\u70b9\u56fe\u3002</p>"},{"location":"articles/python/visualize/qq-plot/#q-q","title":"\u80fd\u7ed8\u5236 Q-Q \u56fe\u7684\u5e93","text":"<p>\u4e0a\u9762\u7684\u4ee3\u7801\u5df2\u7ecf\u7ed9\u51fa\u4e86\u7ed8\u5236\u65b9\u6cd5\uff0c\u4f46\u4e3b\u8981\u662f\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3\u5176\u539f\u7406\u3002\u5b9e\u9645\u8fd0\u7528\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u501f\u52a9 scipy.stats \u4e2d\u7684 probplot \u65b9\u6cd5\uff1a</p> <pre><code>import numpy as np\nimport scipy.stats as stats\nimport matplotlib.pyplot as plt\n\n# GENERATE A RANDOM DATASET FOLLOWING A NORMAL DISTRIBUTION\nnp.random.seed(0)\ndata = np.random.normal(loc=5, scale=2, size=100)\n\n# GENERATE A Q-Q PLOT\nplt.figure(figsize=(8, 8))\nstats.probplot(data, dist=\"norm\", plot=plt)\nplt.title('Q-Q plot')\nplt.ylabel('Sample quantiles \uff08\u6837\u672c\u5206\u4f4d\u6570\uff09')\nplt.xlabel('Theoretical quantiles \uff08\u7406\u8bba\u5206\u4f4d\u6570\uff09')\nplt.grid(True)\nplt.show()\n</code></pre> <p>\u5f53\u7136\u73b0\u5728\u6211\u4eec\u660e\u767d\uff0cprobplot \u65b9\u6cd5\u53ea\u4e0d\u8fc7\u662f\u6309\u7167\u6211\u4eec\u63d0\u4f9b\u7684 dist \u53c2\u6570\uff0c\u5728\u5185\u90e8\u751f\u6210\u4e86\u540c\u6837\u957f\u5ea6\u7684\u7406\u8bba\u5206\u5e03\u91c7\u6837\u6570\u636e\uff0c\u5bf9\u5f85\u68c0\u9a8c\u5206\u5e03\u548c\u7406\u8bba\u5206\u5e03\u90fd\u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u7ed8\u5236\u56de\u5f52\u76f4\u7ebf\u4e0e\u6563\u70b9\u56fe\u800c\u5df2\u3002</p> <p>\u4e0a\u8ff0\u4ee3\u7801\u5c06\u7ed8\u5236\u51fa\u8fd9\u4e2a\u56fe\u5f62\uff1a</p> <p></p> <p>\u53e6\u5916\uff0c \u5728 statsmodels \u5e93\u4e2d\uff0c\u4e5f\u901a\u8fc7 graphics.gofplots \u63d0\u4f9b\u4e86 qqplot \u65b9\u6cd5\u3002</p>"},{"location":"blog/2024/01/05/ks-test-%E5%B9%BF%E4%B9%89%E5%8F%8C%E6%9B%B2%E5%88%86%E5%B8%83%E5%92%8C%E6%8A%84%E5%BA%95%E6%B2%AA%E6%8C%87/","title":"KS Test, \u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u548c\u6284\u5e95\u6caa\u6307","text":"<p> \u4e0a\u4e00\u7bc7\u7b14\u8bb0\u6211\u4eec\u629b\u51fa\u4e00\u4e2a\u95ee\u9898\uff0c\u6caa\u6307\u5927\u8dcc 4%\u65f6\uff0c\u80fd\u4e0d\u80fd\u6284\u5e95\uff1f\u4eca\u5929\u7684\u7b14\u8bb0\uff0c\u6211\u4eec\u5c31\u901a\u8fc7 KS \u68c0\u9a8c\uff0c\u627e\u51fa\u6caa\u6307\u7684\u6982\u7387\u5206\u5e03\uff0c\u8fdb\u800c\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\u3002\u5728\u540e\u9762\u7684\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u8fd8\u5c06\u6362\u4e00\u4e2a\u65b9\u6cd5\u7ee7\u7eed\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\u3002</p>","tags":["statistics","CDF","KS-Test"]},{"location":"blog/2024/01/05/ks-test-%E5%B9%BF%E4%B9%89%E5%8F%8C%E6%9B%B2%E5%88%86%E5%B8%83%E5%92%8C%E6%8A%84%E5%BA%95%E6%B2%AA%E6%8C%87/#k-s","title":"K-S \u68c0\u9a8c","text":"<p>\u7b2c\u4e00\u4e2a\u65b9\u6cd5\uff0c\u662f\u901a\u8fc7 K-S \u68c0\u9a8c\uff0c\u6765\u78b0\u78b0\u8fd0\u6c14\uff0c\u770b\u770b\u6caa\u6307\u6da8\u8dcc\u662f\u5426\u521a\u597d\u7b26\u5408\u67d0\u4e2a\u5df2\u77e5\u7684\u5206\u5e03\u3002\u5982\u679c\u80fd\u627e\u5230\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8f7b\u677e\u5730\u7531\u5176\u8fde\u7eed\u5bc6\u5ea6\u5206\u5e03\u51fd\u6570 CDF\uff0c\u6765\u8ba1\u7b97\u51fa\u7ee7\u7eed\u4e0b\u8dcc\u7684\u6982\u7387\uff0c\u5373\uff1a</p> \\[ P = cdf(-0.04) \\] <p>K-S \u662f\u4e00\u79cd\u975e\u53c2\u6570\u68c0\u9a8c\uff0c\u662f\u7edf\u8ba1\u68c0\u9a8c\u4e2d\u7684\u4e00\u79cd\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u68c0\u9a8c\u4e00\u7ec4\u6837\u672c\u662f\u5426\u6765\u81ea\u67d0\u4e2a\u6982\u7387\u5206\u5e03 (one-sample K-S test)\uff0c\u6216\u8005\u6bd4\u8f83\u4e24\u7ec4\u6837\u672c\u7684\u5206\u5e03\u662f\u5426\u76f8\u540c (two-sample K-S test)\u3002K-S \u68c0\u9a8c\u662f\u4ee5\u5b83\u7684\u4e24\u4e2a\u63d0\u51fa\u8005\uff0c\u4fc4\u56fd\u7edf\u8ba1\u5b66\u5bb6 (Kolmogorov \u548c Smirnov) \u7684\u540d\u5b57\u6765\u547d\u540d\u7684\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 scipy.stats.kstest \u6765\u6267\u884c k-S \u68c0\u9a8c\u3002\u8be5\u65b9\u6cd5\u7684\u7b7e\u540d\u5982\u4e0b\uff1a</p> <pre><code>kstest(rvs, cdf, args=(), N=20, alternative='two-sided', method='auto')\n</code></pre> <p>\u8fd9\u91cc rvs \u662f\u968f\u673a\u53d8\u91cf\u72b6\u6001\uff0c\u5728\u6211\u4eec\u63a5\u4e0b\u6765\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u4f20\u5165\u6caa\u6307 1000 \u4e2a\u4ea4\u6613\u65e5\u7684\u6da8\u8dcc\u5e45\u3002\u5728 cdf \u53c2\u6570\u4e2d\uff0c\u6211\u4eec\u4f20\u5165\u8981\u6d4b\u8bd5\u7684\u968f\u673a\u5206\u5e03\u540d\u79f0\u3002</p> <p>\u8fd4\u56de\u7ed3\u679c\u4e3a\u4e00\u4e2a KstestResult \u7c7b\uff0c\u5b83\u5305\u62ec statistic\uff0c pvalue \u7b49\u91cd\u8981\u5c5e\u6027\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u901a\u8fc7 kstest\uff0c\u5bf9 scipy.stats \u4e2d\u5df2\u5b9e\u73b0\u7684\u5206\u5e03\u6a21\u578b\uff0c\u9010\u4e00\u8fdb\u884c One-Sample test\uff0c\u770b\u770b\u80fd\u5426\u6709\u901a\u8fc7\u68c0\u9a8c\u7684\uff1a</p> <pre><code>pct = close[:-1]/close[1:] - 1\ndist_names = ['burr12', 'dgamma', 'dweibull', 'fisk', 'genhyperbolic', \n              'genlogistic', 'gennorm', 'hypsecant', 'johnsonsu', \n              'laplace', 'laplace_asymmetric', 'logistic', 'loglaplace',\n              'nct', 'norminvgauss']\n</code></pre> <pre><code>xmin, xmax = min(pct), max(pct)\ndist_pvalue = []\n\nfor name in dist_names:\n    dist = getattr(scipy.stats, name)\n    if getattr(dist, 'fit'):\n        params = dist.fit(pct)\n        ks = scipy.stats.kstest(pct, name, args=params)\n        dist_pvalue.append(round(ks.pvalue, 2))\n\ndf = pd.DataFrame({\n    \"name\": dist_names,\n    \"pvalue\": dist_pvalue\n})\n\ndf.sort_values(\"pvalue\", ascending=False).transpose()\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <p></p> <p>\u56fe\u53ef\u80fd\u6709\u70b9\u5bbd\uff0c\u5bfc\u81f4\u624b\u673a\u4e0a\u6ca1\u6cd5\u770b\u6e05\u695a\u3002\u4e0d\u8fc7\u6211\u4eec\u53ea\u8981\u77e5\u9053\uff0c\u8fd9\u91cc\u7684\u7b2c\u4e00\u884c\uff0cgenhyperbolic\uff0c\u5373\u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u7684 pvalue \u6700\u9ad8\uff0c\u8fbe\u5230\u4e86 0.97\u3002</p> <p>\u6ce8\u610f scipy.stats.kstest \u4e2d\u7684 pvalue \u53ef\u80fd\u8ddf\u6211\u4eec\u5728\u522b\u5904\u7406\u89e3\u7684 pvalue \u4e0d\u592a\u4e00\u6837\uff0c\u5728\u5b83\u7684\u8bf4\u660e\u548c\u793a\u4f8b\u4e2d\uff0cp \u503c\u5927\u4e8e 0.95\uff0c\u5219\u53ef\u4ee5\u8ba4\u4e3a\u5728 95%\u7684\u7f6e\u4fe1\u5ea6\u4e0b\uff0c\u8ba4\u540c\u539f\u5047\u8bbe\uff1a\u5373 rvs \u6765\u81ea\u4e8e CDF \u6240\u8868\u660e\u7684\u90a3\u4e2a\u5206\u5e03\u3002</p> <p>\u56e0\u6b64\uff0c\u4e0a\u8ff0\u8f93\u51fa\u8868\u660e\uff0cgenhyperbolic\uff0c\u5373\u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\uff0c\u662f\u6240\u6709\u5047\u8bbe\u4e2d\uff0c\u6caa\u6307\u6700\u63a5\u8fd1\u7684\u5206\u5e03\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u7ed8\u56fe\u6765\u9a8c\u8bc1\u4e00\u4e0b\u8fd9\u4e2a\u7ed3\u8bba\u662f\u5426\u6b63\u786e\uff1a</p> <pre><code>from scipy.stats import genhyperbolic\n\nparams = genhyperbolic.fit(pct)\nrv = genhyperbolic(*params)\n\nfig, ax = plt.subplots(1,1)\nx = np.linspace(rv.ppf(0.01), rv.ppf(0.99), 100)\nax.plot(x, rv.pdf(x), label = 'genhyperbolic pdf', color=\"#EABFC7\")\n\nax2 = ax.twinx()\n_ = ax2.hist(pct, bins=50)\n</code></pre> <p></p> <p>\u4e0d\u80fd\u8bf4\u5341\u5206\u76f8\u4f3c\uff0c\u7b80\u76f4\u662f\u4e00\u6a21\u4e00\u6837\u3002pdf \u51fd\u6570\u66f2\u7ebf\u521a\u597d\u6846\u4f4f\u4e86\u5b9e\u9645\u5206\u5e03\u76f4\u65b9\u56fe\u7684\u5916\u8f6e\u5ed3\u3002</p> <p></p> <p>\u5b9e\u9645\u4e0a\uff0c\u5e76\u975e\u53ea\u6709\u6caa\u6307\u7b26\u5408\u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u3002\u6839\u636e Souto \u53d1\u8868\u5728\u300a\u91d1\u878d\u6570\u5b66\u300b\uff082023\u5e742\u6708\uff09\u6742\u5fd7\u4e0a\u7684\u6587\u7ae0\uff0c\u300aDistribution Analysis of S&amp;P 500 Financial Turbulence\u300b, \u6807\u666e 500 \u4e5f\u662f\u6700\u63a5\u8fd1\u8fd9\u4e2a\u5206\u5e03\u3002</p> <p></p> <p>Warning</p> <p>Satou \u6ca1\u6709\u4f7f\u7528 scipy.stats \u4e2d\u7684 ks-test\uff0c\u800c\u662f\u81ea\u5df1\u5b9e\u73b0\u4e86\u4e00\u4e2a\u3002\u8bc1\u636e\u4e4b\u4e00\u5c31\u662f\uff0c\u5c3d\u7ba1\u4ed6\u5f97\u51fa\u4e86\u6807\u666e\u63a5\u8fd1\u4e8e GH \u5206\u5e03\u8fd9\u4e00\u7ed3\u8bba\uff0c\u4f46\u6b64\u65f6\u4ed6\u8ba1\u7b97\u51fa\u7684 p-value \u4e3a\u96f6\uff0c\u800c\u4e0d\u662f\u63a5\u8fd1 1\u3002\u7ec6\u5fc3\u7684\u8bfb\u8005\u5e94\u8be5\u6ce8\u610f\u5230\uff0c\u6211\u4eec\u524d\u9762\u6307\u51fa\u8fc7\uff0c\u5373 scipy \u4e2d\u7684 ks-test \u4e2d\u7684 pvalue\uff0c\u4e0e\u5176\u5b83\u5730\u65b9\u770b\u5230\u7684\u53ef\u80fd\u4e0d\u4e00\u81f4\u3002\u7c7b\u4f3c\u7684\u4e0d\u4e00\u81f4\u8fd8\u53d1\u751f\u5728\u5bf9\u51f8\u51fd\u6570\u7684\u5b9a\u4e49\u4e0a\u3002\u4e00\u90e8\u5206\u4eba\uff08\u5305\u62ec\u6211\uff09\u603b\u662f\u628a\u56fe\u5f62\u770b\u8d77\u6765\u50cf\u51f8\u5b57\u7684\u51fd\u6570\u53eb\u6210\u51f8\u51fd\u6570\uff0c\u4f46\u6709\u4e9b\u4eba\u8ba4\u4e3a\u5b83\u5e94\u8be5\u662f\u51f9\u51fd\u6570\uff0c\u56e0\u4e3a\u5b83\u7684\u4e8c\u9636\u5bfc\u662f\u8d1f\u7684\u3002\u6211\u66fe\u7ecf\u5931\u53bb\u8fc7\u4e00\u4f4d\u65e2\u7f8e\u4e3d\u53c8\u806a\u660e\u7684\u5973\u540c\u4e8b\uff0c\u4e0d\u77e5\u9053\u662f\u5426\u5c31\u56e0\u4e3a\u8fd9\u4e2a\u5206\u6b67\u3002\u603b\u4e4b\uff0c\u65e2\u7136\u4f60\u77e5\u9053\u4e86\uff0c\u4e0d\u59a8\u4eca\u540e\u4e5f\u6ce8\u610f\u4e0b\uff0c\u4e0d\u8981\u56e0\u5c0f\u5931\u5927\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u6765\u6c42\u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u4e0b\uff0c\u8dcc\u5e45\u5c0f\u4e8e-4%\u7684\u7d2f\u79ef\u6982\u7387\uff0c\u4e5f\u5c31\u662f\u7ee7\u7eed\u4e0b\u8dcc\u7684\u6982\u7387\uff1a</p> <pre><code>from scipy.stats import genhyperbolic\n\nparams = genhyperbolic.fit(pct)\nrv = genhyperbolic(*params)\nprint(f\"\u7ee7\u7eed\u4e0b\u8dcc\u7684\u6982\u7387\u4e3a\uff1a{rv.cdf(-0.04):.2%}\")\n</code></pre> <p>\u7ed3\u679c\u8868\u660e\uff0c\u7ee7\u7eed\u4e0b\u8dcc\u7684\u6982\u7387\u4ec5\u4e3a 0.16%\u3002\u6240\u4ee5\uff0c\u7ed3\u8bba\u662f\uff1a\u672c\u7b54\u6848\u4ec5\u4f9d\u636e\u5386\u53f2\u6570\u636e\uff0c\u4ec5\u4e3a\u6f14\u793a\u548c\u8bf4\u660e\u91cf\u5316\u7b97\u6cd5\uff0c\u4e0d\u6784\u6210\u4efb\u4f55\u6295\u8d44\u5efa\u8bae\uff01</p> <p>Tip</p> <p>\u770b\u4e0d\u592a\u61c2\u4e3a\u4ec0\u4e48 cdf(-0.04) \u4ee3\u8868\u7ee7\u7eed\u4e0b\u8dcc\u7684\u6982\u7387\uff1f\u6211\u4eec\u7684\u8bfe\u7a0b\u4f1a\u4ece\u76f4\u65b9\u56fe\u8bb2\u8d77\uff0c\u76f4\u5230\u4f60\u770b\u61c2\u4e3a\u6b62\u3002</p>","tags":["statistics","CDF","KS-Test"]},{"location":"blog/2024/01/05/ks-test-%E5%B9%BF%E4%B9%89%E5%8F%8C%E6%9B%B2%E5%88%86%E5%B8%83%E5%92%8C%E6%8A%84%E5%BA%95%E6%B2%AA%E6%8C%87/#revisit-connors-rsi","title":"Revisit Connor's RSI","text":"<p>\u5982\u679c\u4f60\u5bf9\u6211\u4eec\u7684 Connor's RSI \u7684\u7b14\u8bb0\u8fd8\u6709\u5370\u8c61\uff0c\u53ef\u80fd\u8fd8\u8bb0\u5f97\uff0cConnor's RSI \u7684\u4e09\u56e0\u5b50\u4e4b\u4e00\uff0c\u662f\u5f53\u5929\u6da8\u8dcc\u5e45\u5728\u8fd1 20 \u5929\u91cc\u7684\u6392\u540d\uff08prank\uff09\u3002\u8fd9\u4e2a\u6392\u540d\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u7ecf\u9a8c CDF \u51fd\u6570\u7684\u4e00\u4e2a\u7ebf\u6027\u6620\u5c04\u3002\u770b\u6765\uff0c\u53d1\u660e\u4e00\u4e2a\u4f1f\u5927\u7684\u6307\u6807\uff0c\u5176\u5b9e\u4e5f\u53ea\u9700\u8981\u638c\u63e1\u7b80\u5355\u7684\u7edf\u8ba1\u5b66\u539f\u7406\u5373\u53ef\u3002</p>","tags":["statistics","CDF","KS-Test"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/","title":"\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f","text":"<p>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f\u672c\u6587\u9996\u5148\u8fa8\u6790\u4e86\u5f52\u4e00\u5316\u3001\u6807\u51c6\u5316\u4e0e\u6b63\u5219\u5316\u4e09\u4e2a\u672f\u8bed\uff0c\u7136\u540e\u5206\u6790\u4e86min-max, sin, sigmoid\u7b49\u5f52\u4e00\u5316\u51fd\u6570\u5728\u91cf\u5316\u4e2d\u4f7f\u7528\u65f6\u5e38\u72af\u7684\u9519\u8bef\uff0c\u8bb2\u89e3\u4e86\u5982\u4f55\u5236\u4f5c\u4e00\u4e2a\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570\u3002\u6700\u540e\uff0c\u4ee5\u4e00\u4e9b\u91cf\u5316\u56e0\u5b50\u5f52\u4e00\u5316\u793a\u4f8b\u4f5c\u4e3a\u7ed3\u675f\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_1","title":"\u5f52\u4e00\u5316\u3001\u6807\u51c6\u5316\u4e0e\u6b63\u5219\u5316\u8fa8\u6790","text":"<p>\u5f52\u4e00\u5316\u3001\u6807\u51c6\u5316\u4e0e\u6b63\u5219\u5316\u662f\u673a\u5668\u5b66\u4e60/\u6df1\u5ea6\u5b66\u4e60\u4e2d\u76f8\u4f3c\u4f46\u53c8\u76f8\u533a\u522b\u7684\u51e0\u4e2a\u6982\u5ff5\u3002</p> <p>\u5f52\u4e00\u5316 (normalization)\u662f\u6307\u5c06\u6570\u636e\u5206\u5e03\u6620\u5c04\u5230[0,1]\u7684\u533a\u95f4\u6765\u3002\u6211\u4eec\u53ef\u80fd\u662f\u5728\u7edf\u8ba1\u5b66\u4e2d\u6700\u521d\u63a5\u89e6\u5230\u8fd9\u4e00\u6982\u5ff5\uff0c\u4e3b\u8981\u65b9\u6cd5\u6709min-max scaling, \u4f46\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u5e38\u5e38\u4f7f\u7528\u7684\u5f52\u4e00\u5316\u65b9\u6cd5\u8fdc\u4e0d\u6b62\u4e8e\u6b64\uff0c\u8fd8\u6709tanh, sigmoid, sin\u7b49\u7b49\u3002min-max\u5f52\u4e00\u5316\u7684\u516c\u5f0f\u662f\uff1a</p> \\[ X' = \\frac{X - min(x)}{max(X) - min(X)} \\] <p>\u4e0d\u662f\u6240\u6709\u80fd\u5b9e\u73b0\u53d8\u91cf\u5230\u503c\u57df[0,1]\u4e4b\u95f4\u7684\u6620\u5c04\u7684\u51fd\u6570\uff0c\u90fd\u80fd\u62ff\u6765\u505a\u5f52\u4e00\u5316\u51fd\u6570\u7684\u3002\u5f52\u4e00\u5316\u51fd\u6570\u5fc5\u987b\u6ee1\u8db3\u7684\u4e00\u4e2a\u6761\u4ef6\u5c31\u662f\uff0c\u5b83\u4e0d\u80fd\u6539\u53d8\u6570\u636e\u4e4b\u95f4\u7684\u4f4d\u7f6e\u5173\u7cfb\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6709\u81ea\u53d8\u91cf\\([x_0, x_1]\\)\uff0c\u5bf9\u5e94\u7684\u51fd\u6570\u662f\\([y_0, y_1]\\),\u4e14\\(x_0 &gt;= x_1\\)\u7684\u8bdd\uff0c\u90a3\u4e48\\(y_0 &gt;= y_1\\)\u4e5f\u5fc5\u987b\u5f97\u5230\u6ee1\u8db3\u3002\u8fd9\u4e2a\u89c4\u5219\uff0c\u53ef\u79f0\u5355\u8c03\u6027\u539f\u5219\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u50cfsin\u8fd9\u6837\u7684\u51fd\u6570\u5f88\u5c11\u7528\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff08\u4f46\u4e5f\u4e0d\u7edd\u5bf9\uff01\uff09\u3002\u53e6\u5916\uff0c\u4ec0\u4e48\u624d\u662f\u4e00\u4e2a\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570\uff1f\u6211\u4eec\u4e5f\u5c06\u5728\u540e\u9762\u7ee7\u7eed\u8ba8\u8bba\u3002</p> <p>\u5728\u5b9e\u73b0\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528sklearn.preprocessing.MinMaxScaler\u6765\u8fdb\u884c\u8f6c\u6362\u3002</p> <p>\u6807\u51c6\u5316 (standardization)\u4e00\u822c\u662f\u6307\u5c06\u6570\u636e\u6309\u4ee5\u4e0b\u516c\u5f0f\u8fdb\u884c\u5904\u7406\uff1a</p> \\[ z = \\frac{X - \\mu}{\\sigma} \\] <p>\u5373z-score\u5316\u3002\u8fdb\u884c\u6807\u51c6\u5316\u5904\u7406\u4ee5\u540e\uff0c\u51fd\u6570z\u5c06\u670d\u4ece \\(N(0,1)\\)\u7684\u6b63\u6001\u5206\u5e03\u3002\u5728\u5b9e\u73b0\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528sklearn.preprocessing.StandardScaler\uff08\u6216\u8005scale()\uff09\u6765\u5904\u7406\u3002</p> <p>\u5f52\u4e00\u5316\u4e0e\u6807\u51c6\u5316\u5b9e\u9645\u4e0a\u6709\u8f83\u5927\u7684\u533a\u522b\u3002\u5b9e\u73b0\u5f52\u4e00\u5316\u540e\uff0c\u6570\u636e\u96c6\u7684\u503c\u57df\u5c06\u843d\u5728[0,1]\uff08\u6216\u8005\u5728[-1,1]\u4e4b\u95f4\u3002\u901a\u8fc7\u5f52\u4e00\u5316\u5904\u7406\uff0c\u4e0d\u540c\u91cf\u7eb2\u7684\u7269\u7406\u91cf\u5b9e\u73b0\u4e86\u53bb\u91cf\u7eb2\u5316\uff0c\u4ece\u800c\u5b83\u4eec\u53ef\u4ee5\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u4ee5\u76f8\u540c\u7684\u5b66\u4e60\u7387\uff08learning-rate\uff09\u6765\u8fdb\u884c\u68af\u5ea6\u4f18\u5316\u3002\u4f46\u6807\u51c6\u5316\u540e\u7684\u6570\u636e\u96c6\uff0c\u5b83\u7684\u503c\u57df\u6ca1\u6709\u8303\u56f4\u9650\u5236\uff0c\u56e0\u800c\u5b83\u4ecd\u7136\u662f\u6709\u91cf\u7eb2\u7684\u3002\u8fd9\u6837\u4e0d\u540c\u7684\u56e0\u5b50\u88ab\u6807\u51c6\u5316\u540e\uff0c\u4ecd\u7136\u5728\u91cf\u7eb2\u4e0a\u4e0d\u4e00\u81f4\uff0c\u6240\u4ee5\u662f\u4e0d\u80fd\u653e\u5230\u4e00\u8d77\u8fdb\u884c\u8bad\u7ec3\u7684\u3002\u53e6\u5916\uff0c\u6807\u51c6\u5316\u6709\u610f\u4e49\u7684\u524d\u63d0\u662f\uff0c\u6570\u636e\u96c6\u672c\u8eab\u8981\u6ee1\u8db3\u6b63\u6001\u5206\u5e03\u3002</p> <p>\u6b63\u5219\u5316\u5219\u662f\u5c06\u6807\u51c6\u5316\u540e\u7684\u6570\u636e\u96c6\uff0c\u9664\u4ee5\u5b83\u7684\u8303\u6570\uff0c\u4ece\u800c\u6570\u636e\u88ab\u7f29\u653e\u5230[-1,1]\u533a\u95f4\u5185\u3002\u6b63\u5219\u5316\u540e\u7684\u7ed3\u679c\u6d88\u9664\u4e86\u91cf\u7eb2\uff0c\u662f\u9002\u7528\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u3002\u6b63\u5219\u5316\u7684\u516c\u5f0f\u662f</p> \\[ X' = \\frac{X}{||X||} \\] <p>\u5728sklearn\u4e2d\uff0c\u5b9e\u73b0\u65b9\u6cd5\u662fsklearn.preprocessing.Normalizer\u3002</p> <p>\u5982\u679c\u662f\u673a\u5668\u5b66\u4e60\uff0c\u90e8\u5206\u7b97\u6cd5\uff0c\u6bd4\u5982decision-tree\u548cboost\u7c7b\u7684\u7b97\u6cd5\uff0c\u8fd9\u4e09\u79cd\u53d8\u6362\u90fd\u662f\u6ca1\u6709\u5fc5\u8981\u505a\u7684\u3002\u56e0\u4e3a\u8fd9\u4e9b\u7b97\u6cd5\u4e0e\u91cf\u7eb2\u65e0\u5173\u3002</p> <p>\u4f46\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u6d89\u53ca\u5230\u6743\u91cd\u4f18\u5316\u7684\u5b66\u4e60\u7387\u95ee\u9898\uff0c\u56e0\u6b64\u5404\u5411\u91cf\uff08\u5728\u91cf\u5316\u4e2d\u5373\u4e3a\u56e0\u5b50\uff09\u7684\u91cf\u7eb2\u5fc5\u987b\u7edf\u4e00\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u5fc5\u987b\u5b9e\u73b0\u5f52\u4e00\u5316\u6216\u8005\u6b63\u5219\u5316\u3002\u663e\u7136\uff0c\u6807\u51c6\u5316\u662f\u6ca1\u6709\u592a\u591a\u610f\u4e49\u7684\u3002</p> <p>\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\u5f52\u4e00\u5316\u7684\u65b9\u6cd5\u5f88\u591a\uff0c\u8fdc\u4e0d\u6b62\u7edf\u8ba1\u5b66\u4e0a\u7684min-max scaler\u8fd9\u4e00\u79cd\u3002\u5177\u4f53\u7528\u54ea\u4e00\u79cd\uff0c\u8ddf\u6211\u4eec\u7684\u7684\u6570\u636e\u5206\u5e03\u3001\u8981\u89e3\u51b3\u7684\u95ee\u9898\u662f\u76f8\u5173\u7684\uff0c\u6240\u4ee5sigmoid, tanh, sin\uff08\u8fd9\u4e2a\u6700\u65e9\u5728NMT\u4e2d\u4f7f\u7528\uff09,min-max\u7b49\u90fd\u6709\u4f7f\u7528\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_2","title":"\u5e38\u89c1\u7684\u5f52\u4e00\u5316\u51fd\u6570\u8ba8\u8bba","text":"","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#min-max-scale","title":"min-max scale","text":"<p>\u5728\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u4e2d\uff0c\u51b3\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u80a1\u4ef7\u3001\u6216\u8005\u4efb\u4f55\u5b83\u7684\u4e00\u9636\u7ebf\u6027\u53d8\u6362\u6765\u8fdb\u884cmin-max scale\u6765\u4f5c\u4e3a\u56e0\u5b50\u3002\u5728\u5f88\u591a\u9886\u57df\uff0cmin-max\u5f52\u4e00\u5316\u662f\u6709\u6548\u7684\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u9886\u57df\u4e2d\u7684\u6570\u636e\u662f\u6709\u754c\u7684\u3002\u6bd4\u5982\uff0c\u4eba\u7684\u8eab\u9ad8\uff0c\u5927\u7ea6\u662f20cm\u5230250cm\u3002\u8fd9\u662f\u4e00\u4e2a\u786e\u5b9a\u7684\u4e0a\u4e0b\u754c\u3002\u4f46\u80a1\u7968\u4ef7\u683c\u53ea\u6709\u4e0b\u754c\uff0c\u6ca1\u6709\u4e0a\u754c\u3002\u6bd4\u5982\u4e07\u79d1\u7684\u80a1\u4ef7\uff0c\u4ee5\u540e\u590d\u6743\u6765\u770b\uff0c\u57282018\u5e74\u8fbe\u5230\u8fc73700\u5143\u3002\u5982\u679c\u6211\u4eec\u91c7\u75282000\u5e74\u4ee5\u524d\u7684\u80a1\u4ef7\u4f5c\u4e3a\u56e0\u5b50\uff0c\u5e76\u4e14\u8fdb\u884cmin-max scale\uff0c\u90a3\u4e48\u6700\u7ec8\u7684\u9884\u6d4b\u503c\u662f\u51b3\u4e0d\u4f1a\u8d85\u8fc7\u5f53\u65f6\u7684\u6700\u9ad8\u4ef7\u7684\u3002</p> <p>\u4f46\u662f\u6da8\u8dcc\u5e45\u3001RSI\u7b49\u6307\u6807\u5219\u6bd4\u8f83\u9002\u5408\u8fdb\u884cmin-max scale\u3002\u4f60\u5e94\u8be5\u6ce8\u610f\u5230\uff0c\u5b83\u4eec\u662f\u80a1\u4ef7\u7684\u4e8c\u9636\u51fd\u6570\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#sigmoidtanh","title":"sigmoid\u548ctanh","text":"<p>\u8fd9\u4e24\u4e2a\u51fd\u6570\u6548\u679c\u51e0\u4e4e\u76f8\u540c\uff0c\u4f46\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528sigmoid\u4f1a\u591a\u4e00\u4e9b\uff0c\u56e0\u4e3a\u5b83\u5728\u6c42\u5bfc\u65f6\uff0c\u8ba1\u7b97\u6027\u80fd\u66f4\u597d\u3002</p> \\[     S = \\frac{1}{1 + e^{-x}} \\] <p>\u5bf9sigmoid\u51fd\u6570\u8fdb\u884c\u6c42\u5bfc\uff0c\u5176\u7ed3\u679c\u4e3a</p> \\[ dS = S * (1 - S) \\] <p>\u8fd9\u6837\u5728\u8ba1\u7b97\u4e2d\u53ef\u4ee5\u5229\u7528\u539f\u51fd\u6570\uff0c\u6240\u4ee5\u901f\u5ea6\u66f4\u5feb\u3002</p> <p>\u4e24\u8005\u7684\u53d8\u6362\u56fe\u5f62\u5982\u4e0b\uff1a</p> <p></p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#sine","title":"sine","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4e0d\u4f7f\u7528sin\u51fd\u6570\u6765\u8fdb\u884c\u5f52\u4e00\u5316\u3002\u56e0\u4e3a\u5b83\u7684\u53d6\u503c\u6709\u5468\u671f\u6027\u3002\u4f46\u8fd9\u4e5f\u4e0d\u7edd\u5bf9\uff0c\u5728google\u65e9\u671f\u7684NMT\u6a21\u578b\u4e2d\uff0c\u5c31\u5927\u91cf\u4f7f\u7528\u4e86sin\u6765\u8fdb\u884c\u5f52\u4e00\u5316\uff0c\u56e0\u4e3a\u5b83\u6b63\u597d\u80fd\u63d0\u53d6\u4e24\u4e2a\u76f8\u5173\u8054\u7684\u8bed\u7d20\u4e4b\u95f4\u95f4\u9694\u7684\u5468\u671f\u6027\u3002\u5c3d\u7ba1\u5f88\u5c11\u770b\u5230\u62a5\u9053\u91cf\u5316\u7b56\u7565\u5728\u6df1\u5ea6\u5b66\u4e60\u4e0a\u4f7f\u7528sin\u51fd\u6570\uff0c\u4f46\u8003\u8651\u5230\u7ecf\u6d4e\u7684\u5468\u671f\u6027\uff0c\u4ea4\u6613\u884c\u4e3a\u7684\u5468\u671f\u6027\uff0c\u5468\u671f\u7c7b\u7684\u5f52\u4e00\u5316\u51fd\u6570\u4e00\u5b9a\u53ef\u4ee5\u5728\u56e0\u5b50\u63d0\u53d6\u4e2d\u53d1\u6325\u4f5c\u7528\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#z-score","title":"z-score\u548c\u6b63\u5219\u5316","text":"<p>\u524d\u9762\u4ecb\u7ecd\u8fc7\uff0cz-score\u65b9\u6cd5\u4e0d\u80fd\u53bb\u91cf\u7eb2\uff0c\u56e0\u800c\u4e00\u822c\u4e0d\u9002\u7528\u4e8e\u6df1\u5ea6\u5b66\u4e60\u3002\u6b63\u5219\u5316\u65b9\u6cd5\u80fd\u5c06\u6570\u636e\u538b\u7f29\u5728[0-1]\u533a\u95f4\uff0c\u6211\u4eec\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8ddfmin-max\u4e00\u6837\uff0c\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u62ff\u80a1\u4ef7\u53d8\u6362\u4f5c\u4e3a\u56e0\u5b50\u3002\u5f53\u7136\u8fd9\u4e00\u70b9\uff0c\u53ef\u80fd\u5bf9\u5176\u5b83\u65b9\u6cd5\u4e5f\u662f\u9002\u7528\u7684\u3002</p> <p>\u6709\u4eba\u4f1a\u8ba4\u4e3a\uff0c\u80a1\u4ef7\u6ce2\u52a8\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u8fd9\u662f\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528z-score\u53d8\u6362\u7684\u539f\u56e0\uff0c\u5b9e\u9645\u4e0a\u4e3b\u8981\u539f\u56e0\u8fd8\u662f\u91cf\u7eb2\u95ee\u9898\u3002\u662f\u5426\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u66f4\u591a\u5730\u662f\u610f\u5473\u7740\u6211\u4eec\u80fd\u5426\uff08\u5982\u4f55\uff09\u8fdb\u884c\u7edf\u8ba1\u63a8\u65ad\u7684\u95ee\u9898\u3002\u53e6\u5916\uff0c\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\u7684\u6570\u636e\uff0c\u6570\u636e\u70b9\u4e4b\u95f4\u7684\u5206\u5e03\u4f1a\u51fa\u73b0\u624e\u5806\uff0c\u4e0d\u591f\u5747\u5300\u7684\u95ee\u9898\u3002</p> <p>\u8fd9\u4e5f\u5f15\u51fa\u6765\u5f52\u4e00\u5316\u51fd\u6570\u7684\u8bc4\u4ef7\u95ee\u9898\uff0c\u5373\u4ec0\u4e48\u662f\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_3","title":"\u4ec0\u4e48\u662f\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570","text":"<p>\u5728\u91cf\u5316\u7b56\u7565\u4e2d\uff0c\u597d\u7684\u5f52\u4e00\u5316\u51fd\u6570\uff0c\u9996\u5148\u8981\u6ee1\u8db3\u5355\u8c03\u6027\u539f\u5219\uff0c\u5176\u6b21\uff0c\u8981\u4f7f\u5f97\u6700\u5e38\u51fa\u73b0\u7684\u6570\u636e\u70b9\uff0c\u6709\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u6b64\u5916\uff0c\u8fd8\u6d89\u53ca\u5230\u5206\u8fa8\u7387\u95ee\u9898\u3002</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6709\u4e00\u4e9b\u51fd\u6570\uff0c\u5728\u6570\u5b66\u4e0a\u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u4f46\u5728\u8ba1\u7b97\u673a\u5b9e\u73b0\u4e2d\uff0c\u7531\u4e8e\u6d6e\u70b9\u6570\u8bef\u5dee\u95ee\u9898\uff0c\u4f1a\u5bfc\u81f4\u5b9e\u9645\u4e0a\u4e0d\u6ee1\u8db3\u5355\u8c03\u6027\u3002</p> <p>\u6bd4\u5982 sigmoid(13) \u548csigmoid(26)\uff0c\u54ea\u4e2a\u5927\uff1f\u4ece\u6570\u5b66\u4e0a\u770b\uff0c\\(26 &gt; 13\\)\uff0c\u56e0\u6b64\uff0c \\(sigmoid(26) &gt; sigmoid(13)\\)\u6210\u7acb\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u4e0b\u9762\u7684\u4ee3\u7801\u5c06\u9a8c\u8bc1\u8fd9\u4e24\u4e2a\u6570\u503c\u662f\u76f8\u7b49\u7684\uff1a</p> <pre><code>import numpy as np\n\ndef sigmoid(x):\n    return 1/(1 + np.exp(-x))\n\nassert sigmoid(13) - sigmoid(26) &lt; 1e-7\n</code></pre> <p>1e-7\u662f32\u4f4d\u6d6e\u70b9\u6570\u6240\u80fd\u7cbe\u786e\u8868\u793a\u7684\u6700\u5c0f\u7cbe\u5ea6\u3002\u800c\u6211\u4eec\u5728\u6df1\u5ea6\u5b66\u4e60\u4e2d\uff0c\u6743\u91cd\u77e9\u9635\u4e00\u822c\u4f7f\u752832 bit\uff0c\u73b0\u572816-bit\u7684\u6743\u91cd\u4e5f\u5f88\u5e38\u89c1\u4e86\u3002</p> <p>sigmoid(13)\u4e0esigmoid(26)\u76f8\u7b49\uff01\u8fd9\u610f\u5473\u7740\u5355\u8c03\u6027\u539f\u5219\u88ab\u6253\u7834\u3002</p> <p>\u53e6\u4e00\u4e2a\u95ee\u9898\u5c31\u662f\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u5bf9\u6570\u636e\u8fdb\u884cz-score\u5316?\u8fd9\u662f\u4e3a\u4e86\u8ba9\u51fa\u73b0\u9891\u7387\u6700\u9ad8\u7684\u6570\u636e\u6bb5\uff0c\u5b83\u4eec\u90fd\u6620\u5c04\u5230\u4ee50\u4e3a\u4e2d\u5fc3\u9644\u8fd1\u7684\u533a\u57df\u4e0a\u6765\uff0c\u5728\u8fd9\u4e00\u533a\u6bb5\uff0c\u54cd\u5e94\u7075\u654f\u5ea6\u6700\u9ad8\u3002</p> <p>\u4ecesigmoid\u4e0etanh\u7684\u5bf9\u6bd4\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c\u5bf9sigmoid\u800c\u8a00\uff0c\u5728[-5\uff0c5]\u533a\u95f4\u5185\u7684\u6570\u503c\uff0c\u5b83\u7684\u4eecsigmoid\u503c\u5bf9x\u6709\u8f83\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u533a\u95f4\uff0c\u5219\u51fa\u73b0\u949d\u5316\u3002\u8fd9\u79cd\u949d\u5316\u610f\u5473\u7740\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u66f4\u5c0f\u7684\u5b66\u4e60\u7387(learning-rate)\u624d\u80fd\u8fdb\u884c\u8f83\u597d\u7684\u8c03\u6821\u3002</p> <p>\u6240\u4ee5\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u76f4\u63a5\u4f7f\u7528sigmoid\uff0c\u800c\u662f\u4f7f\u7528\u5b83\u7684\u4e00\u4e2a\u53d8\u6362\u7248\u672c\uff1a</p> <pre><code>def scaled_sigmoid(x, start, end):\n    \"\"\"\u5f53`x`\u843d\u5728`[start,end]`\u533a\u95f4\u65f6\uff0c\u51fd\u6570\u503c\u4e3a[0,1]\u4e14\u5728\u8be5\u533a\u95f4\u6709\u8f83\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\n    \"\"\"\n    n = np.abs(start - end)\n\n    score = 2/(1 + np.exp(-np.log(40_000)*(x - start - n)/n + np.log(5e-3)))\n    return score/2\n</code></pre> <p>\u4e0b\u9762\u7684\u56fe\uff0c\u663e\u793a\u4e86\u5f53\u6570\u636e\u4e3b\u8981\u5206\u5e03\u5728\u4e0d\u540c\u7684[start, end]\u533a\u95f4\u65f6\uff0c\u53d8\u6362\u540e\u7684sigmoid\u65b9\u6cd5\u90fd\u80fd\u4f7f\u5f97\u4e2d\u5fc3\u5206\u5e03\u6709\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6 -- \u8fd9\u4e5f\u662f\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u505az-score\u53d8\u6362\u7684\u539f\u56e0\u3002</p> <p></p> <p>\u5728\u5b50\u56fe1\u4e2d\uff0c\u6211\u4eec\u8ba9\u6570\u636e\u5728[0,1]\u4e4b\u95f4\u6709\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u5b50\u56fe2\u4e2d\uff0c\u5982\u679c\u6570\u636e\u7ecf\u5e38\u843d\u572850\u9644\u8fd1\uff0c\u6b63\u8d1f50\u4e4b\u95f4\u6ce2\u52a8\uff0c\u4e5f\u80fd\u5f97\u5230\u6700\u597d\u7684\u54cd\u5e94\u7075\u654f\u5ea6\u3002\u5b50\u56fe4\u5219\u663e\u793a\u7684\u662f\u539f\u59cb\u7684sigmoid\u5728[0,100]\u4e4b\u95f4\u7684\u53d6\u503c\u60c5\u51b5\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_4","title":"\u56e0\u5b50\u5f52\u4e00\u5316\u793a\u4f8b","text":"","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_5","title":"\u6da8\u505c\u540e\u6574\u7406\u5468\u671f\u56e0\u5b50","text":"<p>\u80a1\u7968\u6da8\u505c\u662f\u5f3a\u52bf\u7684\u8868\u73b0\uff08\u4f60\u53ef\u4ee5\u81ea\u5df1\u5c1d\u8bd5\u4e00\u4e0b\uff0c\u65e9\u76d810\uff1a00\u5f3a\u6da8\u505c\u7684\u80a1\u7968\uff0c\u8981\u7ef4\u6301\u5b83\u4e0d\u6253\u5f00\u4f1a\u6709\u591a\u96be\uff09\u3002\u8003\u8651\u5230\u6da8\u505c\u5f53\u5929\u65e0\u6cd5\u4e70\u8fdb\uff0c\u4f46\u540e\u7eed\u53ef\u80fd\u8c03\u6574\u4e00\u6bb5\u65f6\u95f4\uff0c\u53ef\u80fd\u6709\u4f4e\u4f4d\u8fdb\u573a\u7684\u673a\u4f1a\u3002\u6211\u4eec\u60f3\u77e5\u9053\uff0c\u5927\u6982\u5728\u6da8\u505c\u540e\u7b2c\u51e0\u5929\u8fdb\u573a\uff0c\u6210\u529f\u7387\u6700\u9ad8\u3002</p> <p>Tip</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5982\u679c\u7eaf\u7cb9\u53ea\u770b\u65f6\u95f4\u5468\u671f\uff0c\u5e94\u8be5\u662f1, 3, 5, 8\u7b49fib\u5e8f\u5217\u300210\u548c20\u4e5f\u662f\u4e0d\u9519\u7684\u6570\u5b57\uff0c\u521a\u597d\u5bf9\u5e94\u4e24\u5468\u548c\u4e00\u4e2a\u6708\u3002</p> <p>\u8fd9\u662f\u53ef\u4ee5\u4f7f\u7528sin\u8fdb\u884c\u5f52\u4e00\u5316\u7684\u4f8b\u5b50\u3002\u6da8\u505c\u540e\u7684\u8c03\u6574\u5929\u6570\uff0c\u672c\u6765\u5c31\u6ca1\u6709\u5355\u8c03\u7684\u610f\u4e49\uff08\u5373\uff0c\u4e0d\u4f1a\u8c03\u6574\u8d77\u4e45\uff0c\u4e0a\u6da8\u6982\u7387\u8d8a\u5927\uff09\uff0c\u76f8\u53cd\uff0c\u5b83\u53ef\u80fd\u5448\u73b0\u67d0\u79cd\u5468\u671f\u56e0\u7d20\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_6","title":"\u5730\u91cf\u56e0\u5b50","text":"<p>\u5982\u679c\u67d0\u652f\u80a1\u7968\u3001\u6216\u8005\u6279\u6570\u67d0\u4e00\u5929\u89c1\u4e86\u5730\u91cf\uff0c\u8fd9\u610f\u5473\u7740\u4eba\u6c14\u51b7\u6e05\u5230\u6781\u70b9\uff0c\u4e0b\u8dcc\u4e5f\u5230\u4e86\u5c3d\u5934\u3002\u6240\u8c13\u5730\u91cf\u89c1\u5730\u4ef7\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u7528\u5f53\u5929\u7684\u6210\u4ea4\u91cf\u662f\u591a\u5c11\u5929\uff08n\uff09\u4ee5\u6765\u7684\u6700\u5c0f\u503c\u6765\u63cf\u8ff0\u5730\u91cf\u3002\u663e\u7136\uff0c\u8fd9\u4e2a\u503c\u8d8a\u5927\u8d8a\u597d\u3002\u4f46\u5b83\u4e5f\u4e0d\u53ef\u80fd\u65e0\u9650\u5927\uff0c\u5982\u679c\u771f\u662f\u8fd9\u6837\uff0c\u5730\u91cf\u89c1\u5730\u4ef7\u8fd9\u4e00\u80a1\u8c1a\u4e5f\u5c31\u4e0d\u6210\u7acb\u4e86\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u7edf\u8ba1\u4e00\u4e0b\uff0c\u7136\u540e\u53d6\u4e00\u4e2a\u5408\u7406\u7684\u533a\u95f4\uff0c\u7528\u4e0a\u9762\u7684scaled_sigmoid\u6765\u63d0\u53d6\u56e0\u5b50\uff0c\u7528\u4ee5\u6df1\u5ea6\u5b66\u4e60\u3002\u8fd9\u4e2a\u533a\u95f4\u7684\u4e0b\u754c\uff0c\u53ef\u80fd\u81f3\u5c11\u5f9730\u8d77\u3002</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2023/12/16/%E5%9F%BA%E4%BA%8E%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E7%9A%84%E9%87%8F%E5%8C%96%E7%AD%96%E7%95%A5%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BD%92%E4%B8%80%E5%8C%96/#_7","title":"\u6982\u7387\u56e0\u5b50","text":"<p>\u4e00\u4e9b\u6570\u636e\u8f6c\u6362\u6210\u6982\u7387\u4e4b\u540e\uff0c\u5929\u7136\u5c31\u662f\u5206\u5e03\u5728[0,1]\u4e4b\u95f4\u7684\u3002\u6240\u4ee5\uff0c\u5f53\u6211\u4eec\u6ca1\u6709\u5f52\u4e00\u5316\u601d\u8def\u65f6\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7ecf\u9a8c\u5206\u5e03\u51fd\u6570\uff0c\u6c42\u5f97\u7ecf\u9a8ccdf/ppf\u51fd\u6570\uff0c\u4ece\u800c\u5f97\u5230\u67d0\u4e2a\u6570\u636e\u51fa\u73b0\u65f6\uff0c\u5bf9\u5e94\u7684\u6982\u7387\u3002\u8fd9\u4e2a\u6982\u7387\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u6df1\u5ea6\u5b66\u4e60\u7684\u56e0\u5b50\u3002</p> <p>\u5bf9\u672c\u6587\u4e2d\u7684\u4e00\u4e9b\u6982\u5ff5\uff0c\u6bd4\u5982\u6d6e\u70b9\u8bef\u5dee\uff0c\u5f52\u4e00\u5316\u51fd\u6570\u7684\u4f5c\u7528\uff0cCDF/PPF\uff0c\u4e0d\u592a\u7406\u89e3\u7684\u8bdd\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7cfb\u7edf\u5730\u5b66\u4e60\u4e00\u4e9b\u91cf\u5316\u8bfe\u7a0b\u3002\u672c\u7bc7\u5185\u5bb9\u6574\u7406\u81ea\u6211\u4eec\u7684\u8bfe\u7a0b\u7d20\u6750\uff0c\u6b22\u8fce\u52a0\u5165\uff01</p>","tags":["algorithms","machine learning","strategy","python","sklearn"]},{"location":"blog/2024/01/25/finding-alphas-a-quantitative-approach/","title":"\u6765\u81ea\u4e16\u5764\uff01\u5bfb\u627eAlpha \u6784\u5efa\u4ea4\u6613\u7b56\u7565\u7684\u91cf\u5316\u65b9\u6cd5","text":"<p>\u95ee\uff1a\u5e38\u5e38\u770b\u5230\u6709\u4eba\u8bf4Alpha seeking\uff0c\u8fd9\u7a76\u7adf\u662f\u4ec0\u4e48\u610f\u601d\uff1f</p> <p>\u81ea\u5df1\u56de\u7b54\u4e0d\u5982\u63a8\u8350\u4e00\u672c\u4e66\uff1a\u300aFinding Alphas: A Quantitative Approach to Building Trading Strategies\u300b\uff0c\u5b83\u7684\u9898\u76ee\u6b63\u597d\u5c31\u662f\u5bfb\u627eAlpha\u3002\u6211\u62ff\u5230\u7684PDF\u662f2019\u5e74\u7684\u7b2c\u4e8c\u7248\u3002\u6765\u81eaWorldQuant\uff08\u4e16\u5764\uff09\u7684Igor Tulchinshky\u7b49\u4eba\uff0cIgor Tulchinshky\u662f\u4e16\u5764\u7684\u521b\u59cb\u4eba\u3002</p> <p>Alpha\u8d77\u6e90\u4e8e60\u5e74\u4ee3\u7684\u8d44\u672c\u8d44\u4ea7\u5b9a\u4ef7\u6a21\u578b\uff08CAPM\uff09\u7406\u8bba\u3002\u8be5\u7406\u8bba\u8ba4\u4e3a\uff0c\u80a1\u7968\u7684\u9884\u671f\u56de\u62a5\u7531\u65e0\u98ce\u9669\u5229\u7387\uff0calpha\u56de\u62a5\u4ee5\u53ca\u5e02\u573a\u98ce\u9669\u66b4\u9732\uff08\u5373beta\u56de\u62a5\uff09\u5171\u540c\u6784\u6210\u3002Alpha\u662f\u80a1\u7968\u56de\u62a5\u7684\u9a71\u52a8\u56e0\u7d20\u3002</p> <p>\u5173\u4e8eAlpha\u7684\u8d77\u6e90\u53ca\u5b9a\u4e49\uff0c\u8fd8\u6709\u5176\u5b83\u4e00\u4e9b\u8bf4\u6cd5\u3002\u6bd4\u5982\u4eca\u5929\u63a8\u8350\u7684\u8fd9\u672c\u4e66\u8ba4\u4e3a\uff0cAlpha\u8d77\u6e90\u4e8e\u829d\u52a0\u54e5\u5927\u5b66\u7684\u7ecf\u6d4e\u5b66\u535a\u58ebMichael Jensen\u4e8e1968\u5e74\u53d1\u8868\u7684\u4e00\u7bc7\u8bba\u6587\u3002\u5728\u8be5\u8bba\u6587\u4e2d\u4ed6\u4f7f\u7528\u4e86Jensen's Alpha\u4e00\u8bcd\uff0c\u7528\u4ee5\u63cf\u8ff0\u7ec4\u5408\u7684\u98ce\u9669\u8c03\u6574\u6536\u76ca\uff0c\u5e76\u786e\u5b9a\u5176\u662f\u5426\u4f18\u4e8e\u5e02\u573a\u9884\u671f\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4f3c\u4e4e\u4e0eCAPM\u7684Alpha\u5e76\u65e0\u4e0d\u540c\u3002</p> <p>\u4e16\u5764\u5b9a\u4e49\u7684Alpha\uff0c\u5219\u662f\u4e00\u79cd\u53ef\u4ee5\u4e3a\u6295\u8d44\u7ec4\u5408\u589e\u503c\u7684\u4ea4\u6613\u4fe1\u53f7\uff0c\u751a\u81f3\u662f\u7b97\u6cd5\u3001\u6e90\u4ee3\u7801\u53ca\u914d\u7f6e\u53c2\u6570\u7684\u7ec4\u5408\uff01QuantPian\u7684\u56e0\u5b50\u5206\u6790\u6846\u67b6Alphalens\uff0c\u4e5f\u5305\u542b\u4e86\u5bfb\u627eAlpha\u3001\u5373\u5bfb\u627e\u4ea4\u6613\u4fe1\u53f7\u7684\u542b\u4e49\u3002</p> <p>\u4ee5\u4e0a\u662f\u6211\u4e2a\u4eba\u5bf9Alpha\u7684\u4e00\u4e9b\u770b\u6cd5\u3002\u8fd9\u4e9b\u77e5\u8bc6\u70b9\u5728\u6211\u4eec\u7684\u300a\u91cf\u531624\u8bfe\u300b\u53ca\u6700\u65b0\u7684\u300a\u56e0\u5b50\u5206\u6790\u4e0e\u673a\u5668\u5b66\u4e60\u6a21\u578b\u300b\u4e2d\u90fd\u6709\u4ecb\u7ecd\u3002</p> <p>\u4e0b\u9762\u5c31\u4ecb\u7ecd\u4e0b\u8fd9\u672c\u4e66\u3002</p> <p>\u8fd9\u672c\u4e66\u4e0d\u5230300\u9875\uff0c\u6bd4\u8f83\u9002\u5408\u5165\u95e8\u3002\u5728\u524d\u4e24\u7ae0\u4e2d\u4ecb\u7ecd\u4e86Alpha\u548c\u91cf\u5316\u6295\u8d44\u7684\u7b80\u77ed\u5386\u53f2\u3002\u8003\u8651\u5230\u5173\u4e8e\u91cf\u5316\u6295\u8d44\u6709\u5f88\u591a\u4ee5\u8bb9\u4f20\u8bb9\u7684\u4fe1\u606f\u5728\u5e7f\u6cdb\u6d41\u4f20\uff08\u6b63\u5982\u6211\u4eec\u5df2\u7ecf\u770b\u5230\u7684\uff0c\u4ec0\u4e48\u662fAlpha\uff0c\u5c31\u6709\u597d\u51e0\u79cd\u8bf4\u6cd5 -- \u8fd9\u8fd8\u4e0d\u5305\u62ec\u6240\u8c13\u7684Alpha\u7b56\u7565\uff09\uff0c\u7531Igor Tulchinshky\u4f5c\u7684\u5e8f\uff0c\u65e0\u7591\u53ef\u4ee5\u8d77\u5230\u6b63\u672c\u6e05\u6e90\u7684\u4f5c\u7528\u3002</p> <p>\u5728\u8fd9\u4e24\u7ae0\u4e2d\uff0cEMH\u53c8\u4e00\u6b21\u88ab\u62ff\u51fa\u6765\u6279\u5224\u3002\u4ed6\u8fd8\u5b9e\u9645\u4e0a\u5f15\u7528\u4e86\u683c\u7f57\u65af\u66fc\u2013\u65af\u8482\u683c\u5229\u8328\u6096\u8bba\u6765\u8fdb\u884c\u6279\u5224\uff0c\u4f46\u6ca1\u6709\u6307\u51fa\u6765\u8fd9\u4e00\u89c2\u70b9\u5b9e\u9645\u4e0a\u6765\u81ea\u4e8e\u683c\u7f57\u65af\u66fc\u2013\u65af\u8482\u683c\u5229\u8328\u3002\u5728\u300a\u91cf\u531624\u8bfe\u300b\u7684\u5bfc\u8bba\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u5bf9\u91cf\u5316\u7684\u5386\u53f2\u53d1\u5c55\u8fdb\u7a0b\u53d1\u6398\u5f97\u66f4\u5145\u5206\u4e00\u4e9b\uff0c\u5728\u90a3\u91cc\uff0c\u6211\u4eec\u662f\u660e\u786e\u6307\u51fa\u8fd9\u4e2a\u6096\u8bba\u76f4\u63a5\u5bfc\u81f4\u4e86\u73b0\u4ee3\u5fae\u89c2\u91d1\u878d\u7406\u8bba\u5411\u884c\u4e3a\u91d1\u878d\u5b66\u8fc7\u6e21\u7684\u4e8c\u6b21\u521b\u4e1a\u3002\u8fd9\u4e2a\u5bfc\u8bba\u662f\u514d\u8d39\u4e0b\u8f7d\u7684\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u5728\u6211\u4eec\u7f51\u7ad9\u4e0a\u4e0b\u8f7d\u3002</p> <p>\u7b2c\u4e00\u7ae0\u4ecb\u7ecd\u4e86\u5982\u4f55\u8bbe\u8ba1Alpha\u7684\u5173\u952e\u6982\u5ff5\u3002\u6bd4\u5982\u5982\u4f55\u8bc4\u4ef7\u4e00\u4e2a\u597d\u7684Alpha\uff1a</p> <ul> <li>\u7b80\u6d01\u4e4b\u7f8e\uff1aalpha\u9690\u542b\u7684idea\u548c\u6570\u5b66\u8868\u8fbe\u90fd\u662f\u7b80\u5355\u7684</li> <li>\u6837\u672c\u5185\u9ad8\u590f\u666e\u6bd4\u7387</li> <li>\u5bf9\u6570\u636e/\u53c2\u6570\u7684\u5fae\u5c0f\u6539\u53d8\u4e0d\u654f\u611f\u3002\u6ce8\uff1a\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u53c2\u6570\u5e73\u539f</li> <li>\u5728\u4e0d\u540c\u7684universe\u90fd\u6709\u6548</li> <li>\u5728\u4e0d\u540c\u7684\u80a1\u7968\u5e02\u573a\u90fd\u6709\u6548</li> </ul> <p>\u8fd9\u4e9b\u63d0\u6cd5\u6bd4\u8f83\u62bd\u8c61\u3002\u5728\u5177\u4f53\u5b9e\u8df5\u4e2d\uff0c\u56e0\u5b50\u5206\u6790\u6846\u67b6\u4f1a\u7528\u5404\u79cd\u6307\u6807\uff0c\u6bd4\u5982IC, IR, \u6362\u624b\u7387\u7b49\u7b49\u4ece\u4e0d\u73b0\u7684\u65b9\u9762\u6765\u63ed\u793aAlpha\u7684\u7279\u8d28\u3002</p> <p>\u8fd9\u4e00\u7ae0\u8fd8\u7ed9\u51fa\u4e86\u6316\u6398Alpha\u7684\u6b65\u9aa4\uff1a</p> <ol> <li>\u63a2\u7d22\u6570\u636e\u7684\u5206\u5e03</li> <li>\u83b7\u53d6\u4e00\u4e2aidea</li> <li>\u7528\u6570\u5b66\u628aidea\u53d8\u6210\u80a1\u7968\u6301\u4ed3</li> <li>\u6d4b\u8bd5\u8fd9\u4e2a\u6570\u5b66\u8868\u8fbe</li> </ol> <p>\u5728\u300a\u56e0\u5b50\u5206\u6790\u4e0e\u673a\u5668\u5b66\u4e60\u6a21\u578b\u300b\u4e2d\uff0c\u6211\u4eec\u662f\u8fd9\u6837\u5212\u5206\u6b65\u9aa4\u7684\uff1a</p> <ol> <li>\u83b7\u53d6\u539f\u59cb\u6570\u636e</li> <li>\u63d0\u53d6\u56e0\u5b50</li> <li>\u56e0\u5b50\u9884\u5904\u7406</li> <li>\u5355\u56e0\u5b50\u68c0\u9a8c</li> </ol> <p>\u7531\u56e0\u5b50\u5230\u7b56\u7565\uff0c\u8fd8\u6709\u4e00\u4e2a\u56e0\u5b50\u7ec4\u88c5\u95ee\u9898\uff0c\u4e0d\u8fc7\u8fd9\u5df2\u7ecf\u662f\u56e0\u5b50\u5206\u6790\u7684\u624b\u7eed\u6b65\u9aa4\u4e86\u3002</p> <p>\u7b2c\u4e8c\u7ae0\u5185\u5bb9\u4e3b\u8981\u662f\u56de\u987e\u91cf\u5316\u5386\u53f2\uff0c\u8ba8\u8bba\u4e86Alpha\u662f\u5426\u5b58\u5728\uff0c\u6765\u6e90\u7b49\u7b49\u3002\u8fd9\u4e00\u7ae0\u63d0\u5230\u4e00\u4e2a\u91cd\u8981\u89c2\u70b9\uff0c\u662f\u503c\u5f97\u5927\u5bb6\u6ce8\u610f\u7684\u3002\u5c31\u662f\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u770b\u5f85\u5b66\u672f\u6587\u732e\u5728\u91cf\u5316\u4e2d\u7684\u4f5c\u7528\u3002\u5728\u5bfb\u627e\u8d44\u4ea7\u4ef7\u683c\u4e4b\u95f4\u7684\u5408\u7406\u5173\u7cfb\u65f6\uff0c\u5b66\u672f\u6587\u732e\u4e00\u76f4\u5e76\u5c06\u7ee7\u7eed\u662f\u601d\u60f3\u7684\u91cd\u8981\u6765\u6e90\u3002\u4f46\u662f\u4e3a\u4e86\u5904\u7406\u4e0a\u7684\u65b9\u4fbf\uff0c\u8bba\u6587\u5e38\u5e38\u57fa\u4e8e\u4e0d\u5b8c\u6574\u3001\u6216\u8005\u4e0e\u5b9e\u9645\u5e02\u573a\u4e0d\u4e00\u81f4\u7684\u5047\u8bbe\u3002\u7b80\u8a00\u4e4b\uff0c\u5c3d\u4fe1\u4e66\u4e0d\u5982\u65e0\u4e66\u3002</p> <p>\u7b2c\u4e8c\u90e8\u5206\u4ece\u7b2c4\u7ae0\u5f00\u59cb\uff0c\u5230\u7b2c17\u7ae0\u7ed3\u675f\uff0c\u8ba8\u8bba\u4e86\u5bfb\u627eAlpha\u8fc7\u7a0b\u4e2d\u7684\u65b9\u65b9\u9762\u9762\uff0c\u6bd4\u5982\u5982\u4f55\u5904\u7406\u6570\u636e\u3001\u8bc4\u4f30Alpha\u56e0\u5b50\uff0c\u63a7\u5236\u504f\u5dee\u7b49\u7b49\u3002\u7b2c15\u7ae0\u548c\u7b2c16\u7ae0\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528\u673a\u5668\u5b66\u4e60\uff0c\u81ea\u52a8\u641c\u7d22\u56e0\u5b50\u3002</p> <p>\u4ece18\u7ae0\u5f00\u59cb\uff0c\u5177\u4f53\u4ecb\u7ecd\u4e86\u5404\u79cd\u573a\u666f\u4e0b\u7684\u56e0\u5b50\u5e94\u8be5\u8bbe\u8ba1\uff0c\u6bd4\u5982\u57fa\u672c\u9762\u7684\u3001\u52a8\u91cf\u56e0\u5b50\u3001\u65e5\u5185\u3001\u4e8b\u4ef6\u9a71\u52a8\u56e0\u5b50\u7b49\u7b49\uff0c\u8fd9\u4e00\u90e8\u5206\u5bf9\u62d3\u5bbd\u77e5\u8bc6\u9762\u6bd4\u8f83\u6709\u5e2e\u52a9\u3002</p> <p>\u8fd9\u672c\u4e66\u8c08\u65b9\u6cd5\u6bd4\u8f83\u591a\uff0c\u6bd4\u8f83\u9002\u5408\u5165\u95e8\uff0c\u6709\u4e86\u4e00\u4e2a\u5168\u8c8c\u4e4b\u540e\uff0c\u518d\u770bZura Kakushadze\u7684\u300a101 Formulaic Alphas\u300b\uff0c\u5b83\u7684\u4ee3\u7801\u4f1a\u591a\u4e00\u70b9\uff08\u4f2a\u4ee3\u7801\uff09\u3002\u770b\u5b8c\u8fd9\u4e24\u672c\u4e66\uff0c\u4f60\u53ef\u80fd\u4ecd\u7136\u65e0\u6cd5\u4e0b\u624b\u5b9e\u4f5c\u4e00\u4e2a\u56e0\u5b50\u5206\u6790\u548c\u5b9e\u73b0\u4e00\u4e2a\u7b56\u7565\u3002\u5982\u679c\u662f\u8fd9\u6837\uff0c\u4f60\u53ef\u4ee5\u6765\u62a5\u540d\u6211\u4eec\u7684\u300a\u56e0\u5b50\u5206\u6790\u4e0e\u673a\u5668\u5b66\u4e60\u4ea4\u6613\u7b56\u7565\u300b\u8bfe\uff0c\u8bfe\u7a0b\u4ee5Notebook\u5448\u73b0\uff0c\u53ef\u4ee5\u8fb9\u770b\u89e3\u8bf4\u8fb9\u8fd0\u884c\u4ee3\u7801\u3002\u9700\u8981\u7684\u6570\u636e\u4e5f\u65e0\u987b\u53e6\u5916\u51c6\u5907\uff0c\u90fd\u5728\u73af\u5883\u4e2d\u63d0\u4f9b\u4e86\u3002</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u6709\u66f4\u5168\u9762\u7684\u300a\u91cf\u531624\u8bfe\u300b\u3002</p> <p>\u8fd9\u672c\u4e66\u6ca1\u6709\u4e2d\u6587\u7248\u3002\u5982\u679c\u50cf\u6211\u4e00\u6837\u4e60\u60ef\u770b\u4e2d\u6587\uff0c\u53ef\u4ee5\u5728firefox\u4e2d\u5b89\u88c5\u4e00\u4e2a\u540d\u4e3a\u201c\u6c89\u6d78\u5f0f\u7ffb\u8bd1\u201d\u7684\u6269\u5c55\u3002\u5b83\u53ef\u4ee5\u7ffb\u8bd1PDF\u6587\u6863\uff0c\u5e76\u4e14\u5206\u4e24\u5217\u5bf9\u7167\u5c55\u793a\u3002</p> <p>\u4e0b\u8f7d PDF</p>","tags":["books","quant"]},{"location":"blog/2024/01/26/switch-to-decimal/","title":"\u6539\u7528\u5341\u8fdb\u5236\uff01\u70b9\u5dee\u5982\u4f55\u5f71\u54cd\u7b56\u7565","text":"<p>\u7b14\u8bb0\u5de6\u6570\u6548\u5e94\u3001\u6574\u6570\u5173\u53e3\u4e0e\u5149\u6298\u5c04\u4e2d\u5f15\u7528\u4e86\u5357\u52a0\u5dde\u5927\u5b66Lawrence Harris\u7684\u4e00\u7bc7\u8bba\u6587\u4e2d\uff0c\u54c8\u7406\u65af\u7814\u7a76\u4e86\u4ea4\u6613\u4ef7\u683c\u7684\u805a\u7c7b\u6548\u5e94\u3002\u805a\u7c7b\u6548\u5e94\u5bf9\u6211\u4eec\u786e\u5b9a\u538b\u529b\u4f4d\u3001\u5b8c\u5584\u4e0b\u5355\u7b97\u6cd5\u90fd\u6709\u4e00\u5b9a\u7684\u5f71\u54cd\u3002</p> <p>\u4f46\u662f\uff0c2001\u5e74\uff0c\u7f8e\u80a1\u53d8\u66f4\u4ea4\u6613\u5236\u5ea6\uff0c\u7531\u5206\u6570\u5236\u5207\u6362\u4e3a\u5341\u8fdb\u5236\u3002\u8fd9\u4e2a\u53d8\u5316\u5c31\u5bfc\u81f4\u4e86\u4ed6\u7684\u7814\u7a76\u7ed3\u8bba\u4f5c\u5e9f\u3002</p> <p>\u8fd9\u4e5f\u662f\u6211\u4eec\u5728\u91cf\u5316\u4e2d\u5fc5\u987b\u8981\u6ce8\u610f\u7684\uff1a\u4f60\u7528\u6765\u5206\u6790\u7684\u6570\u636e\uff0c\u5b83\u662f\u8fde\u7eed\u4e00\u81f4\u7684\u5417\uff1f\u4e2d\u95f4\u6709\u6ca1\u6709\u4efb\u4f55\u5236\u5ea6\u4e0a\u7684\u3001\u91c7\u96c6\u4e0a\u7684\u6539\u53d8\uff1f\u5982\u679c\u6709\uff0c\u6211\u4eec\u8fd8\u80fd\u4e0d\u80fd\u628a\u53d8\u5316\u70b9\u524d\u540e\u7684\u6570\u636e\u5f53\u6210\u4e00\u4e2a\u6574\u4f53\u6765\u7814\u7a76\u4f7f\u7528\uff1f</p> <p>\u8fd9\u7bc7\u6587\u7ae0\uff0c\u5c31\u501f\u8fd9\u4ef6\u4e8b\uff0c\u4ecb\u7ecd\u4e0b\u7f8e\u80a1\u5386\u53f2\u4e0a\u7684\u5206\u6570\u5236\u5230\u5341\u8fdb\u5236\u7684\u5207\u6362\uff0c\u63d0\u9192\u5927\u5bb6\u5728\u8fdb\u884c\u91cf\u5316\u7814\u7a76\u65f6\uff0c\u5bf9\u6570\u636e\u6e90\u8981\u8fdb\u884c\u8ba4\u771f\u5206\u6790\u3002\u5728\u4e16\u5764\u7684\u300aFinding Alpha\u300b\u90a3\u672c\u4e66\u4e2d\u4e5f\u8bb2\u8fc7\uff0c\u5bfb\u627eAlpha\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u6700\u91cd\u8981\u7684\u662f\u5c31\u662f\u4e86\u89e3\u4f60\u62ff\u5230\u7684\u6570\u636e\u3002\u6570\u636e\u672c\u8eab\u7684\u7f3a\u9677\uff0c\u662f\u4ea7\u751f\u5404\u79cd\u504f\u5dee\u6700\u5e38\u89c1\u53c8\u6700\u96be\u4ee5\u53d1\u89c9\u7684\u539f\u56e0\u3002</p> <p>\u7f8e\u80a1\u5386\u53f2\u4e0a\u4f7f\u7528\u7684\u6700\u5c0f\u589e\u91cf\u5355\u4f4d\uff08minimum spread\uff0c\u4e5f\u79f0\u4e3atick size\uff0c\u70b9\u5dee\uff09\u662f1/16\u7f8e\u5143\u3002\u8fd9\u79cd\u89c4\u5219\u6709\u65f6\u5019\u88ab\u79f0\u4e3afractions\uff08\u5206\u6570\u5236\uff09\u30022001\u5e744\u6708\u8d77\uff0c\u70b9\u5dee\u6539\u4e3a\u5341\u8fdb\u5236\uff0c\u5373\u6700\u5c0f\u589e\u91cf\u4e3a$0.01\u3002\u81ea2005\u5e74\u8d77\uff0c\u53c8\u63a8\u51fa\u4e86612\u89c4\u5219\uff0c\u5373\u5bf9\u5728$1\u4e4b\u4e0b\u7684\u80a1\u7968\uff0c\u5141\u8bb8\u5b83\u4eec\u4ee5$0.0001\u7684\u589e\u91cf\u8fdb\u884c\u62a5\u4ef7\u3002</p> <p>\u6839\u636e\u54c8\u7406\u65af\u7b49\u4eba\u5728\u300aStock Price Clustering and Discretenss\u300b\u4e2d\u7684\u7814\u7a76\uff0c\u4f7f\u7528\u5206\u6570\u5236\u70b9\u5dee\u65f6\uff0c\u80a1\u7968\u4ef7\u683c\u66f4\u5bb9\u6613\u805a\u96c6\u5728\u6574\u6570\u4e0a\uff0c\u6574\u6570\u6bd4\u4e00\u534a\uff08\u53738/16\uff09\u66f4\u5e38\u89c1\uff0c\u4e00\u534a\u5219\u6bd41/4\u53c8\u66f4\u5e38\u89c1\u3002\u6bd4\u5982\uff0c\u57281987\u5e7412\u670831\u65e5\uff0cCRSP\uff08Center for research in security prices\uff0c\u829d\u5927\u4e0b\u5c5e\u673a\u6784\u3002\u8fd9\u662f\u7814\u7a76\u7f8e\u80a1\u7684\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u6570\u636e\u5e93\uff0c\u5df2\u7ecf\u670955\u5e74\u5386\u53f2\u4e86\uff09\u6bcf\u65e5\u80a1\u7968\u6570\u636e\u5e93\u4e2d\uff0c2510\u4e2a\u6536\u76d8\u4ef7\u4e2d\u67092431\u4e2a\u53ef\u4ee5\u88abl/8\u6574\u9664\uff0c\u6574\u6570\u70b9\u6bd417.3%\uff0c\u534a\u6570\u70b912.8%\u3002\u8fd9\u4e00\u73b0\u8c61\u5bf9\u4e0b\u5355\u7b56\u7565\u7684\u4f18\u5316\u662f\u5341\u5206\u91cd\u8981\u7684\u3002\u6b64\u5916\uff0c\u4e0e\u5341\u8fdb\u5236\u76f8\u6bd4\uff0c\u5b83\u4e5f\u663e\u8457\u5730\u589e\u52a0\u4e86\u505a\u5e02\u5546\u7684\u5229\u6da6\u3002</p> <p></p> <p>\u5f53\u6700\u5c0f\u70b9\u5dee\u6539\u4e3a\u5341\u8fdb\u5236\uff0c\u5373\u6700\u5c0f\u5355\u4f4d\u53d8\u5316\u4e3a0.01\u7f8e\u5143\u65f6\uff0c\u8fd9\u6837\u4e00\u4e9b\u4e8b\u60c5\u53d1\u751f\u4e86\uff1a\u9996\u5148\uff0c\u8ba2\u5355\u64ae\u5408\u65f6\u7684\u65f6\u95f4\u4f18\u5148\u7684\u4ef7\u503c\u53d8\u4f4e\u4e86\u3002\u56e0\u4e3a\u70b9\u5dee\u5f88\u5c0f\uff0c\u6240\u4ee5\u4ea4\u6613\u8005\u53ef\u4ee5\u7565\u5fae\u63d0\u9ad8\u4ef7\u683c\uff0c\u4ece\u800c\u4f18\u5148\u6210\u4ea4\u3002\u800c\u5728\u6b64\u4e4b\u524d\uff0c\u7531\u4e8e\u70b9\u5dee\u8f83\u5927\uff0c\u60f3\u63d0\u9ad8\u4ef7\u683c\u4f1a\u5bfc\u81f4\u5229\u6da6\u53d1\u751f\u8f83\u5927\u7684\u53d8\u5316\uff0c\u4ece\u800c\u5b81\u613f\u4fdd\u6301\u4ef7\u683c\u4e0d\u53d8\uff0c\u591a\u6392\u961f\u4e00\u6bb5\u65f6\u95f4\u3002\u56e0\u6b64\uff0c\u5341\u8fdb\u5236\u4f1a\u7a0d\u7a0d\u589e\u52a0\u4e00\u4e9b\u4ea4\u6613\u91cf\uff0c\u56e0\u4e3a\u6210\u4ea4\u66f4\u5bb9\u6613\u4e86\u3002</p> <p>\u5728\u54c8\u7406\u65af\u7684\u8bba\u6587\u4e2d\u8fd8\u5b58\u5728\u5176\u5b83\u4e00\u4e9b\u91cd\u8981\u7ed3\u8bba\u3002\u663e\u7136\uff0c\u7531\u4e8e\u4ea4\u6613\u89c4\u5219\u7684\u4fee\u6539\uff0c\u8fd9\u4e9b\u7ed3\u8bba\uff0c\u7279\u522b\u662f\u5173\u4e8e\u4ef7\u683c\u5206\u5e03\u7684\u7ed3\u8bba\uff0c\u73b0\u5728\u90fd\u5df2\u5931\u6548\u4e86\u3002\u6839\u636e\u8fd9\u4e9b\u89c2\u5bdf\u800c\u7f16\u5199\u7684\u4ea4\u6613\u7b97\u6cd5\uff08\u7279\u522b\u662f\u4e0b\u5355\u7b97\u6cd5\u548c\u505a\u5e02\u5546\u7b56\u7565\uff09\u4e5f\u4e0d\u5f97\u4e0d\u4fee\u6539\u3002</p> <p>\u6b64\u5916\uff0c\u5728\u4f7f\u7528\u5206\u6570\u5236\u65f6\uff0c\u6574\u6570\u5173\u53e3\u7684\u538b\u529b\u548c\u652f\u6491\u66f4\u5f3a\uff08\u5c3d\u7ba11\u7f8e\u5143\u88ab\u5212\u5206\u6210\u4e8616\u4e2a\u6863\u4f4d\uff0c\u4f46\u4ea4\u6613\u8005\u53ea\u503e\u5411\u4f7f\u75280\uff0c1, 4\uff0c8\u7b49\u7b49\u8fd9\u6837\u5c11\u6570\u51e0\u4e2a\u6863\u4f4d\uff0c\u56e0\u6b64\u5728\u8fd9\u4e9b\u6863\u4f4d\u4e0a\u805a\u96c6\u7684\u59d4\u5355\u66f4\u591a\uff0c\u538b\u529b\u548c\u652f\u6491\u4e5f\u5c31\u66f4\u5f3a\uff09\u3002\u4f7f\u7528\u5341\u8fdb\u5236\u4e4b\u540e\uff0c\u6211\u4eec\u4ee5$2\u7684\u80a1\u7968\u4e3a\u4f8b\uff0c\u4ece$2.0\uff0c$2.1\uff0c$2.2\u76f4\u5230$2.9\uff0c\u6bcf\u4e00\u6863\u90fd\u662f\u6613\u8bb0\u3001\u6613\u64cd\u4f5c\u7684\u6574\u6570\u4f4d\uff0c\u56e0\u6b64\u805a\u7c7b\u6548\u5e94\u4f1a\u51cf\u8f7b\u4e00\u4e9b\u3002</p> <p>\u53e6\u5916\uff0c\u6027\u6025\u7684\u4ea4\u6613\u8005\u4e5f\u4f1a\u4f7f\u7528$2.11\u6765\u4e70\u8fdb\uff0c\u6216\u8005$2.09\u6765\u5356\u51fa\uff0c\u4ece\u800c\u4f7f\u5f97\u4ef7\u683c\u4f1a\u9002\u5f53\u5206\u6563\u4e00\u4e9b\u3002\u56e0\u6b64\uff0c\u5341\u8fdb\u5236\u4e0b\u6574\u6570\u5173\u53e3\u7684\u652f\u6491\u548c\u538b\u529b\u4f1a\u76f8\u5e94\u5730\u6bd4fractions\u4ea4\u6613\u5236\u4e0b\u8f7b\u4e00\u4e9b\u3002\u5982\u679c\u6211\u4eec\u7684\u7b56\u7565\uff08\u56e0\u5b50\uff09\u4e0e\u6574\u6570\u5173\u53e3\u76f8\u5173\uff0c\u90a3\u4e48\uff0c\u6570\u636e\u662f\u4e0d\u5e94\u8be5\u8de8\u8fc72001\u5e744\u6708\u8fd9\u6761\u5206\u754c\u7ebf\u7684\u3002</p> <p>\u5728\u5207\u6362\u5230\u5341\u8fdb\u5236\u671f\u95f4\uff0c\u4f55\u5f66\uff08\u65b0\u52a0\u5761\u7ba1\u7406\u5927\u5b66\uff09\u7b49\u4eba\u5bf9\u5207\u6362\u5e26\u6765\u7684\u5dee\u5f02\u8fdb\u884c\u4e86\u7814\u7a76\uff0c\u4ed6\u4eec\u7684\u8bba\u6587\u300aprice rounding and bid-ask spreads before and after the decimalization\u300b\uff0c\u53d1\u8868\u5728\u300a\u7ecf\u6d4e\u4e0e\u91d1\u878d\u56fd\u9645\u8bc4\u8bba\u300b\u671f\u520a\u4e0a\u3002\u4ed6\u4eec\u7684\u7ed3\u8bba\u662f\uff0c\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236\u540e\uff0c\u4ef7\u683c\u5f80\u5f80\u96c6\u4e2d\u5728100\u300150\u300125\u300110\u548c5\u7f8e\u5206\u4e0a\uff0c\u505a\u5e02\u5546\u7684\u5229\u6da6\u6709\u6240\u4e0b\u964d\u3002</p> <p>\u4f46\u662f\u4e24\u7bc7\u8bba\u6587\u90fd\u6bd4\u8f83\u5b66\u672f\u5316\uff0c\u5e76\u6ca1\u6709\u6307\u51fa\u8fd9\u79cd\u4ef7\u683c\u805a\u7c7b\u5728\u4ea4\u6613\u4e2d\u7684\u610f\u4e49\uff1a</p> <ol> <li>\u4ef7\u683c\u805a\u7c7b\u5f62\u6210\u5bc6\u96c6\u6210\u4ea4\u533a\uff0c\u4ece\u800c\u6784\u6210\u538b\u529b\u548c\u652f\u6491\u4f4d\uff0c\u5206\u6570\u5236\u8f6c\u5411\u5341\u8fdb\u5236\u540e\uff0c\u5f62\u6210\u4e86\u65b0\u7684\u4ef7\u683c\u805a\u7c7b\u70b9\uff0c\u4e5f\u5c31\u662f\u53d1\u751f\u4e86\u538b\u529b\u4f4d\u548c\u652f\u6491\u4f4d\u7684\u6f02\u79fb\u3002\u5bf9\u5e94\u7684\u56e0\u5b50\u7b56\u7565\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002</li> <li>\u4e0b\u5355\u7b97\u6cd5\u9700\u8981\u9488\u5bf9\u8fd9\u4e00\u73b0\u8c61\u8fdb\u884c\u4f18\u5316</li> <li>\u5206\u6570\u5236\u8f6c\u5411\u5341\u8fdb\u5236\uff0c\u53ef\u80fd\u5bfc\u81f4\u4e4b\u524d\u7684\u505a\u5e02\u7b56\u7565\u5931\u6548\u3002</li> </ol> <p>\u6b64\u5916\uff0c\u5728A\u80a1\uff0c\u6211\u4eec\u53d1\u73b0\u4ef7\u683c\u805a\u7c7b\u572810\u5143\u4ee5\u5185\uff0c\u53ef\u80fd\u5728\u6bcf\u4e00\u4e2a0.1\u5143\u5904\u90fd\u53d1\u751f\uff0c\u800c\u4e0d\u662f0.05\uff0c\u53e6\u5916\uff0c\u6307\u6570\u5219\u53ef\u80fd\u662f\u4ee5100\u4e3a\u805a\u7c7b\u70b9\u3002\u5982\u679c\u6211\u4eec\u8981\u81ea\u5df1\u53bb\u63a2\u7d22\u8fd9\u79cd\u89c4\u5f8b\uff0c\u4f55\u5f66\u7b49\u4eba\u7684\u7814\u7a76\u65b9\u6cd5\u662f\u53ef\u4ee5\u501f\u7528\u7684\u3002</p> <p>\u5728A\u80a1\uff0c\u4e5f\u6709\u7c7b\u4f3c\u7684\u4e8b\u4ef6\u3002\u6bd4\u5982\uff0cA\u80a1\u57282005\u5e74\u524d\u540e\u8fdb\u884c\u4e86\u80a1\u6743\u5206\u7f6e\u6539\u9769\uff0c\u8fdb\u5165\u4e86\u5168\u6d41\u901a\u65f6\u4ee3\u3002\u540c\u4e00\u5bb6\u516c\u53f8\uff0c\u5728\u6539\u5236\u524d\u540e\uff0c\u53ef\u4ee5\u6d41\u901a\u7684\u80a1\u4efd\u53d1\u751f\u4e86\u8f83\u5927\u7684\u53d8\u5316\u3002\u6bcf\u80a1\u5bf9\u5e94\u7684\u57fa\u672c\u6743\u76ca\u4e5f\u5fc5\u7136\u53d1\u751f\u8f83\u5927\u53d8\u5316\u3002</p> <p>\u8fd9\u91cc\u53ef\u4ee5\u8ba4\u4e3a\u53d1\u751f\u4e86\u4e00\u4e2a\u57fa\u672c\u9762\u4e0a\u7684\u65ad\u88c2\u5c42\u3002\u56e0\u6b64\uff0c\u5982\u679c\u4f60\u8981\u8fdb\u884c\u57fa\u672c\u9762\u5206\u6790\uff0c\u4e5f\u8bb8\u8981\u5148\u68c0\u89c6\u4e00\u4e0b\uff0c\u6570\u636e\u5728\u8de8\u8d8a2005\u5e74\u65f6\uff0c\u4f1a\u4e0d\u4f1a\u6709\u5f71\u54cd\u3002</p> <p>\u6709\u7684\u6570\u636e\u6e90\u5728\u63d0\u4f9b\u6570\u636e\u65f6\uff0c\u4ec5\u4ece2005\u5e74\u8d77\u5f00\u59cb\u63d0\u4f9b\uff0c\u65e0\u8bba\u662f\u5426\u662f\u51fa\u4e8e\u8fd9\u65b9\u9762\u7684\u8003\u8651\uff0c\u4f46\u786e\u5b9e\u6709\u5b83\u9053\u7406\u3002</p>","tags":["investing"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/","title":"\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801","text":"<p>\u65e2\u7136c/java/python\u7b49\u8bed\u8a00\u7684\u7d22\u5f15\u90fd\u4ece\u96f6\u5f00\u59cb\uff0c\u56e0\u6b64\u6211\u4eec\u7684\u76d8\u70b9\u4e5f\u4ece\u4e00\u884c\u4ee3\u7801\u4e5f\u6ca1\u6709\u7684\u9879\u76ee\u5f00\u59cb</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#0-no-code","title":"0\u884c: No Code","text":"<p>\u8fd9\u4e2a\u9879\u76ee\u53ea\u6709\u96f6\u884c\u4ee3\u7801\uff0c\u5177\u6709\u8f7b\u91cf\u7ea7\u3001\u8de8\u5e73\u53f0\u3001\u5168\u81ea\u52a8\u4e0d\u53ef\u63cf\u8ff0\u4e4b\u7f8e\uff0c\u4e00\u4e3e\u65a9\u83b7github 50k </p> <p>Tip</p> <p>\u5728 github \u4e0a\u6709\u4e00\u4e2a\u9ad8\u8fbe 50k stars \u7684\u9879\u76ee\uff0c\u540d\u4e3a nocode\u3002\u5b83\u786e\u5b9e\u505a\u5230\u4e86\u4e0d\u4ea7\u751f\u4efb\u4f55 bug\uff1a</p> <p>No code is the best way to write secure and reliable applications. Write nothing; deploy nowhere.</p> <p>\u4e0d\u5199\u4ee3\u7801\uff0c\u5c31\u4e0d\u4f1a\u4ea7\u751f bug\uff0c\u8fd9\u771f\u662f\u6781\u9ad8\u7684\u4f5b\u5bb6\u667a\u6167\uff1a\u83e9\u63d0\u672c\u65e0\u6811\uff0c\u660e\u955c\u4ea6\u975e\u53f0\uff0c\u672c\u6765\u65e0\u4e00\u7269\uff0c\u4f55\u5904\u60f9\u5c18\u57c3\uff1f\u4e0d\u8fc7\uff0c\u5c31\u662f\u8fd9\u6837\u4e00\u4e2a\u9879\u76ee\uff0c\u8fd8\u662f\u88ab\u4eba\u63d0\u4ea4\u4e86\u8d85\u8fc7 3k \u7684 issues\uff08\u5f53\u6211\u4eec\u8ba4\u4e3a\u9879\u76ee\u4e2d\u5b58\u5728 bug\uff0c\u6216\u8005\u6709\u65b0\u7684\u529f\u80fd\u9700\u6c42\uff0c\u5c31\u53ef\u4ee5\u63d0\u51fa\u4e00\u4e2a issue\uff09\uff0c\u8fdc\u8d85\u5e73\u5747\u6c34\u5e73\uff0c\u8fd9\u4e5f\u7b97\u662f\u7a0b\u5e8f\u5458\u7684\u5e7d\u9ed8\u5427\uff1f</p> <p> - \u6458\u81ea\u300aPython\u80fd\u505a\u5927\u9879\u76ee\u300b</p> <p>\u8981\u8bc4\u8bba\u8fd9\u6837\u7684\u9879\u76ee\uff0c\u4e5f\u5fc5\u987b\u5112\u91ca\u9053\u517c\u4fee\u4e4b\uff1a</p> <p>Quote</p> <p>\u7a7a\u5373\u662f\u8272 \u8272\u5373\u662f\u7a7a \u9053\u53ef\u9053 \u975e\u5e38\u9053 \u540d\u53ef\u540d \u975e\u5e38\u540d \u9053\u672c\u65e0\u8a00 \u8a00\u8bf4\u662f\u5984 \u9605\u5c3d\u5929\u4e0b\u7801\uff0c\u5fc3\u4e2d\u5df2\u65e0\u7801\uff01</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#1","title":"1\u884c\uff1a\u96f7\u795e\u4e4b\u9524","text":"<p>\u8fd9\u884c\u4ee3\u7801\u51fa\u73b0\u5728\u6e38\u620f\u96f7\u795e\u4e4b\u9524\u4e2d\uff0c\u5b83\u662f\u4e00\u4e2a\u5e73\u65b9\u6839\u5012\u6570\u901f\u7b97\u6cd5\uff0c\u5373\u6c42\uff1a</p> \\[x^{\\frac{-1}{2}}\\] <p>\u8fd9\u4e2a\u51fd\u6570\u4e00\u822c\u4eba\u4e0d\u5927\u7528\u5f97\u5230\uff0c\u4f46\u5728\u6e38\u620f\u4e2d\u505a\u5149\u5f71\u8ddf\u8e2a\u662f\u5fc5\u5907\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5927\u5bb6\u8fd8\u662f\u770b\u56fe\u5427\uff1a</p> <p></p> <p>\u6211\u4e5f\u4e0d\u60f3\u591a\u89e3\u91ca\u4e86\u3002\u770b\u7740\u8fd9\u56fe\uff0c\u4e0d\u50cf\u662f\u505a\u6e38\u620f\uff0c\u8fd9\u7b80\u76f4\u5c31\u662f\u7a0b\u5e8f\u5458\u7684\u5934\u53d1\u3002\u518d\u7814\u7a76\u591a\u4e86\uff0c\u5934\u53d1\u5c31\u66f4\u5c11\u4e86\u3002</p> <p>\u603b\u4e4b\uff0c\u8fd9\u884c\u725bx\u7684\u4ee3\u7801\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>i  = 0x5f3759df - ( i &gt;&gt; 1 );\n</code></pre> <p>\u4ee3\u7801\u4f5c\u8005\u662f\u7ea6\u7ff0.\u5361\u9a6c\u514b\u3002\u5b83\u7684\u725bx\u4e4b\u5904\uff0c\u5728\u4e8e\u4f5c\u8005\u4ee5\u8fd1\u79d1\u62c9\u9a6c\u52aa\u91d1\u4f3c\u7684\u76f4\u89c9\uff0c\u53d1\u73b0\u4e86 0x5f3759df \u8fd9\u4e2a\u5e38\u6570\u3002\u8fd9\u4e2a\u7b97\u6cd5\u540e\u6765\u8fd8\u88abchatGPT\u6284\u8d70\u4e86\u3002</p> <p>\u4e0d\u8fc7\uff0c\u65e2\u7136\u54b1\u4eec\u662f\u8bb2\u91cf\u5316\u7684\u53f7\uff0c\u6211\u4eec\u4e5f\u8bb2\u4e00\u4e2a\u91cf\u5316\u4e2d\u4f1a\u7528\u5230\u7684\u4e00\u884c\u4ee3\u7801\u7684\u4f8b\u5b50\u3002\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5728\u6211\u4eec\u8bb2MPT\u90a3\u90e8\u5206\u65f6\u63d0\u8fc7\u3002</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#1_1","title":"1\u884c\uff1a\u72c4\u5229\u514b\u96f7\u5206\u5e03","text":"<p>\u5728\u4f7f\u7528\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\u6c42\u89e3MPT\u7684\u6709\u6548\u524d\u6cbf\u65f6\uff0c\u6211\u4eec\u9700\u8981\u751f\u6210\u65e0\u6570\u6743\u91cd\u5411\u91cf\u3002\u5982\u679c\u6709n\u4e2a\u8d44\u4ea7\uff0c\u6211\u4eec\u9700\u8981\u8fd9\u6837\u751f\u6210\uff1a</p> <pre><code>import numpy as np\n\nweights = np.array(np.random.random(len(stocks)))\nweights = weights/np.sum(weights)  \n</code></pre> <p>\u7b2c2\u884c\u662f\u5fc5\u987b\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u786e\u4fdd\u5404\u9879\u8d44\u4ea7\u6743\u91cd\u4e4b\u548c\u52a0\u8d77\u6765\u4e3a1\u3002\u4f46\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u72c4\u5229\u514b\u96f7\u5206\u5e03\u4e00\u884c\u4ee3\u7801\u641e\u5b9a\uff1a</p> <pre><code>from numpy.random import dirichlet\n\nw = dirichlet(np.ones(n), n)\n</code></pre>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#2-shuffle","title":"2\u884c\uff1a shuffle","text":"<p>\u5bf9\u4e8e\u7ed9\u5b9a\u7684 n \u4e2a\u5143\u7d20\uff0c\u751f\u6210\u4e00\u4e2a\u6392\u5217\uff0c\u4f7f\u5f97\u6bcf\u4e00\u4e2a\u5143\u7d20\u90fd\u80fd\u7b49\u6982\u7387\u5730\u51fa\u73b0\u5728\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u3002\u8fd9\u5c31\u662fshuffle\u7b97\u6cd5\u7684\u9b54\u529b\u3002</p> <pre><code>for(int i = n - 1; i &gt;= 0 ; i -- )\n    // rand(0, i) \u751f\u6210 [0, i] \u4e4b\u95f4\u7684\u968f\u673a\u6574\u6570\n    swap(arr[i], arr[rand(0, i)]) \n</code></pre> <p>\u4e0d\u8fc7\uff0c\u76f8\u5bf9\u4e8e0\u548c1\u884c\u800c\u8a00\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u6734\u7d20\u592a\u591a\u4e86\u3002\u968f\u673a\u6570\u751f\u6210\u3001\u62bd\u6837\u5728\u91cf\u5316\u4e2d\u4f7f\u7528\u5f97\u975e\u5e38\u666e\u904d\u3002\u8fd9\u91cc\u6211\u4eec\u4e3e\u4e00\u4e2a\u504f\u5e94\u7528\u4e00\u70b9\u7684\u4f8b\u5b50\uff0c</p> <p>\u4e24\u884c\u4ee3\u7801\u6c42\u51famaxdrawdown\u7684\u533a\u95f4\uff1a</p> <pre><code>import numpy as np\n# close\u662f\u6536\u76d8\u4ef7\u5e8f\u5217\n# \u6700\u5927\u56de\u64a4\u7ed3\u675f\u7684\u4f4d\u7f6e \u6700\u4f4e\u7684\u90a3\u4e2a\u4f4d\u7f6e\ni = np.argmax((np.maximum.accumulate(close) - close))\n# \u56de\u64a4\u5f00\u59cb\u7684\u4f4d\u7f6e \u6700\u9ad8\u7684\u90a3\u4e2a\u70b9\nj = np.argmax(data['close'][:i])  \n</code></pre>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#4","title":"4\u884c","text":"<p>\u53d1\u6325\u7a7a\u95f4\u592a\u5927\u4e86\uff0c\u6211\u4eec\u5c31\u4e0d\u8bb2\u4f8b\u5b50\u4e86\u3002\u4e0d\u8fc7\uff0c\u8fd9\u91cc\u7ed9\u4e00\u4e2a\u91cf\u5316\u4e2d\u5e38\u7528\u7684\u65f6\u95f4\u7b97\u6cd5\u3002\u6211\u4eec\u5728\u505a\u7279\u5f81\u63d0\u53d6\u3001\u56de\u6d4b\u65f6\u5e38\u5e38\u8981\u6307\u5b9a\u5468\u671f\u3002\u5728\u63d0\u53d6\u884c\u60c5\u6570\u636e\u65f6\uff0c\u53c8\u9700\u8981\u77e5\u9053\u8d77\u59cb\u65f6\u95f4\uff0c\u90a3\u4e48\uff0c\u5728\u77e5\u9053\u7ed3\u675f\u65e5\u671f\uff0c\u8981\u7b97\u51fan\u4e2a\u5468\u671f\u4ee5\u524d\u662f\u54ea\u4e2a\u65f6\u95f4\uff0c\u600e\u4e48\u8ba1\u7b97\uff1f</p> <p>\u5982\u679c\u8981\u6c42\u8ba1\u7b97\u7684\u662f\u65e5\u7ebf\uff0c\u8fd9\u4e2a\u8ba1\u7b97\u4e0d\u7b97\u590d\u6742\uff0c\u4f46\u4f60\u5fc5\u987b\u6709\u4ea4\u6613\u65e5\u5386\uff0c\u8fd9\u6837\u624d\u80fd\u6392\u9664\u6389\u4f11\u5e02\u65e5\u3002</p> <p>\u5982\u679c\u8981\u6c42\u8ba1\u7b97\u7684\u662f\u5206\u949f\u7ebf\u522b\u7684\u7ebf\uff0c\u6bd4\u598230\u5206\u949f\u7ebf\uff0c\u8fd9\u4e2a\u8ba1\u7b97\u5c31\u6bd4\u8f83\u590d\u6742\u3002\u6211\u4eec\u4e0d\u4ec5\u8981\u8003\u8651\u5230\u4f11\u5e02\u65e5\uff0c\u8fd8\u8981\u8003\u8651\u5230\u8de8\u5929\u7684\u60c5\u51b5\u3002zillionare\u91cf\u5316\u6846\u67b6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7a7a\u95f4\u6362\u65f6\u95f4\u7684\u7b97\u6cd5\u3002\u5b83\u5148\u6839\u636e\u5468\u671fn\uff0c\u5c0630\u5206\u949f\u7684tick\u5c55\u5f00\uff0c\u5e76\u4e0e\u65e5\u671f\u5408\u5e76\uff0c\u8fd9\u6837\u8ba1\u7b97\u5c31\u53d8\u6210\u4e86\u7ebf\u6027\u7684\uff1a</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/19/%E5%8F%AA%E5%BB%96%E5%BB%96%E6%95%B0%E8%A1%8C%E4%BD%86%E5%BE%88%E6%83%8A%E8%89%B3%E7%9A%84%E4%BB%A3%E7%A0%81/#1-2-3-4-5tm-momenthour-60-momentminute-new_tick_pos-clsticksframe_typeindextm-n-days-new_tick_pos-lenclsticksframe_type-min_part-new_tick_pos-lenclsticksframe_type","title":"<pre><code>tm = moment.hour * 60 + moment.minute\n\nnew_tick_pos = cls.ticks[frame_type].index(tm) + n\ndays = new_tick_pos // len(cls.ticks[frame_type])\nmin_part = new_tick_pos % len(cls.ticks[frame_type])\n</code></pre>","text":"<pre><code>date_part = cls.day_shift(moment.date(), days)\nminutes = cls.ticks[frame_type][min_part]\nh, m = minutes // 60, minutes % 60\n</code></pre> <p>\u4ee3\u7801\u4f7f\u7528\u7684ticks\u6570\u7ec4\uff0c\u572830\u5206\u949f\u7ea7\u522b\u662f\u8fd9\u6837\u7684\uff1a</p> <p><pre><code>ticks = [600, 630, ..., 900]\n</code></pre> 600\u5373\u65e9\u4e0a10\u70b9\u3002\u8fd9\u91cc\u7528\u4e86\u4e00\u4e2aday_shift\u51fd\u6570\uff0c\u5b83\u5c31\u662f\u7b80\u5355\u5730\u4f7f\u7528\u4ea4\u6613\u65e5\u5386\u8fdb\u884c\u641c\u7d22\u3002\u6700\u7ec8\u6211\u4eec\u8fd8\u505a\u4e86\u4e00\u4e2a\u4f18\u5316\uff0c\u901a\u8fc7\u6c42\u6a21\u8fd0\u7b97\u4ee3\u66ff\u4e86\u5b9e\u9645\u4e0a\u7684ticks\u6570\u7ec4\u5c55\u5f00\uff0c\u4ece\u800c\u628a\u7a7a\u95f4\u4e5f\u7701\u4e86\u4e0b\u6765\u3002\u8fd9\u5728<code>n</code>\u6bd4\u8f83\u5927\u7684\u65f6\u5019\uff0c\u8fd8\u662f\u975e\u5e38\u6709\u7528\u7684\u3002</p> <p>\u505a\u91cf\u5316\u4f1a\u6709\u4e0d\u5c11\u5e95\u5c42\u5de5\u5177\u51fd\u6570\u8981\u5199\uff0c\u5982\u679c\u81ea\u5df1\u6ca1\u65f6\u95f4\uff0c\u4e5f\u53ef\u4ee5\u53c2\u8003zillionare\u91cf\u5316\u6846\u67b6\u7684\u4ee3\u7801\u3002</p>","tags":["quant","algorithm","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/","title":"\u4e3a\u4ec0\u4e48\u91cf\u5316\u4eba\u5e94\u8be5\u4f7f\u7528duckdb\uff1f","text":"<p>\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4ecb\u7ecd\u4e86\u901a\u8fc7duckdb\uff0c\u4f7f\u7528SQL\u8fdb\u884cDataFrame\u7684\u64cd\u4f5c\u3002\u6211\u4eec\u8fd8\u7279\u522b\u4ecb\u7ecd\u4e86\u5b83\u72ec\u6709\u7684 Asof Join \u529f\u80fd\uff0c\u7531\u4e8e\u91cf\u5316\u4eba\u5e38\u5e38\u5904\u7406\u8de8\u5468\u671f\u884c\u60c5\u5bf9\u9f50\uff0c\u8fd9\u4e00\u529f\u80fd\u56e0\u6b64\u683c\u5916\u5b9e\u7528\u3002\u4f46\u662fduckdb\u7684\u597d\u624b\u6bb5\uff0c\u4e0d\u6b62\u5982\u6b64\u3002</p> <ul> <li>\u5b8c\u5168\u66ff\u4ee3sqlite\uff0c\u4f46\u547d\u4ee4\u96c6\u751a\u81f3\u8d85\u8fc7\u4e86Postgres</li> <li>\u6613\u7528\u6027\u6781\u4f73</li> <li>\u6027\u80fd\u602a\u517d</li> </ul> <p>\u4f5c\u4e3a\u53c8\u4e00\u6b3e\u6765\u81ea\u4eba\u70df\u7a00\u5c11\u7684\u8377\u5170\u7684\u8f6f\u4ef6\uff0c\u5317\u5883\u8fd9\u4e00\u82e6\u5bd2\u4e4b\u5730\uff0c\u518d\u4e00\u6b21\u8ba9\u4eba\u60ca\u559c\u3002\u79d1\u6280\u7684\u4e8b\u513f\uff0c\u771f\u662f\u5806\u4eba\u6ca1\u7528\u3002</p> <p>sqlite\u975e\u5e38\u8f7b\u91cf\uff0c\u57fa\u4e8e\u5185\u5b58\u6216\u8005\u6587\u4ef6\u4f5c\u4e3a\u5b58\u50a8\uff0c\u65e0\u987b\u50cf\u5176\u5b83\u6570\u636e\u5e93\u4e00\u6837\u8fdb\u884c\u590d\u6742\u7684\u670d\u52a1\u5668\u5b89\u88c5\u548c\u8bbe\u7f6e\u3002\u5b83\u662f\u5e02\u5360\u7387\u6700\u9ad8\u7684\u6570\u636e\u5e93 -- \u4f46\u672a\u6765\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\uff1a\u4ec5\u5c31\u529f\u80fd\u800c\u8a00\uff0cduckdb\u4e0d\u4ec5\u4ec5\u5b8c\u5168\u5b9e\u73b0\u4e86sqlite\u7684\u6240\u6709\u529f\u80fd\uff0c\u5b83\u751a\u81f3\u53ef\u80fd\u6bd4postgres\u7684\u8bed\u6cd5\u8fd8\u8981\u4e30\u5bcc\u3002\u800c\u5728\u6027\u80fd\u4e0a\uff0csqlite\u5c31\u66f4\u662f\u96be\u4ee5\u671b\u5176\u9879\u80cc -- \u5b9e\u9645\u4e0a\uff0c\u5728\u5927\u6570\u636e\u96c6\u7684join\u548cgroup by\u64cd\u4f5c\u4e0a\uff0cH2O.ai\u7684\u6d4b\u8bd5\u8868\u660e\uff0c\u5728\u4e0eclickhouse, porlars\u4e00\u4f17\u660e\u661f\u9009\u624b\u6253\u6392\u4f4d\u8d5b\uff0cduckdb\u90fd\u80fd\u6392\u5728\u7b2c\u4e00\u4f4d\uff01</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#sqlite","title":"\u66ff\u4ee3sqlite","text":"<p>\u5f53\u6211\u4eec\u4f7f\u7528sqlite\u65f6\uff0c\u7279\u522b\u662f\u5728\u8fdb\u884c\u5355\u5143\u6d4b\u8bd5\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u4f7f\u7528\u5185\u5b58\u6570\u636e\u5e93\u3002duckdb\u4e5f\u652f\u6301\uff1a</p> <pre><code>import duckdb\n\nduckdb.connect(\":memory:\")\n</code></pre> <p>\u5982\u679c\u5c06\":memory:\"\u6362\u6210\u6587\u4ef6\u540d\uff0c\u5c31\u662f\u8fde\u63a5\u5230\u6587\u4ef6\u6570\u636e\u5e93\u4e86\u3002\u8fd9\u4e9b\u4e0esqlite\u6ca1\u6709\u4efb\u4f55\u533a\u522b\u3002</p> <p>sqlite\u4e0educkdb\u90fd\u6709rowid\u7684\u6982\u5ff5\u3002\u5728duckdb\u4e2d\uff0crowid\u662f\u4e00\u4e2a\u4f2a\u5217\uff1a</p> <pre><code>-- duckdb\u4e2d\u7684rowid\u65e0\u987b\u58f0\u660e\uff0c\u53ef\u76f4\u63a5\u4f7f\u7528\n\nCREATE TABLE t (id INT, content STRING);\nINSERT INTO t VALUES (42, 'hello'), (43, 'world');\nSELECT rowid, id, content FROM t;\n</code></pre> <p>\u5982\u679c\u67d0\u884c\u88ab\u5220\u9664\uff0c\u8be5rowid\u4f1a\u88ab\u56de\u6536\uff0c\u540e\u9762\u53ef\u80fd\u4f1a\u88ab\u590d\u7528\uff0c\u56e0\u6b64\uff0crowid\u4e0d\u5177\u6709\u60df\u4e00\u6027\uff0c\u4e0d\u63a8\u8350\u4f5c\u4e3a\u884c\u6807\u8bc6\u7b26\u3002</p> <p>\u5728\u5b9e\u73b0\u81ea\u589eID\u65b9\u9762\uff0csqlite\u53ef\u4ee5\u901a\u8fc7autoincrement\u5173\u952e\u5b57\u6765\u58f0\u660e\u4e3b\u952e\u4e3a\u81ea\u589e\u5b57\u6bb5\uff0c\u4f46\u5728duckdb\u7565\u5fae\u590d\u6742\u4e00\u70b9\uff0c\u9700\u8981\u5148\u521b\u5efa\u4e00\u4e2asequence\uff1a</p> <pre><code>CREATE SEQUENCE seq_personid START 1;\n\nCREATE TABLE Persons (\n    Personid integer primary key DEFAULT nextval('seq_personid'),\n    Name varchar(255) not null,\n);\n\ninsert into Persons values ('Aaron')\n</code></pre> <p>\u4e5f\u5c31\u662f\uff0c\u6211\u4eec\u8981\u5148\u521b\u5efa\u4e00\u4e2asequence,\u7136\u540e\u5728\u521b\u5efa\u8868\u7684\u4e3b\u952e\u65f6\uff0c\u58f0\u660e\u5176\u7f3a\u7701\u503c\u6765\u81ea\u4e8enextval()\u51fd\u6570\u3002\u5728\u5f80\u8868\u4e2d\u5199\u5165\u6570\u636e\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5ffd\u7565PersonId\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#_1","title":"\u6e10\u8fdb\u5f0f\u6784\u5efa\u67e5\u8be2","text":"<p>SQL\u8bed\u6cd5\u5f88\u5f3a\u5927\uff0c\u4f46\u662f\u5b83\u6709\u65f6\u5019\u5f88\u590d\u6742\u4e14\u5197\u957f\u3002\u719f\u6089pandas\u7684\u4eba\u77e5\u9053\uff0cdataframe\u4e2d\u7684\u67e5\u8be2\u4e5f\u53ef\u4ee5\u5f88\u590d\u6742\uff0c\u6211\u4eec\u53ef\u4ee5\u4e00\u6b65\u6b65\u6784\u5efa\u67e5\u8be2\uff0c\u5e76\u67e5\u770b\u4e2d\u95f4\u7ed3\u679c\u4ee5\u4fdd\u8bc1\u8fc7\u7a0b\u662f\u6b63\u786e\u7684\uff0c\u8fd9\u6837\u4e00\u6765\uff0c\u5b66\u4e60pandas\u4e5f\u5c31\u53d8\u5f97\u7b80\u5355\u3002</p> <p>\u73b0\u5728\uff0cduckdb\u628a\u8fd9\u4e2a\u80fd\u529b\u501f\u4e86\u8fc7\u6765\u3002\u5b83\u5728Python\u5ba2\u6237\u7aef\u4e2d\u63d0\u4f9b\u4e86Relational API\u6765\u63d0\u4f9b\u8fd9\u4e00\u80fd\u529b\u3002</p> <p>Info</p> <p>duckdb\u4e3a\u591a\u79cd\u8bed\u8a00\u63d0\u4f9b\u4e86\u63a5\u53e3\u3002\u4f46\u662f\uff0c\u5728Python\u63a5\u53e3\u4e2d\u63d0\u4f9b\u4e86\u6700\u5f3a\u5927\u7684\u529f\u80fd\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5c31\u6765\u6f14\u793a\u8fd9\u4e2a\u6e10\u8fdb\u5f0f\u67e5\u8be2\uff1a</p> <pre><code>r = duckdb.sql(\"from range(1000000000) tbl(id)\")\nr.show()\n</code></pre> <p>\u7b2c\u4e00\u884c\u8bed\u53e5\u5c31\u6784\u5efa\u4e86\u4e00\u4e2a\u5173\u7cfb(relation)\u3002\u5b83\u6ca1\u6709select!\u8fd9\u662fduckdb\u5bf9sql\u8bed\u6cd5\u7684\u4e00\u79cd\u7b80\u5316\u3002\u5f53\u6211\u4eec\u719f\u6089\u8fd9\u79cd\u8bed\u6cd5\u540e\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\"select * from ...\"\u8fd9\u79cd\u4f20\u7edf\u7684\u8868\u8fbe\u5f0f\u5b9e\u5728\u662f\u592a\u5570\u55e6\u4e86\u3002</p> <p>\u7b2c\u4e00\u884c\u8bed\u53e5\u5e76\u4e0d\u4f1a\u6267\u884c\uff0c\u53ea\u6709\u5f53\u6211\u4eec\u8c03\u7528r.show()\u65f6\uff0c\u5b83\u624d\u88ab\u771f\u6b63\u6c42\u503c\u3002</p> <p>Info</p> <p>\u5982\u679c\u662f\u5728jupyter\u4e2d\uff0c\u60c5\u51b5\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u4e0b\u9762\u7684\u8bed\u53e5\u4f1a\u88ab\u7acb\u5373\u6c42\u503c\uff1a <pre><code>duckdb.sql(\"from range(1000000000)\")\n</code></pre> \u4f46\u8fd9\u4e00\u53e5\u4ecd\u7136\u4e0d\u4f1a\uff1a <pre><code>r = duckdb.sql(\"from range(1000000000)\")\n</code></pre></p> <p>\u6211\u4eec\u53ef\u4ee5\u63a5\u7740\u6784\u5efa\uff1a</p> <pre><code>r = duckdb.sql(\"from range(10000) tbl(id) select id, cast (id as varchar) as str_id\")\nr.filter(\"id &gt; 20 and str_id like '%1'\").limit(3).show()\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u8ddf\u4f7f\u7528pandas\u5dee\u4e0d\u591a\uff0c\u4f46\u5b83\u7684\u8868\u8fbe\u5f0f\u8bed\u6cd5\u662fsql\u7684\uff0c\u65b9\u6cd5\u540d\u4e5f\u66f4\u63a5\u8fd1sql\u7684\u5173\u952e\u5b57\u3002</p> <p>\u5728\u7b2c\u4e00\u884c\uff0c\u6211\u4eec\u628aselect\u653e\u5728\u4e86from\u4e4b\u540e\u3002\u8fd9\u662fduckdb\u7684\u4e00\u4e2a\u8bed\u6cd5\u521b\u65b0\u3002\u5728\u7b2c\u4e8c\u884c\u4e2d\uff0c\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u5b8c\u5168\u662fSQL\u7684\u8868\u8fbe\u5f0f\u3002\u6211\u4eec\u5728\u4e0a\u4e00\u7bc7\u6587\u7ae0\u4e2d\u4ecb\u7ecd\u8fc7\uff0cpandas\u662f\u4e0d\u652f\u6301\u8fd9\u4e2a\u8bed\u6cd5\u7684\u3002</p> <p>\u5982\u679c\u6211\u4eec\u66f4\u719f\u6089pandas\u8bed\u6cd5\uff0c\u662f\u4e0d\u662f\u53ef\u4ee5\u5c06\u6570\u636e\u8bfb\u53d6\u540e\uff0c\u5b58\u5165dataframe\uff08\u6bd4\u5982\u901a\u8fc7read_csv\uff0c read_sql\uff09\u540e\uff0c\u518d\u6765\u6267\u884c\u7c7b\u4f3c\u7684\u67e5\u8be2\uff1fYes and No\u3002pandas\u65e0\u6cd5\u5904\u7406\u8d85\u8fc7\u5185\u5b58\u7684\u6570\u636e\u3002\u6240\u4ee5\uff0c\u5982\u679c\u6570\u636e\u91cf\u6bd4\u8f83\u5927\uff0cduckdb\u7684API\u7684\u4f18\u52bf\u5c31\u663e\u793a\u51fa\u6765\u4e86\u3002</p> <p>\u793a\u4f8b\u4e2d\u6f14\u793a\u4e86\u5b57\u7b26\u4e32\u5339\u914d\u3002duckdb\u6709\u4e30\u5bcc\u7684\u51fd\u6570\u652f\u6301\uff0c\u5305\u62ec\u5b57\u7b26\u4e32\u5207\u7247\u3001\u6b63\u5219\u8868\u8fbe\u5f0f\u5339\u914d\u3002\u4e0d\u8fc7\uff0c\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u7279\u6b8a\u7684\u573a\u666f\uff0c\u6240\u4ee5\u6ca1\u6709\u770b\u5230\u5173\u4e8e\u6027\u80fd\u65b9\u9762\u7684\u62a5\u544a\u3002</p> <p>Relational API\u53e6\u4e00\u4e2a\u5f3a\u5927\u7684\u4f7f\u7528\u573a\u666f\u662f\u7528\u5728join\u3001intersect\u4e0a\uff1a</p> <pre><code>import duckdb\nr1 = duckdb.sql(\"FROM range(5) tbl(id)\").set_alias(\"r1\")\nr2 = duckdb.sql(\"FROM range(10, 15) tbl(id)\").set_alias(\"r2\")\nr1.join(r2, \"r1.id + 10 = r2.id\").show()\n</code></pre> <p>\u8fd9\u91cc\u7684\u8bed\u6cd5\u975e\u5e38\u7b80\u7ec3\u3001\u66f4\u52a0\u6613\u61c2\uff08\u751a\u81f3\u6bd4pandas\u7684join\uff09\u3002\u65e0\u8bba\u662f\u6784\u5efa\u5b50\u67e5\u8be2\u8fd8\u662fCTE\uff0c\u90fd\u4f1a\u6bd4\u8f83\u7e41\u7410\u6613\u9519\uff0c\u4f46\u57fa\u4e8eRelational API\uff0c\u8fd9\u4e00\u5207\u90fd\u80fd\u5f97\u5230\u5316\u7b80\uff0c\u5e76\u4e14\u5f88\u5bb9\u6613\u57fa\u4e8e\u4e2d\u95f4\u7ed3\u679c\u8fdb\u884c\u8c03\u8bd5\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u5b50\u67e5\u8be2\u7684\u4f8b\u5b50:</p> <pre><code>duckdb.sql(\"SELECT t FROM (SELECT unnest(generate_series(41, 43)) AS x, 'hello' AS y) t where t.x &gt; 42\")\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u5c06\u5176\u5206\u89e3\u4e3a\uff1a</p> <pre><code>r1 = duckdb.sql(\"SELECT unnest(generate_series(41, 43)) AS x, 'hello' AS y\")\nr2 = duckdb.sql(\"from r1\").filter(\"x&gt;42\")\nr2\n</code></pre> <p>\u5982\u6b64\u4e00\u6765\uff0c\u5982\u679c\u6211\u4eec\u975e\u5e38\u64c5\u957fSQL\uff0c\u5219\u4ecd\u7136\u53ef\u4ee5\u7f16\u5199\u590d\u6742\u7684SQL\u8bed\u53e5\u4ea4\u7ed9duckdb\u6267\u884c\uff1b\u5982\u679c\u53ea\u80fd\u5199\u4e00\u4e9b\u7b80\u77ed\u7684SQL\u8bed\u53e5\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u80fd\u901a\u8fc7Relational API\u5c06\u5b83\u4eec\u7ec4\u88c5\u6210\u4e3a\u590d\u6742\u7684SQL\u3002</p> <p>Note</p> <p>\u5728Relational API\u4e2d\uff0c\u4e0d\u80fd\u4f7f\u7528prepared parameter\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#_2","title":"\u65f6\u95f4\u5e8f\u5217\u8fd0\u7b97\u548c\u7a97\u53e3\u51fd\u6570","text":"<p>\u5728\u91cf\u5316\u4e2d\uff0c\u6211\u4eec\u8981\u5904\u7406\u7684\u6570\u636e\u5e38\u5e38\u5177\u6709\u65f6\u95f4\u5e8f\u5217\u7279\u5f81\uff0c\u5e38\u5e38\u8981\u57fa\u4e8e\u6ed1\u52a8\u7a97\u53e3\u8fdb\u884c\u7edf\u8ba1\u8fd0\u7b97\uff0c\u6bd4\u5982\u6700\u5927\u6700\u5c0f\u503c\u3001\u5e73\u5747\u503c\u7b49\u7b49\u3002\u5728pandas\u4e2d\u63d0\u4f9b\u4e86rolling\u51fd\u6570\u6765\u5b9e\u73b0\u6ed1\u52a8\u7a97\u53e3\u3002\u5728duckdb\u4e2d\uff0c\u6211\u4eec\u5b9e\u73b0\u5b83\u7684\u65b9\u5f0f\u662f\u57fa\u4e8eover\u548c\u4e00\u7cfb\u5217\u7684window\u51fd\u6570\u3002</p> <p>\u6211\u4eec\u4ee5\u53d1\u7535\u5382\u6570\u636e\u4e3a\u4f8b\uff1a</p> <p></p> <p>\u4e0b\u9762\u7684\u8bed\u53e5\u5c06\u751f\u6210\u4e00\u4e2a\u6bcf\u65e5\u751f\u4ea7\u7535\u529b\u76847\u65e5\u79fb\u52a8\u5e73\u5747\uff1a</p> <pre><code>SELECT \"Plant\", \"Date\",\n    avg(\"MWh\") OVER (\n        PARTITION BY \"Plant\"\n        ORDER BY \"Date\" ASC\n        RANGE BETWEEN INTERVAL 3 DAYS PRECEDING\n                  AND INTERVAL 3 DAYS FOLLOWING)\n        AS \"MWh 7-day Moving Average\"\nFROM \"Generation History\"\nORDER BY 1, 2;\n</code></pre> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7window\u547d\u4ee4\u6765\u5b9a\u4e49\u547d\u540d\u7a97\u53e3\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u590d\u7528\u5b83\u4eec\u4ee5\u589e\u5f3a\u6027\u80fd\uff1a</p> <pre><code>SELECT \"Plant\", \"Date\",\n    min(\"MWh\") OVER seven AS \"MWh 7-day Moving Minimum\",\n    avg(\"MWh\") OVER three AS \"MWh 3-day Moving Average\",\nFROM \"Generation History\"\nWINDOW\n    seven AS (\n        PARTITION BY \"Plant\"\n        ORDER BY \"Date\" ASC\n        RANGE BETWEEN INTERVAL 3 DAYS PRECEDING\n                  AND INTERVAL 3 DAYS FOLLOWING),\n    three AS (\n        PARTITION BY \"Plant\"\n        ORDER BY \"Date\" ASC\n        RANGE BETWEEN INTERVAL 1 DAYS PRECEDING\n        AND INTERVAL 1 DAYS FOLLOWING)\nORDER BY 1, 2;\n</code></pre> <p>\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u8fd8\u770b\u5230\u4e86partition\u8bed\u6cd5\u3002\u6bcf\u4e00\u4e2aover\u5b50\u53e5\uff08windowing\uff09\u4e2d\uff0c\u90fd\u9690\u85cf\u4e86\u4e00\u4e2apartition\uff08\u5982\u679c\u6ca1\u6709\u4f7f\u7528partition\u8bed\u6cd5\uff09\uff0c\u6216\u8005\u591a\u4e2apartition\uff08\u5982\u679c\u4f7f\u7528\u4e86partition\uff09\u3002\u7136\u540e\u5728\u6bcf\u4e2apartition\u5185\u90e8\uff0c\u901a\u8fc7 range, preceding,following \u7b49\u51fd\u6570\uff0c\u5b9a\u4e49\u4e00\u4e2a\u4e2a\u6ed1\u52a8\u7684frame\uff0c\u6700\u540e\uff0c\u805a\u5408\u8fd0\u7b97\u5c31\u53d1\u751f\u5728\u8fd9\u4e9bframe\u4e0a\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#qualify","title":"QUALIFY\u8bed\u6cd5","text":"<p>\u8fd9\u662f\u4e2a\u6bd4\u8f83\u65b0\u7684SQL\u8bed\u6cd5\uff0c\u6570\u5e74\u524d\u7531Teradata\u5f15\u5165\uff0c\u968f\u540e\u88abOracle, snowflake, bigquery\u4f7f\u7528\u3002\u5b83\u89e3\u51b3\u4e86\u8fd9\u6837\u7684\u95ee\u9898\uff1a\u5982\u4f55\u53d6\u6bcf\u4e2a\u5206\u7ec4\u7684\u67d0\u4e2a\u5217\u7684\u524d\u51e0\u540d\uff08\u6216\u8005\u5176\u5b83\u6761\u4ef6\uff09\u53ca\u5b83\u5bf9\u5e94\u7684\u6574\u884c\u6570\u636e\uff1f</p> <p>\u5728\u53ef\u4ee5\u4f7f\u7528pandas\u7684\u5730\u65b9\uff0c\u8fd9\u4e2a\u95ee\u9898\u6bd4\u8f83\u7b80\u5355\uff1a</p> <p><pre><code>df = pd.DataFrame({'id':[1,1,1,2,2,2,2,3,4], 'value':[1,2,3,1,2,3,4,1,1]})\n\ndf.groupby('id')[\"value\"].nlargest(2)\n</code></pre> \u8f93\u51fa\u7ed3\u679c\u662f\uff1a</p> <p></p> <p>\u5982\u679c\u6709\u522b\u7684\u6761\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728groupby\u4e4b\u540e\uff0c\u4f7f\u7528apply\u548clambda\u51fd\u6570\u6765\u8fc7\u6ee4\u3002</p> <p>\u5728\u6807\u51c6SQL\u4e2d\u8981\u5b8c\u6210\u4e0a\u8ff0\u4efb\u52a1\uff0c\u5fc5\u987b\u4f7f\u7528\u5b50\u67e5\u8be2\uff0c\u5148\u9009\u62e9\u51fa\u5206\u7ec4\u540e\u6ee1\u8db3\u6761\u4ef6\u7684\u884cID\uff0c\u518d\u4ece\u539f\u8868\u4e2d\u67e5\u8be2\u8fd4\u56de\u8fd9\u4e9b\u884c\u7684\u5168\u90e8\u6570\u636e\u3002\u8fd9\u4e2a\u8bed\u53e5\u6bd4\u8f83\u590d\u6742\uff0c\u4f46\u4f7f\u7528qualify\uff0c\u6211\u4eec\u7684\u67e5\u8be2\u53ef\u4ee5\u7b80\u5316\u4e3a\uff1a</p> <pre><code>df = pd.DataFrame({'id':[1,1,1,2,2,2,2,3,4], 'value':[1,2,3,1,2,3,4,1,1]})\n\nsql = \"select id, value from df qualify row_number() over (partition by id order by value desc) &lt;=2 order by value\"\nduckdb.sql(sql).sort(\"id\")\n</code></pre> <p>\u4e0a\u8ff0\u8bed\u53e5\u67e5\u8be2\u4e86\u6bcf\u4e2aID\u6700\u5927\u76842\u4e2avalue\u503c\uff0c\u5e76\u8fd4\u56de\u6574\u884c\u6570\u636e\u3002over\u51fd\u6570\u5b9a\u4e49\u4e86\u7a97\u53e3\u51fd\u6570\uff0c\u5728\u5176\u4e2d\u6211\u4eec\u53c8\u901a\u8fc7partition\u5c06\u8868\u6309id\u5212\u5206\u6210\u72ec\u7acb\u7684\u201c\u5b50\u8868\u201d\uff0corder by \u5c31\u6309value\uff0c\u5bf9\u5b50\u8868\u8fdb\u884c\u6392\u5e8f\uff0c\u5e76\u4e14\u6bcf\u4e2apartition\u5185\u90e8\u4ea7\u751f\u884c\u53f7\u3002\u6700\u540e\uff0c\u6211\u4eec\u901a\u8fc7qualify\u8bed\u6cd5\uff0c\u83b7\u53d6\u884c\u53f7\u524d2\u7684\u8bb0\u5f55\uff0c\u5c31\u5f97\u5230\u4e86\u6ee1\u8db3\u8981\u6c42\u7684\u7ed3\u679c\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#duckdb","title":"duckdb\u7684\u8377\u5170\u65b9\u8a00","text":"<p>duckdb\u5bf9\u6807\u51c6SQL\u4e2d\u7684\u7e41\u7410\u4e4b\u5904\u63d0\u51fa\u4e86\u4e00\u4e9b\u6539\u8fdb\u3002\u6bd4\u5982\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u7684\u7701\u7565'select *'\uff0c\u76f4\u63a5\u4f7f\u7528'from tbl'\u8fd9\u6837\u7684\u8bed\u6cd5\u3002</p> <p>\u5728\u91cf\u5316\u7814\u7a76\u4e2d\uff0c\u6211\u4eec\u7684\u56e0\u5b50\u5e93\u5e38\u5e38\u662f\u4e00\u5f20\u5f88\u5bbd\u7684\u8868\uff0c\u5176\u4e2d\u4f1a\u6709\u4e00\u4e9b\u5217\u6709\u76f8\u4f3c\u7684\u5217\u540d\u5b57\u3002\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u80fd\u628aRSI\u6307\u6807\u768430\u5206\u949f\u3001\u65e5\u7ebf\u548c\u5468\u7ebf\u90fd\u4f5c\u4e3a\u56e0\u5b50\u7684\u4e00\u5217\u3002</p> <p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u5e0c\u671b\u540c\u65f6\u9009\u62e9\u8fd9\u6837\u4e09\u5217\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684Dynamic column select\u80fd\u529b\u3002\u6bd4\u5982'select columns('RSI_*') from alpha101'</p> <p>\u5982\u679c\u6211\u4eec\u7684RSI\u56e0\u5b50\u90fd\u4ee5RSI\u5f00\u5934\uff0c\u518d\u8ddf\u4e0a\u4e0d\u540c\u7684\u53c2\u6570\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e00\u6b21\u6027\u5c06\u5b83\u4eec\u90fd\u9009\u62e9\u51fa\u6765\u3002</p> <p>duckdb\u4e3a\u6807\u91cf\u51fd\u6570\u63d0\u4f9b\u4e86\u94fe\u5f0f\u8c03\u7528\uff0c\u6bd4\u5982\uff1a</p> <pre><code>SELECT \n     ('Make it so')\n          .UPPER()\n          .string_split(' ')\n          .list_aggr('string_agg','.')\n          .concat('.') AS im_not_messing_around_number_one;\n-- \u8f93\u51fa\n-- MAKE.IT.SO.\n</code></pre> <p>\u8fd8\u6709\u5f88\u591a\u597d\u73a9\u7684\u529f\u80fd\uff0c\u5728\u4ed6\u4eec\u7684\u535a\u5ba2\u6587\u7ae0\u300aeven friendlier sql with duckdb\u300b\u4e2d\u6709\u4ecb\u7ecd\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#duckdb_1","title":"duckdb\u7684\u7a76\u7adf\u662f\u4ec0\u4e48\uff1f","text":"<p>duckdb\u63d0\u4f9b\u4e86\u4e0e\u8bb8\u591a\u6570\u636e\u5e93\u3001\u6570\u636e\u6e90\u7684\u63a5\u53e3\uff0c\u5728\u5f88\u591a\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u53ef\u4ee5\u4f7f\u7528duckdb\uff0c\u57fa\u4e8e\u8fd9\u4e9b\u6570\u636e\u8fdb\u884c\u5206\u6790\uff0c\u7279\u522b\u662f\u5bf9csv\u6587\u4ef6\u548cparquet\u6587\u4ef6\u3002\u5f53\u6211\u4eec\u8fd9\u6837\u4f7f\u7528duckdb\u65f6\uff0c\u6211\u4eec\u5b9e\u9645\u4e0a\u662f\u53ea\u4f7f\u7528\u5b83\u7684\u5206\u6790\u5f15\u64ce\u3002</p> <p>\u8981\u6700\u6709\u6548\u5730\u5229\u7528duckdb\u7684\u529f\u80fd\u4e0e\u5f3a\u5927\u7684\u6027\u80fd\uff0c\u6211\u4eec\u6700\u597d\u5c06\u6570\u636e\u5bfc\u5165\u4e3aduckdb\u81ea\u5df1\u7684\u5b58\u50a8\u683c\u5f0f -- \u8fd9\u662f\u4e00\u4e2a\u57fa\u4e8e\u6587\u4ef6\u7684\u6570\u636e\u5e93\u3002\u5b83\u662f\u57fa\u4e8e\u5217\u5b58\u50a8\u7684\u548c\u538b\u7f29\u7684\uff0c\u7c7b\u4f3c\u4e8eparquet\uff0c\u4f46duckdb\u7684\u5b58\u50a8\u8d85\u8d8a\u4e86parquet\uff0c\u5141\u8bb8\u5b58\u50a8\u591a\u4e2a\u8868\u548c\u89c6\u56fe\uff0c\u652f\u6301ACID\uff0c\u652f\u6301\u8868\u7684\u66f4\u6539\u548c\u5217\u6dfb\u52a0\uff0c\u800c\u65e0\u9700\u91cd\u5199\u6587\u4ef6\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u628aparquet\u6587\u4ef6\u5bfc\u5165\u4e3aduckdb\u6570\u636e\u5e93\u65f6\uff0c\u5927\u7ea6\u4f1a\u589e\u52a020%\u7684\u78c1\u76d8\u7a7a\u95f4\u5360\u7528\u3002</p> <p>\u5f53\u7136\uff0cduckdb\u4e5f\u6709\u81ea\u5df1\u7684\u5c40\u9650\u3002\u6bd4\u5982\uff0c\u4e0d\u80fd\u4f7f\u7528\u591a\u8fdb\u7a0b\u5199\u6570\u636e\u5e93\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#_3","title":"\u6027\u80fd","text":"<p>\u4f5c\u4e3a\u91cf\u5316\u4eba\uff0c\u4e0d\u5f97\u4e0d\u4f7f\u7528duckdb\u7684\u539f\u56e0\u4e4b\u4e8c\uff08\u4e4b\u4e00\u662fasof join\uff09\uff0c\u662f\u5b83\u7684\u6027\u80fd\u3002\u5728H2O.ai\u7684\u6392\u540d\u4e2d\uff0c\u5728\u6700\u5403\u6027\u80fd\u7684group by\u548cjoin\u4e0a\uff0c\u4ece0.5G\uff0c\u52305GB\u548c50GB\u7684\u8ba1\u7b97\u4e2d\uff0cduckdb\u90fd\u6392\u5728\u7b2c\u4e00\uff0c\u7d27\u968f\u5176\u540e\u7684\u662fclickhouse\u548cporlars\u3002\u5f53\u7136\uff0c\u6211\u4eec\u65e0\u8bba\u5982\u4f55\u90fd\u4f1a\u4f7f\u7528clickhouse\uff0c\u4e24\u8005\u7684\u4f7f\u7528\u573a\u666f\u662f\u4e0d\u4e00\u6837\u7684\u3002</p> <p></p> <p>\u4e0d\u8fc7\uff0c\u6570\u636e\u5e93\u6027\u80fd\u6d4b\u8bd5\u7684\u57fa\u51c6\u662fTPC-DS\u6d4b\u8bd5\u3002\u6839\u636eFivetran CEO\u7684\u6d4b\u8bd5\uff0cduckdb\u5728\u5b58\u50a8\u6587\u4ef6\u5927\u5c0f\u5c0f\u4e8e250GB\u65f6\uff0c\u6027\u80fd\u4f18\u4e8e\u6700\u597d\u7684\u5546\u4e1a\u6570\u636e\u5e93\uff0c\u4f46\u57281TB\u6570\u636e\u96c6\u65f6\uff08\u6b64\u65f6\u4f7f\u752832\u6838\u5fc3CPU\u548c128GB\u5185\u5b58\uff09\uff0c\u5b83\u7684\u6027\u80fd\u4f1a\u843d\u540e\u4e0d\u5c11\u3002</p> <p></p> <p>\u4e0d\u8fc7\uff0c\u8fd9\u9879\u6d4b\u8bd5\u7684\u610f\u4e49\u662f\u8ba9\u6211\u4eec\u77e5\u9053\uff0c\u81f3\u5c11duckdb\u53ef\u4ee5\u5bb9\u7eb31TB\u5de6\u53f3\u7684\u6570\u636e\u3002\u4f46\u662f\u5b83\u8868\u73b0\u6700\u597d\u7684\u533a\u95f4\u662f\u5c0f\u4e8e100GB\uff0c\u56e0\u6b64\uff0cduckdb\u53ef\u80fd\u4ecd\u7136\u4e0d\u9002\u5408\u6765\u5b58\u50a8tick\u7ea7\u522b\u7684\u884c\u60c5\u6570\u636e\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#notebookduckdb","title":"\u5728notebook\u4e2d\u4f7f\u7528duckdb","text":"<p>\u5728notebook\u4e2d\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528duckdb\u7684Python API\u6765\u8fdb\u884c\u67e5\u8be2\u3002\u4e0d\u8fc7\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528JupySQL\u8fd9\u4e2a\u6269\u5c55\uff0c\u6765\u76f4\u63a5\u8fd0\u884cSQL\u67e5\u8be2\uff0c\u5e76\u5b9e\u73b0\u53ef\u89c6\u5316\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u5b89\u88c5JupySQL:</p> <pre><code>pip install jupysql\n</code></pre> <p>\u5728\u4f7f\u7528jupysql\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u52a0\u8f7d\u5b83\uff1a</p> <pre><code>%load_ext sql\n</code></pre> <p>\u63a5\u4e0b\u6765\u5c31\u662f\u5efa\u7acb\u8fde\u63a5\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u662f\u6587\u4ef6\u5b58\u50a8\uff1a</p> <pre><code>%sql duckdb:///path/to/fild.db\n</code></pre> <p>\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u63a5\u4e0b\u6765\u7684cell\u4e2d\uff0c\u4f7f\u7528cell magic\u8bed\u6cd5\u4e86\uff1a</p> <pre><code>%%sql\n\nSELECT\n    schema_name,\n    function_name\nFROM duckdb_functions()\nORDER BY ALL DESC\nLIMIT 5\n</code></pre> <p>\u8fd9\u6bd4\u6211\u4eec\u4f7f\u7528python API\u4f1a\u66f4\u65b9\u4fbf\u4e00\u70b9\uff0c\u56e0\u4e3a\u53ef\u4ee5\u81ea\u7531\u5730\u7f29\u8fdb\u548c\u6362\u884c\u3002\u5728\u4f7f\u7528sqlite\u65f6\uff0c\u6211\u5e38\u5e38\u4f1a\u7528sqlite browser\u6765\u67e5\u770b\u7a0b\u5e8f\u751f\u6210\u7684\u6570\u636e\u8868\uff0c\u4f46\u662f\u6211\u4eec\u4e5f\u53ef\u4ee5\u5b8c\u5168\u53ea\u7528JupySQL\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/02/01/why-should-you-use-duckdb/#_4","title":"\u7ed3\u8bba","text":"<p>\u4f5c\u4e3a\u91cf\u5316\u4eba\uff0c\u6211\u5f3a\u70c8\u63a8\u8350\u4f60\u4f7f\u7528duckdb\u4f5c\u4e3a\u4e2a\u4eba\u4f7f\u7528\u7684\u6570\u636e\u5e93\u5de5\u5177\u3002\u5b83\u5b8c\u5168\u66ff\u4ee3\u548c\u80dc\u51fa\u4e86sqlite3\u3002\u5b83\u662f\u57fa\u4e8e\u5217\u5b58\u50a8\u548c\u5411\u91cf\u8fd0\u7b97\u7684\uff0c\u5176\u6027\u80fd\u8d85\u8fc7\u4e86clickhouse\u548cporlars\u3002</p> <p>\u4e00\u53e5\u8bdd\uff0c\u5982\u679c\u4f60\u9700\u8981\u5728\u4e00\u4e2a\u53ea\u670916GB\u5185\u5b58\u7684\u673a\u5668\u4e0a\uff0c\u5206\u6790100GB\u7684\u6570\u636e\uff0c\u53ea\u8003\u8651duckdb\u3002</p>","tags":["quantlib","python"]},{"location":"blog/2024/01/14/how-to-set-env-in-jupyter-notebook/","title":"Jupyter Notebook\u4e2d\u5982\u4f55\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1f","text":"<p>\u6211\u4eec\u5e38\u5e38\u901a\u8fc7Jupyter Notebook\u6765\u5206\u4eab\u4ee3\u7801\u548c\u6f14\u793a\u5206\u6790\u7ed3\u679c\u3002\u6709\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u8d26\u53f7\u548c\u5bc6\u7801\uff0c\u5982\u679c\u5b83\u4eec\u4e5f\u88ab\u5206\u4eab\u51fa\u53bb\uff0c\u53ef\u5c31\u5927\u4e0d\u5999\u4e86\u3002\u6b63\u786e\u7684\u505a\u6cd5\u662f\u628a\u5bc6\u7801\u8bbe\u7f6e\u5728\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u5728\u4ee3\u7801\u4e2d\u8bfb\u53d6\u73af\u5883\u53d8\u91cf\u3002\u4f46\u662f\uff0cJupyter Notebook\u9ed8\u8ba4\u8bbe\u7f6e\u4e0b\uff0c\u5e76\u4e0d\u80fd\u8bfb\u53d6\u5230\u4e3b\u673a\u7684\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u65b9\u6cd5\u4e4b\u4e00\u662f\u4f7f\u7528jupyterhub_config.py\uff0c\u5c06\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\uff1a</p> <pre><code>c.Spawner.env_keep = [VAR1, VAR2, ...]\n</code></pre> <p>\u8fd9\u6837\uff0c\u5728Jupyter hub\u542f\u52a8notebook\u65f6\uff0c\u5217\u8868\u4e2d\u7684\u73af\u5883\u53d8\u91cf\u5c31\u4f1a\u88ab\u5e26\u5165\u5230notebook\u4e2d\u3002\u4f46\u662f\uff0c\u8fd9\u4ec5\u9650\u4e8ejupyterhub\u7684\u573a\u666f\u3002</p> <p>\u53e6\u4e00\u4e2a\u65b9\u6cd5\u662f\u4f7f\u7528 python-dotenv\u5e93\uff0c\u5728\u6bcf\u4e00\u4e2anotebook\u7684\u5934\u90e8\uff0c\u901a\u8fc7cell magic\u8bed\u6cd5\u52a0\u8f7d\u73af\u5883\u53d8\u91cf\uff1a</p> <p><pre><code>%load_ext dotenv\n%dotenv\n</code></pre> \u4e0d\u8fc7\u8fd9\u6837\u4e5f\u7528\u5f88\u7e41\u7410\u3002</p>","tags":["python","jupyter-notebook"]},{"location":"blog/2024/01/14/how-to-set-env-in-jupyter-notebook/#kerneljson","title":"\u4f7f\u7528kernel.json","text":"<p>\u6709\u4e00\u79cd\u65b9\u6cd5\u8bbe\u7f6e\u8d77\u6765\u590d\u6742\u4e00\u4e9b\u3002\u4f46\u4e00\u65e6\u8bbe\u7f6e\u597d\uff0c\u5728\u4f7f\u7528\u4e0a\u5374\u662f\u6700\u7b80\u4fbf\u3002\u8fd9\u5c31\u662f\u901a\u8fc7\u4fee\u6539kernel.json\u3002</p> <p>\u8fd9\u4e2a\u6587\u4ef6\u7684\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>{\n \"display_name\": \"Python 2 with environment\",\n \"language\": \"python\",\n \"argv\": [\n  \"/usr/bin/python2\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"env\": {\"LD_LIBRARY_PATH\":\"\"}\n}\n</code></pre> <p>\u6700\u540e\u7684\"env\"\u5b57\u6bb5\uff0c\u663e\u793a\u4e86\u5982\u4f55\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3002\u5982\u679c\u6211\u4eec\u5728notebook\u4e2d\u8981\u4f7f\u7528tushare, \u6216\u8005jqdatasdk\u7684\u8d26\u53f7\u6216\u8005\u5bc6\u7801\uff0c\u5c31\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u8fd9\u6837\u8bbe\u7f6e\uff1a</p> <pre><code>{\n \"display_name\": \"Python 2 with environment\",\n \"language\": \"python\",\n \"argv\": [\n  \"/usr/bin/python2\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"env\": {\"jqdata_account\":\"myaccount\", \"jqdata_password\": \"mypassword\"}\n}\n</code></pre> <p>Tip</p> <p>tushare\u548cjqdatasdk\u662f\u4e24\u4e2a\u91cd\u8981\u7684A\u80a1\u8bc1\u5238\u6570\u636e\u6e90\u3002</p> <p>\u8bbe\u7f6e\u540e\uff0c\u91cd\u65b0\u6253\u5f00notebook\uff0c\u73b0\u5728\u5c31\u53ef\u4ee5\u8fd9\u6837\u8bbf\u95ee\u4e86\uff1a</p> <pre><code>import os\n\nprint(os.environ.get('jqdata_account'))\n</code></pre>","tags":["python","jupyter-notebook"]},{"location":"blog/2024/01/14/how-to-set-env-in-jupyter-notebook/#kerneljson_1","title":"kernel.json\u7684\u4f4d\u7f6e","text":"<p>\u5728\u5355\u5143\u683c\u4e2d\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <p><pre><code>!jupyter kernelspec list\n</code></pre> \u6211\u4eec\u4f1a\u5f97\u5230\u7c7b\u4f3c\u5982\u4e0b\u7684\u8f93\u51fa\uff1a</p> <p><pre><code>Available kernels:\n  python3    /usr/local/share/jupyter/kernels/python3\n</code></pre> kernle.json\u5c31\u5728\u8fd9\u4e2a\u76ee\u5f55\u91cc\u3002</p>","tags":["python","jupyter-notebook"]},{"location":"blog/2024/01/01/static-site-in-2024/","title":"2024\u5e74\uff0c\u514d\u8d39\u535a\u5ba2\u8d5a\u94b1\u65b9\u6848","text":"<p>\u51e0\u5e74\u524d\uff0c\u6211\u5c31\u63a8\u8350\u8fc7\u7528 Markdown \u5199\u4f5c\u9759\u6001\u535a\u5ba2\u3002\u9759\u6001\u535a\u5ba2\u51e0\u4e4e\u662f\u96f6\u6258\u7ba1\u6210\u672c\uff0c\u6bd4\u8f83\u9002\u5408\u4e2a\u4eba\u535a\u5ba2\u8d77\u6b65\u3002Markdown \u4fbf\u4e8e\u672c\u5730\u641c\u7d22\uff0c\u4e5f\u53ef\u5f53\u4f5c\u662f\u4e2a\u4eba\u77e5\u8bc6\u5e93\u65b9\u6848\u3002</p> <p>\u73b0\u5728\u6709\u4e86\u65b0\u7684\u8fdb\u5c55\u3002\u6211\u4e0d\u4ec5\u6784\u5efa\u4e86\u4e00\u4e2a\u89c6\u89c9\u4e0a\u76f8\u5f53\u4e0d\u9519\u7684\u4e2a\u4eba\u7f51\u7ad9\uff0c\u8fd8\u7f8e\u5316\u4e86 github\u3001\u6784\u5efa\u4e86\u4e2a\u4eba\u51fa\u7248\u7cfb\u7edf -- \u5c06\u6587\u7ae0\u5bfc\u51fa\u4e3a\u6392\u7248\u7cbe\u7f8e\u7684\u56fe\u7247\u548c pdf \u7684\u80fd\u529b\u3002</p> <p>\u8fd9\u4e00\u65b9\u6848\u7684\u6838\u5fc3\u662f Mkdocs \u548c Mkdocs-material\u3002\u524d\u8005\u662f Python \u6280\u672f\u6587\u6863\u6784\u5efa\u7cfb\u7edf\uff0c\u540e\u8005\u662f\u4e0e\u4e4b\u9002\u914d\u7684\u4e3b\u9898\u3002\u6211\u5728 \u300aPython \u80fd\u505a\u5927\u9879\u76ee\u300b \u8fd9\u672c\u4e66\u4e2d\uff0c\u6df1\u5165\u4ecb\u7ecd\u8fc7\u8fd9\u4e24\u79cd\u6280\u672f\u3002</p> <p>\u73b0\u5728\uff0c\u57fa\u4e8e\u8fd9\u4e24\u79cd\u6280\u672f\uff0c\u6211\u4eec\u53ef\u4ee5\u8d70\u5f97\u66f4\u8fdc\uff1a\u4e0d\u4ec5\u53ef\u4ee5\u64b0\u5199\u6280\u672f\u6587\u6863\uff0c\u66f4\u53ef\u4ee5\u6253\u9020\u535a\u5ba2\u548c\u95e8\u6237\u7f51\u7ad9\u3002</p> <p>\u4e0b\u56fe\u5c31\u662f\u622a\u53d6\u7684 \u5927\u5bcc\u7fc1\u91cf\u5316 \u7684\u7f51\u7ad9\u754c\u9762\uff1a</p> <p></p> <p>\u4f60\u53ef\u4ee5\u5728 \u5927\u5bcc\u7fc1\u91cf\u5316 \u7f51\u7ad9\u4e0a\u770b\u5230\u5b83\u6700\u65b0\u7684\u6837\u5f0f\u3002\u66f4\u6709\u521b\u610f\u7684\u662f\uff0c\u867d\u7136\u5b83\u53ea\u662f\u4e00\u4e2a\u9759\u6001\u7f51\u7ad9\uff0c\u4f46\u4f60\u6bcf\u6b21\u5237\u65b0\u5b83\uff0c\u90fd\u80fd\u770b\u5230\u4e00\u4e9b\u65b0\u7684\u5185\u5bb9 -- \u81f3\u5c11\u914d\u56fe\u4f1a\u53d8\uff01</p> <p>\u8fd9\u662f\u9996\u9875\u3002\u83dc\u5355\u680f\u3001\u641c\u7d22\u8fd9\u4e9b\u662f\u5e38\u89c4\u914d\u7f6e\u3002\u6807\u7b7e\u4e91\u3001\u9996\u9875\u7684\u5361\u7247\u5f0f\u5e03\u5c40\uff0c\u662f\u63d0\u5347\u7ad9\u70b9\u6c14\u8d28\u7684\u5730\u65b9\u3002</p> <p>\u6240\u6709\u7684\u6587\u6863\u90fd\u6709\u7248\u672c\u7ba1\u7406\uff0c\u6211\u4f7f\u7528\u4e86 github \u6765\u6258\u7ba1\u6587\u6863\u548c\u56fe\u7247\uff0c\u6240\u4ee5\uff0c\u4e5f\u987a\u4fbf\u628a github \u7684\u4e2a\u4eba\u4e3b\u9875\u7f8e\u5316\u4e86\u4e00\u4e0b\uff1a</p> <p></p> <p>\u5b9e\u5728\u8bf4\uff0c\u4e4b\u524d\u6211\u6ca1\u6709\u60f3\u8fc7\uff0cgithub \u4e3b\u9875\u4e5f\u53ef\u4ee5\u505a\u5f97\u50cf\u4e2a\u4eba\u7f51\u7ad9\u3002\u4e0d\u5f97\u4e0d\u8bf4\u4e00\u5f20\u597d\u56fe\uff0c\u80fd\u5927\u5927\u63d0\u5347\u989c\u503c\u3002</p> <p>\u6b64\u5916\uff0c\u4f5c\u4e3a\u521b\u4f5c\u8005\uff0c\u6211\u8fd8\u5e0c\u671b\u81ea\u5df1\u7684\u6587\u7ae0\u80fd\u5728\u591a\u4e2a\u6e20\u9053\u4e0a\u53d1\u5e03\uff0c\u5305\u62ec\u516c\u4f17\u53f7\u3001\u77e5\u4e4e\u3001CSDN \u548c\u5c0f\u7ea2\u4e66\uff0c\u6709\u65f6\u5019\u8fd8\u9700\u8981\u628a\u6587\u7ae0\u5bfc\u51fa\u4e3a PDF\u3002\u8fd9\u4e9b\u6e20\u9053\u91c7\u7528\u7684\u6280\u672f\u5927\u4e0d\u76f8\u540c\uff0c\u5b83\u4eec\u7684\u6392\u7248\u8981\u6c42\u4e5f\u4e0d\u4e00\u6837\uff0c\u6240\u4ee5\uff0c\u8981\u60f3\u4e0d\u628a\u65f6\u95f4\u65e0\u8c13\u5730\u6d6a\u8d39\u5728\u67af\u71e5\u3001\u91cd\u590d\u7684\u6392\u7248\u4e0a\uff0c\u6211\u4eec\u5c31\u5f97\u7528\u597d\u5404\u79cd\u5de5\u5177\u3002</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/01/static-site-in-2024/#mkdocs-mkdocs-material","title":"Mkdocs + Mkdocs - Material","text":"<p>\u57fa\u7840\u642d\u5efa\u6211\u90fd\u5199\u5728 \u300aPython \u80fd\u505a\u5927\u9879\u76ee\u300b \u8fd9\u672c\u4e66\u7684\u7b2c 10 \u7ae0\u4e2d\u4e86\uff0c\u8fd9\u91cc\u6211\u4eec\u53ea\u4ecb\u7ecd\u5982\u4f55\u5f00\u901a\u535a\u5ba2\u529f\u80fd\uff0c\u4ee5\u53ca\u5b9a\u5236\u9996\u9875\u3002</p> <p>Material \u81ea\u5e26\u4e86\u535a\u5ba2\u63d2\u4ef6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u914d\u7f6e\u4e2d\u542f\u7528\u5b83\uff08\u4ee5\u53ca\u5176\u5b83\u76f8\u5173\u63d2\u4ef6\uff09:</p> <pre><code>plugins:\n  - awesome-pages:\n      collapse_single_pages: true\n  - blog:\n      post_excerpt_separator: &lt;!--more--&gt;\n  - tags:\n      tags_file: tags.md\n  - rss:\n      match_path: \"(blog|articles)/.*\"\n      categories:\n        - categories\n        - tags\n      date_from_meta:\n        as_creation: \"date\"\n        as_update: true\n  - rss:\n      match_path: \"(blog|articles)/.*\"\n      categories:\n        - categories\n        - tags\n      date_from_meta:\n        as_creation: \"date\"\n        as_update: true\n        datetime_format: \"%Y-%m-%d %H:%M\"\n        default_timezone: Asia/Shanghai\n      use_git: false\n</code></pre> <p>\u5176\u4e2d rss \u63d2\u4ef6\u9700\u8981\u5b89\u88c5 mkdocs-rss-plugin \u63d2\u4ef6\u3002\u5173\u4e8e\u5982\u4f55\u5b9a\u5236\u6807\u7b7e\u4e91\uff0c\u8bf7\u53c2\u8003 Code Inside Out \u4e0a\u7684\u8fd9\u7bc7\u6587\u7ae0\u3002</p> <p>\u8be5\u6587\u4e5f\u63d0\u5230\u4e86\u5982\u4f55\u5b9e\u73b0\u6700\u65b0\u535a\u6587\u7684\u529f\u80fd\u3002\u4e0d\u8fc7\uff0c\u535a\u4e3b\u6700\u540e\u51b3\u5b9a\u81ea\u5df1\u7528 Python \u64b8\u4e00\u4e2a\u65b9\u6848\uff0c\u4ee5\u5b9e\u73b0\u672c\u6587\u5f00\u5934\u63d0\u5230\u7684\u6548\u679c -- \u52a8\u6001\u548c\u5361\u7247\u5f0f\uff0c\u5e76\u4e14\u80fd\u81ea\u52a8\u66f4\u65b0 github \u7684 profile\u3002</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/01/static-site-in-2024/#github-profile","title":"\u81ea\u5b9a\u4e49\u811a\u672c\u751f\u6210\u5361\u7247\u5f0f\u9996\u9875\u548c github profile","text":"<p>\u8fd9\u4e2a\u65b9\u6848\u4e3b\u8981\u4f7f\u7528\u4e86 python-frontmatter \u5e93\u3002\u901a\u8fc7\u4e00\u4e2a\u811a\u672c\uff0c\u641c\u7d22 articles \u548c blog \u76ee\u5f55\u4e0b\u6240\u6709\u7684 md \u6587\u4ef6\uff0c\u8bfb\u53d6\u5b83\u4eec\u7684 front matter\uff0c\u518d\u6309\u65e5\u671f\u6392\u5e8f\uff0c\u5c06\u6700\u65b0\u53d1\u8868\u7684\u6587\u7ae0\u548c\u535a\u6587\u7684\u6458\u8981\u3001\u65e5\u671f\u3001title \u548c\u9996\u56fe\u62bd\u53d6\u51fa\u6765\uff0c\u901a\u8fc7\u6a21\u677f\u751f\u6210\u4e00\u4e2a\u65b0\u7684 README.md \u6587\u4ef6\uff0c\u653e\u5230\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u3002</p> <p>github \u4f1a\u8bfb\u53d6\u8fd9\u4e2a\u6587\u4ef6\u4f5c\u4e3a\u6211\u4eec\u7684 profile\uff0cmkdocs-material \u4e5f\u4f1a\u6839\u636e\u8fd9\u4e2a\u6587\u4ef6\uff0c\u751f\u6210\u7f51\u7ad9\u9996\u9875\u3002</p> <p>\u8fd9\u4e2a readme.md \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5e26\u90e8\u5206 html \u6807\u7b7e\u7684 md \u7247\u6bb5\u3002\u6211\u5148\u7528\u811a\u672c\u751f\u6210\u4e86\u4f9b mkdocs \u4f7f\u7528\u7684 README.md\uff0c\u5f85\u7f51\u7ad9\u53d1\u5e03\u540e\uff0c\u518d\u751f\u6210\u4f9b github \u7684 profile \u4f7f\u7528\u7684 readme.md\u3002\u533a\u522b\u4e3b\u8981\u5728\u4e8e\uff0cgithub \u7684 profile \u4e2d\u4e0d\u80fd\u4f7f\u7528'&lt;style&gt;'\u6807\u7b7e\u6765\u5b9a\u4e49\u6837\u5f0f\uff0c\u5b83\u53ea\u5141\u8bb8\u5728 README.md \u4e2d html \u6807\u7b7e\u4e2d\uff0c\u4f7f\u7528\u5c11\u91cf\u7684\u6837\u5f0f\u8bed\u6cd5\u3002</p> <p>Tip</p> <p>\u5982\u679c\u5bf9\u8fd9\u4e2a\u65b9\u6848\u7684\u7ec6\u8282\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee zillionare \u8fd9\u4e2a\u9879\u76ee\u3002mkdocs-material \u7684\u5b9a\u5236\u5728 docs/overrides \u76ee\u5f55\u4e0b\u3002\u6784\u5efa Readme.md \u7684\u811a\u672c\u5728\u6839\u76ee\u5f55\u4e0b\uff0c\u540d\u5b57\u4e3a publish.py\u3002</p> <p>\u4e3a\u4e86\u751f\u6210\u54cd\u5e94\u5f0f\u7684\u5361\u7247\u5e03\u5c40\uff0c\u6211\u4f7f\u7528\u4e86 bootstrap \u4e2d card \u6837\u5f0f\u3002\u5b83\u7b80\u5355\u5230\u53ea\u8981\u628a\u7236\u5bb9\u5668\u58f0\u660e\u4e3a card-columns \u7c7b\uff0ccard \u5143\u7d20\u7684\u6837\u5f0f\u58f0\u660e\u4e3a card \u5c31\u53ef\u4ee5\u4e86\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u6839\u636e\u4e0d\u540c\u7684\u5c4f\u5e55\u5927\u5c0f\uff0c\u663e\u793a\u4e0d\u540c\u7684 card \u5217\u6570\uff0c\u53ef\u4ee5\u4f7f\u7528\u5a92\u4f53\u67e5\u8be2\u548c column-count \u5c5e\u6027\uff0c\u5728 docs/assets/templates/homepage.tpl \u6587\u4ef6\u4e2d\u6709\u793a\u4f8b\u3002</p> <p>\u5728 publish.py \u811a\u672c\u4e2d\uff0c\u6211\u4f7f\u7528\u4e86 frontmatter \u6765\u63d0\u53d6\u6587\u7ae0\u4e2d\u7684 meta\uff0c\u4f46\u5b83\u7684\u901f\u5ea6\u6709\u70b9\u6162\u3002\u4e0d\u8fc7\u8fd9\u662f\u4e00\u4e2a\u4f7f\u7528\u591a\u8fdb\u7a0b\u52a0\u901f\u7684\u597d\u573a\u666f\uff1a</p> <pre><code>metas = []\narticles = glob.glob(\"./docs/articles/**/*.md\", recursive=True)\nwith ProcessPoolExecutor() as executor:\n    results = executor.map(extract_article_meta, articles)\n    metas.extend([meta for meta in results if meta is not None])\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ef\u4ee5\u591a\u8fdb\u7a0b\u5904\u7406\u6587\u4ef6\u4e86\u3002\u6700\u7ec8\u7ed3\u679c\u4f1a\u6c47\u603b\u5230 metas \u8fd9\u4e2a\u6570\u7ec4\u4e2d\u3002</p> <p>\u56fe\u7247\u81ea\u52a8\u6362\u65b0\u6280\u5de7</p> <p>\u56fe\u7247\u81ea\u52a8\u6362\u65b0\uff0c\u53ef\u4ee5\u7ed9\u9759\u6001\u7f51\u7ad9\u589e\u52a0\u52a8\u6001\u5185\u5bb9\u3002\u8ba9\u8bfb\u8005\u6bcf\u6b21\u8bbf\u95ee\uff0c\u90fd\u6709\u4e0d\u4e00\u6837\u7684\u611f\u89c9\u3002\u8fd9\u662f\u901a\u8fc7 unsplash \u7f51\u7ad9\u7684 gallery \u529f\u80fd\u6765\u5b9e\u73b0\u7684\u3002unsplash \u662f\u4e00\u4e2a\u514d\u8d39\u56fe\u7247\u8d44\u6e90\u5171\u4eab\u7f51\u7ad9\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u9ad8\u6e05\u3001\u5f88\u9ad8\u8d28\u91cf\u7684\u514d\u8d39\u56fe\u7247\u3002\u5982\u679c\u6211\u4eec\u5c06 img \u5143\u7d20\u7684 url \u6307\u5411'https://source.unsplash.com/random/360x200?{word}'\u8fd9\u6837\u7684\u5730\u5740\uff0cunsplash \u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a 360x200\uff0c\u5e76\u4e14\u5176\u7c7b\u522b\u4e3a word \u7684\u56fe\u7247\u3002</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/01/static-site-in-2024/#_1","title":"\u53d1\u5e03\u5230\u5c0f\u7ea2\u4e66","text":"<p>\u5c0f\u7ea2\u4e66\u53d1\u6587\u4e0d\u80fd\u8d85\u8fc7 1000 \u5b57\uff0c\u5e76\u4e14\u5f88\u96be\u683c\u5f0f\u5316\u3002\u5982\u679c\u8981\u5206\u4eab\u6587\u5b57\u3001\u4ee3\u7801\u5e76\u4e14\u505a\u5230\u6df7\u6392\uff0c\u60df\u4e00\u7684\u65b9\u6cd5\u5c31\u662f\u5c06\u5176\u8f6c\u6362\u6210\u4e3a\u56fe\u7247\u3002\u8fd9\u4e2a\u6b65\u9aa4\u6709\u70b9\u7e41\u7410\uff0c\u4e0d\u8fc7\uff0c\u8fd9\u4e5f\u6210\u4e3a\u4e00\u79cd\u58c1\u5792\uff0c\u5bfc\u81f4\u6df1\u5ea6\u5185\u5bb9\u5728\u5c0f\u7ea2\u4e66\u4e0a\u6bd4\u8f83\u7a00\u7f3a\u3002\u56e0\u6b64\uff0c\u5982\u679c\u80fd\u641e\u5b9a\u683c\u5f0f\u6392\u7248\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6709\u6548\u5730\u5229\u7528\u5c0f\u7ea2\u4e66\u7684\u5206\u53d1\u3002</p> <p>\u6211\u7684\u65b9\u6848\u662f\u4f7f\u7528 slidev\u3002\u5b83\u662f\u4e00\u4e2a\u57fa\u4e8e markdown \u8bed\u6cd5\u6765\u521b\u4f5c\u5728\u7ebf\u6f14\u793a\u7684\u65b9\u6848\uff0c\u63d0\u4f9b\u4e86\u8f6c\u6362\u4e3a\u56fe\u7247\u7684\u529f\u80fd\u3002</p> <p></p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u57fa\u4e8e mkdocs+material \u521b\u4f5c\u7684\u6587\u6863\uff0c\u53ea\u8981\u52a0\u4e0a\u5c11\u91cf\u7684\u6807\u8bb0\u548c\u5b9a\u5236\uff0c\u5c31\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u8f6c\u6362\u6210\u4e3a\u56fe\u7247\u3002</p> <p>\u8981\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff0c\u5728\u5b89\u88c5 slidev \u4e4b\u540e\uff0c\u5148\u8fdb\u884c\u4e3b\u9898\u5b9a\u5236\u3002\u6700\u91cd\u8981\u7684\u662f cover layout \u7684\u5b9a\u5236\u3002\u53f3\u56fe\u5c31\u662f\u6211\u4e4b\u524d\u4e3a\u5c0f\u7ea2\u4e66\u65e5\u66f4\u8bbe\u8ba1\u7684\u4e00\u4e2a\u9996\u9875\u6837\u5f0f\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u8bbe\u8ba1\u591a\u4e2a\u6837\u5f0f\uff0c\u5728\u5bfc\u51fa\u65f6\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a</p> <pre><code>npx slidev export --format png -t /path/to/slidev_themes/special_theme_dir --output /tmp/xhs /path/to/src.md\n</code></pre> <p>\u6211\u4eec\u9700\u8981\u5728 markdown \u5185\u5bb9\u4e2d\u7684\u5408\u9002\u4f4d\u7f6e\uff0c\u589e\u52a0\"---\"\u4f5c\u4e3a\u5206\u9875\u7b26\uff0c\u8fd9\u6837\u5c31\u80fd\u5bfc\u51fa\u4e00\u9875\u9875\u9002\u5408\u5728\u5c0f\u7ea2\u4e66\u4e0a\u53d1\u5e03\u7684\u56fe\u7247\u4e86\u3002</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/01/static-site-in-2024/#_2","title":"\u53d1\u5e03\u5230\u5fae\u4fe1\u516c\u4f17\u53f7","text":"<p>\u5fae\u4fe1\u516c\u4f17\u53f7\u6392\u7248\u4e00\u76f4\u662f\u4e2a\u95ee\u9898\u3002\u6211\u751a\u81f3\u4e00\u5ea6\u653e\u5f03\u4e86\u516c\u4f17\u53f7\u521b\u4f5c\u3002\u4f5c\u4e3a\u6280\u672f\u6781\u5ba2\uff0c\u6211\u62d2\u7edd\u4e86\u51e0\u4e4e\u4efb\u4f55\u4e0d\u662f\u57fa\u4e8e Markdown \u7684\u6392\u7248\u65b9\u6848 -- \u90fd\u4ec0\u4e48\u5e74\u4ee3\u4e86\uff0c\u5199\u4e2a\u81ea\u5a92\u4f53\u90fd\u662f\u8d54\u94b1\u7684\uff0c\u5e73\u53f0\u8fd8\u597d\u610f\u601d\u8981\u6c42\u6211\u4eec\u4e13\u95e8\u4e3a\u4f60\u4eec\u6392\u7248\uff1f</p> <p>\u76f4\u5230\u6211\u9047\u5230\u4e86 mdnice\u3002</p> <p>\u5b83\u751a\u81f3\u6bd4\u6211\u81ea\u5df1\u4f7f\u7528 mkdocs-material \u7684\u6392\u7248\u8fd8\u8981\u6f02\u4eae -- \u7279\u522b\u662f\u5b83\u5bf9\u4ee3\u7801\u7684\u5904\u7406\u90e8\u5206 -- \u6211\u8d85\u7231\u5979\u6df1\u8272\u4e3b\u9898\u4e0b\u7684 50 \u9053\u9634\u5f71\uff01</p> <p>\u6211\u73b0\u5728\u4e5f\u8d85\u7231\u5199\u516c\u4f17\u53f7\u4e86\uff01\u4e0d\u8fc7\uff0c\u4ec0\u4e48\u65f6\u5019 mdnice \u80fd\u5b9e\u73b0 markdown \u7684 admonition \u8bed\u6cd5\u5c31\u66f4\u597d\u4e86\u3002\u6bd5\u7adf\uff0c\u8fd9\u662f\u4e2a\u4fe1\u606f\u8fc7\u8f7d\u7684\u65f6\u4ee3\uff0c\u6211\u4eec\u5fc5\u987b\u7528\u4e00\u4e9b\u7559\u767d\u6765\u7f13\u89e3\u5bc6\u96c6\u4fe1\u606f\u6050\u60e7\u75c7\uff0c\u540c\u65f6\u7528\u4e00\u4e9b\u95ea\u8000\u7684\u88c5\u9970\u5438\u5f15\u8bfb\u8005\uff0c\u907f\u514d\u4ed6\u4eec\u8d70\u6389\u3002</p> <p>\u5f53\u7136\uff0cmdnice \u4e5f\u53ef\u4ee5\u76f4\u63a5\u53d1\u5230 CSDN \u4e0a\u3002\u4e0d\u8fc7\uff0c\u8fd9\u6837\u4f1a\u5931\u53bb\u5b9a\u65f6\u53d1\u5e03\u4ee5\u53ca\u81ea\u5b9a\u4e49\u6807\u7b7e\u3001\u9009\u62e9\u4e13\u680f\u3001\u5b9a\u5236\u9996\u56fe\u7684\u80fd\u529b\uff0c\u6240\u4ee5\uff0c\u6211\u5b81\u613f\u81ea\u5df1\u767b\u5f55\u5230 CSDN \u7684\u7f51\u7ad9\u4e0a\u53bb\u7f16\u8f91\uff0c\u597d\u5728\uff0c\u5b83\u63d0\u4f9b\u4e86 markdown \u7f16\u8f91\u5668\uff0c\u5e76\u4e14\u80fd\u81ea\u52a8\u5904\u7406\u56fe\u7247\u94fe\u63a5\u3002\u56e0\u6b64\uff0c\u6211\u5e76\u4e0d\u9700\u8981\u4e00\u4e2a\u4e2a\u5730\u4ece\u672c\u5730\u4e0a\u4f20\uff0c\u8fd9\u7701\u4e86\u6211\u4e0d\u5c11\u65f6\u95f4\u3002</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/01/static-site-in-2024/#_3","title":"\u53d1\u5e03\u5230\u77e5\u4e4e","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f vscode \u6765\u7f16\u8f91 markdown \u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u540d\u4e3a Zhihu On VSCode \u7684\u6269\u5c55\u3002\u5b83\u652f\u6301\u5b9a\u65f6\u53d1\u5e03\uff08\u4e00\u5929\u4ee5\u5185\uff09\u3001\u9009\u62e9\u4e13\u680f\uff0c\u4f46\u4e0d\u652f\u6301\u6dfb\u52a0\u8bdd\u9898\uff0c\u53e6\u5916\uff0c\u5b83\u4e0d\u80fd\u6b63\u786e\u5904\u7406\uff08\u53bb\u6389\uff09frontmatter\u3002</p> <p>\u4f46\u662f\u5b83\u80fd\u5904\u7406 markdown \u4e2d\u7684\u56fe\u7247\u94fe\u63a5\u3002\u8fd9\u6837\u5c31\u7701\u53bb\u4e86\u6211\u4e0a\u4f20\u56fe\u7247\u7684\u65f6\u95f4\u3002\u5b83\u5bf9\u4ee3\u7801\u4e5f\u80fd\u5f88\u597d\u5904\u7406\u3002</p> <p>\u4e0d\u8fc7\uff0c\u77e5\u4e4e\u7684\u6587\u6863\u683c\u5f0f\u786e\u5b9e\u592a\u7d20\u51c0\u4e86\u3002</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/01/static-site-in-2024/#pdf","title":"\u8f6c\u6362\u4e3a pdf","text":"<p>slidev \u4e5f\u53ef\u4ee5\u8f6c\u6362\u6210\u4e3a pdf\u3002\u4e0d\u8fc7\uff0c\u6211\u66f4\u559c\u6b22\u4f7f\u7528 vscode \u7684 markdown preview enhanced \u6765\u8f6c\u6362 pdf\u3002\u6700\u7ec8\u63d0\u4f9b\u8f6c\u6362\u7684\u662f chrome+puppetter\u3002\u901a\u8fc7\u5728\u6587\u6863\u7684 frontmatter \u4e2d\u52a0\u4e0a\u9002\u5f53\u7684\u6807\u8bb0\uff0c\u5c31\u80fd\u751f\u6210\u9875\u7709\u548c\u9875\u811a\u3002</p> <p>\u53f3\u56fe\u5c31\u662f\u5b83\u5bfc\u51fa\u7684\u4e00\u4f8b\u3002</p> <p>\u6b64\u5916\uff0cslidev \u4e5f\u53ef\u4ee5\u5bfc\u51fa pdf\u3002\u8981\u5b9e\u73b0\u9875\u7709\u548c\u9875\u811a\uff0c\u9700\u8981\u8981\u5b9a\u5236 global-top \u548c global-bottom\uff0c\u4e00\u65e6\u5b9a\u5236\u5b8c\u6210\uff0c\u8fd9\u79cd\u65b9\u6848\u4f3c\u4e4e\u66f4\u597d\uff0c\u6bd5\u7adf\uff0c\u5b83\u662f\u624b\u52a8\u5206\u9875\uff0c\u6211\u4eec\u5bf9\u9875\u9762\u7684\u63a7\u5236\u529b\u66f4\u5f3a\u3002</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/01/static-site-in-2024/#_4","title":"\u8d5a\u70b9\u5c0f\u94b1","text":"<p>\u8f9b\u82e6\u8f9b\u82e6\u5199\u4e86\u535a\u5ba2\uff0c\u60f3\u529e\u6cd5\u8d5a\u70b9\u94b1\u5427\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u524d\u9762\u63d0\u5230\u7684 ovrrides \u65b9\u6848\uff0c\u8ba9 mkdocs-material \u4e3a\u6bcf\u4e2a\u9875\u9762\u63d2\u5165\u4e00\u4e2a js \u811a\u672c\u3002</p> <p>\u5982\u679c\u4f60\u52a0\u5165\u4e86\u5e7f\u544a\u8054\u76df\uff0c\u5b83\u4eec\u4e00\u822c\u5c31\u4f1a\u4e3a\u4f60\u63d0\u4f9b\u4e00\u4e2a js \u811a\u672c\uff0c\u628a\u8fd9\u4e2a js \u63d2\u5165\u8fdb\u53bb\u5c31\u53ef\u4ee5\u4e86\u3002\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5199\u4e00\u4e2a js\uff0c\u628a\u81ea\u5df1\u8981\u53d1\u5e03\u7684\u5e7f\u544a\uff0c\u4ee5 html \u7247\u6bb5\u7684\u5f62\u5f0f\uff0c\u653e\u5728 docs \u76ee\u5f55\u4e0b\u7684\u67d0\u4e00\u4e2a\u5b50\u76ee\u5f55\u4e2d\uff0c\u7136\u540e\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u628a\u8fd9\u4e9b\u7247\u6bb5\u63d2\u5165\u8fdb\u6765\uff1a</p> <pre><code>function insertAd(minParas, minWords){\n    var links = document.querySelectorAll(\"a[href*='\" + link + \"']\");\n    if (links.length &gt; 0){\n        console.log(\"\u5df2\u6dfb\u52a0\")\n        return\n    }\n\n    var paras = document.querySelectorAll(\"article p\");\n    var wordCount = 0\n    var paraCount = 0\n    var inserted = 0\n    for (var i = 0; i &lt; paras.length; i++){\n        var p = paras[i];\n        paraCount ++\n        wordCount += p.innerText.length\n        if (inserted &gt;= 2){\n            break\n        }\n\n        if (paraCount &gt;= minParas &amp;&amp; wordCount &gt;= minWords) {\n            console.log(\"find para\", p, paraCount, wordCount)\n            p.insertAdjacentHTML(\"afterend\", ad)\n            paraCount = 0\n            wordCount = 0\n            inserted += 1\n        }\n    }\n    if (inserted == 0 &amp; paras.length &gt;= 5){\n        var article = document.getElementsByTagName(\"article\")[0]\n        article.insertAdjacentHTML(\"beforeend\", ad)\n    }\n}\n\ndocument$.subscribe(function() {\n    console.log(\"call in ad\")\n    insertAd(40, 4000)\n})\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5b9e\u73b0\u4e86\u6587\u4e2d\u548c\u6587\u672b\u63d2\u5165\u3002\u53ea\u6709\u5728\u6587\u7ae0\u5185\u5bb9\u8db3\u591f\u957f\u65f6\uff0c\u624d\u4f1a\u63d2\u5165\u5e7f\u544a\u3002\u540c\u6837\u5730\uff0c\u5b8c\u6574\u7684\u4ee3\u7801\u53ef\u4ee5\u5728 zillionare \u8fd9\u4e2a\u9879\u76ee\u4e0b\u627e\u5230\u3002\u5177\u4f53\u4f4d\u7f6e\u662f docs/overrides/javascripts/course.js\u3002\u6ce8\u610f\u4e0d\u8981\u4f7f\u7528 ad.js \u8fd9\u6837\u597d\u542c\u597d\u8bb0\u7684\u540d\u5b57\uff0c\u5b83\u4f1a\u88ab adblock \u8fd9\u6837\u7684\u6d4f\u89c8\u5668\u6269\u5c55\u62e6\u622a\uff01</p>","tags":["blog","static-site","tools"]},{"location":"blog/2024/01/29/use-sql-query-with-pandas/","title":"\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe!","text":"<p>\u5bf9\u6709\u4e00\u5b9aSQL\u57fa\u7840\u7684\u4eba\u6765\u8bf4\uff0cpandas\u4e2d\u7684\u67e5\u8be2\u4f1a\u6709\u70b9\u7e41\u7410\u3002</p> <p>\u5728\u8fd9\u7bc7\u6587\u7ae0\uff0c\u6211\u4eec\u5c06\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u5728\u7528SQL\u65b9\u4fbf\u7684\u5730\u65b9\uff0c\u6211\u4eec\u7528SQL\uff1b\u5728\u7528\u539f\u751f\u67e5\u8be2\u65b9\u4fbf\u7684\u5730\u65b9\uff0c\u6211\u4eec\u5c31\u7528\u539f\u751f\u67e5\u8be2\u3002</p> <p>\u8fd9\u4e2a\u642d\u5b50\u4f1a\u662f\u8c01\u5462\uff1f</p> <p>Info</p> <p>\u8fd9\u7bc7\u6587\u7ae0\u5f3a\u8c03\u7684\u662f\uff0c\u6709SQL\u57fa\u7840\u7684\u4eba\uff0c\u4f7f\u7528SQL\u6765\u5b8c\u6210\u67d0\u4e9bdataframe\u7684\u67e5\u8be2\u4f1a\u66f4\u7b80\u6d01\u76f4\u89c2\u3002\u4f46\u5e76\u4e0d\u662f\u6240\u6709\u7684\u65f6\u5019\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u7528SQL\u6765\u4ee3\u66ffdataframe\u7684\u64cd\u4f5c\u3002\u4e24\u79cd\u65b9\u5f0f\u5404\u6709\u957f\u5904\u3002pandas\u4e2d\u6211\u4eec\u5bf9\u6570\u636e\u7684\u64cd\u4f5c\u662f\u5206\u6b65\u7684\uff0c\u6e10\u8fdb\u5f0f\u7684\uff0c\u53ef\u4ee5\u4e00\u6b65\u6b65\u5730\u67e5\u770b\u4e2d\u95f4\u5904\u7406\u7ed3\u679c\uff0c\u8fd9\u662f\u5b83\u6700\u5927\u7684\u4f18\u70b9\u3002</p>","tags":["python","pandas","duckdb"]},{"location":"blog/2024/01/29/use-sql-query-with-pandas/#dataframe-vs-sql","title":"dataframe\u65b9\u6cd5 vs SQL","text":"<p>dataframe\u662f\u4e00\u4e2a\u6570\u636e\u8868\u683c\u3002pandas\u63d0\u4f9b\u4e86\u5f88\u591a\u65b9\u6cd5\u6765\u5b9e\u73b0\u5bf9dataframe\u7684\u67e5\u8be2\uff0c\u8fd9\u4e9b\u67e5\u8be2\u5f80\u5f80\u53ef\u4ee5\u4e0esql\u67e5\u8be2\u5bf9\u5e94\u8d77\u6765\uff0c\u6bd4\u5982\uff1a</p> <ol> <li>\u9009\u62e9\u8868\u4e2d\u7684\u51e0\u5217\u3002\u5bf9\u5e94\u7684SQL\u8bed\u53e5\u662f\uff1a    <pre><code>SELECT total_bill, tip, smoker time from tips;\n</code></pre>    \u5728pandas\u4e2d\uff0c\u8fd9\u4e2a\u8bed\u6cd5\u66f4\u7b80\u6d01\u4e00\u4e9b\uff1a    <pre><code>tips[[\"total_bill\", \"tip\", \"smoker\", \"time\"]]\n</code></pre></li> <li>\u6309\u6761\u4ef6\u67e5\u8be2\u3002\u5728\u6761\u4ef6\u8f83\u591a\uff0c\u6216\u8005\u9700\u8981\u6a21\u7cca\u5339\u914d\u65f6\uff0c\u5c31\u4e0d\u5982sql\u7b80\u6d01\u4e86    <pre><code>select * from tips where time like 'Dinner%' and tip &gt; 5;\n</code></pre>    sql\u8bed\u6cd5\u6709\u81ea\u7136\u8bed\u8a00\u4e4b\u611f\u3002\u5728pandas\u4e2d\uff0c\u9700\u8981\u8fd9\u6837\u67e5\u8be2\uff1a    <pre><code>tips[(tips[\"time\"].str.find(\"Dinner\") == 0) &amp; (tips[\"tip\"] &gt; 5)]\n</code></pre>    \u5bf9\u5b57\u7b26\u4e32\u7684\u64cd\u4f5c\u8bed\u6cd5\u6216\u8bb8\u66f4\u5f3a\u5927\uff0c\u4f46\u6ca1sql\u76f4\u89c2\u3002\u591a\u4e2a\u6761\u4ef6\u7684\u903b\u8f91\u8fd0\u7b97\u7b26\u4e5f\u4e0d\u5982 and\u8fd9\u6837\u6613\u61c2\u3002\u5bf9\u7a7a\u503c\u7684\u67e5\u8be2\uff0c\u5728SQL\u4e2d\u662f    <pre><code>select * from frame where col2 is NULL;\n</code></pre>    \u5728pandas\u4e2d\uff0c\u9700\u8981\u4f7f\u7528isna()\u6216\u8005notna()\u3002</li> </ol> <ol> <li>\u805a\u5408\u8fd0\u7b97\u4e5f\u662f\u6570\u636e\u5904\u7406\u4e2d\u7684\u5e38\u6001\u3002    <pre><code>select smoker, day, count(*), avg(tip) from tips group by smoker, day;\n</code></pre>    \u5728pandas\u4e2d\uff0c\u9700\u8981\u8fd9\u6837\u67e5\u8be2\uff1a    <pre><code>tips.groupby(\"day\").agg({\"tip\": \"mean\", \"day\": \"size\"})\n</code></pre>    \u5c3d\u7ba1\u8bed\u6cd5\u4e0d\u592a\u76f4\u89c2\uff0c\u4f46\u4e66\u5199\u4e0a\u5012\u4e5f\u7b80\u6d01\u3002</li> <li>\u8fde\u63a5\u8868\u3002SQL\u6709\u5f3a\u5927\u7684join\u548cunion\u8bed\u6cd5\u3002\u5728pandas\u4e2d\uff0c\u63d0\u4f9b\u4e86join, merge\u548cconcat\u4e09\u4e2a\u51fd\u6570\u6765\u5b9e\u73b0\u76f8\u5173\u529f\u80fd\u3002\u5176\u4e2djoin\u9ed8\u8ba4\u662f\u6309\u5217\u8fdb\u884c\u5de6\u8fde\u63a5\uff0cmerge\u5219\u662f\u6309\u5217\u5185\u8fde\u63a5,concat\u5219\u662f\u6309\u884c\u8fdb\u884c\u5916\u8fde\u63a5\u3002\u8bbe\u8ba1\u4e86\u591a\u4e2aAPI\u6765\u505a\u7c7b\u4f3c\u7684\u4e8b\uff0c\u8fd9\u662fpandas\u7ed9\u4eba\u589e\u52a0\u5b66\u4e60\u548c\u8bb0\u5fc6\u96be\u5ea6\u7684\u5730\u65b9\u3002join\u4e0emerge\u7684\u533a\u522b\u662f\uff0cjoin\u53ef\u4ee5\u4e00\u6b21\u5904\u7406\u591a\u4e2a\u8868\uff0c\u4f46\u53ea\u652f\u6301\u6309index\u8fdb\u884c\u64cd\u4f5c\u3002merge\u4e00\u6b21\u53ea\u80fd\u5904\u7406\u4e24\u4e2a\u8868\uff0c\u4f46\u53ef\u4ee5\u6309\u4efb\u610f\u5217\u8fdb\u884c\u64cd\u4f5c\u3002concat\u9ed8\u8ba4\u662f\u6309\u884c\u8fdb\u884c\u64cd\u4f5c\uff0c\u53ea\u6309index\u8fdb\u884c\u5185\u8fde\u63a5\u548c\u5168\u8fde\u63a5\uff08\u9ed8\u8ba4\uff09\uff0c\u53ef\u4e00\u6b21\u64cd\u4f5c\u591a\u4e2adataframe\u3002</li> </ol> <p>\u6b64\u5916\uff0c\u6211\u4eec\u5bf9\u6570\u636e\u8fd8\u6709\u6392\u5e8f\u3001\u9650\u5236\u8fd4\u56de\u6570\u91cf\u548c\u5206\u9875\u7684\u9700\u6c42\u3002\u8fd9\u4e9b\u64cd\u4f5c\u5728pandas\u4e2d\u90fd\u6709\u5bf9\u5e94\u7684\u51fd\u6570\uff0c\u4f46\u5bf9\u5df2\u7ecf\u719f\u6089sql\u7684\u4eba\u6765\u8bb2\uff0cpandas\u7684API\u5f88\u96be\u4e0eSQL\u4e00\u4e00\u5bf9\u5e94\u4e0a\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u6765\u770b\u770b\uff0c\u5982\u4f55\u628adataframe\u5f53\u6210\u4e00\u4e2a\u6570\u636e\u5e93\u8868\uff0c\u4f7f\u7528sql\u8fdb\u884c\u67e5\u8be2\u3002\u5982\u679c\u8fd9\u4e00\u529f\u80fd\u5f97\u5230\u5b9e\u73b0\uff0c\u90a3\u4e48\u8bb8\u591a\u67e5\u8be2\u5c31\u53ef\u4ee5\u5f97\u5230\u76f8\u5e94\u7684\u7b80\u5316\u3002</p> <p>Tip</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u6211\u4eec\u6700\u7ec8\u7ed9\u51fa\u7684\u65b9\u6848\uff0c\u8fd8\u5c06\u5927\u5927\u589e\u5f3a\u67e5\u8be2\u6027\u80fd\uff0c\u5e76\u4e14\u80fd\u5904\u7406\u5927\u4e8e\u5185\u5b58\u7684\u6570\u636e\u96c6\uff01</p>","tags":["python","pandas","duckdb"]},{"location":"blog/2024/01/29/use-sql-query-with-pandas/#query","title":"\u5185\u7f6e\u7684query\u65b9\u6cd5","text":"<p>\u4ee4\u4eba\u5403\u60ca\u7684\u662f\uff0cpandas\u5df2\u7ecf\u5185\u7f6e\u4e86\u4e00\u4e2aquery\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8ba9\u6211\u4eec\u5c31\u50cf\u6267\u884csql\u4e00\u6837\u8fdb\u884cpandas\u7684\u67e5\u8be2\u3002</p> <p>\u8fd9\u4e2a\u51fd\u6570\u7684\u7b7e\u540d\u662f:</p> <pre><code>DataFrame.query(expr, *, inplace=False, **kwargs)\n\n# \u6700\u7b80\u5355\u7684\u67e5\u8be2\u3002\u8fd9\u5c06\u8fd4\u56de\u6ee1\u8db3\u5217A\u5927\u4e8e\u5217B\u7684\u6240\u6709\u884c\n# \u7c7b\u4f3c\u4e8edf[df.A &gt; df.B]\ndf.query('A &gt; B')\n</code></pre> <p>\u901a\u8fc7\u8fd9\u4e2aquery\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u7b80\u5316\u67e5\u8be2\u3002\u6211\u4eec\u5148\u6765\u751f\u6210\u4e00\u4e2a\u6570\u636e\u96c6\uff1a</p> <pre><code>import pandas as pd\n\nfrom pandas.util.testing import makeMixedDataFrame\ndf = makeMixedDataFrame()\ndf.head()\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u5229\u7528\u4e86testing\u5305\u4e2d\u7684makeMixedDataFrame\u65b9\u6cd5\u6765\u751f\u6210\u6d4b\u8bd5\u7528\u7684dataframe\u3002makeMixedDataFrame\u4f1a\u751f\u6210\u4e00\u4e2a\u5305\u542b\u5404\u79cd\u6570\u636e\u7c7b\u578b\u7684dataframe\uff0c\u9664\u4e86None\u3002\u5982\u679c\u8981\u751f\u6210\u5e26\u7f3a\u5931\u503c\u7684\u6d4b\u8bd5\u7528dataframe\uff0c\u53ef\u4ee5\u7528makeMissingDataframe\u3002</p> <p>\u6211\u4eec\u5f97\u5230\u7684dataframe\u7c7b\u4f3c\u4e8e\u4e0b\u56fe\uff1a</p> <p></p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u6267\u884c\u4e00\u4e2a\u67e5\u8be2:</p> <pre><code>df.query(\"A&gt;3 and B &lt;= 1.0\")\n</code></pre> <p>\u8fd9\u5c06\u8fd4\u56de\u539f\u6570\u636e\u96c6\u4e2d\u7684\u7b2c4\u6761\u8bb0\u5f55\u3002</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0cquery\u8868\u8fbe\u5f0f\u53ea\u662f\u770b\u8d77\u6765\u8c61sql\uff0c\u4f46\u5b83\u5e76\u4e0d\u662fsql\u8bed\u6cd5\u3002\u5b83\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u5373expr\u53c2\u6570\uff0c\u662f\u4e00\u4e2aPython\u8868\u8fbe\u5f0f\uff0c\u800c\u975esql\u8bed\u53e5\u3002\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u6570\u636e\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u8981\u67e5\u627eC\u5217\u5305\u542b'foo'\u7684\u6570\u636e\uff0c\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528sql\u7684like\u5173\u952e\u5b57\uff0c\u800c\u662f\u8981\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a</p> <pre><code>df.query(\"A&gt;3 and C.str.find('foo')!=-1\")\n</code></pre> <p>\u8fd9\u6837\u5b9e\u9645\u4e0a\u5dee\u4e0d\u591a\u9000\u56de\u5230\u4e86dataframe\u4e2d\u7684\u67e5\u8be2\u64cd\u4f5c\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u91cc\u5141\u8bb8\u6211\u4eec\u4f7f\u7528<code>AND</code>\u4f5c\u4e3a\u903b\u8f91\u8fd0\u7b97\u7b26\u3002\u6211\u4eec\u4f7f\u7528query\u6700\u4e3b\u8981\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u83b7\u5f97\u66f4\u5feb\u7684\u901f\u5ea6\u3002\u5982\u679c\u73af\u5883\u4e2d\u5df2\u7ecf\u5b89\u88c5\u4e86numexpr\u8fd9\u4e2a\u5e93\uff0c\u90a3\u4e48query\u5c06\u9ed8\u8ba4\u4f7f\u7528numexpr\u6765\u52a0\u901f\u8ba1\u7b97\uff0c\u5728dataframe\u8d85\u8fc7100\u4e07\u884c\u65f6\uff0c\u4f1a\u6bd4DataFrame\u7684\u5404\u79cdfilter\u65b9\u6cd5\u8981\u5feb\u4e0d\u5c11\u3002</p>","tags":["python","pandas","duckdb"]},{"location":"blog/2024/01/29/use-sql-query-with-pandas/#pandasql","title":"pandasql","text":"<p>\u6700\u5148\u5c1d\u8bd5\u4e3apandas\u63d0\u4f9bsql\u67e5\u8be2\u529f\u80fd\u7684\u662fpandasql\u3002</p> <pre><code>! pip install pandasql\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u5b8c\u6574sql\u8bed\u6cd5\u6765\u8fdb\u884c\u67e5\u8be2\u4e86\uff1a</p> <pre><code>from pandasql import sqldf\npysqldf = lambda q: sqldf(q, globals())\npysqldf(\"select A, C, count(*) as count \n        from df group by B limit 2;\")\n</code></pre> <p></p> <p>\u5206\u7ec4\u7edf\u8ba1\u3001\u9650\u5236\u8fd4\u56de\u8bb0\u5f55\u548c\u66f4\u6539\u5b57\u6bb5\u540d\u4e00\u6c14\u559d\u6210\uff0c\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5145\u5206\u4f53\u73b0\u4e86\u4f7f\u7528sql\u7684\u4f18\u8d8a\u6027\u3002</p> <p>\u4f46\u662f\u4f7f\u7528pandasql\u6709\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u95ee\u9898\uff0c\u5c31\u662f\u5b83\u5df2\u7ecf\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u6ca1\u6709\u66f4\u65b0\u8fc7\u4e86\u3002\u5728\u6211\u7684\u4e66\u300aPython\u80fd\u505a\u5927\u9879\u76ee\u4e2d\u300b\u63d0\u5230\u8fc7SQLAlchemy\u7684\u7248\u672c\u7ba1\u7406\u95ee\u9898\uff0c\u5728\u8fd9\u91cc\u4e5f\u51fa\u73b0\u4e86\u3002\u5f53\u6211\u4eec\u73b0\u5728\u5b89\u88c5pandasql\u65f6\uff0c\u5b83\u4f1a\u5b89\u88c5SQLAlchemy\u76842.0\u7248\u672c\u3002\u8fd9\u4e2a\u7248\u672c\u4f1a\u5bfc\u81f4\u4ee5\u4e0b\u9519\u8bef\uff1a</p> <p></p> <p>\u8981\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5c31\u9700\u8981\u9000\u56de\u5230 SQLAlchemy \u76841.4.46\u7248\u672c\u4e0a\u6765\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u975e\u5e38\u591a\u7684\u5176\u5b83\u5e93\uff08\u5305\u62ecPandas\uff09\u4f1a\u4f9d\u8d56SQLAlchemy\u7684\u6bd4\u8f83\u65b0\u7684\u7248\u672c\uff0c\u6240\u4ee5\u8fd9\u4e2a\u65b9\u6848\u5b9e\u9645\u4e0a\u53ea\u4f1a\u5236\u9020\u65b0\u7684\u6df7\u4e71\u3002</p> <p>\u6211\u4eec\u7ee7\u7eed\u5bfb\u627e\u65b0\u7684\u65b9\u6848\u3002\u8fd9\u4e2a\u65b9\u6848\uff0c\u5c31\u662fDuckDB.</p>","tags":["python","pandas","duckdb"]},{"location":"blog/2024/01/29/use-sql-query-with-pandas/#duckdb","title":"DuckDB","text":"<p>Pandas\u662f\u718a\u732b\u7684\u590d\u6570\uff0c\u6211\u4eec\u7ed9\u5b83\u627e\u7684\u642d\u5b50\u53ebDuck\uff0c\u4f3c\u4e4e\u4e5f\u662f\u5929\u751f\u7684\u4e00\u5bf9\uff0c\u5730\u9020\u7684\u4e00\u53cc\u3002</p> <p>Info</p> <p>Pandas\u7684\u540d\u5b57\u6765\u6e90\u4e8e Panel Data\u548cPython Data Analysis\uff0c\u4e0ePanda\u8fd9\u79cd\u52a8\u7269\u5e76\u65e0\u5173\u8054\u3002\u4f46\u662fDuckDB\u4e2d\u7684duck\uff0c\u5219\u662f\u5b9e\u5b9e\u5728\u5728\u6765\u6e90\u4e8e\u9e2d\u5b50 -- \u80fd\u8d70\u3001\u80fd\u98de\u3001\u80fd\u6e38\u6cf3\uff0c\u7279\u522b\u8010\u5bd2\uff0c\u751f\u547d\u529b\u5f3a -- \u636e\u8bf4\uff0c\u9e2d\u5b50\u7684\u6b4c\u58f0\u53ef\u4ee5\u8ba9\u4eba\u4eec\u8d77\u6b7b\u56de\u751f\u3002\u56e0\u6b64\uff0c\u5b83\u662f\u5b8c\u7f8e\u7684\u5409\u7965\u7269\u3002</p> <p>DuckDB\u662f\u4e00\u4e2a\u8fdb\u7a0b\u5185OLAP\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u5b83\u4e3b\u8981\u4f7f\u7528SQL\u4f5c\u4e3a\u6bcd\u8bed\uff0c\u4f46\u4e0ePandas\uff0cPolars,Vaex\u7b49DataFrame\u5e93\u6709\u5f88\u7d27\u5bc6\u7684\u96c6\u6210\u3002\u5b83\u57fa\u4e8ec++\u5f00\u53d1\uff0c\u4f46\u63d0\u4f9b\u4e86Python, R,\u751a\u81f3\u6bd4\u8f83\u65b0\u7684wasm\u63a5\u53e3\u3002\u8fd9\u91cc\u6211\u4eec\u6700\u5173\u5fc3\u7684\u662f\u4ee5dataframe\u4f5c\u4e3a\u6570\u636e\u6e90\u6765\u8fdb\u884c\u67e5\u8be2\u7684\u529f\u80fd\u3002</p> <p>Info</p> <p>\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u5b89\u88c5duckdb: <pre><code>pip install duckdb\n</code></pre></p> <p>\u6211\u4eec\u5148\u770b\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u4f8b\u5b50:</p> <pre><code>import duckdb\nimport pandas\n\n# Create a Pandas dataframe\nmy_df = pandas.DataFrame.from_dict({'a': [42]})\n\n# query the Pandas DataFrame \"my_df\"\nresults = duckdb.sql(\"SELECT * FROM my_df\").df()\n</code></pre> <p>\u5b83\u751a\u81f3\u6bd4pandasql\u8fd8\u8981\u7b80\u6d01\u3002\u6211\u4eec\u4e0d\u9700\u8981\u7ed9duckdb\u7ed1\u5b9a\u5f53\u524d\u73af\u5883\u4e0b\u7684\u5168\u5c40\u53d8\u91cf\uff0cduckdb\u80fd\u901a\u81ea\u52a8\u67e5\u627e\u5230my_df\uff01</p> <p>\u5173\u4e8educkdb\uff0c\u6559\u5b66\u4f1a\u975e\u5e38\u7b80\u5355\u3002\u56e0\u4e3a\u53ea\u8981\u4f60\u719f\u6089sql\uff0c\u90a3\u4e48\u5c31\u5df2\u7ecf\u51e0\u4e4e\u638c\u63e1\u4e86\u5168\u90e8\u529f\u80fd\u3002\u8fd9\u6b63\u662f\u5b83\u7684\u9b54\u529b\u4e4b\u5904\u3002</p> <p>\u4e0d\u8fc7\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u4e3e\u4e00\u4e2a\u66f4\u5f3a\u5927\u7684\u4f8b\u5b50\uff0c\u5728\u6211\u4eec\u7684\u91cf\u5316\u573a\u666f\u4e0b\uff0c\u5e38\u5e38\u4f1a\u9047\u5230\u3002</p>","tags":["python","pandas","duckdb"]},{"location":"blog/2024/01/29/use-sql-query-with-pandas/#as-of-join","title":"As-of Join","text":"<p>\u4f5c\u4e3a\u5f00\u6e90\u91cf\u5316\u6846\u67b6\u7684\u5f00\u53d1\u8005\uff0c\u6211\u66fe\u6df1\u6df1\u4e3a\u8fd9\u4e2a\u95ee\u9898\u56f0\u6270\uff1a</p> <p>\u5982\u4f55\u5f97\u5230\u590d\u6743\u540e\u7684\u5206\u949f\u7ea7\u522b\u7684\u884c\u60c5\u6570\u636e\uff1f</p> <p>\u5206\u949f\u7ebf\u884c\u60c5\u6570\u636e\u5e38\u5e38\u53ea\u7ed9\u51faOHLC\u7b49\u5b57\u6bb5\uff0c\u800c\u4e0d\u4f1a\u7ed9\u51fa\u590d\u6743\u56e0\u5b50\u5b57\u6bb5\u3002\u590d\u6743\u56e0\u5b50\u5e38\u5e38\u662f\u5728\u65e5\u7ebf\u6570\u636e\u4e2d\u7ed9\u51fa\u7684\u3002\u56e0\u6b64\uff0c\u8981\u5f97\u5230\u590d\u6743\u5904\u7406\u540e\u7684\u5206\u949f\u7ebf\u6570\u636e\uff0c\u5c31\u5fc5\u987b\u5c06\u5206\u949f\u7ebf\u6570\u636e\u4e0e\u65e5\u7ebf\u6570\u636e\u7684\u590d\u6743\u56e0\u5b50join\u8d77\u6765\u3002\u56f0\u96be\u5728\u4e8e\uff0c\u4e24\u8005\u5728\u65f6\u95f4\u4e0a\u5e76\u4e0d\u662f\u5bf9\u9f50\u7684\uff0c\u56e0\u6b64\u666e\u901a\u7684join\u5728\u8fd9\u91cc\u65e0\u6cd5\u4f7f\u7528\u3002</p> <p>duckdb\u5b9e\u73b0\u4e86\u4e00\u4e2a\u79f0\u4e3aAsof Join\u7684\u529f\u80fd\uff0c\u6765\u89e3\u51b3\u67e5\u627e\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u53d8\u5316\u4e2d\u7684\u5c5e\u6027\u7684\u503c\u3002Asof\u8fd9\u4e2a\u8bf4\u6cd5\u6765\u81ea\u4e8e\u4e0b\u9762\u7684\u63d0\u95ee\uff1a</p> <p>Give me the value of the adjust factor as of this time.</p> <p>\u5982\u679c\u4f7f\u7528\u4e86duckdb\uff0c\u8fd9\u4e2a\u529f\u80fd\u7684\u5b9e\u73b0\u4f1a\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u3002\u4e3a\u4e86\u6f14\u793a\u771f\u5b9e\u7684\u573a\u666f\uff0c\u6211\u4eec\u4f7f\u7528\u91cf\u531624\u8bfe\u73af\u5883\u4e0b\u7684\u6570\u636e\u6e90\uff1a</p> <pre><code>from coursea import *\n\nawait init()\n\ncode = \"000001.XSHE\"\n</code></pre> <pre><code>end_day = datetime.date(2023, 6, 14)\nend_time = datetime.datetime(2023, 6, 14, 15)\n\n# \u83b7\u53d62\u5929\u7684\u65e5\u7ebf\u5e76\u8f6c\u6362\u6210DataFrame\nday_bars = await Stock.get_bars(code, 2, FrameType.DAY, end=end_day)\nday_bars = pd.DataFrame(day_bars)\n\n# \u83b7\u53d6\u5bf9\u5e94\u65e5\u671f\u4e0b\u768460\u5206\u949f\u7ebf\uff0c\u5e76\u8f6c\u6362\u4e3aDataFrame\nmin_bars = await Stock.get_bars(code, 8, FrameType.MIN60, end=end_time)\nmin_bars = pd.DataFrame(min_bars)\n</code></pre> <p>\u5f53\u7136\uff0c\u901a\u8fc7zillionare-omicron\u83b7\u53d6\u5230\u7684\u5206\u949f\u7ebf\uff0c\u5df2\u7ecf\u4e3a\u6211\u4eec\u505a\u597d\u590d\u6743\u5904\u7406\u4e86\u3002\u4e3a\u4e86\u6f14\u793a\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u901a\u8fc7duckdb\u7684asof join\u529f\u80fd\u6765\u91cd\u65b0\u5408\u6210\u4e00\u6b21\uff0c\u5e76\u4e0ezillionare\u7684\u7ed3\u679c\u8fdb\u884c\u5bf9\u7167\uff1a</p> <pre><code>import duckdb\n\nsql = \"\"\"SELECT m.frame, m.close, d.factor\nFROM min_bars m ASOF left JOIN day_bars d\n on m.frame &gt;= d.frame;\"\"\"\n\nduckdb.sql(sql)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u662fDataFrame\u683c\u5f0f\uff0c\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u6ce8\u610f\u52302023\u5e746\u670814\u65e5\uff0c\u53d1\u751f\u4e86\u4e00\u6b21\u590d\u6743\u3002\u63a5\u4e0b\u6765\u4e0ezillionare-omicron\u83b7\u53d6\u7684\u6570\u636e\u8fdb\u884c\u5bf9\u6bd4\uff0c\u6211\u4eec\u8981\u770b\u590d\u6743\u53d1\u751f\u7684\u65f6\u95f4\u3001\u590d\u6743\u56e0\u5b50\u4ee5\u53ca\u6536\u76d8\u4ef7\u662f\u5426\u4e00\u81f4\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u4e24\u8005\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002\u4f46\u662fduckDB\u7684\u5b9e\u73b0\uff0c\u901f\u5ea6\u4e0a\u8981\u6bd4zillionare\u5feb\u4e0d\u5c11\u3002</p> <p>\u8fd9\u7bc7\u6587\u7ae0\u4e3b\u8981\u662f\u5173\u4e8e\u5982\u4f55\u4f7f\u7528SQL\u6765\u589e\u5f3a\uff08\u6216\u8005\u8bf4\u7b80\u5316\uff09pandas dataframe\u67e5\u8be2\u7684\u3002\u4f46\u662f\uff0cduckDB\u7684\u529f\u80fd\uff0c\u5374\u8fdc\u4e0d\u6b62\u4e8e\u6b64\u3002\u6211\u4eec\u5728\u4e4b\u524d\u7684\u6587\u7ae0\u4e2d\u4ecb\u7ecd\u8fc7\uff0c\u8981\u5b58\u50a8\u6d77\u91cf\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528pyarrow + parquet\u3002pyarrow\u627f\u62c5\u4e86\u67e5\u8be2\u7684\u4efb\u52a1\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u66f4\u559c\u6b22\u4f7f\u7528\u57fa\u4e8eSQL\u7684\u67e5\u8be2\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528duckdb\u3002</p> <p>\u4ece\u4ecb\u7ecdpandas\u5f00\u59cb\uff0c\u5230\u63a8\u8350\u4f7f\u7528duckdb + parquet\uff0c\u8fd9\u7b97\u662f\u4e00\u4e2a\u6b27.\u4ea8\u5229\u5f0f\u7684\u7ed3\u5c3e\u5417\uff1f</p>","tags":["python","pandas","duckdb"]},{"location":"blog/2023/12/14/%E5%A6%82%E4%BD%95%E5%85%8D%E7%99%BB%E5%BD%95%E9%87%8D%E5%90%AFminiqmt/","title":"\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?","text":"<p>\u5b9e\u76d8\u4ea4\u6613\u63a5\u53e3miniqmt\u5728\u4f7f\u7528\u4e2d\uff0c\u96be\u514d\u4f1a\u9047\u5230\u4e0d\u7a33\u5b9a\u7684\u65f6\u5019\u3002\u76ee\u524d\uff0cxtquant\u5305\u8fd8\u6ca1\u6709\u63d0\u4f9b\u81ea\u52a8\u91cd\u8fde\u7684\u529f\u80fd\u3002\u5f53\u6211\u4eec\u53d1\u73b0xtquant\u5de5\u4f5c\u4e0d\u6b63\u5e38\u7684\u65f6\u5019\uff0c\u9700\u8981\u91cd\u542fminiqmt\uff0c\u91cd\u5efa\u65b0\u7684\u8fde\u63a5\uff08\u4e00\u5b9a\u8981\u4f7f\u7528\u65b0\u7684sessionid\uff09\u3002\u95ee\u9898\u662f\uff0c\u6709\u4e9b\u7248\u672c\u7684qmt\uff0c\u6bd4\u5982\u56fd\u91d1\u7684\u7248\u672c\uff0c\u5e76\u6ca1\u6709\u63d0\u4f9b\u514d\u5bc6\u767b\u5f55\uff0c\u600e\u4e48\u529e\uff1f</p> <p>\u6709\u4e00\u4e2a\u975e\u516c\u5f00\u7684\u65b9\u6cd5\u3002\u56fd\u91d1\u7248\u7684qmt\u5728\u767b\u5f55\u65f6\uff0c\u4f1a\u751f\u6210\u4e00\u4e2alinkMini\u7684\u6587\u4ef6\u3002\u8be5\u6587\u4ef6\u5305\u542b\u4e86\u5bc6\u7801\u53ca\u5176\u5b83\u4fe1\u606f\uff0c\u5f53\u8be5\u6587\u4ef6\u5b58\u5728\u4e8e\\bin.x64\u76ee\u5f55\u4e0b\u65f6\uff0cminiqmt\u5c31\u80fd\u514d\u767b\u5f55\u542f\u52a8\u3002</p> <p>linkMini\u6587\u4ef6\u662f\u5728qmt\uff08\u6ce8\u610f\u548cminiqmt\uff0c\u5373\u6781\u7b80\u6a21\u5f0f\u76f8\u5bf9\u5e94\uff09\u767b\u5f55\u540e\u751f\u6210\u7684\uff0c\u5b83\u53ea\u5b58\u5728\u5f88\u77ed\u7684\u65f6\u95f4\uff0c\u7acb\u523b\u53c8\u88ab\u5220\u9664\u4e86\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u628a\u8fd9\u4e2a\u6587\u4ef6copy\u51fa\u6765\uff1a</p> <pre><code>:loop\nif exist linkMini (\n    copy linkMini linkMini_copy \n    echo finish\n    goto end\n)\nif exist linkmini (\n    copy linkmini linkMini_copy \n    echo finish\n    goto end\n)\necho continue\ntimeout /t 0.1 &gt;nul\ngoto loop\n:end\n</code></pre> <p>\u8fd9\u4e2a\u811a\u672c\u9700\u8981\u653e\u5230\\bin.x64\u76ee\u5f55\u4e0b\u8fd0\u884c\u3002copy\u6210\u529f\u540e\uff0c\u811a\u672c\u5c31\u4f1a\u81ea\u52a8\u9000\u51fa\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u4e5f\u9000\u51faQMT\uff0c\u8fdb\u5165\u5230bin.x64\u76ee\u5f55\uff0c\u590d\u5236\u4e00\u4efdlinkMini_copy\u4e3alinkMini\uff0c\u7136\u540e\u4fee\u6539\u5176\u5b89\u5168\u5c5e\u6027\uff1a</p> <p></p> <p>\u6211\u4eec\u9700\u8981\u5c06system\u53causers\u7528\u6237\u7ec4\u4e0b\u7684\u6743\u9650\u4e2d\u7684\u5141\u8bb8\u5b8c\u5168\u53d6\u6d88\uff0c\u5728\u62d2\u7edd\u90e8\u5206\uff0c\u9009\u4e2d\u5199\u5165\u3002\u8fd9\u6837\u8bbe\u7f6e\u4e4b\u540e\uff0c\u8be5\u6587\u4ef6\u53d8\u6210\u53ea\u8bfb\uff0c\u4e0d\u4f1a\u88abqmt\u5220\u9664\u6389\u3002</p> <p>\u6b64\u65f6\u6211\u4eec\u5c31\u53ef\u4ee5\u81ea\u52a8\u91cd\u542fminiqmt\u4e86\uff0c\u56e0\u4e3a\u6709\u53c2\u6570\u4f20\u9012\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u8981\u901a\u8fc7\u811a\u672c\u6765\u5b9e\u73b0\uff1a</p> <pre><code>@echo on\ntitle run MiniQmt without logon\n\nset qmtPath=D:\\QMT\\bin.x64\nCD /D %qmtPath%\n\ntaskkill /F /IM xtMiniQmt.exe /T\n\nstart \"\" \"xtMiniQmt.exe\" linkMini\n</code></pre> <p>\u8be5\u65b9\u6848\u7531\u91cf\u5316\u7fa4\u91cc\u5c0f\u4f19\u4f34\u63d0\u51fa\uff0c\u7279\u522b\u611f\u8c22\uff01</p>","tags":["quantlib","python","xtquant"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/","title":"200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8","text":"<p>\u53bb\u5e74 15 \u65e5\u7684\u7b14\u8bb0\u6316\u4e86\u4e2a\u5751\uff0c\u7ed9\u51fa\u4e86\u91cf\u5316\u6570\u636e\u548c\u56e0\u5b50\u7684\u5b58\u50a8\u65b9\u6848\u6280\u672f\u5bfc\u56fe\u3002\u8fd9\u4e00\u7bc7\u7b14\u8bb0\u5c31\u5f00\u59cb\u586b\u5751\u3002</p> <p>\u5373\u4f7f\u6211\u4eec\u8d2d\u4e70\u4e86\u5728\u7ebf\u6570\u636e\u670d\u52a1\uff0c\u6bd4\u5982 tushare, \u805a\u5bbd\u7684\u8d26\u53f7\uff0c\u6211\u4eec\u4ecd\u7136\u8981\u6784\u5efa\u81ea\u5df1\u7684\u672c\u5730\u5b58\u50a8\uff0c\u4e3a\u4ec0\u4e48\uff1f</p> <p>\u539f\u56e0\u5982\u4e0b\uff1a</p> <ol> <li>\u5728\u7ebf\u6570\u636e\u670d\u52a1\u4e00\u822c\u90fd\u6709 quota \u9650\u5236\uff08\u6bd4\u5982\u805a\u5bbd\uff09\u3002\u5982\u679c\u6211\u4eec\u8981\u9891\u7e41\u5730\u8fdb\u884c\u56de\u6d4b\uff0c\u5f88\u5bb9\u6613\u7528\u5c3d quota\u3002</li> <li>\u5982\u679c\u6211\u4eec\u5728\u56de\u6d4b\u65f6\uff0c\u4f7f\u7528\u7684\u6570\u636e\u8981\u4ece\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u83b7\u53d6\uff0c\u7f51\u7edc\u5ef6\u65f6\u4f1a\u5927\u5927\u5f71\u54cd\u5230\u56de\u6d4b\u901f\u5ea6\u3002</li> </ol> <ol> <li>\u5373\u4f7f\u5728\u7ebf\u6570\u636e\u670d\u52a1\u63d0\u4f9b\u4e86\u56e0\u5b50\u5e93\uff08\u6bd4\u5982 Alpha 101\uff0c Alpha 191 \u56e0\u5b50\u5e93\uff09\uff0c\u4f46\u662f\uff0c\u771f\u6b63\u80fd\u6218\u80dc\u5e02\u573a\u7684\u56e0\u5b50\uff0c\u5fc5\u7136\u6765\u81ea\u4e8e\u4f60\u81ea\u5df1\u7684\u72ec\u7279\u7814\u7a76\uff0c\u6240\u4ee5\uff0c \u6211\u4eec\u4e5f\u8981\u89e3\u51b3\u81ea\u5df1\u63d0\u53d6\u7684\u56e0\u5b50\u5982\u4f55\u5b58\u50a8\u7684\u95ee\u9898\uff0c\u8fd9\u4e5f\u51b3\u5b9a\u4e86\u6211\u4eec\u4ecd\u7136\u8981\u6784\u5efa\u81ea\u5df1\u7684\u672c\u5730\u5b58\u50a8\u3002</li> </ol> <p>\u8fd9\u4e00\u7bc7\u7b14\u6211\u4eec\u4ecb\u7ecd HDF5\uff0c\u8fd9\u662f\u6700\u9002\u5408\u4e2a\u4eba\u4ea4\u6613\u8005\u7684\u5165\u95e8\u65b9\u6848\u3002HDF5 \u53ef\u4ee5\u5904\u7406\u76f8\u5f53\u5927\u5bb9\u91cf\u7684\u6570\u636e\u3002</p> <p></p> <p>\u6839\u636e Kesheng Wu \u7b49\u4eba\u7684\u7814\u7a76\uff0c\u4ed6\u4eec\u5206\u6790 2007 \u5e74\u5230 2012 \u5e74 7 \u6708\u95f4\u7684\u671f\u8d27\u4ea4\u6613\u6570\u636e\uff0c\u4ee5\u6784\u5efa VPIN \u56e0\u5b50\u65f6\uff0c\u5904\u7406\u7684\u4ea4\u6613\u6570\u636e\u8fbe 30 \u4ebf\u6761\uff0cCSV \u6587\u4ef6\u7684\u5927\u5c0f\u8fbe\u5230\u4e86 140GB\u3002\u5f53\u4f7f\u7528\u8fd9\u4e48\u591a\u6570\u636e\u8fdb\u884c VPIN \u8ba1\u7b97\u65f6\uff0c\u4f7f\u7528 CSV \u6587\u4ef6\u7684\u65f6\u95f4\u662f 142 \u79d2\uff1b\u5c06\u5176\u8f6c\u6362\u6210 HDF5 \u683c\u5f0f\u540e\uff0c\u540c\u6837\u7684\u8ba1\u7b97\u5219\u53ea\u82b1\u4e86 0.4 \u79d2\uff0cHDF5\u5feb\u4e86200\u591a\u500d\uff01</p> <p>HDF\uff08Hierarchical Data Format\uff09\u662f\u4e00\u79cd\u4e3a\u5b58\u50a8\u548c\u5904\u7406\u5927\u5bb9\u91cf\u79d1\u5b66\u6570\u636e\u8bbe\u8ba1\u7684\u6587\u4ef6\u683c\u5f0f\u53ca\u76f8\u5e94\u5e93\u6587\u4ef6\u3002\u6700\u65e9\u7531 NCSA \uff08\u7f8e\u56fd\u56fd\u5bb6\u8d85\u7ea7\u8ba1\u7b97\u5e94\u7528\u4e2d\u5fc3\uff09 \u7814\u7a76\u5f00\u53d1\uff0c\u73b0\u7531\u975e\u76c8\u5229\u7ec4\u7ec7 HDF Group \u7ef4\u62a4\u3002\u6700\u65b0\u7684\u683c\u5f0f\u662f\u7b2c 5 \u7248\uff0c\u56e0\u6b64\u5c31\u88ab\u79f0\u4e3a HDF5\u3002HDF \u6700\u521d\u63d0\u4f9b\u4e86\u591a\u79cd\u6570\u636e\u7c7b\u578b\uff0c\u6bd4\u5982\u5149\u6805\u56fe\u50cf\u548c\u6ce8\u89e3\u7b49\uff0c\u800c\u5728\u7b2c 5 \u7248\u4e2d\uff0c\u7b80\u5316\u5230\u53ea\u652f\u6301\u79d1\u5b66\u6570\u636e\u96c6\uff08\u5373\u540c\u8d28\u591a\u7ef4\u6570\u7ec4\uff09\u548c\u7fa4\u7ec4\u4e24\u79cd\u7c7b\u578b\u3002</p> <p>HDF5 \u5b98\u65b9\u7248\u672c\u662f\u57fa\u4e8e C/C++ \u7684\uff0c\u4f46\u4e5f\u50cf MATLAB\u3001Java\u3001Python\u3001R \u548c Julia \u8fd9\u4e9b\u8bed\u8a00\u4e5f\u6709\u81ea\u5df1\u7248\u672c\u7684 HDF5 API\u3002</p> <p>\u4f5c\u4e3a\u91cf\u5316\u4eba\uff0c\u6211\u4eec\u4f7f\u7528\u6700\u591a\u7684\u662f h5py\u3002</p> <p> h5py \u7684 logo</p>","tags":["quantlib","\u91cf\u5316\u6570\u636e\u5b58\u50a8","hdf5","h5py"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/#hdf5","title":"HDF5 \u7684\u57fa\u672c\u6982\u5ff5","text":"<p>HDF5 \u4f7f\u7528\u6587\u4ef6\u6765\u5b58\u50a8\u6570\u636e\u3002\u5b83\u5305\u542b\u4e24\u79cd\u5bf9\u8c61\uff0c\u5373\u6570\u636e\u96c6(\u8fd9\u662f\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u6570\u7ec4\u7684\u6570\u636e\u96c6\u5408\uff09\u548c\u7fa4\u7ec4\uff08\u7c7b\u4f3c\u4e8e\u6587\u4ef6\u5939\uff0c\u5176\u4e0b\u53ef\u5305\u542b\u6570\u636e\u96c6 datasets \u548c\u5176\u5b83\u7fa4\u7ec4\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u6765\u7406\u89e3 h5py \u4e2d\u7684\u57fa\u672c\u5bf9\u8c61\uff1a</p> <p>\u7fa4\u7ec4\u8c61\u5b57\u5178\u4e00\u6837\u5de5\u4f5c\uff0c\u800c\u6570\u636e\u96c6\u5219\u50cf Numpy \u6570\u7ec4\u4e00\u6837\u5de5\u4f5c\u3002</p> <p>h5py \u7684 API \u6bd4\u8f83\u57fa\u7840\uff0c\u7528\u6cd5\u5e76\u4e0d\u590d\u6742\u3002\u4f46\u4f5c\u4e3a\u884c\u60c5\u548c\u56e0\u5b50\u6570\u636e\u5e93\uff0c\u6211\u4eec\u9700\u8981\u81ea\u5df1\u6784\u5efa\u4e00\u4e9b\u529f\u80fd\u3002\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u5c06\u6f14\u793a\u6211\u4eec\u5982\u4f55\u5b58\u50a8\u884c\u60c5\u6570\u636e\uff0c\u5e76\u5b9e\u73b0\u6bcf\u65e5\u66f4\u65b0\uff1a</p> <pre><code>codes = [\"000001.XSHE\", \"600000.XSHG\"]\nh5file = \"/tmp/bars.h5\"\nh5 = h5py.File(h5file, \"a\")\n\nfor name in (\"1m\", \"5m\", \"10m\", \"30m\", \"1d\"):\n    if name not in h5.keys():\n        h5.create_group(f\"/{name}\")\n</code></pre> <p>\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6309\u884c\u60c5\u7684\u5468\u671f\u9891\u7387\uff0c\u5206\u522b\u521b\u5efa\u4e86\u82e5\u5e72\u4e2a group\u3002\u63a5\u4e0b\u6765\u7684\u884c\u60c5\u6570\u636e \u5c31\u4f1a\u4ee5\u8bc1\u5238\u4ee3\u7801\u4e3a name\uff0c\u5b58\u50a8\u5728\u8fd9\u4e9b group \u4e2d\u3002</p> <pre><code>def convert_frame(bars):\n    # H5 \u4e0d\u80fd\u5904\u7406 NP.DATETIME64\uff0c\u8f6c\u6362\u6210\u6574\u6570\n    dtype = bars.dtype.descr\n    dtype[0] = ('frame', 'i8')\n\n    return bars.astype(dtype)\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528 omicron \u6765\u83b7\u53d6\u884c\u60c5\u6570\u636e\u3002\u5b83\u8fd4\u56de\u7684\u884c\u60c5\u6570\u636e\u4e2d\uff0c\u6709\u4e00\u4e2a frame \u5b57\u6bb5\uff0c\u6570\u636e\u7c7b\u578b\u4e3a np.datetime64\uff0c\u662f h5py \u4e0d\u80fd\u5904\u7406\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u5b83\u8f6c\u6362\u4e3a epoch \u65f6\u95f4\u6765\u4fdd\u5b58\u3002h5py \u4e5f\u5141\u8bb8\u6211\u4eec\u76f4\u63a5\u4fdd\u5b58\u65f6\u95f4\u7c7b\u578b\uff08\u4ee5\u4e0d\u900f\u660e\u7684\u65b9\u5f0f\uff09\uff0c\u4f46\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u4e0d\u518d\u652f\u6301\u4e00\u4e9b\u67e5\u8be2\u64cd\u4f5c\u4e86\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u4e0b\u8ff0\u65b9\u6cd5\u6765\u628a\u65b0\u7684\u6570\u636e\u8ffd\u52a0\u5230\u4e4b\u524d\u7684\u6570\u636e\u96c6\u4e2d\uff1a</p> <pre><code>def append_ds(name: str, bars):\n    ds = h5.get(name)\n    if ds is None:\n        ds = h5.create_dataset(name, data = bars, chunks=True, maxshape=(None,))\n    else:\n        nold = ds.shape[0]\n        nnew = len(bars)\n        ds.resize(nold + nnew, axis=0)\n        ds[-nnew:] = bars\n\n    return ds\n</code></pre> <p>\u8fd9\u91cc\u8fd8\u5c55\u793a\u4e86\u83b7\u53d6\u6570\u636e\u96c6\u7684\u65b9\u6cd5 get\uff0c\u521b\u5efa\u6570\u636e\u96c6\u7684\u65b9\u6cd5 create_dataset \u548c resize \u65b9\u6cd5\u3002\u4e3a\u4e86\u652f\u6301 resize\uff0c\u6211\u4eec\u5728\u521b\u5efa\u6570\u636e\u96c6\u65f6\uff0c\u8fd8\u5fc5\u987b\u58f0\u660e chunks = True \u4ee5\u53ca amxshape=(None,)\u3002</p> <p>\u6dfb\u52a0\u65b0\u7684\u6570\u636e\u662f\u4ee5\u5207\u7247\u8bed\u6cd5\u6765\u5b8c\u6210\u7684\u3002\u73b0\u5728\uff0c\u6211\u4eec\u6765\u5b9e\u73b0\u6bcf\u65e5\u8ffd\u52a0\u6570\u636e\u7684\u529f\u80fd\uff1a</p> <pre><code># \u6bcf\u65e5\u589e\u52a0\u884c\u60c5\u6570\u636e\nasync def save_bars(codes:List[str], ft: FrameType):    \n    for code in codes:\n        bars = await Stock.get_bars(code, 240, ft)\n        append_ds(f\"/{ft.value}/{code}\", convert_frame(bars))\n</code></pre> <p>\u6700\u540e\uff0c\u6211\u4eec\u5199\u4e00\u4e2a\u663e\u793a\u5176\u6570\u636e\u7ed3\u6784\u7684\u51fd\u6570\uff1a</p> <pre><code># \u663e\u793a H5 \u6587\u4ef6\u7ed3\u6784\n\ndef h5_tree(val, pre=''):\n    items = len(val)\n    for key, val in val.items():\n        items -= 1\n        if items == 0:\n            # THE LAST ITEM\n            if type(val) == h5py._hl.group.Group:\n                print(pre + '\u2514\u2500\u2500 ' + key)\n                h5_tree(val, pre+'    ')\n            else:\n                print(pre + '\u2514\u2500\u2500 ' + key + ' (%d)' % len(val))\n        else:\n            if type(val) == h5py._hl.group.Group:\n                print(pre + '\u251c\u2500\u2500 ' + key)\n                h5_tree(val, pre+'\u2502   ')\n            else:\n                print(pre + '\u251c\u2500\u2500 ' + key + ' (%d)' % len(val))\n\nh5_tree(h5)\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230\u7c7b\u4f3c\u4e0b\u9762\u7684\u8f93\u51fa\uff1a</p> <pre><code>\u251c\u2500\u2500 1d\n\u2502   \u251c\u2500\u2500 000001.XSHE (240)\n\u2502   \u2514\u2500\u2500 600000.XSHG (240)\n\u2514\u2500\u2500 1m\n    \u251c\u2500\u2500 000001.XSHE (1200)\n    \u2514\u2500\u2500 600000.XSHG (1200)\n</code></pre> <p>\u8fd9\u6837\uff0c\u4f7f\u7528 hdf5 \u6765\u5b58\u50a8\u884c\u60c5\u6570\u636e\u7684\u57fa\u672c\u7ed3\u6784\u5c31\u5b8c\u6210\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u8fdb\u884c\u67e5\u8be2\uff1a</p> <pre><code>filter = mbars[\"close\"] &gt; 14.77\nmbars[filter]\n</code></pre> <p>\u6211\u4eec\u6a21\u62df\u4e86\u4e00\u4e2a 40 \u5e74\u5206\u949f\u7ebf\u7684\u6570\u636e\u96c6\uff0c\u5728\u8fdb\u884c\u4e0a\u8ff0\u67e5\u8be2\u65f6\uff0c\u9700\u8981\u6267\u884c 0.2 \u79d2\u3002</p> <p>\u4e0a\u8ff0\u5b58\u50a8\u7ed3\u6784\u6709\u4e00\u4e2a\u4e0d\u5229\u4e4b\u5904\uff0c\u5c31\u662f\u5728\u67e5\u8be2\u6a2a\u622a\u9762\u6570\u636e\uff08\u6bd4\u5982\uff0c\u8981\u67e5\u8be2\u67d0\u4e2a\u65f6\u95f4\u70b9\u4e0a\u6240\u6709\u4e2a\u80a1\u7684\u6536\u76d8\u4ef7\uff09\u65f6\uff0c\u901f\u5ea6\u4f1a\u6bd4\u8f83\u6162\uff0c\u56e0\u4e3a\u5faa\u73af\u96be\u4ee5\u907f\u514d\u3002hdf5 \u63d0\u4f9b\u4e86 virtual dataset \u8fd9\u4e00\u529f\u80fd\uff0c\u4f46\u5b83\u5e76\u4e0d\u9002\u5408\u53ef\u53d8\u957f\u7684\u6570\u636e\u96c6\u3002</p> <p>\u529e\u6cd5\u4e4b\u4e00\u662f\uff0c\u5728\u5b58\u50a8\u884c\u60c5\u6570\u636e\u65f6\uff0c\u628a\u4e2a\u80a1\u7684\u4ee3\u7801\u4e5f\u5b58\u50a8\u8fdb\u6765\u3002\u5f53\u7136\uff0c\u4e3a\u4e86\u52a0\u5feb\u67e5\u8be2\u901f\u5ea6\uff0c\u6211\u4eec\u9700\u8981\u5c06\u4ee5\u5b57\u7b26\u4e32\u8868\u793a\u7684\u8bc1\u5238\u4ee3\u7801\uff0c\u4e8b\u5148\u8f6c\u6362\u6210\u4e3a\u6574\u6570\u683c\u5f0f\u3002\u6bd4\u5982\uff0c\u8c61 000001.XSHE \u8fd9\u6837\u7684\u4ee3\u7801\uff0c\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u6210\u4e3a 100001\uff0c600000.XSHG \u8f6c\u6362\u4e3a 2600000\uff1a\u5373\u4f7f\u7528 7 \u4f4d\u6570\u8bc1\u5238\u4ee3\u7801\uff0c\u7b2c 1 \u4f4d\u975e\u96f6\uff0c\u4e3a\u4ea4\u6613\u6240\u7f16\u7801\u3002</p> <p>\u4f46\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u6570\u636e\u96c6\u53d8\u5927\uff0c\u6211\u4eec\u6267\u884c\u67e5\u8be2\u7684\u901f\u5ea6\u4e5f\u4f1a\u53d8\u957f\u3002\u56e0\u6b64\u6211\u4eec\u5728\u8bbe\u8ba1\u65f6\uff0c\u8981\u7efc\u5408\u8003\u8651\u4e24\u79cd\u573a\u666f\u7684\u4f7f\u7528\u5360\u6bd4\u3002</p>","tags":["quantlib","\u91cf\u5316\u6570\u636e\u5b58\u50a8","hdf5","h5py"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/#need-for-speed","title":"Need for speed!","text":"<p>\u89c9\u5f97 h5py \u8fd8\u4e0d\u591f\u5feb\uff1f\uff01\u90a3\u4e48\uff0c\u4f60\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 Parallel HDF5\u3002\u8fd9\u662f\u5728 ubuntu \u4e0a\u5b89\u88c5\u5b83\u7684\u6b65\u9aa4\uff1a</p> <p><pre><code>sudo apt update\n\n# \u5b89\u88c5\u652f\u6301\u5e76\u884c\u8fd0\u7b97\u7684 HDF5 \u539f\u751f\u5e93\nsudo apt install libhdf5-mpi-dev\n\n# \u68c0\u67e5 HDF5 \u5e76\u884c\u8fd0\u7b97\u662f\u5426\u5f00\u542f\nh5pcc\n\n# \u9700\u8981\u8fd9\u4e00\u6b65\u4ee5\u4e0b\u8f7d H5PY\nsudo apt install -y pkg-config\n\n# \u5b89\u88c5\u652f\u6301\u5e76\u884c\u8fd0\u7b97\u7684 H5PY\nexport CC=mpicc\nexport HDF5_MPI=\"ON\"\npip install --no-binary=h5py h5py\n</code></pre> \u6700\u540e\u4e00\u6b65\uff0c\u5728 pip install \u65f6\u6307\u5b9a --no-binary=h5py \u8981\u5212\u91cd\u70b9\u3002\u901a\u8fc7\u8fd9\u91cc\u7684\u6307\u5b9a\uff0c\u6211\u4eec\u5c06\u4e0b\u8f7d h5py \u7684\u6e90\u7801\uff0c\u5728\u672c\u5730\u6267\u884c\u7f16\u8bd1\uff0c\u518d\u5b89\u88c5 h5py\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5b89\u88c5 wheel \u683c\u5f0f\u7684 h5py\u3002\u5982\u679c\u662f\u4ece wheel \u683c\u5f0f\u8fdb\u884c\u5b89\u88c5\uff0c\u6211\u4eec\u5c06\u65e0\u6cd5\u5f97\u5230\u5e76\u884c\u8ba1\u7b97\u7684 hdf5 \u529f\u80fd\u3002</p> <p>\u5173\u4e8e\u5e76\u884c\u7248\u672c\u7684 h5py \u7684\u4f7f\u7528\uff0c\u53ef\u4ee5\u53c2\u8003\u8fd9\u4e2a\u94fe\u63a5\u3002\u65e0\u6cd5\u67e5\u770b\u5916\u94fe\u7684\uff0c\u53ef\u4ee5 google \u5927\u5bcc\u7fc1\u91cf\u5316\uff0c\u5728\u5b98\u7f51\u4e0a\u67e5\u770b\u540c\u540d\u6587\u7ae0\u548c\u793a\u4f8b\u4ee3\u7801\u3002</p>","tags":["quantlib","\u91cf\u5316\u6570\u636e\u5b58\u50a8","hdf5","h5py"]},{"location":"blog/2024/01/02/save-quote-data-with-hdf5/#need-even-more-speed","title":"Need even more speed!","text":"<p>\u5c3d\u7ba1 hdf5 \u63d0\u4f9b\u4e86\u5b58\u50a8\u548c\u8bbf\u95ee\u6d77\u91cf\u6570\u636e\u7684\u80fd\u529b\uff0c\u4f46\u662f\uff0c\u5b83\u7684\u6587\u6863\u3001\u53ca\u4efb\u4f55\u4e00\u672c\u6559\u7a0b\u90fd\u4e0d\u4f1a\u544a\u8bc9\u4f60\uff0c\u5b83\u4e0d\u80fd\u63d0\u4f9b\u57fa\u4e8e\u7d22\u5f15\u7684\u67e5\u8be2\u3002\u968f\u7740\u4f60\u7684\u6570\u636e\u96c6\u8d8a\u6765\u8d8a\u5927\uff0c\u67e5\u8be2\u901f\u5ea6\u5c06\u4f1a\u4ee5\u7ebf\u6027\u589e\u52a0\u7684\u65b9\u5f0f\u53d8\u6162\u3002</p> <p>Tip</p> <p>\u5f53\u6211\u4eec\u8fdb\u884c\u6280\u672f\u9009\u578b\u65f6\uff0c\u6211\u4eec\u603b\u662f\u5e0c\u671b\u5168\u9762\u4e86\u89e3\u4e00\u95e8\u6280\u672f\u7684\u4f18\u52bf\u548c\u7f3a\u9677\u3002\u4f46\u662f\uff0c\u5b98\u65b9\u6587\u6863\u5e38\u5e38\u53ea\u4ecb\u7ecd\u5b83\u7684\u4f18\u70b9\uff0c\u5bf9\u5176\u7f3a\u70b9\u5219\u907f\u800c\u4e0d\u8c08\u3002\u5947\u602a\u7684\u662f\uff0c\u7b2c\u4e09\u65b9\u7684\u6559\u7a0b\u4e5f\u5f80\u5f80\u5bf9\u5b83\u7684\u7f3a\u9677\u4e5f\u5f80\u5f80\u95ea\u70c1\u5176\u8f9e\u3002\u539f\u56e0\u53ef\u80fd\u662f\uff0c\u4e00\u65e6\u4ed6\u4eec\u8c08\u53ca\u4e86\u8fd9\u95e8\u6280\u672f\u7684\u7f3a\u9677\uff0c\u5c31\u53ef\u80fd\u5bfc\u81f4\u8bfb\u8005\u5931\u53bb\u5b66\u4e60\u7684\u5174\u8da3\uff0c\u8fdb\u800c\u964d\u4f4e\u8be5\u6559\u7a0b\u7684\u6d41\u91cf\u3002\u8fd9\u4e5f\u8bb8\u662f\u4f60\u5e94\u8be5\u5e38\u8bfb\u6211\u7684\u535a\u6587\u7684\u539f\u56e0 -- \u6211\u5e76\u4e0d\u5e0c\u671b\u4f60\u56e0\u4e3a\u6211\u7684\u6587\u7ae0\uff0c\u9009\u62e9\u4e86\u5e76\u4e0d\u6070\u5f53\u7684\u6280\u672f\uff0c\u5728\u6d6a\u8d39\u4e86\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u4e0d\u5f97\u4e0d\u4ece\u5934\u518d\u6765\u9009\u62e9\u65b0\u7684\u6280\u672f\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\u4e4b\u4e00\u662f\u5c06\u6570\u636e\u5207\u5206\u4e3a\u591a\u4e2adataset\uff0c\u6bcf\u4e2a dataset \u7684\u540d\u5b57\u4e0e\u65f6\u95f4\u5173\u8054\u8d77\u6765\uff0c\u8fd9\u6837\u5728\u8fdb\u884c\u4e0e\u65f6\u95f4\u76f8\u5173\u7684\u67e5\u8be2\u65f6\uff0c\u5c31\u53ef\u4ee5\u83b7\u5f97\u8f83\u597d\u7684\u52a0\u901f\u3002\u53e6\u4e00\u4e2a\u65b9\u6cd5\u662f\u4f7f\u7528 fastquery\uff0c\u5b83\u5efa\u7acb\u4e86\u4e00\u4e2a\u57fa\u4e8e bitmap \u7684\u7d22\u5f15\u3002\u4e0d\u8fc7\u6211\u5e76\u6ca1\u6709\u770b\u5230\u73b0\u6210\u7684 python \u5e93\u3002</p> <p></p> <p>\u53e6\u4e00\u4e2a\u65b9\u6848\u53ef\u80fd\u662f\uff0c\u4ec5\u4ec5\u5c06 hdf5 \u4f5c\u4e3a\u57fa\u7840\u7684\u6301\u4e45\u5316\u8bbe\u65bd\uff0c\u800c\u5bf9\u5b83\u7684\u67e5\u8be2\u64cd\u4f5c\uff0c\u5168\u90e8\u901a\u8fc7 modin -- \u8fd9\u662f pandas \u7684\u5e73\u66ff\uff0c\u53ef\u4ee5\u8f7d\u5165\u8fdc\u5927\u4e8e\u7269\u7406\u5185\u5b58\u7684\u6587\u4ef6--\u6765\u64cd\u4f5c\u6570\u636e\u96c6\u3002</p> <p>\u5f53\u7136\uff0c\u4ece\u6211\u4eec\u7684\u6d4b\u8bd5\u6765\u770b\uff0c\u5982\u679c\u4f60\u53ea\u9700\u8981\u5904\u7406\u5230\u65e5\u7ebf\u7ea7\u522b\u7684\u884c\u60c5\u6570\u636e\uff0c\u90a3\u4e48\u76f4\u63a5\u4f7f\u7528\u65e0\u7d22\u5f15\u7684\u67e5\u8be2\uff0c\u901f\u5ea6\u4e0a\u662f\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\u7684\u3002\u6240\u4ee5\uff0c\u8fd9\u662f\u5bf9\u4e2a\u4eba\u7814\u7a76\u8005\u800c\u8a00\uff0c\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u5c31\u653e\u5728\u672c\u7cfb\u5217\u7b2c\u4e00\u7bc7\u4e2d\u8fdb\u884c\u63a8\u8350\u3002</p> <p>\u5982\u679c\u4f60\u5e0c\u671b\u5b58\u50a8\u5230\u5206\u949f\u7ea7\u7684\u6570\u636e\uff0c\u8fd8\u8981\u4fdd\u6301\u975e\u5e38\u597d\u7684\u67e5\u8be2\u901f\u5ea6\uff0c\u600e\u4e48\u529e\uff1f\u8fd9\u5c31 pyarrow + parquet \u53ef\u4ee5\u53d1\u529b\u7684\u5730\u65b9\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u7bc7\u91cc\u4ecb\u7ecd\u3002</p> <p>\u672c\u6587\u9644\u6709h5py\u4f7f\u7528\u793a\u4f8b\u4ee3\u7801\u3002notebook\u53ef\u4ee5\u5728\u5927\u5bcc\u7fc1\u91cf\u5316\u7f51\u7ad9\u83b7\u5f97\u3002\u5982\u679c\ud83d\udd17\u65e0\u6cd5\u663e\u793a\uff0c\u53ef\u4ee5google\u5927\u5bcc\u7fc1\u91cf\u5316\u3002</p> <p>Tip</p> <ol> <li>hdf5\u662f\u4e00\u79cd\u5b58\u50a8\u548c\u5904\u7406\u5927\u5bb9\u91cf\u79d1\u5b66\u6570\u636e\u7684\u6587\u4ef6\u683c\u5f0f\u53ca\u76f8\u5e94\u5e93</li> <li>hdf5\u7684\u8bfb\u5199\u901f\u5ea6\u662fcsv\u7684\u6570\u767e\u500d\u3002\u5728240M\u8bb0\u5f55\u4e2d\u8fdb\u884c\u67e5\u627e\uff0c\u901f\u5ea6\u7ea6\u4e3a0.2\u79d2\u3002</li> <li>\u8bfb\u53d6hdf5\u6587\u4ef6\u7684python\u5e93\u662fh5py</li> <li>\u884c\u60c5\u6570\u636e\u5e94\u8be5\u6309\u5468\u671f\u521b\u5efa\u7fa4\u7ec4\u3002\u5b50\u6570\u636e\u96c6\u4ee5\u8bc1\u5238\u4ee3\u7801\u4e3akey\u3002</li> <li>\u4ecb\u7ecd\u4e86\u521b\u5efa\u3001\u67e5\u8be2\u548c\u8ffd\u52a0\u884c\u60c5\u6570\u636e\u5230hdf5\u6587\u4ef6\u4e2d\u3002</li> <li>\u589e\u5f3ahdf5\u6027\u80fd\u7684\u51e0\u79cd\u65b9\u5f0f\u3002</li> </ol>","tags":["quantlib","\u91cf\u5316\u6570\u636e\u5b58\u50a8","hdf5","h5py"]},{"location":"blog/2024/01/03/pyarrow-plus-parquet/","title":"\u5b58\u4e8650TB\uff01pyarrow + parquet","text":"<p> \u5728\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u6307\u51fa\uff0c\u5982\u679c\u6211\u4eec\u53ea\u5728\u65e5\u7ebf\u7ea7\u522b\u4e0a\u5b58\u50a8\u884c\u60c5\u6570\u636e\u548c\u56e0\u5b50\uff0cHDF5 \u65e0\u8bba\u5982\u4f55\u90fd\u662f\u591f\u7528\u4e86\u3002\u5373\u4f7f\u662f\u5728\u5b58\u50a8\u4e86 40 \u5e74\u5206\u949f\u7ebf\u7684\u5355\u4e2a\u80a1\u6570\u636e\u96c6\u4e0a\uff0c\u67e5\u8be2\u65f6\u95f4\u4e5f\u53ea\u82b1\u4e86 0.2 \u79d2 -- \u8fd9\u4e2a\u901f\u5ea6\u5df2\u7ecf\u8db3\u591f\u5feb\u4e86\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u9700\u8981\u5728\u5206\u949f\u7ea7\u522b\u4e0a\u8fdb\u884c\u6a2a\u622a\u9762\u6570\u636e\u67e5\u8be2\u7684\u8bdd\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u4e2a\u4eba\u4ea4\u6613\u8005\u786e\u5b9e\u6709\u6761\u4ef6\uff08\u7f51\u901f\u548c\u786c\u4ef6\uff09\u505a\u9ad8\u9891\u4ea4\u6613\uff0c\u5904\u7406 tick \u7ea7\u548c level 2 \u7684\u6570\u636e\u5c06\u662f\u5fc5\u8981\u7684\u3002\u5982\u6b64\u4e00\u6765\uff0c\u6211\u4eec\u5904\u7406\u6570\u636e\u7684\u89c4\u6a21\u5c31\u8fbe\u5230\u4e86TB\u7ea7\u522b\uff0c\u4f46\u6211\u4eec\u8fd8\u60f3\u4fdd\u6301\u67e5\u8be2\u65f6\u95f4\u5728\u6beb\u79d2\u7ea7\u3002\u6216\u8005\uff0c\u60a8\u786e\u5b9e\u9700\u8981\u5728\u5206\u949f\u7ea7\u522b\u4e0a\u8fdb\u884c\u6a2a\u622a\u9762\u6570\u636e\u67e5\u8be2\uff0c\u8fd9\u4e9b\u573a\u666f\u4e0b\uff0cHDF5 \u5c31\u96be\u582a\u5927\u4efb\u4e86\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5f97\u62dc\u6258 pyarrow + parquet \u4e86\u3002\u5b83\u4eec\u672c\u6765\u5c31\u662f\u5927\u6570\u636e\u89e3\u51b3\u65b9\u6848\u4e4b\u4e00\u3002\u672c\u6587\u7684\u6807\u9898\u662f\u5b58\u4e86 50TB\u3002\u535a\u4e3b\u5e76\u6ca1\u6709\u8fd9\u4e2a\u5b58\u50a8\u8bbe\u65bd\u8fdb\u884c\u5b9e\u9a8c\u3002\u4f46\u8fd9\u4e00\u6570\u5b57\u5e76\u975e\u675c\u64b0\uff1a</p> <p></p> <p>!!! tip level 2 \u6570\u636e\u6709\u591a\u5927\uff1f     \u636e dolphin\uff08\u4e00\u79cd\u9ad8\u6548\u7684\u65f6\u5e8f\u6570\u636e\u5e93\uff09\u7684\u62a5\u544a\uff0cA \u80a1\u7684 level 2 \u6570\u636e\u8fbe\u5230\u4e86\u4e00\u5929 10GB \u7684\u6570\u636e\u91cf\u3002</p>","tags":["quantlib","pyarrow","parquet","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/03/pyarrow-plus-parquet/#pyarrow","title":"pyarrow","text":"<p>\u8981\u4ecb\u7ecd pyarrow\uff0c\u6211\u4eec\u5148\u5f97\u4ece Apache Arrow \u8bf4\u8d77\u3002Apache Arrow \u5b9a\u4e49\u4e86\u4e00\u79cd\u4e0e\u5f00\u53d1\u8bed\u8a00\u65e0\u5173\u7684\u5217\u5b58\u50a8\uff08\u5185\u5b58\u4e2d\uff09\u683c\u5f0f\uff0c\u4ee5\u4fbf\u5728 CPU/GPU \u4e0a\u9ad8\u6548\u5730\u6267\u884c\u6570\u636e\u8bfb\u53d6\u548c\u5206\u6790\u4efb\u52a1\u3002</p> <p>pyarrow \u662f Apache Arrow \u5e93\u7684\u4e00\u4e2a python \u5b9e\u73b0\u3002Apache Arrow \u8fd8\u6709 R\uff0c Java \u7b49\u591a\u79cd\u5176\u5b83\u5b9e\u73b0\u3002\u4f46\u662f\uff0c Pyarrow \u662f Apache Arrow \u5b9e\u73b0\u4e2d\u7684\u5934\u7b49\u516c\u6c11\uff0c\u8bb8\u591a\u5148\u8fdb\u7684\u529f\u80fd\u90fd\u7387\u5148\u5728\u8fd9\u91cc\u5b9e\u73b0\u4e86\uff0c\u7136\u540e\u624d\u662f R \u7b49\u5176\u5b83\u8bed\u8a00\u3002</p> <p>Pyarrow \u652f\u6301\u4ece 3.8 \u5230 3.11 \u7684 Python \u7248\u672c\u3002\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u5b89\u88c5\u5b83\uff1a</p> <pre><code>pip install pyarrow\n</code></pre>","tags":["quantlib","pyarrow","parquet","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/03/pyarrow-plus-parquet/#parquet","title":"Parquet","text":"<p>parquet \u662f\u4e00\u79cd\u6570\u636e\u5b58\u50a8\u683c\u5f0f\u3002\u5728\u5927\u6570\u636e\u5b58\u50a8\u8bed\u5883\u4e0b\uff0c\u6211\u4eec\u8fd8\u5e38\u5e38\u770b\u5230 feather \u8fd9\u79cd\u683c\u5f0f\u3002\u4e24\u8005\u7684\u533a\u522b\u662f\uff0cparquet \u63d0\u4f9b\u4e86 RLE \u538b\u7f29\uff0c\u5b57\u5178\u7f16\u7801\uff08\u4e0e pandas \u4e2d\u7684 category \u66ff\u6362\u7c7b\u4f3c\uff09\u548c\u6570\u636e\u9875\u538b\u7f29\u3002\u56e0\u6b64\uff0c\u5728\u8bfb\u5199\u901f\u5ea6\u4e0a\u8981\u6162\u4e8e feather\uff0c\u4f46\u66f4\u7701\u78c1\u76d8\u7a7a\u95f4\u3002</p>","tags":["quantlib","pyarrow","parquet","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/03/pyarrow-plus-parquet/#_1","title":"\u57fa\u672c\u6982\u5ff5","text":"<p>pyarrow \u4e2d\u6700\u57fa\u672c\u7684\u6982\u5ff5\u4e3b\u8981\u6709\uff1a 1. array -- \u5b83\u662f\u4e00\u5217\u540c\u6784\u7684\u6570\u636e\uff0c\u4f46\u901a\u5e38\u5141\u8bb8\u51fa\u73b0 None\u3002 2. \u4e00\u7cfb\u5217\u7b49\u957f\u7684 arry \u5b9e\u4f8b\u6784\u6210 Record Batch\u3002batch \u53ef\u4ee5\u50cf array \u4e00\u6837\u8fdb\u884c\u5207\u7247 3. \u5728 batch \u4e4b\u4e0a\uff0c\u8fd8\u6709 Table \u7684\u6982\u5ff5\u3002table \u7531\u4e00\u4e9b\u5217\u6784\u6210\uff0c\u6bcf\u4e00\u5217\u90fd\u662f\u4e00\u4e2a ChunkedArray\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u8981\u63a5\u89e6\u5230 schema \u7684\u6982\u5ff5\uff0c\u8fd9\u5c06\u5728\u540e\u9762\u7ed3\u5408\u793a\u4f8b\u8fdb\u884c\u8bf4\u660e\u3002</p> <p>pyarrow \u7684\u4e3b\u8981\u529f\u80fd\uff1a 1. \u63d0\u4f9b\u5404\u79cd I/O \u63a5\u53e3 (memory and IO interfaces)\uff0c\u6bd4\u5982\u4e0e\u5e38\u89c1\u7684\u5176\u5b83\u683c\u5f0f\uff0c\u6bd4\u5982 CSV, dataframe, S3, minio\uff0c\u672c\u5730\u6587\u4ef6\u7b49\u4e4b\u95f4\u7684\u8bfb\u5199\u8f6c\u6362\u3002 2. \u4e3a\u6570\u636e\u63d0\u4f9b\u8868\u683c\uff08tabluar datasets\uff09\u5316\u7684\u89c6\u56fe\u548c\u76f8\u5173\u64cd\u4f5c\u3002 3. \u63d0\u4f9b\u57fa\u7840\u51fd\u6570 (compute Functions)\uff0c\u5982 group, \u805a\u5408\u67e5\u8be2\uff0cjoin \u64cd\u4f5c\uff0c\u67e5\u8be2\u64cd\u4f5c\uff08\u8868\u8fbe\u5f0f\uff0c\u53c2\u7167 pandas\uff09\u3002</p> <p>\u4e0a\u8ff0\u529f\u80fd\u5206\u7c7b\u4e2d\uff0c\u62ec\u53f7\u4e2d\u7684\u82f1\u6587\u4e5f\u6b63\u5bf9\u5e94\u7740 Arrow \u7684\u6587\u6863\uff0c\u4ee5\u4fbf\u5927\u5bb6\u5728\u9700\u8981\u65f6\u67e5\u8be2\u3002</p>","tags":["quantlib","pyarrow","parquet","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/03/pyarrow-plus-parquet/#_2","title":"\u884c\u60c5\u6570\u636e\u5b58\u50a8\u65b9\u6848","text":"<p>\u5c3d\u7ba1\u6211\u4eec\u4ecb\u7ecd pyarrow + parquet \u662f\u4e3a\u4e86\u5b58\u50a8 level 2 \u7684\u6570\u636e\uff0c\u4f46\u6211\u624b\u5934\u5e76\u6ca1\u6709\u76f8\u5e94\u7684 level 2 \u6570\u636e\u6e90\uff0c\u6240\u4ee5\uff0c\u4e5f\u65e0\u6cd5\u505a\u51fa\u53ef\u5b9e\u9645\u8fd0\u884c\u7684\u793a\u4f8b\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5c06\u901a\u8fc7\u6784\u9020 1 \u5206\u949f\u884c\u60c5\u7684\u6570\u636e\u96c6\u6765\u6f14\u793a\u5982\u4f55\u901a\u8fc7 pyarrow \u6765\u5199\u5165\u3001\u589e\u52a0\u548c\u67e5\u8be2\u6570\u636e\u3002</p> <p>\u6211\u4eec\u628a\u6bcf\u4e00\u5929\u6240\u6709\u8bc1\u5238\u54c1\u79cd\u7684 1 \u5206\u949f\u884c\u60c5\u653e\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u6240\u6709\u7684\u5206\u949f\u7ebf\u90fd\u653e\u5728 1m \u76ee\u5f55\u4e0b\u3002\u8fd9\u91cc\u6211\u4eec\u6ca1\u6709\u4f7f\u7528 partition\uff0c\u4f46\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u8981\u8003\u8651\u6309\u5e74\u8fdb\u884c\u5206\u949f\u7ebf\u7684 patition\u3002\u5bf9 level 2 \u7684\u6570\u636e\uff0c\u53ef\u80fd\u8981\u6309\u6708\u6216\u8005\u5468\u8fdb\u884c partition\u3002</p> <p>\u53e6\u4e00\u65b9\u9762\uff0c\u6bcf\u4e2a parquet \u6587\u4ef6\u7684\u5927\u5c0f\u6700\u597d\u5728 20M \u548c 2GB \u4e4b\u95f4\uff0c\u6240\u4ee5\uff0c\u5bf9\u4e8e\u5206\u949f\u7ebf\u4ee5\u4e0a\u7ea7\u522b\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u8003\u8651\u6309\u5468\u6216\u8005\u66f4\u5927\u7684\u5c3a\u5ea6\u5199\u5165\u4e00\u4e2a\u6587\u4ef6\u3002</p> <p>\u8fd9\u662f\u78c1\u76d8\u6587\u4ef6\u7ed3\u6784\u793a\u4f8b\uff1a</p> <pre><code>/tmp/pyarrow\n\u251c\u2500\u2500 1d\n\u251c\u2500\u2500 1m\n\u2502   \u251c\u2500\u2500 2023-12-27.parquet\n\u2502   \u251c\u2500\u2500 2023-12-28.parquet\n\u2502   \u2514\u2500\u2500 2023-12-29.parquet\n\u2514\u2500\u2500 factors\n</code></pre> <p>\u9996\u5148\uff0c\u6211\u4eec\u5b9a\u4e49\u5b58\u50a8\u5b57\u6bb5\uff1a</p> <pre><code>import pyarrow as pa\n\nschema = pa.schema([\n        (\"symbol\", pa.string()),\n        (\"frame\", pa.date64()),\n        (\"open\", pa.float32()),\n        (\"high\", pa.float32()),\n        (\"low\", pa.float32()),\n        (\"close\", pa.float32()),\n        (\"volume\", pa.float64()),\n        (\"money\", pa.float64()),\n        (\"factor\", pa.float64())\n])\n</code></pre> <p>pyarrow \u652f\u6301\u5b57\u7b26\u4e32\u7c7b\u578b\u548c\u65e5\u671f\u7c7b\u578b\uff01</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u5b9e\u73b0\u6570\u636e\u8ffd\u52a0\u548c\u8bfb\u5199\u90e8\u5206\u3002\u7531\u4e8e\u6211\u4eec\u662f\u5c06\u6bcf\u5929\u7684\u5206\u949f\u7ebf\u5b58\u4e3a\u4e00\u4e2a parquet \u6587\u4ef6\uff0c\u6240\u4ee5\u4ee3\u7801\u975e\u5e38\u7b80\u5355\uff1a</p> <pre><code>import arrow\nimport pyarrow.parquet as pq\n\nasync def save_1m_bars(codes, dt: datetime.datetime):\n    tables = None\n\n    for code in codes:\n        bars = await Stock.get_bars(code, 240, FrameType.MIN1, end=dt)\n        data = [[code] * len(bars)]\n\n        data.extend([\n                    bars[key] for key in bars.dtype.names\n                ])\n        table = pa.Table.from_arrays(data, schema=schema)\n        if tables is None:\n            tables = table\n        else: # \u62fc\u63a5\u8868\n            tables = pa.concat_tables([tables, table])\n\n    # \u5199\u5165\u78c1\u76d8\n    name = arrow.get(dt).format(\"YYYY-MM-DD\")\n    pq.write_table(tables, f\"/tmp/pyarrow/1m/{name}.parquet\")\n</code></pre> <p>Warning</p> <p>\u6ce8\u610f\u8fd9\u6bb5\u4ee3\u7801\u5f00\u5934\u5904\uff0c\u6211\u4eec\u5f15\u5165\u4e86 arrow \u8fd9\u4e2a\u5e93\u3002\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7528\u7684 Python \u65f6\u95f4\u5e93\u3002\u5728\u8fd9\u4e2a\u65f6\u95f4\u5e93\u4e2d\uff0c \u4e3b\u8981\u7684\u6570\u636e\u7ed3\u6784\u4e5f\u79f0\u4f5c Arrow\u3002</p> <p>omicron \u8fd4\u56de\u7684 bars \u662f\u4e00\u4e2a numpy structured array\uff0c\u5728\u8f6c\u6362\u6210 pyarrow Table \u65f6\uff0c\u6211\u4eec\u9700\u8981\u5148\u5c06\u5b83\u62c6\u6210 List[array] \u7684\u683c\u5f0f\uff0c\u7136\u540e\u901a\u8fc7 from_arrays \u6765\u751f\u6210\u4e00\u4e2a\u5b50 table\uff0c\u5b83\u5305\u542b\u4e86\u67d0\u652f\u4e2a\u80a1\u7684 1 \u5206\u949f\u884c\u60c5\u6570\u636e\u3002</p> <p>\u7531\u4e8e\u6211\u4eec\u8981\u5c06\u6240\u6709\u7684\u4e2a\u80a1\u3001\u6307\u6570\u6570\u636e\u5b58\u653e\u5728\u540c\u4e00\u5f20\u5927\u8868\u91cc\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u8fd8\u8c03\u7528\u4e86 concat_tables \u6765\u5b9e\u73b0\u62fc\u63a5\u3002\u5728\u5176\u5b83\u5e38\u89c1\u7684\u7c7b\u4f3c\u6570\u636e\u7ed3\u6784\u4e2d\uff0c\u65e0\u8bba\u662f numpy, \u8fd8\u662f pandas \u6216\u8005 hdf5\uff0c\u8fd9\u79cd\u62fc\u63a5\u90fd\u6709\u6bd4\u8f83\u6602\u8d35\u7684\u4ee3\u4ef7\uff0c\u4f46\u5728 pyarrow \u4e2d\uff0c\u8fd9\u79cd\u62fc\u63a5\u51e0\u4e4e\u662f\u96f6\u6210\u672c\u7684\uff01\u6ca1\u6709\u6570\u636e\u88ab\u62f7\u8d1d\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u6f14\u793a\u4e00\u4e0b\u5982\u4f55\u8c03\u7528 save_1m_bars \u6765\u4fdd\u5b58\u6570\u636e\uff1a</p> <pre><code>codes = [\"000001.XSHE\", \"600000.XSHG\"]\nfor i in (25, 26, 27, 28, 29):\n    dt = datetime.datetime(2023, 12, i, 15)\n    await save_1m_bars(codes, dt)\n</code></pre>","tags":["quantlib","pyarrow","parquet","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/03/pyarrow-plus-parquet/#_3","title":"\u67e5\u8be2\u6570\u636e","text":"<p>\u73b0\u5728\uff0c\u6211\u4eec\u628a\u521a\u521a\u5199\u8fdb\u53bb\u7684\u6570\u636e\uff0c\u518d\u8bfb\u56de\u6765\uff1a</p> <pre><code>import pyarrow.dataset as ds\n\ndataset = ds.dataset(\"/tmp/pyarrow/1m\")\ndataset.files\n</code></pre> <p>dataset \u5728\u8fd9\u91cc\uff0c\u53ea\u662f\u4e00\u79cd\u5143\u6570\u636e\u3002\u5230\u6b64\u4e3a\u6b62\uff0c\u5b83\u5e76\u4e0d\u4f1a\u771f\u7684\u4ece\u78c1\u76d8\u4e0a\u52a0\u8f7d\u4efb\u4f55\u6570\u636e\u3002\u52a0\u8f7d\u6570\u636e\u662f\u4ece to_table, \u6216\u8005\u67d0\u4e2a\u67e5\u8be2\u5f00\u59cb\u7684\u3002</p> <p>\u4e0a\u8ff0\u4ee3\u7801\u5c06\u663e\u793a\u8be5\u6570\u636e\u96c6\u6240\u5305\u542b\u7684\u78c1\u76d8\u6587\u4ef6\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5c06 dataset \u8f6c\u6362\u6210\u4e00\u5f20\u5927\u8868\uff1a</p> <pre><code>table = dataset.to_table()\ntable\n</code></pre> <p>\u8fd9\u5c06\u8f93\u51fa table \u7684\u6570\u636e\u5b57\u6bb5\u5b9a\u4e49\uff0c\u4ee5\u53ca\u90e8\u5206\u6570\u636e\u3002</p> <p>to_table \u5c06\u4f1a\u628a\u6240\u6709\u7684\u6570\u636e\u90fd\u52a0\u8f7d\u8fdb\u5185\u5b58\u3002\u5982\u679c\u6570\u636e\u91cf\u5f88\u5927\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u5185\u5b58\u4e0d\u591f\u7528\u3002\u56e0\u6b64\uff0c\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u80fd\u4f7f\u7528 RecordBatch:</p> <pre><code>for rb in dataset.to_batches():\n    print(rb.to_pandas())\n</code></pre> <p>\u6bcf\u4e00\u4e2a RecordBatch, \u90fd\u6709\u4e00\u4e2a to_pandas \u65b9\u6cd5\uff0c\u8fd9\u6837\u5c31\u8fdb\u5165\u4e86\u4f60\u6240\u719f\u6089\u7684\u9886\u57df\u3002</p> <p>\u4f46\u66f4\u591a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u901a\u8fc7\u67e5\u8be2\uff0c\u53ea\u52a0\u8f7d\u6211\u4eec\u9700\u8981\u7684\u90a3\u90e8\u5206\u6570\u636e\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 pyarrow.compute \u4e2d\u7684\u8868\u8fbe\u5f0f\u8bed\u6cd5\uff0c\u4e3b\u8981\u662ffield\u51fd\u6570\uff0c\u903b\u8f91\u8fd0\u7b97\u7b26\u548cbitwise\u8fd0\u7b97\u7b26\uff08\u6b64\u5904\u672a\u6f14\u793a\uff0c\u5373 &amp; | \u7b49\uff09\uff1a</p> <pre><code>import pyarrow.compute as pc\n\nfilter = (pc.field(\"frame\") &gt; pc.scalar(datetime.datetime(2023, 12, 28, 15)))\ndataset.filter(filter).to_table().to_pandas()\n</code></pre> <p>\u6eba\u6c34\u4e09\u5343\uff0c\u53ea\u53d6\u4e00\u74e2\u3002\u8fd9\u6b21\u6211\u4eec\u53ea\u628a\u5176\u4e2d\u7684 480 \u6761\u8bb0\u5f55\u52a0\u8f7d\u7684\u4e86\u5185\u5b58\u4e2d\u3002</p> <p></p> <p>Tip</p> <ol> <li>Apache Arrow\u662f\u4e00\u79cd\u57fa\u4e8e\u5217\u5411\u91cf\u7684\u5185\u5b58\u5b58\u50a8\u683c\u5f0f</li> <li>Pyarrow\u662f\u57fa\u4e8eArrow\u7684\u4e00\u4e2a\u5c01\u88c5\u5e93\uff0c\u5b9e\u73b0IO\uff0c\u8ba1\u7b97\u548c\u63d0\u4f9b\u8868\u683c\u89c6\u56fe\u3002</li> <li>\u901a\u8fc7from_arrays\u751f\u6210Table, \u901a\u8fc7concat_table\u8fdb\u884c\u62fc\u63a5\uff0c\u901a\u8fc7write_table\u6765\u5199\u5165\u6570\u636e\u5230\u78c1\u76d8\u4e2d\u3002</li> <li>\u901a\u8fc7dataset\u6765\u52a0\u8f7d\u4e00\u7ec4\u6570\u636e\u96c6\uff0c\u901a\u8fc7to_table, to_batches\u6216\u8005filter\u6765\u5c06\u6570\u636e\u52a0\u8f7d\u5230\u5185\u5b58\u3002</li> </ol>","tags":["quantlib","pyarrow","parquet","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2023/12/27/qmt-set-sector/","title":"xtquant \u4e2d\u7684\u677f\u5757\u6570\u636e","text":"<p>Tip</p> <ol> <li>xtquant \u4e2d\u6709\u54ea\u4e9b\u677f\u5757\u548c\u677f\u5757\u5206\u7c7b\uff1f<ol> <li>\u5982\u4f55\u83b7\u53d6\u677f\u5757\u7684\u6210\u4efd\u80a1\uff1f</li> <li>\u5982\u4f55\u83b7\u53d6\u6307\u6570\u7684\u884c\u60c5\u6570\u636e\uff1f</li> </ol> </li> </ol> <p>xtquant \u662f\u4e00\u4e2a Python \u5e93\uff0c\u63d0\u4f9b\u4e86\u884c\u60c5\u6570\u636e\u548c\u5b9e\u76d8\u63a5\u53e3\u3002\u53ea\u8981\u60a8\u7684\u5238\u5546\u652f\u6301 QMT\uff0c\u5e76\u4e14\u60a8\u4e5f\u7533\u8bf7\u5230\u4e86\u91cf\u5316\u63a5\u53e3\u6743\u9650\uff0c\u5c31\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\u8fd9\u4e9b\u6570\u636e\u548c\u5b9e\u76d8\u63a5\u53e3\uff0c\u8fd9\u4e5f\u662f\u76ee\u524d\u6027\u4ef7\u6bd4\u8f83\u9ad8\u3001\u95e8\u69db\u8f83\u4f4e\u7684\u63a5\u5165\u65b9\u5f0f\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4f1a\u901a\u8fc7\u591a\u7bc7\u7b14\u8bb0\u6765\u4ecb\u7ecd\u8fd9\u4e2a\u5e93\u3002</p> <p>\u4eca\u5929\u8981\u63a2\u7d22\u7684\u662f\uff0cxtquant \u4e2d\u7684\u677f\u5757\u662f\u5982\u4f55\u7ec4\u7ec7\u7684\u3002\u8fd9\u90e8\u5206\u5185\u5bb9\uff0c\u867d\u7136\u5728\u5b98\u65b9\u6587\u6863\u6709\u4e00\u4e9b\u4ecb\u7ecd\uff0c\u4f46\u5e76\u6ca1\u6709\u628a API \u7684\u4f7f\u7528\u4e32\u8054\u8d77\u6765\u3002\u6709\u4e00\u4e9b\u77e5\u8bc6\u70b9\u4e5f\u662f\u7ecf\u8be2\u95ee\u5b98\u65b9\u624d\u77e5\u9053\u7684\uff0c\u53ef\u80fd\u4e00\u6bb5\u65f6\u95f4\u5185\uff0c\u8fd9\u4ecd\u7136\u662f\u72ec\u5bb6\u8d44\u6599\uff0c\u503c\u5f97\u6536\u85cf\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/qmt-set-sector/#xtquant","title":"Xtquant \u4e2d\u6709\u54ea\u4e9b\u677f\u5757","text":"<p>xtquant \u4e2d\u7684\u677f\u5757\u5217\u8868\u901a\u8fc7 get_sector_list \u6765\u83b7\u53d6\u3002\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u5217\u8868\uff1a</p> <pre><code>from xtquant import xtdata\nsectors = xtdata.get_sector_list()\nfor i in range(0, len(sectors), 6):\n    print(\" \".join(sectors[i:i+6]))\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230 5000 \u591a\u4e2a\u677f\u5757\u540d\u79f0\uff0c\u6458\u5f55\u5176\u4e2d\u7684\u90e8\u5206\u663e\u793a\u5982\u4e0b\uff1a</p> <pre><code>\u4e0a\u671f\u6240\u4e0a\u8bc1 A \u80a1\uff0c\u4e0a\u8bc1 B \u80a1\uff0c\u4e0a\u8bc1\u671f\u6743\uff0c\u4e0a\u8bc1\u8f6c\u503a\uff0c\u4e2d\u91d1\u6240\n\u521b\u4e1a\u677f\uff0c\u5927\u5546\u6240\uff0c\u677f\u5757\u52a0\u6743\u6307\u6570\uff0c\u677f\u5757\u6307\u6570\uff0c\u6982\u5ff5\u6307\u6570\uff0c\u6caa\u5e02 ETF\n\u6caa\u5e02\u503a\u5238\uff0c\u6caa\u5e02\u57fa\u91d1\uff0c\u6caa\u5e02\u6307\u6570\uff0c\u6caa\u6df1 A \u80a1\uff0c\u6caa\u6df1 B \u80a1\uff0c\u6caa\u6df1 ETF\n\u8fc5\u6295\u4e00\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\uff0c\u8fc5\u6295\u4e09\u7ea7\u884c\u4e1a\u677f\u5757\u52a0\u6743\u6307\u6570\uff0c\u8fc5\u6295\u4e09\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\n\u90d1\u5546\u6240\uff0c\u9999\u6e2f\u8054\u4ea4\u6240\u6307\u6570\uff0c\u9999\u6e2f\u8054\u4ea4\u6240\u80a1\u7968\uff0cETF \u4e3b\u9898\u6307\u6570\uff0cETF \u503a\u5238\u578b\uff0cETF \u5546\u54c1\u578b\nETF \u80a1\u7968\u578b\uff0cETF \u884c\u4e1a\u6307\u6570\uff0cETF \u8d27\u5e01\u578b\uff0cETF \u8de8\u5883\u578b\uff0cTGN3D \u6253\u5370\uff0cTGN5G\nTGNMicroLED \u6982\u5ff5\uff0cTGNMiniLED,TGNMLOps \u6982\u5ff5\uff0cTGNMR\n...\n</code></pre> <p>\u677f\u5757\u6bd4\u8f83\u591a\u3002\u4e0b\u9762\u6211\u4eec\u4ecb\u7ecd\u5b83\u7684\u51e0\u4e2a\u91cd\u8981\u5f52\u7c7b\uff1a</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/qmt-set-sector/#_1","title":"\u6307\u6570\u7c7b","text":"<p>\u5728\u540d\u79f0\u4e2d\u51fa\u73b0\u6307\u6570\u4e00\u8bcd\u7684\uff0c\u5927\u7ea6\u6709 80 \u4e2a\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u677f\u5757\u662f\u7531\u6307\u6570\u7684\u4ee3\u7801\u7ec4\u6210\u7684\uff1a</p> <p></p> <p>\u6211\u4eec\u770b\u770b\u6caa\u6df1\u6307\u6570\u8fd9\u4e2a\u677f\u5757\u90fd\u7531\u54ea\u4e9b\u6307\u6570\u7ec4\u6210\uff1a</p> <pre><code>for sector in xtdata.get_stock_list_in_sector('\u6caa\u6df1\u6307\u6570'):\n    detail = xtdata.get_instrument_detail(sector)\n    name = detail[\"InstrumentName\"]\n    print(sector, name)\n</code></pre> <p>\u8fd9\u91cc\u5927\u7ea6\u6709 600 \u79cd\u6307\u6570\uff0c\u6bd4\u5982\u6211\u4eec\u5e38\u7528\u7684\u4e0a\u8bc1\u6307\u6570 (000001.SH), \u4e0a\u8bc1 50\uff0c\u4e0a\u8bc1 300 \u7b49\u90fd\u5728\u8fd9\u91cc\u9762\u3002\u5982\u679c\u4f60\u8981\u83b7\u53d6\u4e2d\u8bc1 1000 \u7684\u884c\u60c5\u6570\u636e\uff0c\u4f46\u4e0d\u77e5\u9053\u5b83\u7684\u4ee3\u7801\u662f\u591a\u5c11\uff0c\u5c31\u9700\u8981\u5728\u8fd9\u91cc\u67e5\u8be2\uff1a</p> <pre><code>for sector in xtdata.get_stock_list_in_sector('\u6caa\u6df1\u6307\u6570'):\n    detail = xtdata.get_instrument_detail(sector)\n    name = detail[\"InstrumentName\"]\n    if name == \"\u4e2d\u8bc1 1000\":\n        print(sector)\n</code></pre> <p>\u4ee3\u7801\u662f\"000852.SH\"\u548c\"399852.SZ\"\uff0c\u5b83\u4eec\u5206\u522b\u662f\u4e2d\u8bc1 1000 \u5728\u6caa\u6307\u548c\u6df1\u6307\u4e2d\u7684\u4ee3\u7801\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4ecb\u7ecd\u7684\u65b9\u6cd5\uff0c\u6765\u83b7\u53d6\u8fd9\u4e2a\u6307\u6570\u7684\u884c\u60c5\uff1a</p> <pre><code>xtdata.download_history_data(\"399852.SZ\", period=\"1d\")\nxtdata.get_market_data(stock_list=[\"399852.SZ\"], period='1d', count=10)\n</code></pre>","tags":["xtquant"]},{"location":"blog/2023/12/27/qmt-set-sector/#_2","title":"\u6982\u5ff5\u548c\u540c\u82b1\u987a\u6982\u5ff5","text":"<p>\u6ce8\u610f\u201c\u6982\u5ff5\u6307\u6570\u201d\u8fd9\u4e2a\u677f\u5757\uff0c\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u5217\u51fa\u5b83\u5305\u542b\u7684\u6307\u6570\uff1a</p> <pre><code>for code in xtdata.get_stock_list_in_sector(\"\u6982\u5ff5\u6307\u6570\"):\n    detail = xtdata.get_instrument_detail(code)\n    name = detail[\"InstrumentName\"]\n\n    print(sector, name)\n</code></pre> <p>\u90e8\u5206\u8f93\u51fa\u5982\u4e0b\uff1a</p> <p><pre><code>102566.BKZS GNoled \u6750\u6599\n101285.BKZS GN \u9f99\u864e\u699c\u70ed\u95e8\n102109.BKZS GN \u592a\u9633\u80fd\n102512.BKZS GN \u5b89\u90a6\u7cfb\n101602.BKZS GN \u9972\u6599\n101219.BKZS GN \u5ba4\u5916\u7ecf\u6d4e\n</code></pre> \u4f46\u662f\u4f3c\u4e4e\u62ff\u4e0d\u5230\u8fd9\u4e9b\u677f\u5757\u7684\u6307\u6570\u3002\u6211\u4eec\u5c06\u7ee7\u7eed\u54a8\u8be2\u5b98\u65b9\uff0c\u5f97\u5230\u53cd\u9988\u540e\u518d\u5411\u5927\u5bb6\u62a5\u544a\u3002\u5982\u679c\u60a8\u73b0\u5728\u5c31\u9700\u8981\u8fd9\u4e9b\u677f\u5757\u7684\u6307\u6570\uff0c\u90a3\u4e48\u53ef\u4ee5\u624b\u5de5\u8ba1\u7b97\u4e00\u4e2a\u7b49\u6743\u6307\u6570\u51fa\u6765\u3002</p> <p>\u4ee5 GNoled \u6750\u6599\u4e3a\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u62ff\u5230\u5b83\u7684\u6210\u4efd\u80a1\u6784\u6210\uff0c\u8fdb\u800c\u5f97\u5230\u6240\u6709\u6210\u4efd\u80a1\u7684\u884c\u60c5\uff1a</p> <pre><code>secs = xtdata.get_stock_list_in_sector('GNoled \u6750\u6599')\nxtdata.download_history_data2(secs, period='1d', start_time=\"20231220\")\n\nbarss = xtdata.get_market_data(stock_list=secs, count=10)\nbarss\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u5f97\u5230\u8f93\u51fa\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u6c42\u7b49\u6743\u6307\u6570\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u8f6c\u7f6e\uff0c\u4ee5\u53ca\u6c42\u5747\u503c\u65f6\uff0c\u6211\u4eec\u4f20\u5165\u7684 axis=1 \u7684\u53c2\u6570\u3002</p> <pre><code>barss[\"close\"].T.mean(axis=1)\n</code></pre> <p>\u6b64\u65f6\u6211\u4eec\u5f97\u5230\u7684\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>20231220    19.030909\n20231221    19.072121\n20231222    18.880909\n20231225    18.978485\n</code></pre> <p>\u6211\u4eec\u770b\u5230\u677f\u5757\u540d\u5b57\u4e2d\uff0c\u597d\u591a\u4ee5 T \u5f00\u5934\u7684\uff0c\u6bd4\u5982 TGN\uff0cTHY \u7b49\u3002\u5b98\u65b9\u6587\u6863\u4e2d\u4f3c\u4e4e\u6ca1\u6709\u5173\u4e8e\u5b83\u4eec\u7684\u8bf4\u660e\uff0c\u731c\u6d4b\u53ef\u80fd\u662f\u540c\u82b1\u987a\u6982\u5ff5\u3001\u540c\u82b1\u987a\u884c\u4e1a\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/qmt-set-sector/#_3","title":"\u7533\u4e07\u884c\u4e1a\u5206\u7c7b\u677f\u5757","text":"<p>\u5982\u679c\u4f60\u5e0c\u671b\u5f97\u5230\u6309\u7533\u4e07\u884c\u4e1a\u5206\u7c7b\u7684\u677f\u5757\uff0c\u5e94\u8be5\u7528\u4ee5\u4e0b\u4ee3\u7801\u8fdb\u884c\u67e5\u8be2\uff1a</p> <pre><code>for code in xtdata.get_stock_list_in_sector(\"\u8fc5\u6295\u4e00\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\"):\n    detail = xtdata.get_instrument_detail(code)\n    name = detail[\"InstrumentName\"]\n    if name.startswith(\"SW\"):\n        print(code, name)\n</code></pre> <p>\u8fd9\u6837\u5f97\u5230\u7684\u662f\u7533\u4e07\u4e00\u7ea7\u884c\u4e1a\u677f\u5757\u3002\u5982\u679c\u8981\u67e5\u8be2\u4e8c\u7ea7\u3001\u4e09\u7ea7\uff0c\u5e94\u8be5\u5206\u522b\u4f7f\u7528\u8fc5\u6295\u4e8c\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\u548c\u8fc5\u6295\u4e09\u7ea7\u884c\u4e1a\u677f\u5757\u6307\u6570\u3002\u4f46\u4f3c\u4e4e\u4e5f\u65e0\u6cd5\u83b7\u53d6\u5b83\u4eec\u7684\u6307\u6570\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/qmt-set-sector/#_4","title":"\u53ef\u8f6c\u503a","text":"<p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u67e5\u627e\u6240\u6709\u7684\u53ef\u8f6c\u503a\uff0c\u5e76\u5f97\u5230\u5b83\u4eec\u7684\u4ee3\u7801\u548c\u540d\u5b57\uff1a</p> <pre><code>for sector in xtdata.get_sector_list():\n    if sector.find(\"\u53ef\u8f6c\u503a\") != -1:\n        print(sector)\nxtdata.get_stock_list_in_sector(\"\u6caa\u6df1 A \u80a1\")\nxtdata.get_stock_list_in_sector(\"\u53ef\u8f6c\u503a\u7b49\u6743\")\nxtdata.get_instrument_detail(\"110047.SH\")\n</code></pre> <p>\u8fd9\u5c06\u8f93\u51fa 110043SH \u65e0\u9521\u8f6c\u503a\u3002\u6211\u4eec\u53ef\u4ee5\u7531\u5b83\u7684\u4ee3\u7801\uff0c\u8fdb\u4e00\u6b65\u5f97\u5230\u5b83\u7684\u884c\u60c5\u6570\u636e\u3002</p>","tags":["xtquant"]},{"location":"blog/2023/12/27/qmt-set-sector/#_5","title":"\u5c0f\u7ed3","text":"<p>Tip</p> <ol> <li>xtquant \u4e2d\uff0cget_sector_list \u4f1a\u5f97\u5230\u4e00\u4e2a\u677f\u5757\u540d\u79f0\u5217\u8868\u3002\u901a\u8fc7\u677f\u5757\u540d\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5f97\u5230\u5404\u4e2a\u677f\u5757\u7684\u6210\u5206\u80a1\u6784\u6210\u3002</li> <li>\u4e0a\u8ff0\u8fd4\u56de\u503c\u4e2d\uff0c\u6709\u4e00\u7c7b\u7279\u6b8a\u7684\u677f\u5757\uff0c\u5b83\u4eec\u7684\u540d\u5b57\u4e2d\u5e26\u6709\u201c\u6307\u6570\u201d\u8fd9\u4e2a\u8bcd\u3002</li> <li>\u6307\u6570\u677f\u5757\u4e2d\uff0c\u6bd4\u5982\u6caa\u6df1\u6307\u6570\uff0c\u5305\u542b\u4e86\u6211\u4eec\u6700\u5e38\u89c1\u3001\u6700\u5e38\u7528\u7684\u4e00\u4e9b\u6307\u6570\uff0c\u5982\u4e0a\u8bc1\uff0c\u6caa\u6df1 300 \u7b49\uff0c\u8fd9\u4e9b\u6307\u6570\u6211\u4eec\u53ef\u4ee5\u83b7\u53d6\u884c\u60c5\u6570\u636e</li> <li>\u5176\u5b83\u677f\u5757\uff0c\u5373\u4f7f\u662f\u540d\u5b57\u4e2d\u5305\u542b\u6307\u6570\u7684\uff0c\u6bd4\u5982\u6982\u5ff5\u6307\u6570\uff0c\u4f3c\u4e4e\u4e5f\u65e0\u6cd5\u83b7\u53d6\u5230\u5176\u6307\u6570\u3002</li> <li>\u5bf9\u83b7\u53d6\u4e0d\u5230\u6307\u6570\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u624b\u5de5\u8ba1\u7b97\u5176\u7b49\u6743\u6307\u6570\u3002</li> </ol>","tags":["xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/","title":"\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT","text":"<p>\u5b66\u4e60\u8981\u70b9</p> <ul> <li>xtquant \u63d0\u4f9b\u4e86\u6570\u636e\u548c\u4ea4\u6613\u63a5\u53e3</li> <li>xtquant \u53ef\u4ee5\u72ec\u7acb\u4e8e QMT \u4e4b\u5916\u8fd0\u884c</li> <li>download_history_data</li> <li>download_history_data2</li> <li>get_market_data</li> </ul>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/#qmt-xtquant","title":"QMT \u548c XtQuant \u7b80\u4ecb","text":"<p>QMT \u662f\u76ee\u524d\u63a5\u5165\u95e8\u69db\u6700\u4f4e\u7684\u91cf\u5316\u5b9e\u76d8\u63a5\u53e3\u4e4b\u4e00\u3002\u5b83\u63d0\u4f9b\u4e86\u672c\u5730\u90e8\u7f72\u7684\u91cf\u5316\u5e73\u53f0\uff08\u53ef\u4ee5\u56de\u6d4b\u548c\u5b9e\u76d8\uff09\uff0c\u4e5f\u63d0\u4f9b\u4e86\u53ef\u72ec\u7acb\u4e8e\u8be5\u5e73\u53f0\u8fd0\u884c\u7684 SDK\uff0c\u5373 XtQuant\u3002</p> <p>XtQuant \u4ec5\u63d0\u4f9b\u884c\u60c5\u6570\u636e\u548c\u4ea4\u6613\u63a5\u53e3\uff0c\u4e0d\u63d0\u4f9b\u56de\u6d4b\u529f\u80fd\u3002\u76ee\u524d\u901a\u8fc7 XtQuant \u83b7\u53d6\u666e\u901a\u884c\u60c5\u6570\u636e\u662f\u514d\u8d39\u7684\uff0c\u4f46\u6709\u6d41\u901f\u9650\u5236\uff0c\u636e\u6d4b\u8bd5\uff0c\u4f4e\u4e8e 1 \u79d2\u83b7\u53d6\u4e00\u6b21\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002</p>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/#xtquant","title":"XtQuant \u83b7\u53d6\u884c\u60c5\u6570\u636e","text":"<p>XtQuant \u4e2d\uff0c\u6570\u636e\u83b7\u53d6\u4e00\u822c\u5206\u4e24\u4e2a\u9636\u6bb5\uff0c\u9996\u5148\u662f\u7f13\u5b58\u9636\u6bb5\uff0c\u7136\u540e\u662f\u8bfb\u53d6\u9636\u6bb5\u3002</p> <p>\u7f13\u5b58\u9636\u6bb5\u7684 API \u4e00\u822c\u4ee5 download_\u5f00\u5934\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u8981\u83b7\u53d6\u5386\u53f2\u884c\u60c5\u6570\u636e\uff0c\u9996\u5148\u8981\u8fdb\u884c\u7f13\u5b58\u3002\u4f7f\u7528\u7684 API \u662f\uff1a</p> <pre><code>def download_history_data(stock_code: str='', \n                      period: str='', \n                      start_time: str='', \n                      end_time: str='', \n                      incrementally: Optional[bool]=None\n                      )\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u8981\u4e00\u6b21\u4e0b\u8f7d\u591a\u652f\u8bc1\u5238\u7684\u884c\u60c5\u6570\u636e\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528<code>download_history_data2</code>\u8fd9\u4e2a API\u3002</p> <p>\u5982\u679c\u5728 start_time \u5230 end_time \u533a\u95f4\u7684\u6570\u636e\u88ab\u7f13\u5b58\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8c03\u7528<code>get_market_data</code>\u6765\u83b7\u53d6\u884c\u60c5\u6570\u636e\u3002</p> <pre><code>def get_market_data(field_list = [], \n                    stock_list = [], \n                    period = '1d',\n                    start_time = '', \n                    end_time = '', \n                    count = -1,\n                    dividend_type = 'none', \n                    fill_data = True\n)\n</code></pre> <p>\u8be5\u65b9\u6cd5\u53ef\u4ee5\u83b7\u53d6'1m', '5m', '15m', '30m', '1h', '1d'\u548c\u5206\u7b14 (<code>tick</code>) \u6570\u636e\u3002\u4e0d\u540c\u7684\u5468\u671f\u4e0b\uff0c\u8fd4\u56de\u7684\u5b57\u6bb5\u6709\u6240\u4e0d\u540c\u3002\u9664\u5206\u7b14\u5916\uff0c\u80fd\u8fd4\u56de\u7684\u6570\u636e\u5305\u62ec\u65f6\u95f4\uff0cOHLC\uff0cvolume\uff08\u6210\u4ea4\u624b\uff09\u548c amount\uff08\u6210\u4ea4\u91d1\u989d\uff09\u3002</p> <p>Warning</p> <p><code>fill_data</code>\u5efa\u8bae\u90fd\u8bbe\u7f6e\u4e3a False\u3002\u5b83\u7684\u884c\u4e3a\u662f\u4f7f\u7528\u524d\u4e00\u6761\u6570\u636e\u8fdb\u884c\u586b\u5145\uff0c\u7c7b\u4f3c\u4e8e pandas \u7684 fillna \u4e2d\u7684<code>ffil</code>\u3002\u4f46\u884c\u60c5\u8f6f\u4ef6\u5728\u8ba1\u7b97\u6280\u672f\u6307\u6807\u65f6\uff0c\u90fd\u662f\u8df3\u8fc7\u8fd9\u4e9b\u7f3a\u5931\u6570\u636e\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u7684\u586b\u5145\u6570\u636e\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u4e5f\u5e94\u8be5\u5c06<code>fill_data</code>\u8bbe\u7f6e\u4e3a False, \u4ee5\u907f\u514d\u4e0e\u5176\u5b83\u4eba\u884c\u4e3a\u4e0d\u4e00\u81f4\u3002</p> <p>\u6ce8\u610f\u8be5\u65b9\u6cd5\u4e0d\u80fd\u8fd4\u56de\u590d\u6743\u56e0\u5b50\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u662f\u4e3a\u4e86\u76f4\u63a5\u4f7f\u7528\u8fd4\u56de\u7684\u6570\u636e\uff0c\u800c\u662f\u8981\u5c06\u5176\u8f6c\u5b58\u5230\u5176\u5b83\u6570\u636e\u5e93\u7684\u8bdd\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u8c03\u7528<code>get_divid_factors</code>\u6765\u83b7\u5f97\u590d\u6743\u56e0\u5b50\uff0c\u4e0e\u8fd9\u91cc\u83b7\u5f97\u7684\u672a\u590d\u6743\u6570\u636e\u4e00\u8d77\u4fdd\u5b58\u3002\u76f4\u63a5\u8f6c\u5b58\u4efb\u4f55\u5df2\u7ecf\u590d\u6743\u7684\u6570\u636e\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u5373\u4f7f\u662f\u540e\u590d\u6743\uff0c\u4e5f\u5b58\u5728\u51fa\u9519\u7684\u53ef\u80fd\u3002</p>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2023/12/21/qmt-get-stock-price/#_1","title":"\u793a\u4f8b","text":"<pre><code>from xtquant import xtdata\n\nstocks = ['000001.SZ', '600000.SH']\nxtdata.download_history_data(stocks[0], '1d')\nxtdata.download_history_data(stocks[1], '1d')\n\n# \u6216\u8005\n# XTDATA.DOWNLOAD_HISTORY_DATA2(STOCKS, '1D')\n\nend = \"20231220\"\nbars = xtdata.get_market_data(stock_list=stocks, \n                              period='1d', \n                              end_time=end, \n                              count=-1, \n                              dividend_type=\"front_ratio\")\n\nend = \"20231220\"\nbars = xtdata.get_market_data(stock_list=stocks, period='1d', end_time=end, count=-1, dividend_type=\"front_ratio\")\n\ndisplay(bars['close'].T.tail())\n</code></pre> <p>get_market_data\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u4e00\u4e2adict\u3002\u5b83\u7684key\u662f\u884c\u60c5\u5b57\u6bb5\uff0c\u6bd4\u5982<code>time</code>, <code>open</code>, <code>close</code>\u7b49\u3002\u5176\u503c\u5219\u662f\u4ee5\u8bc1\u5238\u4ee3\u7801\u4e3a\u7d22\u5f15\uff0c\u4ee5\u65f6\u95f4\u4e3a\u5217\u7684\u5404\u4e2a\u5b57\u6bb5\u503c\u3002\u5728\u4e0a\u8ff0\u793a\u4f8b\u7684\u8f93\u51fa\u4e2d\uff0c\u6211\u4eec\u5c06\u5176\u8fdb\u884c\u4e86\u8f6c\u7f6e\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u5b83\u4eec\u7684\u65b9\u5f0f\u3002</p> <p>\u6700\u7ec8\u8f93\u51fa\u5982\u4e0b\uff1a</p> <p></p> <p>\u6ce8\u610f xtquant \u4f7f\u7528\u7684\u65e5\u671f\u683c\u5f0f\uff0c\u5982\u679c\u5468\u671f\u4e3a 1d\uff0c\u5219\u662f\"YYYYMMDD\"\u3002\u5982\u679c\u5468\u671f\u4e3a\u5206\u949f\u7ea7\uff0c\u5219\u4e3a\"YYYYMMDDHHmmss\"\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u65f6\u95f4\u662f datatime.datetime \u7684\u8bdd\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u5f0f\u6765\u683c\u5f0f\u5316\uff1a</p> <pre><code>import datetime\n\nnow = datetime.datetime.now()\nprint(now.strftime(\"%Y%m%d%H%M%S\"))\n\nimport arrow\narrow.get(now).format(\"YYYYMMDDHHmmss\")\n</code></pre> <p><code>strftime</code>\u7684\u683c\u5f0f\u4e32\u4e0d\u5bb9\u6613\u8bb0\u5fc6\uff0c arrow \u65f6\u95f4\u5e93\u5728\u8fd9\u70b9\u4e0a\u8fdb\u884c\u4e86\u6539\u8fdb\uff0c\u5468\u671f\u7531\u5927\u5230\u5c0f\uff0c\u8868\u793a\u5f62\u5f0f\u4e5f\u5b9e\u73b0\u4e86\u9012\u8fdb\uff0c\u6bd4\u8f83\u5bb9\u6613\u8bb0\u5fc6\u3002\u5728\u4e0d\u6d89\u53ca\u5230\u6027\u80fd\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5c06\u5176\u8f6c\u6362\u4e3a Arrow \u5bf9\u8c61\uff0c\u518d\u8fdb\u884c\u683c\u5f0f\u5316\u3002</p>","tags":["\u6570\u636e\u6e90","xtquant"]},{"location":"blog/2024/01/17/one-table-to-rule-them-all-with-clickhouse/","title":"ClickHouse: One table to rule them all!","text":"<p>\u524d\u9762\u51e0\u7bc7\u7b14\u8bb0\u6211\u4eec\u8ba8\u8bba\u4e86\u5b58\u50a8\u6d77\u91cf\u884c\u60c5\u6570\u636e\u7684\u4e2a\u4eba\u6280\u672f\u65b9\u6848\u3002\u5b83\u4eec\u4e4b\u6240\u4ee5\u88ab\u79f0\u4e4b\u4e3a\u4e2a\u4eba\u65b9\u6848\uff0c\u5e76\u4e0d\u662f\u56e0\u4e3a\u6027\u80fd\u5f31\uff0c\u800c\u662f\u6307\u5728\u8fd9\u4e9b\u65b9\u6848\u4e2d\uff0c\u6570\u636e\u90fd\u5b58\u50a8\u5728\u672c\u5730\uff0c\u4e5f\u53ea\u9002\u5408\u5355\u673a\u67e5\u8be2\u3002</p> <p>\u6570\u636e\u6e90\u5f88\u8d35 -- \u5728\u8fd9\u4e2a\u51ac\u5929\uff0c\u6211\u4eec\u5df2\u7ecf\u542c\u8bf4\uff0c\u67d0\u4e9b\u4e0a\u4e86\u89c4\u6a21\u7684\u673a\u6784\uff0c\u4e5f\u5728\u8ba9\u5458\u5de5\u5171\u4eab\u4e07\u5f97\u8d26\u53f7\u4e86\u3002\u6240\u4ee5\uff0c\u5171\u4eab\u7f51\u7edc\u5b58\u50a8\uff0c\u4ece\u800c\u53ea\u9700\u8981\u4e00\u4e2a\u6570\u636e\u8d26\u53f7\uff0c\u5c31\u6210\u4e3a\u5408\u7406\u7684\u9700\u6c42\u3002\u66f4\u4e0d\u5fc5\u8bf4\uff0c\u96c6\u4e2d\u7ba1\u7406\u624d\u53ef\u80fd\u8ba9 IT \u6765\u8fdb\u884c\u6570\u636e\u7ef4\u62a4\uff0c\u800c\u5206\u6790\u5e08\u53ea\u9700\u8981\u4e13\u6ce8\u4e8e\u7b56\u7565\u5c31\u597d\u3002</p>","tags":["clickhouse","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/17/one-table-to-rule-them-all-with-clickhouse/#_1","title":"\u90a3\u4e9b\u4ee5\u8bb9\u4f20\u8bb9\u7684\u89e3\u51b3\u65b9\u6848","text":"<p>\u90fd\u5df2\u7ecf 2024 \u5e74\u4e86\uff0c\u4f46\u8bf4\u5230\u884c\u60c5\u6570\u636e\u7684\u5b58\u50a8\uff0c\u4f60\u4ecd\u7136\u80fd\u770b\u5230\u63a8\u8350 mysql \u7684\u6587\u7ae0\u3002\u8fd9\u5b8c\u5168\u662f\u9519\u8bef\u7684\u3002\u4e0d\u8981\u8bf4 mysql\uff0c\u5c31\u662f postgres \u6765\u4e86\u4e5f\u4e0d\u884c\u3002\u4e0d\u8981\u8bf4 postgres\uff0c\u5c31\u662f sqlserver \u751a\u81f3 oracle \u6765\u4e86\u90fd\u4e0d\u884c\u3002</p> <p>\u5176\u5b83\u4e0d work \u7684\u65b9\u6848\u8fd8\u5305\u62ec mongodb\u3002mongodb \u662f\u633a\u80fd\u88c5\u7684\uff0c\u4f46\u662f\u5b83\u4e0d\u9002\u5408\u884c\u60c5\u6570\u636e\u8fd9\u7c7b\u65f6\u5e8f\u6570\u636e\u7684\u67e5\u8be2\u3002</p> <p>Influxdb \u662f\u6700\u65e9\u548c\u6700\u51fa\u540d\u7684\u65f6\u5e8f\u6570\u636e\u5e93\u3002\u4f46\u662f\u5b83\u7684\u793e\u533a\u7248\u672c\u6027\u80fd\u8fd8\u662f\u504f\u5f31\uff0c\u7279\u522b\u662f\u5b83\u9650\u5236\u4e86\u67e5\u8be2\u7684\u5e76\u53d1\u5ea6\u3002\u6b64\u5916\uff0c\u5b83\u7684\u5f15\u64ce\u662f Go \u8bed\u8a00\uff0c\u8fd9\u4ecd\u7136\u8981\u6bd4 C \u6162\u597d\u51e0\u500d\u3002</p> <p>Dolphinedb \u53ef\u80fd\u6027\u80fd\u4e0a\u5f3a\u4e8e Influxdb \u4e0d\u5c11\uff0c\u4f46\u7f3a\u70b9\u4e5f\u662f\u793e\u533a\u7248\u5bf9\u6027\u80fd\u7684\u9650\u5236\u592a\u591a\u3002Tidb \u636e\u8bf4\u6027\u80fd\u4e0d\u9519\uff0c\u4f46\u6211\u4eec\u6ca1\u6709\u673a\u4f1a\u8bc4\u6d4b\u8fc7\u5b83\u3002</p> <p>\u4e0d\u8fc7\u5982\u679c\u6709\u72b9\u5982\u738b\u8005\u822c\u7684 clickhouse \u793e\u533a\u7248\u6446\u5728\u9762\u524d\uff0c\u8fd8\u6709\u4ec0\u4e48\u5fc5\u8981\u53bb\u8bc4\u4f30\u90a3\u4e9b\u9752\u94dc\u5462\uff1f</p>","tags":["clickhouse","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/17/one-table-to-rule-them-all-with-clickhouse/#why-click-house-is-so-fing-fast","title":"Why click house is so f**ing fast?","text":"<p>Clickhouse \u662f\u6218\u6597\u6c11\u65cf\u5f00\u53d1\u7684\u4ea7\u54c1\u3002\u5b83\u7684\u5f00\u53d1\u8005\u662f\u4fc4\u56fd\u7684\u641c\u7d22\u5f15\u64ce Yandex!\uff08\u63d0\u5230 Yandex! \u65f6\uff0c\u4e0d\u80fd\u6f0f\u4e86\u8fd9\u4e2a\u611f\u53f9\u53f7\uff09\u3002\u641c\u7d22\u5f15\u64ce\u5929\u751f\u8981\u5904\u7406\u5f88\u591a\u67e5\u8be2\u548c\u7edf\u8ba1\u5206\u6790\uff0c\u6240\u4ee5\u5c31\u50ac\u751f\u4e86\u8fd9\u4e2a\u6027\u80fd\u602a\u517d\u3002</p> <p>Clickhouse \u7684\u4f18\u5316\u662f\u5168\u65b9\u4f4d\u7684\u3002\u5728\u786c\u4ef6\u7ea7\u522b\u4e0a\uff0c\u5b83\u5229\u7528\u4e86 SIMD CPU \u6307\u4ee4\u3002Clickhouse \u7279\u522b\u5f3a\u8c03\u4ed6\u4eec\u4f7f\u7528\u4e86 SIMD \u6307\u4ee4\u6765\u8fdb\u884c\u5e76\u884c\u4f18\u5316\uff0c\u5f53\u4f60\u5b89\u88c5 clickhouse \u65f6\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u68c0\u6d4b\u5de5\u5177\uff0c\u8ba9\u4f60\u68c0\u6d4b SIMD \u6307\u4ee4\u4f18\u5316\u80fd\u5426\u5f00\u542f\u3002</p> <p>Tip</p> <p>\u5370\u50cf\u4e2d SIMD \u73b0\u5728\u4e5f\u4e0d\u662f\u591a\u9ad8\u7aef\u7684\u6280\u5de7\uff0c\u6709\u597d\u4e9b\u8f6f\u4ef6\u4e5f\u5229\u7528\u4e86\u8fd9\u79cd\u4f18\u5316\uff0c\u4e0d\u8fc7 clickhouse \u5f88\u4f1a\u627e\u5356\u70b9\uff0c\u6709\u70b9\u7c7b\u4f3c\u5c0f\u7c73\u7684\u5168\u73bb\u7483\u6444\u50cf\u5934\u7684\u5ba3\u4f20\u3002\u4e0d\u8fc7\uff0c\u5145\u5206\u5229\u7528\u786c\u4ef6\u6307\u4ee4\uff0c\u786e\u5b9e\u662f\u4f18\u5316\u4e2d\u5f88\u91cd\u8981\u7684\u4e00\u4e2a\u65b9\u6cd5\u3002</p> <p>\u6570\u636e\u7ed3\u6784\u4e0a\uff0cClickhouse \u4f7f\u7528\u4e86\u5217\u5b58\u50a8\uff0c\u8fd9\u4e00\u70b9\uff0c\u5176\u5b9e\u50cf parquet, hdf5 \u90fd\u662f\u8fd9\u6837\u5b58\u50a8\u7684\u3002\u57fa\u4e8e\u5217\u5b58\u50a8\uff0c\u5c31\u6709\u5f88\u591a\u5f88\u597d\u7684\u538b\u7f29\u65b9\u6848\u53ef\u7528\uff0c\u4e00\u65e6\u5b58\u76d8\u7684\u6570\u636e\u91cf\u53d8\u5c0f\uff0c\u663e\u7136\u6613\u89c1 IO \u6548\u7387\u4e5f\u4f1a\u63d0\u5347\u3002</p> <p>\u4f46\u662f\u5b83\u57fa\u4e8e merge-tree \u7684\u5b58\u50a8\u5f15\u64ce\uff0c\u4f7f\u5f97\u5728\u67e5\u8be2\u4e0a\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u5229\u7528\u6240\u6709\u7684 CPU \u6838\u548c\u78c1\u76d8\u3001\u8fd8\u53ef\u4ee5\u5229\u7528\u96c6\u7fa4\u7684\u6240\u6709 CPU \u6838\u548c\u78c1\u76d8\u3002\u8fd9\u4f7f\u5f97\u5b83\u7684\u67e5\u8be2\u6027\u80fd\u53ef\u4ee5\u968f\u786c\u4ef6\u589e\u52a0\u7ebf\u6027\u6269\u5c55\u3002</p> <p>Tip</p> <p>\u6b63\u5982 clickhouse \u81ea\u5df1\u6240\u8bf4\u7684\u90a3\u6837\uff0c\u6240\u6709\u8fd9\u4e9b\u6280\u672f\uff0c\u5176\u5b83\u5f88\u591a\u6570\u636e\u7ba1\u7406\u7cfb\u7edf\u4e5f\u53ef\u80fd\u5728\u4f7f\u7528\u3002\u4f46 clickhouse \u80fd\u505a\u5230\u66f4\u5feb\uff0c\u5173\u952e\u5728\u4e8e\u7ec6\u8282\u4f18\u5316\u3002\u800c\u7ec6\u8282\u4f18\u5316\u4e4b\u6240\u4ee5\u80fd\u66f4\u5230\u4f4d\uff0c\u662f\u56e0\u4e3a\u4ed6\u4eec\u4e0d\u662f\u505a\u901a\u7528\u573a\u666f\uff0c\u800c\u662f\u53ea\u5173\u6ce8\u5217\u6570\u636e\u5e93\u3002</p> <p>\u5728\u8fd9\u4e00\u5757\uff0c\u786e\u5b9e\u7528\u4e86\u5f88\u591a\u5927\u6570\u636e\u7684\u6280\u5de7\uff0c\u6bd4\u5982\u4f7f\u7528\u4e86 bloomfilter \u7684\u7d22\u5f15\u3002\u5b83\u8fd8\u7559\u4e86\u4e00\u4e9b\u4f18\u5316\u6280\u5de7\u7ed9\u4f7f\u7528\u8005\uff0c\u8fd9\u4e5f\u662f\u6211\u4eec\u8fd9\u7bc7\u7b14\u8bb0\u5c06\u8981\u4ecb\u7ecd\u7684\uff1a\u5982\u4f55\u8bbe\u8ba1\u4e00\u4e2a\u80fd\u5b58\u50a8\u4e0a\u767e\u4ebf\u6761\u884c\u60c5\u6570\u636e\u7684\u6570\u636e\u5e93\uff0c\u5e76\u8fbe\u5230\u6700\u4f73\u6027\u80fd\u3002</p>","tags":["clickhouse","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2024/01/17/one-table-to-rule-them-all-with-clickhouse/#_2","title":"\u5b9e\u6218\uff01\u5148\u5b58\u4e00\u4e2a\u5c0f\u76ee\u6807","text":"<p>\u5c3d\u7ba1\u5728 clickhouse \u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5206\u949f\u7ebf\u4e0e\u65e5\u7ebf\u5b58\u5728\u4e00\u5f20\u8868\u91cc\uff0c\u4f46\u662f\u8003\u8651\u5230\u6211\u4eec\u51e0\u4e4e\u4e0d\u53ef\u80fd\u540c\u65f6\u53d6\u4e24\u4e2a\u4e0d\u540c\u5468\u671f\u7684\u6570\u636e\uff0c\u6240\u4ee5\uff0c\u628a\u5b83\u4eec\u5206\u522b\u6309\u8868\u5b58\u50a8\u663e\u7136\u66f4\u5408\u7406\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u5728\u4e3e\u4f8b\u65f6\uff0c\u5c31\u53ea\u4ee5\u5206\u949f\u7ebf\u4e3a\u4f8b\uff1a</p> <pre><code>CREATE TABLE if not exists bars_1m\n(\n    `frame` DateTime64 CODEC(Delta, ZSTD),\n    `symbol` LowCardinality(String),\n    `open` Float32 DEFAULT -1 CODEC(Delta, ZSTD),\n    `high` Float32 DEFAULT -1 CODEC(Delta, ZSTD),\n    `low` Float32 DEFAULT -1 CODEC(Delta, ZSTD),\n    `close` Float32 DEFAULT -1 CODEC(Delta, ZSTD),\n    `volume` Float64 DEFAULT -1 ,\n    `money` Float64 DEFAULT -1 ,\n    `factor` Float64 DEFAULT -1 CODEC(Delta, ZSTD)\n)\nENGINE = MergeTree\nORDER BY (frame, symbol)\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u770b\u5230\u4f7f\u7528 clickhouse \u7684\u7b2c\u4e00\u4e2a\u597d\u5904\u3002\u5b83\u5b8c\u5168\u517c\u5bb9\u4e86 sql \u7684\u6838\u5fc3\u8bed\u6cd5\u3002\u8981\u77e5\u9053\u5728\u8bbe\u8ba1 zillionare 2.0 \u7248\u65f6\u6211\u4eec\u88ab influxdb \u6298\u78e8\u7684\u4e0d\u884c -- \u5929\u77e5\u9053\u4ed6\u4eec\u4e3a\u4ec0\u4e48\u629b\u5f03\u4e86\u539f\u5148\u5bf9 sql \u7684\u517c\u5bb9\uff0c\u800c\u72ec\u51fa\u5fc3\u88c1\u5730\u8bbe\u8ba1\u4e86\u4e00\u79cd\u5168\u65b0\u7684\u67e5\u8be2\u8bed\u8a00\uff01</p> <p>\u8fd9\u610f\u5473\u7740\u5982\u679c\u6211\u4eec\u5728\u56e2\u961f\u5185\u5b89\u88c5\u4e86 clickhouse -- \u8fd9\u5e38\u5e38\u662f IT \u7684\u6d3b\uff0c\u5206\u6790\u5e08\u4e5f\u5c31\u80fd\u76f4\u63a5\u4e0a\u624b -- \u56e0\u4e3a\u505a\u6570\u636e\u5206\u6790\u7684\u4eba\uff0c\u4f60\u4eec\u90fd\u662f\u61c2 sql \u7684\u3002</p> <p>\u8fd9\u91cc\u6709\u4e00\u4e9b\u6280\u5de7\uff0c\u662f\u666e\u901a\u7684 SQL \u4e2d\u6ca1\u6709\u7684\u3002</p> <p>\u9996\u5148\u662f frame \u5b57\u6bb5\u4e2d\u7684 CODEC(Delta, ZSTD) \u538b\u7f29\u3002\u5b83\u5de7\u5999\u5730\u901a\u8fc7\u884c\u95f4\u6570\u636e\u7684\u5dee\u503c\uff0c\u5c06\u5217\u6570\u636e\u8f6c\u6362\u6210\u4e3a\u4e00\u4e2a\u7a00\u758f\u7684\u6570\u636e\u5411\u91cf -- \u8fd9\u6837\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u5b58\u50a8\u7a7a\u95f4\u548c\u8bfb\u53d6\u65f6\u95f4\u3002\u5b9e\u9645\u4e0a\uff0c\u5728\u884c\u60c5\u6570\u636e\u4e2d\uff0c\u5927\u91cf\u7684\u65f6\u95f4\u6233\u90fd\u662f\u76f8\u540c\u7684\uff0c\u6216\u8005\u53ea\u6709\u5f88\u5c0f\u7684 delta\u3002\u6bd4\u5982\uff0c\u5982\u679c\u6211\u4eec\u628a 5000 \u591a\u652f\u4e2a\u80a1\u7684\u5206\u949f\u6570\u636e\u5b58\u5165\u4e00\u5f20\u8868\uff0c\u90a3\u4e48\u6211\u4eec\u5e38\u5e38\u4f1a\u770b\u5230\u8fde\u7eed 5000 \u4e2a\u76f8\u540c\u7684\u65f6\u95f4\u6233\uff0c\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u5b58\u4e3a 0\uff01</p> <p>OHLC \u4e2d\u7684 default \u503c\u4e5f\u7ed9\u5f97\u9887\u6709\u8bb2\u7a76\u3002\u5982\u679c\u67d0\u5929\u67d0\u4e2a\u6807\u7684\u505c\u724c\uff0c\u90a3\u4e48\u5b83\u7684 OHLC \u7b49\u6570\u636e\u5c31\u662f\u7a7a\u503c\u3002clickhouse \u5141\u8bb8\u6211\u4eec\u5b58\u7a7a\u503c\u3002\u4f46\u8fd9\u6837\u4e00\u6765\uff0cclickhouse \u5fc5\u987b\u4f7f\u7528\u53e6\u5916\u7684\u6587\u4ef6\u6765\u5b58\u50a8\u7a7a\u503c\uff0c\u5e76\u5728\u67e5\u8be2\u65f6\u518d\u901a\u8fc7 join \u628a\u7a7a\u503c\u8fde\u63a5\u8d77\u6765\u3002\u8fd9\u4f1a\u82b1\u6389\u4e00\u4e9b\u65f6\u95f4\u3002\u6240\u4ee5\uff0c\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2a\u4e0d\u53ef\u80fd\u7684\u503c\u4f5c\u4e3a\u9ed8\u8ba4\u503c\uff0c\u8fd9\u6837\u6240\u6709\u7684\u6570\u636e\u4ecd\u7136\u5b58\u5728\u4e00\u8d77\uff0c\u5c06\u4f1a\u52a0\u5feb\u5b58\u50a8\u548c\u8fd0\u7b97\u901f\u5ea6\u3002</p> <p>OHLC \u6570\u636e\u7684\u53d8\u5316\u90fd\u5f88\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec\u4e5f\u901a\u8fc7 DELTA \u7f16\u7801\u538b\u7f29\u5b83\u4eec\u3002\u800c\u6210\u4ea4\u91cf\u548c\u6210\u4ea4\u989d\u7684\u8df3\u52a8\u5219\u53ef\u80fd\u5f88\u5927\uff0c\u542f\u7528\u538b\u7f29\u5c31\u4f1a\u5f97\u4e0d\u507f\u5931\u3002</p> <p>\u6211\u4eec\u80fd\u505a\u8fd9\u4e9b\u4f18\u5316\uff0c\u662f\u56e0\u4e3a\u6211\u4eec\u77e5\u9053\u6570\u636e\u7684\u5206\u5e03\u7279\u6027 -- \u5c31\u50cf\u6570\u636e\u5206\u6790\u5e08\u4e5f\u5fc5\u987b\u61c2\u5f97\u6570\u636e\u7684\u5206\u5e03\u7279\u6027\u4e00\u6837 -- clickhouse \u4e5f\u662f\u8fd9\u6837\u624d\u80fd\u505a\u597d\u4f18\u5316\u3002</p> <p>\u6211\u4eec\u5728 OHLC \u6570\u636e\u4e0a\u4f7f\u7528\u4e86\u5355\u7cbe\u5ea6\uff0c\u4f46\u5bf9 factor \u5374\u4f7f\u7528\u4e86 64 \u4f4d\u6d6e\u70b9\u6570\u3002\u8fd9\u662f\u5fc5\u8981\u7684\uff0c\u5c3d\u7ba1\u770b\u4e0a\u53bb\u5b83\u4eec\u90fd\u5f88\u5c0f\uff0c\u4f46\u662f\uff0cOHLC \u6570\u636e\u7684\u53d6\u503c\u8303\u56f4\u5f88\u5c0f\uff0c\u4e0d\u4f1a\u6709\u7cbe\u5ea6\u95ee\u9898\uff0c\u800c factor \u6570\u636e\u5219\u4e0d\u4e00\u6837\uff0c\u5b83\u5fc5\u987b\u66f4\u51c6\u786e\u3002</p> <p>Note</p> <p>\u4e3a\u4ec0\u4e48\u6211\u4eec\u4f1a\u77e5\u9053\u8fd9\u4e2a\u533a\u522b\uff1f\u56e0\u4e3a\u6211\u4eec\u5728\u8bbe\u8ba1 zillionare \u65f6\uff0c\u9047\u5230\u8fc7\u8fd9\u4e2a\u95ee\u9898\u3002\u5f53\u6211\u4eec\u628a factor \u8bbe\u8ba1\u4e3a 32 \u4f4d\u7cbe\u5ea6\u65f6\uff0c\u5728\u56de\u6d4b\u65f6\uff0c\u8ba1\u7b97\u7528\u6237\u7684\u8d44\u4ea7\u65f6\uff0c\u6211\u4eec\u53d1\u73b0\u5728 1 \u4ebf\u5de6\u53f3\u7684\u8d44\u91d1\u65f6\uff0c\u51fa\u73b0\u4e86\u51e0\u5143\u6216\u8005\u51e0\u5341\u5143\u7684\u5dee\u989d\u3002\u4f60\u4e5f\u8bb8\u53ef\u4ee5\u53bb\u770b\u4e00\u4e0b\u4f60\u6b63\u5728\u4f7f\u7528\u7684\u6846\u67b6\uff0c\u662f\u5426\u6709\u540c\u6837\u7684\u95ee\u9898\u3002</p> <p>Symbol \u5b57\u6bb5\u6211\u4eec\u4e5f\u4f7f\u7528\u4e86\u4e00\u79cd\u4f18\u5316\u3002\u901a\u8fc7\u8fd9\u79cd\u7f16\u7801\uff0c\u6211\u4eec\u5b9e\u9645\u4e0a\u5728\u5b58\u50a8 Symbol \u65f6\uff0c\u5b58\u50a8\u7684\u662f\u6574\u6570\u800c\u975e\u5b57\u7b26\u4e32\uff0c\u8fd9\u6837\u4f1a\u5927\u5927\u63d0\u9ad8\u5b58\u50a8\u6548\u7387\u548c\u67e5\u8be2\u901f\u5ea6\u3002\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5982\u679c\u4f60\u719f\u6089 Pandas \u7684\u6027\u80fd\u4f18\u5316\uff0c\u5c31\u5e94\u8be5\u5df2\u7ecf\u89c1\u8fc7\u4e86 -- \u5b83\u5c31\u662f\u7c7b\u4f3c\u4e8e pandas \u7684 categorize \u4f18\u5316\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u628a frame \u548c symbo \u8bbe\u4e3a\u4e3b\u952e\u3002\u6211\u4eec\u7684\u5927\u591a\u6570\u67e5\u8be2\u5c06\u57fa\u4e8e\u8fd9\u6837\u4e24\u4e2a\u5b57\u6bb5\u7684\u6bd4\u8f83\u3002</p> <p>\u6211\u4eec\u8bbe\u8ba1\u7684\u8868\uff0c\u6027\u80fd\u7a76\u7adf\u600e\u4e48\u6837\uff1f</p> <p>\u8ba9\u6211\u4eec\u5148\u5206\u522b\u5b58\u5165 100 \u4e07\u6761\u30011000 \u4e07\u6761\u548c 1 \u4ebf\u6761\u6570\u636e\uff0c\u5e76\u4e14\u5206\u522b\u8ba1\u7b97\u63d2\u5165\u65f6\u95f4\u548c\u67e5\u8be2\u65f6\u95f4\u3002\u5728\u51c6\u5907\u6570\u636e\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u5168\u968f\u673a\u7684\u6570\u636e\uff0c\u8fd9\u70b9\u5f88\u91cd\u8981\u3002\u5982\u679c\u6211\u4eec\u90fd\u4f7f\u7528\u76f8\u540c\u7684\u6570\u636e\uff0c\u90a3\u4e48\u901f\u5ea6\u4f1a\u5feb\u4e00\u4e9b\u3002</p> <ul> <li>\u5199\u5165 1 \u767e\u4e07\u6761\u6570\u636e\uff0c\u7528\u65f6 8.3 \u79d2\uff0c\u67e5\u8be2\u7ed3\u679c\u4e3a 200 \u884c\u65f6\uff0c\u7528\u65f6 0.1 \u79d2\u3002</li> <li>\u5199\u5165 1 \u5343\u4e07\u6761\u6570\u636e\uff0c\u7528\u65f6 77.7 \u79d2\uff0c\u67e5\u8be2\u7ed3\u679c\u4e3a 2000 \u884c\u65f6\uff0c\u7528\u65f6 0.7 \u79d2\u3002</li> <li>\u5199\u5165 1 \u4ebf\u6761\u6570\u636e\uff0c\u7528\u65f6 16 \u5206\u949f\u5de6\u53f3\uff0c\u67e5\u8be2\u7ed3\u679c\u4e3a 20200 \u884c\u65f6\uff0c\u7528\u65f6 13.7 \u79d2\u3002</li> </ul> <p>\u8fd9\u4e2a\u7ed3\u679c\u5df2\u7ecf\u5f88\u4f18\u79c0\u4e86\u3002\u4f46\u8fd8\u770b\u4e0a\u53bb\u5e76\u6ca1\u6709\u8d85\u51fa\u9884\u671f\uff0c\u5bf9\u5427\uff1f\u4f5c\u4e3a\u5bf9\u6bd4\uff0c\u6211\u4eec\u5728 influxdb \u4e0a\uff0c\u8fd4\u56de 100 \u4e07\u6761\u8bb0\u5f55\u65f6\uff0c\u82b1\u8d39 55 \u79d2\u5de6\u53f3\uff0c\u5176\u4e2d\u7f51\u7edc\u4f20\u8f93\u548c\u5ba2\u6237\u7aef\u91cd\u65b0\u7ec4\u88c5\u6570\u636e\u5360\u7ea6 30 \u79d2\uff09\uff0c\u8fd9\u6837\u770b\u6765\uff0cclickhouse\u5728\u8fd9\u4e00\u5c40\u5f88\u53ef\u80fd\u8fd8\u6ca1\u6709\u8d85\u8fc7influxdb\u3002\u53e6\u5916\uff0c\u5728 1000 \u4e07\u7ea7\u522b\u4e0b\uff0c\u4f18\u5316\u5230\u6781\u81f4\u7684 mysql \u4e5f\u80fd\u505a\u52300.7\u79d2\u4ee5\u5185\u7684\u67e5\u8be2\uff0c\u4e0d\u8fc7\u5b83\u5904\u7406\u4e0d\u4e86\u4e0a\u4ebf\u6761\u6570\u636e\u3002</p> <p>\u4e3a\u4ec0\u4e48\u6ca1\u6709\u60ca\u559c\uff1f\u6211\u53bb\u770b\u4e86\u4e00\u4e0b\u6211\u7684\u6d4b\u8bd5\u73af\u5883\uff1a</p> <p>\u4e00\u4e2a\u53ea\u6709 8CPU,8GB \u7684\u865a\u62df\u673a\uff08\u5f53\u7136\u5e95\u5c42\u662f\u78c1\u76d8\u9635\u5217\uff09\uff0c\u5e76\u4e14\u6211\u5df2\u7ecf\u5f00\u4e86 4 \u4e2a vscode \u7a97\u53e3\uff0c\u8fd9\u6837\u7cfb\u7edf\u53ea\u5269\u4e0b0.6GB\u7684\u81ea\u7531\u5185\u5b58\u3002\u6211\u4eec\u6d4b\u8bd5Influxdb\u65f6\uff0c\u4f7f\u7528\u7684\u662f\u7269\u7406\u673a\uff0c48CPU+96GB\u5185\u5b58\uff0c\u603b\u8bb0\u5f55\u662f30\u591a\u4ebf\u6761\u3002</p> <p>\u6539\u5929\u518d\u627e\u673a\u4f1a\u5728\u540c\u6837\u7684\u73af\u5883\u4e0b\u8fdb\u884c\u5bf9\u6bd4\u6d4b\u8bd5\u3002\u4e0d\u8fc7\uff0cclickhouse \u5458\u5de5\u5df2\u7ecf\u5728\u7c7b\u4f3c\u7684\u884c\u60c5\u6570\u636e\u5e93\u4e0a\u8fdb\u884c\u4e86\u6d4b\u8bd5\uff1a</p> <p>\u5728\u4e00\u53f0 macbook pro \u4e0a\uff0c\u5728 2.4 \u4ebf\u6761\u8bb0\u5f55\u4e2d\uff0c\u8fdb\u884c argmax \u7684\u67e5\u8be2\uff0c\u53ea\u7528\u4e86 0.9 \u79d2\uff01\u8fd9\u4e2a\u901f\u5ea6\u867d\u7136\u4e0d\u591f\u8dd1\u9ad8\u9891\uff0c\u4f46\u5df2\u8db3\u591f\u591a\u6570\u573a\u666f\u4e0b\u4f7f\u7528\u4e86\u3002</p> <p>\u4e0d\u8fc7\uff0cclickhouse \u7684\u6d4b\u8bd5\u4e0e\u6211\u4eec\u7684\u6d4b\u8bd5\u6709\u5f88\u5927\u5dee\u522b\uff1a</p> <p>\u5728 clickhouse \u7684\u6d4b\u8bd5\u4e2d\uff0c\u5b83\u8fd4\u56de\u7684\u6570\u636e\u91cf\u5f88\u5c0f\uff1b\u800c\u5728\u6211\u4eec\u7684\u6d4b\u8bd5\u4e2d\uff0c\u8981\u6c42\u67e5\u8be2\u8fd4\u56de\u4e86 2 \u4e07\u6761\u6570\u636e\u3002</p> <p>\u8fd9\u662f\u53e6\u4e00\u4e2a\u4f18\u5316\u65b9\u5411\u3002\u628a\u80fd\u505a\u7684\u4e8b\u60c5\u653e\u5230 clickhouse server \u7aef\u505a\u3002\u4e5f\u5c31\u662f\uff0c\u5f88\u591a\u56e0\u5b50\u7684\u8ba1\u7b97\uff0c\u4e4b\u524d\u6211\u4eec\u9700\u8981\u53d6\u6570\u636e\u56de python \u7aef\u518d\u8ba1\u7b97\u7684\uff0c\u73b0\u5728\u5982\u679c\u6709\u53ef\u80fd\uff0c\u76f4\u63a5\u8ba9 clickhouse \u6765\u505a\uff0c\u6211\u4eec\u53ea\u8981\u7ed3\u679c\u3002</p> <p>\u8fd9\u662f\u6211\u4eec\u540e\u7eed\u7b14\u8bb0\u8981\u53d1\u8868\u7684\u5185\u5bb9\u3002</p>","tags":["clickhouse","\u91cf\u5316\u6570\u636e\u5b58\u50a8"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/","title":"QMT/XtQuant \u4e4b\u5f00\u53d1\u73af\u5883\u7bc7","text":"<p>Tip</p> <ol> <li>XtQuant \u83b7\u53d6\u53ca\u5b89\u88c5</li> <li>XtQuant \u5de5\u4f5c\u539f\u7406 \uff08\u56fe2\uff09</li> <li>\u7248\u672c\u548c\u6587\u6863\u4e00\u81f4\u6027\u95ee\u9898 \uff08\u56fe3\uff09</li> <li>\u4f7f\u7528 VsCode \u8fdc\u7a0b\u5f00\u53d1</li> </ol>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#_1","title":"\u83b7\u53d6\u53ca\u5b89\u88c5","text":"<p>XtQuant \u662f\u53ef\u4ee5\u8131\u79bb QMT \u8fd0\u884c\u7684\u884c\u60c5\u548c\u4ea4\u6613\u63a5\u53e3\u5e93\uff0c\u5373\u53f3\u56fe\u4e2d\u5bf9\u5e94\u7684\u201c\u539f\u751f Python\u201d\u6982\u5ff5\u3002\u5b83\u6ca1\u6709 wheels \u683c\u5f0f\u7684\u5b89\u88c5\u5305\uff0c\u8981\u5b89\u88c5\u5b83\uff0c\u6211\u4eec\u8981\u5230\u8fc5\u6295\u7684\u5b98\u7f51\u4e0a \u4e0b\u8f7d \u6e90\u4ee3\u7801\u5305\u3002XtQuant \u4f7f\u7528\u4e86\u6253\u5305\u65e5\u671f\u6765\u6807\u8bc6\u7248\u672c\u3002</p> <p></p> <p>\u4e0b\u8f7d\u4e0b\u6765\u7684\u662f\u4e00\u4e2a zip \u5305\uff0c\u91cc\u9762\u6709\u4e00\u4e9b python \u6587\u7ae0\u548c windows dll \u6587\u4ef6\u3002\u5b83\u80fd\u652f\u6301\u4ece 3.8 \u5230 3.11 \u7684\u5404\u79cd\u7248\u672c\uff0c\u8fd9\u4e00\u70b9\u76f8\u5bf9\u4e8e\u5176\u5b83\u4ea7\u54c1\uff0c\u662f\u6709\u4e00\u5b9a\u4f18\u52bf\u7684\u5730\u65b9\u3002XtQuant \u6587\u6863\u4e2d\u6697\u793a\u5b83\u53ef\u4ee5\u5b89\u88c5\u5728 Linux \u4e0a\uff0c\u4f46\u6ca1\u6709\u8db3\u591f\u7684\u6587\u6863\u548c\u7528\u4f8b\uff0c\u6240\u4ee5\u5efa\u8bae\u6682\u65f6\u4e0d\u8981\u5c1d\u8bd5\u8fd9\u79cd\u65b9\u5f0f\u3002</p> <p>\u6211\u4eec\u7684\u5efa\u8bae\u662f\uff0c\u5c31\u4e0e QMT \u5b89\u88c5\u5728\u540c\u4e00\u53f0 Windows \u673a\u5668\u4e0a\uff0c\u4f46\u8981\u5148\u521b\u5efa\u865a\u62df\u73af\u5883\u3002</p> <p>\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u65b9\u5f0f\u662f\u901a\u8fc7 Conda\uff08\u5047\u5b9a\u865a\u62df\u73af\u5883\u540d\u4e3a myquant)</p> <pre><code>conda create -n myquant python=3.10\n</code></pre> <p>\u521b\u5efa\u597d\u865a\u62df\u73af\u5883\u4e4b\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u627e\u5230 site-packages \u76ee\u5f55\uff1a</p> <pre><code>conda run -n myquant python -m site\n</code></pre> <p>\u5982\u679c\u4f60\u8981\u8fdb\u4e00\u6b65\u5b66\u4e60 Conda \u547d\u4ee4\uff0c\u53ef\u4ee5\u9605\u8bfb \u300aPython \u80fd\u505a\u5927\u9879\u76ee\u300b \u8fd9\u672c\u4e66\u3002\u4e0a\u9762\u7684\u547d\u4ee4\u5c06\u8f93\u51fa\uff1a</p> <pre><code>D:\\\\conda\\\\envs\\\\myquant\\\\lib\\\\site-packages\n</code></pre> <p>\u73b0\u5728\uff0c\u628a\u89e3\u538b\u7f29\u540e\u7684\u5305\u62f7\u8d1d\u5230 site-packages \u76ee\u5f55\u4e0b\uff0c\u5b89\u88c5\u5c31\u5b8c\u6210\u4e86\u3002\u6ce8\u610f\u76ee\u5f55\u540d\u4e3a xtquant\uff0c\u8be5\u76ee\u5f55\u4e0b\u5e94\u8be5\u6709\u4e00\u4e2a\u540d\u4e3a__init__.py \u7684\u6587\u4ef6\u3002\u5982\u679c\u4e0d\u662f\u8fd9\u6837\uff0c\u90a3\u4e48\u4f60\u89e3\u538b\u7f29\u65f6\u505a\u9519\u4e86\u3002</p>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#xtquant","title":"XtQuant \u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u4ec5\u4ec5\u4ece\u8fc5\u6295\u5b98\u7f51\u4e0b\u8f7d XtQuant \u5e76\u5b89\u88c5\uff0c\u662f\u65e0\u6cd5\u8ba9 XtQuant \u6b63\u5e38\u5de5\u4f5c\u7684\u3002</p> <p>XtQuant \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4ee3\u7406\uff0c\u5b83\u9700\u8981\u4e0e QMT \u5ba2\u6237\u7aef\u5408\u4f5c\uff0c\u624d\u80fd\u5b8c\u6210\u6570\u636e\u4e0b\u8f7d\u4e0e\u4ea4\u6613\u3002\u5728\u8c03\u7528 XtQuant \u7684 API \u65f6\uff0cXtQuant \u4f1a\u521b\u5efa\u4e0e Qmt \u7684 socket \u901a\u8baf\uff0c\u628a\u7528\u6237\u8bf7\u6c42\u8f6c\u53d1\u7ed9 Qmt \u6765\u5b8c\u6210\u3002Qmt \u8f6f\u4ef6\u5728\u7f51\u4e0a\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u4f60\u5fc5\u987b\u627e\u4e00\u4e2a\u5238\u5546\u5f00\u8bbe\u8d26\u6237\uff0c\u7136\u540e\u624d\u80fd\u4ece\u5ba2\u670d\u5904\u62ff\u5230\u8f6f\u4ef6\u3002</p> <p>\u5b89\u88c5 Qmt \u540e\uff0c\u5fc5\u987b\u4fdd\u8bc1 Qmt \u6216\u8005 Qmt-mini \u59cb\u7ec8\u5728\u7ebf\u3002\u5426\u5219\uff0cXtQuant \u4e5f\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002</p>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#_2","title":"\u7248\u672c\u548c\u6587\u6863\u4e00\u81f4\u6027\u95ee\u9898","text":"","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#qmt-xtquant","title":"\u8fc5\u6295\u662f\u8f6f\u4ef6\u5f00\u53d1\u5546\uff0c\u6700\u7ec8\u4e3a\u6211\u4eec\u63d0\u4f9b\u670d\u52a1\u7684\uff0c\u662f\u91c7\u8d2d\u4e86 QMT \u53ca XtQuant","text":"<p>\u7684\u5238\u5546\u3002\u53ef\u80fd\u56e0\u4e3a\u8fd9\u79cd\u539f\u56e0\uff0c\u5bfc\u81f4\u6211\u4eec\u4ece\u8fc5\u6295\u5b98\u7f51\u4e0a\u4e0b\u8f7d\u7684 XtQuant \u7248\u672c\uff0c\u5238\u5546\u670d\u52a1\u7aef\u8fd8\u6ca1\u5347\u7ea7\uff0c\u56e0\u6b64\uff0c\u6587\u6863\u91cc\u63d0\u5230\u7684\u65b0\u529f\u80fd\u548c bug \u4fee\u590d\uff0c\u6682\u65f6\u4ecd\u7136\u4e0d\u53ef\u7528\u3002</p> <p>\u6bd4\u5982\uff0c\u5728 20231209 \u8fd9\u4e2a\u7248\u672c\u4e2d\uff0c\u589e\u52a0\u4e86 get_etf_info \u53ca\u83b7\u53d6\u5386\u53f2\u6da8\u8dcc\u505c\u6570\u636e\u3002\u4f46\u622a\u6b62 12 \u6708 20 \u65e5\uff0c\u6709\u7684\u5238\u5546\u7684\u5ba2\u6237\u8fd8\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e9b\u65b0\u7684\u63a5\u53e3\u3002\u5982\u679c\u4f60\u8c03\u7528\u8fd9\u4e9b API\uff0c\u4f1a\u629b\u51fa\"function not realize\"\u7684\u9519\u8bef\u3002</p>","tags":["quantlib"]},{"location":"blog/2023/12/22/how-to-setup-xtquatn-development-env/#vscode","title":"\u4f7f\u7528 VsCode \u8fdc\u7a0b\u5f00\u53d1","text":"<p>\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f Windows \u505a\u5f00\u53d1\u673a\uff0c\u53ef\u4ee5\u4e0d\u770b\u8fd9\u4e00\u90e8\u5206\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684</p> <p></p> <p>\u662f Linux \u6216\u8005 Mac \u4f5c\u4e3a\u5f00\u53d1\u673a\uff0c\u662f\u53ef\u4ee5\u4e0d\u8fdc\u7a0b\u767b\u5f55\u5230\u5b89\u88c5 QMT \u7684 windows \u673a\u5668\uff0c\u800c\u76f4\u63a5\u5728\u672c\u5730\u673a\u5668\u4e0a\u8fdb\u884c\u5f00\u53d1\u7684\u3002</p> <p>\u57fa\u672c\u6b65\u9aa4\u662f\uff1a</p> <ol> <li>\u5728 windows \u4e0a\u5b89\u88c5 openssh server\u3002\u4e5f\u6709\u53ef\u80fd\u60a8\u7684\u673a\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\u8fc7\u4e86</li> <li>\u5728 vscode \u4e2d\uff0c\u70b9\u51fb Remote Explorer</li> <li>\u5982\u6807\u53f7 2 \u6240\u793a\uff0c\u70b9\u51fb\u6dfb\u52a0\u8fdc\u7a0b windows \u673a\u5668\u3002</li> <li>\u6b64\u540e\u7684\u6bcf\u6b21\u8fde\u63a5\u90fd\u9700\u8981\u8f93\u5165\u5bc6\u7801\u3002\u60a8\u4e5f\u53ef\u4ee5\u8bbe\u7f6e\u901a\u8fc7\u5bc6\u94a5\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u5b9e\u73b0\u514d\u5bc6\u767b\u5f55\uff0c\u53ef\u4ee5\u53c2\u8003 \u5fae\u8f6f\u5b98\u65b9\u6587\u6863</li> </ol>","tags":["quantlib"]},{"location":"blog/2023/12/29/connor-rsi-the-best/","title":"\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0","text":"<p>\u5982\u679c\u8bf4\u5728\u591a\u56e0\u5b50\u65f6\u4ee3\uff0c\u6211\u4eec\u53ef\u4ee5\u4ec5\u51ed\u4e00\u4e2a\u56e0\u5b50\u5c31\u6784\u5efa\u51fa\u7b56\u7565\uff0c\u5e76\u4e14\u8fd8\u5f88\u6709\u53ef\u80fd\u8dd1\u8d62\u5e02\u573a\u7684\u8bdd\uff0c\u8fd9\u4e2a\u56e0\u5b50\u5c31\u662f\u4e0d\u4e8c\u4e4b\u9009\u3002</p> <p>\u8fd9\u4e2a\u56e0\u5b50\u5c31\u662f Connor's RSI\u3002\u5b83\u88ab Nirvana Systems \u79f0\u4f5c\u7ec8\u6781\u6280\u672f\u6307\u6807\u3002\u6211\u6df1\u6df1\u5730\u8d5e\u540c\u8fd9\u4e00\u70b9\u3002Nirvana Systems \u5728\u5b83\u7684\u7f51\u7ad9\u4e0a\u53d1\u5e03\u4e86\u5173\u4e8e\u5982\u4f55\u751f\u6210\u548c\u4f7f\u7528\u8fd9\u4e00\u6307\u6807\u7684\u6587\u7ae0\u3002\u8457\u540d\u7684\u56de\u6d4b\u6846\u67b6 backtrader \u53ca\u548c\u7b56\u7565\u5e73\u53f0 TradingView \u90fd\u5185\u7f6e\u4e86\u8fd9\u4e00\u6307\u6807\u3002</p> <p>!!! tip \u5899\u88c2\u63a8\u8350\uff01     \u672c\u6587\u6700\u521d\u53d1\u8868\u4e8e\u67d0\u4e4e\uff0c\u4e00\u5468\u5185\u6536\u83b7\u8d85 800 \u6b21\u8d5e\u85cf\u3002\u6211\u4eec\u7279\u522b\u5c06\u5176\u9009\u5f55\u4e3a\u5c0f\u7ea2\u4e66\u5e74\u5ea6\u6536\u5b98\u4e4b\u4f5c\uff0c\u5185\u5bb9\u4e30\u5bcc\uff0c\u5efa\u8bae\u8d5e\u85cf\u4ee5\u5907\u4eca\u540e\u9605\u8bfb\u3002</p> <p>\u4e3a\u4ec0\u4e48 Conners RSI \u88ab\u79f0\u4e3a\u7ec8\u6781\u6280\u672f\u6307\u6807\uff0c\u5b83\u6709\u54ea\u4e9b\u4f18\u52bf\uff1f\u6210\u529f\u80cc\u540e\u7684\u539f\u7406\u662f\u4ec0\u4e48\uff0c\u53c8\u8be5\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e00\u6307\u6807\u5462\uff1f</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi","title":"\u5982\u4f55\u6784\u5efa Connor's RSI","text":"<p>Conners RSI \u662f\u5728\u6807\u51c6 RSI \u7684\u57fa\u7840\u4e0a\uff0c\u6df7\u5408\u4e86\u53e6\u5916\u4e24\u4e2a\u6307\u6807\u5f97\u5230\u7684\u3002</p> <p>\u7b2c\u4e00\u4e2a\u6307\u6807\u5c31\u662f Streaks\u3002\u5b83\u662f\u7edf\u8ba1\u8fde\u7eed\u4e0a\u6da8\u6216\u8005\u4e0b\u8dcc\u7684\u5468\u671f\u6570\uff0c\u5c06\u4e0a\u6da8\u4e0e\u4e0b\u8dcc\u7684\u5468\u671f\u6570\u4e4b\u6bd4\u6765\u6c42\u5f97\u7684 RSI\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5982\u4f55\u8ba1\u7b97 Streaks \u6307\u6807\uff1a</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#1-2-3-4-5-6-7-8-9-10-11-12-13-14-15-16-17-numpy-def-streaksclose-result-conds-close1close-1-close1close-1-flags-npselectconds-1-1-0-find_runs-v-_-l-find_runsflags-for-i-in-rangelenv-if-vi-0-resultextend0-li-else-resultextendvi-x-for-x-in-range1-li-1-return-npinsertresult-0-0","title":"<pre><code># \u672c\u6bb5\u4ee3\u7801\u4f7f\u7528\u4e86\u8f83\u5f3a\u7684 NUMPY \u6280\u5de7\uff0c\u5efa\u8bae\u53cd\u590d\u7814\u8bfb\ndef streaks(close):\n    result = []\n    conds = [close[1:]&gt;close[:-1], close[1:]&lt;close[:-1]]\n\n    flags = np.select(conds, [1,-1], 0)\n\n    # FIND_RUNS \u51fd\u6570\u6765\u81ea\u5927\u5bcc\u7fc1\u91cf\u5316\u6846\u67b6\u3002\u5b83\u7684\u4f5c\u7528\u662f\u5212\u5206\u6570\u7ec4\u4e2d\n    # \u8fde\u7eed\u51fa\u73b0\u7684\u76f8\u540c\u503c\u3002\u662f\u91cf\u5316\u4e2d\u975e\u5e38\u57fa\u7840\u7684\u4e00\u4e2a\u51fd\u6570\u3002\n    v, _, l = find_runs(flags)\n    for i in range(len(v)):\n        if v[i] == 0:\n            result.extend([0] * l[i])\n        else:\n            result.extend([v[i] * x for x in range(1, (l[i] + 1))])\n\n    return np.insert(result, 0, 0)\n</code></pre>","text":"<p>\u4e0b\u56fe\u663e\u793a\u4e86\u6bcf\u65e5\u6536\u76d8\u4ef7\uff0c\u53ca\u7531\u6b64\u8ba1\u7b97\u7684 streaks \u6307\u6807\uff1a</p> <p></p> <p>\u7b2c\u4e8c\u4e2a\u6307\u6807\u5c31\u662f\u5f53\u65e5\u7684\u6da8\u8dcc\u5e45\uff0c\u5728\u8fc7\u53bb\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u7684\u6da8\u8dcc\u5e45\u4e2d\u7684\u6392\u540d\u3002percent_rank \u662f\u4e00\u4e2a\u5e38\u7528\u7684\u7edf\u8ba1\u51fd\u6570\uff0c\u5728 pandas \u4e2d\u5c31\u6709\u5b9e\u73b0\u3002\u8fd9\u91cc\u6211\u4eec\u7ed9\u51fa\u5b83\u7684 numpy \u5b9e\u73b0\uff1a</p> <pre><code>def percent_rank(close):\n    roc = close[1:]/close[:-1] - 1\n    return np.array([sum(roc[i + 1 - self.prank:i + 1] &lt; roc[i]) / self.prank for i in range(len(roc))]) * 100\n</code></pre> <p>\u8fd9\u4e24\u4e2a\u6307\u6807\u52a0\u4e0a\u7ecf\u5178 RSI\uff0c\u5c31\u5408\u6210\u4e86 Conners RSI:</p> \\[ CRSI = [RSI(6) + RSI(Streak, 2) + PercentRank(20)] / 3 \\]","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi_1","title":"\u4e3a\u4ec0\u4e48 Connor's RSI \u5e94\u8be5\u66f4\u6709\u6548\uff1f","text":"<p>\u6211\u4eec\u5148\u770b Streak \u6307\u6807\u3002\u7ecf\u5178\u7684 RSI \u662f\u5173\u4e8e\u7d2f\u79ef\u4e0a\u6da8\u5e45\u5ea6\u4e0e\u7d2f\u79ef\u6ce2\u52a8\u5e45\u5ea6\uff08\u7edd\u5bf9\u503c\uff09\u7684\u4e00\u4e2a\u5206\u6570\uff0c\u662f\u5b9a\u91cf\u7684\u5206\u6790\u3002Streak \u5219\u628a\u4e0a\u6da8\u4e0e\u4e0b\u8dcc\u8fdb\u884c\u4e86\u4e8c\u503c\u5316\uff0c\u5b83\u76f8\u5f53\u4e8e\u662f\u5b9a\u6027\u7684\u5206\u6790\u3002\u589e\u52a0\u8fd9\u6837\u4e00\u4e2a\u6307\u6807\uff0c\u610f\u4e49\u4f55\u5728\u5462\uff1f</p> <p></p> <p>\u6211\u4eec\u77e5\u9053\uff0c\u4ece\u6982\u7387\u4e0a\u8bb2\uff0c\u80a1\u7968\u8fde\u6da8\u5468\u671f\u6570\u8d8a\u957f\uff0c\u5219\u8d8a\u53ef\u80fd\u53cd\u751f\u53cd\u8f6c\uff08\u5373\u4e0b\u8dcc\uff09\uff1b\u53cd\u4e4b\u4ea6\u7136\u3002\u5927\u5bb6\u53ef\u4ee5\u6309\u7167\u6211\u4eec\u5728\u300a\u6570\u636e\u5206\u6790\u4e0e Python \u5b9e\u73b0\u300b\u90a3\u51e0\u8282\u8bfe\u4e2d\uff0c\u4ecb\u7ecd\u7684 PDF/CDF \u7684\u65b9\u6cd5\uff0c\u6765\u81ea\u884c\u4f30\u8ba1\u5f53\u67d0\u4e2a\u6807\u7684\u8fde\u7eed\u4e0a\u6da8 N \u5929\u540e\uff0c\u63a5\u4e0b\u6765\u7ee7\u7eed\u4e0a\u6da8\u7684\u6982\u7387\u6709\u591a\u5927\u3002</p> <p>\u63d0\u793a\uff1a\u4f60\u4e5f\u53ef\u4ee5\u628a\u8fd9\u4e2a\u95ee\u9898\u5f53\u6210\u4e00\u4e2a\u6b63\u6001\u5206\u5e03\u6765\u76f4\u63a5\u6c42\u4e00\u4e2a\u7406\u8bba\u4e0a\u7684\u89e3\u7b54\u3002\u5bf9\u4e00\u4e2a\u4e8c\u503c\u5206\u5e03\u7684\u591a\u6b21\u5b9e\u9a8c\uff0c\u5b83\u4eec\u7684\u7d2f\u79ef\u5206\u5e03\u6b63\u597d\u662f\u4e00\u4e2a\u6b63\u6001\u5206\u5e03\u3002\u5173\u4e8e\u8fd9\u4e00\u70b9\uff0c\u53ef\u4ee5\u53c2\u770b Galton Board\u3002</p> <p>\u6240\u4ee5\uff0cStreak \u662f\u4ece\u53e6\u4e00\u4e2a\u89d2\u5ea6\uff0c\u4f46\u4ecd\u7136\u662f\u7528\u6982\u7387\u5206\u6790\u7684\u65b9\u6cd5\uff0c\u6765\u6355\u6349\u7ecf\u5178 RSI \u6240\u4e0d\u80fd\u6355\u6349\u7684\u4e00\u4e9b conner case!</p> <p>\u540c\u6837\u5730\uff0cPercentRank \u4ece\u53e6\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u63cf\u7ed8\u4e86\u5f53\u524d\u5e02\u573a\u7684\u5f3a\u5f31\u3002\u5982\u679c\u5728\u8fc7\u53bb 20 \u5929\u5185\uff0c\u53ea\u6709 3 \u5929\u7684\u6da8\u5e45\u4f4e\u4e8e\u4eca\u5929\uff0c\u90a3\u4e48\u4eca\u5929\u7684\u76f8\u5bf9\u5f3a\u5f31\u5c31\u662f 15%\uff0c\u6b21\u65e5\u4e0a\u6da8\u7684\u53ef\u80fd\u6027\u5927\uff1b\u5982\u679c 17 \u5929\u7684\u6da8\u5e45\u4f4e\u4e8e\u4eca\u5929\uff0c\u90a3\u4e48\u4eca\u5929\u7684\u76f8\u5bf9\u5f3a\u5f31\u5c31\u662f 85%\uff0c\u6b21\u65e5\u4e0b\u8dcc\u7684\u53ef\u80fd\u6027\u53d8\u5927\u3002</p> <p>\u5982\u679c\u4f60\u5bf9 K \u7ebf\u548c\u6ce2\u6d6a\u7406\u8bba\u6bd4\u8f83\u719f\u6089\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u5927\u6da8\u610f\u5473\u7740\u884c\u60c5\u52a0\u901f\u8d76\u9876\uff1b\u5927\u8dcc\u5219\u662f\u884c\u60c5\u52a0\u901f\u8d76\u5e95\uff0c\u540e\u9762\u8d8b\u52bf\u9006\u8f6c\u662f\u5927\u6982\u7387\u4e8b\u4ef6\u3002\u800c PercentRank \u5219\u662f\u5bf9\u8fd9\u4e2a\u8fc7\u7a0b\u6700\u7b80\u5355\u3001\u4f46\u4ecd\u6709\u4e00\u5b9a\u51c6\u786e\u5ea6\u7684\u523b\u753b\uff01</p> <p>Tip</p> <p>Nirvana Systems \u5f00\u53d1\u4e86\u8fd9\u4e2a\u6307\u6807\uff0c\u4f46 Nirvana Systems \u5e76\u6ca1\u6709\u50cf\u6211\u4eec\u8fd9\u6837\uff0c\u6df1\u5165\u89e3\u6790\u5b83\u80cc\u540e\u7684\u539f\u7406\u3002\u5b9e\u9645\u4e0a\uff0c\u5b83\u65e2\u6709\u6982\u7387\u8bba\u7684\u7406\u8bba\u652f\u6491\uff0c\u4e5f\u80fd\u7528\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u539f\u7406\u8fdb\u884c\u89e3\u91ca\u3002</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi_2","title":"\u5b9e\u6218\u4e2d\u7684 Connor's RSI","text":"<p>\u6211\u4eec\u5148\u662f\u7528\u6700\u8fd1 1000 \u5929\u7684\u6caa\u6307\uff0c\u4f7f\u7528 backtrader \u8fdb\u884c\u4e86\u6d4b\u8bd5\u3002\u56de\u6d4b\u8868\u660e\uff0c\u6700\u8fd1 4 \u5e74\u4ee5\u6765\uff08\u8fd1\u4f3c\u4e8e 1000 \u4e2a\u4ea4\u6613\u65e5\uff09\uff0c\u6caa\u6307\u4ec5\u4e0a\u6da8 5.76%\uff0c\u4f46\u901a\u8fc7 cornner's RSI \u7b56\u7565\u6284\u5e95\u9003\u9876\uff0c\u6211\u4eec\u5728\u6307\u6570\u4e0a\u7adf\u7136\u83b7\u5f97\u8d85\u8fc7 44%\u7684\u6536\u76ca\u3002\u5982\u679c\u662f\u5bf9\u4e2a\u80a1\u8fdb\u884c\u64cd\u4f5c\uff0c\u6536\u76ca\u5f88\u53ef\u80fd\u662f\u6570\u500d\u3002</p> <p>\u8fd9\u6bb5\u65f6\u95f4\u6caa\u6307\u662f\u4e0a\u6da8\u7684\uff0c\u4f60\u53ef\u80fd\u6000\u7591\uff0c\u4e5f\u8bb8Cornnor's RSI\u7684\u6210\u529f\u53ea\u662f\u5076\u7136\u3002</p> <p>\u5982\u679c\u6211\u4eec\u968f\u673a\u76f2\u9009\uff0c\u9009\u4e2d\u4e86\u6781\u7aef\u4e0d\u597d\u7684\u884c\u60c5\uff0cConnor's RSI \u53c8\u5c06\u8868\u73b0\u5982\u4f55\uff1f</p> <p>\u8fd1\u4e24\u5e74\u6765\u6052\u751f\u6307\u6570\u5c31\u5b9b\u5982\u4e0b\u8dcc\u7684\u98de\u5200\uff0c\u6ca1\u6709\u6bd4\u8fd9\u66f4\u597d\u7684\u4f8b\u5b50\u4e86\uff1a</p> <p> \u56fe\u7247\u6765\u6e90\uff1awww.taindicators.com</p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u6700\u597d\u4e0d\u8981\u53bb\u63a5\u4e0b\u8dcc\u4e2d\u7684\u98de\u5200\u3002\u4f46\u4ece\u4ed6\u4eba\u7684\u56de\u6d4b\u6765\u770b\uff0cConnor's RSI \u8fd8\u662f\u80fd\u6293\u4f4f\u5176\u4e2d\u7684\u4e00\u4e9b\u53cd\u5f39\uff0c\u800c\u8eb2\u8fc7\u4e00\u4e9b\u4e0b\u8dcc\uff0c\u603b\u4f53\u4e0a\u770b\uff0c\u8981\u6bd4\u6307\u6570\u5f3a\u4e0d\u5c11\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u81ea\u5df1\u7684\u91cf\u5316\u6846\u67b6\u968f\u673a\u9009\u62e9\u4e86\u4e00\u4e9b\u4e2a\u80a1\u8fdb\u884c\u56de\u6d4b\uff1a</p> <p></p> <p>\u8fd9\u652f\u4e2a\u80a1\u8fd1\u4e00\u5e74\u6765\u4e00\u76f4\u5728\u6a2a\u76d8\u3002buy-and-hold \u7b56\u7565\u8868\u660e\u5176\u6536\u76ca\u4ec5\u4e3a 2.26%\uff0c\u4f46\u4f7f\u7528 Connor's RSI\uff0c\u6536\u76ca\u8fbe\u5230 12.14%\uff0c\u80dc\u7387\u5219\u662f 100%\u3002</p> <p>\u6211\u4eec\u4ece 2019 \u5e74 1 \u6708 25 \u65e5\u5230 2023 \u5e74 11 \u6708 14 \u65e5\u671f\u95f4\u8fdb\u884c\u56de\u6d4b\u3002\u533a\u95f4\u5185\u4e2a\u80a1\u5168\u7a0b\u6a2a\u76d8\uff0c\u4f46 Connor's RSI \u83b7\u5f97\u4e86 157.92%\u7684\u5229\u6da6\u7387\uff0c\u80dc\u7387\u4e5f\u8fbe\u5230 80.77%\uff0c\u53ef\u8c13\u51fa\u624b\u4fbf\u6709\u3002\u53e6\u5916\uff0c\u5b83\u4ec5\u4ec5\u4ea4\u6613 26 \u6b21\uff0c\u8fd8\u6709\u76f8\u5f53\u591a\u7684\u65f6\u95f4\u662f\u7a7a\u4ed3\uff0c\u6240\u4ee5\uff0c\u8fd9\u6bb5\u65f6\u95f4\u7684\u8d44\u91d1\u8fd8\u53ef\u4ee5\u5206\u914d\u5230\u5176\u5b83\u6807\u7684\u4e0a\uff0c\u4ece\u800c\u6709\u53ef\u80fd\u8fbe\u5230\u66f4\u597d\u7684\u6536\u76ca\u3002</p> <p>\u6570\u636e\u57fa\u4e8e\u5386\u53f2\uff0c\u4ec5\u4e3a\u6f14\u793a\u6307\u6807\u7528\u6cd5\uff0c\u8bf7\u52ff\u636e\u6b64\u64cd\u4f5c</p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/29/connor-rsi-the-best/#connors-rsi_3","title":"\u5173\u4e8e Connor's RSI \u7684\u66f4\u6df1\u5165\u601d\u8003","text":"<p>Connor's RSI \u662f\u4e00\u4e2a\u5929\u624d\u7684\u53d1\u73b0\uff0c\u5145\u5206\u53cd\u6620\u4e86\u6982\u7387\u8bba\u548c\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u4e00\u4e9b\u539f\u7406\u3002\u4f46\u7531\u4e8e\u6280\u672f\u5b9e\u73b0\u4e0a\u7684\u9650\u5236\uff0c\u5b83\u7684\u6f5c\u529b\u6ca1\u6709\u5b8c\u5168\u91ca\u653e\u3002 wg</p> <p>Connor's RSI \u5c06\u4e09\u4e2a\u7ef4\u5ea6\u7684\u6570\u636e\uff0c\u8fdb\u884c\u4e86\u7b49\u6743\u91cd\u7684\u5e73\u5747\u3002\u5728\u4f20\u7edf\u7684\u591a\u56e0\u5b50\u5206\u6790\u65b9\u6cd5\u4e2d\uff0c\u7ebf\u6027\u56de\u5f52\u662f\u8fd0\u7528\u7684\u6700\u591a\u7684\u6280\u672f\uff0cConnor's RSI \u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u7ebf\u6027\u56de\u5f52\u3002\u8fd9\u4e5f\u662f\u4f20\u7edf\u91d1\u878d\u754c\u6240\u719f\u6089\u7684\u65b9\u6cd5\u3002</p> <p>\u5728\u5f53\u5e74\uff0c\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u8fd8\u6ca1\u6709\u88ab\u91d1\u878d\u754c\u6240\u4e86\u89e3\u3002\u4f46\u4eca\u5929\uff0c\u53ef\u80fd\u5f88\u591a\u4eba\u90fd\u610f\u8bc6\u5230\uff0cConnor's RSI \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4e09\u56e0\u5b50\u7ec4\u5408\uff0c\u53ef\u4ee5\u901a\u8fc7\u673a\u5668\u5b66\u4e60\uff0c\u6765\u523b\u753b\u4e09\u4e2a\u56e0\u5b50\u4e4b\u95f4\u76f8\u4e92\u4f5c\u7528\u3001\u76f8\u4e92\u5f25\u8865\u7684\u590d\u6742\u5173\u7cfb\u3002</p> <p>Nirvana Systems \u5bf9 RSI \u7684\u62d3\u5c55\uff0c\u4e5f\u53cd\u6620\u4e86\u6211\u4eec\u5e94\u8be5\u5982\u4f55\u5bf9\u5f85\u7ecf\u5178\u7684\u6280\u672f\u6307\u6807\u3002\u6709\u4e00\u4e9b\u7ecf\u5178\u7684\u6307\u6807\uff0c\u6211\u4eec\u4e0d\u5e94\u8be5\u7b80\u5355\u5730\u8ba4\u4e3a\u5b83\u4eec\u597d\u6216\u8005\u4e0d\u597d\uff08\u4f5c\u8005\u4e5f\u66fe\u7ecf\u9677\u5165\u8fc7\u8fd9\u4e2a\u8bef\u533a\uff09\uff0c\u800c\u662f\u5e94\u8be5\u4ee5\u626c\u5f03\u7684\u6001\u5ea6\uff0c\u6df1\u5165\u5206\u6790\u5176\u4f5c\u7528\u673a\u5236\uff0c\u4ee5\u68c0\u9a8c\u5176\u5728\u65b0\u7684\u6280\u672f\u6761\u4ef6\u4e0b\uff0c\u662f\u5426\u80fd\u7115\u53d1\u65b0\u7684\u751f\u673a\u3002\u6bd5\u7adf\uff0c\u4efb\u4f55\u65b0\u7684\u53d1\u73b0\uff0c\u7ec8\u7a76\u53ea\u662f\u5bf9\u7ecf\u5178\u7684\u81f4\u656c\uff01</p> <p>\u53ea\u6709\u5f53\u4f60\u8fdb\u5165\u5230\u8fd9\u4e00\u5c42\u6b21\uff0c\u624d\u7b97\u662f\u771f\u6b63\u6709\u4e86\u72ec\u7acb\u601d\u8003\u80fd\u529b\uff0c\u624d\u80fd\u771f\u6b63\u7b97\u662f\u72ec\u5f53\u4e00\u9762\u7684\u91cf\u5316\u4eba\u3002</p> <p>Quote</p> <p>\u8001\u5175\u4e0d\u6b7b\uff0c\u4ed6\u4eec\u53ea\u662f\u51cb\u96f6\u3002\u81f4\u656c WELLES WILDER \u548c\u4ed6\u7684 RSI\uff01</p> <p></p>","tags":["strategy","\u6280\u672f\u6307\u6807"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/","title":"\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5","text":"","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/#_1","title":"\u4ec0\u4e48\u662f\u9057\u4f20\u7b97\u6cd5\uff1f","text":"<ul> <li>\u9057\u4f20\u7b97\u6cd5\u5229\u7528\u81ea\u7136\u9009\u62e9\u7684\u6982\u5ff5\u6765\u786e\u5b9a\u95ee\u9898\u7684\u6700\u4f73\u89e3\u51b3\u65b9\u6848\u3002</li> <li>\u9057\u4f20\u7b97\u6cd5\u901a\u5e38\u7528\u4f5c\u4f18\u5316\u5668\uff0c\u8c03\u6574\u53c2\u6570\u4f7f\u5f97\u76ee\u6807\u6700\u4f18</li> <li>\u9057\u4f20\u7b97\u6cd5\u53ef\u4ee5\u72ec\u7acb | \u5728\u4eba\u5de5\u795e\u7ecf\u7f51\u7edc\u7684\u6784\u5efa\u4e2d\u4f7f\u7528\u3002</li> </ul> <p>\u6bd4\u5982\uff0c\u4ea4\u6613\u89c4\u5219\u53ef\u80fd\u4f7f\u7528MACD, RSI\u7b49\u6307\u6807\uff0c\u9057\u4f20\u7b97\u6cd5\u5c06\u503c\u8f93\u5165\u5230\u8fd9\u4e9b\u53c2\u6570\u4e2d\uff0c\u4ee5\u5229\u6da6\u6700\u5927\u5316\u4e3a\u76ee\u6807\u3002\u968f\u7740\u65f6\u95f4\u63a8\u79fb\uff0c\u7a81\u53d8\u4ea7\u751f\uff0c\u7a81\u53d8\u4e2d\u6709\u5229\u7684\u5f71\u54cd\u88ab\u4fdd\u7559\u7ed9\u4e0b\u4e00\u4ee3\u3002</p> <p>\u9057\u4f20\u64cd\u4f5c\u5171\u6709\u4e09\u79cd\u7c7b\u578b\uff1a</p> <ol> <li>\u4ea4\u53c9(crossover)\u4ee3\u8868\u751f\u7269\u5b66\u4e2d\u7684\u7e41\u6b96\u548c\u4ea4\u53c9\uff0c\u5373\u5b69\u5b50\u5177\u6709\u7236\u6bcd\u7684\u67d0\u4e9b\u7279\u5f81</li> <li>\u7a81\u53d8(Mutations)\u4ee3\u8868\u751f\u7269\u7a81\u53d8\uff0c\u901a\u8fc7\u5f15\u5165\u968f\u673a\u7684\u5c0f\u53d8\u5316\u6765\u7ef4\u6301\u4ece\u4e00\u4ee3\u5230\u4e0b\u4e00\u4ee3\u7684\u9057\u4f20\u591a\u6837\u6027\u3002</li> <li>\u9009\u62e9\uff08Selections\uff09\u662f\u4ece\u7fa4\u4f53\u4e2d\u9009\u62e9\u4e2a\u4f53\u57fa\u56e0\u7ec4\u7528\u4e8e\u4ee5\u540e\u80b2\u79cd\uff08\u91cd\u7ec4\u6216\u4ea4\u53c9\uff09\u7684\u9636\u6bb5\u3002</li> </ol>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/#_2","title":"\u9057\u4f20\u7b97\u6cd5\u7684\u5b9e\u73b0\u6b65\u9aa4","text":"<ol> <li>\u521d\u59cb\u5316\u4e00\u4e2a\u968f\u673a\u7fa4\u4f53\uff0c\u5176\u4e2d\u6bcf\u4e2a\u67d3\u8272\u4f53\u7684\u957f\u5ea6\u4e3a n\uff0c\u5176\u4e2d n \u662f\u53c2\u6570\u7684\u6570\u91cf\u3002\u5373\uff0c\u5efa\u7acb\u968f\u673a\u6570\u91cf\u7684\u53c2\u6570\uff0c\u6bcf\u4e2a\u53c2\u6570\u5177\u6709n\u4e2a\u5143\u7d20\u3002</li> <li>\u9009\u62e9\u53ef\u589e\u52a0\u7406\u60f3\u7ed3\u679c\uff08\u5927\u6982\u662f\u51c0\u5229\u6da6\uff09\u7684\u67d3\u8272\u4f53\u6216\u53c2\u6570\u3002</li> <li>\u5c06\u7a81\u53d8\u6216\u4ea4\u53c9\u7b97\u5b50\u5e94\u7528\u4e8e\u9009\u5b9a\u7684\u7236\u6bcd\u5e76\u751f\u6210\u540e\u4ee3\u3002</li> <li>\u4f7f\u7528\u9009\u62e9\u7b97\u5b50\u5c06\u540e\u4ee3\u548c\u5f53\u524d\u79cd\u7fa4\u91cd\u7ec4\uff0c\u5f62\u6210\u65b0\u7684\u79cd\u7fa4\u3002</li> <li>\u91cd\u590d\u7b2c\u4e8c\u6b65\u5230\u7b2c\u56db\u6b65</li> </ol>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/20/%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93%E4%B8%AD%E7%9A%84%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/#python","title":"Python\u9057\u4f20\u7b97\u6cd5\u5e93","text":"<p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 geneticalgorithm \u8fd9\u4e2apython\u5e93\uff0c\u5728\u91cf\u5316\u7b56\u7565\u4e2d\u8fd0\u7528\u9057\u4f20\u7b97\u6cd5\u3002</p> <pre><code>pip install geneticalgorithm\n</code></pre> <pre><code>import numpy as np\nfrom geneticalgorithm import geneticalgorithm as ga\n\ndef f(X):\n    # X\u4e3a\u56e0\u5b50\u3002\u5728\u672c\u65b9\u6cd5\u4e2d\uff0c\u6839\u636e\u56e0\u5b50\u5bfb\u627e\u80a1\u7968\uff0c\u8ba1\u7b97\u6536\u76ca\u7387\u5e76\u8fd4\u56de\n\nvarbound=np.array([[0,10]]*3)\n\nmodel=ga(function=f,dimension=3,variable_type='real',\n        variable_boundaries=varbound)\n\nmodel.run()\n</code></pre> <p>\u9057\u4f20\u7b97\u6cd5\u4e5f\u662f\u4f18\u5316\u7b97\u6cd5\u7684\u4e00\u79cd\uff0c\u5bf9\u4e0d\u660e\u767d\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u5bf9\u7167\u4f18\u5316\u7b97\u6cd5\u7684\u6982\u5ff5\u6765\u7406\u89e3\u3002</p>","tags":["quant","algorithm","python"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/","title":"\u7f8a\u7fa4\u6548\u5e94\u53ca\u5176\u56e0\u5b50\u5316","text":"<p>\u5728\u4e4b\u524d\u7684\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u591a\u6b21\u5c06\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u4e0eA\u80a1\u4e2d\u6d41\u884c\u7684\u80a1\u8c1a\u3001\u89c4\u5f8b\u548c\u5927V\u7684\u7ecf\u9a8c\u4e4b\u8c08\u7ed3\u5408\u8d77\u6765\uff0c\u6211\u4eec\u620f\u79f0\u4e3a\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u7684\u4e2d\u56fd\u5316\u3002\u672c\u7bc7\u7b14\u8bb0\u5c06\u7ee7\u7eed\u6cbf\u7740\u8fd9\u4e00\u601d\u8def\u5c55\u5f00\uff0c\u4ecb\u7ecd\u7f8a\u7fa4\u6548\u5e94\uff0c\u4ee5\u53ca\u5728A\u80a1\u4e2d\uff0c\u5b83\u6709\u54ea\u4e9b\u8868\u73b0\uff0c\u5982\u4f55\u5b9e\u73b0\u56e0\u5b50\u5316\uff0c\u7b49\u7b49\u3002</p> <p>\u4eca\u5929\u6211\u4eec\u8981\u4ecb\u7ecd\u7684\u80a1\u8c1a\uff0c\u662f\u517b\u5bb6\u5fc3\u6cd5\u91cc\u4e2d\u7684\u4e00\u6761\uff0c\u5f97\u6563\u6237\u8005\u5f97\u5929\u4e0b\u3002\u5b83\u5b9e\u9645\u4e0a\u8bb2\u7684\u662f\u8981\u5145\u5206\u5229\u7528\u7f8a\u7fa4\u6548\u5e94\u3002</p> <p>\u7f8a\u7fa4\u6548\u5e94\u7406\u8bba ( The Effect of Sheep Flock)\uff0c\u4e5f\u79f0\u4e3a\u7f8a\u7fa4\u884c\u4e3a\uff08Herd Behavior\uff09\u3001\u4ece\u4f17\u5fc3\u7406\uff08Herd Instinct\uff09\uff0c\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u91cd\u8981\u7406\u8bba\u4e4b\u4e00\u3002</p> <p>\u7ecf\u6d4e\u5b66\u91cc\u7ecf\u5e38\u7528\u201c\u7f8a\u7fa4\u6548\u5e94\u201d\u6765\u63cf\u8ff0\u7ecf\u6d4e\u4e2a\u4f53\u7684\u4ece\u4f17\u8ddf\u98ce\u5fc3\u7406\u3002\u7f8a\u7fa4\u662f\u4e00\u79cd\u5f88\u6563\u4e71\u7684\u7ec4\u7ec7\uff0c\u53ea\u8981\u4e00\u53ea\u9886\u5934\u7f8a\u5e26\u52a8\uff0c\u5176\u5b83\u7684\u7f8a\u5c31\u4f1a\u8ddf\u7740\u8d70\uff0c\u6839\u672c\u4e0d\u4f1a\u601d\u8003\u524d\u65b9\u662f\u5426\u4f1a\u6709\u72fc\uff08\u5371\u9669\uff09\uff0c\u6216\u8005\u6b63\u5728\u8fdc\u79bb\u4e30\u8302\u7684\u6c34\u8349\uff08\u5229\u76ca\uff09\u3002</p> <p>\u5728\u6295\u8d44\u9886\u57df\uff0c\u7f8a\u7fa4\u6548\u5e94\u51e0\u4e4e\u65e0\u65f6\u4e0d\u523b\u5728\u53d1\u6325\u4f5c\u7528\u3002\u5373\u4f7f\u662f\u5728\u4ef7\u503c\u6295\u8d44\u9886\u57df\uff0c\u8fd9\u79cd\u6548\u5e94\u4e5f\u662f\u975e\u5e38\u660e\u663e\u7684\u3002\u6bd4\u5982\uff0c\u4eba\u4eec\u4f1a\u82b1\u6570\u767e\u4e07\u5143\u4e70\u4e0b\u5df4\u83f2\u7279\u7684\u5348\u9910\u65f6\u95f4\uff0c\u5c31\u662f\u4e3a\u4e86\u5f97\u5230\u4ed6\u7684\u6295\u8d44\u4e0a\u7684\u6307\u70b9\u3002\u5df4\u83f2\u7279\u4e0e A \u80a1\u6700\u8457\u540d\u7684\u4f8b\u5b50\u662f\u8d2d\u4e70\u5e76\u63a8\u8350\u4e86\u67d0\u77f3\u6cb9\uff0c\u8fd9\u5bfc\u81f4\u5927\u6279\u6563\u6237\u8ddf\u98ce\uff0c\u88ab\u5957\u5728 6000 \u70b9\u7684\u5c71\u5188\u4e0a\u3002</p> <p>Christie and Huang \u5728 1995 \u5e74\uff0c\u7387\u5148\u5bf9\u5168\u5e02\u573a\u8303\u56f4\u4e0b\u7684\u7f8a\u7fa4\u6548\u5e94\u8fdb\u884c\u4e86\u5b9e\u8bc1\u7814\u7a76\uff0c\u8be5\u7814\u7a76\u6ca1\u6709\u53d1\u73b0\u7f8e\u56fd\u3001\u65e5\u672c\u548c\u9999\u6e2f\u5e02\u573a\u5b58\u5728\u7f8a\u7fa4\u6548\u5e94\u7684\u8bc1\u636e\uff0c\u4f46\u5728\u53f0\u6e7e\u3001\u97e9\u56fd\u5e02\u573a\u5219\u6bd4\u8f83\u80af\u5b9a\u5730\u53d1\u73b0\u4e86\u7f8a\u7fa4\u6548\u5e94\u3002</p> <p></p> <p>\u4f5c\u4e3a\u91cf\u5316\u535a\u4e3b\uff0c\u6211\u66f4\u5173\u5fc3\u5982\u4f55\u5c06\u8fd9\u79cd\u6548\u5e94\u56e0\u5b50\u5316\u3002\u4e0b\u9762\uff0c\u5c31\u4ecb\u7ecd\u51e0\u4e2a\u76f8\u5173\u7684\u56e0\u5b50\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/#_1","title":"\u65b0\u5f00\u6237\u4eba\u6570\u56e0\u5b50","text":"<p>\u65b0\u5f00\u6237\u4eba\u6570\u53ef\u4ee5\u901a\u8fc7 akshare \u6765\u83b7\u53d6\uff1a</p> <pre><code>import akshare as ak\n\n# \u5f97\u5230\u6bcf\u6708\u65b0\u5f00\u6237\u4eba\u6570\naccounts_df = ak.stock_account_statistics_em()\naccounts_df\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u4e86 2015 \u5e74 4 \u6708\u4ee5\u6765\u7684\u6295\u8d44\u8005\u8d26\u6237\u6570\u636e\u3002</p> <p></p> <p>\u5b83\u7684\u8fd4\u56de\u503c\u4e2d\uff0c\u6709\u4e00\u5217\u4e3a\u6570\u636e\u65e5\u671f\uff0c\u5176\u683c\u5f0f\u5f62\u5982\"2015-04\"\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5176\u8f6c\u6362\u6210\u4e3a\u6b63\u89c4\u7684\u65e5\u671f\u683c\u5f0f\u3002</p> <pre><code># \u8fd9\u91cc\u6f14\u793a\u4e86\u5982\u4f55\u53d6 DATAFRAME \u7684\u6570\u636e\u5355\u5143\nend = accounts_df.iloc[0][\"\u6570\u636e\u65e5\u671f\"]\nstart = accounts_df.iloc[-1][\"\u6570\u636e\u65e5\u671f\"]\n\nyr, month = end.split(\"-\")\nend = datetime.date(int(yr), int(month) + 1, 1)\n</code></pre> <pre><code># tf.floor \u662f OMICRON \u7684\u51fd\u6570\uff0c\u5b83\u5c06\u65e5\u671f\u5bf9\u9f50\u5230\u4e0a\u4e00\u4e2a\u5df2\u7ed3\u675f\u7684\u5468\u671f\n# \u5728 OMICRON \u4e2d\uff0c\u63d0\u4f9b\u4e86\u5927\u91cf\u65f6\u95f4\u8fd0\u7b97\u51fd\u6570\uff0c\u662f\u91cf\u5316\u4e2d\u5fc5\u5907\u7684\nend = tf.floor(end, FrameType.MONTH)\n\nyr, month = start.split(\"-\")\nstart = datetime.date(int(yr), int(month) + 1, 1)\nstart = tf.floor(start, FrameType.MONTH)\n</code></pre> <p>\u6211\u4eec\u5f97\u5230\u4e86\u6295\u8d44\u8005\u8d26\u6237\u6570\u636e\u4e2d\u7684\u8d77\u6b62\u65f6\u95f4\uff0c\u73b0\u5728\u5c31\u53ef\u4ee5\u53d6\u6307\u6570\u884c\u60c5\uff0c\u5e76\u8fdb\u884c\u7ed8\u56fe\u3002</p> <pre><code># \u83b7\u53d6\u4e0a\u8bc1\u6307\u6570\nbars = await Stock.get_bars_in_range(\"000001.XSHG\", \n                                    FrameType.MONTH, \n                                    start, end)\n\n# \u5c06\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u4e0e\u4e0a\u8bc1\u6307\u6570\u8d70\u52bf\u5bf9\u5e94\u8d77\u6765\ndf = pd.DataFrame({\"xshg\": bars[\"close\"][::-1] / 10, \n                   \"investor\": accounts_df[\"\u65b0\u589e\u6295\u8d44\u8005-\u6570\u91cf\"]})\ndf.index = accounts_df[\"\u6570\u636e\u65e5\u671f\"]\n\nfig = px.line(df)\nfig.update_layout(hovermode=\"x unified\")\nfig.show()\n</code></pre> <p>\u5bf9\u5e94\u5173\u7cfb\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u6708\u65b0\u589e\u6295\u8d44\u8005\u7684\u4eba\u6570\u7684\u4e0a\u9650\u5927\u7ea6\u662f\u5728 220 \u4e07\u5de6\u53f3\uff0c\u4e0b\u9650\u5728 100 \u4e07\u5de6\u53f3\u3002\u8fd9\u4e2a\u4e0a\u4e0b\u9650\uff0c\u4e0e\u968f\u540e\u4e0a\u8bc1\u7684\u6307\u6570\u8d70\u52bf\uff0c\u6709\u4e00\u5b9a\u7684\u76f8\u5173\u6027\u3002\u76ee\u524d\u6211\u4eec\u53ef\u4ee5\u6570\u51fa\u6765\u7684\u662f\uff0c\u5927\u7ea6\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u5904\u4e8e\u4e0b\u9650\u65f6\uff0c\u4e0a\u8bc1\u5927\u7ea6\u6709 70%\u5de6\u53f3\u7684\u6982\u7387\u5904\u4e8e\u5e95\u90e8\uff1b\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u5904\u4e8e\u4e0a\u9650\u65f6\uff0c\u4e0a\u8bc1\u4e5f\u5927\u7ea6\u6709 70%\u5904\u5728\u5934\u90e8\u3002</p> <p>\u8fd9\u53ea\u662f\u4e00\u4e2a\u89c6\u89c9\u4e0a\u7684\u89c4\u5f8b\u3002\u5728\u8bfe\u7a0b\u7684\u7b2c\u4e09\u90e8\u5206\uff08\u7edf\u8ba1\u79d1\u5b66\u4e0e Python \u6570\u636e\u5206\u6790\uff09\uff0c\u4f1a\u4ecb\u7ecd\u5982\u4f55\u7528\u7edf\u8ba1\u5b66\u7684\u89c4\u5f8b\u6765\u63cf\u8ff0\u8fd9\u79cd\u76f8\u5173\u6027\u3002\u53e6\u5916\uff0c\u5728\u5b66\u4e60\u4e86\u7b2c\u4e09\u90e8\u5206\u4e4b\u540e\uff0c\u6211\u4eec\u4e5f\u5c06\u77e5\u9053\uff1a\u5982\u679c\u5f53\u6708\u65b0\u589e\u6295\u8d44\u8005\u4eba\u6570\u8fbe\u5230 200 \u4e07\uff0c\u4e0b\u4e2a\u6708\u6295\u8d44\u8005\u4eba\u6570\u7ee7\u7eed\u589e\u52a0\u7684\u53ef\u80fd\u6027\u4f1a\u662f\u591a\u5c11\uff1f</p> <p>\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981\u3002\u6bd5\u7adf\uff0c\u5728\u51fb\u9f13\u4f20\u82b1\u7684\u6e38\u620f\u4e2d\uff0c\u9f13\u70b9\u662f\u4e0d\u80fd\u505c\u7684\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/#_2","title":"\u4eba\u6c14\u6307\u6570\u56e0\u5b50","text":"<p>Akshare\u4e2d\u6709\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u53ef\u4ee5\u83b7\u53d6\u80a1\u5427\u91cc\uff0c\u67d0\u4e2a\u6807\u7684\u7684\u4eba\u6c14\u6307\u6570\u3002\u663e\u7136\uff0c\u4eba\u6c14\u6307\u6570\u662f\u4e00\u4e2a\u5178\u578b\u7684\u6563\u6237\u6307\u6570\uff0c\u6bd5\u7adf\uff0c\u673a\u6784\u94b1\u591a\uff0c\u6563\u6237\u4eba\u591a\u3002</p> <p>\u8fd9\u4e2a\u65b9\u6cd5\u662f\uff1a</p> <pre><code>import akshare\n\nakshare.stock_hot_rank_detail_realtime_em(\"SZ000665\")\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u4e3a\uff1a</p> <p></p> <p>\u8fd9\u91cc\u7684\u6570\u636e\u8db3\u591f\u4e30\u5bcc\uff0c\u80fd\u5426\u6210\u4e3a\u4e00\u4e2a\u56e0\u5b50\uff0c\u5927\u5bb6\u53ef\u4ee5\u62ffalphalens\u6765\u505a\u505a\u770b\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/28/%E7%BE%8A%E7%BE%A4%E6%95%88%E5%BA%94%E5%8F%8A%E5%85%B6%E5%9B%A0%E5%AD%90%E5%8C%96/#_3","title":"\u7ed3\u675f\u8bed","text":"<p>A\u80a1\u662f\u4e00\u4e2a\u6709\u7740\u660e\u663e\u7f8a\u7fa4\u6548\u5e94\u7684\u5e02\u573a\uff0c\u5f97\u6563\u6237\u8005\u5f97\u5929\u4e0b\u3002\u8fd9\u91cc\u53ea\u4e3e\u4e86\u4e24\u4e2a\u56e0\u5b50\u7684\u4f8b\u5b50\uff0c\u8fd8\u6709\u66f4\u591a\u7684\u56e0\u5b50\u6709\u5f85\u53d1\u6398\u3002</p> <p>\u4f5c\u4e3a\u4e00\u540d\u91cf\u5316\u6846\u67b6\u5f00\u53d1\u8005\uff0c\u6211\u975e\u5e38\u8ba4\u53ef\u548c\u5f3a\u8c03\u5411\u725b\u6563\u548c\u5927 V \u5b66\u4e60\uff0c\u540e\u9762\u4f1a\u6709\u66f4\u591a\u7b14\u8bb0\uff0c\u53d1\u6398\u5927V\u64cd\u4f5c\u7ecf\u9a8c\u80cc\u540e\u7684\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u539f\u7406\uff0c\u5e76\u5c1d\u8bd5\u5c06\u5176\u91cf\u5316\u3002</p> <p>\u5efa\u4e86\u4e00\u4e2a\u5c0f\u7ea2\u4e66\u5b66\u4e60\u6253\u5361\u7fa4\uff0c\u575a\u6301\u5b66\u4e60\u7684\u670b\u53cb\u53ef\u4ee5\u8fdb\u6765\u6253\u5361\u3002\u4eca\u65e5\u6253\u5361\u8bed\u5f55\uff1a</p>  \u51cc\u6668\u4e24\u70b9 \u6211\u770b\u5230\u6d77\u68e0\u82b1\u672a\u7720 \u6000\u5ff5\u8d77\u5f53\u5e74\u4e0d\u7720\u4e0d\u4f11 \u4e00\u8d77\u8d76due\u7684\u65f6\u5149 \u575a\u6301\u5b66\u4e60  \u5728\u672a\u6765 \u9047\u89c1\u66f4\u597d\u7684\u81ea\u5df1","tags":["strategy"]},{"location":"blog/2024/03/07/hindsight-how-do-i-missed-dlsy/","title":"\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8","text":"<p>\u5728\u4eca\u5e741\u67082\u65e5\u548c1\u67083\u65e5\uff0c\u65c5\u6e38\u677f\u5757\u4e24\u652f\u4e2a\u80a1\u5148\u540e\u6da8\u505c\uff0c\u6b64\u540e\u4e00\u652f\u6708\u5185\u4e09\u500d\uff0c\u53e6\u4e00\u652f\u8fde\u7eed6\u4e2a\u6da8\u505c\u3002\u4e8b\u540e\u590d\u76d8\uff0c\u6211\u4eec\u5982\u4f55\u57281\u67082\u65e5\u7b2c\u4e00\u652f\u4e2a\u80a1\u6da8\u505c\u4e4b\u540e\uff0c\u901a\u8fc7\u91cf\u5316\u5206\u6790\uff0c\u627e\u51fa\u7b2c\u4e8c\u652f\u80a1\uff1f</p> <p>Warning</p> <p>\u65e0\u8bba\u590d\u76d8\u591a\u4e48\u7cbe\u5f69\uff0c\u8bf7\u6ce8\u610f\uff0c\u672c\u6587\u5199\u4f5c\u7684\u76ee\u7684\u53ea\u662f\u5206\u4eab\u91cf\u5316\u6280\u672f\uff1a\u5982\u4f55\u8fdb\u884c\u76f8\u5173\u6027\u5206\u6790\u3002\u5373\u4f7f\u672c\u6587\u89c2\u70b9\u80fd\u591f\u7b56\u7565\u5316\uff0c\u666e\u901a\u4eba\u4e5f\u4e0d\u5177\u6709\u8fd9\u6837\u7684\u6761\u4ef6\u6765\u5b9e\u65bd\u4e00\u4e2a\u91cf\u5316\u7cfb\u7edf\u3002</p>","tags":["strategy","pearson","spearman"]},{"location":"blog/2024/03/07/hindsight-how-do-i-missed-dlsy/#36","title":"\u4e00\u4e2a3\u500d\uff0c\u4e00\u4e2a6\u8fde\u677f","text":"<p>\u8fd9\u662f\u4e24\u652f\u4e2a\u80a1\u57282024\u5e741\u670817\u65e5\u524d60\u65e5\u6536\u76d8\u4ef7\u56fe\u3002\u56fe\u4e2d\u7ea2\u8272\u865a\u7ebf\u662f\u4e2a\u80a1\u542f\u52a8\u65f6\u95f4\u3002A\u5927\u6982\u662f\u53d7\u8463\u5b87\u8f89\u5c0f\u4f5c\u6587\u3001\u6216\u8005\u5c14\u6ee8\u65c5\u6e38\u70ed\u9898\u6750\u53d1\u9175\u5e26\u52a8\uff0c\u4e8e1\u67082\u65e5\u7387\u5148\u542f\u52a8\u3002</p> <p>\u5c3d\u7ba1A\u5728\u534a\u4e2a\u6708\u5185\u80a1\u4ef7\u63a5\u8fd13\u500d\uff0c\u4f46\u4ece\u91cf\u5316\u7684\u89d2\u5ea6\uff0c\u76ee\u524d\u8fd8\u96be\u4ee5\u7cbe\u51c6\u5730\u5b9e\u73b0\u4e8b\u4ef6\u9a71\u52a8\u4e0a\u6da8\u8fd9\u79cd\u7c7b\u578b\u7684\u5efa\u6a21\u3002\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u5728A\u542f\u52a8\u4e4b\u540e\uff0c\u57281\u67082\u65e5\u6536\u76d8\u524d\u4e70\u5165B\uff08\u5c31\u8fd9\u6b21\u800c\u8a00\uff0cB\u6b21\u65e5\u5f00\u76d8\u4ecd\u6709\u4e70\u5165\u673a\u4f1a\uff09\uff0c\u8fde\u7eed\u6536\u83b76\u4e2a\u6da8\u505c\uff0c\u4e5f\u5b8c\u5168\u53ef\u4ee5\u6ee1\u610f\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u6765\u590d\u76d8\uff0c\u5982\u4f55\u4eceA\u6da8\u505c\uff0c\u5230\u53d1\u73b0B\u3002</p> <p>\u9996\u5148\uff0c\u8fd0\u884c\u7b56\u7565\u7684\u65f6\u95f4\u5e94\u8be5\u653e\u572814\uff1a30\u5206\u4e4b\u540e\uff0c\u6b64\u65f6\u5bf9\u5e02\u573a\u8fdb\u884c\u626b\u63cf\uff0c\u627e\u51fa\u9996\u677f\u6da8\u505c\u7684\u4e2a\u80a1\u3002\u5f53\u65e5\u6da8\u505c\u6570\u636e\u5728Akshare\u53ef\u4ee5\u83b7\u5f97\uff0c\u5370\u8c61\u4e2d\uff0c\u5b83\u80fd\u533a\u5206\u9996\u677f\u6da8\u505c\u548c\u8fde\u677f\u3002</p> <p>\u5bf9\u9996\u677f\u6da8\u505c\u7684\u4e2a\u80a1\uff0c\u6211\u4eec\u5148\u83b7\u53d6\u5b83\u6240\u5728\u7684\u6982\u5ff5\u677f\u5757\u3002\u7136\u540e\u5bf9\u6bcf\u4e2a\u677f\u5757\u7684\u6210\u5458\u80a1\u8fdb\u884c\u904d\u5386\uff0c\u901a\u8fc7\u76f8\u5173\u6027\u5206\u6790\uff0c\u627e\u5230\u5173\u8054\u5ea6\u8f83\u9ad8\u7684\u4e2a\u80a1\u3002</p> <p>Tip</p> <p>\u6982\u5ff5\u677f\u5757\u7684\u7f16\u5236\u6ca1\u6709\u4e25\u683c\u7684\u89c4\u8303\u3002\u6709\u4e00\u4e9b\u8f6f\u4ef6\u5728\u7f16\u5236\u6982\u5ff5\u65f6\uff0c\u751a\u81f3\u5141\u8bb8\u7f51\u53cb\u53c2\u4e0e\u3002\u4e00\u822c\u5730\uff0c\u7f16\u5236\u8005\u4f1a\u4ece\u65b0\u95fb\u62a5\u9053\u3001\u516c\u53f8\u62a5\u544a\u6216\u8005\u8463\u79d8\u7684\u56de\u7b54\u4e2d\u53d1\u6398\u6982\u5ff5\u3002\u6bd4\u5982\u5728\u7f16\u5236\u82f1\u4f1f\u8fbe\u6982\u5ff5\u65f6\uff0c\u5982\u679c\u6709\u4eba\u5728\u4e92\u52a8\u5e73\u53f0\u4e0a\u95ee\u8463\u79d8\uff0c\u4f60\u4eec\u4e0e\u82f1\u4f1f\u8fbe\u6709\u5408\u4f5c\u5173\u7cfb\u5427\uff1f\u8463\u79d8\u56de\u7b54\uff0c\u6211\u4eec\u8d2d\u4e70\u4e86\u4ed6\u4eec\u7684GPU\u591a\u5c11\u53f0\uff0c\u8fd9\u6837\u8fd9\u5bb6\u516c\u53f8\u5c31\u6709\u53ef\u80fd\u88ab\u7f16\u5165\u82f1\u4f1f\u8fbe\u6982\u5ff5\uff0c\u5176\u5b9e\u5b83\u4e0e\u82f1\u4f1f\u8fbe\u4ea7\u4e1a\u94fe\u57fa\u672c\u4e0a\u6ca1\u6709\u4ec0\u4e48\u5173\u7cfb\u3002\u4e0e\u4e4b\u76f8\u53cd\uff0c\u884c\u4e1a\u677f\u5757\u7684\u7f16\u5236\u76f8\u5bf9\u4e25\u8c28\u4e00\u4e9b\u3002\u5b83\u662f\u6839\u636e\u516c\u53f8\u7684\u4e3b\u8425\u4e1a\u52a1\u6765\u5212\u5206\u7684\u3002</p> <p>\u5982\u679c\u4ec5\u4ec5\u662f\u548c\u9f99\u5934\u540c\u5728\u4e00\u4e2a\u677f\u5757\u662f\u65e0\u6cd5\u4fdd\u8bc1\u8d44\u91d1\u7737\u987e\u7684\u3002\u800c\u4e14\uff0c\u4e00\u652f\u4e2a\u80a1\u5f80\u5f80\u8eab\u517c\u591a\u4e2a\u6982\u5ff5\uff0c\u5728\u6781\u77ed\u7684\u65f6\u95f4\u91cc\u8981\u5f04\u6e05\u695a\u7a76\u7adf\u662f\u7092\u7684\u5b83\u7684\u54ea\u4e00\u4e2a\u6982\u5ff5\u4e5f\u4e0d\u5bb9\u6613\u3002\u4e0d\u8fc7\uff0c\u901a\u8fc7\u6570\u636e\u6316\u6398\uff0c\u6211\u4eec\u53ef\u4ee5\u5b8c\u5168\u4e0d\u53bb\u7406\u4f1a\u7092\u4f5c\u80cc\u540e\u7684\u903b\u8f91 -- \u4f55\u51b5\u5f88\u591a\u903b\u8f91\uff0c\u6839\u672c\u5c31\u662f\u72d7p\u4e0d\u901a\u3002</p> <p>\u6211\u4eec\u7528\u76f8\u5173\u6027\u68c0\u6d4b\u6765\u8fdb\u884c\u6570\u636e\u6316\u6398\u3002</p>","tags":["strategy","pearson","spearman"]},{"location":"blog/2024/03/07/hindsight-how-do-i-missed-dlsy/#_1","title":"\u76f8\u5173\u7cfb\u6570","text":"<p>\u5728\u6982\u7387\u8bba\u548c\u7edf\u8ba1\u5b66\u4e2d\uff0c\u76f8\u5173\u6027(Correlation)\u663e\u793a\u4e86\u4e24\u4e2a\u6216\u51e0\u4e2a\u968f\u673a\u53d8\u91cf\u4e4b\u95f4\u7ebf\u6027\u5173\u7cfb\u7684\u5f3a\u5ea6\u548c\u65b9\u5411\u3002</p> <p>\u901a\u5e38\u4f7f\u7528\u76f8\u5173\u7cfb\u6570\u6765\u8ba1\u91cf\u8fd9\u4e9b\u968f\u673a\u53d8\u91cf\u534f\u540c\u53d8\u5316\u7684\u7a0b\u5ea6\uff0c\u5f53\u968f\u673a\u53d8\u91cf\u95f4\u5448\u73b0\u540c\u4e00\u65b9\u5411\u7684\u53d8\u5316\u8d8b\u52bf\u65f6\u79f0\u4e3a\u6b63\u76f8\u5173\uff0c\u53cd\u4e4b\u5219\u79f0\u4e3a\u8d1f\u76f8\u5173\u3002 </p> <p>\u6211\u4eec\u901a\u8fc7\u4ee5\u4e0b\u516c\u5f0f\u6765\u8ba1\u7b97\u4e24\u4e2a\u968f\u673a\u53d8\u91cf\u4e4b\u95f4\u7684\u76f8\u5173\u6027\uff1a</p> \\[ \\rho_{XY} = \\frac{cov(X, Y)}{\\sigma_X\\sigma_Y} \\] <p>\u8fd9\u6837\u5b9a\u4e49\u7684\u76f8\u5173\u7cfb\u6570\u79f0\u4f5c\u76ae\u5c14\u900a\u76f8\u5173\u7cfb\u6570\u3002\u4e00\u822c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7numpy\u4e2d\u7684<code>corrcoef</code>\uff0c\u6216\u8005<code>scipy.stats.pearsonr</code>\u6765\u8ba1\u7b97\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u6b63\u76f8\u5173\u3001\u8d1f\u76f8\u5173\u548c\u4e0d\u76f8\u5173\u7684\u4f8b\u5b50\uff1a</p> <pre><code># x0\u4e0ex1\u6b63\u76f8\u5173\uff0c \u4e0ex2\u8d1f\u76f8\u5173\uff0c \u4e0ex3\u5206\u522b\u4e3a\u4e0d\u540c\u7684\u968f\u673a\u53d8\u91cf\nx0 = np.random.normal(size=100)\nx1 = 10* x0 + 1\nx2 = -10 * x0 + 1\nx3 = np.random.normal(size=100)\n\nx = np.vstack((x0, x1, x2, x3))\nrho = np.corrcoef(x)\n\nfig, ax = plt.subplots(nrows=1, ncols=3, figsize=(12, 3))\n\nfor i in [0,1,2]:\n    ax[i].scatter(x[0,],x[1+i,])\n    desc = \"Pearson: {:.2f}\".format(rho[0,i+1])\n    ax[i].title.set_text(desc)\n    ax[i].set(xlabel='x',ylabel='y')\n\nplt.show()\n</code></pre> <p>\u7ed8\u56fe\u65f6\uff0c\u6211\u4eec\u4ee5\\(x_0\\)\u4e3ax\u8f74\uff0c\u4ee5\\(x_i\\)\u4e3ay\u8f74\uff0c\u5982\u679c\\(x_0\\)\u4e0e\\(x_1\\)\u5b8c\u5168\u6b63\u76f8\u5173\uff0c\u90a3\u4e48\u5c06\u7ed8\u5236\u51fa\u4e00\u6761\\(45^\u3002\\)\u5411\u4e0a\u7684\u76f4\u7ebf\u3002\u8fd9\u5176\u5b9e\u5c31\u662fQQ-Plot\u7684\u539f\u7406\u3002</p> <p></p> <p>\u4ece\u5de6\u56fe\u8fc7\u6e21\u5230\u53f3\u56fe\uff0c\u53ea\u9700\u8981\u5728\\(x_0\\)\u4e2d\u4e0d\u65ad\u63ba\u5165\u566a\u58f0\u5373\u53ef\u3002\u8bfb\u8005\u53ef\u4ee5\u81ea\u5df1\u5c1d\u8bd5\u4e00\u4e0b\u3002</p> <p>\u76ae\u5c14\u900a\u76f8\u5173\u7cfb\u6570\u8981\u6c42\u53ea\u6709\u53d8\u91cf\u4e4b\u95f4\u662f\u7ebf\u6027\u76f8\u5173\u65f6\uff0c\u5b83\u624d\u80fd\u53d1\u73b0\u8fd9\u79cd\u5173\u8054\u6027\u3002\u5f88\u591a\u65f6\u5019\u6211\u4eec\u5fc5\u987b\u653e\u5bbd\u6761\u4ef6\u4e3a\uff1a\u6807\u7684A\u4e0a\u6da8\uff0c\u5219B\u4e5f\u8ddf\u7740\u6da8\u3002\u4f46\u4e0d\u7ba1A\u6da8\u591a\u5c11\uff0cB\u8ddf\u6da8\u53c8\u662f\u591a\u5c11\uff0c\u90fd\u4e0d\u6539\u53d8\u5b83\u4eec\u8054\u7cfb\u7684\u5f3a\u5ea6\u3002\u6b64\u65f6\uff0c\u5c31\u8981\u7528Spearman\u76f8\u5173\u6027\u3002</p> <p>Tip</p> <p>\u65e0\u8bba\u662f\u76ae\u5c14\u900a\u76f8\u5173\uff0c\u8fd8\u662fSpearman\uff0c\u8fd0\u7528\u5728\u65f6\u95f4\u5e8f\u5217\u5206\u6790\uff08\u6bd4\u5982\u80a1\u4ef7\uff09\u4e0a\u65f6\uff0c\u90fd\u4e0d\u5b8c\u5168\u6ee1\u8db3\u968f\u673a\u53d8\u91cf\u72ec\u7acb\u6027\u6761\u4ef6\u3002\u4e0d\u8fc7\uff0c\u4ece\u7ecf\u9a8c\u5f97\u77e5\uff0c\u8fd9\u79cd\u5f71\u54cd\u8fd8\u6ca1\u6709\u5927\u5230\u4f7f\u5b83\u4eec\u5931\u53bb\u4f5c\u7528\u7684\u5730\u6b65\u3002\u4f46\u6211\u4eec\u4e5f\u786e\u5b9e\u9700\u8981\u4e86\u89e3\u8fd9\u4e00\u70b9\u3002\u6709\u80fd\u529b\u5543\u5b66\u672f\u8bba\u6587\u7684\uff0c\u53ef\u4ee5\u7528how-to-use-pearson-correlation-correctly-with-time-series\u641c\u7d22\u4e00\u4e0bstackexchange\u4e0a\u7684\u56de\u7b54\u3002</p> <p>\u4e0a\u9762\u7684\u4f8b\u5b50\u6f14\u793a\u7684\u662f\u76ae\u5c14\u900a\u76f8\u5173\u7cfb\u6570\u7684\u6c42\u6cd5\uff0c\u8fd9\u91cc\u4f7f\u7528\u7684\u662fnp.corrcoef\u3002\u5b83\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u77e9\u9635\uff0c\u6240\u4ee5\u4e0a\u4f8b\u4e2d\u7684\u53d8\u91cfrho\uff0c\u5176\u53d6\u503c\u5b9e\u9645\u4e0a\u662f\uff1a</p> <p></p> <p>\u5728\u8fd9\u4e2a\u77e9\u9635\u4e2d\uff0c\u5bf9\u89d2\u7ebf\u4e0a\u7684\u503c\u662f\u81ea\u76f8\u5173\u7cfb\u6570\uff0c\u663e\u7136\u5b83\u4eec\u90fd\u5e94\u8be5\u4e3a1\u3002\u5b9e\u9645\u4e0a\u6211\u4eec\u8981\u5f97\u5230\u65f6\u95f4\u5e8f\u5217\\(s_1\\)\u548c\\(s_2\\)\u4e4b\u95f4\u7684\u76f8\u5173\u7cfb\u6570\uff0c\u5e94\u8be5\u53d6\\(\\rho[0][1]\\)\uff0c\u5bf9\\(s_1\\)\u548c\\(s_3\\)\u4e4b\u95f4\u7684\u76f8\u5173\u7cfb\u6570\uff0c\u5e94\u8be5\u53d6\\(\\rho[0][2]\\)\uff0c\u4f9d\u6b21\u7c7b\u63a8\uff0c\u8fd9\u4e9b\u53ef\u4ee5\u5728\u4ee3\u7801\u7b2c13\u884c\u770b\u5230\u3002</p> <p>\u6211\u4eec\u901a\u8fc7<code>scipy.stats.spearmanr</code>\u6765\u8ba1\u7b97Spearman\u76f8\u5173\u3002\u6211\u4eec\u5c06\u901a\u8fc7\u771f\u5b9e\u7684\u4f8b\u5b50\u6765\u8fdb\u884c\u6f14\u793a\u3002</p>","tags":["strategy","pearson","spearman"]},{"location":"blog/2024/03/07/hindsight-how-do-i-missed-dlsy/#_2","title":"\u53d1\u73b0\u5f3a\u76f8\u5173\u4e2a\u80a1","text":"<p>\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u62ff\u5230\u4e86\u6982\u5ff5\u677f\u5757\u7684\u4e2a\u80a1\u540d\u5355\u3002\u73b0\u5728\uff0c\u6211\u4eec\u4e24\u4e24\u8ba1\u7b97\u5b83\u4eec\u4e0e\u9f99\u5934\u4e2a\u80a1\u4e4b\u95f4\u7684\u76f8\u5173\u6027\uff0c\u5982\u679c\u76f8\u5173\u7cfb\u6570\u57280.75\u4ee5\u4e0a\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u662f\u5f3a\u76f8\u5173\uff0c\u7eb3\u5165\u5907\u9009\u6c60\u3002</p> <p>\u76f8\u5173\u7cfb\u6570\u662f\u4e00\u4e2a\u65e0\u91cf\u7eb2\u7684\u6570\uff0c\u53d6\u503c\u5728[-1,1]\u4e4b\u95f4\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u628a0.75\u770b\u6210\u5177\u670975\u5206\u4f4d\u7684\u542b\u4e49</p> <pre><code>async def qqplot(x, y, n=60, end):\n    xbars = await Stock.get_bars(x, n, FrameType.DAY, end=end )\n    ybars = await Stock.get_bars(y, n, FrameType.DAY, end=end)\n    xclose = xbars[\"close\"]\n    yclose = ybars[\"close\"]\n\n    pearson = scipy.stats.pearsonr(xclose, yclose)[0]\n    spearman = scipy.stats.spearmanr(xclose, yclose).statistic\n\n    if pearson &lt; 0.75:\n        return\n\n    a, b = np.polyfit(xclose, yclose, 1)\n    ax = plt.subplot(1,1,1)\n    ax.scatter(xclose, yclose)\n    ax.plot(xclose, a * xclose + b)\n\n    namex = await Security.alias(x)\n    namey = await Security.alias(y)\n    ax.title.set_text(f'{namex} &lt;=&gt; {namey} pearson: {pearson:.2f} spearman: {spearman:.2f}')\n    plt.show()\n</code></pre> <p>\u5047\u8bbe\u73b0\u5728\u662f1\u67082\u65e5\u7684\u4e0b\u53482\u65f6\uff0c\u5df2\u7ecf\u80fd\u786e\u8ba4\u6807\u7684A\u4e0d\u4f1a\u5f00\u677f\u3002\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u62ff\u5b83\u4e0e\u677f\u5757\u5185\u7684\u5176\u5b83\u4e2a\u80a1\u9010\u4e00\u8ba1\u7b97\u76f8\u5173\u6027\uff0c\u6392\u9664\u6389\u5f31\u76f8\u5173\u7684\u4e2a\u80a1\uff0c\u56e0\u4e3a\uff0c\u65e2\u7136\u662f\u5f31\u76f8\u5173\uff0c\u90a3\u4e48\u5b83\u4eec\u5c31\u4e0d\u4f1a\u8ddf\u6da8\uff0c\u4e5f\u4e0d\u600e\u4e48\u8ddf\u8dcc\uff08\u5728\u6211A\uff0c\u8ddf\u8dcc\u662f\u5fc5\u987b\u7684\uff09\u3002</p> <p>\u5f53\u6211\u4eec\u4f7f\u7528 pearson &gt; 0.75\u7684\u5224\u65ad\u6761\u4ef6\u65f6\uff0c\u5728\u8be5\u677f\u5757\u768422\u652f\u4e2a\u80a1\u4e2d\uff0c\u7b5b\u9009\u51fa5\u652f\u4e2a\u80a1\u3002\u5982\u679c\u4f7f\u7528spearman &gt; 0.75\u6765\u5224\u65ad\uff0c\u5219\u53ea\u4f1a\u9009\u51fa4\u652f\uff0c\u5e76\u4e14\u8fd94\u652f\u90fd\u5728pearson\u7b5b\u9009\u51fa\u7684\u8303\u56f4\u5185\u3002\u8fd9\u91cc\u4e3a\u6392\u7248\u7f8e\u89c2\u8d77\u89c1\uff0c\u53ea\u7ed9\u51fa\u5171\u540c\u76844\u652f\uff1a</p> <p></p> <p></p> <p></p> <p></p> <p>\u5f88\u5e78\u8fd0\uff0c\u6211\u4eec\u8981\u627e\u7684\u6807\u7684\u6b63\u5728\u5176\u4e2d\u3002</p> <p>\u4f60\u80af\u5b9a\u60f3\u77e5\u9053\u53e6\u5916\u4e09\u652f\u7684\u7ed3\u679c\u5982\u4f55\u3002\u5b83\u4eec\u6709\u8fde\u677f\u5417\uff1f\u6709\u5927\u5e45\u4e0b\u8dcc\u5417\uff1f</p> <p>\u6ca1\u6709\u4e0b\u8dcc\u3002\u522b\u5fd8\u4e86\uff0c\u6211\u4eec\u662f\u901a\u8fc7\u76f8\u5173\u7cfb\u6570\u9009\u51fa\u6765\u7684\u6807\u7684\uff0c\u53ea\u8981\u8fd9\u79cd\u5173\u8054\u8fd8\u5b58\u5728\uff0c\u5373\u4f7f\u4e0d\u8ddf\u968f\u4e0a\u6da8\uff0c\u4e5f\u4e0d\u5e94\u8be5\u5927\u5e45\u4e0b\u8dcc\uff0c\u4e0d\u662f\u5417\uff1f</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6709\u4e00\u652f\u5728\u6211\u4eec\u8ba8\u8bba\u7684\u533a\u95f4\u91cc\u6301\u5e73\uff0c\u4e00\u652f\u4e0a\u6da85%\uff0c\u53e6\u4e00\u652f\u6700\u9ad8\u4e0a\u6da816.9%\u3002\u4f46\u5982\u679c\u4f60\u6709\u66f4\u9ad8\u7684\u671f\u671b\uff0c\u5728\u8fd9\u4e2acase\u4e2d\uff0c\u4e00\u70b9\u70b9\u770b\u76d8\u7ecf\u9a8c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fc7\u6ee4\u6389\u53e6\u5916\u4e24\u53ea\uff0c\u6700\u7ec8\uff0c\u6211\u4eec\u4f1a\u4e70\u5165\u4e0a\u6da816.9%\u548c6\u8fde\u677f\u7684\u80a1\u7968\u3002</p> <p>\u8fd9\u4e2a\u770b\u76d8\u7ecf\u9a8c\u662f\uff0c\u4e0d\u8981\u4e70\u4e0a\u65b9\u6709\u5747\u7ebf\uff0c\u7279\u522b\u662f\u4e2d\u957f\u5747\u7ebf\u7684\u80a1\u3002\u8fd9\u79cd\u80a1\u5728\u4e0a\u653b\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u4f1a\u9047\u5230\u8f83\u5927\u7684\u629b\u538b\u3002\u5982\u679c\u4e00\u4e2a\u5f88\u5c0f\u7684\u677f\u5757\uff0c\u8d44\u91d1\u5df2\u7ecf\u6709\u4e86\u4e00\u5230\u4e24\u4e2a\u8fdb\u653b\u7684\u6807\u7684\u4e86\uff0c\u662f\u4e0d\u4f1a\u6709\u591a\u4f59\u7684\u94b1\u6765\u5173\u7167\u8fd9\u4e9b\u4e2a\u80a1\u7684\u3002</p> <p>\u8fd9\u4e2a\u7b56\u7565\u8fd8\u6709\u4e00\u4e2a\u5f88\u597d\u7684\u5356\u51fa\u6761\u4ef6\u3002\u5982\u679c\u9f99\u5934\u80a1\u4e00\u76f4\u4fdd\u6301\u4e0a\u6da8\uff0c\u800c\u4e2a\u80a1\u7684\u5173\u8054\u7cfb\u6570\u6389\u51fa0.75\uff0c\u663e\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5356\u51fa\u3002\u5982\u679c\u9f99\u5934\u80a1\u51fa\u73b0\u6ede\u6da8\uff08\u5f00\u76d8\u534a\u5c0f\u65f6\u5185\u4e0d\u80fd\u5c01\u4f4f\uff09\uff0c\u5219\u4e5f\u662f\u79bb\u573a\u65f6\u673a\u3002</p> <p>\u8fd9\u4e00\u7bc7\u6211\u4eec\u8ba8\u8bba\u7684\u662f\u540c\u4e00\u677f\u5757\u4e2a\u80a1\u7684\u76f8\u5173\u6027\u3002\u5982\u679c\u662f\u5904\u5728\u4e0a\u4e0b\u6e38\u7684\u4e24\u4e2a\u677f\u5757\uff0c\u5b83\u4eec\u4e5f\u53ef\u80fd\u5b58\u5728\u76f8\u5173\u6027\uff0c\u4f46\u4f1a\u6709\u5ef6\u65f6\u3002\u8fd9\u79cd\u60c5\u51b5\u79f0\u4f5ccross correlation\u3002\u5b83\u5e94\u8be5\u5982\u4f55\u8ba1\u7b97\uff0c\u53c8\u5982\u4f55\u4f7f\u7528\uff0c\u4e5f\u8bb8\u540e\u9762\u6211\u4eec\u4f1a\u7ee7\u7eed\u63a2\u7d22\u3002</p>","tags":["strategy","pearson","spearman"]},{"location":"blog/2023/12/23/%E7%90%83%E9%98%9F%E5%92%8C%E7%A1%AC%E5%B8%81%E5%9B%A0%E5%AD%90/","title":"\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50","text":"<p>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50\u6700\u521d\u6765\u81ea\u4e8e\u8036\u9c81\u5927\u5b66 Tobias Moskowitz \u7684\u53d1\u8868\u4e8e 2021 \u5e74 9 \u6708\u7684\u4e00\u7bc7\u8bba\u6587\uff0c\u53d1\u5e03\u4ee5\u6765\uff0c\u5f97\u5230\u4e86\u8d85\u8fc7 14 \u6b21\u4ee5\u4e0a\u7684\u5f15\u7528\u3002\u8fd9\u7bc7\u8bba\u6587\u540d\u4e3a\u300aAsset Pricing and Sports Betting\u300b\u3002</p> <p>Moskowitz \u4ece\u8fd9\u6837\u4e00\u4e2a\u73b0\u8c61\u5f00\u59cb\uff1a\u5f53\u4eba\u4eec\u629b\u4e00\u679a\u786c\u5e01\u65f6\uff0c\u5982\u679c\u4e0a\u6b21\u629b\u51fa\u4e86\u6b63\u9762\uff0c\u4eba\u4eec\u503e\u5411\u4e8e\u731c\u6d4b\u4e0b\u6b21\u662f\u53cd\u9762\uff1b\u800c\u5f53\u7403\u8d5b\u7684\u4e00\u4e2a\u65b0\u8d5b\u5b63\u5f00\u59cb\u65f6\uff0c\u4eba\u4eec\u66f4\u503e\u5411\u4e8e\u731c\u6d4b\u4e0a\u8d5b\u5b63\u7684\u51a0\u519b\uff0c\u4f9d\u65e7\u4f1a\u5728\u672c\u8d5b\u5b63\u593a\u51a0\u3002\u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\u8fd9\u79cd\u5dee\u522b\u5462\uff1f</p> <p>\u8fd9\u91cc\u5c31\u6d89\u53ca\u5230\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u53ef\u77e5\u6027\u7406\u8bba\u4e86\u3002\u4eba\u4eec\u5bf9\u629b\u786c\u5e01\u8fd9\u4ef6\u6d3b\u52a8\u672c\u8eab\u6bd4\u8f83\u4e86\u89e3\uff0c\u5bf9\u4e8e\u5176\u53d1\u751f\u7684\u6982\u7387\u6bd4\u8f83\u786e\u5b9a\uff0c\u56e0\u6b64\uff0c\u503e\u5411\u4e8e\u5229\u7528\u81ea\u5df1\u638c\u63e1\u7684\u7406\u8bba\u548c\u53ef\u77e5\u6027\uff0c\u4ece\u800c\u5f97\u51fa\u4e0b\u4e00\u6b21\u629b\u786c\u5e01\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u53cd\u8f6c\u8fd9\u4e00\u671f\u671b\u3002</p> <p>\u800c\u5f53\u4e00\u4e2a\u65b0\u8d5b\u5b63\u5f00\u59cb\u65f6\uff0c\u5982\u679c\u8ba9\u4eba\u4eec\u731c\u6d4b\u54ea\u53ea\u7403\u961f\u4f1a\u593a\u51a0\uff0c\u7531\u4e8e\u4eba\u4eec\u5bf9\u65b0\u8d5b\u5b63\u7684\u7403\u961f\u3001\u7403\u961f\u7684\u6210\u5458\u548c\u56e2\u961f\u78e8\u5408\u7b49\u4e0d\u662f\u5f88\u4e86\u89e3\uff0c\u5373\u201c\u51a0\u519b\u662f\u8c01\u201d\u8fd9\u4ef6\u4e8b\u7684\u201c\u53ef\u77e5\u6027\u201d\u8f83\u4f4e\uff0c\u56e0\u6b64\u53ea\u80fd\u4ee5\u8fd9\u4e9b\u7403\u961f\u7684\u5386\u53f2\u6210\u7ee9\u6765\u8003\u5bdf\u5b83\u4eec\uff0c\u6b64\u65f6\u4eba\u4eec\u66f4\u503e\u5411\u4e8e\u731c\u6d4b\u4e0a\u8d5b\u5b63\u7684\u51a0\u519b\u3002</p> <p>Tip</p> <p>\u51a0\u519b\u7403\u961f\u6548\u5e94\u8fd9\u79cd\u73b0\u8c61\u5728\u57fa\u91d1\u6295\u8d44\u4e2d\u975e\u5e38\u5e38\u89c1\u3002\u6bd4\u5982\uff0c\u4eba\u4eec\u901a\u5e38\u4f1a\u9009\u62e9\u8d2d\u4e70\u4e0a\u4e00\u5e74\u516c\u52df\u57fa\u91d1\u51a0\u519b\u4e3b\u7406\u7684\u4ea7\u54c1\uff0c\u65e0\u8bba\u662f\u8001\u7684\u57fa\u91d1\uff0c\u8fd8\u662f\u65b0\u53d1\u7684\u57fa\u91d1\u3002\u8fd9\u4f1a\u5bfc\u81f4\u8be5\u57fa\u91d1\u7ba1\u7406\u7684\u89c4\u6a21\u8fc5\u901f\u6269\u5927\uff0c\u6700\u7ec8\u5bfc\u81f4\u8239\u5927\u96be\u6389\u5934\uff0c\u5728\u65b0\u7684\u4e00\u5e74\u91cc\u8868\u73b0\u4e0d\u4f73\uff0c\u4ece\u800c\u51fa\u73b0\u51a0\u519b\u9b54\u5492\u3002\u5728\u51a0\u519b\u57fa\u91d1\u7ecf\u7406\u8eab\u4e0a\uff0c\u52a8\u91cf\u548c\u53cd\u8f6c\u6548\u5e94\u662f\u4e00\u4f53\u4e24\u9762\uff0c\u4e00\u4e2a\u5468\u671f\u800c\u5df2\u3002</p> <p>Moskowitz \u8ba4\u4e3a\uff0c\u5982\u679c\u4e00\u4e2a\u6807\u7684\u4fe1\u606f\u662f\u53ef\u77e5\u7684\uff0c\u5219\u5904\u4e8e\u786c\u5e01\u6a21\u5f0f -- \u63a5\u4e0b\u6765\u53ef\u80fd\u53d1\u751f\u8d8b\u52bf\u53cd\u8f6c\uff1b\u800c\u5982\u679c\u4fe1\u606f\u662f\u672a\u77e5\u7684\uff0c\u5219\u4f1a\u5904\u5728\u7403\u961f\u6a21\u5f0f\uff0c\u5373\u52a8\u91cf\u5ef6\u7eed\u3002</p> <p>\u5982\u4f55\u8bc4\u5224\u6807\u7684\u4fe1\u606f\u53ef\u77e5\u5462\uff1fMoskowitz \u8ba4\u4e3a\uff0c\u53ef\u4ee5\u4f9d\u636e\u516c\u53f8\u662f\u5426\u53d1\u5e03\u4e86\u4e1a\u7ee9\u9884\u544a\uff1a\u53d1\u5e03\u4e86\u4e1a\u7ee9\u9884\u544a\u7684\u516c\u53f8\uff0c\u5176 \u201c\u53ef\u77e5\u6027\u201d\u5c31\u4f1a\u63d0\u9ad8\uff0c\u6295\u8d44\u8005\u5bf9\u4e8e\u5176\u672a\u6765\u8d70\u52bf\u5c31\u6709\u4e86\u6e05\u6670\u7684\u5224\u65ad\u3002</p> <p>\u770b\u5230\u8fd9\u91cc\uff0c\u6709\u7ecf\u9a8c\u7684\u6295\u8d44\u8005\u4f1a\u7acb\u5373\u4e0e A \u80a1\u5bf9\u4e0a\u53f7\uff1a\u8fd9\u4e0d\u5c31\u662f A \u80a1\u7684\u5229\u597d\u51fa\u5c3d\u662f\u5229\u7a7a\uff1b\u5229\u7a7a\u51fa\u5c3d\u662f\u5229\u597d\uff0c\u6216\u8005\u8bf4\u5229\u597d\u89c1\u5149\u6b7b\u5417\uff1f\u4e8b\u5b9e\u5c31\u662f\u5982\u6b64\uff0c\u53ea\u4e0d\u8fc7 Moskowitz \u5bf9\u6b64\u73b0\u8c61\u8fdb\u884c\u4e86\u7406\u8bba\u603b\u7ed3\u3002</p> <p>\u5982\u4f55\u5c06\u5176\u6784\u5efa\u6210\u56e0\u5b50\u4ee5\u4f9b\u6295\u8d44\u5462\uff1f\u6309\u7167 Moskowitz \u7684\u539f\u59cb\u5b9a\u4e49\u6765\u751f\u6210\u56e0\u5b50\uff0c\u9700\u8981\u63d0\u53d6\u4e1a\u7ee9\u9884\u544a\u4fe1\u606f\u3002\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u514d\u8d39\u7684 akshare \u6765\u83b7\u53d6\u8fd9\u90e8\u5206\u4fe1\u606f\u3002</p> <pre><code>import akshare as ak\n\nstock_yjyg_em_df = ak.stock_yjyg_em(date=\"20230930\")\nprint(stock_yjyg_em_df[[\"\u80a1\u7968\u7b80\u79f0\",\"\u9884\u6d4b\u6307\u6807\",\"\u4e1a\u7ee9\u53d8\u52a8\u5e45\u5ea6\"]])\n</code></pre> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\u7684\u662f\uff0c\u65e5\u671f\u53c2\u6570\u662f\u6709\u89c4\u5f8b\u7684\uff0c\u4f60\u53ea\u80fd\u4f7f\u7528\u5b63\u5ea6\u672b\u7684\u65e5\u671f\uff0c\u5373 0331\uff0c0630\uff0c0930 \u548c 1231\uff08\u524d\u9762\u52a0\u4e0a\u5e74\u4efd\uff09\u3002\u5982\u679c\u8f93\u5165\u5176\u5b83\u65e5\u671f\uff0c\u5219\u5c06\u629b\u51fa\u5f02\u5e38\u3002</p> <p>\u6700\u540e\u6211\u4eec\u5f97\u5230\u5982\u4e0b\u793a\u4f8b\u7ed3\u679c\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u516c\u544a\u81ea\u5e26\u6709\u65e5\u671f\uff0c\u56e0\u6b64\u53ef\u4ee5\u8ba4\u4e3a\u8fd9\u662f PIT \u5408\u683c\u7684\u6570\u636e\u3002</p> <p>\u8981\u6784\u5efa\u56e0\u5b50\uff0c\u53ef\u4ee5\u4ee5\u516c\u544a\u53d1\u5e03\u6b21\u65e5\u8d77\uff0c\u5206\u522b\u53d6 1\uff0c3\uff0c 5\uff0c 8\uff0c 10\uff0c 13 \u7b49\u5468\u671f\u7684\u6536\u76ca\u7387\uff0c\u5bf9\u56e0\u5b50\u8fdb\u884c\u8bc4\u4f30\u3002\u56e0\u5b50\u8bc4\u4f30\u662f\u901a\u7528\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4f7f\u7528 quantpian \u7684 Alphalens \u5e93\uff0c\u6211\u4eec\u5728\u7b2c 15 \u8bfe\u4e2d\u6709\u4e13\u95e8\u4ecb\u7ecd\uff0c\u5e76\u63d0\u4f9b\u4e86\u4f7f\u7528\u793a\u4f8b\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8d58\u8ff0\u4e86\u3002</p>","tags":["strategy","factor"]},{"location":"blog/2023/12/23/%E7%90%83%E9%98%9F%E5%92%8C%E7%A1%AC%E5%B8%81%E5%9B%A0%E5%AD%90/#quize","title":"Quize","text":"<p>\u672c\u7bc7\u7b14\u8bb0\u63d0\u5230\u4e86 PIT \u5408\u683c\u8fd9\u4e2a\u8bcd\uff0c\u4f60\u77e5\u9053\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u5417\uff1fPIT\u6570\u636e\u662f\u6211\u4eec\u4ece\u6570\u636e\u6e90\u5934\u907f\u514d\u672a\u6765\u6570\u636e\u7684\u91cd\u8981\u624b\u6bb5\u3002\u5982\u679c\u60f3\u77e5\u9053\uff0c\u8bf7\u7559\u8a00\u8bc4\u8bba\u5427\u3002</p>","tags":["strategy","factor"]},{"location":"blog/2024/01/10/alphalens-and-low-turnover-factor-2/","title":"Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!","text":"<p> \u4e0a\u4e00\u7bc7\u7b14\u8bb0\uff0c\u6211\u4eec\u5df2\u7ecf\u4e3a\u56e0\u5b50\u5206\u6790\u51c6\u5907\u597d\u4e86\u6570\u636e\u3002\u8fd9\u4e00\u7bc7\u7b14\u8bb0\uff0c\u6211\u4eec\u5c31\u8fdb\u884c\u56e0\u5b50\u5206\u6790\u3002\u5206\u6790\u8fc7\u7a0b\u5728 Alphalens \u4e2d\u975e\u5e38\u7b80\u5355\uff0c\u6838\u5fc3\u662f\u8bfb\u61c2\u5b83\u7684\u62a5\u544a\u3002</p>","tags":["strategy","factor","\u56e0\u5b50\u5206\u6790","Alphalens"]},{"location":"blog/2024/01/10/alphalens-and-low-turnover-factor-2/#alphalens","title":"Alphalens \u6846\u67b6","text":"<p>Alphalens \u7684\u4e3b\u8981\u6a21\u5757\u662f utils, tears, performance \u548c plotting\u3002</p> <p>utils \u4e3b\u8981\u529f\u80fd\u662f\u63d0\u4f9b\u6570\u636e\u9884\u5904\u7406\uff0c\u6211\u4eec\u5df2\u7ecf\u5728\u4e0a\u4e00\u7bc7\u7b14\u8bb0\u4e2d\uff0c\u5df2\u7ecf\u4f7f\u7528\u8fc7 get_clean_factor_and_forward_returns \u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5b9e\u9645\u4e0a\u662f\u7531quantize_factor get_clean_factor\u548ccompute_forward_return \u8fd9\u6837\u4e09\u4e2a\u65b9\u6cd5\u6784\u6210\u7684\u3002</p> <p>\u5728\u8fd9\u4e2a\u65b9\u6cd5\u8fd0\u884c\u65f6\uff0c\u5b83\u4f1a\u8f93\u51fa\u8fd9\u6837\u7684\u63d0\u793a\u4fe1\u606f\uff1a</p> <pre><code>Dropped 4.1% entries from factor data: 4.1% in forward returns computation and 0.0% in binning phase (set max_loss=0 to see potentially suppressed Exceptions).\n\nmax_loss is 35.0%, not exceeded: OK!\n</code></pre> <p>\u5b83\u6d89\u53ca\u5230\u56e0\u5b50\u5206\u6790\u6846\u67b6\u7684\u51e0\u4e2a\u6b65\u9aa4\uff0c\u5728\u6211\u4eec\u7684\u8bfe\u7a0b\u4e2d\uff0c\u5bf9\u5176\u539f\u7406\u6709\u8be6\u7ec6\u8bb2\u89e3\u3002\u4f5c\u4e3a\u4e00\u4e2a\u5feb\u901f\u5165\u95e8\uff0c\u6211\u4eec\u5c31\u8df3\u8fc7\u8fd9\u4e9b\u7ec6\u8282\u3002\u6211\u4eec\u53ea\u8981\u77e5\u9053\uff0c\u770b\u5230\u6700\u540e\u7684 not exceeded: OK\uff01\u5c31\u5927\u529f\u544a\u6210\u3002</p> <p>\u4e3a\u4ec0\u4e48\u9700\u8981\u638c\u63e1\u56e0\u5b50\u5206\u6790\u7684\u539f\u7406\uff1f</p> <p>\u5728\u6211\u4eec\u8fd9\u4e2a\u7b80\u5355\uff08\u4f46\u8fd9\u4e2a\u56e0\u5b50\u4ecd\u7136\u6709\u6548\uff09\u7684\u793a\u4f8b\u4e2d\uff0c\u56e0\u5b50\u6784\u5efa\u8fc7\u7a0b\u4f1a\u8fd0\u884c\u5f97\u5f88\u4e1d\u6ed1\u3002\u4f46\u4e00\u65e6\u4f60\u5f00\u59cb\u6784\u5efa\u590d\u6742\u7684\u56e0\u5b50\uff0c\u5c31\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\u3002\u8fd9\u5176\u4e2d\u6700\u5e38\u89c1\u7684\uff0c\u53ef\u80fd\u5c31\u662f\u5206\u7ec4\u5e73\u8861\u3001\u7f3a\u5931\u503c\u5904\u7406\u540e\uff0c\u6709\u6548\u8bb0\u5f55\u4e0d\u8db3\u7b49\u7b49\uff0c\u5c31\u4f1a\u5361\u5728\u8fd9\u4e00\u6b65\u3002</p> <p>\u8fd9\u5f20\u5bfc\u56fe\u663e\u793a\u4e86Alphalens\u7684\u6a21\u5757\u7ec4\u7ec7\u60c5\u51b5:</p> <p></p> <p>performance \u6a21\u5757\u63d0\u4f9b\u56e0\u5b50\u5206\u6790\u7684\u57fa\u7840\u529f\u80fd\uff0cplotting \u6a21\u5757\u63d0\u4f9b\u56fe\u5f62\u7ed8\u5236\u529f\u80fd\u3002\u800c tears \u6a21\u5757\u5219\u662f\u5c06 performance \u4e0e plotting \u7684\u64cd\u4f5c\u7ec4\u5408\u8d77\u6765\uff0c\u5411\u7528\u6237\u751f\u6210\u62a5\u544a\u3002</p> <p>utils \u4e0e tears \u6a21\u5757\u662f\u7528\u6237\u63a5\u53e3\uff0c\u6211\u4eec\u53ef\u4ee5\u53ea\u4f7f\u7528\u8fd9\u4e24\u4e2a\u6a21\u5757\u4e2d\u7684\u529f\u80fd\uff0c\u800c\u4e0d\u53bb\u7ba1 performance \u4e0e plotting \u6a21\u5757\u5177\u4f53\u662f\u600e\u4e48\u5de5\u4f5c\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u67e5\u770b factor_data\uff08\u8bf7\u56de\u987e\u4e0a\u4e00\u7bc7\u7b14\u8bb0\uff0c\u4ee5\u4e86\u89e3\u8fd9\u4e2a\u6570\u636e\u662f\u5982\u4f55\u751f\u6210\u7684\uff09:</p> <p></p> <p></p> <p>\u5217\"1D\"\u7b49\u4ee3\u8868\u4e86\u5bf9\u5e94\u884c\u6240\u5c5e\u7684\u65f6\u95f4\u6233\u4e4b\u540e\u7684 N \u5929\u7684\u6536\u76ca\u3002factor \u5219\u662f\u5f53\u65f6\u7684\u56e0\u5b50\u503c\uff0cfactor_quantile \u5219\u662f\u8be5\u56e0\u5b50\u5728\u5f53\u5929\u4e2d\u7684\u5206\u5c42\u3002\u56e0\u6b64\uff0c\u7b2c\u4e00\u884c\u8bb0\u5f55\u8868\u660e\uff0c\u5bf9\u4e8e 000001 \u8fd9\u4e2a\u6807\u7684\uff0c\u5728 1 \u6708 3 \u65e5\uff0c\u56e0\u5b50\u4e3a 1.13\uff0c\u5c5e\u4e8e\u7b2c\u4e8c\u7ec4\uff08\u7531\u5c0f\u5230\u5927\uff0c\u4ece 1 \u5f00\u59cb\uff09\u3002\u8be5\u8d44\u4ea7\u5728\u968f\u540e\u7684\u4e00\u5929\u3001\u4e94\u5929\u548c\u5341\u5929\u5185\uff0c\u7d2f\u8ba1\u6da8\u8dcc\u5e45\u5206\u522b\u4e3a 4%, 4.9%\u548c 8.8%\u3002</p> <p>Open or Close?</p> <p>\u5728\u793a\u4f8b\u4e2d\u6211\u4eec\u4f7f\u7528\u7684\u662f\u6536\u76d8\u4ef7\u3002\u6b63\u786e\u7684\u505a\u6cd5\u4e00\u822c\u662f\u4f20\u9012\u5f00\u76d8\u4ef7\u7ed9 prices \u8868\u683c\uff0calphalens \u4f1a\u4fdd\u8bc1\u5bf9 T \u65e5\u7684\u56e0\u5b50\uff0c\u4f7f\u7528 T+1 \u7684\u4ef7\u683c\u4f5c\u4e3a\u5165\u573a\u4ef7\u683c\uff0cT+N+1 \u7684\u4ef7\u683c\u4f5c\u4e3a\u9000\u51fa\u4ef7\u683c\u3002\u5982\u679c N \u4e3a 1\uff0c\u5219 T \u671f\u56e0\u5b50\u7684\u4e00\u65e5\u56de\u62a5\u4e3a $$ Ret=\\frac{P_{t2}}{P_{t1}}-1 $$ \u6b64\u5916\uff0c\u4e00\u822c\u4e0d\u5f97\u8ba9 T \u671f\u7684\u4ef7\u683c\u53c2\u4e0e T \u671f\u7684\u56e0\u5b50\u8ba1\u7b97\uff0c\u8fd9\u6837\u4f1a\u5e26\u6765\u672a\u6765\u6570\u636e\u3002\u6b63\u786e\u7406\u89e3\u8fd9\u4e9b\u7ec6\u8282\uff0c\u662f\u5b9e\u65bd\u597d\u91cf\u5316\u4ea4\u6613\u7684\u5173\u952e\u3002</p> <p>\u63a5\u4e0b\u6765\u7684\u5206\u6790\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 create_full_tear_sheet \u65b9\u6cd5\uff0c\u6765\u751f\u6210\u4e00\u4e2a\u5b8c\u6574\u800c\u5168\u9762\u7684\u62a5\u544a\u3002\u4e0d\u8fc7\uff0c\u51fa\u4e8e\u8bb2\u89e3\u7684\u65b9\u4fbf\uff0c\u6211\u4eec\u5c06\u628a create_full_tear_sheet \u65b9\u6cd5\u62c6\u5f00\uff0c\u4e00\u6b65\u6b65\u5730\u5206\u6790\u5b83\u7684\u5b9e\u73b0\u3002</p>","tags":["strategy","factor","\u56e0\u5b50\u5206\u6790","Alphalens"]},{"location":"blog/2024/01/10/alphalens-and-low-turnover-factor-2/#_1","title":"\u56de\u62a5\u5206\u6790","text":"<p>\u6211\u4eec\u9996\u5148\u6700\u5173\u5fc3\u7684\uff0c\u53ef\u80fd\u662f\u56e0\u5b50\u56de\u62a5\u3002\u56de\u62a5\u5206\u6790\u5c3d\u7ba1\u6ca1\u90a3\u4e48\u53ef\u9760\uff0c\u4f46\u5b83\u65e2\u611f\u6027\uff0c\u53c8\u6027\u611f\uff0c\u6bd5\u7adf\uff0c\u6bd4\u8d77\u6ce2\u52a8\u7387\u3001IC \u8fd9\u4e9b\u5ba2\u89c2\u4f46\u6beb\u65e0\u611f\u60c5\u800c\u8a00\u7684\u7edf\u8ba1\u5b66\u6982\u5ff5\u800c\u8a00\uff0c\u6211\u4eec\u90fd\u66f4\u559c\u6b22\u94b1\uff01</p> <pre><code>from alphalens.performance import mean_return_by_quantile\n\nmean_return_by_q_daily, std_err = mean_return_by_quantile(\n    factor_data, by_date=True)\n\nmean_return_by_q_daily.head()\n</code></pre> <p>\u6211\u4eec\u5f97\u5230\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u7ed3\u679c\u53ea\u663e\u793a\u4e86\u7b2c 1 \u7ec4\u7684\u524d\u51e0\u671f\u6570\u636e\u3002\u8fd9\u4e2a\u6570\u636e\u8fc7\u4e8e\u8be6\u5c3d\uff0c\u4f5c\u4e3a\u6982\u89c8\uff0c\u6211\u4eec\u66f4\u5e0c\u671b\u7ed9\u51fa\u5b83\u7684\u6458\u8981\u4fe1\u606f\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e by_date = False \u6765\u5b9e\u73b0\uff1a</p> <p></p> <p>\u8fd9\u6837\u6211\u4eec\u5f97\u5230\u7684\u56e0\u5b50\u5206\u5c42\u7b2c\u4e00\u7ec4\uff0c\u5b83\u7684\u65e5\u56de\u62a5\u662f0.063%\u3002\u5982\u679c\u6309250\u5929\u6765\u8ba1\u7b97\u5e74\u590d\u5229\u7684\u8bdd\uff0c\u6211\u4eec\u4f1a\u5f97\u5230\u5e74\u531617.05%\u7684\u56de\u62a5\uff0c\u5c31\u51ed\u8fd9\u4e00\u4e2a\u56e0\u5b50\uff0c\u4f60\u5df2\u7ecf\u79d2\u4e8698%\u4ee5\u4e0a\u7684\u516c\u5893\uff08\u6b64\u5904\u65e0\u9519\u522b\u5b57\uff09\u57fa\u91d1\u7ecf\u7406\u4e86\uff01</p> <p>Info</p> <p>\u5982\u679c\u4f60\u8981\u590d\u73b0\u6b64\u5904\u7ed3\u679c\u7684\u8bdd\uff0c\u8bf7\u6ce8\u610f\u5206\u5c42\u65b9\u6cd5\u9009 quantiles = 10\uff0c\u800c\u4e0d\u662fbins=10</p> <p>\u4e0e\u4e4b\u914d\u5bf9\u7684\u7ed8\u56fe\u51fd\u6570\u662f plot_quantile_returns_bar:</p> <pre><code>import seaborn as sns\nfrom alphalens.plotting import plot_quantile_returns_bar\n\nplot_quantile_returns_bar(mean_return_by_q_daily)\nsns.despine()\n</code></pre> <p></p> <p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86seaborn\u7684despine\u51fd\u6570\u6765\u53bb\u6389\u4e0a\u65b9\u548c\u53f3\u8fb9\u7684spine\u7ebf\u3002</p> <p>\u4ece\u56fe\u6765\u770b\uff0c\u8fd9\u4e2a\u56e0\u5b50\u4e0d\u9519\u3002\u5b83\u8868\u73b0\u51fa\u8f83\u597d\u7684\u5355\u8c03\u6027\uff0c\u4e5f\u5c31\u662f\u968f\u7740\u5206\u7ec4\u53f7\u589e\u52a0\uff0c\u56e0\u5b50\u8868\u73b0\u5728\u53d8\u5dee\u3002\u6ce8\u610f\uff0c\u6211\u4eec\u7684\u56e0\u5b50\u662f\u6362\u624b\u7387\u56e0\u5b50\uff0c\u5728\u5206\u5c42\u4e2d\uff0c\u7ec4\u53f7\u4f4e\u7684\uff0c\u6b63\u597d\u5c31\u662f\u4f4e\u6362\u624b\u7387! \u5982\u679c\u56e0\u5b50\u80fd\u8868\u73b0\u51fa\u8f83\u597d\u7684\u5355\u8c03\u6027\uff0c\u6211\u4eec\u4e0d\u4ec5\u53ef\u4ee5\u9760\u505a\u591a\u83b7\u5f97\u6536\u76ca\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u505a\u7a7a\u6765\u4f7f\u6536\u76ca\u500d\u589e\uff01</p> <p>\u4e0d\u8fc7\uff0c\u5355\u51ed\u4e00\u4e2a\u65e5\u5747\u6536\u76ca\u6765\u5224\u65ad\u56e0\u5b50\u4e0d\u592a\u53ef\u9760\uff0c\u6211\u4eec\u8fd8\u5f97\u770b\u770b\u56de\u62a5\u7684\u7edf\u8ba1\u5b66\u7279\u5f81\uff0c\u770b\u770b\u8fd9\u4e9b\u6536\u76ca\uff0c\u662f\u5426\u662f\u7531\u5c11\u6570\u51e0\u7b14\u610f\u5916\u6536\u5165\u8d21\u732e\u7684\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u9700\u8981violin\u56fe\uff1a</p> <pre><code>from alphalens.plotting import plot_quantile_returns_violin\n\nplot_quantile_returns_violin(mean_return_by_q_daily)\nsns.despine()\n</code></pre> <p>Note</p> <p>\u6b64\u65f6\u8981\u6ce8\u610f\uff0c \u5728\u751f\u6210mean_return_by_q_daily\u65f6\uff0cby_date\u53c2\u6570\u5fc5\u987b\u4e3aTrue\u3002\u5426\u5219\uff0c\u6211\u4eec\u5f97\u5230\u7684\u662f\u4e00\u4e9b\u6807\u91cf\uff0c\u662f\u4e0d\u5177\u6709\u7edf\u8ba1\u5b66\u7279\u5f81\u7684\u3002</p> <p>\u6211\u4eec\u5f97\u5230\u7684\u56fe\u5982\u4e0b\uff1a</p> <p></p> <p>\u6211\u4eec\u6765\u5206\u6790\u7b2c1\u7ec4\u7684\u6570\u636e\u3002\u53ef\u4ee5\u770b\u51fa\uff08\u5f53\u7136\u56fe\u6709\u70b9\u5c0f\uff0c\u4f60\u53ef\u80fd\u5565\u4e5f\u770b\u4e0d\u51fa\u6765\uff0c\u81ea\u5df1\u62ff\u6570\u636e\u8bd5\u5427\uff01\uff09\uff0c\u81f3\u5c11\u6bd4\u8f83\u63a5\u8fd1\u6b63\u6001\u5206\u5e03\uff0c\u6ca1\u6709\u5f88\u957f\u7684\u5c16\u5cf0\uff0c\u8fd9\u8bf4\u660e\u6b63\u7684\u6536\u76ca\u5e76\u4e0d\u662f\u5c11\u6570\u51e0\u7b14\u5e26\u6765\u7684\u3002\u53cd\u89c2\u7b2c3\u7ec4\u768410\u65e5\u6536\u76ca\uff0c\u5b83\u51fa\u73b0\u4e86\u5f88\u957f\u7684\u5c16\u5cf0\uff0c\u8fd9\u8bf4\u660e\u53ef\u80fd\u51fa\u73b0\u4e86\u79bb\u7fa4\u503c\u3002</p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u67e5\u770b\u6700\u5927\u7684\u4e00\u7ec4\u56e0\u5b50\u4e0e\u6700\u5c0f\u7684\u4e00\u7ec4\u56e0\u5b50\u4e4b\u95f4\u7684\u5229\u5dee\u3002</p> <pre><code>from alphalens.performance import compute_mean_returns_spread\nfrom alphalens.plotting import plot_mean_quantile_returns_spread_time_series\n</code></pre> <pre><code>qrs, ses = compute_mean_returns_spread(mean_return_by_q_daily,upper_quant=1, lower_quant=9,std_err=std_err)\n\nplot_mean_quantile_returns_spread_time_series(qrs, ses)\n</code></pre> <p>\u6700\u7ec8\u6211\u4eec\u5f97\u5230\u4e86\u4e0b\u56fe\uff08\u8fd9\u91cc\u53ea\u53d6\u4e861\u5929\uff09\uff1a</p> <p></p> <p>\u7ea2\u8272\u7684\u7ebf\u662f\u6708\u7ebf\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u591a\u6570\u65f6\u95f4\uff0c\u5b83\u6bd4\u8f83\u660e\u663e\u5730\u3001\u7a33\u5b9a\u5730\u5c45\u4e8e\u96f6\u8f74\u4e4b\u4e0a\uff0c\u8fd9\u8bf4\u660e\uff0c\u57fa\u4e8e\u4f4e\u6362\u624b\u7387\u7684\u591a\u7a7a\u7b56\u7565\uff0c\u80fd\u53d6\u5f97\u8f83\u597d\u7684\u6536\u76ca\u3002</p> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u5728\u8ba1\u7b97\u591a\u7a7a\u5229\u5dee\u65f6\uff0ccompute_mean_returns_spread\u51fd\u6570\u9700\u8981\u6211\u4eec\u6307\u5b9aupper_quant\u548clower_quant\u3002\u5728\u8fd9\u91cc\uff0cupper_quant\u662f\u7b2c\u4e00\u7ec4\uff0c\u800clower_quant\u4ece\u524d\u9762\u7684\u5206\u6790\u6765\u770b\u662f\u7b2c9\u7ec4\uff0c\u800c\u4e0d\u662f\u7b2c10\u7ec4\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u4ee5\u7d2f\u79ef\u56de\u62a5\u7387\u5206\u6790\u4f5c\u4e3a\u672c\u7bc7\u7b14\u8bb0\u7684\u7ed3\u675f\u3002\u8fd9\u53ef\u80fd\u4e5f\u662f\u521d\u5b66\u8005\u6700\u559c\u6b22\u7684\u66f2\u7ebf\uff1a</p> <pre><code>from alphalens.plotting import plot_cumulative_returns_by_quantile\n\nmean_return_by_q_daily, std_err = mean_return_by_quantile(\n    factor_data, by_date=True)\n</code></pre> <pre><code>plot_cumulative_returns_by_quantile(mean_return_by_q_daily, period='1D')\n</code></pre> <p></p> <p>\u6211\u8ba4\u4e3a\u8fd9\u91ccalphalens\u51fa\u73b0\u4e86\u4e00\u4e2a\u9519\u8bef\u3002\u6211\u4eec\u8981\u6c42\u5b83\u53ea\u7ed8\u5236\u4ee51\u5929\u4e3a\u5355\u4f4d\u7684\u5404\u5206\u5c42\u7684\u7d2f\u79ef\u56de\u62a5\uff0c\u4f46\u5b83\u5374\u9644\u8d60\u4e865\u5929\u548c10\u5929\u7684\u8f68\u8ff9\uff0c\u4f46\u8fd9\u589e\u52a0\u4e86\u8bfb\u56fe\u7684\u96be\u5ea6\uff0c\u56e0\u6b64\u6211\u4eec\u5e76\u4e0d\u9886\u60c5\u3002</p> <p>\u4ece\u7d2f\u79ef\u56de\u62a5\u56fe\u6765\u770b\uff0c\u5982\u679c\u6211\u4eec\u80fd\u628a\u8be5\u56e0\u5b50\u4e0e\u4e00\u4e9b\u6b63\u786e\u7684\u62e9\u65f6\u56e0\u5b50\u7ec4\u5408\u5728\u4e00\u8d77\uff0c\u5c31\u80fd\u83b7\u5f97\u5de8\u5927\u7684\u6536\u76ca\u3002\u5373\u4fbf\u5982\u6b64\uff0c\u57281\u65e5\u7d2f\u79ef\u56de\u62a5\u4e2d\uff0c\u6700\u597d\u7684\uff08\u4e5f\u5c31\u662f\u5206\u7ec4\u4e3a1\uff09\u6570\u636e\u8868\u660e\uff0c\u4ecd\u7136\u80fd\u5b9e\u73b0\u4e00\u4e2a\u6b63\u6536\u76ca\u3002</p> <p>\u521a\u521a\u6211\u4eec\u5c55\u793a\u7684\u662f\u5206\u5c42\u56e0\u5b50\u56de\u62a5\u3002Alphalens\u8fd8\u63d0\u4f9b\u4e86\u56e0\u5b50\u4f5c\u4e3a\u6574\u4f53\u7684\u56de\u62a5\u8ba1\u7b97\u548c\u7ed8\u56fe\u3002\u5728\u6211\u4eec\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u8fd9\u6837\u505a\u5e76\u6ca1\u6709\u610f\u4e49\uff0c\u56e0\u4e3a\u662f\u4f4e\u6362\u624b\u7387\u4ea7\u751f\u4ef7\u503c\uff0c\u800c\u4e0d\u662f<sub>~\u6362\u624b\u7387</sub>~\u4ea7\u751f\u4ef7\u503c\u3002</p>","tags":["strategy","factor","\u56e0\u5b50\u5206\u6790","Alphalens"]},{"location":"blog/2024/01/11/low-turnover-factor-3/","title":"\u56e0\u5b50\u5206\u6790\uff083\uff09- \u90fd\u662f\u5751\uff01\u8fd9\u4e48\u7b80\u5355\u7684Alpha\u8ba1\u7b97\uff0c\u7adf\u7136\u9519\u4e86\uff1f\uff01","text":"<p>\u6211\u4eec\u7ee7\u7eed Alphalens \u56e0\u5b50\u5206\u6790\u62a5\u544a\u7684\u89e3\u8bfb\u3002\u5728\u8fc7\u53bb\u7684\u4e24\u7bc7\u7b14\u8bb0\u4e2d\uff0c\u6211\u4eec\u90fd\u63d0\u5230\uff0c\u8fd0\u7528 Alphalens \u8fdb\u884c\u56e0\u5b50\u5206\u6790\u6b65\u9aa4\u5f88\u7b80\u5355\uff0c\u4f46\u662f\u5982\u679c\u4e0d\u4e86\u89e3\u5b83\u80cc\u540e\u7684\u673a\u5236\u4e0e\u903b\u8f91\uff0c\u5f88\u5bb9\u6613\u5f97\u5230\u4f3c\u662f\u800c\u975e\u7684\u7ed3\u8bba\u3002</p> <p>Alphalens \u63d0\u4f9b\u4e86alpha\u548cbeta\u5206\u6790\u3002\u65b9\u6cd5\u662ffactor_alpha_beta\uff1a</p> <pre><code>from alphalens.performance import factor_alpha_beta\n\nalpha, beta = factor_alpha_beta(factor_data)\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <p></p> <p>\u770b\u4e0a\u53bb\u5f88\u5b8c\u7f8e\u3002</p> <p>\u8fd9\u4e2a\u7ed3\u679c\u8868\u660e\uff0c\u8be5\u56e0\u5b50\u7684\u5e74\u5316alpha\u662f2.7%\uff0c\u98ce\u9669\u66b4\u9732\u4e3a35%\uff0c\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u53d7\u5230\u5e02\u573a\u5f71\u54cd\u3002\u6211\u4eec\u6309\u7167 Alphalens \u7684\u8981\u6c42\uff0c\u901a\u8fc7 get_clean_factor_and_forward_returns \u65b9\u6cd5\u83b7\u5f97\u4e86 factor_data, \u7136\u540e\u7528\u5b83\u6765\u8ba1\u7b97 alpha \u548c beta\u3002\u8fc7\u7a0b\u7b80\u5355\u660e\u4e86\uff0c\u4f3c\u4e4e\u4e0d\u53ef\u80fd\u51fa\u4efb\u4f55\u9519\u8bef\u3002</p> <p>\u4f46\u5b9e\u9645\u4e0a\uff0c\u5982\u6b64\u5f97\u5230\u7684 alpha \u548c beta\uff0c\u5728\u6211\u4eec\u8fd9\u4e2a\u793a\u4f8b\u4e2d\u5e76\u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u3002</p> <p>Warning</p> <p>\u5728\u505a\u91cf\u5316\u7814\u7a76\u65f6\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5f97\u5230\u7684\u4efb\u4f55\u6570\u503c\u90fd\u8fdb\u884c\u4ed4\u7ec6\u7684\u7814\u7a76\uff0c\u4e0d\u80fd\u8f7b\u4fe1\u4efb\u4f55\u4e00\u4e2a\u7ed3\u679c\uff0c\u56e0\u4e3a\u6709\u7ed3\u679c\u548c\u7ed3\u679c\u6b63\u786e\u5b8c\u5168\u662f\u4e24\u56de\u4e8b\u3002</p> <p>\u5728Alphalens\u4e2d\uff0calpha\u548cbeta\u662f\u901a\u8fc7\u56e0\u5b50\u7ec4\u5408\u6536\u76ca\u5bf9\u5e02\u573a\u7ec4\u5408\u6536\u76ca\u7684\u6700\u5c0f\u4e8c\u4e58\u56de\u5f52\uff08OLS\uff09\u6765\u6c42\u5f97\u7684\u3002</p> <p>Info</p> <p>Alphalens\u5728\u8fd9\u91cc\u501f\u7528\u4e86statsmodels\u4e2d\u7684OLS\u65b9\u6cd5\u3002</p> <p>\u5176\u4e2d\uff0c\u5e02\u573a\u7ec4\u5408\u7684\u6536\u76ca\u662f\u5bf9\u5404\u6807\u7684\u6536\u76ca\u7684\u7b80\u5355\u5e73\u5747\u3002\u5047\u8bbe\u6211\u4eec\u7684\u7ec4\u5408\u5171\u67094\u4e2a\u6807\u7684\uff0c\u67d0\u4e00\u65e5\u5b83\u4eec\u5404\u81ea\u7684\u6536\u76ca\u5206\u522b\u4e3a: 0.01189, 0.01102, -0.01241\u548c-0.01898\uff0c\u5219\u5f53\u65e5\u5e02\u573a\u7ec4\u5408\u7684\u6536\u76ca\u4e3a</p> \\[ (0.01189 + 0.01102 -0.01241 -0.01898)/4= -0.00212 \\] <p>\u800c\u56e0\u5b50\u7ec4\u5408\u6536\u76ca\u7684\u8ba1\u7b97\uff0c\u6d89\u53ca\u5230\u56e0\u5b50\u6743\u91cd\u7684\u5206\u914d\u95ee\u9898\u3002\u56e0\u5b50\u5206\u914d\u6743\u91cd\\(W\\)\u4e00\u65e6\u786e\u5b9a\uff0c\u5219\u5219\u56e0\u5b50\u7ec4\u5408\u7684\u6536\u76ca\u5c31\u53ef\u7531\u4e0b\u5217\u516c\u5f0f\u6c42\u51fa\uff1a</p> \\[     r_p = \\sum{r_i * W_i} \\] <p>\u5173\u952e\u5728\u4e8e\u6743\u91cd\\(W\\)\u7684\u8ba1\u7b97\u3002</p> <p>Alphalens\u662f\u8fd9\u6837\u8ba1\u7b97\u7684\uff1a\u5b83\u5c06factor_data\u6309\u5929\u8fdb\u884c\u5206\u7ec4\uff0c\u7136\u540e\u5bf9\u5c06\u6bcf\u4e2aasset\u7684\u56e0\u5b50\u9664\u4ee5\u56e0\u8be5\u7ec4\u56e0\u5b50\u4e4b\u548c\uff0c\u8fd9\u6837\u5f97\u5230\u7684\u7ed3\u679c\uff0c\u5176\u548c\u4e3a1\u3002\u6b64\u5916\uff0c\u5b83\u8fd8\u63d0\u4f9b\u4e00\u4e2a\u53c2\u6570\uff0c\u4ee5\u8fdb\u884c\u96f6\u5747\u503c\u4e2d\u5fc3\u5316\uff0c\u5373\u5c06\u56e0\u5b50\u503c\u51cf\u53bb\u4e2d\u4f4d\u6570\uff0c\u518d\u9664\u4ee5\u8be5\u7ec4\u56e0\u5b50\u4e4b\u548c\uff0c\u8fd9\u6837\u5f97\u5230\u7684\u56e0\u5b50\u6743\u91cd\u4e4b\u548c\u5c06\u4e3a\u96f6\u3002</p> <p>\u5047\u82e5\u6211\u4eec\u6709\u4ee5\u4e0bfactor_data(\u5de6\u56fe)\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u4e0a\u8ff0factor_data\uff0c\u7528Alphalens\u7684\u65b9\u6cd5\u6c42\u5404\u56e0\u5b50\u7684\u6743\u91cd\uff0c\u6211\u4eec\u5c06\u5f97\u5230\u53f3\u56fe\uff1a</p> <p></p> <p></p> <p>\u8fd9\u91cc\u6709\u4e24\u4e2a\u95ee\u9898\uff1a</p> <ol> <li>\u7f3a\u7701\u5730\uff0cAlphalens\u8ba1\u7b97\u51fa\u7684\u56e0\u5b50\u6743\u91cd\u548c\u4e3a\u96f6\uff0c\u8fd9\u9002\u7528\u4e8e\u53ef\u4ee5\u540c\u65f6\u505a\u591a\u505a\u7a7a\u7684\u5e02\u573a\u3002\u5982\u679c\u56e0\u4e3a\u79cd\u79cd\u539f\u56e0\uff0c\u4f60\u53ea\u80fd\u9009\u62e9\u5355\u8fb9\u505a\u591a\u7684\u8bdd\uff0c\u90a3\u4e48\u6211\u4eec\u8c03\u7528factor_alpha_beta\u65f6\uff0c\u5c31\u5fc5\u987b\u5c06demeaned\u53c2\u6570\u4f20\u503c\u4e3aFalse\uff0c\u4ee5\u6539\u53d8factor weights\u7684\u8ba1\u7b97\u3002</li> </ol> <ol> <li>\u5982\u679cfactor\u662f\u6362\u624b\u7387\uff0c\u5219\u6309\u7167Alphalens\u5206\u914d\u7684\u6743\u91cd\uff0c\u8be5\u56e0\u5b50\u7ec4\u5408\u7684\u6536\u76ca\u7387\uff08\u5047\u8bbedemeaned = False\uff09\u662f\u8fd9\u6837\u8ba1\u7b97\u5f97\u6765\u7684\uff1a\u7ed9\u6362\u624b\u7387\u6700\u5927\u7684\uff0c\u5206\u914d\u6700\u591a\u7684\u505a\u591a\u6743\u91cd\uff0c\u7ed9\u6362\u624b\u7387\u6700\u5c0f\u7684\uff0c\u5206\u914d\u6700\u5c0f\u7684\u6743\u91cd\uff0c\u800c\u6574\u4e2a\u6743\u91cd\u548c\u4e3a0\u3002\u8fd9\u6837\u521a\u597d\u548c\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u7684\u4f5c\u7528\u76f8\u53cd\uff01</li> </ol> <p>\u6240\u4ee5\uff0c\u6211\u4eec\u5728\u6784\u9020\u56e0\u5b50\u65f6\uff0c\u9700\u8981\u8003\u8651\u5c06factor\u8fdb\u884c\u8f6c\u6362\uff0c\u4f7f\u4e4b\u4e0e\u56e0\u5b50\u6536\u76ca\u7387\u5448\u6b63\u76f8\u5173\u5173\u7cfb\u3002</p> <p>\u73b0\u5728\u770b\u8d77\u6765\uff0c\u8fd9\u4e2a\u7ed3\u8bba\u4f3c\u4e4e\u662f\u90a3\u4e48\u663e\u7136\u6613\u89c1\uff0c\u4f46\u662f\uff0calphalens\u5e76\u6ca1\u6709\u6587\u6863\u63d0\u793a\u8fd9\u4e00\u70b9\uff0c\u800c\u4e14\uff0c\u6211\u4eec\u5728\u524d\u9762\u7684\u5176\u5b83\u5206\u6790\u4e2d\uff0c\u7531\u4e8e\u4f7f\u7528\u4e86\u5206\u5c42\u6cd5\uff0c\u5176\u5206\u6790\u7ed3\u679c\u5e76\u4e0d\u53d7\u5f71\u54cd\uff0c\u6240\u4ee5\u8fd9\u4e2a\u95ee\u9898\uff0c\u4e5f\u5c31\u4e00\u76f4\u6ca1\u6709\u66b4\u9732\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6539\u9020\u4e00\u4e0bfactor\uff0c\u91cd\u65b0\u8fd0\u884c\uff1a</p> <pre><code>from alphalens.utils import get_clean_factor_and_forward_returns\n\nfactor_data = get_clean_factor_and_forward_returns(factor, prices, bins=None, quantiles=10)\n\n# \u6211\u4eec\u5c06\u6362\u624b\u7387\u56e0\u5b50\u53d6\u5012\u6570\uff0c\u4ece\u800c\u4f7f\u5f97\u56e0\u5b50\u9006\u5e8f\nfactor_data.factor = 1 / factor_data.factor\nfactor_alpha_beta(factor_data,demeaned=False)\n</code></pre> <p>\u8fd9\u4e00\u6b21\uff0c\u6211\u4eec\u5f97\u5230\u7684\u5e74\u5316alpha\u662f4.48%\u3002\u5e02\u573a\u66b4\u9732\u98ce\u9669\u4e3a80%\uff0c\u8fd9\u4e5f\u4e0e\u6211\u4eec\u5728\u7d2f\u79ef\u6536\u76ca\u56fe\u4e2d\u770b\u5230\u7684\u76f8\u4e00\u81f4\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u518d\u505a\u4e00\u6b21 mean_return_by_quantile \u5206\u6790\uff0c\u770b\u770b\u6709\u4ec0\u4e48\u4e0d\u540c\uff1a</p> <p></p> <p>\u8fd9\u4e2a\u7ed3\u679c\u5728\u89c6\u89c9\u4e0a\uff0c\u662f\u6628\u5929\u7b14\u8bb0\u4e2d\u5bf9\u5e94\u7ed3\u679c\u7684\u6c34\u5e73\u7ffb\u8f6c\u3002\u8fd9\u4e00\u6b21\uff0c\u8868\u73b0\u6700\u597d\u7684\u662f\u7b2c10\u7ec4\u56e0\u5b50\uff0c\u6700\u5dee\u7684\u662f\u7b2c\u4e8c\u7ec4\u56e0\u5b50\u3002\u9664\u6b64\u4e4b\u5916\uff0c\u5e76\u6ca1\u6709\u5176\u5b83\u7684\u4e0d\u540c\u3002</p> <p>Tip</p> <ol> <li>\u9ed8\u8ba4\u5730\uff0c alphalens\u8ba1\u7b97\u6536\u76ca\u662f\uff0c\u4f1a\u6784\u5efa\u591a\u7a7a\u7ec4\u5408\uff0c\u5373\u505a\u591a\u7ec4\u53f7\u6700\u5927\u7684\u5206\u5c42\uff0c\u505a\u7a7a\u7ec4\u53f7\u6700\u5c0f\u7684\u5206\u5c42\u3002</li> <li>\u5c3d\u7ba1\u6587\u6863\u6ca1\u6709\u8981\u6c42\uff0c\u4f46\u7ecf\u8fc7\u4ee3\u7801\u5206\u6790\uff0calphalens\u5b9e\u9645\u4e0a\u8981\u6c42\u56e0\u5b50\u503c\u4e0e\u6536\u76ca\u5448\u6b63\u76f8\u5173\u5173\u7cfb\u3002</li> <li>\u5982\u679c\u56e0\u5b50\u503c\u4e0e\u6536\u76ca\u521a\u597d\u5448\u8d1f\u76f8\u5173\u5173\u7cfb\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6c42\u5012\u6570\u7684\u65b9\u6cd5\uff0c\u5c06\u56e0\u5b50\u503c\u91cd\u65b0\u9006\u5e8f\u3002</li> <li>\u5982\u679c\u56e0\u5b50\u503c\u4e0e\u6536\u76ca\u4e4b\u95f4\u6ca1\u6709\u5355\u8c03\u9012\u589e\uff08\u9012\u51cf\uff09\u7684\u5173\u7cfb \uff0c\u5219\u56e0\u5b50\u68c0\u9a8c\u5931\u8d25\uff0c\u4f46\u9700\u8981\u6211\u4eec\u81ea\u5df1\u53bb\u5206\u6790\u5f97\u51fa\u8fd9\u4e2a\u7ed3\u8bba\u3002</li> <li>alphalens\u4e2d\uff0c\u8ba1\u7b97\u56e0\u5b50\u7684alpha\u548cbeta\u662f\u901a\u8fc7\u56e0\u5b50\u7ec4\u5408\u6536\u76ca\u5bf9\u5e02\u573a\u7ec4\u5408\u7684\u6536\u76ca\u505aOLS\u7ebf\u6027\u56de\u5f52\u5f97\u5230\u7684\u3002</li> </ol>","tags":["\u56e0\u5b50\u5206\u6790","\u56e0\u5b50","Alphalens"]},{"location":"blog/2024/01/12/low-turnover-factor-3/","title":"Alphalens\u56e0\u5b50\u5206\u6790(4) - Information Coefficient\u65b9\u6cd5","text":"<p>\u5728\u524d\u9762\u7684\u7b14\u8bb0\u4e2d\uff0c\u65e0\u8bba\u662f\u56de\u62a5\u5206\u6790\uff0c\u8fd8\u662f\u56e0\u5b50Alpha\uff0c\u5b83\u4eec\u90fd\u53d7\u5230\u4ea4\u6613\u6210\u672c\u7684\u5f71\u54cd\u3002\u4fe1\u606f\u5206\u6790 (Information Analysis)\u5219\u662f\u4e00\u79cd\u4e0d\u53d7\u8fd9\u79cd\u5f71\u54cd\u7684\u8bc4\u4f30\u65b9\u6cd5\uff0c\u4e3b\u8981\u7814\u7a76\u65b9\u6cd5\u5c31\u662f\u4fe1\u606f\u7cfb\u6570(Information Coefficient)\u3002</p> <p>\u4fe1\u606f\u7cfb\u6570\u7684\u8303\u56f4\u4e3a-1\u52301\uff0c\u7edd\u5bf9\u503c\u8d8a\u5927\uff0c\u8868\u660e\u56e0\u5b50\u4e0e\u6536\u76ca\u4e4b\u95f4\u7684\u76f8\u5173\u6027\u8d8a\u5f3a\uff1b\u7edd\u5bf9\u503c\u8d8a\u5c0f\uff0c\u8868\u660e\u56e0\u5b50\u5bf9\u6536\u76ca\u7684\u8d21\u732e\u8d8a\u5c0f\uff1b\u56e0\u6b64\uff0c0\u8868\u793a\u56e0\u5b50\u5bf9\u6536\u76ca\u5b8c\u5168\u4e0d\u4ea7\u751f\u8d21\u732e\uff0c1\u8868\u793a\u5b8c\u7f8e\u7684\u7ebf\u6027\u5173\u7cfb\uff08\u9884\u6d4b\u80fd\u529b\u597d\uff09\uff0c-1\u5219\u8868\u793a\u56e0\u5b50\u4e0e\u6536\u76ca\u5b8c\u5168\u8d1f\u76f8\u5173\uff0c\u8fd9\u4e5f\u662f\u9884\u6d4b\u80fd\u529b\u5f3a\u7684\u4e00\u79cd\u8868\u73b0\u3002</p> <p>\u6211\u4eec\u901a\u8fc7factor_information_coefficient\u65b9\u6cd5\u6765\u6c42\u56e0\u5b50\u7684IC\uff1a</p> <pre><code>from alphalens.performance import factor_information_coefficient\nic = factor_information_coefficient(factor_data)\n\nic.head()\n</code></pre> <p></p> <p>\u5f53\u7136\u7814\u7a76\u65f6\u95f4\u5e8f\u5217\u7684\u6700\u597d\u65b9\u5f0f\u8fd8\u662f\u53ef\u89c6\u5316\uff1a</p> <p></p> <p>\u4ece\u8fd9\u4e2a\u56fe\u4e0a\u6211\u4eec\u80fd\u770b\u51fa\u6765\u4ec0\u4e48\uff1fIC\u7684\u5747\u503c\u4f3c\u4e4e\u5f88\u63a5\u8fd1\u4e8e\u96f6\u3002\u6309\u7167IC\u7684\u5b9a\u4e49\uff0c\u8fd9\u662f\u4e0d\u662f\u8bf4\u660e\uff0c\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e0e\u9884\u6d4b\u6da8\u8dcc\u51e0\u4e4e\u6ca1\u6709\u5173\u8054\uff0c\u56e0\u800c\u4e0d\u503c\u5f97\u6211\u4eec\u8003\u8651\u8fd9\u4e2a\u56e0\u5b50\uff1f</p> <p>\u5728\u4e0b\u7ed3\u8bba\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u770b\u770b\u6211\u4eec\u5f97\u5230\u7684IC\u7684\u5206\u5e03\u4fe1\u606f\u7a76\u7adf\u5982\u4f55\uff1a</p> <p></p> <p>\u5b83\u7684\u5747\u503c\u53ea\u67090.058\uff0c\u6700\u5927\u503c\u4e5f\u53ea\u67090.52\u3002\u8ddd\u79bb\u7406\u60f3\u503c1\u786e\u5b9e\u6709\u70b9\u5927\u3002\u4e0d\u8fc7\uff0c\u662f\u5426\u8fd9\u771f\u7684\u610f\u5473\u7740\u6362\u624b\u7387\u56e0\u5b50\u4e0d\u884c\u5462\uff1f</p> <p>\u6211\u4eec\u5148\u6765\u770b\u770b\u805a\u5bbd\u56e0\u5b50\u5e93\u4e2d\uff0c\u6700\u597d\u7684\u56e0\u5b50IC\u5747\u503c\u662f\u591a\u5c11\u3002</p> <p>\u805a\u5bbd\u662f\u4e00\u5bb6\u767e\u4ebf\u79c1\u52df\uff0c\u4ed6\u4eec\u4e5f\u63d0\u4f9b\u4e86\u7c7b\u4f3cquantpian\u4e00\u6837\u7684\u4f17\u5305\u5e73\u53f0\u3002\u5728\u5b83\u7684\u7f51\u7ad9\u4e0a\u6709\u4e00\u4e2a\u680f\u76ee\u53eb\u56e0\u5b50\u770b\u677f\uff0c\u6211\u4eec\u628a\u4ed6\u6240\u6709\u7684\u56e0\u5b50\u90fd\u5217\u51fa\u6765\uff0c\u6309IC\u5747\u503c\u964d\u5e8f\u6392\u5217\uff1a</p> <p></p> <p>\u805a\u5bbd\u7684\u4e09\u5e74\u671f\u56e0\u5b50\u4e2d\uff0cIC\u5747\u503c\u6700\u5927\u7684\u662f0.041\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u8fd9\u4e2a\u56e0\u5b50\u7684\u9884\u6d4b\u80fd\u529b\uff0c\u5df2\u7ecf\u8d85\u51fa\u4e86\u805a\u5bbd\u56e0\u5b50\u5e93\u4e2d\u7684\u6240\u6709\u56e0\u5b50\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u805a\u5bbd\u56e0\u5b50\u5e93\u4e5f\u5f88\u8ba4\u53ef\u6362\u624b\u7387\u56e0\u5b50\uff0c\u6536\u7eb3\u4e86\u591a\u4e2a\u6362\u624b\u7387\u76f8\u5173\u56e0\u5b50\uff0c\u6bd4\u5982\u6709\u5e74\u5ea6\u5e73\u5747\u6708\u6362\u624b\u30015\u65e5\u5e73\u5747\u300120\u65e5\u5e73\u5747\u300160\u65e5\u5e73\u5747\u548c240\u65e5\u5e73\u5747\u6362\u624b\u7b49\u3002</p> <p>\u5176\u4e2d\u5e74\u5ea6\u5e73\u5747\u6708\u6362\u624b\u7387\u56e0\u5b50\u7684IC\u662f-0.035\uff0c\u5e74\u5316\u662f13.39%\u3002\u4e0d\u8fc7\uff0c\u8fd9\u4e9b\u56e0\u5b50\u5e76\u4e0d\u662f\u5f00\u6e90\u7684\uff0c\u5b83\u4eec\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff0c\u5c31\u4e0d\u5f97\u800c\u77e5\u4e86\uff0c\u6211\u4eec\u53ea\u80fd\u4ece\u540d\u5b57\u4e0a\u731c\u6d4b\uff0c\u5b83\u4eec\u5229\u7528\u4e86\u6362\u624b\u7387\u6570\u636e\u3002</p> <p>\u51fa\u4e8e\u597d\u5947\uff0c\u6211\u4eec\u4e5f\u628a\u8fd9\u4e2a\u95ee\u9898\u629b\u7ed9\u4e86GPT4\u3002\u63d0\u95ee\u4e2d\uff0c\u6211\u4eec\u5148\u786e\u5b9a\u4e86GPT\u7684\u7248\u672c\u662fGPT4\uff0c\u5e76\u4e14\u5b83\u7684\u8d44\u6599\u5e93\u66f4\u65b0\u5230\u4e862023\u5e744\u6708\uff1a</p> <p></p> <p>GPT4\u7684\u56de\u7b54\u662f\uff0cIC\u5747\u503c\u57280.05\u4ee5\u4e0a\uff0c\u5c31\u8868\u660e\u56e0\u5b50\u7684\u9884\u6d4b\u80fd\u529b\u5f88\u5f3a\u4e86\u3002\u7406\u8bba\u4e2d\u7684\u6700\u4f73\u503c\u662f1\uff0c\u56e0\u5b50\u9884\u6d4b\u4e2d\u7684\u6700\u4f73\u9884\u671f\u662f0.05\u3002\u7406\u60f3\u5f88\u4e30\u6ee1\uff0c\u73b0\u5b9e\u5f88\u9aa8\u611f\u3002</p> <p>\u5f53\u6211\u4eec\u4f7f\u7528\u968f\u673a\u53d8\u91cf\u7684\u5747\u503c\u65f6\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u62c5\u5fc3\u8fd9\u4e2a\u5747\u503c\u662f\u5426\u53d7\u5230\u4e86\u5c11\u6570\u6781\u503c\u7684\u5f71\u54cd\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6807\u51c6\u5dee\u6765\u5ea6\u91cf\uff0c\u4e0d\u8fc7\u6700\u76f4\u89c2\u7684\u65b9\u5f0f\u662f\u901a\u8fc7\u76f4\u65b9\u56fe\uff0c\u6216\u8005QQ\u56fe\u8fdb\u884c\u5206\u6790\uff1a</p> <pre><code>from alphalens.plotting import plot_ic_hist\n\nplot_ic_hist(ic)\n</code></pre> <p></p> <p>\u770b\u76f4\u65b9\u56fe\u5173\u952e\u662f\u8981\u770b\u591a\u6570\u65f6\u95f4IC\u7684\u8868\u73b0\u5982\u4f55\uff0c\u4f55\u5904IC\u503c\u5f88\u53ef\u80fd\u4e0b\u964d\uff0c\u4ee5\u53ca\u662f\u5426\u5b58\u5728\u80a5\u5c3e\u3002\u6211\u4eec\u4ecd\u7136\u8981\u975e\u5e38\u6709\u7ecf\u9a8c\uff0c\u624d\u80fd\u770b\u51fa\u6765IC\u7684\u5206\u5e03\u597d\u574f\u3002\u5982\u679c\u501f\u52a9QQ\u56fe\uff0c\u89c2\u5bdf\u8981\u5bb9\u6613\u5f88\u591a\uff1a</p> <pre><code>from alphalens.plotting import plot_ic_qq\n\nplot_ic_qq(ic)\n</code></pre> <p></p> <p>QQ\u56fe\u80fd\u663e\u793aIC\u503c\u5206\u5e03\u4e0e\u6b63\u6001\u5206\u5e03\u4e4b\u95f4\u5f62\u72b6\u7684\u5dee\u5f02\u3002\u7279\u522b\u662f\u5bf9\u4e86\u89e3\u5206\u5e03\u4e2d\u6700\u6781\u7aef\u7684\u6570\u503c\u662f\u5982\u4f55\u5f71\u54cd\u9884\u6d4b\u80fd\u529b\u7684\u7279\u522b\u6709\u5e2e\u52a9\u3002</p> <p>\u4eceQQ\u56fe\u53ef\u4ee5\u770b\u51fa\uff0c1\u65e5\u6362\u624b\u7387\u56e0\u5b50\u7684\u8868\u73b0\u76f8\u5f53\u597d\u3002\u591a\u6570\u70b9\u843d\u5728\u5bf9\u89d2\u7ebf\u4e0a\u3002</p> <p>\u6700\u540e\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u5feb\u6377\u65b9\u5f0f\uff0cAlphalens\u5141\u8bb8\u6211\u4eec\u8c03\u7528create_information_tear_sheet\u6765\u4e00\u6b21\u6027\u83b7\u53d6\u6240\u6709\u7684\u4fe1\u606f\u5206\u6790\u6570\u636e\uff1a</p> <pre><code>from alphalens.tears import create_information_tear_sheet\n\ncreate_information_tear_sheet(factor_data)\n</code></pre> <p>\u8fd9\u5c06\u628a\u4eca\u5929\u7b14\u8bb0\u4e2d\u51fa\u73b0\u7684\u6240\u6709\u56fe\uff0c\u4ee5\u96c6\u4e2d\u663e\u793a\u7684\u65b9\u5f0f\u7ed8\u5236\u4e00\u6b21\u3002</p> <p>\u8fd9\u91cc\u8981\u4f20\u5165\u7684factor_data\uff0c\u662f\u4e00\u5207\u7684\u8d77\u70b9\u3002\u6211\u4eec\u5728\u7b2c\u4e00\u7bc7\u7b14\u8bb0\u4e2d\u5bf9\u5b83\u4f5c\u8fc7\u4ecb\u7ecd\uff0c\u5b83\u662f\u901a\u8fc7utils\u5305\u4e2d\u7684get_clean_factor_and_forward_returns\u6765\u83b7\u5f97\u7684\u3002</p> <p>Tip</p> <ol> <li>IC\u5206\u6790\u663e\u793a\u56e0\u5b50\u4e0e\u6536\u76ca\u7684\u76f8\u5173\u6027\uff0c\u53bb\u9664\u4e86\u4ea4\u6613\u6210\u672c\u5f71\u54cd</li> <li>IC\u5747\u503c\u7684\u7edd\u5bf9\u503c\u57280.02~0.05\uff0c\u5c31\u8868\u660e\u56e0\u5b50\u6709\u4e00\u5b9a\u9884\u6d4b\u80fd\u529b\u3002</li> <li>IC\u5747\u503c\u7684\u7edd\u5bf9\u57280.05\u4ee5\u4e0a\u65f6\uff0c\u5c31\u8868\u660e\u56e0\u5b50\u6709\u8f83\u5f3a\u7684\u9884\u6d4b\u80fd\u529b\u3002</li> <li>1\u65e5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u7684IC\u503c\u57280.05\u4ee5\u4e0a\u3002</li> </ol>","tags":["\u56e0\u5b50\u5206\u6790","\u56e0\u5b50","Alphalens"]},{"location":"blog/2024/01/09/alphalens-and-low-turnover-factor-1/","title":"Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)","text":"<p> \u56e0\u5b50\u5206\u6790\u662f\u91cf\u5316\u7814\u7a76\u7684\u57fa\u672c\u6280\u80fd\u4e4b\u4e00\u3002\u901a\u8fc7\u56e0\u5b50\u5206\u6790\uff0c\u627e\u51fa\u6709\u6548\u7684\u56e0\u5b50\uff0c\u901a\u8fc7\u76f8\u5173\u6027\u53bb\u91cd\u540e\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u673a\u5668\u5b66\u4e60\u3001\u7ebf\u6027\u56de\u5f52\u7b49\u65b9\u6cd5\u628a\u56e0\u5b50\u7ec4\u5408\u8d77\u6765\uff0c\u6784\u6210\u4ea4\u6613\u7b56\u7565\u3002</p> <p>\u8fd9\u4e00\u7bc7\u7b14\u8bb0\u6211\u4eec\u5c31\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528 Alphalens \u6765\u8fdb\u884c\u5355\u56e0\u5b50\u5206\u6790\u3002\u6211\u4eec\u4f7f\u7528\u7684\u56e0\u5b50\u662f\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u3002</p> <p>\u80a1\u8c1a\u6709\u4e00\u79cd\u8bf4\u6cd5\uff0c\u5929\u91cf\u89c1\u5929\u4ef7\uff0c\u5730\u91cf\u89c1\u5730\u4ef7\u3002\u5176\u80cc\u540e\u7684\u539f\u7406\u662f\uff0c\u5f53\u6210\u4ea4\u91cf\u8fbe\u5230\u5929\u91cf\u65f6\uff0c\u51fb\u9f13\u4f20\u82b1\u7684\u6e38\u620f\u5c06\u540e\u7ee7\u4e4f\u4eba\uff0c\u96be\u4ee5\u6301\u7eed\uff0c\u56e0\u800c\u80a1\u4ef7\u5927\u6982\u7387\u56de\u843d\u3002\u800c\u6210\u4ea4\u91cf\u51fa\u73b0\u5730\u91cf\u65f6\uff0c\u663e\u793a\u6210\u4ea4\u6781\u4e3a\u51b7\u6e05\uff0c\u88ab\u5957\u8005\u65e0\u4eba\u613f\u5272\uff0c\u56e0\u6b64\u7531\u4e8e\u5931\u53bb\u505a\u7a7a\u529b\u91cf\uff0c\u4ece\u800c\u6709\u53ef\u80fd\u5411\u4e0a\u53cd\u8f6c\u3002</p> <p>\u8861\u91cf\u6210\u4ea4\u91cf\u7684\u5927\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u6709\u4e24\u79cd\u65b9\u6cd5\u3002</p> <p>\u4e00\u79cd\u662f\u5728\u65f6\u95f4\u7ef4\u5ea6\u4e0a\uff0c\u6211\u4eec\u4f7f\u7528\u6210\u4ea4\u91cf\u662f\u591a\u5c11\u5929\uff08n\uff09\u4ee5\u6765\u7684\u6700\u5c0f\u503c\u3001\u6700\u5927\u503c\u6765\u8868\u793a\u3002n \u8d8a\u5927\uff0c\u5305\u542b\u7684\u4fe1\u606f\u91cf\u5c31\u8d8a\u5927\uff1b\u53e6\u4e00\u79cd\u662f\u5728\u6a2a\u622a\u9762\u7ef4\u5ea6\u4e0a\u8fdb\u884c\u6392\u540d\uff0c\u6b64\u65f6\u9700\u8981\u5148\u5bf9\u6210\u4ea4\u91cf\u8fdb\u884c\u5bf9\u9f50\uff0c\u5bf9\u9f50\u7684\u65b9\u5f0f\uff0c\u5c31\u662f\u5c06\u6210\u4ea4\u91cf\u8f6c\u6362\u6210\u6362\u624b\u7387\u3002</p> <p>Info</p> <p>\u6362\u624b\u7387\u662f\u4e00\u5b9a\u65f6\u95f4\u5185\uff0c\u5e02\u573a\u4e2d\u6807\u7684\u8f6c\u624b\u4e70\u5356\u7684\u9891\u7387\uff0c\u662f\u53cd\u6620\u6807\u7684\u4ea4\u6295\u6d3b\u8dc3\u7a0b\u5ea6\u7684\u6307\u6807\u4e4b\u4e00\u3002\u5b83\u7684\u8ba1\u7b97\u516c\u5f0f\u662f \\(\\(\u6362\u624b\u7387 = \\frac{\u6210\u4ea4\u989d}{\u6d41\u901a\u80a1\u6570}\\)\\)</p> <p>\u624b\u5de5\u8ba1\u7b97\u9700\u8981\u4e24\u65b9\u9762\u7684\u6570\u636e\uff0c\u4e00\u662f\u6bcf\u65e5\u7684\u6210\u4ea4\u989d\uff0c\u53e6\u4e00\u7ec4\u662f\u6d41\u901a\u80a1\u6570\u3002\u6d41\u901a\u80a1\u6570\u662f\u4e00\u4e2a\u4f4e\u9891\u53d8\u5316\u7684\u6570\u636e\uff0c\u4e5f\u9700\u8981\u8fdb\u884c\u590d\u6743\uff0c\u8ba1\u7b97\u6bd4\u8f83\u590d\u6742\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u4e00\u822c\u76f4\u63a5\u4ece\u6570\u636e\u6e90\u5904\u83b7\u5f97\u6b64\u6570\u636e\u3002</p> <p>\u8fd9\u7bc7\u7b14\u8bb0\u6211\u4eec\u4ecd\u7136\u4f7f\u7528\u514d\u8d39\u7684 akshare \u6765\u83b7\u53d6\u76f8\u5173\u6570\u636e\u3002\u4e0d\u8fc7\uff0c\u8003\u8651\u5230 QMT \u91cf\u5316\u6743\u9650\u7684\u5f00\u901a\u95e8\u69db\u73b0\u5728\u5df2\u7ecf\u5f88\u4f4e\u4e86\uff0c\u53ea\u8981\u5f00\u901a\u4e86 QMT\uff0c\u4e5f\u5c31\u76f8\u5f53\u4e8e\u514d\u8d39\u83b7\u5f97\u4e86\u8fd9\u4e9b\u6570\u636e\uff0c\u56e0\u6b64\u540e\u9762\u7684\u7b14\u8bb0\u5c31\u4f1a\u4e3b\u8981\u4f7f\u7528 QMT \u6765\u83b7\u53d6\u6570\u636e\u4e86\uff0c\u53ea\u6709\u5728\u67d0\u4e9b\u54c1\u79cd QMT \u8fd8\u6ca1\u6709\u63d0\u4f9b\u65f6\uff0c\u6211\u4eec\u624d\u4f1a\u4f7f\u7528 akshare\u3002</p> <p>\u6211\u4eec\u7684\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u5c06\u6784\u5efa\u5728\u6caa\u6df1 300 \u6210\u4efd\u80a1\u4e0a\u3002\u6574\u4e2a\u6784\u5efa\u8fc7\u7a0b\u662f\uff1a</p> <p>\ud83d\udca1 1. \u83b7\u53d6\u6caa\u6df1 300 \u6210\u4efd\u80a1\u4ee3\u7801</p> <p>\ud83d\udca1 2. \u83b7\u53d6\u4e00\u6bb5\u65f6\u95f4\u5185 300 \u6210\u4efd\u80a1\u7684\u4ef7\u683c\u548c\u6362\u624b\u7387\u6570\u636e</p> <p>\ud83d\udca1 3. \u751f\u6210 alphalens \u9700\u8981\u7684 factor \u548c forward returns \u6570\u636e</p> <p>\ud83d\udca1 4. \u8fdb\u884c\u56e0\u5b50\u68c0\u9a8c\u5206\u6790</p> <p>Alphalens \u80fd\u751f\u6210\u7684\u62a5\u544a\u975e\u5e38\u591a\uff08\u4e0b\u56fe\u4e3a\u5176\u4e2d\u4e4b\u4e00\uff09\uff0c\u6240\u4ee5\uff0c\u7b2c 4 \u6b65\u6211\u4eec\u5c06\u5206\u51e0\u7bc7\u7b14\u8bb0\u8be6\u7ec6\u8fdb\u884c\u4ecb\u7ecd\u3002</p> <p></p> <p>\u4e00\u4e2a\u5b8c\u6574\u7684\u56e0\u5b50\u5206\u6790\u6d41\u7a0b\u5305\u62ec\u539f\u59cb\u6570\u636e\u83b7\u53d6\u3001\u751f\u6210\u56e0\u5b50\u3001\u6570\u636e\uff08\u53ca\u56e0\u5b50\uff09\u9884\u5904\u7406\u3001\u56e0\u5b50\u68c0\u9a8c\u3002</p> <p>\u9884\u5904\u7406\u5305\u62ec\u7f3a\u5931\u503c\u7edf\u8ba1\u3001\u4e2d\u6027\u5316\u3001\u53bb\u6781\u503c\u3001\u6807\u51c6\u5316\u7b49\u64cd\u4f5c\uff1b\u56e0\u5b50\u68c0\u9a8c\u5219\u6709 IC \u6cd5\u3001\u5206\u5c42\u56de\u6d4b\u7b49\u65b9\u6cd5\u3002</p> <p>\u56e0\u5b50\u751f\u6210\u56e0\u4e3a\u6d89\u53ca\u5230\u6838\u5fc3\u7b97\u6cd5\uff0c\u9700\u8981\u7531\u7814\u7a76\u5458\u81ea\u5df1\u5b8c\u6210\uff0c\u5176\u5b83\u7684\u90e8\u5206\uff0c\u6211\u4eec\u638c\u63e1\u539f\u7406\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u501f\u52a9\u6846\u67b6\u6765\u5b8c\u6210\u3002\u4e0d\u8fc7\uff0c\u5728\u672c\u4f8b\u4e2d\uff0c\u56e0\u5b50\u751f\u6210\u65e0\u987b\u53e6\u5916\u6784\u9020\uff0c\u6211\u4eec\u76f4\u63a5\u4f7f\u7528\u6362\u624b\u7387\u5c31\u597d\u3002</p>","tags":["strategy","factor","Alphalens","\u56e0\u5b50\u5206\u6790"]},{"location":"blog/2024/01/09/alphalens-and-low-turnover-factor-1/#_1","title":"\u83b7\u53d6\u6570\u636e","text":"<p>\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u83b7\u53d6\u6caa\u6df1 300 \u6210\u4efd\u80a1\u4ee3\u7801\uff1a</p> <pre><code>import akshare as ak\n\ndf = ak.index_stock_cons_csindex(symbol=\"000300\")\nsecs = df[\"\u6210\u5206\u5238\u4ee3\u7801\"]\nsecs\n</code></pre> <p>\u6211\u4eec\u901a\u8fc7 index_stock_cons_csindex \u8fd9\u4e2a API \u6765\u83b7\u53d6\u6307\u6570\u6210\u4efd\u80a1\uff0c\u6caa\u6df1 300 \u7684\u4ee3\u7801\u662f 000300\u3002</p> <p>\u4f60\u5c06\u4f1a\u770b\u5230 000001, 000002 \u7b49\u8f93\u51fa\u3002akshare \u8f93\u51fa\u7684\u8bc1\u5238\u4ee3\u7801\u5f88\u591a\u65f6\u5019\u662f\u4e0d\u5e26\u4ea4\u6613\u6240\uff08\u524d\uff09\u540e\u7f00\u7684\u3002</p> <p>Warning</p> <p>\u8fd9\u91cc\u5b9e\u9645\u4e0a\u5df2\u7ecf\u5f15\u5165\u4e86\u4e00\u4e2a\u9519\u8bef\u3002\u901a\u8fc7 index_stock_cons_csindex \u83b7\u53d6\u7684\u6307\u6570\u6210\u4efd\u80a1\uff0c\u90fd\u662f\u6700\u65b0\u7684\u6570\u636e\u3002\u800c\u6210\u4efd\u80a1\u5217\u8868\u5b9e\u9645\u4e0a\u662f\u5728\u6301\u7eed\u66f4\u65b0\u7684\u3002\u5982\u679c\u6211\u4eec\u5728 2023 \u5e74\u7684\u5143\u6708\u83b7\u53d6\u6caa\u6df1 300 \u6210\u4efd\u80a1\uff0c\u7ed3\u679c\u5f88\u53ef\u80fd\u4f1a\u4e0e\u4eca\u5929\u83b7\u53d6\u7684\u4e0d\u4e00\u81f4\u3002\u8003\u8651\u5230\u67d0\u6240\u7ecf\u5e38\u628a\u521b\u65b0\u9ad8\u7684\u6807\u7684\u7eb3\u5165\u6307\u6570\uff0c\u4e0b\u8dcc\u540e\u7684\u6807\u7684\u5254\u9664\u6307\u6570\uff0c\u6240\u4ee5\uff0c\u56e0\u672a\u80fd\u4f7f\u7528 PIT \u6570\u636e\uff0c\u6211\u4eec\u5b9e\u9645\u4e0a\u4e0a\u4fee\u4e86\u8be5\u56e0\u5b50\u7684\u6536\u76ca\u7387\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u83b7\u53d6\u8fd9\u4e9b\u6807\u7684\u7684\u6536\u76d8\u4ef7\u548c\u6362\u624b\u7387\u3002\u5728 akshare \u4e2d\uff0cstock_zh_a_hist \u8fd9\u4e2a API \u7684\u8fd4\u56de\u503c\u4e2d\uff0c\u540c\u65f6\u5305\u542b\u4e86\u6536\u76d8\u4ef7\u548c\u6362\u624b\u7387\uff1a</p> <pre><code>bars = ak.stock_zh_a_hist(\"000001\", adjust=\"hfq\", start_date=\"20150104\")\nbars.tail()\n</code></pre> <p></p> <p>\u8fd4\u56de\u503c\u6709\u5f88\u591a\u5217\uff0c\u6211\u4eec\u53ea\u5173\u5fc3\u65e5\u671f\u3001\u6536\u76d8\u548c\u6362\u624b\u7387\u8fd9\u4e09\u9879\u3002\u8fd9\u4e2a API \u6709\u4e00\u4e2a adjust \u53c2\u6570\uff0c\u5373\u8981\u6c42\u6211\u4eec\u9009\u62e9\u590d\u6743\u65b9\u5f0f\u3002\u5728\u672c\u4f8b\u4e2d\u6211\u4eec\u4f7f\u7528 qfq \u548c hfq \u90fd\u6ca1\u6709\u4efb\u4f55\u533a\u522b\uff0c\u4f46\u662f\u4e0d\u80fd\u4f7f\u7528\u4e0d\u590d\u6743\u6570\u636e\u3002</p> <p>\u719f\u6089\u4e86 akshare \u7684\u57fa\u672c API \u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u6b63\u5f0f\u83b7\u53d6\u6570\u636e\uff0c\u5e76\u5c06\u5b83\u8f6c\u6362\u6210 alphalens \u6240\u9700\u8981\u7684\u683c\u5f0f\uff1a</p> <pre><code>from typing import List\n\ndef prepare_data(secs: List[str], start: str, end: str):\n    factors = []\n    prices = []\n\n    for sec in secs:\n        bars = ak.stock_zh_a_hist(sec, adjust=\"qfq\", start_date=start, end_date=end)\n        bars[\"asset\"] = [sec] * len(bars)\n        prices.append(bars[[\"\u65e5\u671f\", \"asset\", \"\u6536\u76d8\"]])\n\n        factors.append(bars[[\"\u65e5\u671f\", \"asset\", \"\u6362\u624b\u7387\"]])\n\n    # \u5904\u7406\u56e0\u5b50\u8868\n    factor = pd.concat(factors)\n    factor.rename(columns = {\"\u6362\u624b\u7387\":\"factor\", \"\u65e5\u671f\":\"date\"}, inplace=True)\n    factor[\"date\"] = pd.to_datetime(factor[\"date\"], utc=True)\n    factor.set_index([\"date\", \"asset\"], inplace=True)\n</code></pre> <p>alphalens \u8fdb\u884c\u5206\u6790\u65f6\uff0c\u9700\u8981\u7684 factor \u6570\u636e\u8868\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p></p> <p>\u5173\u952e\u4e4b\u5904\u662f\uff0c\u5b83\u662f\u5fc5\u987b\u662f\u4e00\u4e2a\u7531 date + asset \u7684\u53cc\u91cd\u7d22\u5f15\u7684 DataFrame\u3002\u800c\u8fd9\u4e2a dataframe \u5e94\u8be5\u53ea\u6709\u4e00\u5217\uff0c\u5217\u540d\u5b57\u6ca1\u6709\u89c4\u5b9a\uff0c\u4f46\u5efa\u8bae\u4f7f\u7528 factor \u8fd9\u6837\u7684\u5217\u540d\u5b57\uff0c\u8fd9\u6837\u66f4\u5bb9\u6613\u7406\u89e3\uff08bad example here!\uff09\u3002</p> <p>stock_zh_a_hist \u53ea\u80fd\u8fd4\u56de\u4e2a\u80a1\u7684\u884c\u60c5\u6570\u636e\u3002\u6211\u4eec\u8981\u5148\u7ed9\u5b83\u589e\u52a0 asset \u5217\uff08\u5176\u503c\u4e3a\u4e2a\u80a1\u4ee3\u7801\uff09\uff0c\u7136\u540e\u7b80\u5355\u5730\u5c06\u6bcf\u652f\u4e2a\u80a1\u7684\u6362\u624b\u7387\u6570\u636e\u62fc\u63a5\u6210\u4e00\u4e2a\u5927\u7684 dataframe\uff0c\u518d\u8fdb\u884c\u91cd\u547d\u540d\u3001\u8bbe\u7f6e\u591a\u91cd\u7d22\u5f15\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c alphalens \u8981\u6ce8\u65e5\u671f\u65f6\u95f4\u5b57\u6bb5\u4e3a timezone-aware \u6570\u636e\uff0c\u5373\u8981\u8bbe\u7f6e\u65f6\u533a\uff0c\u5e76\u4e14\u4e24\u4e2a\u8868\u7684\u65f6\u95f4\u8981\u4e00\u81f4\u3002</p> <p>akshare \u8fd4\u56de\u7684\u65e5\u671f\u5b57\u6bb5\u7c7b\u578b\u4e3a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u8fdb\u884c\u4e00\u6b21\u8f6c\u6362\u3002\u4f46\u50cf\u6362\u624b\u7387\u3001\u6536\u76d8\u4ef7\u6570\u636e\u5219\u5df2\u7ecf\u662f float64 \u683c\u5f0f\u4e86\u3002</p> <pre><code>def prepare_data(secs: List[str], start: str, end: str):\n    ...\n    # \u63a5\u4e0a\u4e00\u6bb5\u4ee3\u7801\uff0c \u5904\u7406 PRICES \u8868\u683c\n    prices = pd.concat(prices).pivot(index=\"\u65e5\u671f\", columns=\"asset\", values=\"\u6536\u76d8\")\n\n    # \u4ef7\u683c\u8868 INDEX \u7c7b\u578b\u8f6c\u6362\uff1a STR -&gt; DATE\n    prices.index = pd.to_datetime(prices.index, utc=True)\n\n    # \u4ef7\u683c\u8868 INDEX \u540d\u5b57\u5fc5\u987b\u8f6c\u6362\u4e3a'DATE'\n    prices.rename_axis('date', inplace=True)\n\n    return factor, prices\n</code></pre> <p>prices \u8868\u683c\u5fc5\u987b\u8f6c\u6362\u6210\u4ee5\u4e0b\u683c\u5f0f\uff1a</p> <p></p> <p>\u683c\u5f0f\u7684\u8981\u70b9\u662f\uff0c\u5b83\u662f\u4ee5\u65e5\u671f\u4e3a\u7d22\u5f15\uff0c\u6bcf\u4e2a asset \u7684\u4ee3\u7801\u4e3a\u5217\u7684\u4e00\u4e2a dataframe\uff0c\u6bcf\u4e00\u4e2a cell \u7684\u503c\u5219\u662f\u5f53\u5929\u67d0\u4e2a asset \u5bf9\u5e94\u7684\u6536\u76d8\u4ef7\u3002</p> <p>\u5148\u5c06\u5404\u4e2a\u5b50 price frame \u62fc\u63a5\u8d77\u6765\uff0c\u7136\u540e\u901a\u8fc7 pivot \u51fd\u6570\uff0c\u5bf9\u8868\u683c\u8fdb\u884c\u8f6c\u6362\uff0c\u6700\u7ec8\u5c31\u5f97\u5230\u4e0a\u9762\u7684\u683c\u5f0f\u3002\u8fd9\u4e2a\u8f6c\u6362\u5982\u4e0b\u56fe\u6240\u793a\uff1a</p> <p></p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u7b26\u5408 alphalens \u8981\u6c42\u7684\u6570\u636e\u3002\u6570\u636e\u51c6\u5907\u5de5\u4f5c\u5df2\u7ecf\u5b8c\u6210\u3002</p>","tags":["strategy","factor","Alphalens","\u56e0\u5b50\u5206\u6790"]},{"location":"blog/2024/01/09/alphalens-and-low-turnover-factor-1/#_2","title":"\u6570\u636e\u9884\u5904\u7406","text":"<p>\u5904\u7406\u7f3a\u5931\u503c\u3001\u4e2d\u6027\u5316\u3001\u6807\u51c6\u5316\u7b49\u5de5\u4f5c\uff0c\u5982\u679c\u6709\u5fc5\u8981\uff0calphalens \u5c06\u4f1a\u4e3a\u6211\u4eec\u5904\u7406\u3002alphalens \u63d0\u4f9b\u4e86 get_clean_factor_and_forward_returns \u8fd9\u4e2a API\uff1a</p> <pre><code>from alphalens.utils import get_clean_factor_and_forward_returns\n\nfactor_data = get_clean_factor_and_forward_returns(\n                                        factor, \n                                        prices, \n                                        bins=None, \n                                        quantiles=10\n                                    )\nfactor_data.tail()\n</code></pre> <p>\u7ecf\u8fc7\u9884\u5904\u7406\u540e\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u56e0\u5b50\u5206\u6790\u6709\u7edd\u5bf9\u6536\u76ca\u6cd5\u3001IC \u6cd5\u548c\u5206\u5c42\u6cd5\uff0c\u8fd9\u5728 Alphalens \u4e2d\u662f\u540c\u6b65\u5904\u7406\u7684 -- \u4f60\u53ef\u4ee5\u9009\u62e9\u53ea\u770b\u67d0\u4e2a\u5206\u6790\u7ed3\u679c\uff0c\u4f46\u5728\u9884\u5904\u7406\u9636\u6bb5\uff0c\u6211\u4eec\u5fc5\u987b\u628a\u76f8\u5e94\u7684\u53c2\u6570\u4f20\u9012\u8fdb\u53bb\u3002\u8fd9\u91cc\u7684\u53c2\u6570 bins/quantiles \u5c31\u662f\u7528\u6765\u5206\u5c42\u7684\u3002</p> <p>bins/quantiles \u7684\u7528\u6cd5\u7c7b\u4f3c\u4e8e dataframe \u7684 cut \u6216\u8005 hist() \u51fd\u6570\u4e2d\u7684\u540c\u540d\u53c2\u6570\u3002\u8fd9\u91cc\u6211\u4eec\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u3002</p> <p>\u4e0a\u4f8b\u4e2d\u6211\u4eec\u6307\u5b9a\u4e86 quantiles=10\uff0c\u5b83\u662f\u628a\u6bcf\u4e00\u5929\u7684\u56e0\u5b50\u6570\u636e\u4ece\u5c0f\u5230\u5927\u6392\u5217\u540e\uff0c\u6309 len(df)/10 \u8fdb\u884c\u5207\u5206\uff0c\u5373\u6bcf\u4e2a\u5206\u7247\u4e2d\uff0c\u5927\u81f4\u843d\u5165\u76f8\u7b49\u7684\u56e0\u5b50\u8bb0\u5f55\uff08\u7531\u4e8e\u7f3a\u5931\u503c\u5904\u7406\u7b49\u539f\u56e0\uff0c\u6240\u4ee5\u4e0d\u4f1a\u5b8c\u5168\u76f8\u7b49\uff09\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5 group \u4e4b\u540e\uff0c\u770b\u4e0b\u7ed3\u679c\uff1a</p> <pre><code>factor_data.groupby(\"factor_quantile\").count()\n</code></pre> <p></p> <p>\u5982\u679c\u6211\u4eec\u4e0d\u4f7f\u7528 quantiles \u53c2\u6570\uff0c\u800c\u662f\u6307\u5b9a bin \u4e3a 10\uff0c\u5219\u5b83\u4f1a\u628a\u533a\u95f4 [min(factor), max(factor)] \u8fdb\u884c\u5747\u5300\u5212\u5206\uff0c\u5373\u6bcf\u4e2a bins \u7684\u5bbd\u5ea6\u4e00\u6837\uff0c\u4f46\u843d\u5728 bin \u4e2d\u7684\u4e2a\u6570\u4e0d\u4e00\u6837\uff0c groupby \u4e4b\u540e\u7684\u7ed3\u679c\u5982\u4e0b\uff1a</p> <p></p> <p>\u4e24\u76f8\u5bf9\u7167\uff0c\u4e24\u4e2a\u53c2\u6570\u7684\u5f02\u540c\u4e0d\u8a00\u81ea\u660e\u3002</p> <p>!!! faq \u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 quantiles\uff0c\u4e3a\u4ec0\u4e48\uff1f     \u6211\u4eec\u8981\u9a8c\u8bc1\u7684\u662f\u5730\u91cf\u89c1\u5730\u4ef7\u8fd9\u53e5\u80a1\u8c1a\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5e94\u8be5\u9009\u62e9\u6362\u624b\u7387\u6700\u4f4e\u7684\u4e2a\u80a1\u4e70\u5165\u3002\u4e3a\u4e86\u5e73\u8861\u98ce\u9669\uff0c\u6211\u4eec\u53ef\u80fd\u9009\u62e9 30 \u652f\uff0c\u4e5f\u5c31\u662f 10%\u5de6\u53f3\u7684\u6807\u7684\u4e70\u5165\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u6309 quantiles \u5212\u5206\u624d\u662f\u5408\u7406\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u56e0\u5b50\u5206\u6790\u7684\u524d\u4e09\u6b65\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5728\u4e0b\u4e00\u7bc7\u7b14\u8bb0\u4e2d\u4ecb\u7ecd\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u7684\u7ed3\u679c\u3002</p> <p>Tip</p> <p>\u5c3d\u7ba1\u6709\u65e0\u6570\u4eba\u4f7f\u7528\uff0c\u4f46 Alphalens \u5df2\u7ecf\u65e0\u4eba\u7ef4\u62a4\u4e86\u3002\u5b83\u4f9d\u8d56\u7684 python \u5e93\u5374\u5728\u4e0d\u65ad\u524d\u884c\u3002\u73b0\u5728\u4f60\u4f7f\u7528 alphalens \u7684\u8bdd\uff0c\u4f1a\u9047\u5230\u4ee5\u4e0b\u9519\u8bef\uff1a <pre><code>    AttributeError: 'Index' object has no attribute 'get_values'\n</code></pre> \u8fd9\u4e2a\u9519\u8bef\u662f\u56e0\u4e3apandas\u66f4\u65b0\u9020\u6210\u7684\u3002 \u597d\u5728 ml4trading \u5df2\u7ecf\u63a5\u624b\u4e86\u8fd9\u4e00\u5de5\u4f5c\uff0c\u901a\u8fc7 alphalens-reloaded \u6765\u7ee7\u7eed\u7ef4\u62a4\u3002\u5982\u679c\u4f60\u8981\u4f7f\u7528\u8fd9\u4e2a\u5e93\u7684\u8bdd\uff0c\u4e5f\u8bf7\u5728 Github \u4e0a\u4e3a\u8fd9\u4e2a\u9879\u76ee star \u5427\u3002</p>","tags":["strategy","factor","Alphalens","\u56e0\u5b50\u5206\u6790"]},{"location":"blog/2024/01/23/magic-hot-word-factor/","title":"\u9f99\u51e4\u5448\u7965\uff1a\u8fd9\u79cd\u65e0\u5e95\u9650\u7092\u4f5c\uff0c\u5982\u4f55\u7528\u91cf\u5316\u65b9\u6cd5\u53d1\u73b0\u5b83\uff1f","text":"<p>\u4f5c\u4e3a\u91cf\u5316\u4eba\uff0c\u6211\u4eec\u654f\u9510\u5730\u89c2\u5bdf\u5e02\u573a\uff0c\u4e0d\u653e\u8fc7\u4efb\u4f55\u4e00\u4e2a\u53ef\u80fd\u4ea7\u751f\u5229\u6da6\u7684\u673a\u4f1a\u3002\u4e00\u65e6\u53d1\u73b0\u8fd9\u6837\u7684\u673a\u4f1a\uff0c\u6211\u4eec\u51b3\u4e0d\u4f1a\u5728\u4e4e\u5176\u5b83\u4eba\u600e\u4e48\u770b\u600e\u4e48\u60f3\uff0c\u4e66\u4e0a\u6709\u6ca1\u6709\u8fd9\u4e48\u8bb2\u3002\u4f46\u662f\uff0c\u5927\u80c6\u5047\u8bbe\uff0c\u5c0f\u5fc3\u6c42\u8bc1\u3002</p> <p>\u4eca\u5929\u5e26\u6765\u7684\u56e0\u5b50\uff0c\u633a\u9b54\u5e7b\u7684\uff0c\u6211\u628a\u5b83\u53eb\u505a\u9b54\u6027\u6c49\u5b57\u3002\u5982\u679c\u4f60\u96be\u4ee5\u63a5\u53d7\u8fd9\u79cd\u65e0\u5e95\u7ebf\u7684\u7092\u4f5c\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u6362\u4e00\u4e2a\u540d\u5b57\uff1a\u53e6\u7c7b\u56e0\u5b50\u3002</p> <p>2023\u5e74\u5e95\uff0c\u5e02\u573a\u5f00\u59cb\u7092\u4f5c\u9f99\u5b57\uff0c\u540e\u6765\u53c8\u5f00\u59cb\u7092\u51e4\u5b57\uff0c\u88ab\u620f\u79f0\u4e3a\u9f99\u51e4\u5448\u7965\u30022024\u5e74\u7684\u5e74\u5ea6\u6c49\u5b57\u53ef\u80fd\u662f\u534e\u3002\u8fd9\u662f\u4e00\u79cd\u9b54\u5e7b\u548c\u65e0\u5398\u5934\u7684\u7092\u4f5c\u3002\u4f46\u5c31\u50cf\u4e00\u5e74\u6709\u56db\u5b63\u4e00\u6837\uff0cA\u80a1\u4e00\u5e74\u81f3\u5c11\u4f1a\u8fd9\u6837\u9b54\u5e7b\u5730\u7092\u4e00\u6b21\u3002</p> <p>\u5728\u5386\u53f2\u4e0a\u5e76\u4e0d\u7f55\u89c1\u3002\u8001\u80a1\u6c11\u4f1a\u8bb0\u5f97\u57282018\u5e74\u5e95\uff0c2019\u5e74\u521d\uff0c\u51fa\u73b0\u4e86\u4e00\u652f\u5341\u500d\u725b\u80a1\uff0c\u4e1c\u65b9\u901a\u4fe1\u3002\u5b83\u5e26\u52a8\u4e86\u5bf9\u201d\u4e1c\u65b9\u201c\u8fd9\u4e2a\u8bcd\u7684\u7092\u4f5c\u3002\u4e00\u65f6\u95f4\uff0c\u53ea\u8981\u6807\u7684\u540d\u79f0\u4e2d\u5e26\u6709\u201d\u4e1c\u65b9\u201c\u4e24\u5b57\u7684\uff0c\u90fd\u80fd\u6cbe\u4e0a\u4e00\u70b9\u96e8\u9732\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5c31\u6765\u770b\u770b\uff0c\u8981\u600e\u4e48\u5b9e\u73b0\u8fd9\u4e2a\u56e0\u5b50\u3002</p> <p>Tip</p> <ol> <li>\u53d6\u5f53\u5929\u653b\u51fb\u529b\u6700\u5f3a\u7684\u6807\u7684\uff08\u4e5f\u5c31\u662f\u6da8\u505c\u4e86\u7684\u4e2a\u80a1\uff09</li> <li>\u901a\u8fc7\u5206\u8bcd\u6280\u672f\uff0c\u627e\u51fa\u8ba1\u6570\u6700\u9ad8\u7684\u8bcd</li> <li>\u627e\u51fa\u5305\u542b\u8be5\u8bcd\uff0c\u4f46\u5f53\u5929\u672a\u6da8\u505c\u4e2a\u80a1\uff0c\u7ec4\u6210\u677f\u5757</li> <li>\u83b7\u53d6\u677f\u5757\u540e10\u5929\u884c\u60c5\u6570\u636e\uff0c\u6309\u71671\u5929\u30015\u5929\u548c10\u5929\u5468\u671f\uff0c\u8ba1\u7b97pnl\u3002</li> </ol> <p>\u6211\u4eec\u7565\u8fc7\u5982\u4f55\u83b7\u53d6\u6da8\u505c\u540d\u5355\u7684\u8fc7\u7a0b\u3002\u65e0\u8bba\u662f\u4f7f\u7528akshare,\u8fd8\u662fjqdatasdkq\u90fd\u53ef\u4ee5\u62ff\u5230\u5386\u53f2\u6da8\u505c\u6570\u636e\u3002</p> <p>\u5728\u5bfb\u627e\u6700\u70ed\u7684\u8bcd\u65f6\uff0c\u6211\u4eec\u5148\u662f\u53bb\u6389\u201d\u80a1\u4efd\u3001\u79d1\u6280\u548c\u63a7\u80a1\u201c\u8fd9\u51e0\u4e2a\u8bcd\u3002\u5b83\u4eec\u5728\u540d\u79f0\u4e2d\u51fa\u73b0\u592a\u8fc7\u9891\u7e41\uff0c\u6309\u7167TF-IDF\u7684\u7406\u8bba\uff0c\u8fc7\u4e8e\u9891\u7e41\u51fa\u73b0\u7684\u8bcd\u662f\u6ca1\u6709\u4fe1\u606f\u91cf\u7684\u3002</p> <pre><code># \u4f7f\u7528\u7684\u6570\u636e\u6e90\u5728\u8bc1\u5238\u540d\u79f0\u4e0a\uff0c\u6ca1\u6709\u63d0\u4f9bPIT\u6570\u636e\u3002\u5f53\u524d\u5df2\u9000\u5e02\u7684\u6807\u7684\uff0c\n# \u5176\u540d\u5b57\u4e3aNone\u3002\u6211\u4eec\u8981\u5148\u6ee4\u6389\u8fd9\u90e8\u5206\u3002\u6ce8\u610f\u8fd9\u91cc\u5df2\u7ecf\u5f15\u5165\u4e86\u4e00\u4e2a\u56de\u6d4b\n# \u504f\u5dee\ntext = \" \".join(filter(lambda x: x, df[\"alias\"]))\n\n# \u6392\u9664\u6389\u6ca1\u6709\u4fe1\u606f\u91cf\u7684\u8bcd\ncleaned = re.sub(r\"\u80a1\u4efd|\u79d1\u6280|\u63a7\u80a1\", \"\", text)\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u5904\u7406\u70ed\u8bcd\u3002\u6839\u636e\u89c2\u5bdf\uff0c\u70ed\u8bcd\u53ef\u80fd\u662f\u50cf\u201d\u4e1c\u65b9\u201c\u8fd9\u6837\u7684\u4e24\u4e2a\u5b57\u7684\u8bcd\uff0c\u4e5f\u53ef\u80fd\u662f\u50cf\u201d\u9f99\u201c\u3001\u201d\u5154\u201c\u8fd9\u6837\u7684\u5355\u5b57\u8bcd\u3002\u6240\u4ee5\u6211\u4eec\u8981\u5206\u4e24\u6279\u5904\u7406\uff0c\u5e76\u4e14\u628a\u4e24\u5b57\u8bcd\u653e\u5728\u524d\u9762\u3002</p> <pre><code>    for word in jieba.cut(cleaned):\n        if word == \" \" and len(word) != 2:\n            continue\n        if word in two:\n            two[word] += 1\n        else:\n            two[word] = 1\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\u4e86\u7ed3\u5df4\u5206\u8bcd(jieba)\u3002\u6211\u4e0d\u592a\u6e05\u695a\u73b0\u5728\u7684\u60c5\u51b5\uff0c\u4f46\u76f4\u52302021\u5e74\uff0c\u5b83\u4e00\u5b9a\u662fPython\u6c49\u8bed\u5206\u8bcd\u7684\u7fd8\u695a\u3002\u5b83\u7684\u4f5c\u7528\u662f\uff0c\u5c06\u201d\u4e1c\u65b9\u901a\u4fe1\u201c\u8fd9\u6837\u7684\u8bcd\uff0c\u5206\u89e3\u4e3a\u201d\u4e1c\u65b9\u201c\u548c\u201d\u901a\u4fe1\u201c\u8fd9\u6837\u4e24\u4e2a\u8bcd\u3002\u5982\u679c\u201d\u4e1c\u65b9\u822a\u7a7a\u201c\u4e5f\u4e0a\u699c\u7684\u8bdd\uff0c\u90a3\u4e48\u5b83\u4f1a\u88ab\u5206\u89e3\u4e3a\u201d\u4e1c\u65b9\u201c\u548c\u201d\u822a\u7a7a\u201c\uff0c\u4ece\u800c\u201d\u4e1c\u65b9\u201c\u83b7\u5f97\u4e24\u5206\uff0c\u901a\u4fe1\u548c\u822a\u7a7a\u5404\u83b7\u5f971\u5206\u3002</p> <p>\u7c7b\u4f3c\u7684\u65b9\u6cd5\u5904\u7406\u5355\u5b57\u8bcd\u3002\u6211\u4eec\u5f97\u5230\u7684\u7ed3\u679c\uff08\u50cftwo)\u662f\u4e00\u4e2a\u96c6\u5408\u3002\u4e3a\u4e86\u53d6\u8ba1\u6570\u6700\u9ad8\u7684\u5b57\uff08\u8bcd\uff09\uff0c\u6211\u4eec\u8981\u5bf9\u5176\u8fdb\u884c\u6392\u5e8f\uff1a</p> <pre><code>two = sorted(two, key = lambda x: x[1], reverse=True)\n</code></pre> <p>\u8fd9\u662f\u975e\u5e38\u5e38\u7528\u7684\u8bed\u6cd5\u4e86\u3002</p> <p>\u6784\u5efa\u677f\u5757\u5e76\u4e0d\u96be\uff0c\u4f46\u662f\u6211\u4eec\u5f97\u5229\u7528\u8bc1\u5238\u5217\u8868\u3002\u8fd9\u4e5f\u662f\u6211\u4eec\u8bb2\u7684\uff0c\u4efb\u4f55\u6570\u636e\u6e90\uff0c\u5728\u4f60\u8d2d\u4e70\u4e4b\u524d\uff0c\u5fc5\u987b\u8981\u8003\u5bdf\u5b83\u662f\u5426\u5177\u52a1\u7684\u51e0\u4e2a\u57fa\u672cAPI\u3002\u5982\u679c\u50cf\u8bc1\u5238\u5217\u8868\u8fd9\u6837\u7684API\u6ca1\u6709\u7684\u8bdd\uff0c\u90a3\u4e48\u51e0\u4e4e\u65e0\u6cd5\u7f16\u5199\u4efb\u4f55\u7b56\u7565\u3002</p> <p>\u83b7\u5f97\u67d0\u65e5\u672a\u6da8\u505c\u4e2a\u80a1\u7684\u6e05\u5355\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u53d6\u8be5\u65e5\u53ca\u6b64\u540e10\u5929\u7684\u884c\u60c5\u6570\u636e\uff0c\u7136\u540e\u901a\u8fc7pandas\u7684pct_change\u6765\u8ba1\u7b971\uff0c5\u548c10\u65e5\u6301\u6709\u6536\u76ca\u3002</p> <p>\u5728\u56e0\u5b50\u5206\u6790\u4e2d\uff0c\u8fd9\u7c7b\u51fd\u6570\u901a\u5e38\u53ebforward_returns\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u8fd9\u91cc\u4e5f\u5c06\u5176\u547d\u540d\u4e3aget_forward_returns\uff0c\u8fd9\u6837\u4ee3\u7801\u66f4\u5bb9\u6613\u9605\u8bfb\u3002</p> <pre><code>async def get_forward_returns(dt: datetime.date, n=10):\n    ...\n    end = tf.day_shift(dt, n)\n    barss = {}\n    for sec in secs:\n        bars = await Stock.get_bars(sec, n+1, FrameType.DAY, end=end)\n        if len(bars) != n + 1:\n            continue\n        barss[sec] = bars[\"close\"]\n\n    df = pd.DataFrame.from_dict(barss)\n    returns = []\n    for period in (1, 5, 10):\n        returns.append(df.pct_change(period).mean())\n\n    df = pd.concat(returns, axis=1).rename(columns={0:\"1d\", 1:\"5d\", 2:\"10d\"})\n    mn = df.mean()\n    print(f\"{dt} {concept} 1D: {mn.iloc[0]:.2%} 5D: {mn.iloc[1]:.2%} 10D: {mn.iloc[2]:.2%}\")\n    return df\n</code></pre> <p>\u5728\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c31\u5df2\u7ecf\u6253\u5370\u51fa\u4e86\u5f53\u65e5\u677f\u5757\u76841\u30015\u548c10\u65e5\u672a\u6765\u6536\u76ca\uff08\u5982\u679c\u5f53\u5929\u5b58\u5728\u8fd9\u79cd\u9898\u6750\u7092\u4f5c\u7684\u8bdd\uff09\uff0c\u4ee5\u4fbf\u8c03\u8bd5\u3002\u53e6\u5916\uff0c\u6211\u4eec\u4e5f\u8fd4\u56de\u8fd9\u4e2a\u6536\u76ca\u7ed3\u679c\uff0c\u4ee5\u65b9\u4fbf\u8fdb\u4e00\u6b65\u5904\u7406\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u9009\u62e92019-2-10\u52302019-3-5\u8fd9\u4e2a\u533a\u95f4\u8fd0\u884c\u4e86\u4e00\u4e0b\uff0c\u7ed3\u679c\u662f\uff1a</p> <p></p> <p>\u4f60\u7684\u94b1\u5c31\u662f\u8fd9\u6837\u88ab\u8d5a\u8d70\u7684\u3002\u6253\u4e0d\u8fc7\u5c31\u52a0\u5165\u5427\uff01</p> <p>\u6e90\u4ee3\u7801\u81ea\u672c\u6587\u53d1\u5e03\u4e00\u5468\u5185\uff0c\u652f\u6301\u514d\u8d39\u9884\u89c8\u3002\u9884\u89c8\u65b9\u6cd5\u89c1\u3010\u8fd9\u91cc\u3011</p>","tags":["strategy","\u6da8\u505c\u677f"]},{"location":"blog/2023/12/24/net-high-net-low-factor/","title":"\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50","text":"<p>\u4e2a\u80a1\u7684\u9876\u5e95\u5f3a\u5f31\u6bd4\u8f83\u96be\u4ee5\u628a\u63e1\uff0c\u5b83\u4eec\u7684\u5076\u7136\u6027\u592a\u5f3a\u3002\u8463\u4e8b\u957f\u6709\u53ef\u80fd\u8dd1\u8def\uff0c\u4e2a\u80a1\u4e5f\u53ef\u80fd\u9047\u5230\u7a81\u53d1\u5229\u597d\uff08\u6bd4\u5982\u7ade\u4e89\u5bf9\u624b\u4ed3\u5e93\u5931\u706b\uff09\u3002\u5728\u4e2a\u80a1\u7684\u9876\u5e95\u5904\uff0c\u60c5\u7eea\u5360\u636e\u4e3b\u5bfc\u5730\u4f4d\uff0c\u7406\u6027\u9000\u907f\u6b21\u5e2d\uff0c\u6280\u672f\u6307\u6807\u51fa\u73b0\u949d\u5316\uff0c\u8fdb\u5165\u73b0\u72b6\u4e0d\u53ef\u63cf\u8ff0\uff0c\u4e00\u5207\u7686\u6709\u53ef\u80fd\u7684\u72b6\u6001\u3002</p> <p>\u4f46\u662f\uff0c\u884c\u4e1a\u6307\u6570\u4f5c\u4e3a\u591a\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u53e0\u52a0\uff0c\u5c31\u4f1a\u51fa\u73b0\u4e00\u5b9a\u7684\u89c4\u5f8b\u6027\uff08\u53d7A4\u7cfb\u7edf\u6027\u5f71\u54cd\u7684\u5076\u7136\u6027\u6211\u4eec\u5148\u6392\u9664\u5728\u5916\uff0c\u6bd5\u7adf\u4e5f\u4e0d\u662f\u5929\u5929\u6709A4\uff09\u3002\u8fd9\u662f\u56e0\u5b50\u5206\u6790\u548c\u6280\u672f\u5206\u6790\u53ef\u4ee5\u4e00\u5c55\u8eab\u624b\u7684\u5730\u65b9\u3002</p> <p>\u4eca\u5929\u8981\u4ecb\u7ecd\u7684\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50\uff0c\u53ef\u4ee5\u7528\u6765\u6355\u6349\u884c\u4e1a\u5f3a\u5f31\u8d8b\u52bf\u4ee5\u53ca\u53cd\u8f6c\uff0c\u4ee5\u6b64\u56e0\u5b50\u4e3a\u57fa\u7840\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u5efa\u6307\u6570\u589e\u5f3a\u7b56\u7565\u3002</p> <p>Tip</p> <ol> <li>NHNL\u56e0\u5b50\u5982\u4f55\u5b9a\u4e49</li> <li>\u951a\u5b9a\u6548\u5e94\u662f\u672c\u56e0\u5b50\u7684\u57fa\u77f3</li> <li>\u4ece\u56e0\u5b50\u5230\u7b56\u7565\u5b9e\u73b0</li> <li>\u5982\u4f55\u4f7f\u7528XtQuant\u6765\u83b7\u5f97\u6570\u636e</li> </ol>","tags":["\u56e0\u5b50","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_1","title":"\u56e0\u5b50\u5b9a\u4e49","text":"<p>\u51c0\u65b0\u9ad8\u5360\u6bd4\u6307\u6807\u662f\u6307\u884c\u4e1a\u6307\u6570\u4e2d\uff0c\u521b\u5e74\u5ea6\u65b0\u9ad8\u4e0e\u5e74\u5ea6\u65b0\u4f4e\u4e4b\u5dee\u7684\u4e2a\u80a1\u6570\u5360\u5168\u884c\u4e1a\u4e2a\u80a1\u6570\u7684\u767e\u5206\u6bd4\uff1a</p> \\[     (NHNL)\\% = (count(HHV) - count(LLV))/N \\] <p>Tip</p> <p>\u4ece\u56e0\u5b50\u5b9a\u4e49\u53ef\u4ee5\u770b\u51fa\uff0c\u5b83\u4e0d\u662f\u5728[-1,1]\u533a\u95f4\u5747\u5300\u5206\u5e03\u7684\u3002\u5728\u673a\u5668\u5b66\u4e60\u4e2d\u4f7f\u7528\u8fd9\u4e00\u65b9\u6848\uff0c\u4f1a\u6709\u8f7b\u5fae\u7684\u68af\u5ea6\u4f18\u5316\u56f0\u96be\u3002\u867d\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u4effRSI\u7684\u601d\u8def\uff0c\u5c06\u5176\u6539\u9020\u4e3a\uff1a</p> \\[     (NHNL)\\% = (count(HHV) - count(LLV))/(count(HHV) + count(LLV)) \\] <p>\u4f46\u8fd9\u6837\u505a\u663e\u7136\u6ca1\u6709\u5bf9\u5e94\u7684\u903b\u8f91\u5b58\u5728\u3002\u8fd9\u662f\u6211\u4eec\u5728\u505a\u56e0\u5b50\u5206\u6790\u65f6\u8981\u6ce8\u610f\u7684\u70b9\u3002\u4e0d\u8981\u523b\u821f\u6c42\u5251\u3002</p>","tags":["\u56e0\u5b50","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_2","title":"\u56e0\u5b50\u80cc\u540e\u7684\u903b\u8f91","text":"<p>\u8be5\u56e0\u5b50\u7684\u4e3b\u8981\u91d1\u878d\u539f\u7406\u662f\u951a\u5b9a\u6548\u5e94\u3002\u884c\u4e3a\u91d1\u878d\u5b66\u544a\u8bc9\u6211\u4eec\uff0c\u7edd\u5927\u591a\u6570\u6295\u8d44\u8005\u90fd\u6709\u5f88\u5f3a\u7684\u951a\u5b9a\u6548\u5e94\u3002\u6295\u8d44\u8005\u59cb\u7ec8\u4f1a\u4ee5\u81ea\u5df1\u4e70\u5165\u80a1\u7968/\u57fa\u91d1\u65f6\u7684\u4ef7\u683c\uff08\u5373\u951a\u5b9a\u6210\u672c\uff09\u4e3a\u57fa\u51c6\uff0c\u89c6\u81ea\u5df1\u7684\u8d26\u6237\u662f\u5904\u4e8e\u6d6e\u76c8\u8fd8\u662f\u6d6e\u4e8f\u72b6\u6001\uff0c\u6765\u786e\u5b9a\u81ea\u5df1\u7684\u64cd\u4f5c\u3002</p> <p>\u521b\u5e74\u5ea6\u65b0\u9ad8\u7684\u4e2a\u80a1\uff0c\u5176\u80a1\u7968\u6301\u6709\u8005\u5747\u4e3a\u6d6e\u76c8\u72b6\u6001\uff0c\u5373\u4f7f\u5176\u8ba1\u5212\u5356\u51fa\uff0c\u4e5f\u5e0c\u671b\u7b49\u884c\u60c5\u518d\u4e0a\u6da8\u4e00\u6bb5\u65f6\u95f4\uff0c\u56e0\u6b64\u5176\u629b\u538b\u76f8\u5bf9\u8f83\u5c0f\uff1b\u800c\u521b\u5e74\u5ea6\u65b0\u4f4e\u7684\u4e2a\u80a1\uff0c\u56e0\u5176\u80a1\u7968\u6301\u6709\u8005\u5747\u4e3a\u6d6e\u4e8f\u72b6\u6001\uff0c\u56e0\u6b64\u53ea\u8981\u884c\u60c5\u53cd\u5f39\u4fbf\u6709\u6295\u8d44\u8005\u5356\u51fa\uff0c\u629b\u538b\u53cd\u800c\u8f83\u5927\u3002\u8fd9\u6837\u5c31\u51fa\u73b0\u4e86\u718a\u5e02\u4e0d\u8a00\u5e95\uff0c\u725b\u5e02\u4e0d\u8a00\u9876\u7684\u89c4\u5f8b\uff0c\u6216\u8005\u8bf4\u65b0\u9ad8\u4e4b\u540e\u8fd8\u6709\u65b0\u9ad8\uff0c\u65b0\u4f4e\u4e4b\u540e\u8fd8\u6709\u65b0\u4f4e\u7684\u80a1\u8c1a\u3002</p> <p>Tip</p> <p>\u4f55\u65f6\u8fd9\u4e00\u8d8b\u52bf\u88ab\u53cd\u8f6c\uff1f\u4e0a\u8ff0\u6548\u5e94\u672c\u8d28\u4e0a\u662f\u52a8\u91cf\u56e0\u5b50\u3002\u5728\u52a8\u91cf\u5ef6\u7eed\u65f6\uff0c\u53cd\u8f6c\u56e0\u5b50\u7684\u529b\u91cf\u4e5f\u5728\u79ef\u805a\u3002\u6b64\u65f6\u53ef\u4ee5\u5173\u6ce8\u53cd\u5f39\u56e0\u5b50\u5982\u6708\u7ebfRSI\u662f\u5426\u5230\u4e86\u524d\u9ad8\u3002\u5982\u679c\u6708\u7ebfRSI\u5230\u4e86\u524d\u9ad8\uff0c\u518d\u51fa\u73b0\u786e\u8ba4\u4fe1\u53f7\uff0c\u5219\u4e00\u4e2a\u4ee5\u5b63\u4e3a\u5355\u4f4d\u7684\u9876\u5c31\u5f88\u53ef\u80fd\u51fa\u73b0\u4e86\u3002</p> <p>\u57fa\u4e8e\u8fd9\u4e00\u539f\u7406\uff0c\u663e\u7136\uff0c\u51c0\u65b0\u9ad8\u56e0\u5b50\u80fd\u8f83\u597d\u5730\u523b\u753b\u884c\u4e1a\u6307\u6570\u7684\u5f3a\u5f31\u3002</p>","tags":["\u56e0\u5b50","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_3","title":"\u4fe1\u53f7\u6784\u5efa","text":"<p>\u534e\u798f\u8bc1\u5238\u4ee5\u4e2d\u4fe1\u4e00\u7ea7\u884c\u4e1a\u6307\u6570\u4e3a\u4f8b\uff0c\u7ed9\u51fa\u4e86\u4ee5\u4e0b\u53c2\u8003\u6307\u6807\uff1a</p> \\[ NHNL = \\begin{cases}          x \\geq 30\\% \\ \u8d2a\u5a6a\\\\\\         20\\% \\leq x \\lt 30\\% \\ \u4e50\u89c2\\\\\\         -20\\% \\lt x \\lt 20\\% \\ \u6b63\u5e38\u533a\u95f4\\\\\\         -30\\% \\lt x \\leq -20\\% \\ \u60b2\u89c2\\\\\\         x \\leq -30\\% \\ \u6050\u60e7 \\end{cases} \\] <p>\u4e3a\u4e86\u9632\u6b62\u4e00\u7ea7\u884c\u4e1a\u6307\u6570\u4e2a\u80a1\u6570\u592a\u5c11\u5f15\u53d1\u7684\u8fc7\u5927\u6ce2\u52a8\uff0c\u4ed6\u4eec\u5efa\u8bae\u5f53\u4e00\u7ea7\u884c\u4e1a\u6307\u6570\u4e0a\u5e02\u8d85\u8fc7 1 \u5e74\u7684\u4e2a\u80a1\u6570\u5c0f\u4e8e 40 \u65f6\uff0c\u5c06\u9608\u503c\u653e\u5bbd\u4e3a\u00b130%/40%\u3002</p> <p>\u5efa\u8bae\u8be5\u6307\u6807\u8fd9\u6837\u4f7f\u7528\uff08\u4ee5\u5355\u8fb9\u505a\u591a\u4e3a\u4f8b\uff09\uff1a</p> <ol> <li>\u5f53NHNL\u8fdb\u884c\u4e50\u89c2\u533a\u95f4\u65f6\uff0c\u5f00\u59cb\u5efa\u4ed3\uff0c\u6b64\u65f6\u662f\u52a8\u91cf\u7b56\u7565</li> <li>\u5f53NHNL\u8fdb\u5165\u8d2a\u5a6a\u533a\u95f4\u65f6\uff0c\u6ce8\u610f\u53ef\u80fd\u5230\u6765\u7684\u53cd\u8f6c\u3002\u9996\u6b21\u4ece\u8d2a\u5a6a\u533a\u95f4\u8dcc\u56de\u4e50\u89c2\u533a\u95f4\u65f6\uff0c\u505a\u7a7a\u4fe1\u53f7\u51fa\u73b0\uff0c\u4e0b\u4e00\u4ea4\u6613\u65e5\u5f00\u76d8\u5356\u51fa\u3002</li> <li>\u5f53NHNL\u8fdb\u884c\u6050\u614c\u533a\u95f4\u65f6\uff0c\u6ce8\u610f\u53ef\u80fd\u5230\u6765\u7684\u53cd\u8f6c\u3002\u9996\u6b21\u4ece\u6050\u614c\u533a\u95f4\u6da8\u56de\u60b2\u89c2\u533a\u95f4\u65f6\uff0c\u4e0b\u4e00\u4ea4\u6613\u65e5\u5f00\u76d8\u4e70\u5165\u3002\u6b64\u65f6\u6ce8\u610f\u8bbe\u7f6e\u597d\u6b62\u635f\u4f4d\uff0c\u53cd\u5f39\u5ef6\u7eed\u624d\u80fd\u7ee7\u7eed\u6301\u6709\u3002</li> </ol>","tags":["\u56e0\u5b50","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#_4","title":"\u4ee3\u7801","text":"<p>\u4ee3\u7801\u7684\u5173\u952e\u662f\u8981\u83b7\u53d6\u884c\u4e1a\u6307\u6570\u53ca\u6210\u4efd\u80a1\u884c\u60c5\uff0c\u56e0\u4e3a\u8ba1\u7b97\u4e00\u5e74\u5185\u7684\u65b0\u9ad8\u548c\u65b0\u4f4e\u975e\u5e38\u5bb9\u6613\u3002</p> <p>\u6211\u4eec\u4ee5XtQuant\u4e3a\u4f8b\u8fdb\u884c\u6f14\u793a\u3002XtQuant\u662f\u8fc5\u6295\u7814\u53d1\u7684\u884c\u60c5\u6570\u636e\u53ca\u5b9e\u76d8\u63a5\u53e3\uff0c\u5f00\u901a\u91cf\u5316\u6743\u9650\u7684\u8bdd\uff0c\u53ef\u4ee5\u514d\u8d39\u83b7\u5f97\u884c\u60c5\u6570\u636e\uff0c\u56e0\u6b64\u5b83\u662f\u53c8\u4e00\u4e2a\u4f18\u79c0\u7684\u514d\u8d39\u6570\u636e\u6e90\u3002\u6211\u4eec\u5728\u7b2c24\u8bfe\u6709\u8be6\u7ec6\u4ecb\u7ecd\u5b83\u7684\u4f7f\u7528\u3002</p> <pre><code>sectors = set()\n\nfor item in get_sector_list():\n    for i in range(6, 1, -1):\n        key = item[:i]\n\n        if key.startswith(\"SW1\"):\n            sectors.add(key)\n            break\nprint(sectors)\n\n# \u663e\u793a\uff1a\n'SW1\u7164\u70ad', 'SW1\u4ea4\u901a\u8fd0', 'SW1\u7efc\u5408', 'SW1\u901a\u4fe1' ...\n</code></pre> <p>\u6211\u4eec\u5927\u7ea6\u62ff\u523040\u4e2a\u7533\u4e07\u4e00\u7ea7\u677f\u5757\u540d\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u9700\u8981\u83b7\u53d6\u677f\u5757\u5185\u7684\u6bcf\u652f\u6210\u5206\u80a1\u7684\u8bc1\u5238\u4ee3\u7801:</p> <pre><code>xt.get_stock_list_in_sector(\"SW1\u7164\u70ad\")\n\n# \u663e\u793a\uff1a\n\n['600121.SH',\n '600123.SH',\n '600157.SH',\n '600188.SH',\n '600348.SH',\n '600395.SH',\n ...\n]\n</code></pre> <p>\u83b7\u53d6\u4e2a\u80a1\u884c\u60c5\u6570\u636e\u7684\u65b9\u6cd5\u5728\u6700\u8fd1\u7684\u7b14\u8bb0\u4e2d\u6709\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u4e0d\u518d\u91cd\u590d\u3002</p> <p>Tip</p> <p>\u638c\u63e1\u83b7\u53d6\u8bc1\u5238\u5217\u8868\u3001\u518d\u904d\u5386\u4e4b\u4ee5\u83b7\u5f97\u884c\u60c5\u6570\u636e\uff0c\u662f\u4e00\u4e2a\u57fa\u672c\u65b9\u6cd5\u3002\u4e5f\u662f\u6211\u4eec\u638c\u63e1\u4e00\u4e2a\u6570\u636e\u6e90\u65f6\uff0c\u5fc5\u987b\u9996\u5148\u638c\u63e1\u7684API\u3002\u8fd9\u662f\u6211\u4eec\u7b2c\u4e00\u8bfe\u8d77\uff0c\u5c31\u8ddf\u5927\u5bb6\u4ecb\u7ecd\u8fc7\u7684\u3002</p> <p>\u66f4\u591a\u7684\u4ee3\u7801\u4e0d\u4fbf\u4e00\u4e00\u6f14\u793a\u3002\u6211\u4eec\u6709\u793a\u4f8bnotebook\u53ef\u4ee5\u63d0\u4f9b\u3002\u6700\u7ec8\u6211\u4eec\u80fd\u5f97\u5230\u8fd9\u6837\u4e00\u4e2a\u6548\u679c\uff1a</p> <p></p>","tags":["\u56e0\u5b50","strategy"]},{"location":"blog/2023/12/24/net-high-net-low-factor/#quiz","title":"Quiz","text":"<p>\u8bf7\u8bf4\u8bf4\u4e3a\u4ec0\u4e48\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50\u4e0d\u662f\u5728[-1,1]\u533a\u95f4\u5185\u5747\u5300\u5206\u5e03\u7684\u3002\u4e3a\u4e86\u5f97\u51fa\u7ed3\u8bba\uff0c\u4f60\u7528\u4e86\u51e0\u79d2\uff1f</p> <p>\u6839\u636e\u534e\u798f\u8bc1\u5238-\u5e02\u573a\u60c5\u7eea\u6307\u6807\u4e13\u9898\uff08\u4e94\uff09\uff0c\u8fdb\u884c\u4e86\u63d0\u70bc\u548c\u6539\u5199\uff0c\u7279\u6b64\u81f4\u8c22\uff01</p>","tags":["\u56e0\u5b50","strategy"]},{"location":"blog/2024/01/24/left-side-effect-integer-pressure/","title":"\u5de6\u6570\u6548\u5e94 \u6574\u6570\u5173\u53e3\u4e0e\u5149\u6298\u5c04","text":"<p>\u5e38\u5e38\u6709\u4eba\u95ee\uff0c\u65b0\u7684\u56e0\u5b50/\u7b56\u7565\u4ece\u54ea\u91cc\u6765\uff1f\u4eca\u5929\u7684\u7b14\u8bb0\u6216\u8bb8\u80fd\u542f\u53d1\u4f60\u7684\u601d\u8def\u3002</p> <p>\u4ece1932\u5e74\u8d77\uff0c\u7814\u7a76\u4eba\u5458\u5c31\u6ce8\u610f\u5230\u4ee59\u7ed3\u5c3e\u7684\u4ef7\u683c\uff08\u6bd4\u5982$3.99\uff09\uff0c\u5728\u6d88\u8d39\u8005\u7684\u8ba4\u77e5\u4e2d\uff0c\u8981\u8fdc\u8fdc\u5c0f\u4e8e\u90bb\u8fd1\u7684\u6574\u6570\u4ef7\u683c\uff08$4.00\uff09\u3002\u540e\u6765\u8fd9\u4e00\u6548\u5e94\u88ab\u79f0\u4e3a left-digit effect\u3002\u5728\u8bc1\u5238\u4ea4\u6613\u4e2d\uff0c\u7c7b\u4f3c\u7684\u60c5\u51b5\u4e00\u6837\u5b58\u5728\uff0c\u4e0d\u8fc7\u5b83\u7684\u8868\u73b0\u5f62\u5f0f\u662f\u6574\u6570\u5173\u53e3\u538b\u529b\u3002</p>","tags":["strategy"]},{"location":"blog/2024/01/24/left-side-effect-integer-pressure/#_1","title":"\u5de6\u6570\u6548\u5e94","text":"<p>\u5173\u4e8e Left-digit effect \u662f\u5426\u771f\u5b9e\u5b58\u5728\uff0c\u4ee5\u53ca\u5982\u4f55\u89e3\u91ca\u548c\u8fd0\u7528\uff0c\u7ecf\u6d4e\u5b66\u5bb6/\u5fc3\u7406\u5b66\u5bb6\u4eec\u4e00\u76f4\u7814\u7a76\u5230\u73b0\u5728\u3002</p> <p>\u6211\u770b\u5230\u7684\u6700\u8fd1\u7684\u7814\u7a76\u76f4\u5230 2023 \u5e74 2 \u6708\uff0cJohn A. List\uff08\u6765\u81ea\u9f0e\u9f0e\u5927\u540d\u7684\u829d\u52a0\u54e5\u5927\u5b66\u7ecf\u6d4e\u7cfb\uff09 \u7b49\u4eba\u5bf9 Lyft \u7684\u5b9a\u4ef7\u4f53\u7cfb\u8fdb\u884c\u4e86\u7814\u7a76\uff08\u300aLeft-Digit Bias at Lyft\u300b\uff09\uff0c\u6307\u51fa\u5982\u679c\u4ed6\u4eec\u5229\u7528 left-digit dias \u6765\u8fdb\u884c\u5b9a\u4ef7\u7684\u8bdd\uff0c\u5927\u7ea6\u6bcf\u5e74\u53ef\u4ee5\u589e\u52a0 1.6 \u4ebf\u7f8e\u5143\u7684\u5229\u6da6\u3002</p> <p>\u6765\u81ea\u5eb7\u7eb3\u5c14\u7684 Manoj Thomas \u548c\u6765\u81ea\u7ebd\u7ea6\u5927\u5b66\u7684 Vicki Morwitz \u5728 2005 \u5e74\u7684\u300a\u6d88\u8d39\u8005\u7814\u7a76\u6742\u5fd7\u300b\u4e0a\uff0c\u53d1\u8868\u4e86\u300aPenny Wise and Pound Foolish: The Left-Digit Effect in Price Cognition\u300b\uff08\u5c0f\u4e8b\u806a\u660e\uff0c\u5927\u4e8b\u611a\u8822\uff1a\u4ef7\u683c\u8ba4\u77e5\u4e2d\u7684\u5de6\u6570\u6548\u5e94\u300b\uff0c\u88ab\u5f15\u7528 300 \u4f59\u6b21\uff0c\u5e94\u8be5\u662f\u8fd9\u4e2a\u9886\u57df\u6bd4\u8f83\u6709\u5f71\u54cd\u529b\u7684\u6587\u732e\u4e86\uff0c\u5bf9\u8fd9\u4e00\u73b0\u8c61\u8fdb\u884c\u4e86\u5efa\u6a21\u7814\u7a76\uff0c\u786e\u8ba4\u4e86\u8fd9\u4e00\u73b0\u8c61\u5b58\u5728\uff0c\u5e76\u89e3\u91ca\u4e86\u4e0e\u4e4b\u76f8\u5173\u7684\u8ba4\u77e5\u73b0\u8c61\u3002</p>","tags":["strategy"]},{"location":"blog/2024/01/24/left-side-effect-integer-pressure/#_2","title":"\u8bc1\u5238\u4ea4\u6613\u4e2d\u7684\u6574\u6570\u5173\u53e3","text":"<p>\u6211\u4eec\u66f4\u5173\u6ce8\u8fd9\u4e00\u73b0\u8c61\u53ca\u5176\u4f34\u751f\u73b0\u8c61\u5728\u8bc1\u5238\u4ea4\u6613\u4e2d\u7684\u8868\u73b0\u3002</p> <p>1991 \u5e74\uff0c \u5357\u52a0\u5dde\u5927\u5b66\u7684 Lawrence Harris \u5c31\u7814\u7a76\u4e86\u8bc1\u5238\u4ea4\u6613\u4e2d\u7684\u7c7b\u4f3c\u73b0\u8c61\uff08\u300aStock Price Clustering and Discreteness\u300b\uff09\uff0c\u4f46\u4ed6\u662f\u4ece\u4ea4\u6613\u4ef7\u683c\u7684\u805a\u7c7b\u4e0e\u79bb\u6563\u7684\u89d2\u5ea6\u6765\u8fdb\u884c\u5206\u6790\u548c\u7acb\u8bba\u7684\u3002</p> <p>\u4ed6\u7684\u7ed3\u8bba\u662f\uff0c\u80a1\u7968\u4ef7\u683c\u805a\u96c6\u5728\u6574\u6570\u5206\u6570\u4e0a\u3002\u4ef7\u683c\u6c34\u5e73\u548c\u6ce2\u52a8\u589e\u52a0\u65f6\uff0c\u4ef7\u683c\u7c07\u7684\u4e2a\u6570\u5c31\u4f1a\u589e\u52a0\u3002\u4e0d\u8fc7\uff0c\u5f53\u65f6\u7f8e\u80a1\u4ea4\u6613\u7684\u6700\u5c0f\u5355\u4f4d\u662f 1/8 \u7f8e\u91d1\uff0c\u4ece 2001\u5e741\u670829\u65e5\u8d77\uff0c\u7ebd\u4ea4\u6240\u53d6\u6d88\u4e86\u4e4b\u524d\u7684 1/8,1/16 \u4ea4\u6613\u9650\u5236\uff0c\u5168\u90e8\u6539\u4e3a\u5341\u8fdb\u5236\u5c0f\u6570\u3002\u6240\u4ee5\uff0c\u5173\u4e8e\u80a1\u7968\u4ef7\u683c\u805a\u96c6\u7684\u7814\u7a76\u73b0\u5728\u6765\u770b\uff0c\u5c31\u5e94\u8be5\u6709\u4e86\u65b0\u7684\u7ed3\u8bba\u3002</p> <p>\u5728\u8bc1\u5238\u4ea4\u6613\u4e2d\uff0c\u4ef7\u683c\u5b9a\u4ef7\u673a\u5236\u4e0e\u96f6\u552e\u4e0d\u592a\u4e00\u6837\u3002\u540e\u8005\u8981\u5145\u5206\u5229\u7528\u5de6\u6570\u6548\u5e94\uff0c\u8ba9\u6d88\u8d39\u8005\u6709\u5360\u4e86\u4fbf\u5b9c\u7684\u611f\u89c9\u3002\u4f46\u8bc1\u5238\u4ef7\u683c\u5b9a\u4ef7\u66f4\u7c7b\u4f3c\u4e8e\u623f\u5730\u4ea7\u8fd9\u79cd\u4e00\u8d27\u4e00\u4ef7\u7684\u4ea4\u6613\uff0c\u5b83\u7684\u4ef7\u683c\u53d6\u51b3\u4e8e\u53cc\u65b9\u8c08\u5224\u3002</p> <p>\u8c08\u5224\u7684\u53cc\u65b9\u5730\u4f4d\u5bf9\u7b49\uff0c\u5e76\u4e14\u7531\u4e8e\u8ba4\u77e5\u539f\u56e0\uff0c\u4e8e\u662f\u90fd\u503e\u5411\u4e8e\u4f7f\u7528\u6574\u6570\u4ef7\u683c\u3002\u6bd4\u5982\uff0c\u4e00\u5e62\u623f\u5b50\u7684\u4e3b\u4f53\u4ef7\u683c\uff0c\u5b9a\u5728 500 \u4e07\u662f\u5408\u9002\u7684\uff0c510 \u4e07\u4e5f\u662f\u5408\u9002\u7684\uff0c\u4f46\u5982\u679c\u8981\u5b9a\u4e3a 513.2 \u4e07\u5143\uff0c\u53cd\u5012\u4f1a\u5bfc\u81f4\u53cc\u65b9\u5728\u8fd9\u4e2a\u4ef7\u683c\u7ec6\u8282\u4e0a\u8fdb\u884c\u8fc7\u591a\u7684\u7ea0\u7f20\uff0c\u5bfc\u81f4\u66f4\u96be\u6210\u4ea4\u3002</p> <p>Info</p> <p>\u76f8\u53cd\u7684\uff0c\u4e3a\u4e86\u5f15\u8d77\u4eba\u4eec\u7684\u5173\u6ce8\u548c\u6ce8\u610f\uff0c\u5c31\u4e0d\u8981\u4f7f\u7528\u6574\u6570\u6570\u5b57\uff0c\u8fd9\u6837\u4f1a\u4f7f\u5f97\u8fd9\u4e00\u6570\u5b57\u66f4\u6709\u610f\u4e49\uff0c\u5c3d\u7ba1\u5b83\u5e76\u6ca1\u6709\u3002\u6bd4\u5982\uff0c\u9a6c\u4e91\u5e38\u5e38\u8bb2\u7684\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u8981\u505a\u4e00\u5bb6\u80fd\u6d3b 101 \u5e74\u7684\u516c\u53f8\u3002\u4e3a\u4ec0\u4e48\u8981\u7528 101 \u800c\u4e0d\u662f 100\uff1f\u56e0\u4e3a\u53ea\u6709\u8fd9\u6837\uff0c\u5927\u5bb6\u624d\u4f1a\u610f\u8bc6\u5230\uff0c\u4f60\u4e0d\u662f\u5728\u968f\u53e3\u8bf4\u51fa\u7684\u4e00\u4e2a\u6570\u5b57\uff0c\u800c\u662f\u8ba4\u771f\u601d\u8003\u4e4b\u540e\u7684\u4e00\u4e2a\u6570\u5b57\uff0c\u8fd9\u4e2a\u6570\u5b57\u5b9e\u9645\u4e0a\u4f1a\u951a\u5b9a\u5230 100 \u5e74\u3002\u800c\u5f53\u4f60\u8bf4\u505a\u5bb6 100 \u5e74\u7684\u516c\u53f8\u65f6\uff0c\u5927\u5bb6\u53ea\u4f1a\u8ba4\u4e3a\u4f60\u8981\u505a\u4e00\u5bb6\u6d3b\u5f97\u4e45\u4e00\u70b9\u7684\u516c\u53f8\u800c\u5df2\u3002</p> <p>\u5728\u8bc1\u5238\u4ea4\u6613\u4e2d\u4e5f\u662f\u5982\u6b64\u3002\u4ea4\u6613\u8005\u66f4\u5e0c\u671b\u4ee5\u6574\u6570\u4e70\u5165\u80a1\u7968\uff0c\u518d\u4ee5\u6574\u6570\u5356\u51fa\uff0c\u8fd9\u6837\u66f4\u65b9\u4fbf\u8bb0\u5fc6\u548c\u8ba1\u7b97\u5229\u6da6\u3002\u5982\u6b64\u4ee5\u6765\uff0c\u7531\u4e8e\u5728\u6574\u6570\u5173\u53e3\u53ef\u80fd\u805a\u96c6\u5927\u91cf\u7684\u59d4\u5355\uff0c\u56e0\u800c\u5b83\u5c31\u6709\u4e86\u538b\u529b\u548c\u652f\u6491\u7684\u4f5c\u7528\u3002</p> <p>\u5728 A \u80a1\uff0c\u6307\u6570\u4e0a\u4f1a\u6709\u4e00\u4e9b\u8457\u540d\u7684\u6574\u6570\u5173\u53e3\uff0c\u6bd4\u5982 3000 \u70b9\uff1b\u6211\u4eec\u4f1a\u8bf4 A \u80a1\u4e07\u5e74\u7684 3000 \u70b9\uff0c\u5373\u4f7f\u5b9e\u9645\u4e0a A \u80a1\u7684\u6ce2\u52a8\u4e2d\u67a2\u53ef\u80fd\u662f 31xx \u70b9\u6216\u8005 29xx \u70b9\uff0c\u6211\u4eec\u4ecd\u7136\u4f1a\u8fd9\u4e48\u8bf4\u3002</p> <p>\u5728\u8fd9\u4e2a\u70b9\u4f4d\u4e0a\u4e0b\uff0c\u6bcf\u9694 100 \u70b9\u90fd\u662f\u4e00\u4e2a\u5927\u7684\u6574\u6570\u538b\u529b/\u652f\u6491\u4f4d\u3002\u5982\u679c\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0a\u9047\u5230\u5176\u5b83\u6280\u672f\u6307\u6807\u5171\u632f\uff0c\u90a3\u4e48\u538b\u529b/\u652f\u6491\u6210\u7acb\u7684\u53ef\u80fd\u6027\u5c31\u66f4\u5927\u3002\u4e00\u65e6\u5f97\u5230\u786e\u8ba4\uff0c\u540e\u7eed\u8d8b\u52bf\u4e5f\u4f1a\u5927\u4e00\u4e9b\u3001\u4e45\u4e00\u4e9b\u3002</p> <p>\u5728\u4e2a\u80a1\u4e0a\uff0c20 \u5143\u4ee5\u4e0b\u7684\u4e2a\u80a1\uff0c\u6bcf\u4e2a\u4ee5 1 \u5143\u4e3a\u7ed3\u5c3e\u7684\u6570\u5b57\u90fd\u663e\u7136\u662f\u6574\u6570\u5173\u53e3\uff0c\u6b64\u5916\u5728\u4e00\u4e9b\u4f4e\u4ef7\u80a1\u4e0a\uff0c\u6bcf\u4e2a\u4ee5 0.1 \u5143\u7ed3\u5c3e\u7684\u6570\u5b57\u90fd\u662f\u6574\u6570\u4ea7\u53e3\u3002\u5bf9\u767e\u5143\u80a1\u6765\u8bf4\uff0c\u5219\u53ef\u80fd\u8981\u4ee5 10 \u5143\u4e3a\u5355\u4f4d\uff0c\u624d\u80fd\u6784\u6210\u6574\u6570\u5173\u53e3\u3002\u8fd9\u65b9\u9762\u6211\u4eec\u8fd8\u9700\u8981\u65f6\u95f4\u53bb\u505a\u4e00\u4e9b\u5b9e\u8bc1\u7814\u7a76\u3002</p>","tags":["strategy"]},{"location":"blog/2024/01/24/left-side-effect-integer-pressure/#_3","title":"\u5149\u6298\u5c04\u539f\u7406\u9884\u6d4b\u6574\u6570\u5173\u53e3\u540e\u7684\u8d70\u52bf","text":"<p>\u8fd9\u662f\u6700\u8fd1\u8bfb\u5230\u7684\u4e00\u7bc7\u8bba\u6587\uff0c\u8fd0\u7528\u5149\u6298\u5c04\u539f\u7406\u6765\u5206\u6790\u80a1\u4ef7\u8d70\u52bf\u5728\u6574\u6570\u4ea7\u53e3\u7684\u884c\u4e3a\uff0c\u8111\u6d1e\u6bd4\u8f83\u5927\u3002\u4e0d\u8fc7\u7814\u7a76\u786e\u5b9e\u4e5f\u8981\u6301\u6709\u5f00\u653e\u7684\u5fc3\u6001\uff0c\u624d\u5bb9\u6613\u6709\u610f\u60f3\u4e0d\u5230\u7684\u7ed3\u679c\u3002</p> <p>\u9996\u5148\u6211\u4eec\u56de\u987e\u4e00\u4e0b\u5149\u5728\u4e24\u79cd\u4e0d\u540c\u5bc6\u5ea6\u7684\u7269\u8d28\u4e2d\u4f20\u64ad\u65f6\u7684\u884c\u4e3a\u3002\u5f53\u5149\u5728\u63a5\u89e6\u5230\u4e24\u79cd\u4ecb\u8d28\u7684\u4ea4\u754c\u8868\u9762\u65f6\uff0c\u5c31\u4f1a\u53d1\u751f\u90e8\u5206\u53cd\u5c04\u3001\u90e8\u5206\u6298\u8eab\u7684\u73b0\u8c61\u3002</p> <p>\u5982\u679c\u5165\u5c04\u89d2\u5ea6\u5408\u9002\uff0c\u5c31\u4f1a\u7a7f\u8fc7\u4ecb\u8d28\uff0c\u53d1\u751f\u6298\u5c04 -- \u8fd9\u53ef\u4ee5\u5bf9\u5e94\u5230\u80a1\u4ef7\u8fd0\u884c\u5230\u67d0\u4e2a\u533a\u57df\u540e\uff0c\u7a81\u7834\u4e86\u8be5\u533a\u95f4\uff0c\u5e76\u4e14\u6539\u53d8\u4e86\u89d2\u5ea6\uff1b\u4e5f\u53ef\u80fd\u53d1\u751f\u5b8c\u5168\u53cd\u5c04 -- \u5bf9\u5e94\u7740\u80a1\u4ef7\u65e0\u6cd5\u7a7f\u8d8a\u8be5\u533a\u95f4\uff0c\u5bfc\u81f4\u53cd\u5f39\u3002</p> <p></p> <p>Info</p> <p>\u7c7b\u4f3c\u7684\u73b0\u8c61\u4e0d\u4ec5\u4ec5\u53d1\u751f\u5728\u6574\u6570\u5173\u53e3\u3002\u66f4\u4e00\u822c\u5730\uff0c\u5f53\u80a1\u4ef7\u6210\u529f\u4e0a\u7a7f\u5bc6\u96c6\u6210\u4ea4\u533a\u4e4b\u540e\uff0c\u4e0a\u65b9\u7684\u963b\u529b\u5c31\u4f1a\u53d8\u5c0f\uff0c\u76f8\u5f53\u4e8e\u4ece\u5bc6\u5ea6\u5927\u7684\u6c34\u4e0b\uff0c\u6765\u5230\u4e86\u5bc6\u5ea6\u5c0f\u7684\u7a7a\u6c14\u4e2d\uff0c\u6b64\u65f6\u5c06\u51fa\u73b0\u4e0a\u6da8\u52a0\u901f\u3002</p> <p>\u8fd9\u7b14\u6587\u7ae0\u628a\u6574\u6570\u5173\u53e3\u5f53\u6210\u4e24\u79cd\u4e0d\u540c\u73af\u5883\u7684\u4ea4\u754c\u754c\u9762\uff08\u5176\u5b9e\u66f4\u5e7f\u4e49\u6765\u770b\uff0c\u8fd9\u4e5f\u662f\u5bc6\u96c6\u6210\u4ea4\u533a\u7684\u4e00\u79cd\uff09\uff0c\u7136\u540e\u8fd0\u7528\u5149\u6298\u5c04\u539f\u7406\uff0c\u8ba1\u7b97\u51fa\u5165\u5c04\u89d2\u3001\u6298\u5c04\u89d2\u548c\u6298\u5c04\u7387\u3002</p> <p>\u4ee5\u80b2\u78a7\u4e3a\u4f8b\uff1a</p> <p></p> <p>\u80b2\u78a7\u572810\u670826\u65e5\u8fbe\u523010\u5143\u6574\u6570\u5173\u53e3\u3002\u76f8\u5173\u53c2\u6570\u5b9a\u4e49\u5982\u4e0b\uff1a</p> <ol> <li>\u5f53\u80a1\u4ef7\u7b49\u4e8e\u6574\u6570\u5173\u53e3\u65f6\uff0c\u786e\u5b9a\u5165\u5c04\u70b9\u3002</li> <li>\u5165\u5c04\u7ebf\u4f7f\u7528\u5165\u5c04\u70b9\u524d 10 \u5929\u7684\u6536\u76d8\u4ef7\u8fdb\u884c\u7ebf\u6027\u56de\u5f52\u3002</li> <li>\u5165\u5c04\u7ebf\u4e0e\u6cd5\u7ebf\u4e4b\u95f4\u7684\u5939\u89d2\u8bb0\u4e3a\u5165\u5c04\u89d2\u3002</li> <li>\u4ecb\u8d28 1\uff08\u6574\u6570\u5173\u53e3\u524d\uff09\u7684\u6298\u5c04\u7387\\(n_1\\)\u5047\u5b9a\u4e3a 1.</li> <li>\u4ecb\u8d28 2\uff08\u6574\u6570\u5173\u53e3\u540e\uff09\u7684\u6298\u5c04\u7387\\(n_2\\)\u7531\u4ee5\u4e0b\u516c\u5f0f\u8ba1\u7b97\uff1a</li> </ol> \\[ n_2 = l x k x p \\] <p>\u5176\u4e2d\uff0c </p> \\[ l = \\frac{NZC}{NZS} \\] <p>NZC \u662f\u671f\u95f4\u4e0a\u6da8\u5929\u6570\uff0cNZS \u662f\u671f\u95f4\u4e0b\u8dcc\u5929\u6570\u3002\u5728\u80b2\u78a7\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e0a\u6da8\u5929\u6570\u4e3a 62 \u5929\uff0c\u4e0b\u8dcc\u4e3a 79 \u5929\uff0c\u56e0\u6b64 l \u4e3a 0.7848\u3002</p> \\[ K = \\frac{VMT10}{VMTC} \\] <p>\u8fd9\u91cc VMT10 \u662f\u6700\u540e 10 \u5929\u7684\u5e73\u5747\u6210\u4ea4\u91cf\u3002VMTC \u662f\u671f\u95f4\u6b63\u6536\u76ca\u65e5\u5747\u4ea4\u6613\u91cf\u3002\u5728\u80b2\u78a7\u7684\u4f8b\u5b50\u4e2d\uff0c\u8fd9\u4e2a\u503c\u4e3a 0.6919\u3002</p> \\[ p = \\frac{PM10}{VI} \\] <p>\u8fd9\u91cc PM10 \u662f\u6700\u540e 10 \u5929\u7684\u5e73\u5747\u4ef7\u683c\uff0cVI \u662f\u5206\u6790\u4e2d\u7684\u6574\u6570\u5173\u53e3\u4ef7\u683c\u3002\u6bd4\u5982\uff0c\u6574\u6570\u5173\u53e3\u662f10\u5143\uff0c\u8fc7\u4e86\u6574\u6570\u5173\u53e3\u540e\uff0c\u5e73\u5747\u4ef7\u683c\u662f 9.3\uff0c\u5219 p \u53d6\u503c\u4e3a 0.93\u3002</p> <p>\u6700\u7ec8\u7b97\u51fa\u6765\u7684\\(n_2\\)\u4e3a 0.5104\uff0c\u5927\u5927\u5c0f\u4e8e\u5c04\u65f6\u7684\u6298\u5c04\u7387\u3002\u5982\u679c\u5165\u5c04\u89d2\u5c0f\u4e8e\u4e34\u754c\u5165\u5c04\u89d2\uff0c\u5219\u5c06\u53d1\u751f\u5168\u53cd\u5c04\uff0c\u5373\u5728\u8fbe\u5230\u6574\u6570\u5173\u53e3\u540e\uff0c\u7acb\u5373\u4e0b\u8dcc -- \u4e5f\u5c31\u662f\u6211\u4eec\u5e38\u5e38\u770b\u5230\u7684 A \u6740\u3002</p> <p>\u6298\u5c04\u89d2\u7531\u4ee5\u4e0b\u516c\u5f0f\u8ba1\u7b97\uff1a</p> \\[ r = sin^{-1}(\\frac{1}{n_2}sin_i) \\] <p>\u5728\u4f8b\u5b50\u4e2d\uff0c\\(n_2\\)\u4e3a 0.5104\uff0c\u5165\u5c04\u89d2\u662f 82.5\uff0c\u56e0\u6b64\u6298\u5c04\u89d2\u4e3a 1.43\uff0c\u7531\u4e8e\u8fd9\u4e2a\u503c\u5927\u4e8e 1\uff0c\u56e0\u6b64\u5c06\u53d1\u751f\u5168\u53cd\u5c04 -- \u4e5f\u5c31\u662f\u4e0b\u8dcc\u3002</p> <p>\u4e34\u754c\u89d2\u7531\u4ee5\u4e0b\u516c\u5f0f\u8ba1\u7b97:</p> \\[ i_{critic} = sin^{-1}(\\frac{n_2}{n_1}) \\] <p>\u5982\u679c\u5165\u5c04\u89d2\u5c0f\u4e8e\u4e34\u754c\u89d2\uff0c\u90a3\u4e48\u80a1\u4ef7\u5c06\u7a7f\u8fc7\u6574\u6570\u5173\u53e3\uff0c\u4f46\u6536\u76ca\u4f1a\u5c0f\u4e8e\u524d\u5341\u5929\u6536\u76ca\u3002\u5982\u679c\u7b49\u4e8e\u4e34\u754c\u89d2\uff0c\u5219\u80a1\u4ef7\u4f1a\u5728\u6574\u6570\u5173\u53e3\u6574\u7406\uff01</p> <p>\u6587\u7ae0\u601d\u8def\u5f88\u65b0\u9896\uff0c\u4f46\u6709\u5b83\u7684\u9053\u7406\u3002\u6211\u4eec\u5e38\u5e38\u770b\u5230\uff0c\u80a1\u4ef7\u4e0a\u653b\u4e00\u6bb5\u65f6\u95f4\u540e\uff0cRSI\u7b49\u6280\u672f\u6307\u6807\u9700\u8981\u4fee\u590d\uff08\u6bcf\u4e00\u4e2a\u6280\u672f\u6307\u6807\u540e\u9762\uff0c\u90fd\u6709\u4e00\u6279\u4fe1\u4ef0\u5b83\u7684\u8d44\u91d1\uff09\uff0c\u6b64\u540e\u80fd\u5426\u7ee7\u7eed\u4e0a\u653b\uff0c\u5982\u4f55\u5224\u65ad\uff1f\u6211\u4e5f\u4e00\u76f4\u5728\u601d\u8003\u3002</p> <p>\u4ece\u4ea4\u6613\u7684\u89d2\u5ea6\uff0c\u5982\u679c\u51fa\u73b0\u5feb\u901f\u56de\u843d\uff0c\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u592a\u4e50\u89c2 -- \u76f8\u5f53\u4e8e\u8fd9\u91cc\u7684\u5168\u53cd\u5c04\u3002\u4f46\u5982\u679c\u56de\u843d\u901f\u5ea6\u6162\uff0c\u65f6\u95f4\u4e0a\u4e5f\u4fee\u6574\u591f\u4e86\uff0c\u5982\u679c\u5927\u5e02\u5c1a\u53ef\uff0c\u4f3c\u4e4e\u6bd4\u8f83\u5bb9\u6613\u51fa\u73b0\u7ee7\u7eed\u4e0a\u653b\u7684\u60c5\u51b5 -- \u4f46\u7f3a\u5c11\u9884\u8a00\u6b64\u540e\u4e0a\u6da8\u6216\u8005\u4e0b\u8dcc\u7684\u6839\u636e\u3002\u8fd9\u91cc\u7684\u65b9\u6cd5\u53ef\u4ee5\u7b97\u51fa\u5f53\u524d\u4ecb\u8d28\u7684\u6298\u5c04\u7387\uff0c\u8fdb\u800c\u9884\u8a00\u65b9\u5411\uff0c\u4e5f\u662f\u4e00\u79cd\u503c\u5f97\u6df1\u5165\u601d\u8003\u7684\u65b9\u5411\u3002</p> <p>\u8fd9\u7bc7\u8bba\u6587\u540d\u5b57\u53eb\u300aMeasuring the Pressure of Prices-Integer Values, Over the Stock Trend\u300b, \u4f5c\u8005\u662f\u5e03\u52a0\u52d2\u65af\u7279\u7ecf\u6d4e\u7814\u7a76\u9662\u7684 Mihail Dumitru Sacala. \u6211\u62ff\u5230\u7684\u7248\u672c\u662f\u96c6\u7ed3\u5728\u4e00\u4e2a\u540d\u4e3a\u300a\u65b0\u5174\u56fd\u5bb6\u91d1\u878d\u548c\u8d27\u5e01\u7a33\u5b9a\u6027\u7b2c\u4e00\u5c4a\u56fd\u9645\u4f1a\u8bae\u300b\u7684\u8bba\u6587\u96c6\u3002\u8fd9\u662f\u4e00\u4e2a\u957f\u8fbe 876 \u9875\u7684\u8bba\u6587\u96c6\uff0c\u8fd9\u7bc7\u6587\u7ae0\u51fa\u73b0\u5728\u7b2c 322 \u9875\u3002</p> <p>\u539f\u6587\u8fd0\u7528\u4e86\u4e00\u4e9b\u7269\u7406\u65b9\u9762\u7684\u77e5\u8bc6\uff0c\u5df2\u7ecf\u6709\u70b9\u751f\u758f\u4e86\uff0c\u89e3\u8bfb\u4e0d\u4e00\u5b9a\u6b63\u786e\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u81ea\u5df2\u8bfb\u4e00\u4e0b\u8fd9\u7bc7\u8bba\u6587\u3002\u505a\u91cf\u5316\u7684\uff0c\u7269\u7406\u51fa\u8eab\u7684\u591a\uff0c\u4e5f\u6709\u5b83\u7684\u9053\u7406\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/26/how-regret-factor-get-5.5-sharpe-ratio/","title":"Sharpe 5.5!\u9057\u61be\u89c4\u907f\u56e0\u5b50","text":"<p>\u5982\u679c\u5728\u4f60\u4e70\u5165\u4e4b\u540e\uff0c\u80a1\u4ef7\u4e0b\u8dcc\uff0c\u4f60\u4f1a\u5728\u7b2c\u4e8c\u5929\u6025\u7740\u629b\u5417\uff1f\u53cd\u4e4b\uff0c\u5982\u679c\u5728\u4f60\u5356\u51fa\u4e4b\u540e\uff0c\u80a1\u4ef7\u4e0a\u6da8\uff0c\u4f60\u4f1a\u53cd\u624b\u8ffd\u5165\u5417\uff1f</p> <p>\u5148\u522b\u6025\u7740\u56de\u7b54\uff0c\u6211\u4eec\u6765\u770b\u770b\u79d1\u5b66\u7814\u7a76\u7684\u7ed3\u8bba\u662f\u600e\u6837\u7684\u3002\u5173\u4e8e\u8fd9\u7c7b\u95ee\u9898\uff0c\u90fd\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7814\u7a76\u7684\u8303\u7574\u3002\u5177\u4f53\u5230\u8fd9\u4e2a\u573a\u666f\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd0\u7528\u9057\u61be\u7406\u8bba\u6765\u89e3\u91ca\u3002\u9057\u61be\u7406\u8bba\uff0c\u53c8\u79f0\u9057\u61be\u89c4\u907f\u7406\u8bba\uff08 Fear of Regret Theory\uff09\uff0c\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u91cd\u8981\u7406\u8bba\u4e4b\u4e00\uff0c\u8be5\u7406\u8bba\u8ba4\u4e3a\uff0c\u975e\u7406\u6027\u7684\u6295\u8d44\u8005\u5728\u505a\u51b3\u7b56\u65f6\uff0c\u4f1a\u503e\u5411\u4e8e\u907f\u514d\u4ea7\u751f\u540e\u6094\u60c5\u7eea\u5e76\u8ffd\u6c42\u81ea\u8c6a\u611f\uff0c\u907f\u514d\u627f\u8ba4\u4e4b\u524d\u7684\u51b3\u7b56\u5931\u8bef\u3002</p> <p>Tips</p> <ol> <li>\u9057\u61be\u89c4\u907f\u7406\u8bba\uff0c\u662f\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u91cd\u8981\u7406\u8bba\u4e4b\u4e00</li> <li>\u4e70\u5165\u5f53\u65e5\u6d6e\u4e8f\u4f1a\u5bfc\u81f4\u60dc\u552e\u5fc3\u7406\uff0c\u8fdb\u5165\u9057\u61be\u89c4\u907f\u7406\u8bba\u8303\u7574</li> <li>\u901a\u8fc7\u8ba2\u5355\u5e8f\u53f7\u6765\u786e\u5b9a\u8d44\u91d1\u7684\u4e70\u5165\u65b9\u5411</li> </ol> <p>\u4f8b\u5982\uff0c\u6295\u8d44\u8005\u4e0d\u613f\u610f\u5356\u51fa\u4e0b\u8dcc\u6d6e\u4e8f\u7684\u80a1\u7968\uff0c\u662f\u4e3a\u4e86\u907f\u514d\u7531\u4e8e\u5931\u8d25\u6295\u8d44\u6240\u5bfc\u81f4\u7684\u9057\u61be\u548c\u75db\u82e6\u5fc3\u60c5\u3002\u540c\u6837\u5730\uff0c\u5f53\u6295\u8d44\u8005\u5356\u6389\u624b\u4e2d\u80a1\u7968\u540e\uff0c\u53d1\u73b0\u5176\u5f00\u59cb\u4e0d\u65ad\u4e0a\u6da8\uff0c\u4e5f\u4f1a\u4e3a\u4e86\u907f\u514d\u4ea7\u751f\u9057\u61be\u548c\u540e\u6094\u60c5\u7eea\uff0c\u4ece\u800c\u4e0d</p> <p>\u4f1a\u8003\u8651\u518d\u5c06\u5176\u4e70\u56de\u3002\u6709\u4e00\u4e9b\u5927V\u7684\u89c2\u70b9\uff0c\u6240\u8c13\u53ea\u8d5a\u8ba4\u77e5\u8303\u56f4\u5185\u7684\u94b1\uff0c\u5356\u51fa\u540e\uff0c\u6da8\u4e0a\u5929\u4e5f\u4e0e\u6211\u65e0\u5173\uff0c\u4e00\u65b9\u9762\u53ef\u80fd\u662f\u6b63\u786e\u7684\u6295\u8d44\u7406\u5ff5\uff0c\u53e6\u4e00\u65b9\u9762\uff0c\u4e5f\u672a\u5c1d\u4e0d\u662f\u4e00\u79cd\u81ea\u6211\u8fa9\u89e3\u800c\u5df2\u3002</p> <p>\u90a3\u4e48\u662f\u5426\u53ef\u4ee5\u57fa\u4e8e\u884c\u4e3a\u91d1\u878d\u5b66\u7684\u7406\u8bba\uff0c\u6765\u6316\u6398\u51fa\u91cf\u5316\u56e0\u5b50\u5462\uff1f\u6700\u8fd1\u6211\u4eec\u62ff\u5230\u4e86\u4e00\u4efd\u56fd\u91d1\u8bc1\u5238\u5206\u6790\u5e08\u9ad8\u667a\u5a01\u7684\u7814\u62a5\uff0c\u4ed6\u6b63\u597d\u505a\u4e86\u8fd9\u4e2a\u7814\u7a76\uff0c\u8fd9\u91cc\u4e5f\u5206\u4eab\u7ed9\u5927\u5bb6\u3002</p> <p>\u9ad8\u667a\u5a01\u63a8\u6d4b\uff0c\u5f53\u5929\u4e3b\u4e70\u7684\u4eba\uff0c\u5982\u679c\u5728\u6536\u76d8\u540e\u5904\u4e8e\u6d6e\u4e8f\u7684\u72b6\u6001\uff0c\u4f1a\u51fa\u73b0\u60dc\u552e\u5fc3\u7406\uff0c\u4e14\u6d6e\u4e8f\u6bd4\u8d8a\u5927\uff0c\u5904\u4e8e\u6d6e\u4e8f\u7684\u8d44\u91d1\u91cf\u8d8a\u591a\uff0c\u8be5\u80a1\u6807\u7684\u5356\u51fa\u629b\u538b\u4e5f\u8d8a\u5c0f\u3002\u53cd\u4e4b\uff0c\u5219\u4e70\u5165\u52a8\u529b\u4e5f\u8d8a\u5c0f\u3002</p> <p>\uff08\u672c\u6587\u4f5c\u8005\uff1a\u8fd9\u70b9\u53ef\u4ee5\u53c2\u8003\u4e1c\u8d22\u80a1\u5427\u6570\u636e\uff0c\u770b\u770b\u8be5\u80a1\u6709\u591a\u5c11\u94c1\u7c89\u548c\u65b0\u7c89\u3002\u5982\u679c\u94c1\u7c89\u5360\u6bd4\u8f83\u5927\uff0c\u5356\u51fa\u540e\u6ca1\u6709\u4e70\u5165\u52a8\u529b\uff0c\u5219\u8be5\u80a1\u540e\u7eed\u4e00\u6bb5\u65f6\u95f4\uff0c\u53ef\u80fd\u51fa\u73b0\u4e70\u65b9\u8d44\u91d1\u4e0d\u8db3\u7684\u60c5\u51b5\u3002\u5982\u679c\u65b0\u7c89\u6bd4\u8f83\u591a\uff0c\u5219\u4e0d\u4e00\u5b9a\u6210\u7acb\uff09\u3002</p> <p>\u57fa\u4e8e\u4e0a\u8ff0\u63a8\u6d4b\uff0c\u4ed6\u6784\u5efa\u4e86\u4ee5\u4e0b4\u4e2a\u56e0\u5b50\uff1a</p> <p></p> <p>\u5728\u786e\u5b9a\u4e70\u5356\u65b9\u5411\u4e0a\uff0c\u4ed6\u4f7f\u7528\u4e86\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u5c0f\u6280\u5de7\uff0c\u5c31\u662f\u6309\u4e70\u5356\u8ba2\u5355\u53f7\u7684\u987a\u5e8f\u6765\u533a\u5206\u662f\u4e3b\u4e70\u8fd8\u662f\u4e3b\u5356\u3002</p> <p></p> <p>\u4e0a\u56fe\u4e2d\uff0c\u4ee5\u7b2c\u4e00\u5355\u4e3a\u4f8b\uff0c\u4e70\u5355\u53f7\u5728\u524d\uff0c\u5356\u5355\u53f7\u5728\u540e\uff0c\u56e0\u6b64\u8be5\u4ea4\u6613\u662f\u4e70\u65b9\u5148\u6302\u5355\uff0c\u5356\u65b9\u4e3b\u52a8\u5339\u914d\u6210\u4ea4\uff0c\u5b9a\u4e3a\u4e3b\u5356\u5355\u3002\u4ee5\u4e0b\u7c7b\u63a8\u3002</p> <p>\u4ece2016\u5e74\u52302022\u5e74\u4ee5\u6765\uff0c\u5bf9\u4e2d\u8bc11000\u80a1\u7968\u6c60\u8fdb\u884c\u56de\u6d4b\uff0c\u4ee5\u4e0b\u662f\u56de\u6d4b\u6307\u6807\uff1a</p> <p></p> <p></p> <p>\u5bf9\u6bd4\u4e00\u4e0b\u4e2d\u8bc11000\u4ece2016\u5e741\u6708\u4ee5\u6765\u7684\u6708k\u7ebf\uff08\u56fe\u4e2d\u7ad6\u865a\u7ebf\u5904\u4f4d\u7f6e\u4e3a2016\u5e741\u6708\uff09\uff1a</p> <p>\u6570\u636e\u770b\u4e0a\u53bb\u662f\u771f\u4e0d\u9519\uff0c\u7279\u522b\u662fHCVOL\u8fd9\u4e2a\u56e0\u5b50\uff0c\u590f\u666e\u7387\u9ad8\u8fbe5.5\uff0c\u53ef\u8c13\u662f\u65e0\u654c\u7684\u5b58\u5728\u4e86\u3002</p> <p>\u4f46\u8fd9\u4e2a\u7406\u8bba\u7684\u524d\u63d0\u662f\u5426\u6210\u7acb\uff1f\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u9057\u61be\u89c4\u907f\u7406\u8bba\u7684\u57fa\u77f3\uff0c\u662f\u6295\u8d44\u8005\u7684\u975e\u7406\u6027\u51b3\u7b56\u3002\u8fd9\u4e00\u524d\u63d0\u5728A\u80a1\u662f\u5426\u6210\u7acb\u5462\uff1f</p> <p>A\u80a1\u73b0\u5728\u7684\u91cf\u5316\u6e17\u900f\u7387\u624d\u4e0d\u523030%\uff0c\u663e\u7136\uff0c\u5e02\u573a\u4e0a\u7684\u591a\u6570\u6295\u8d44\u8005\u4ecd\u7136\u662f\u975e\u7406\u6027\u7684\uff08\u57fa\u4e8e\u6570\u5b66\u6a21\u578b\u3001\u4e0d\u53d7\u60c5\u7eea\u5e72\u6270\uff09\uff1b\u800c\u67d0\u4f1a\u524d\u4e0d\u4e45\u4e5f\u6279\u8bc4\u8fc7\uff0c\u73b0\u5728\u57fa\u91d1\u64cd\u4f5c\u4e5f\u51fa\u73b0\u6563\u6237\u5316\u7684\u503e\u5411\u3002\u8fd9\u8bf4\u660e\uff0c\u5728A\u80a1\u5e02\u573a\u4e0a\uff0c\u4ecd\u7136\u5b58\u5728\u5927\u91cf\u975e\u7406\u6027\u7684\u6295\u8d44\u8005\uff0c\u4e0a\u8ff0\u7406\u8bba\u786e\u5b9e\u662f\u53ef\u7528\u7684\u3002</p> <p>\u6b64\u5916\uff0c\u9ad8\u667a\u5a01\u5728\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u65e5\u5185\u6570\u636e\uff0c\u4f7f\u7528\u4e86\u5206\u65f6\u5747\u4ef7\u6765\u4f5c\u4e3a\u6295\u8d44\u8005\u7684\u951a\u5b9a\u6210\u672c\uff0c\u8fdb\u800c\u8ba1\u7b97\u51fa\u6d6e\u4e8f\u6295\u8d44\u8005\u7684\u6bd4\u4f8b\u3002</p> <p>\u4e5f\u6709\u62ff\u65e5\u7ebf\u53ca\u5468\u7ebf\u6570\u636e\u548c\u6362\u624b\u7387\u6765\u8ba1\u7b97\u6295\u8d44\u8005\u951a\u5b9a\u6210\u672c\u7684\u505a\u6cd5\uff0c\u6bd4\u5982\u5728CGO\u56e0\u5b50\u4e2d\uff0c\u6211\u4eec\u5c31\u8fd9\u6837\u8ba1\u7b97\u5927\u591a\u6570\u6295\u8d44\u8005\u7684\u6210\u672c\u4ef7\u3002\u4e0d\u8fc7\uff0c\u8ba1\u7b97\u884c\u4e3a\u91d1\u878d\u5b66\u8ba1\u7b97\u7684\u662f\u60c5\u7eea\uff0c\u770b\u8d77\u6765\u4f7f\u7528\u5468\u7ebf\u4f3c\u4e4e\u6ca1\u4ec0\u4e48\u9053\u7406\u3002\u65e5\u5185\u548c\u65e5\u95f4\u7684\u6ce2\u52a8\u53d7\u60c5\u7eea\u5f71\u54cd\u66f4\u5927\u4e00\u4e9b\u3002</p>","tags":["\u56e0\u5b50"]},{"location":"blog/2024/01/14/review-of-private-equity-quantitative-strategies-in-2024/","title":"\u79c1\u52df\u91cf\u5316\u7b56\u7565\u5927\u76d8\u70b9-2024\u5e74\u521d","text":"<p>\u770b\u4e86\u5341\u51e0\u5bb6\u79c1\u52df\u8def\u6f14\u62a5\u544a\uff0c\u603b\u7ed3\u51fa2023\u5e74\u6700\u6709\u6548\u7684\u7b56\u7565\uff01</p> <p>\u56e0\u5b50\u6316\u6398\u8fd8\u662f\u4ee5\u624b\u5de5\u4e3a\u4e3b\uff0c\u6700\u6709\u6548\u7684\u56e0\u5b50\uff08\u7b56\u7565\uff09\u4ecd\u7136\u662f\u6280\u672f\u7c7b\u7684\u8d8b\u52bf+\u53cd\u8f6c\uff0c\u65e0\u8bba\u662fCTA\u8fd8\u662f\u91cf\u5316\u591a\u5934\u90fd\u662f\u5982\u6b64\u3002\u6a21\u578b\u6784\u6210\u57fa\u672c\u4e0a\u90fd\u662f\u673a\u5668\u5b66\u4e60\u3002\u5176\u4e2d\u6811\u6a21\u578b\u6bd4\u795e\u7ecf\u7f51\u7edc\u5360\u6bd4\u66f4\u5927\u4e00\u4e9b\uff0c\u6709\u7684\u673a\u6784\u4e2d\u4f7f\u7528\u7387\u9ad8\u8fbe90%\u3002</p> <p></p> <p>\u5728CTA\u7b56\u7565\u4e2d\uff0c\u5982\u679c\u4ec5\u6309\u57fa\u672c\u9762\u3001\u6280\u672f\u548c\u53e6\u7c7b\u56e0\u5b50\u8fdb\u884c\u5212\u5206\uff0c\u5404\u5bb6\u4e3b\u8981\u4f7f\u7528\u7684\u56e0\u5b50\u8fd8\u662f\u6765\u81ea\u4e8e\u6280\u672f\u9762\uff0c\u8d8b\u52bf\u8ddf\u8e2a\u7b56\u7565\u5f80\u5f80\u662f\u6536\u76ca\u7684\u4e3b\u8981\u8d21\u732e\u8005\uff0c\u800c\u57fa\u672c\u9762\u56e0\u5b50\u5219\u5bf9\u7b56\u7565\u6536\u76ca\u6709\u6240\u62d6\u7d2f\u3002</p> <p>\u5728CTA\u4e2d\uff0c\u534a\u9785\u7684\u7b56\u7565\u6784\u6210\u5c42\u6b21\u6700\u4e30\u5bcc\uff0c\u540c\u65f6\u5229\u7528\u4e86\u671f\u9650\u7ed3\u6784\u3001\u4e8b\u4ef6\u9a71\u52a8\u3001\u6280\u672f\u56e0\u5b50\u3001\u65e5\u5386\u6548\u5e94\u3001\u91cf\u4ef7\u534f\u540c\u548c\u53cd\u8f6c\u3002\u603b\u7684\u6765\u8bf4\uff0c\u8fd8\u662f\u4ee5\u6280\u672f\u7c7b\u4e3a\u4e3b\uff08\u6280\u672f\u56e0\u5b50 -- \u8fd9\u91cc\u4e13\u6307\u7ecf\u5178\u6280\u672f\u6307\u6807\u3001\u65e5\u5386\u6548\u5e94\u3001\u91cf\u4ef7\u534f\u540c\u548c\u53cd\u8f6c\u90fd\u5c5e\u4e8e\u6280\u672f\u56e0\u5b50\u8fd9\u4e00\u5927\u7c7b\uff09\u3002</p> <p>\u534a\u9785\u7684\u7b56\u7565\u7684\u53e6\u4e00\u4e2a\u7279\u8272\u662f\u8fd0\u7528NLP\u5bf9\u6d77\u5916\u6570\u636e\u8fdb\u884c\u52a0\u5de5\uff0c\u6784\u5efa\u4e86\u4e8b\u4ef6\u9a71\u52a8\u6a21\u578b\u3002</p> <p></p> <p>\u5728\u91cf\u5316\u591a\u5934\u7b56\u7565\u5f52\u7c7b\u4e2d\uff0c\u56e0\u5b50\u6765\u6e90\u4e3b\u8981\u662f\u4eba\u5de5\u6316\u6398\uff0c\u4e3b\u6253\u4e00\u4e2a\u53ef\u89e3\u91ca\u6027\u3002\u91cf\u4ef7\u7c7b\u56e0\u5b50\u4ecd\u7136\u5360\u636e\u4e3b\u6d41\uff0c\u4e5f\u662f\u7b56\u7565\u6536\u76ca\u7684\u4e3b\u8981\u8d21\u732e\u8005\u3002\u56e0\u5b50\u6570\u91cf\u4e00\u822c\u5728\u51e0\u767e\uff0c\u4f46\u4e5f\u6709\u4e2a\u522b\u4e3b\u6253\u673a\u5668\u6316\u6398\u7684\uff0c\u56e0\u5b50\u5e93\u5c31\u6bd4\u8f83\u5927\uff0c\u6bd4\u5982\u4e0a\u6d77\u5353\u80dc\uff0c\u5c31\u641e\u4e86\u4e00\u4e2a10W+\u7684\u7279\u5f81\u5e93\u3002</p> <p>\u56e0\u5b50\u68c0\u9a8c\u4ecd\u7136\u5728\u7528IC\u5355\u56e0\u5b50\uff0c\u4f46\u6a21\u578b\u7ec4\u5408\u4e0a\uff0c\u591a\u6570\u79c1\u52df\u90fd\u5347\u7ea7\u4e3a\u673a\u5668\u5b66\u4e60\uff0890%\uff09\uff0c\u6709\u7684\u8fd8\u5f00\u59cb\u4f7f\u7528\u795e\u7ecf\u7f51\u7edc\uff0c\u4ee5\u8fbe\u5230\u975e\u7ebf\u6027\u7ec4\u5408\u7684\u6548\u679c\u3002</p> <p>\u56e0\u5b50\u6316\u6398\u4e2d\u4e00\u4e2a\u503c\u5f97\u6ce8\u610f\u7684\u70b9\u662f\uff0c\u9ad8\u9891\u6570\u636e\u4f4e\u9891\u5316\u4f7f\u7528\u3002\u6bd4\u5982\u7ff0\u8363\u5bf9L2\u6570\u636e\u8fdb\u884c\u6316\u6398\uff0c\u56e0\u5b50\u5728\u4e2d\u9891\u4ea4\u6613\u4e2d\u4f7f\u7528\u3002\u9ad8\u9891\u6570\u636e\u5e38\u5e38\u9690\u542b\u53ef\u4ee5\u66b4\u9732\u4e3b\u529b\u653b\u51fb\u610f\u56fe\u7684\u4fe1\u53f7\uff0c\u56e0\u6b64\uff0c\u4e0d\u4ec5\u4ec5\u53ef\u4ee5\u7528\u5728\u9ad8\u9891\u4ea4\u6613\u4e2d\uff0c\u7ff0\u8363\u8bc1\u5b9e\u4e86\u5176\u5728\u4e2d\u9891\u4ea4\u6613\u4e2d\u4e5f\u6709\u4ef7\u503c\u3002</p> <p>\u591a\u5934\u6807\u7684\u4e00\u822c\u9009\u62e9300\uff0c500\u548c1000\u6307\u589e\uff0c\u4e5f\u6709\u50cf\u4e91\u8d77\u8fd9\u6837\u505a\u7a7a\u6c14\u6307\u589e\uff08\u5373\u4e0d\u8ddf\u8e2a\u4efb\u4f55\u6307\u6570\uff0c\u5168\u5e02\u573a\u9009\u80a1\uff09\u7684\u3002</p> <p>\u4e2d\u6027\u7b56\u7565\u4e5f\u6709\u4eae\u70b9\u3002\u4e0a\u6d77\u5353\u80dc\u5728500\u6307\u589e\u7684\u91cf\u5316\u5bf9\u51b2\u7b56\u7565\u4e0a\uff0c\u53bb\u5e74\u590f\u666e\u5230\u8fbe2.22\uff0c\u8fd9\u4e5f\u4e0e\u5168\u5e74\u5e02\u573a\u8d70\u52bf\u76f8\u5173\u3002</p> <p>\u673a\u5668\u5b66\u4e60\u5982\u4f55\u8fed\u4ee3\uff1f\u6bd4\u5982\u4e91\u8d77\uff0c\u4ed6\u4eec\u662f\u5728\u9047\u5230\u8d85\u9884\u671f\u56de\u64a4\u65f6\uff0c\u5c31\u5bf9\u6a21\u578b\u8fdb\u884c\u5927\u7684\u8fed\u4ee3\u3002\u5982\u4f55\u5b9a\u4e49\u8d85\u9884\u671f\u56de\u64a4\u6ca1\u6709\u7ec6\u8bb2\u3002\u4f46\u6211\u4eec\u77e5\u9053\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u5c31\u662f\u6839\u636e\u7b56\u7565\u7684\u590f\u666e\u7387\uff0c\u901a\u8fc7\u8499\u7279\u5361\u6d1b\u65b9\u6cd5\uff0c\u63a8\u65ad\u51fa\u6700\u5927\u56de\u64a4\u7684\u6982\u7387\u5206\u5e03\uff0c\u7136\u540e\u901a\u8fc7\u6700\u5927\u56de\u64a4\u6765\u5224\u65ad\u662f\u5426\u8d85\u51fa\u6b63\u5e38\u6c34\u5e73\u3002</p> <p>\u6bd4\u8f83\u53e6\u7c7b\u7684\u6709\u4e0a\u6d77\u76db\u51a0\u8fbe\uff0c\u4e3b\u6253\u4e00\u4e2a\u5c0f\u76d8\u91cf\u5316\u7b56\u7565\u3002\u57fa\u672c\u9762\u591a\u56e0\u5b50\uff08\u5b63\u9891\uff09+\u6280\u672f\u6307\u6807\uff08\u6708\u9891\uff09\u3002\u5e74\u6362\u624b10\u500d\u3002\u4ece\u6362\u624b\u548c\u4ea4\u6613\u624b\u6cd5\u770b\uff0c\u5e94\u8be5\u8fd8\u662f\u4eba\u5de5\u9009\u80a1\u52a0\u624b\u5de5\u6267\u884c\u3002\u4f46\u6548\u679c\u4e0d\u9519\u3002</p> <p>\u98ce\u63a7\u6a21\u578b\u4e0a\uff0cbarra\u5236\u9738\u5168\u573a\u3002\u51e0\u4e4e\u6240\u6709\u7684\u91cf\u5316\u591a\u5934\u7b56\u7565\u90fd\u4f7f\u7528\u7684\u662fbarra\u6a21\u578b\u3002</p>","tags":["strategy","review"]},{"location":"blog/2023/12/25/santa-claus-rally/","title":"Santa Claus Rally","text":"<p>\u6bcf\u5929\u575a\u6301\u53d1\u8d34 \u3002\u5343\u5b57\u5de6\u53f3\uff0c\u56fe\u6587\u5e76\u8302\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#_1","title":"\u58f0\u660e\uff1a\u8fd9\u4e00\u5929\u6211\u4eec\u4e5f\u6ca1\u6709\u6f0f\u53d1\u3002","text":"<p>Santa Claus Rally \u662f\u6307 12 \u6708 25 \u65e5\u5723\u8bde\u8282\u524d\u540e\u80a1\u5e02\u7684\u6301\u7eed\u4e0a\u6da8\u8fd9\u6837\u4e00\u4e2a\u73b0\u8c61\u3002\u300a\u80a1\u7968\u4ea4\u6613\u5458\u5e74\u9274\u300b\u7684\u521b\u59cb\u4eba Yale Hirsch \u4e8e 1972 \u5e74\u521b\u9020\u4e86\u8fd9\u4e2a\u5b9a\u4e49\uff0c\u4ed6\u5c06\u5f53\u5e74\u6700\u540e\u4e94\u4e2a\u4ea4\u6613\u65e5\u548c\u6b21\u5e74\u524d\u4e24\u4e2a\u4ea4\u6613\u65e5\u7684\u65f6\u95f4\u8303\u56f4\u5b9a\u4e49\u4e3a\u53cd\u5f39\u65e5\u671f\u3002</p> <p>\u6839\u636e CFRA Research \u7684\u53d1\u73b0\uff0c\u81ea 1945 \u5e74\u4ee5\u6765\uff0cS&amp;P 500 \u6307\u6570\uff08\u6807\u51c6\u666e\u5c14 500 \u6307\u6570\uff09\u5728\u4e00\u5e74\u7684\u6700\u540e 5 \u4e2a\u4ea4\u6613\u65e5\u548c\u65b0\u5e74\u7684\u524d\u4e24\u4e2a\u4ea4\u6613\u65e5\u5747\u5b9e\u73b0\u4e86\u6b63\u56de\u62a5\uff0c\u8fd9\u4e03\u5929\u4e2d\u6709 79.2%\u7684\u65f6\u95f4\u80a1\u7968\u4ef7\u683c\u5448\u73b0\u4e0a\u6da8\u8d8b\u52bf\u3002\u300a\u80a1\u7968\u4ea4\u6613\u8005\u5e74\u9274\u300b\u6c47\u7f16\u4e86\u4ece 1950 \u5e74\u5230 2022 \u5e74\u7684\u6570\u636e\uff0c\u663e\u793a Santa Claus Rally \u53d1\u751f\u4e86 58 \u6b21\uff08\u7ea6\u5360\u6240\u6709\u5e74\u4efd\u7684 80%\uff09\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#_2","title":"\u4e0a\u6da8\u884c\u60c5\u51fa\u73b0\u539f\u56e0","text":"<p>J.P. Morgan \u8868\u793a\uff1a\u6295\u8d44\u8005\u5728\u5e86\u795d\u8282\u65e5\u65f6\u7684\u4e50\u89c2\u60c5\u7eea\uff0c\u5229\u7528\u8282\u65e5\u5956\u91d1\u8fdb\u884c\u6295\u8d44\uff0c\u5e74\u7ec8\u7a0e\u6536\u8003\u91cf\u4ee5\u53ca\u5e74\u672b\u6d88\u8d39\u8005\u4fc3\u9500\u7b49\uff0c\u90fd\u53ef\u80fd\u662f Santa Claus Rally \u51fa\u73b0\u7684\u539f\u56e0\u3002\u6709\u4e00\u90e8\u5206\u7406\u8bba\u548c\u6469\u6839\u5927\u901a\u7684\u89c2\u70b9\u76f8\u4f3c\uff0c\u4f46\u4e5f\u6709\u53e6\u4e00\u79cd\u7406\u8bba\u8ba4\u4e3a\uff0c\u8fd9\u662f\u4e00\u5e74\u4e2d\u673a\u6784\u6295\u8d44\u8005\u4f11\u5047\u7684\u65f6\u95f4\uff0c\u5c06\u5e02\u573a\u7559\u7ed9\u6563\u6237\u6295\u8d44\u8005\u800c\u4ed6\u4eec\u5f80\u5f80\u66f4\u770b\u6da8\u3002</p> <p>\u8fd9\u91cc\u60f3\u989d\u5916\u63d0\u4e00\u4e0b\u6709\u5173\u201c\u6d88\u8d39\u60c5\u51b5\u201d\u7684\u80cc\u666f\u3002\u5728\u611f\u6069\u8282\u4e4b\u540e\u7684\u661f\u671f\u4e94\uff08\u7ea6\u4e3a 11 \u6708 24 \u65e5\uff09\u5728\u56fd\u5916\u88ab\u79f0\u4e3a\u201c\u9ed1\u4e94\u201d\uff0c\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u65fa\u76db\u7684\u6d88\u8d39\u9700\u6c42\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u4f1a\u63d0\u9ad8\u516c\u53f8\u4e1a\u7ee9\uff0c\u5c24\u5176\u662f\u96f6\u552e\u4e1a\uff0c\u4ece\u800c\u62c9\u9ad8\u80a1\u4ef7\u3002\u540c\u65f6\uff0c\u80a1\u5e02\u7684\u4fe1\u606f\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\u8fdb\u884c\u8c03\u6574\uff0c\u540c\u65f6\u4e5f\u6709\u591a\u671f\u51b2\u51fb\u7684\u7279\u70b9\uff08\u5373 t-2 \u671f\u7684\u56e0\u5b50\u4e5f\u4f1a\u5bf9 t \u671f\u56e0\u5b50\u4ea7\u751f\u5f71\u54cd\uff09\uff0c\u56e0\u6b64\u8fd9\u79cd\u5f71\u54cd\u5927\u6982\u7387\u4f1a\u6301\u7eed\u5230\u5723\u8bde\u8282\u3002</p> <p>\u6211\u4eec\u4e5f\u731c\u6d4b\u6295\u8d44\u8005\u7684\u5fc3\u7406\u6697\u793a\u4e5f\u4f1a\u4fc3\u6210\u8fd9\u4e2a\u4e0a\u6da8\u8d8b\u52bf\u3002Yale Hirsch \u7ecf\u5e38\u5f15\u7528\u8fd9\u6837\u4e00\u53e5\u8bdd\uff1a\u201cIf Santa Claus should fail to call, bears may come to Broad And Wall\"\uff0c\u610f\u601d\u5c31\u662f\u5982\u679c Santa Claus Rally \u4e0d\u51fa\u73b0\uff0c\u672a\u6765\u90a3\u4e00\u5e74\u7684\u6295\u8d44\u60c5\u51b5\u4e0d\u4f1a\u5f88\u4e50\u89c2\u3002\u6240\u4ee5\u5982\u679c\u5e02\u573a\u53cd\u6620\u51fa\u4e00\u70b9\u7684\u4e50\u89c2\u60c5\u7eea\uff0c\u4f1a\u52a0\u5267\u4e0a\u6da8\u884c\u60c5\uff0c\u53cd\u4e4b\u5219\u4f1a\u6709\u6240\u6076\u5316\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#santa-claus-rally","title":"Santa Claus Rally \u5386\u53f2\u884c\u60c5","text":"","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#santa-claus-rally_1","title":"Santa Claus Rally \u8d77\u59cb\u65f6\u95f4","text":"<p>\u5173\u4e8e Santa Claus Rally \u5f00\u59cb\u7684\u786e\u5207\u65f6\u95f4\u5176\u5b9e\u662f\u5b58\u5728\u4e89\u8bae\u7684\u3002\u5927\u591a\u6570\u6295\u8d44\u8005\u8ba4\u4e3a\u4e0a\u6da8\u8d8b\u52bf\u59cb\u4e8e\u5723\u8bde\u8282\u524d\u4e00\u5468\uff0c\u800c\u4e5f\u6709\u4e00\u4e9b\u4eba\u8ba4\u4e3a\u65f6\u95f4\u533a\u95f4\u662f\u4ece\u5723\u8bde\u8282\u5f00\u59cb\uff0c\u5ef6\u4f38\u81f3 1 \u6708 2 \u65e5\u3002\u5c3d\u7ba1\u5b58\u5728\u65f6\u95f4\u754c\u5b9a\u7684\u4e89\u8bae\uff0c\u4f46\u80a1\u5e02\u7684\u6301\u7eed\u4e0a\u6da8\u8d8b\u52bf\u5374\u662f\u4e0d\u53ef\u4e89\u8bae\u7684\u4e8b\u5b9e\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#12","title":"12 \u6708\u60c5\u51b5","text":"<p>\u5f53\u6295\u8d44\u8005\u8003\u8651 S&amp;P 500 \u5728 2002 \u5e74\u81f3 2022 \u5e74 12 \u6708 25 \u65e5\u524d\u4e00\u5468\u7684 20 \u5e74\u8868\u73b0\u65f6\uff0c\u51e0\u4e4e\u6ca1\u6709\u8bc1\u636e\u8868\u660e\u4f1a\u51fa\u73b0 Santa Claus Rally \u7684\u8ff9\u8c61\u3002\u6211\u4eec\u53c2\u8003\u4e0b\u56fe\u53ef\u4ee5\u53d1\u73b0\uff0c\u867d\u7136\u6709 13 \u5e74\u7684\u56de\u62a5\u7387\u4e3a\u6b63\uff0c\u4f46\u4e5f\u6709 5 \u5e74\u7684\u56de\u62a5\u7387\u4e3a\u8d1f\uff0c2 \u5e74\u6ca1\u6709\u4efb\u4f55\u53d8\u5316\u3002\u867d\u7136\u5927\u90e8\u5206\u6295\u8d44\u8005\u4f1a\u5c06\u5723\u8bde\u8282\u524d\u51e0\u5468\u80a1\u7968\u4e0a\u6da8\u4e5f\u5f52\u4e8e Santa Claus Rally\uff0c\u4f46\u662f\u6211\u4eec\u4e0d\u80fd\u5bf9 12 \u6708\u62b1\u6709\u8fc7\u4e8e\u4e50\u89c2\u7684\u60c5\u7eea\uff0c\u6bd5\u7adf\u5386\u53f2\u8fd8\u662f\u5b58\u5728\u6536\u76ca\u7387\u4e3a\u8d1f\u7684\u60c5\u51b5\u3002</p> <p></p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#1","title":"1 \u6708\u60c5\u51b5","text":"<p>\u6839\u636e Yale Hirsch \u7684\u8bf4\u6cd5\uff0c1 \u6708\u4efd\u7684\u524d\u4e24\u4e2a\u4ea4\u6613\u65e5\u5305\u542b\u5728 Santa Claus Rally \u4e4b\u4e2d\u3002\u6295\u8d44\u8005\u53ef\u80fd\u4f1a\u5728\u9884\u671f 1 \u6708\u4efd\u80a1\u4ef7\u4e0a\u6da8\u7684\u60c5\u51b5\u4e0b\u8d2d\u4e70\u80a1\u7968\uff0c\u4f53\u73b0\u4e3a\u79ef\u6781\u7684\u60c5\u7eea\uff0c\u8fd9\u4e5f\u79f0\u4e3a 1 \u6708\u6548\u5e94\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#_3","title":"\u6807\u666e\u6307\u6570\u7684\u53cd\u6a21\u5f0f","text":"<p>\u867d\u7136\u5386\u53f2\u6570\u636e\u4f3c\u4e4e\u652f\u6301\u201cSanta Claus Rally\u201d\u7684\u7ed3\u8bba\u4ee5\u53ca\u5b83\u53ef\u80fd\u9884\u793a\u7740\u672a\u6765\u4e00\u5e74\u7684\u60c5\u51b5\uff0c\u4f46\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u8fc7\u53bb\u7684\u8868\u73b0\u5e76\u4e0d\u4e00\u5b9a\u662f\u672a\u6765\u56de\u62a5\u7684\u9884\u6d4b\u6307\u6807\uff0c\u800c\u4e14\u5e76\u975e\u6240\u6709\u5e74\u4efd\u90fd\u9075\u5faa\u8fd9\u4e00\u8d8b\u52bf\u3002</p> <p>\u4f8b\u5982\uff1a\u5728 2015 \u5e74\u5e74\u672b\u6536\u76ca\u7387\u4e3a\u8d1f\uff0c\u4f46\u662f S&amp;P 500 \u5728 2016 \u7684\u6536\u76ca\u7387\u4e3a+12%\uff1b\u5c3d\u7ba1\u5728 2021 \u5e74\u5730\u51fa\u73b0\u4e86 Santa Claus Rally\uff08\u5373\u80a1\u4ef7\u4e0a\u6da8\uff09\uff0c\u4f46 S&amp;P 500 \u5728 2022 \u5e74\u6536\u76ca\u7387\u4e3a\u8d1f\uff0c\u751a\u81f3\u662f\u8fd9\u51e0\u5e74\u6700\u4f4e\u6536\u76ca\u7387\u3002</p> <p>\u6240\u4ee5\u6211\u4eec\u65e2\u8981\u5173\u6ce8\u5723\u8bde\u884c\u60c5\u51fa\u73b0\u7684\u53ef\u80fd\u6027\uff0c\u4f46\u4e5f\u8981\u660e\u767d\uff0c\u5b83\u6709\u4e00\u5b9a\u7684\u968f\u673a\u6027\u3002\u5b83\u4e0d\u662f\u72ee\u5b50\u5ea7\u6d41\u661f\u96e8\uff0c\u6bcf\u5e74 11 \u6708\u5c31\u4e00\u5b9a\u4f1a\u51fa\u73b0\u3002\u786e\u5b9a\u4f1a\u6765\u7684\uff0c\u53ea\u6709\u5723\u8bde\u8001\u4eba\uff0c\u5982\u679c\u4f60\u662f\u90a3\u4e2a\u4e56\u5b69\u5b50\u7684\u8bdd\u3002</p>","tags":["strategy"]},{"location":"blog/2023/12/25/santa-claus-rally/#merry-christmas-and-happy-new-year","title":"Merry Christmas And Happy New Year!","text":"<p>A \u80a1\u4e5f\u6709\u7c7b\u4f3c\u7684\u884c\u60c5\uff0c\u4e00\u822c\u79f0\u4e4b\u4e3a\u6625\u8282\u884c\u60c5\u3002\u636e\u7edf\u8ba1\uff0c\u51fa\u73b0\u6625\u8282\u884c\u60c5\u7684\u6982\u7387\u5728 80%\u4ee5\u4e0a\uff0c\u4f46\u662f\uff0c\u6625\u8282\u884c\u60c5\u5f00\u59cb\u7684\u65f6\u95f4\u4e0d\u786e\u5b9a\u3002\u6709\u4ece 12 \u6708\u4e2d\u65ec\u5f00\u59cb\u7684\uff0c\u4e5f\u6709\u4ece 1 \u6708\u540e\u7684\uff1b\u6709\u6625\u8282\u524d\u7ed3\u675f\u7684\uff0c\u4e5f\u6709\u6301\u7eed\u5230\u4e24\u4f1a\u671f\u95f4\u7684\u3002</p> <p></p>","tags":["strategy"]},{"location":"blog/2024/01/04/z-score-as-a-factor/","title":"Z-score \u56e0\u5b50\u7684\u6df1\u5165\u601d\u8003","text":"<p>\u6700\u65b0\uff082024 \u5e74 1 \u6708\uff09\u51fa\u7248\u7684 SC \u6280\u672f\u5206\u6790\uff08Techical Analysis of Stock &amp; Commodities\uff09\u7684\u7b2c 4 \u6761\u6587\u7ae0\u7ed9\u5230\u4e86 Z-score\uff0c\u539f\u6587\u6807\u9898\u4e3a\u300aZ-score: How to use it in Trading\u300b\u3002\u4eca\u5929\u7684\u7b14\u8bb0\uff0c\u5c31\u501f\u6b64\u673a\u4f1a\uff0c\u540c\u6b65\u63a8\u51fa\u6211\u4eec\u5bf9\u901a\u8fc7Z-score\u6765\u6784\u5efa\u91cf\u5316\u56e0\u5b50\u7684\u4e00\u4e9b\u89c2\u70b9\u3002</p> <p>Tip</p> <p>SC \u6280\u672f\u5206\u6790\u6742\u5fd7\u7531\u6ce2\u97f3\u7684\u673a\u68b0\u5de5\u7a0b\u5e08 Jack Huston \u521b\u5efa\u4e8e 1982 \u5e74\uff0c\u5185\u5bb9\u6db5\u76d6\u5168\u7403\u884c\u4e1a\u8d8b\u52bf\u3001\u6770\u51fa\u4eba\u7269\u3001\u4ea4\u6613\u6280\u672f\u3001\u7ba1\u7406\u57fa\u91d1\u4ee5\u53ca\u57fa\u672c\u9762\u548c\u6280\u672f\u5206\u6790\uff0c\u76ee\u524d\u6709 1 \u767e\u591a\u4e07\u8ba2\u9605\u8005\uff0c\u662f\u5f53\u4e0b\u91cf\u5316\u4ea4\u6613\u8005\u5fc5\u8bfb\u7684\u6742\u5fd7\u4e4b\u4e00\u3002\u9898\u5916\u8bdd\uff0c\u5728\u8fc7\u53bb\uff0c\u6280\u672f\u5206\u6790\u5927\u5e08\u5f80\u5f80\u662f\u673a\u68b0\u5de5\u7a0b\u51fa\u8eab\uff0c\u6bd4\u5982\u53d1\u660e RSI,ATR \u548c SAR \u7b49\u7ecf\u5178\u6280\u672f\u6307\u6807\u7684 Welles Wilder \u4e5f\u662f\u4e00\u540d\u673a\u68b0\u5de5\u7a0b\u5e08\u3002\u5728\u672a\u6765\uff0c\u4ea4\u6613\u4e2d\u7684\u6770\u51fa\u4eba\u7269\u5219\u53ef\u80fd\u6765\u81ea\u8f6f\u4ef6\u884c\u4e1a\u3002</p>","tags":["strategy","\u56e0\u5b50","zscore"]},{"location":"blog/2024/01/04/z-score-as-a-factor/#z-score","title":"Z-Score \u7684\u8ba1\u7b97","text":"<p>Z-score \u7684\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a $$ Z = \\frac{X-\\mu}{\\sigma} $$</p> <p>\u8fd9\u91cc\\(Z\\)\u662f z-score\uff0c\\(X\\)\u4e00\u822c\u53d6\u80a1\u4ef7\uff0c\\(\\mu\\)\u662f\u5747\u503c\uff0c\\(\\sigma\\)\u662f\u6807\u51c6\u5dee\uff0c\u4e5f\u79f0\u6ce2\u52a8\u7387\u3002</p> <p>\u5982\u679c X\u670d\u4ece\u6b63\u6001\u5206\u5e03\uff0c\u90a3\u4e48\u5c06\u6709\u4ee5\u4e0b\u7ed3\u8bba\uff1a 1. abs(z-score) &gt;= 2 \u7684\u6982\u7387\u5c0f\u4e8e 2.3% 2. abs(z-score) &gt;= 3 \u7684\u6982\u7387\u5c0f\u4e8e 0.13%</p> <p>\u7531\u6b64\u53ef\u4ee5\u4f5c\u4e3a\u67d0\u79cd\u53cd\u8f6c\u4fe1\u53f7\uff0c\u5373\u4e00\u65e6z-score\u8d85\u8fc7\u00b12\uff0c\u5c06\u670997.7%\u7684\u6982\u7387\u4f1a\u56de\u5f52\u5230\u00b12 \u4ee5\u5185\uff0c\u4e5f\u5c31\u662f\u80a1\u4ef7\u4f1a\u53d1\u751f\u5411\u5747\u503c\u65b9\u5411\u7684\u56de\u5f52\u3002</p> <p>\u5728 scipy.stats \u5305\u4e2d\u6709 zscore \u8ba1\u7b97\u51fd\u6570\uff0c\u4f46\u5b83\u662f\u57fa\u4e8e\u6211\u4eec\u4f20\u5165\u7684\u5168\u90e8\u6570\u636e\u7684\u3002\u5728\u56e0\u5b50\u6784\u5efa\u4e2d\uff0c\u6211\u4eec\u5b9e\u9645\u4e0a\u8981\u8ba1\u7b97\u7684\u662frolling-zscore\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u501f\u7528 pandas \u4e2d\u7684 rolling \u65b9\u6cd5\u6765\u81ea\u884c\u8ba1\u7b97\uff1a</p> <pre><code>def rolling_zscore(s, win=20):\n    ma = s.rolling(window=win).mean()\n    std = s.rolling(window=win).std()\n    return (s - ma)/std\n</code></pre> <p>Info</p> <p>\u5728 numpy \u4e2d\u6ca1\u6709 rolling \u8fd9\u4e2a\u65b9\u6cd5\uff0c\u5b83\u5728 np.lib.stride_tricks \u4e2d\uff0c\u63d0\u4f9b\u4e86\u4e00\u4e2a as_stride \u65b9\u6cd5\u6765\u63d0\u4f9b\u6ed1\u52a8\u7a97\u53e3\u6570\u636e\u3002\u4f46\u662f\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\uff0cnumpy \u5e76\u4e0d\u63a8\u8350\u4f7f\u7528\u8fd9\u4e2a\u65b9\u6cd5\u3002\u5728 pandas \u4e2d\uff0crolling \u65b9\u6cd5\u6709\u5176 cython \u53ca numba \u7684\u5b9e\u73b0\uff0c\u901f\u5ea6\u4e0a\u66f4\u5360\u4f18\u52bf\u3002\u8fd9\u4e00\u5c40\uff0c pandas \u80dc\u3002</p>","tags":["strategy","\u56e0\u5b50","zscore"]},{"location":"blog/2024/01/04/z-score-as-a-factor/#_1","title":"\u56e0\u5b50\u68c0\u9a8c","text":"<p>\u8fd9\u7bc7\u7b14\u8bb0\u4e0d\u6253\u7b97\u8d70\u5b8c\u6574\u7684\u6d41\u7a0b\uff0c\u6211\u4eec\u5c06\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u6807\u7684\uff0c\u8ba1\u7b97\u5b83\u6700\u8fd1 250 \u671f\u7684 zscore\uff0c\u628a zscore \u5c0f\u4e8e-2 \u7684\u70b9\u4f5c\u4e3a\u4e70\u5165\u70b9\uff0c\u5927\u4e8e 2 \u7684\u70b9\u4f5c\u4e3a\u5356\u51fa\u70b9\uff0c\u8fdb\u884c\u7ed8\u56fe\u663e\u793a\uff0c\u7136\u540e\u5c31\u56fe\u7684\u8d70\u52bf\uff0c\u6765\u8fdb\u884c\u6df1\u5165\u8ba8\u8bba\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u6bcf\u4e00\u4e2a\u4e70\u5165\u70b9\u5dee\u4e0d\u591a\u90fd\u662f\u5c40\u90e8\u7684\u6700\u4f4e\u70b9\uff0c\u6bcf\u4e00\u4e2a\u5356\u51fa\u70b9\u4e5f\u5dee\u4e0d\u591a\u662f\u5c40\u90e8\u6700\u9ad8\u70b9\u3002\u4f46\u662f\uff0c\u5728\u4e0b\u8dcc\u8d8b\u52bf\u4e2d\uff0c\u5373\u4f7f\u6211\u4eec\u5728\u6700\u4f4e\u70b9\u8fdb\u5165\u4e86\uff0c\u5b83\u7684\u53cd\u5f39\u5e76\u4e0d\u80fd\u6301\u7eed\u591a\u4e45\uff08\u6216\u8005\u591a\u5927\u7684\u5e45\u5ea6\uff09\uff0c\u800c\u4e14\u5f88\u96be\u7b49\u5230 zscore \u7684\u5356\u51fa\u70b9\uff0c\u5f80\u5f80\u5c31\u5df2\u7ecf\u62d0\u5934\u4e86\u3002</p> <p>\u6216\u8005\u8bf4\uff0czscore\u5927\u4e8e2\uff0c\u662f\u4e00\u4e2a\u5356\u51fa\u7684\u5145\u5206\u4f46\u4e0d\u5fc5\u8981\u6761\u4ef6\uff1bzscore \u5c0f\u4e8e-2, \u662f\u4e00\u4e2a\u4e70\u5165\u7684\u5145\u5206\u4f46\u4e0d\u5fc5\u8981\u7684\u6761\u4ef6\u3002\u5b83\u4e0d\u5bf9\u672a\u6765\u8d8b\u52bf\u8fdb\u884c\u9884\u6d4b\uff0c\u5e76\u4e14\u5728 97.7%\u7684\u65f6\u95f4\u91cc\uff0c\u4e0d\u4f1a\u53d1\u51fa\u4ea4\u6613\u4fe1\u53f7\uff0c\u8fd9\u6837\u8d44\u91d1\u5229\u7528\u7387\u4e5f\u4e0d\u591f\u3002\u56e0\u6b64\uff0czscore \u53ef\u4ee5\u6784\u6210\u4e00\u4e2a\u56e0\u5b50\uff0c\u4f46\u4e0d\u80fd\u6784\u6210\u4e00\u4e2a\u7b56\u7565\u3002\u4f46\u4f5c\u4e3a\u56e0\u5b50\uff0c\u5b83\u4ecd\u7136\u662f\u4f18\u79c0\u7684\uff0c\u56e0\u4e3a\u5b83\u80fd\u53d1\u51fa\u786e\u5b9a\u3001\u80dc\u7387\u5f88\u9ad8\u7684\u4fe1\u53f7\u3002</p>","tags":["strategy","\u56e0\u5b50","zscore"]},{"location":"blog/2024/01/04/z-score-as-a-factor/#_2","title":"\u4e0e\u5e03\u6797\u5e26\u7684\u5173\u7cfb","text":"<p>\u5982\u679c\u4f60\u719f\u6089\u5e03\u6797\u5e26\u7b56\u7565\uff0c\u90a3\u4e48\u4f60\u4f1a\u53d1\u73b0\uff0cz-score \u7684\u7b97\u6cd5\u4e0e\u5e03\u6797\u5e26\u4e00\u6a21\u4e00\u6837\u3002\u4e0d\u540c\u7684\u662f\uff0c\u5e03\u6797\u5e26\u7684\u4e0a\u4e0b\u8f68\u7684\u6570\u503c\u662f\u5747\u503c\u7684\u00b12\u4e2a\u6807\u51c6\u5dee\uff0c\u53d6\u503c\u7684\u6ce2\u52a8\u53ef\u4ee5\u5f88\u5927\uff0c\u800cz-score\u7684\u53d6\u503c\u662f\u5728\u786e\u5b9a\u7684\u8303\u56f4\u5185\uff08-3, +3\uff09\uff0c\u5177\u6709\u7c7b\u4f3c\u5f52\u4e00\u5316\u7684\u7279\u5f81\u3002\u6b63\u56e0\u4e3a\u5982\u6b64\uff0c\u5b83\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5f53\u6210\u56e0\u5b50\uff0c\u7528\u5728\u673a\u5668\u5b66\u4e60\u4e2d\u3002\u5b9e\u9645\u4e0a\uff0c\u8981\u505a\u5230\u771f\u6b63\u7684\u5f52\u4e00\u5316\uff0c\u6211\u4eec\u76f4\u63a5\u53d6 z-score \u7684\u7d2f\u79ef\u6982\u7387\u5c31\u597d\uff0c\u5b83\u662f\u5728 [0,1] \u533a\u95f4\u5206\u5e03\u7684\uff0c\u5e76\u4e14\u5f53 z-score \u4e3a 2 \u65f6\uff0c\u7d2f\u79ef\u6982\u7387\u4e3a 0.977.</p> <p>Info</p> <p>\u5e03\u6797\u5e26\u662f\u4e0a\u4e16\u7eaa 80 \u5e74\u4ee3\u98ce\u9761\u4e00\u65f6\u7684\u7b56\u7565\u3002\u5b83\u751a\u81f3\u88ab\u6ce8\u518c\u4e3a\u5546\u6807\uff0c\u6211\u4eec\u4eca\u5929\u5728\u82f1\u6587\u4e16\u754c\u91cc\u5f15\u7528\u8fd9\u4e2a\u8bcd\uff0c\u90fd\u8981\u4f7f\u7528 Bollinger Bands<sup>\u00ae</sup>\u8fd9\u4e2a\u8868\u793a\u65b9\u6cd5\u3002\u4e3a\u4ec0\u4e48\u5e03\u6797\u5e26\u66fe\u7ecf\u5927\u8d5a\u7279\u8d5a\uff0c\u800c\u73b0\u5728\u6548\u679c\u4e00\u822c\u822c\u5462\uff1f\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u884c\u4e3a\u91d1\u878d\u5b66\u65b9\u9762\u7684\u8bdd\u9898\u3002\u5728 80 \u5e74\u4ee3\uff0c\u8fd9\u4e2a\u6307\u6807\u521a\u51fa\u6765\u65f6\uff0c\u4ee5\u5176\u4e0d\u53ef\u8fa9\u9a73\u7684\u7edf\u8ba1\u5b66\u539f\u7406\uff0c\u4e00\u4e0b\u5b50\u5f81\u670d\u4e86\u5f88\u591a\u4eba\uff0c\u4fe1\u4ef0\u7684\u529b\u91cf\u6539\u53d8\u4e86\u5927\u5bb6\u7684\u4ea4\u6613\u884c\u4e3a\uff0c\u4ece\u800c\u4f7f\u5f97\u4ea4\u6613\u8005\u9677\u5165\u81ea\u6211\u9884\u8a00\u5b9e\u73b0\u7684\u9b54\u5492\u91cc\u3002</p>","tags":["strategy","\u56e0\u5b50","zscore"]},{"location":"blog/2024/01/04/z-score-as-a-factor/#_3","title":"\u8b66\u60d5\u9ed1\u5929\u9e45","text":"<p>\u4e0e\u5176\u5b83\u522b\u7684\u56e0\u5b50\u4e0d\u4e00\u6837\u7684\u5730\u65b9\u662f\uff0cz-score \u56e0\u5b50\u7684\u6709\u6548\u6027\u6765\u6e90\u4e8e\u6b63\u6001\u5206\u5e03\u7684\u5047\u8bbe\u3002\u53ea\u6709\u80a1\u4ef7\u7684\u6ce2\u52a8\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u6211\u4eec\u624d\u80fd\u65ad\u8a00\u4ef7\u683c\u504f\u79bb\u5747\u503c\u52a0\u4e24\u4e2a\u6807\u51c6\u5dee\u7684\u53ef\u80fd\u6027\u5c0f\u4e8e 2.3%\u3002\u7136\u800c\uff0c\u80a1\u4ef7\u7684\u6ce2\u52a8\u5e76\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff08\u6307\u6570\u4f1a\u66f4\u63a5\u8fd1\u4e00\u70b9\uff0c\u4f46\u4e5f\u662f\u66f4\u7b26\u5408\u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\uff0c\u800c\u4e0d\u662f\u6b63\u6001\u5206\u5e03\uff09\u3002\u56e0\u6b64\uff0cz-score\u56e0\u5b50\uff08\u4ee5\u53ca\u5e03\u6797\u5e26\uff09\u7684\u7406\u8bba\u6839\u57fa\u5e76\u4e0d\u7262\u56fa\u3002</p> <p>\u53e6\u5916\uff0c\u6700\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u5728\u504f\u79bb\u4e24\u4e2a\u6807\u51c6\u5dee\u7684\u5730\u65b9\uff0c\u5c3d\u7ba1\u5176\u6982\u7387\u5f88\u5c0f\uff0c\u4f46\u4e5f\u5b58\u5728\u4e00\u79cd\u53ef\u80fd\uff0c\u5c31\u662f\u5b83\u4e00\u65e6\u53d1\u751f\uff0c\u5176\u540e\u679c\u4f1a\u6bd4\u8f83\u4e25\u91cd\u3002\u8fd9\u5c31\u662f\u7531 Taleb \u63d0\u51fa\u7684\u6240\u8c13\u9ed1\u5929\u9e45\u6548\u5e94\u3002\u5728 A \u80a1\u4e2d\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u5728\u504f\u79bb\u4e24\u4e2a\u6807\u51c6\u5dee\u7684\u5730\u65b9\uff0c\u5982\u679c\u53d1\u751f\u4e86\u6da8\u8dcc\u505c\uff0c\u90a3\u4e48\u6211\u4eec\u5e94\u8be5\u679c\u65ad\u653e\u5f03 z-score \u56e0\u5b50\u3002\u56e0\u4e3a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ea4\u6613\u60c5\u7eea\u662f\u6781\u7aef\u5316\u7684\u3002</p>","tags":["strategy","\u56e0\u5b50","zscore"]},{"location":"blog/2024/01/04/z-score-as-a-factor/#quiz","title":"Quiz","text":"<p>\u5982\u679c\u4ef7\u683c\u7684\u6ce2\u52a8\u5e76\u4e0d\u670d\u4ece\u6b63\u6001\u5206\u5e03\uff0c\u6216\u8005\u4efb\u4f55\u4e00\u79cd\u5df2\u77e5\u7684\u5206\u5e03\uff0c\u6211\u4eec\u53c8\u8be5\u5982\u4f55\u628a\u63e1\u5b83\u7684\u7edf\u8ba1\u5b66\u7279\u5f81\u5462\uff1f</p> <p>\u4e3e\u4f8b\u6765\u8bf4\uff0c\u5982\u679c\u6709\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff0c\u4eca\u5929\u6caa\u6307\u5df2\u7ecf\u4e0b\u8dcc\u4e864%\uff0c\u4f9d\u636e\u8fc7\u53bb1000\u4e2a\u4ea4\u6613\u65e5\u7684\u7edf\u8ba1\u6570\u636e\uff0c\u5b83\u7ee7\u7eed\u4e0b\u8dcc\u7684\u6982\u7387\u662f\u591a\u5c11\uff0c\u4f60\u5e94\u8be5\u5982\u4f55\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff1f\u80fd\u591f\u6b63\u786e\u5730\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\u7684\u4eba\uff0c\u624d\u80fd\u6293\u4f4f\u52a0\u901f\u8d76\u5e95\u3001\u6216\u8005\u56e0\u610f\u5916\u4e8b\u4ef6\u9519\u8bef\u4e0b\u8dcc\u7684\u673a\u4f1a\u3002</p> <p>\u63d0\u793a\uff1a\u8fd9\u662f\u6211\u4eec\u5728\u8bfe\u7a0b\u4e2d\uff0c\u7528\u6765\u5f15\u51faPDF/CDF\u6982\u5ff5\u7684\u4e00\u4e2a\u95ee\u9898\u3002</p> <p>Tip</p> <ol> <li>Z-score\u4e0e\u5e03\u6797\u5e26\u4e00\u6837\uff0c\u90fd\u662f\u4ee5\u6b63\u6001\u5206\u5e03\u539f\u7406\u4e3a\u57fa\u7840\uff0c\u901a\u8fc7\u5747\u503c\u4e0e\u6807\u51c6\u5dee\u7684\u5173\u7cfb\uff0c\u786e\u5b9a\u6ce2\u52a8\u7684\u201c\u4e0d\u5408\u7406\u201d\u533a\u95f4\uff0c\u5e76\u671f\u671b\u53d1\u751f\u5411\u5747\u503c\u7684\u56de\u5f52\u3002</li> <li>Z-score\u662f\u4e00\u4e2a\u5c45\u4e8e(-3,3)\u95f4\u7684\u6570\u503c\uff0c\u5176\u4e2d\u8d85\u51fa\u00b12\u7684\u6982\u7387\u4e3a2.3%\u3002</li> <li>Z-score\u5728\u6570\u5b66\u4e0a\u5f88\u5b8c\u7f8e\uff0c\u4f46\u80a1\u4ef7\u7684\u6ce2\u52a8\u5e76\u4e0d\u7b26\u5408\u6b63\u6001\u5206\u5e03\uff0c\u4e5f\u5c31\u662f\u5176\u7406\u8bba\u57fa\u7840\u5e76\u4e0d\u575a\u5b9e\u3002\u8bb8\u591a\u73b0\u4ee3\u91d1\u878d\u7406\u8bba\u53ea\u80fd\u5728\u65e0\u6cd5\u6ee1\u8db3\u7684\u6761\u4ef6\u4e0a\u8fd0\u884c\uff0c\u8fd9\u4e5f\u662f\u67e5\u7406.\u8292\u683c\u5632\u7b11\u7ecf\u6d4e\u5b66\u5bb6\u7684\u5730\u65b9\u3002</li> </ol> <p>\u672c\u6587\u6240\u9644\u6e90\u4ee3\u7801</p>","tags":["strategy","\u56e0\u5b50","zscore"]},{"location":"blog/2024/03/05/how-to-use-jupyter-as-quant-researcher/","title":"\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597d Jupyter\uff1f\uff08\u4e8c\uff09","text":"<p>\u5f53\u6211\u4eec\u4f7f\u7528 Jupyter \u65f6\uff0c\u5f88\u663e\u7136\u6211\u4eec\u7684\u4e3b\u8981\u76ee\u7684\u662f\u63a2\u7d22\u6570\u636e\u3002\u8fd9\u7bc7\u6587\u7ae0\u5c06\u4ecb\u7ecd\u5982\u4f55\u5229\u7528 JupySQL \u6765\u8fdb\u884c\u6570\u636e\u67e5\u8be2--\u751a\u81f3\u4ee3\u66ff\u4f60\u6b63\u5728\u4f7f\u7528\u7684 Navicat, dbeaver \u6216\u8005 pgAdmin\u3002\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u5c06\u4ecb\u7ecd\u5982\u4f55\u66f4\u654f\u6377\u5730\u63a2\u7d22\u6570\u636e\uff0c\u76f8\u4fe1\u8fd9\u4e9b\u5de5\u5177\uff0c\u53ef\u4ee5\u5e2e\u4f60\u7701\u4e0b 90%\u7684 coding \u65f6\u95f4\u3002</p>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/05/how-to-use-jupyter-as-quant-researcher/#jupysql-","title":"JupySQL - \u66ff\u6362\u4f60\u7684\u6570\u636e\u5e93\u67e5\u8be2\u5de5\u5177","text":"<p>JupySQL \u662f\u4e00\u4e2a\u8fd0\u884c\u5728 Jupyter \u4e2d\u7684 sql \u67e5\u8be2\u5de5\u5177\u3002\u5b83\u652f\u6301\u4f20\u7edf\u5173\u7cfb\u578b\u6570\u636e\u5e93\uff08PostgreSQL, MySQL, SQL server\uff09\u3001\u5217\u6570\u636e\u5e93\uff08ClickHouse\uff09\uff0c\u6570\u636e\u4ed3\u5e93 (Snowflake, BigQuery, Redshift, etc) \u548c\u5d4c\u5165\u5f0f\u6570\u636e\u5e93 (SQLite, DuckDB) \u7684\u67e5\u8be2\u3002</p> <p>\u4e4b\u524d\u6211\u4eec\u4e0d\u5f97\u4e0d\u4e3a\u6bcf\u4e00\u79cd\u6570\u636e\u5e93\u5bfb\u627e\u5408\u9002\u7684\u67e5\u8be2\u5de5\u5177\uff0c\u627e\u5230\u5f00\u6e90\u3001\u514d\u8d39\u53c8\u597d\u7528\u7684\u5176\u5b9e\u5e76\u4e0d\u5bb9\u6613\u3002\u6709\u4e00\u4e9b\u5de5\u5177\uff0c\u8bbe\u7f6e\u8fd8\u6bd4\u8f83\u590d\u6742\uff0c\u6bd4\u5982\u50cf Tabix\uff0c\u8fd9\u662f ClickHouse \u6709\u4e00\u6b3e\u5f00\u6e90\u67e5\u8be2\u5de5\u5177\uff0c\u57fa\u4e8e web \u754c\u9762\u7684\u3002\u5c3d\u7ba1\u5b83\u770b\u8d77\u6765\u7b80\u5355\u5230\u751a\u81f3\u65e0\u987b\u5b89\u88c5\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u79cd\u65b0\u7684\u6982\u5ff5\uff0c\u5bfc\u81f4\u4e00\u5f00\u59cb\u4f1a\u5f15\u8d77\u4e00\u5b9a\u7684\u8ba4\u77e5\u56f0\u96be\u3002\u5728\u6709\u4e86 JupySQL \u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4ec5\u4ec5\u5229\u7528\u6211\u4eec\u5df2\u77e5\u7684\u6982\u5ff5\uff0c\u6bd4\u5982\u6570\u636e\u5e93\u8fde\u63a5\u4e32\uff0cSQL \u8bed\u53e5\u6765\u64cd\u4f5c\u8fd9\u4e00\u5207\u3002</p> <p>\u9664\u4e86\u67e5\u8be2\u652f\u6301\u4e4b\u5916\uff0cJupySQL \u7684\u53e6\u4e00\u7279\u8272\uff0c\u5c31\u662f\u81ea\u5e26\u90e8\u5206\u53ef\u89c6\u5316\u529f\u80fd\u3002\u8fd9\u5bf9\u6211\u4eec\u5feb\u901f\u63a2\u7d22\u6570\u636e\u7279\u6027\u63d0\u4f9b\u4e86\u65b9\u4fbf\u3002</p>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/05/how-to-use-jupyter-as-quant-researcher/#jupysql","title":"\u5b89\u88c5 JupySQL","text":"<p>\u73b0\u5728\uff0c\u6253\u5f00\u4e00\u4e2a notebook\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5b89\u88c5 JupySQL:</p> <pre><code>%pip install jupysql duckdb-engine --quiet\n</code></pre> <p>\u4e4b\u524d\u4f60\u53ef\u80fd\u662f\u8fd9\u6837\u4f7f\u7528 pip\uff1a</p> <pre><code>! pip install jupysql\n</code></pre> <p>\u5728\u524d\u4e00\u7bc7\u6211\u4eec\u5b66\u4e60\u4e86 Jupyter \u9b54\u6cd5\u4e4b\u540e\uff0c\u73b0\u5728\u4f60\u77e5\u9053\u4e86\uff0c%pip \u662f\u4e00\u4e2a line magic\u3002</p> <p>\u663e\u7136\uff0cJupySQL \u8981\u8fde\u63a5\u67d0\u79cd\u6570\u636e\u5e93\uff0c\u5c31\u5fc5\u987b\u6709\u8be5\u6570\u636e\u5e93\u7684\u9a71\u52a8\u3002\u63a5\u4e0b\u6765\u7684\u4f8b\u5b50\u8981\u4f7f\u7528 DuckDB\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u5b89\u88c5\u4e86 duckdb-engine\u3002</p> <p>Info</p> <p>DuckDB \u662f\u4e00\u4e2a\u6027\u80fd\u6781\u5176\u5f3a\u608d\u3001\u6709\u7740\u73b0\u4ee3 SQL \u8bed\u6cd5\u7279\u8272\u7684\u5d4c\u5165\u5f0f\u6570\u636e\u5e93\u3002\u4ece\u6d4b\u8bd5\u4e0a\u770b\uff0c\u5b83\u53ef\u4ee5\u8f7b\u677e\u7ba1\u7406 500GB \u4ee5\u5185\u7684\u6570\u636e\uff0c\u5e76\u63d0\u4f9b\u4e0e\u4efb\u4f55\u5546\u4e1a\u6570\u636e\u5e93\u540c\u6837\u7684\u6027\u80fd\u3002</p> <p>\u5728\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9700\u8981\u91cd\u542f\u8be5 kernel\u3002</p> <p>JupySQL \u662f\u4f5c\u4e3a\u4e00\u4e2a\u6269\u5c55\u51fa\u73b0\u7684\u3002\u8981\u4f7f\u7528\u5b83\uff0c\u6211\u4eec\u8981\u5148\u7528 Jupyter \u9b54\u6cd5\u628a\u5b83\u52a0\u8f7d\u8fdb\u6765\uff0c\u7136\u540e\u901a\u8fc7%sql \u9b54\u6cd5\u6765\u6267\u884c sql \u8bed\u53e5\uff1a</p> <pre><code>%load_ext sql\n\n# \u8fde\u63a5 DUCKDB\u3002\u4e0b\u9762\u7684\u8fde\u63a5\u4e32\u8868\u660e\u6211\u4eec\u5c06\u4f7f\u7528\u5185\u5b58\u6570\u636e\u5e93\n%sql duckdb://\n\n# \u8fd9\u4e00\u884c\u7684\u8f93\u51fa\u7ed3\u679c\u4e3a 1\uff0c\u8868\u660e JUPYSQL \u6b63\u5e38\u5de5\u4f5c\u4e86\n%sql select 1\n</code></pre>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/05/how-to-use-jupyter-as-quant-researcher/#ddl-dml","title":"\u6570\u636e\u67e5\u8be2 (DDL \u548c DML)","text":"<p>\u4e0d\u8fc7\uff0c\u6211\u4eec\u6765\u70b9\u6709\u6599\u7684\u3002\u6211\u4eec\u4ece baostock.com \u4e0a\u4e0b\u8f7d\u4e00\u4e2a A \u80a1\u5386\u53f2\u4f30\u503c\u7684\u793a\u4f8b\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u662f Excel \u683c\u5f0f\uff0c\u6211\u4eec\u4f7f\u7528 pandas \u6765\u5c06\u5176\u8bfb\u5165\u4e3a DataFrame\uff0c\u7136\u540e\u8fdb\u884c\u67e5\u8be2\uff1a</p> <pre><code>import pandas as pd\n\ndf = pd.read_excel(\"/data/.common/valuation.xlsx\")\n%load_ext sql\n\n# \u521b\u5efa\u4e00\u4e2a\u5185\u5b58\u6570\u636e\u5e93\u5b9e\u4f8b\n%sql duckdb://\n\n# \u6211\u4eec\u5c06\u8fd9\u4e2a DATAFRAME \u5b58\u5165\u5230 DUCKDB \u4e2d\n%sql --persist df\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u6765\u770b\u770b\uff0c\u6570\u636e\u5e93\u91cc\u6709\u54ea\u4e9b\u8868\uff0c\u8868\u91cc\u90fd\u6709\u54ea\u4e9b\u5b57\u6bb5\uff1a</p> <pre><code># \u5217\u51fa\u6570\u636e\u5e93\u4e2d\u6709\u54ea\u4e9b\u8868\n%sqlcmd tables\n\n# \u5217\u51fa\u8868'DF'\u6709\u54ea\u4e9b\u5217\n%sqlcmd columns -t df\n</code></pre> <p>\u6700\u540e\u4e00\u884c\u547d\u4ee4\u5c06\u8f93\u51fa\u4ee5\u4e0b\u7ed3\u679c\uff1a</p> name type nullable default autoincrement comment index BIGINT True None False None date VARCHAR True None False None code VARCHAR True None False None close DOUBLE PRECISION True None False None peTTM DOUBLE PRECISION True None False None pbMRQ DOUBLE PRECISION True None False None psTTM DOUBLE PRECISION True None False None pcfNcfTTM DOUBLE PRECISION True None False None <p>\u4f5c\u4e3a\u6570\u636e\u5206\u6790\u5e08\uff0c\u6216\u8005\u91cf\u5316\u7814\u7a76\u5458\uff0c\u8fd9\u4e9b\u547d\u4ee4\u57fa\u672c\u4e0a\u6ee1\u8db3\u4e86\u6211\u4eec\u5e38\u7528\u7684 DDL \u529f\u80fd\u9700\u6c42\u3002\u5728\u4f7f\u7528 pgAdmin \u7684\u8fc7\u7a0b\u4e2d\uff0c\u8981\u627e\u5230\u4e00\u4e2a\u8868\u683c\uff0c\u9700\u8981\u6cbf\u7740 servers &gt; server &gt; databases &gt; database &gt; Schema &gt; public &gt; Tables \u8fd9\u6761\u8def\u5f84\uff0c\u4e00\u8def\u5c55\u5f00\u6240\u6709\u7684\u7ed3\u70b9\u624d\u80fd\u5217\u51fa\u6211\u4eec\u60f3\u8981\u67e5\u8be2\u7684\u8868\u683c\uff0c\u4e0d\u514d\u6709\u4e9b\u70e6\u7410\u3002JupySQL \u7684\u547d\u4ee4\u7b80\u5355\u591a\u4e86\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u9884\u89c8\u4e00\u4e0b\u8fd9\u5f20\u8868\u683c\uff1a</p> <pre><code>%sql select * from df limit 5\n</code></pre> <p>\u6211\u4eec\u5c06\u5f97\u5230\u5982\u4e0b\u8f93\u51fa\uff1a</p> index date code close peTTM pbMRQ psTTM pcfNcfTTM 0 2022-09-01 sh.600000 7.23 3.978631 0.370617 1.103792 1.103792 1 2022-09-02 sh.600000 7.21 3.967625 0.369592 1.100739 1.100739 2 2022-09-05 sh.600000 7.26 3.99514 0.372155 1.108372 1.108372 3 2022-09-06 sh.600000 7.26 3.99514 0.372155 1.108372 1.108372 4 2022-09-07 sh.600000 7.22 3.973128 0.370105 1.102266 1.102266 <p>%sql \u662f\u4e00\u79cd line magic\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u4f7f\u7528 cell magic\uff0c\u6765\u6784\u5efa\u66f4\u590d\u6742\u7684\u8bed\u53e5\uff1a</p> <pre><code># EXAMPLE-1\n%%sql --save agg_pe\nselect code, min(peTTM), max(peTTM), mean(peTTM)\nfrom df\ngroup by code\n</code></pre> <p>\u4f7f\u7528 cell magic \u8bed\u6cd5\uff0c\u6574\u4e2a\u5355\u5143\u683c\u90fd\u4f1a\u5f53\u6210 sql \u8bed\u53e5\uff0c\u8fd9\u4e5f\u4f7f\u5f97\u6211\u4eec\u6784\u5efa\u590d\u6742\u7684\u67e5\u8be2\u8bed\u53e5\u65f6\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u683c\u5f0f\u5316\u5b83\u3002\u8fd9\u91cc\u5728%%sql \u4e4b\u540e\uff0c\u6211\u4eec\u8fd8\u4f7f\u7528\u4e86\u9009\u9879 --save agg_pe\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u628a\u8fd9\u4e2a\u8f83\u4e3a\u590d\u6742\u3001\u4f46\u53ef\u80fd\u6bd4\u8f83\u5e38\u7528\u7684\u67e5\u8be2\u8bed\u53e5\u4fdd\u5b58\u8d77\u6765\uff0c\u540e\u9762\u6211\u4eec\u5c31\u53ef\u4ee5\u518d\u6b21\u4f7f\u7528\u5b83\u3002</p> <p>Tip</p> <p>\u5728 JupySQL \u5b89\u88c5\u540e\uff0c\u8fd8\u4f1a\u5728\u5de5\u5177\u680f\u51fa\u73b0\u4e00\u4e2a Format SQL \u7684\u6309\u94ae\u3002\u5982\u679c\u4e00\u4e2a\u5355\u5143\u683c\u5305\u542b sql \u8bed\u53e5\uff0c\u70b9\u51fb\u5b83\u4e4b\u540e\uff0c\u5b83\u5c06\u5bf9 sql \u8bed\u53e5\u8fdb\u884c\u683c\u5f0f\u5316\uff0c\u5e76\u4e14\u8bed\u6cd5\u9ad8\u4eae\u663e\u793a\u3002</p> <p>\u6211\u4eec\u901a\u8fc7 %sqlcmd snippets \u6765\u67e5\u8be2\u4fdd\u5b58\u8fc7\u7684\u67e5\u8be2\u8bed\u53e5\uff1a</p> <pre><code>%sqlcmd snippets\n</code></pre> <p>\u8fd9\u5c06\u5217\u51fa\u6211\u4eec\u4fdd\u5b58\u8fc7\u7684\u6240\u6709\u67e5\u8be2\u8bed\u53e5\uff0c\u521a\u521a\u4fdd\u5b58\u7684 agg_pe \u4e5f\u5728\u5176\u4e2d\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7%sqlcmd \u6765\u4f7f\u7528\u8fd9\u4e2a\u7247\u6bb5\uff1a</p> <pre><code>query = %sqlcmd snippets agg_pe\n\n# \u8fd9\u5c06\u6253\u5370\u51fa\u6211\u4eec\u521a\u521a\u4fdd\u5b58\u7684\u67e5\u8be2\u7247\u6bb5\nprint(query)\n\n# \u8fd9\u5c06\u6267\u884c\u6211\u4eec\u4fdd\u5b58\u7684\u4ee3\u7801\u7247\u6bb5\n%sql {{query}}\n</code></pre> <p>\u6700\u7ec8\u5c06\u8f93\u51fa\u4e0e example-1 \u4e00\u6837\u7684\u7ed3\u679c\u3002\u5f88\u96be\u8bf4\u6709\u54ea\u4e00\u79cd\u6570\u636e\u5e93\u7ba1\u7406\u5de5\u5177\u4f1a\u6bd4\u8fd9\u91cc\u7684\u64cd\u4f5c\u6765\u5f97\u66f4\u7b80\u5355\uff01</p>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/05/how-to-use-jupyter-as-quant-researcher/#jupysql_1","title":"JupySQL \u7684\u53ef\u89c6\u5316","text":"<p>JupySQL \u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7b80\u5355\u7684\u7ed8\u56fe\uff0c\u4ee5\u5e2e\u52a9\u6211\u4eec\u63a2\u7d22\u6570\u636e\u7684\u5206\u5e03\u7279\u6027\u3002</p> <pre><code>%sqlplot histogram -t df -c peTTM pbMRQ\n</code></pre> <p>JupySQL \u63d0\u4f9b\u4e86 box, bar, pie \u548c histogram\u3002</p>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/05/how-to-use-jupyter-as-quant-researcher/#_1","title":"\u8d85\u5927\u676f\u7684\u53ef\u89c6\u5316\u5de5\u5177","text":"<p>\u4e0d\u8fc7\uff0cJupyerSQL\u63d0\u4f9b\u7684\u53ef\u89c6\u5316\u529f\u80fd\u5e76\u4e0d\u591f\u5f3a\u5927\uff0c\u53ea\u80fd\u7b97\u662f\u4e2d\u676f\u3002\u6709\u4e00\u4e9b\u4e13\u4e1a\u5de5\u5177\uff0c\u5b83\u4eec\u4ee5pandas DataFrame\u4e3a\u6570\u636e\u8f7d\u4f53\uff0c\u96c6\u6210\u4e86\u6570\u636e\u4fee\u6539\u3001\u7b5b\u9009\u3001\u5206\u6790\u548c\u53ef\u89c6\u5316\u529f\u80fd\u3002\u8fd9\u4e00\u7c7b\u5de5\u5177\u6709\uff0c Qgrid\uff08\u6765\u81ea Quantpian\uff09\uff0cPandasGUI\uff0cD-Tale \u548c mitosheet\u3002\u5176\u4e2dD-Tale\u529f\u80fd\u4e4b\u5168\uff0c\u5c82\u6b62\u662f\u8da3\u5927\u676f\uff0c\u751a\u81f3\u53ef\u4ee5\u8bf4\u662f\u6c34\u6876\u676f\u3002</p> <p>\u6211\u4eec\u9996\u5148\u63a2\u8ba8\u7684\u662fQgrid\uff0c\u6bd5\u7adf\u51fa\u81eaQuantpian\u4e4b\u624b\uff0c\u6309\u7406\u8bf4\u4ed6\u4eec\u53ef\u80fd\u4f1a\u52a0\u5165\u91cf\u5316\u7814\u7a76\u5458\u6700\u5e38\u7528\u7684\u4e00\u4e9b\u5206\u6790\u529f\u80fd\u3002 \u4ed6\u4eec\u5728 Youtube \u4e0a\u63d0\u4f9b\u4e86\u4e00\u4e2a presentation\uff0c\u4ecb\u7ecd\u4e86\u5982\u4f55\u4f7f\u7528 Qgrid \u6765\u63a2\u7d22\u6570\u636e\u7684\u8fb9\u754c\u3002\u4e0d\u8fc7\uff0c\u968f\u7740 QuantPian \u5173\u5f20\u5927\u5409\uff0c\u6240\u6709\u8fd9\u4e9b\u5de5\u5177\u90fd\u4e0d\u518d\u6709\u4eba\u7ef4\u62a4\uff0c\u56e0\u6b64\u6211\u4eec\u4e5f\u4e0d\u91cd\u70b9\u4ecb\u7ecd\u4e86\u3002</p> <p>PandasGUI \u5728 notebook \u4e2d\u542f\u52a8\uff0c\u4f46\u5b83\u7684\u754c\u9762\u662f\u901a\u8fc7 Qt \u6765\u7ed8\u5236\u7684\uff0c\u56e0\u6b64\uff0c\u542f\u52a8\u4ee5\u540e\uff0c\u5b83\u4f1a\u6709\u81ea\u5df1\u7684\u4e13\u5c5e\u754c\u9762\uff0c\u800c\u4e14\u662f\u4ee5\u72ec\u7acb\u7684 app \u6765\u8fd0\u884c\u3002\u5b83\u4f3c\u4e4e\u8981\u6c42\u7535\u8111\u662f Windows\u3002</p> <p>Mitosheet\u7684\u754c\u9762\u975e\u5e38\u7f8e\u89c2\u3002\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u9700\u8981\u91cd\u542f jupyterlab/notebook server\u3002\u4ec5\u4ec5\u91cd\u542f kernel \u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u4e3a\u6d89\u53ca\u5230\u754c\u9762\u7684\u4fee\u6539\u3002</p> <p>\u91cd\u542f\u540e\uff0c\u5728Notebook\u7684\u5de5\u5177\u6761\u680f\uff0c\u4f1a\u591a\u51fa\u4e00\u4e2a\u201cNew Mitosheet\u201d\u7684\u6309\u94ae\uff0c\u70b9\u51fb\u5b83\uff0c\u5c31\u4f1a\u65b0\u589e\u4e00\u4e2a\u5355\u5143\u683c\uff0c\u5176\u5185\u5bb9\u4e3a\uff1a</p> <pre><code>import mitosheet\nmitosheet.sheet(analysis_to_replay=\"id-sjmynxdlon\")\n</code></pre> <p>\u5e76\u4e14\u81ea\u52a8\u8fd0\u884c\u8fd9\u4e2a\u5355\u5143\u683c\uff0c\u8c03\u51fa mito \u7684\u754c\u9762\u3002\u4e0b\u9762\u662f mitto \u4e2d\u53ef\u89c6\u5316\u4e00\u4f8b\uff1a</p> <p></p> <p>mitto \u6709\u514d\u8d39\u7248\u548c\u4e13\u4e1a\u7248\u7684\u533a\u5206\uff0c\u800c\u4e14\u4f3c\u4e4e\u5b83\u4f1a\u628a\u6570\u636e\u4e0a\u4f20\u5230\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u5206\u6790\uff0c\u6240\u4ee5\u5728\u56fd\u5185\u4f7f\u7528\u8d77\u6765\uff0c\u611f\u89c9\u4e0d\u662f\u7279\u522b\u6d41\u7545\u3002</p> <p>\u4e0e\u4e0a\u9762\u4ecb\u7ecd\u7684\u5de5\u5177\u76f8\u6bd4\uff0cD-Tale \u4f3c\u4e4e\u6ca1\u6709\u8fd9\u4e9b\u5de5\u5177\u6709\u7684\u8fd9\u4e9b\u77ed\u677f\u3002</p> <p>\u6211\u4eec\u5728 notebook \u4e2d\u901a\u8fc7<code>pip install dtale</code>\u6765\u5b89\u88c5 dtale\u3002\u5b89\u88c5\u540e\uff0c\u91cd\u542f kernel\u3002\u7136\u540e\u6267\u884c\uff1a</p> <pre><code>import dtale\n\ndtale.show(df)\n</code></pre> <p>\u8fd9\u4f1a\u663e\u52a0\u8f7d\u4ee5\u4e0b\u754c\u9762\uff1a</p> <p></p> <p>\u5728\u5de6\u4e0a\u89d2\u6709\u4e00\u4e2a\u5c0f\u4e09\u89d2\u7bad\u5934\uff0c\u70b9\u51fb\u5b83\u4f1a\u663e\u793a\u83dc\u5355\uff1a</p> <p></p> <p>\u6211\u4eec\u70b9\u51fbdescribe\u83dc\u5355\u9879\u770b\u770b\uff0c\u5b83\u7684\u529f\u80fd\u8981\u6bd4<code>df.describe</code> \u5f3a\u5927\u4e0d\u5c11\u3002df.describe \u53ea\u80fd\u7ed9\u51fa\u5747\u503c\u30014 \u5206\u4f4d\u6570\u503c\uff0c\u65b9\u5dee\uff0c\u6700\u5927\u6700\u5c0f\u503c\uff0cdtale \u8fd8\u80fd\u7ed9\u51fa diff, outlier, kurtosis, skew\uff0c\u7ed8\u5236\u76f4\u65b9\u56fe\uff0cQ-Q \u56fe\uff08\u68c0\u67e5\u662f\u5426\u6b63\u6001\u5206\u5e03\uff09\u3002</p> <p></p> <p>\u6ce8\u610f\u6211\u4eec\u53ef\u4ee5\u5bfc\u51fa\u8fdb\u884c\u8fd9\u4e9b\u8ba1\u7b97\u6240\u7528\u7684\u4ee3\u7801\uff01\u8fd9\u5bf9\u6570\u636e\u5206\u6790\u7684\u521d\u5b66\u8005\u786e\u5b9e\u5f88\u53cb\u597d\u3002</p> <p>\u8fd9\u662f\u4ece\u4e2d\u5bfc\u51fa\u7684\u7ed8\u5236 qq \u56fe\u7684\u4ee3\u7801\uff1a</p> <pre><code># DISCLAIMER: 'DF' REFERS TO THE DATA YOU PASSED IN WHEN CALLING 'DTALE.SHOW'\n\nimport numpy as np\nimport pandas as pd\nimport plotly.graph_objs as go\n</code></pre> <pre><code>if isinstance(df, (pd.DatetimeIndex, pd.MultiIndex)):\n    df = df.to_frame(index=False)\n\n# REMOVE ANY PRE-EXISTING INDICES FOR EASE OF USE IN THE D-TALE CODE, BUT THIS IS NOT REQUIRED\ndf = df.reset_index().drop('index', axis=1, errors='ignore')\ndf.columns = [str(c) for c in df.columns]  # update columns to strings in case they are numbers\n\ns = df[~pd.isnull(df['peTTM'])]['peTTM']\n\nimport scipy.stats as sts\nimport plotly.express as px\n\nqq_x, qq_y = sts.probplot(s, dist=\"norm\", fit=False)\nchart = px.scatter(x=qq_x, y=qq_y, trendline='ols', trendline_color_override='red')\nfigure = go.Figure(data=chart, layout=go.Layout({\n    'legend': {'orientation': 'h'}, 'title': {'text': 'peTTM QQ Plot'}\n}))\n</code></pre> <p>\u6709\u4e86\u8fd9\u4e2a\u529f\u80fd\uff0c\u5982\u679c\u4e0d\u77e5\u9053\u5982\u4f55\u901a\u8fc7 plotly \u6765\u7ed8\u5236\u67d0\u4e00\u79cd\u56fe\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u628a\u6570\u636e\u52a0\u8f7d\u5230 dtale\uff0c\u7528 dtale \u7ed8\u5236\u51fa\u6765\uff0c\u518d\u5bfc\u51fa\u4ee3\u7801\u3002\u4f5c\u4e3a\u91cf\u5316\u4eba\uff0c\u53ef\u80fd\u6700\u96be\u7ed8\u5236\u7684\u56fe\u5c31\u662f K \u7ebf\u56fe\u4e86\u3002\u8fd9\u4e2a\u529f\u80fd\uff0cdtale \u6709\u3002</p> <p>\u6700\u540e\uff0c\u5b9e\u9645\u4e0adtale\u662f\u81ea\u5e26\u670d\u52a1\u5668\u7684\u3002\u6211\u4eec\u5e76\u4e0d\u4e00\u5b9a\u8981\u5728 notebook \u4e2d\u4f7f\u7528\u5b83\u3002\u5b89\u88c5 dtale \u4e4b\u540e\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e0b\u8fd0\u884c<code>dtale</code>\u547d\u4ee4\uff0c\u7136\u540e\u518d\u6253\u5f00\u6d4f\u89c8\u5668\u7a97\u53e3\u5c31\u53ef\u4ee5\u4e86\u3002\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0c\u53ef\u4ee5\u770b\u8fd9\u4efd \u4e2d\u6587\u6587\u6863\u3002</p>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/04/how-to-use-jupyter-as-quant-researcher/","title":"\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597dJupyter\u73af\u5883\uff1f\uff08\u4e00\uff09","text":"<p>\u7f51\u4e0a\u6709\u5f88\u591ajupyter\u7684\u4f7f\u7528\u6280\u5de7\u3002\u4f46\u6211\u76f8\u4fe1\uff0c\u8fd9\u7bc7\u6587\u7ae0\u4f1a\u8ba9\u4f60\u5168\u9762\u6da8\u59ff\u52bf\u3002\u5f88\u591a\u7528\u6cd5\uff0c\u4f60\u5e94\u8be5\u6ca1\u89c1\u8fc7\u3002</p> <ul> <li>\u663e\u793a\u591a\u4e2a\u5bf9\u8c61\u503c</li> <li>\u9b54\u6cd5\uff1a%precision %psource %lsmagic %quickref\u7b49</li> <li>vscode\u4e2d\u7684interactive window</li> </ul>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/04/how-to-use-jupyter-as-quant-researcher/#1","title":"1. \u9b54\u6cd5\u547d\u4ee4","text":"<p>\u51e0\u4e4e\u6bcf\u4e00\u4e2a\u4f7f\u7528\u8fc7Jupyter Notebook\u7684\u4eba\uff0c\u90fd\u4f1a\u6ce8\u610f\u5230\u5b83\u7684\u9b54\u6cd5(magic)\u529f\u80fd\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5b83\u662f\u4e00\u4e9b\u9002\u7528\u4e8e\u6574\u4e2a\u5355\u5143\u683c\u3001\u6216\u8005\u67d0\u4e00\u884c\u7684\u9b54\u672f\u6307\u4ee4\u3002</p> <p>\u6bd4\u5982\uff0c\u6211\u4eec\u5e38\u5e38\u4f1a\u597d\u5947\uff0c\u7a76\u7adf\u662fpandas\u7684\u5200\u5feb\uff0c\u8fd8\u662fnumpy\u7684\u5251\u66f4\u5229\u3002\u5728\u91cf\u5316\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u9700\u8981\u5bfb\u627e\u4e00\u7ec4\u6570\u636e\u7684\u67d0\u4e2a\u5206\u4f4d\u6570\u3002\u5728numpy\u4e2d\uff0c\u6709percentile\u65b9\u6cd5\uff0cquantile\u5219\u662f\u5979\u7684pandas\u5802\u59ca\u59b9\u3002\u8981\u4e0d\uff0c\u6211\u4eec\u5c31\u8ba9\u8fd9\u4fe9\u59d0\u59b9\u6bd4\u4e00\u6bd4\u8eab\u624b\u597d\u4e86\u3002\u6709\u4e00\u4e2a\u53ebtimeit\u7684\u9b54\u6cd5\uff0c\u5c31\u80fd\u5b8c\u6210\u8fd9\u4efb\u52a1\u3002</p> <p>\u4e0d\u8fc7\uff0c\u6211\u4eec\u5148\u5f97\u786e\u5b9a\u5979\u4eec\u662f\u5426\u771f\u6709\u53ef\u6bd4\u6027\u3002</p> <pre><code>import numpy as np\nimport pandas as pd\n\narray = np.random.normal(size=1_000_000)\nseries = pd.Series(array)\n\nprint(np.percentile(array, 95))\nseries.quantile(0.95)\n</code></pre> <p>\u4e24\u6b21\u8f93\u51fa\u7684\u7ed3\u679c\u90fd\u662f\u4e00\u6837\uff0c\u8bf4\u660e\u8fd9\u4e24\u4e2a\u51fd\u6570\u786e\u5b9e\u662f\u6709\u53ef\u6bd4\u6027\u7684\u3002</p> <p>\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u8981\u663e\u793a\u4e24\u4e2a\u5bf9\u8c61\u7684\u503c\uff0c\u6211\u4eec\u53ea\u5bf9\u524d\u4e00\u4e2a\u4f7f\u7528\u4e86print\u51fd\u6570\uff0c\u540e\u4e00\u4e2a\u5219\u7701\u7565\u6389\u4e86\u3002\u8fd9\u662fnotebook\u7684\u4e00\u4e2a\u529f\u80fd\uff0c\u5b83\u4f1a\u9ed8\u8ba4\u5730\u663e\u793a\u5355\u5143\u683c\u6700\u540e\u8f93\u51fa\u7684\u5bf9\u8c61\u503c\u3002\u8fd9\u4e2a\u529f\u80fd\u5f88\u4e0d\u9519\uff0c\u8981\u662f\u628a\u8fd9\u4e2a\u8bed\u6cd5\u6269\u5c55\u5230\u6240\u6709\u7684\u884c\u5c31\u66f4\u597d\u4e86\u3002</p> <p>\u4e0d\u7528\u5bf9\u795e\u706f\u8bb8\u613f\uff0c\u8fd9\u4e2a\u529f\u80fd\u5df2\u7ecf\u6709\u4e86\uff01\u53ea\u8981\u8fdb\u884c\u4e0b\u9762\u7684\u8bbe\u7f6e\uff1a</p> <pre><code>from IPython.core.interactiveshell import InteractiveShell\nInteractiveShell.ast_node_interactivity = \"all\"\n</code></pre> <p>\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u5355\u5143\u683c\u91cc\uff0c\u8fd0\u884c\u4e0a\u9762\u7684\u4ee3\u7801\uff0c\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7701\u6389print:</p> <pre><code>import numpy as np\nimport pandas as pd\n\narray = np.random.normal(size=1_000_000)\nseries = pd.Series(array)\n\n# \u8fd9\u4e00\u884c\u4f1a\u8f93\u51fa\u4e00\u4e2a\u6d6e\u70b9\u6570\nnp.percentile(array, 95)\n\n# \u8fd9\u4e00\u884c\u4e5f\u4f1a\u8f93\u51fa\u4e00\u4e2a\u6d6e\u70b9\u6570\nseries.quantile(0.95)\n</code></pre> <p>\u8fd9\u5c06\u663e\u793a\u51fa\u4e24\u884c\u4e00\u6837\u7684\u6570\u503c\u3002\u8fd9\u662f\u4eca\u5929\u7684\u7b2c\u4e00\u4e2a\u9b54\u6cd5\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c31\u6765\u770b\u770b\uff0c\u5728\u767e\u4e07\u6570\u636e\u4e2d\u63a2\u56ca\u53d6\u7269\uff0c\u8c01\u7684\u8eab\u624b\u66f4\u5feb\u4e00\u70b9\uff1f</p> <pre><code>import numpy as np\nimport pandas as pd\n\narray = np.random.normal(size=1_000_000)\nseries = pd.Series(array)\n\n%timeit np.percentile(array, 95)\n%timeit series.quantile(0.95)\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528%timeit\u6765\u6d4b\u91cf\u51fd\u6570\u7684\u8fd0\u884c\u65f6\u95f4\u3002\u5176\u8f93\u51fa\u7ed3\u679c\u662f\uff1a</p> <pre><code>26.7 ms \u00b1 5.67 ms per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n21.6 ms \u00b1 837 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n</code></pre> <p>\u770b\u8d77\u6765pandas\u66f4\u5feb\u554a\u3002\u800c\u4e14\u5b83\u7684\u6027\u80fd\u8868\u73b0\u4e0a\u66f4\u7a33\u5b9a\uff0c\u6807\u51c6\u5dee\u53ea\u6709numpy\u76841/7\u3002mean\u00b1std\u4ec0\u4e48\u7684\uff0c\u91cf\u5316\u4eba\u6700\u719f\u6089\u662f\u4ec0\u4e48\u610f\u601d\u4e86\u3002</p> <p>\u8fd9\u91cc\u7684timeit\uff0c\u5c31\u662fjupyter\u652f\u6301\u7684\u9b54\u6cd5\u51fd\u6570\u4e4b\u4e00\u3002\u53c8\u6bd4\u5982\uff0c\u5728\u4e0a\u9762\u6253\u5370\u51fa\u6765\u7684\u5206\u4f4d\u6570\uff0c\u670916\u4f4d\u5c0f\u6570\u4e4b\u591a\uff0c\u771f\u662f\u770b\u4e0d\u8fc7\u6765\u554a\u3002\u80fd\u4e0d\u80fd\u53ea\u663e\u793a3\u4f4d\u5462\uff1f\u5f53\u7136\u6709\u5f88\u591a\u79cd\u65b9\u6cd5\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u7528f-str\u8bed\u6cd5\uff1a</p> <pre><code>f\"{np.percentile(array, 95):.3f}\"\n</code></pre> <p>\u5570\u54e9\u5570\u55e6\u7684\uff0c\u8bf4\u597d\u8981Pythonic\u7684\u5462?\u4e0d\u5982\u8bd5\u8bd5\u8fd9\u4e2a\u9b54\u6cd5\u5427\uff1a</p> <pre><code>%precision 3\nnp.percentile(array, 95)\n</code></pre> <p>\u4e4b\u540e\u6bcf\u4e00\u6b21\u8f93\u51fa\u6d6e\u70b9\u6570\uff0c\u90fd\u53ea\u67093\u4f4d\u5c0f\u6570\u4e86\uff0c\u662f\u4e0d\u662f\u5f88\u8d5e\uff1f</p> <p>\u5982\u679c\u6211\u4eec\u5728\u4f7f\u7528\u4e00\u4e2a\u7b2c\u4e09\u65b9\u7684\u5e93\uff0c\u770b\u4e86\u6587\u6863\uff0c\u89c9\u5f97\u5b83\u8fd8\u6ca1\u8bf4\u660e\u767d\uff0c\u60f3\u770b\u5b83\u7684\u6e90\u7801\uff0c\u600e\u4e48\u529e?\u53ef\u4ee5\u7528psource\u9b54\u6cd5\uff1a</p> <pre><code>from omicron import tf\n\n%psource tf.int2time\n</code></pre> <p>\u8fd9\u4f1a\u663e\u793atf.int2time\u51fd\u6570\u7684\u6e90\u4ee3\u7801\uff1a</p> <pre><code>    @classmethod\n    def int2time(cls, tm: int) -&gt; datetime.datetime:\n        \"\"\"\u5c06\u6574\u6570\u8868\u793a\u7684\u65f6\u95f4\u8f6c\u6362\u4e3a`datetime`\u7c7b\u578b\u8868\u793a\n\n        examples:\n            &gt;&gt;&gt; TimeFrame.int2time(202005011500)\n            datetime.datetime(2020, 5, 1, 15, 0)\n\n        Args:\n            tm: time in YYYYMMDDHHmm format\n\n        Returns:\n            \u8f6c\u6362\u540e\u7684\u65f6\u95f4\n        \"\"\"\n        s = str(tm)\n        # its 8 times faster than arrow.get()\n        return datetime.datetime(\n            int(s[:4]), int(s[4:6]), int(s[6:8]), int(s[8:10]), int(s[10:12])\n        )\n</code></pre> <p>\u770b\u8d77\u6765Zillionare-omicron\u7684\u4ee3\u7801\uff0c\u6587\u6863\u8fd8\u662f\u5199\u5f97\u5f88\u4e0d\u9519\u7684\u3002\u80fd\u548cnumpy\u4e00\u6837\uff0c\u5728\u4ee3\u7801\u4e2d\u5305\u62ec\u793a\u4f8b\uff0c\u5e76\u4e14\u793a\u4f8b\u80fd\u901a\u8fc7doctest\u7684\u91cf\u5316\u5e93\uff0c\u5e94\u8be5\u4e0d\u591a\u3002</p> <p>Jupyter\u7684\u9b54\u6cd5\u5f88\u591a\uff0c\u8bb0\u4e0d\u4f4f\u600e\u4e48\u529e\uff1f\u8fd9\u91cc\u6709\u4e24\u4e2a\u9b54\u6cd5\u53ef\u4ee5\u7528\u3002\u4e00\u662f%lsmagic\uff1a</p> <pre><code>%lsmagic\n</code></pre> <p>\u8fd9\u4f1a\u663e\u793a\u4e3a\uff1a</p> <p></p> <p>\u786e\u5b9e\u592a\u591a\u9b54\u6cd5\u4e86\uff01\u4e0d\u8fc7\uff0c\u5f88\u591a\u547d\u4ee4\u662f\u64cd\u4f5c\u7cfb\u7edf\u547d\u4ee4\u7684\u4e00\u90e8\u5206\u3002\u53e6\u4e00\u4e2a\u540c\u6837\u6027\u8d28\u7684\u9b54\u6cd5\u6307\u4ee4\u662f%quickref\uff0c\u5b83\u7684\u8f93\u51fa\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>IPython -- An enhanced Interactive Python - Quick Reference Card\n================================================================\n\nobj?, obj??      : Get help, or more help for object (also works as\n                   ?obj, ??obj).\n?foo.*abc*       : List names in 'foo' containing 'abc' in them.\n%magic           : Information about IPython's 'magic' % functions.\n\nMagic functions are prefixed by % or %%, and typically take their arguments\nwithout parentheses, quotes or even commas for convenience.  Line magics take a\nsingle % and cell magics are prefixed with two %%.\n\nExample magic function calls:\n...\n</code></pre> <p>\u8f93\u51fa\u5185\u5bb9\u5927\u7ea6\u6709\u51e0\u767e\u884c\uff0c\u4e00\u70b9\u4e5f\u4e0dquick!</p>","tags":["tools","Jupyter"]},{"location":"blog/2024/03/04/how-to-use-jupyter-as-quant-researcher/#2-vscodejupyter","title":"2. \u5728vscode\u4e2d\u4f7f\u7528jupyter","text":"<p>\u5982\u679c\u6709\u53ef\u80fd\uff0c\u6211\u4eec\u5e94\u8be5\u5c3d\u53ef\u80fd\u5730\u5229\u7528vscode\u7684jupyter notebook\u3002vscode\u4e2d\u7684jupyter\u53ef\u80fd\u5728\u754c\u9762\u5143\u7d20\u7684\u5b89\u6392\u4e0a\u5f31\u4e8e\u6d4f\u89c8\u5668\uff08\u5373\u539f\u751fJupyter\uff09\uff0c\u6bd4\u5982\uff0c\u5355\u5143\u683c\u4e4b\u95f4\u7684\u95f4\u8ddd\u592a\u5927\uff0c\u65e0\u6cd5\u6709\u6548\u5229\u7528\u5c4f\u5e55\u7a7a\u95f4\uff0c\u83dc\u5355\u547d\u4ee4\u5c11\u4e8e\u539f\u751fjupyter\u7b49\u7b49\u3002\u4f46\u4ecd\u7136vscode\u4e2d\u7684jupyter\u4ecd\u7136\u6709\u4e00\u4e9b\u6211\u4eec\u96be\u4e8e\u62d2\u7edd\u7684\u529f\u80fd\u3002</p> <p>\u9996\u5148\u662f\u4ee3\u7801\u63d0\u793a\u3002\u6d4f\u89c8\u5668\u4e2d\u7684jupyter\u662fBS\u67b6\u6784\uff0c\u5b83\u7684\u4ee3\u7801\u63d0\u793a\u54cd\u5e94\u901f\u5ea6\u6bd4\u8f83\u6162\uff0c\u56e0\u6b64\uff0c\u53ea\u6709\u5728\u4f60\u6309tab\u952e\u4e4b\u540e\uff0cjupyter\u624d\u4f1a\u7ed9\u51fa\u63d0\u793a\u3002\u5728vscode\u4e2d\uff0c\u4ee3\u7801\u63d0\u793a\u7684\u529f\u80fd\u5728\u4f7f\u7528\u4f53\u9a8c\u4e0a\u4e0e\u539f\u751f\u7684python\u5f00\u53d1\u662f\u5b8c\u5168\u4e00\u6837\u7684\u3002</p> <p>\u5176\u6b21\uff0cvscode\u4e2d\u7684jupyter\u7684\u4ee3\u7801\u8c03\u8bd5\u529f\u80fd\u66f4\u597d\u3002\u539f\u751f\u7684Jupyter\u4e2d\u8fdb\u884c\u8c03\u8bd5\u53ef\u4ee5\u7528%pdb\u6216\u8005%debug\u8fd9\u6837\u7684magic\uff0c\u4f46\u4f53\u9a8c\u4e0a\u65e0\u6cd5\u4e0eIDE\u5ab2\u7f8e\u3002\u4e0a\u56fe\u5c31\u662f\u5728vscode\u4e2d\u8c03\u8bd5notebook\u7684\u6837\u5b50\uff0c\u8ddf\u8c03\u8bd5\u666e\u901aPython\u5de5\u7a0b\u4e00\u6a21\u4e00\u6837\u5730\u5f3a\u5927\u3002</p> <p>\u8fd8\u6709\u4e00\u70b9\u529f\u80fd\u662f\u539f\u751fJupyter\u65e0\u6cd5\u505a\u5230\u7684\uff0c\u5c31\u662f\u6700\u540e\u7f16\u8f91\u4f4d\u7f6e\u5bfc\u822a\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e2a\u5f88\u957f\u7684notebook\uff0c\u5728\u7b2c100\u884c\u8c03\u7528\u7b2c10\u884c\u5199\u7684\u4e00\u4e2a\u51fd\u6570\u65f6\uff0c\u53d1\u73b0\u8fd9\u4e2a\u51fd\u6570\u5b9e\u73b0\u4e0a\u6709\u4e00\u4e9b\u95ee\u9898\u3002\u4e8e\u662f\u8df3\u8f6c\u5230\u7b2c10\u884c\u8fdb\u884c\u4fee\u6539\uff0c\u4fee\u6539\u5b8c\u6210\u540e\uff0c\u518d\u56de\u5230\u7b2c100\u884c\u7ee7\u7eed\u7f16\u8f91\uff0c\u8fd9\u5728\u539f\u751fjupyter\u4e2d\u662f\u901a\u8fc7\u5feb\u6377\u952e\u8df3\u8f6c\u7684\u3002</p> <p>\u901a\u5e38\u6211\u4eec\u53ea\u80fd\u5728\u8fd9\u4e9b\u5730\u65b9\uff0c\u63d2\u5165markdown cell,\u7136\u540e\u5229\u7528\u6807\u9898\u6765\u8fdb\u884c\u5feb\u901f\u5bfc\u822a\uff0c\u4f46\u4ecd\u7136\u65e0\u6cd5\u51c6\u786e\u5b9a\u4f4d\u5230\u5177\u4f53\u7684\u884c\u3002\u4f46\u8fd9\u4e2a\u529f\u80fd\u5728IDE\u91cc\u662f\u5fc5\u5907\u529f\u80fd\u3002\u6211\u4eec\u5728vscode\u4e2d\u7f16\u8f91notebook\uff0c\u8fd9\u4e2a\u529f\u80fd\u4ecd\u7136\u5177\u5907\u3002</p> <p>notebook\u9002\u4e8e\u63a2\u7d22\u3002\u4f46\u5982\u679c\u6700\u7ec8\u6211\u4eec\u8981\u5c06\u5176\u5de5\u7a0b\u5316\uff0c\u6211\u4eec\u8fd8\u5fc5\u987b\u5c06\u5176\u8f6c\u6362\u6210\u4e3apython\u6587\u4ef6\u3002vscode\u63d0\u4f9b\u4e86\u975e\u5e38\u597d\u7684notebook\u8f6cpython\u6587\u4ef6\u529f\u80fd\u3002\u4e0b\u9762\u662f\u672c\u6587\u7684notebook\u7248\u672c\u8f6c\u6362\u6210python\u65f6\u7684\u6837\u5b50\uff1a</p> <p></p> <p>\u8f6c\u6362\u540e\u7684notebook\u4e2d\uff0c\u539f\u5148\u7684markdown cell\uff0c\u8f6c\u6362\u6210\u6ce8\u91ca\uff0c\u5e76\u4e14\u4ee5# %% [markdown]\u8d77\u5934\uff1b\u800c\u539f\u751f\u7684python cell\uff0c\u5219\u662f\u4ee5# %%\u8d77\u5934\u3002</p> <p>vscode\u7f16\u8f91\u5668\u4f1a\u628a\u8fd9\u4e9b\u6807\u8bb0\u5f53\u6210\u5206\u9694\u7b26\u3002\u6bcf\u4e2a\u5206\u9694\u7b26\uff0c\u5f15\u8d77\u4e00\u4e2a\u65b0\u7684\u5355\u5143\u683c\uff0c\u76f4\u5230\u9047\u5230\u4e0b\u4e00\u4e2a\u5206\u9694\u7b26\u4e3a\u6b62\u3002\u8fd9\u4e9b\u5355\u5143\u683c\u4ecd\u7136\u662f\u53ef\u4ee5\u6267\u884c\u7684\u3002\u7531\u4e8e\u914d\u7f6e\u7684\u539f\u56e0\uff0c\u5728\u6211\u7684\u5de5\u4f5c\u533a\u91cc\uff0c\u9690\u85cf\u4e86\u8fd9\u4e9btoolbar,\u5b9e\u9645\u4e0a\u5b83\u4eec\u770b\u8d77\u6765\u50cf\u4e0b\u56fe\u8fd9\u6837\u3002</p> <p></p> <p>\u8fd9\u4e2a\u7279\u6027\u88ab\u79f0\u4e3aPython Interactive Window\uff0c\u53ef\u4ee5\u5728vscode\u7684\u6587\u6863vscode\u4e2d\u67e5\u770b\u3002</p> <p>\u6211\u4eec\u628anotebook\u8f6c\u6362\u6210python\u6587\u4ef6\uff0c\u4f46\u5b83\u4ecd\u7136\u53ef\u4ee5\u50cfnotebook\u4e00\u6837\uff0c\u6309\u5355\u5143\u683c\u6267\u884c\uff0c\u8fd9\u5c31\u50cf\u662f\u4e2a\u4fc4\u7f57\u65af\u5957\u5a03\u3002\u5b87\u5b99\u7b2c\u4e00\u7684IDE\uff0cvs code\u5b9e\u81f3\u540d\u5f52\u3002</p>","tags":["tools","Jupyter"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/","title":"\u91cf\u5316\u7814\u7a76\u5458\u5982\u4f55\u5199\u4e00\u624b\u597d\u4ee3\u7801","text":"<p>\u5373\u4f7f\u662fQuant Research\uff0c \u5199\u4e00\u624b\u9ad8\u8d28\u91cf\u7684\u4ee3\u7801\u4e5f\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002\u518d\u597d\u7684\u601d\u8def\uff0c\u5982\u679c\u4e0d\u80fd\u6b63\u786e\u5730\u5b9e\u73b0\uff0c\u90fd\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u53ea\u6709\u6b63\u786e\u5b9e\u73b0\u4e86\u3001\u901a\u8fc7\u56de\u6d4b\u68c0\u9a8c\u8fc7\u4e86\uff0c\u624d\u80fd\u7b97\u662f\u771f\u6b63\u505a\u51fa\u6765\u4e86\u7b56\u7565\u3002</p> <p>\u5199\u4e00\u624b\u9ad8\u8d28\u91cf\u7684\u4ee3\u7801\u7684\u610f\u4e49\uff0c\u5bf9Quant developer\u6765\u8bb2\u5c31\u66f4\u662f\u81ea\u4e0d\u5f85\u8a00\u4e86\u3002\u8fd9\u7bc7notebook\u7b14\u8bb0\u5c31\u4ecb\u7ecd\u4e00\u4e9bpython best practice\u3002</p>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#_1","title":"\u4f9d\u8d56\u5730\u72f1\u548c\u89e3\u51b3\u4e4b\u9053","text":"<p>\u5728\u91cf\u5316\u7814\u7a76\u4e2d\uff0c\u6211\u4eec\u5f88\u591a\u529f\u80fd\u4f1a\u501f\u52a9\u7b2c\u4e09\u65b9\u5305\u3002\u7b2c\u4e09\u65b9\u5305\u4e5f\u5fc5\u7136\u4f1a\u4f9d\u8d56\u5176\u5b83\u7b2c\u4e09\u65b9\u5305\u3002\u5982\u679c\u6709\u4e24\u4e2a\u4ee5\u4e0a\u7684\u5305\u90fd\u4f9d\u8d56\u4e8e\u67d0\u4e00\u4e2a\u5305\uff0c\u4f46\u662f\u8981\u6c42\u7684\u7248\u672c\u4e0d\u540c\uff0c\u8fd9\u5c31\u53d1\u751f\u4e86\u4f9d\u8d56\u5730\u72f1\u3002</p> <p>\u6709\u4e00\u4e9b\u91cf\u5316\u7814\u7a76\u5458\u5e38\u5e38\u4f1a\u628a\u81ea\u5df1\u7684\u7814\u7a76\u73af\u5883\u641e\u574f\uff0c\u5c31\u662f\u56e0\u4e3a\u4e0d\u65ad\u5c1d\u8bd5\u65b0\u7684\u6280\u672f\u3001\u65b0\u7684python\u5e93\uff0c\u800c\u8fd9\u4e9b\u65b0\u7684\u5e93\uff0c\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u7248\u672c\u548c\u539f\u6765\u7684\u53d1\u751f\u51b2\u7a81\uff0c\u5f3a\u884c\u8986\u76d6\u4e4b\u540e\uff0c\u5bfc\u81f4\u4e4b\u524d\u7684python\u5e93\u65e0\u6cd5\u4f7f\u7528\u9020\u6210\u7684\u3002</p> <p>\u89e3\u51b3\u4f9d\u8d56\u5730\u72f1\u95ee\u9898\uff0c\u9700\u8981\u5728\u4e0d\u540c\u7684\u5c42\u9762\u4e0a\u8fdb\u884c\u89e3\u51b3\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u4e3a\u5c06\u5728\u8fdb\u884c\u7684\u65b0\u7684\u7814\u7a76\u9879\u76ee\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u865a\u62df\u73af\u5883\u3002\u5728\u8fd9\u4e2a\u865a\u62df\u73af\u5883\u4e2d\uff0c\u7531\u4e8e\u53ea\u5b89\u88c5\u4e86\u5fc5\u987b\u7684\u8f6f\u4ef6\u5e93\uff0c\u4e8e\u662f\u53d1\u751f\u51b2\u7a81\u7684\u53ef\u80fd\u6027\u5c31\u4f1a\u5c0f\u4e00\u4e9b\u3002</p> <p>\u5176\u6b21\uff0c\u6211\u4eec\u662f\u8981\u901a\u8fc7\u6b63\u786e\u7684\u4f9d\u8d56\u7ba1\u7406\uff0c\u5c3d\u53ef\u80fd\u5730\u89e3\u51b3\u4f9d\u8d56\u51b2\u7a81\u3002\u8fd9\u4e3b\u8981\u662f\u901a\u8fc7poetry\u6765\u5b9e\u73b0\u7684\u3002</p>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#_2","title":"\u865a\u62df\u73af\u5883","text":"<p>Python\u4e2d\u6784\u5efa\u865a\u62df\u73af\u5883\u7684\u65b9\u6848\u6709\u5f88\u591a\uff0c\u4f5c\u4e3a\u91cf\u5316\u7814\u7a76\u5458\uff0c\u6211\u4eec\u53ea\u9700\u8981\u638c\u63e1conda\u5c31\u53ef\u4ee5\u4e86\u3002\u5176\u5b83\u7684\u65b9\u6848\u8fd8\u6709virtualenv, venv\u548cpipenv\u7b49\u3002\u4f5c\u4e3aQD\uff0c\u9700\u8981\u638c\u63e1venv\uff0c\u8fd9\u662fpython\u7684\u4e00\u4e2a\u6807\u51c6\u5e93\uff0c\u7528\u6765\u521b\u5efa\u65b0\u7684\u865a\u62df\u73af\u5883\uff0c\u5177\u6709\u8f7b\u91cf\u3001\u5feb\u901f\u7684\u7279\u70b9\u3002</p>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#_3","title":"\u7248\u672c\u8bed\u4e49","text":"<p>\u5728\u8f6f\u4ef6\u5f00\u53d1\u9886\u57df\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u5bf9\u540c\u4e00\u8f6f\u4ef6\u8fdb\u884c\u4e0d\u65ad\u7684\u4fee\u8865\u548c\u66f4\u65b0\uff0c\u6bcf\u6b21\u66f4\u65b0\uff0c\u6211\u4eec\u90fd\u4fdd\u7559\u5927\u90e8\u5206\u539f\u6709\u7684\u4ee3\u7801\u548c\u529f\u80fd\uff0c\u4fee\u590d\u4e00\u4e9b\u6f0f\u6d1e\uff0c\u5f15\u5165\u4e00\u4e9b\u65b0\u7684\u6784\u4ef6\u3002</p> <p>\u6709\u4e00\u4e2a\u53e4\u8001\u7684\u601d\u60f3\u5b9e\u9a8c\uff0c\u88ab\u79f0\u4e4b\u4e3a\u5fd2\u4fee\u65af\u8239\uff08The Ship of Theseus\uff09\u95ee\u9898\uff0c\u5b83\u63cf\u8ff0\u7684\u6b63\u662f\u540c\u6837\u7684\u573a\u666f\uff1a</p> <p></p> <p>\u5fd2\u4fee\u65af\u8239\u95ee\u9898\u6700\u65e9\u51fa\u81ea\u516c\u5143\u4e00\u4e16\u7eaa\u666e\u9c81\u5854\u514b\u7684\u8bb0\u8f7d\u3002\u5b83\u63cf\u8ff0\u7684\u662f\u4e00\u8258\u53ef\u4ee5\u5728\u6d77\u4e0a\u822a\u884c\u51e0\u767e\u5e74\u7684\u8239\uff0c\u53ea\u8981\u4e00\u5757\u6728\u677f\u8150\u70c2\u4e86\uff0c\u5b83\u5c31\u4f1a\u88ab\u66ff\u6362\u6389\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u6240\u6709\u7684\u529f\u80fd\u90e8\u4ef6\u90fd\u4e0d\u662f\u6700\u5f00\u59cb\u7684\u90a3\u4e9b\u4e86\u3002\u73b0\u5728\u7684\u95ee\u9898\u662f\uff0c\u6700\u540e\u7684\u8fd9\u8258\u8239\u662f\u539f\u6765\u7684\u90a3\u8258\u5fd2\u4fee\u65af\u4e4b\u8239\u5462\uff0c\u8fd8\u662f\u4e00\u8258\u5b8c\u5168\u4e0d\u540c\u7684\u8239\uff1f\u5982\u679c\u4e0d\u662f\u539f\u6765\u7684\u8239\uff0c\u90a3\u4e48\u4ece\u4ec0\u4e48\u65f6\u5019\u8d77\u5b83\u5c31\u4e0d\u518d\u662f\u539f\u6765\u7684\u8239\u4e86\uff1f</p> <p>\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\uff0c\u53d1\u751f\u5728\u5f88\u591a\u9886\u57df\u3002\u6bd4\u5982\u50cfIBM\u8fd9\u6837\u7684\u767e\u5e74\u8001\u5e97\uff0cCEO\u6362\u4e86\u4e00\u4efb\u53c8\u4e00\u4efb\uff0c\u90a3\u5b83\u8fd8\u662f\u6700\u521d\u521b\u5efa\u65f6\u7684IBM\u5417\uff1f\u5728\u8f6f\u4ef6\u5f00\u53d1\u9886\u57df\u4e2d\uff0c\u6211\u4eec\u66f4\u662f\u5e38\u5e38\u9047\u5230\u540c\u6837\u7684\u95ee\u9898\u3002\u6bcf\u9047\u5230\u4e00\u4e2a\u6f0f\u6d1e\uff08bug\uff09\uff0c\u6211\u4eec\u5c31\u66f4\u6362\u4e00\u5757\"\u6728\u677f\"\u3002\u968f\u7740\u8fd9\u79cd\u4fee\u8865\u548c\u66ff\u6362\u8d8a\u6765\u8d8a\u591a\uff0c\u8f6f\u4ef6\u4e5f\u5fc5\u7136\u51fa\u73b0\u5fd2\u4fee\u65af\u8239\u4e4b\u95ee\uff1a\u73b0\u5728\u7684\u8f6f\u4ef6\u8fd8\u662f\u4e0d\u662f\u5f53\u521d\u7684\u8f6f\u4ef6\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u5b83\u662f\u5728\u4ec0\u4e48\u65f6\u5019\u4e0d\u518d\u662f\u539f\u6765\u7684\u8f6f\u4ef6\u4e86\u5462\uff1f</p> <p>\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u6838\u5fc3\u662f\u8981\u5b9e\u73b0\u7248\u672c\u7684\u8bed\u4e49\u5316\u3002\u5373\uff0c\u7248\u672c\u53f7\u5206\u6bb5\u4e3amajor.minor.patch\u4e09\u4e2a\u6bb5\uff0c\u5982\u679c\u662f\u7834\u574f\u6027\u66f4\u65b0\uff0c\u5219\u5fc5\u987b\u53d8\u66f4\u4e3b\u7248\u672c\u53f7\uff1b\u5982\u679c\u662f\u589e\u52a0\u65b0\u7684\u529f\u80fd\uff0c\u4f46\u5bf9\u4e4b\u524d\u4fdd\u6301\u517c\u5bb9\uff0c\u5219\u66f4\u65b0\u5c0f\u7684\u7248\u672c\u53f7\uff08minor\uff09\u3002\u5982\u679c\u6ca1\u6709\u529f\u80fd\u53d8\u66f4\uff0c\u53ea\u662f\u4fee\u590d\u4e86bug\u3001\u5b89\u5168\u6027\u66f4\u65b0\uff0c\u5219\u66f4\u65b0patch\u7248\u672c\u53f7\u3002</p> <p>\u6211\u4eec\u5728\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u65f6\uff0c\u5c31\u53ef\u4ee5\u6307\u660e\u81ea\u52a8\u66f4\u65b0patch\uff0c\u6216\u8005\u5141\u8bb8\u81ea\u52a8\u66f4\u65b0\u5230minor\uff0c\u800c\u62d2\u7eddmajor\u7ea7\u522b\u7684\u81ea\u52a8\u66f4\u65b0\u3002</p> <p></p> <p>\u5728\u7b2c\u4e09\u65b9\u5e93\u9075\u5faa\u8fd9\u4e2a\u7ea6\u5b9a\uff0c\u8fdb\u884c\u4e86\u7248\u672c\u58f0\u660e\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7poetry\u6765\u7ba1\u7406\u6211\u4eec\u9879\u76ee\u7684\u4f9d\u8d56\u4e86\uff1a</p> <p>poetry\u662f\u4e00\u4e2a\u7248\u672c\u4f9d\u8d56\u7ba1\u7406\u5de5\u5177\u3002\u5728\u4f7f\u7528poetry\u4e4b\u524d\uff0c\u4f60\u53ef\u80fd\u901a\u8fc7requirements.txt\u6765\u7ba1\u7406\u8fc7\u9879\u76ee\u7684\u4f9d\u8d56\u3002\u5b83\u7684\u95ee\u9898\u662f\uff0c\u5e76\u4e0d\u4f1a\u68c0\u67e5\u4f60\u52a0\u5165\u7684\u4f9d\u8d56\uff0c\u662f\u5426\u80fd\u4e0e\u5176\u5b83\u8f6f\u4ef6\u548c\u7766\u76f8\u5904\uff0c\u4f46Poetry\u53ef\u4ee5\u3002</p> <p>\u6240\u4ee5\uff0c\u4eca\u540e\u6211\u4eec\u5f00\u542f\u65b0\u7684\u7b56\u7565\u7814\u7a76\u65f6\uff0c\u6211\u4eec\u5e94\u8be5\u5148\u901a\u8fc7conda\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u9879\u76ee\u73af\u5883\uff0c\u7136\u540e\u901a\u8fc7poetry\u6765\u589e\u52a0\u9879\u76ee\u4f9d\u8d56\uff1a</p> <pre><code>conda create -n new_project python=3.11\npoetry init\npoetry add pandas\n</code></pre> <p>\u5982\u6b64\u4e00\u6765\uff0c\u5728\u6211\u4eec\u6bcf\u6b21\u589e\u52a0\u65b0\u7684\u4f9d\u8d56\u65f6\uff0cpoetry\u5c31\u4f1a\u81ea\u52a8\u5e2e\u6211\u4eec\u68c0\u67e5\u5339\u914d\u7684\u7248\u672c\u3002\u5982\u679c\u627e\u4e0d\u5230\u5408\u9002\u7684\u7248\u672c\uff0c\u5b83\u5c31\u4f1a\u62a5\u9519\uff0c\u8fd9\u6837\u6211\u4eec\u4e5f\u6709\u673a\u4f1a\u601d\u8003\uff0c\u662f\u5426\u6709\u522b\u7684\u65b9\u6848\u3002</p>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#_4","title":"\u4e66\u5199\u6f02\u4eae\u7684\u4ee3\u7801","text":"<p>\u5728\u5199\u4ee3\u7801\u65f6\uff0c\u6211\u4eec\u4f1a\u6709\u81ea\u5df1\u7684\u98ce\u683c\u3002\u6bd4\u5982\u53d8\u91cf\u540d\u5982\u4f55\u4f7f\u7528\u5927\u5c0f\u5199\uff0c\u5355\u8bcd\u4e4b\u95f4\u5982\u4f55\u5206\u9694\uff0c\u5982\u4f55\u4f7f\u7528\u7a7a\u683c\u548c\u7f29\u8fdb\u7b49\u7b49\u3002\u4e3a\u4e86\u7edf\u4e00\u98ce\u683c\uff0c2001\u5e74\u7531Guido\u7b49\u4eba\u62df\u5b9a\u4e86\u4e00\u4efd\u5173\u4e8epython\u4ee3\u7801\u98ce\u683c\u7684\u63d0\u6848\uff0c\u88ab\u79f0\u4e3aPEP8.</p> <p></p> <p>PEP8\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u9ad8python\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\uff0c\u4f7f\u5f97python\u4ee3\u7801\u5728\u4e0d\u540c\u7684\u5f00\u53d1\u8005\u4e4b\u95f4\u4fdd\u6301\u4e00\u81f4\u7684\u98ce\u683c\u3002PEP8\u7684\u5185\u5bb9\u5305\u62ec\u4ee3\u7801\u5e03\u5c40\u3001\u547d\u540d\u89c4\u8303\u3002\u6bd4\u5982\u7c7b\u8981\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u3001\u51fd\u6570\u540d\u4ee5\u5c0f\u5199\u5f00\u5934\u3001\u5355\u8bcd\u4e4b\u95f4\u7528\u4e0b\u5212\u7ebf\u5206\u9694\uff0c\u7b49\u7b49\u3002</p> <p>PEP8\u7684\u5185\u5bb9\u975e\u5e38\u591a\uff0c\u5728\u5b9e\u8df5\u4e2d\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4e13\u95e8\u53bb\u8bb0\u5fc6\u5b83\u7684\u89c4\u5219\uff0c\u53ea\u8981\u7528\u5bf9\u6b63\u786e\u7684\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u6700\u7ec8\u5448\u73b0\u7684\u4ee3\u7801\u5c31\u4e00\u5b9a\u662f\u7b26\u5408PEP8\u6807\u51c6\u7684\u3002\u6216\u8005lint\u5de5\u5177\u4f1a\u63d0\u793a\u6211\u4eec\u76f8\u5173\u7684\u9519\u8bef\uff0c\u7167\u7740\u4fee\u6539\u5c31\u591f\u4e86\u3002</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u914d\u7f6eblack\u4f5c\u4e3a\u4ee3\u7801\u683c\u5f0f\u5316\u5de5\u5177\uff0c\u5c31\u80fd\u4fdd\u8bc1\u98ce\u683c\u7b26\u5408PEP8\u7684\u8981\u6c42\u3002</p> <p>\u63a8\u8350black\u7684\u539f\u56e0\u662f,\u5b83\u57fa\u672c\u4e0a\u4e0d\u63a5\u53d7\u5b9a\u5236\u3002\u5b9e\u9645\u4e0a\uff0c\u4ee3\u7801\u98ce\u683c\u7684\u5b9a\u5236\u51e0\u4e4e\u6ca1\u6709\u610f\u4e49\u3002\u4e00\u4e2a\u4eba\u5373\u4f7f\u957f\u5f97\u4e11\u70b9\uff0c\u4f60\u5f3a\u8feb\u81ea\u5df1\u591a\u770b\u4ed6\u51e0\u773c\uff0c\u5c31\u4f1a\u53d1\u73b0\u5176\u5b9e\u4e5f\u662f\u80fd\u770b\u7684\u3002\u6240\u4ee5black\u7684\u6210\u529f\u5c31\u5728\u8fd9\u5730\u65b9\uff0c\u5b83\u7684motto\u662f\u4e0d\u59a5\u534f\u7684\u683c\u5f0f\u5316\u5de5\u5177\u3002\u5f88\u591a\u4e8b\u60c5\u5c31\u662f\u8fd9\u6837\uff0c\u575a\u6301\u81ea\u5df1\u7684\u98ce\u683c\uff0c\u5b81\u53ef\u7ad9\u7740\u6b7b\uff0c\u4e0d\u613f\u8dea\u7740\u751f\uff0c\u5411\u6b7b\u800c\u751f\uff0c\u53cd\u5012\u662f\u673a\u4f1a\u3002</p>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#_5","title":"\u8bed\u6cd5\u68c0\u67e5\u5de5\u5177","text":"<p>\u5728\u8fd0\u884c\u4ee3\u7801\u4e4b\u524d\uff0c\u6211\u4eec\u4e5f\u6709\u4e00\u4e9b\u65b9\u6cd5\u6765\u68c0\u67e5\u7f16\u7801\u4e2d\u7684\u9519\u8bef\u3002\u8fd9\u7c7b\u5de5\u5177\u88ab\u79f0\u4e3alint\u5de5\u5177\u3002\u4e00\u822c\u6211\u4eec\u914d\u7f6eflake8, isort(\u7528\u6765\u7ed9\u5bfc\u5165\u6392\u5e8f),mypy\u7b49\u5de5\u5177\u3002mypy\u662f\u7528\u6765\u505a\u7c7b\u578b\u68c0\u67e5\u7684\u3002</p>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#_6","title":"\u7c7b\u578b\u63d0\u793a","text":"<p>\u7c7b\u578b\u63d0\u793a(type hint)\u53ef\u4ee5\u5e2e\u52a9IDE\u5b9e\u73b0\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5c3d\u65e9\u53d1\u73b0\u9519\u8bef\u3002\u8fd9\u662f\u4ecepython 3.4\u8d77\u5f00\u59cb\u5bfc\u5165\uff0c\u5230python 3.8\u6846\u67b6\u5b8c\u6210\u7684\u4e00\u4e2a\u529f\u80fd\u3002</p> <p>\u6211\u4eec\u77e5\u9053\uff0cpython\u662f\u4e00\u95e8\u52a8\u6001\u8bed\u8a00\u3002\u5b83\u662f\u6709\u7c7b\u578b\u7684\uff0c\u4f46\u8fd9\u4e2a\u7c7b\u578b\u68c0\u67e5\u53ea\u5728\u8fd0\u884c\u65f6\u624d\u80fd\u6267\u884c\uff1a</p> <pre><code>&gt;&gt;&gt; one = 1\n... if False:\n...     one + \"two\" # \u8fd9\u4e00\u884c\u4e0d\u4f1a\u6267\u884c\uff0c\u6240\u4ee5\u4e0d\u4f1a\u629b\u51faTypeError\n... else:\n...     one + 2\n...\n3\n\n&gt;&gt;&gt; one + \"two\"     # \u8fd0\u884c\u5230\u6b64\u5904\u65f6\uff0c\u5c06\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff0c\u629b\u51faTypeError\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\n... one = \"one \"    # \u53d8\u91cf\u53ef\u4ee5\u901a\u8fc7\u8d4b\u503c\u6539\u53d8\u7c7b\u578b\n... one + \"two\"     # \u73b0\u5728\u7c7b\u578b\u68c0\u67e5\u6ca1\u6709\u95ee\u9898\none two\n</code></pre> <p>\u4e0a\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u5728\u7f16\u7801\u9636\u6bb5\uff0cpython\u548cIDE\u4e0d\u4f1a\u63d0\u793a\u4efb\u4f55\u7c7b\u578b\u9519\u8bef\u3002\u6240\u4ee5\uff0c\u7b2c\u4e00\u6bb5\u4ee3\u7801\u6c38\u8fdc\u4e0d\u4f1a\u629b\u51fa\u9519\u8bef\u3002\u4f46\u5982\u679c\u6211\u4eec\u6709\u673a\u4f1a\u6267\u884c <code>1 + \"two\"</code>\u7684\u8bdd\uff0c\u5c31\u4f1a\u5f97\u5230\u4e00\u4e2aTypeError\u9519\u8bef\uff0c\u63d0\u793a\u6211\u4eec\u4e0d\u80fd\u628aint\u548cstr\u76f8\u52a0\u3002\u8fd9\u5c31\u662f\u8fd0\u884c\u65f6\u68c0\u67e5\u3002</p> <p>\u5982\u679c\u6211\u4eec\u6309\u7167type hint\u7684\u8981\u6c42\u6765\u4e66\u5199\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u5728\u65e9\u671f\u53d1\u73b0\u4e00\u4e9b\u9519\u8bef\uff0c\u6bd4\u5982\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a</p> <pre><code>def foo(name: str) -&gt; int:\n    score = 20\n    return score\n\nfoo(10)\n</code></pre> <p>\u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u5982\u679c\u6211\u4eec\u5728IDE\uff08\u6bd4\u5982vscode\uff09\u4e2d\uff0c\u628a\u5149\u6807\u79fb\u52a8\u5230foo(10)\u7684\u4f4d\u7f6e\uff0c\u5c31\u4f1a\u51fa\u73b0\u5982\u4e0b\u7684\u9519\u8bef\u63d0\u793a\uff1a</p> <p></p> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u80fd\u5728\u8fd0\u884c\u524d\uff0c\u53d1\u73b0\u8c03\u7528foo\u65b9\u6cd5\u65f6\uff0c\u4f20\u5165\u4e86\u9519\u8bef\u7684\u53c2\u6570\u3002</p> <p>\u4e0b\u9762\u7684\u4ee3\u7801\u6f14\u793a\u4e86\u591a\u6570\u5e38\u89c1\u7684type hint\u7528\u6cd5\uff1a</p> <pre><code># \u58f0\u660e\u53d8\u91cf\u7684\u7c7b\u578b\nage: int = 1\n\n# \u58f0\u660e\u53d8\u91cf\u7c7b\u578b\u65f6\uff0c\u5e76\u975e\u4e00\u5b9a\u8981\u521d\u59cb\u5316\u5b83\nchild: bool\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\uff0c\u4e5f\u6700\u597d\u58f0\u660e\u5b83\u4e3aAny\u3002\n# zen of python: explicit is better than implicit\ndummy: Any = 1\ndummy = \"hello\"\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u662f\u591a\u79cd\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528Union\ndx: Union[int, str]\n# \u4ecepython 3.10\u8d77\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u8bed\u6cd5\ndx: int | str\n\n# \u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u53ef\u4ee5\u4e3aNone,\u53ef\u4ee5\u4f7f\u7528Optional\ndy: Optional[int]\n\n# \u5bf9python builtin\u7c7b\u578b\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7c7b\u578b\u7684\u540d\u5b57\uff0c\u6bd4\u5982int, float, bool, str, bytes\u7b49\u3002\nx: int = 1\ny: float = 1.0\nz: bytes = b\"test\"\n\n# \u5bf9collections\u7c7b\u578b\uff0c\u5982\u679c\u662fpython 3.9\u4ee5\u4e0a\u7c7b\u578b\uff0c\u4ecd\u7136\u76f4\u63a5\u4f7f\u7528\u5176\u540d\u5b57\uff1a\nh: list[int] = [1]\ni: dict[str, int] = {\"a\": 1}\nj: tuple[int, str] = (1, \"a\")\nk: set[int] = {1}\n\n# \u6ce8\u610f\u4e0a\u9762\u7684list[], dict[]\u8fd9\u6837\u7684\u8868\u8fbe\u65b9\u5f0f\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528list()\uff0c\u5219\u8fd9\u5c06\u53d8\u6210\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u800c\u4e0d\u662f\u7c7b\u578b\u58f0\u660e\u3002\n\n# \u4f46\u5982\u679c\u662fpython 3.8\u53ca\u4ee5\u4e0b\u7248\u672c\uff0c\u9700\u8981\u4f7f\u7528typing\u6a21\u5757\u4e2d\u7684\u7c7b\u578b\uff1a\nfrom typing import List, Set, Dict, Tuple\nh: List[int] = [1]\ni: Dict[str, int] = {\"a\": 1}\nj: Tuple[int, str] = (1, \"a\")\nk: Set[int] = {1}\n\n# \u5982\u679c\u4f60\u8981\u5199\u4e00\u4e9bdecorator\uff0c\u6216\u8005\u662f\u516c\u5171\u5e93\u7684\u4f5c\u8005\uff0c\u5219\u53ef\u80fd\u4f1a\u5e38\u7528\u5230\u4e0b\u9762\u8fd9\u4e9b\u7c7b\u578b\nfrom typing import Callable, Generator, Coroutine, Awaitable, AsyncIterable, AsyncIterator\n\ndef foo(x:int)-&gt;str:\n    return str(x)\n\n# Callable\u8bed\u6cd5\u4e2d\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u56e0\u6b64\u5b83\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c\u7c7b\u578b\nf: Callable[[int], str] = foo\n\ndef bar() -&gt; Generator[int, None, str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ng: Generator[int, None, str] = bar\n\n# \u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u4e0a\u8ff0\u51fd\u6570\u8fd4\u56de\u503c\u4ec5\u4ec5\u58f0\u660e\u4e3aIterator:\ndef bar() -&gt; Iterator[str]:\n    res = yield\n    while res:\n        res = yield round(res)\n    return 'OK'\n\ndef op() -&gt; Awaitable[str]:\n    if cond:\n        return spam(42)\n    else:\n        return asyncio.Future(...)\n\nh: Awaitable[str] = op()\n\n# \u4e0a\u8ff0\u9488\u5bf9\u53d8\u91cf\u7684\u7c7b\u578b\u5b9a\u4e49\uff0c\u4e5f\u4e00\u6837\u53ef\u4ee5\u7528\u5728\u51fd\u6570\u7684\u53c2\u6570\u53ca\u8fd4\u56de\u503c\u7c7b\u578b\u58f0\u660e\u4e0a\uff0c\u6bd4\u5982\uff1a\ndef stringify(num: int) -&gt; str:\n    return str(num)\n\n# \u5982\u679c\u51fd\u6570\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u8bf7\u58f0\u660e\u4e3a\u8fd4\u56deNone\ndef show(value: str) -&gt; None:\n    print(value)\n\n# \u4f60\u53ef\u4ee5\u7ed9\u539f\u6709\u7c7b\u578b\u8d77\u4e00\u4e2a\u522b\u540d\nUrl = str\ndef retry(url: Url, retry_count: int) -&gt;None:\n    pass\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u662f\u5728vscode\u4e2d\u5199\u4ee3\u7801\uff0c\u5b83\u81ea\u5e26\u4e00\u4e2apylance\u5de5\u5177\uff0c\u5c06\u6839\u636e\u6211\u4eec\u63d0\u4f9b\u7684type hint\uff0c\u6765\u63a8\u65ad\u54ea\u4e9b\u4ee3\u7801\u5728\u8c03\u7528\u4e0a\uff0c\u7c7b\u578b\u4e0d\u5bf9\uff0c\u8fd9\u6837\u53ef\u4ee5\u5c3d\u65e9\u6392\u9664\u9519\u8bef\u3002</p> <p>\u5982\u679c\u6211\u4eec\u4e60\u60ef\u4f7f\u7528notebook\u8fdb\u884c\u7b56\u7565\u7814\u7a76\uff0c\u4e5f\u53ef\u4ee5\u5728vscode\u4e2d\u521b\u5efanotebook\uff0c\u6b64\u65f6\u4e5f\u53ef\u4ee5\u5f97\u5230pylance\u7684\u5e2e\u52a9\u3002</p> <p>Tip</p> <p>vscode\u63d0\u4f9b\u7684Jupyter notebook\u9664\u4e86\u5728\u6392\u7248\u4e0a\u53ef\u80fd\u4e0d\u5982\u539f\u751f\u7684jupyter notebook\u4e4b\u5916\uff0c\u5728\u5f88\u591a\u65b9\u9762\u90fd\u662f\u80dc\u51fa\u7684\u3002\u6bd4\u5982\uff0c\u9664\u4e86\u8bed\u6cd5\u68c0\u67e5\uff0c\u8fd8\u6709\u8bb0\u4f4f\u4e0a\u4e00\u4e2a\u7f16\u8f91\u4f4d\u7f6e\u5e76\u5b9e\u73b0\u8df3\u8f6c\u3001\u652f\u6301\u5355\u5143\u683c\u8c03\u8bd5\u7b49\u7b49\u3002</p>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#mock-it-till-you-make-it","title":"\u5355\u5143\u6d4b\u8bd5: mock it till you make it!","text":"<p>\u5728\u7b56\u7565\u7814\u53d1\u65f6\uff0c\u6211\u4eec\u8981\u591a\u7528\u5355\u5143\u6d4b\u8bd5\u3002\u5355\u5143\u6d4b\u8bd5\u6709\u51e0\u4e2a\u7528\u5904\uff0c\u7b2c\u4e00\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u5b83\u6765\u5b66\u4e60\u7b2c\u4e09\u65b9\u5e93\u7684\u4e00\u4e9b\u7528\u6cd5\u3002\u7b2c\u4e8c\uff0c\u786e\u4fdd\u6211\u4eec\u81ea\u5df1\u5199\u7684\u53ef\u590d\u7528\u7684\u529f\u80fd\u6a21\u5757\u5f97\u5230\u5145\u5206\u6d4b\u8bd5\u3002</p> <p>\u5355\u5143\u6d4b\u8bd5\u5e76\u4e0d\u590d\u6742\uff0c\u4e3b\u8981\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u5c06\u5f85\u6d4b\u8bd5\u7684\u4ee3\u7801\u4e0e\u7cfb\u7edf\u4e2d\u7684\u5176\u5b83\u90e8\u5206\u9694\u79bb\u5f00\u6765\u3002\u8fd9\u91cc\u6211\u4eec\u4e00\u822c\u4f7f\u7528mock\u5bf9\u8c61\u3002</p> <pre><code># \u901a\u8fc7mock.patch\uff0c\u6211\u4eec\u628acfg4py.core.dispatch\u5bf9\u8c61\u66ff\u6362\u6210mock\u5bf9\u8c61\n@mock.patch(\"cfg4py.core.dispatch\")\ndef test_013_watch(self, mocked_handler):\n    # mock\u5bf9\u8c61\u88ab\u8c03\u7528\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7call_count\u6765\u68c0\u67e5\u5b83\u88ab\u8c03\u7528\u591a\u5c11\u6b21\n    self.assertTrue(mocked_handler.call_count &gt; 3)\n\n# \u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7mock\u6765\u6a21\u62df\u8c03\u7528\u65f6\u53d1\u751f\u5f02\u5e38\u7684\u60c5\u5f62\nwith mock.patch(\n    \"sys.exit\", lambda *args: early_jump(\"no files in folder\")\n):\n\n# \u5c06\u5bf9\u8c61\u7684\u67d0\u4e2a\u65b9\u6cd5\uff08\u8fd9\u91cc\u662fqfq\uff09\u66ff\u6362\u6389\uff1a\nwith mock.patch.object(Stock, \"qfq\") as mocked_qfq:\n    mocked_qfq.assert_called()\n\n# \u5982\u679c\u6211\u4eec\u8981\u4fee\u6539\u7cfb\u7edf\u65f6\u95f4\uff0c\u8bf7\u7528freezegun\u7684freeze_time\u65b9\u6cd5\n# \u4e0b\u9762\u7684\u8bed\u53e5\u6267\u884c\u540e\uff0c\u518d\u8c03\u7528 datetime.datetime.now()\u5c31\u4f1a\n# \u5f97\u5230 2022-02-09 10:33:00\uff0c\u800c\u4e0d\u662f\u771f\u5b9e\u7684\u7cfb\u7edf\u65f6\u95f4\n@freeze_time(\"2022-02-09 10:33:00\")\nasync def test_get_cached_bars_n(self):\n    pass\n\n# \u5982\u679c\u6211\u4eec\u7684\u7a0b\u5e8f\u8981\u63a5\u6536\u7528\u6237\u8f93\u5165\uff0c\u90a3\u4e48\u6d4b\u8bd5\u5c31\u65e0\u6cd5\u81ea\u52a8\u5316\n# \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u5c06builtins.input mock\u4f4f\uff0c\u5e76\u4e14\u901a\u8fc7side_effect\n# \u8fd4\u56de\u4e00\u4e2a\u5047\u7684\u7528\u6237\u8f93\u5165\u3002\nwith mock.path('builtins.input', side_effect=..):\n    pass\n</code></pre>","tags":["tools"]},{"location":"blog/2024/01/18/how-to-manage-python-project-as-quanter/#_7","title":"\u66f4\u591a","text":"<p>\u66f4\u591a\u5173\u4e8ePython\u7f16\u7a0b\u6700\u4f73\u5b9e\u8df5\uff0c\u8bf7\u9605\u8bfb\u300aPython\u80fd\u505a\u5927\u9879\u76ee\u300b\u3002</p> <p>\u8fd9\u672c\u4e66\u9664\u6db5\u76d6\u4e0a\u8ff0\u5185\u5bb9\uff08\u5f53\u7136\u8bb2\u5f97\u66f4\u8be6\u7ec6\uff09\u4e4b\u5916\uff0c\u8fd8\u4ecb\u7ecd\u4e86\u5982\u4f55\u8fdb\u884c\u4ee3\u7801\u7248\u672c\u7ba1\u7406\uff08\u5373\u4f7f\u7528git\uff09\uff0c\u5982\u4f55\u8fdb\u884c\u6301\u7eed\u96c6\u6210\uff08CI/CD\uff09\u548c\u5982\u4f55\u64b0\u5199\u548c\u751f\u6210\u6280\u672f\u6587\u6863\u3002</p>","tags":["tools"]},{"location":"blog/archive/2024/","title":"2024","text":""},{"location":"blog/archive/2023/","title":"2023","text":""},{"location":"blog/category/strategy/","title":"strategy","text":""},{"location":"blog/category/tools/","title":"tools","text":""},{"location":"blog/category/python/","title":"python","text":""},{"location":"blog/category/investing/","title":"investing","text":""},{"location":"blog/category/books/","title":"books","text":""},{"location":"blog/category/quantlib/","title":"quantlib","text":""},{"location":"blog/category/algo/","title":"algo","text":""},{"location":"blog/category/xtquant/","title":"xtquant","text":""},{"location":"blog/category/%E5%9B%A0%E5%AD%90/","title":"\u56e0\u5b50","text":""},{"location":"blog/category/strategies/","title":"strategies","text":""},{"location":"blog/page/2/","title":"Index","text":""},{"location":"blog/page/3/","title":"Index","text":""},{"location":"blog/page/4/","title":"Index","text":""},{"location":"blog/archive/2024/page/2/","title":"2024","text":""},{"location":"blog/archive/2024/page/3/","title":"2024","text":""},{"location":"blog/archive/2023/page/2/","title":"2023","text":""},{"location":"blog/category/strategy/page/2/","title":"strategy","text":""},{"location":"tags/","title":"\u6807\u7b7e","text":""},{"location":"tags/#alphalens","title":"Alphalens","text":"<ul> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>\u56e0\u5b50\u5206\u6790\uff083\uff09- \u90fd\u662f\u5751\uff01\u8fd9\u4e48\u7b80\u5355\u7684Alpha\u8ba1\u7b97\uff0c\u7adf\u7136\u9519\u4e86\uff1f\uff01</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(4) - Information Coefficient\u65b9\u6cd5</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> </ul>"},{"location":"tags/#cdf","title":"CDF","text":"<ul> <li>KS Test, \u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u548c\u6284\u5e95\u6caa\u6307</li> </ul>"},{"location":"tags/#jupyter","title":"Jupyter","text":"<ul> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597d Jupyter\uff1f\uff08\u4e8c\uff09</li> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597dJupyter\u73af\u5883\uff1f\uff08\u4e00\uff09</li> </ul>"},{"location":"tags/#ks-test","title":"KS-Test","text":"<ul> <li>KS Test, \u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u548c\u6284\u5e95\u6caa\u6307</li> </ul>"},{"location":"tags/#poetry","title":"Poetry","text":"<ul> <li>05 Poetry: \u9879\u76ee\u7ba1\u7406\u7684\u8bd7\u548c\u8fdc\u65b9</li> </ul>"},{"location":"tags/#python","title":"Python","text":"<ul> <li>05 Poetry: \u9879\u76ee\u7ba1\u7406\u7684\u8bd7\u548c\u8fdc\u65b9</li> </ul>"},{"location":"tags/#algorithm","title":"algorithm","text":"<ul> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#algorithms","title":"algorithms","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#blog","title":"blog","text":"<ul> <li>2024\u5e74\uff0c\u514d\u8d39\u535a\u5ba2\u8d5a\u94b1\u65b9\u6848</li> </ul>"},{"location":"tags/#books","title":"books","text":"<ul> <li>\u6765\u81ea\u4e16\u5764\uff01\u5bfb\u627eAlpha \u6784\u5efa\u4ea4\u6613\u7b56\u7565\u7684\u91cf\u5316\u65b9\u6cd5</li> </ul>"},{"location":"tags/#clickhouse","title":"clickhouse","text":"<ul> <li>ClickHouse: One table to rule them all!</li> </ul>"},{"location":"tags/#duckdb","title":"duckdb","text":"<ul> <li>\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe!</li> </ul>"},{"location":"tags/#factor","title":"factor","text":"<ul> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> </ul>"},{"location":"tags/#h5py","title":"h5py","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#hdf5","title":"hdf5","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> </ul>"},{"location":"tags/#investing","title":"investing","text":"<ul> <li>\u6539\u7528\u5341\u8fdb\u5236\uff01\u70b9\u5dee\u5982\u4f55\u5f71\u54cd\u7b56\u7565</li> </ul>"},{"location":"tags/#jupyter-notebook","title":"jupyter-notebook","text":"<ul> <li>Jupyter Notebook\u4e2d\u5982\u4f55\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1f</li> </ul>"},{"location":"tags/#machine-learning","title":"machine learning","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#pandas","title":"pandas","text":"<ul> <li>\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe!</li> </ul>"},{"location":"tags/#parquet","title":"parquet","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#pearson","title":"pearson","text":"<ul> <li>\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8</li> </ul>"},{"location":"tags/#ppw","title":"ppw","text":"<ul> <li>05 Poetry: \u9879\u76ee\u7ba1\u7406\u7684\u8bd7\u548c\u8fdc\u65b9</li> </ul>"},{"location":"tags/#pyarrow","title":"pyarrow","text":"<ul> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> </ul>"},{"location":"tags/#python_1","title":"python","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u4e3a\u4ec0\u4e48\u91cf\u5316\u4eba\u5e94\u8be5\u4f7f\u7528duckdb\uff1f</li> <li>Jupyter Notebook\u4e2d\u5982\u4f55\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1f</li> <li>\u7ed9Pandas\u627e\u4e2a\u642d\u5b50\uff0c\u7528SQL\u73a9\u8f6cDataframe!</li> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quant","title":"quant","text":"<ul> <li>\u6765\u81ea\u4e16\u5764\uff01\u5bfb\u627eAlpha \u6784\u5efa\u4ea4\u6613\u7b56\u7565\u7684\u91cf\u5316\u65b9\u6cd5</li> <li>\u53ea\u5ed6\u5ed6\u6570\u884c\uff0c\u4f46\u5f88\u60ca\u8273\u7684\u4ee3\u7801</li> <li>\u91cf\u5316\u4ea4\u6613\u4e2d\u7684\u9057\u4f20\u7b97\u6cd5</li> </ul>"},{"location":"tags/#quantlib","title":"quantlib","text":"<ul> <li>\u4e3a\u4ec0\u4e48\u91cf\u5316\u4eba\u5e94\u8be5\u4f7f\u7528duckdb\uff1f</li> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> <li>QMT/XtQuant \u4e4b\u5f00\u53d1\u73af\u5883\u7bc7</li> </ul>"},{"location":"tags/#review","title":"review","text":"<ul> <li>\u79c1\u52df\u91cf\u5316\u7b56\u7565\u5927\u76d8\u70b9-2024\u5e74\u521d</li> </ul>"},{"location":"tags/#sklearn","title":"sklearn","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> </ul>"},{"location":"tags/#spearman","title":"spearman","text":"<ul> <li>\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8</li> </ul>"},{"location":"tags/#static-site","title":"static-site","text":"<ul> <li>2024\u5e74\uff0c\u514d\u8d39\u535a\u5ba2\u8d5a\u94b1\u65b9\u6848</li> </ul>"},{"location":"tags/#statistics","title":"statistics","text":"<ul> <li>KS Test, \u5e7f\u4e49\u53cc\u66f2\u5206\u5e03\u548c\u6284\u5e95\u6caa\u6307</li> </ul>"},{"location":"tags/#story","title":"story","text":"<ul> <li>\u627e\u6821\u53cb\uff01\u8d77\u5e95\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba</li> </ul>"},{"location":"tags/#strategy","title":"strategy","text":"<ul> <li>\u57fa\u4e8e\u6df1\u5ea6\u5b66\u4e60\u7684\u91cf\u5316\u7b56\u7565\u5982\u4f55\u5b9e\u73b0\u5f52\u4e00\u5316\uff1f</li> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> <li>\u7f8a\u7fa4\u6548\u5e94\u53ca\u5176\u56e0\u5b50\u5316</li> <li>\u540e\u89c1\u4e4b\u660e\uff01\u9519\u8fc76\u4e2a\u6da8\u505c\u4e4b\u540e\u7684\u590d\u76d8</li> <li>\u7403\u961f\u548c\u786c\u5e01\u56e0\u5b50</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> <li>\u9f99\u51e4\u5448\u7965\uff1a\u8fd9\u79cd\u65e0\u5e95\u9650\u7092\u4f5c\uff0c\u5982\u4f55\u7528\u91cf\u5316\u65b9\u6cd5\u53d1\u73b0\u5b83\uff1f</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>\u5de6\u6570\u6548\u5e94 \u6574\u6570\u5173\u53e3\u4e0e\u5149\u6298\u5c04</li> <li>\u79c1\u52df\u91cf\u5316\u7b56\u7565\u5927\u76d8\u70b9-2024\u5e74\u521d</li> <li>Santa Claus Rally</li> <li>Z-score \u56e0\u5b50\u7684\u6df1\u5165\u601d\u8003</li> </ul>"},{"location":"tags/#tools","title":"tools","text":"<ul> <li>2024\u5e74\uff0c\u514d\u8d39\u535a\u5ba2\u8d5a\u94b1\u65b9\u6848</li> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597d Jupyter\uff1f\uff08\u4e8c\uff09</li> <li>\u91cf\u5316\u4eba\u5982\u4f55\u7528\u597dJupyter\u73af\u5883\uff1f\uff08\u4e00\uff09</li> <li>\u91cf\u5316\u7814\u7a76\u5458\u5982\u4f55\u5199\u4e00\u624b\u597d\u4ee3\u7801</li> </ul>"},{"location":"tags/#xtquant","title":"xtquant","text":"<ul> <li>\u5982\u4f55\u514d\u767b\u5f55\u91cd\u542fminiqmt?</li> <li>xtquant \u4e2d\u7684\u677f\u5757\u6570\u636e</li> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"},{"location":"tags/#zscore","title":"zscore","text":"<ul> <li>Z-score \u56e0\u5b50\u7684\u6df1\u5165\u601d\u8003</li> </ul>"},{"location":"tags/#_2","title":"\u56e0\u5b50","text":"<ul> <li>\u56e0\u5b50\u5206\u6790\uff083\uff09- \u90fd\u662f\u5751\uff01\u8fd9\u4e48\u7b80\u5355\u7684Alpha\u8ba1\u7b97\uff0c\u7adf\u7136\u9519\u4e86\uff1f\uff01</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(4) - Information Coefficient\u65b9\u6cd5</li> <li>\u51c0\u65b0\u9ad8\u5360\u6bd4\u56e0\u5b50</li> <li>Sharpe 5.5!\u9057\u61be\u89c4\u907f\u56e0\u5b50</li> <li>Z-score \u56e0\u5b50\u7684\u6df1\u5165\u601d\u8003</li> </ul>"},{"location":"tags/#_3","title":"\u56e0\u5b50\u5206\u6790","text":"<ul> <li>Alphalens\u56e0\u5b50\u5206\u6790(2) - low turnover\u79d2\u674098%\u7684\u57fa\u91d1\u7ecf\u7406!</li> <li>\u56e0\u5b50\u5206\u6790\uff083\uff09- \u90fd\u662f\u5751\uff01\u8fd9\u4e48\u7b80\u5355\u7684Alpha\u8ba1\u7b97\uff0c\u7adf\u7136\u9519\u4e86\uff1f\uff01</li> <li>Alphalens\u56e0\u5b50\u5206\u6790(4) - Information Coefficient\u65b9\u6cd5</li> <li>Alphalens \u56e0\u5b50\u5206\u6790 - \u4ee5\u4f4e\u6362\u624b\u7387\u56e0\u5b50\u4e3a\u4f8b(1)</li> </ul>"},{"location":"tags/#_4","title":"\u6280\u672f\u6307\u6807","text":"<ul> <li>\u5e74\u7ec8\u7279\u7a3f\uff1a\u8fd9\u4e2a\u6307\u6807\u6211\u613f\u79f0\u4e4b\u4e3a\u5e74\u5ea6\u6700\u5f3a\u53d1\u73b0</li> </ul>"},{"location":"tags/#_5","title":"\u6570\u636e\u6e90","text":"<ul> <li>\u91cf\u5316\u6570\u636e\u514d\u8d39\u65b9\u6848\u4e4b QMT</li> </ul>"},{"location":"tags/#_6","title":"\u6da8\u505c\u677f","text":"<ul> <li>\u9f99\u51e4\u5448\u7965\uff1a\u8fd9\u79cd\u65e0\u5e95\u9650\u7092\u4f5c\uff0c\u5982\u4f55\u7528\u91cf\u5316\u65b9\u6cd5\u53d1\u73b0\u5b83\uff1f</li> </ul>"},{"location":"tags/#_7","title":"\u8bfe\u7a0b","text":"<ul> <li>\u4e8c\u5341\u56db\u8bfe\u5185\u5bb9\u8be6\u60c5</li> <li>\u5e38\u89c1\u95ee\u9898</li> <li>\u5927\u5bcc\u7fc1\u91cf\u531624\u8bfe\u7f16\u6392\u8bf4\u660e</li> <li>\u8bfe\u7a0b\u7b80\u4ecb</li> <li>\u8bfe\u7a0b\u5927\u7eb2</li> <li>\u8bfe\u7a0b\u9884\u89c8</li> </ul>"},{"location":"tags/#_8","title":"\u91cf\u5316\u4f20\u5947","text":"<ul> <li>\u627e\u6821\u53cb\uff01\u8d77\u5e95\u767e\u4ebf\u79c1\u52df\u521b\u59cb\u4eba</li> </ul>"},{"location":"tags/#_9","title":"\u91cf\u5316\u6570\u636e\u5b58\u50a8","text":"<ul> <li>200\u500d\u901f\uff01\u57fa\u4e8e HDF5 \u7684\u8bc1\u5238\u6570\u636e\u5b58\u50a8</li> <li>\u5b58\u4e8650TB\uff01pyarrow + parquet</li> <li>ClickHouse: One table to rule them all!</li> </ul>"}]}