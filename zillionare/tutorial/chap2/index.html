
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://www.jieyu.ai/zillionare/tutorial/chap2/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Chap2 - 大富翁量化</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/ansi-colours.css">
    
      <link rel="stylesheet" href="../../../css/jupyter-cells.css">
    
      <link rel="stylesheet" href="../../../css/pandas-dataframe.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#第二章-数据可视化" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="大富翁量化" class="md-header__button md-logo" aria-label="大富翁量化" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            大富翁量化
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chap2
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zillionare/zillionare" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    zillionare
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      首页
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../coursea/cheese/intro/" class="md-tabs__link">
        课程
      </a>
    </li>
  

  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../products/" class="md-tabs__link">
      产品
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../jupyter/" class="md-tabs__link">
      在线量化环境
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../contact/" class="md-tabs__link">
      联系我们
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="https://www.zhihu.com/people/hbaaron" class="md-tabs__link">
      知乎
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="大富翁量化" class="md-nav__button md-logo" aria-label="大富翁量化" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    大富翁量化
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zillionare/zillionare" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    zillionare
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        首页
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          课程
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="课程" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          课程
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_1">
          大富翁量化金融实战
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="大富翁量化金融实战" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          大富翁量化金融实战
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../coursea/cheese/intro/" class="md-nav__link">
        简介
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../coursea/cheese/outline/" class="md-nav__link">
        大纲
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://zillionare.github.io/best-practice-python/" class="md-nav__link">
        Python能做大项目
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../products/" class="md-nav__link">
        产品
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../jupyter/" class="md-nav__link">
        在线量化环境
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../contact/" class="md-nav__link">
        联系我们
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://www.zhihu.com/people/hbaaron" class="md-nav__link">
        知乎
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#第二章-数据可视化" class="md-nav__link">
    第二章 数据可视化
  </a>
  
    <nav class="md-nav" aria-label="第二章 数据可视化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#使用pyecharts绘制交互式k线图" class="md-nav__link">
    使用pyecharts绘制交互式k线图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matplotlib" class="md-nav__link">
    Matplotlib
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/zillionare/zillionare/edit/master/docs/zillionare/tutorial/chap2.ipynb" title="编辑此页" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>Chap2</h1>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
(function() {
  function addWidgetsRenderer() {
    var requireJsScript = document.createElement('script');
    requireJsScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js';

    var mimeElement = document.querySelector('script[type="application/vnd.jupyter.widget-view+json"]');
    var jupyterWidgetsScript = document.createElement('script');
    var widgetRendererSrc = 'https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js';
    var widgetState;

    // Fallback for older version:
    try {
      widgetState = mimeElement && JSON.parse(mimeElement.innerHTML);

      if (widgetState && (widgetState.version_major < 2 || !widgetState.version_major)) {
        widgetRendererSrc = 'jupyter-js-widgets@*/dist/embed.js';
      }
    } catch(e) {}

    jupyterWidgetsScript.src = widgetRendererSrc;

    document.body.appendChild(requireJsScript);
    document.body.appendChild(jupyterWidgetsScript);
  }

  document.addEventListener('DOMContentLoaded', addWidgetsRenderer);
}());
</script>

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="第二章-数据可视化">第二章 数据可视化<a class="headerlink" href="#第二章-数据可视化" title="Permanent link">&para;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>在上一章，我们已经使用了数据可视化功能。我们绘制了分时图，并在图上描绘了两条曲线的交叉点。</p>
<p>可视化是量化交易研究中必备的技能。某种程度上，量化交易员的工作，就象数据科学家一样，起初我们不知道哪些特征隐藏在数据背后，于是我们打开Notebook，尝试一些算法，得到一些结果，并且将其直观地展示出来--即可视化。这当中有一些结果会有效，我们将其固定成为交易策略并重复使用；有一些被证明行不通，于是我们开始下一轮探索。这个过程，也被称之为探索式编程。</p>
<p>现在，是时候来介绍一些基本的数据可视化方法了。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>现在常用的图形库，基于js的有plotly, echarts。其中echarts是百度贡献的开源库，现在是Apache的顶级项目，可谓国货之光了。基于Python的主要是matplotlib。</p>
<p>如果要绘制交互式的图形，几乎只能选择基于js的图形库。如果js图形库使用了WebGL加速，那么绘图速度还是相当快的。</p>
<p>在这一章里，我们先简单介绍一下echarts的Python库，pyecharts的使用（注意pyecharts与echarts并不是同一个库），然后就把重点转向matplotlib。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="使用pyecharts绘制交互式k线图">使用pyecharts绘制交互式k线图<a class="headerlink" href="#使用pyecharts绘制交互式k线图" title="Permanent link">&para;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># 导入omicron及相关核心组件</span>
<span class="kn">import</span> <span class="nn">omicron</span>
<span class="kn">from</span> <span class="nn">omicron.core.timeframe</span> <span class="kn">import</span> <span class="n">tf</span>
<span class="kn">from</span> <span class="nn">omicron.core.types</span> <span class="kn">import</span> <span class="n">FrameType</span>
<span class="kn">from</span> <span class="nn">omicron.models.security</span> <span class="kn">import</span> <span class="n">Security</span>
<span class="kn">import</span> <span class="nn">cfg4py</span>
<span class="kn">from</span> <span class="nn">omega.config</span> <span class="kn">import</span> <span class="n">get_config_dir</span>

<span class="kn">import</span> <span class="nn">arrow</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">pyecharts</span>

<span class="kn">from</span> <span class="nn">pyecharts</span> <span class="kn">import</span> <span class="n">options</span> <span class="k">as</span> <span class="n">opts</span>
<span class="kn">from</span> <span class="nn">pyecharts.commons.utils</span> <span class="kn">import</span> <span class="n">JsCode</span>
<span class="kn">from</span> <span class="nn">pyecharts.charts</span> <span class="kn">import</span> <span class="n">Kline</span><span class="p">,</span> <span class="n">Line</span><span class="p">,</span> <span class="n">Bar</span><span class="p">,</span> <span class="n">Grid</span>

<span class="c1"># 初始化omicron</span>
<span class="n">cfg4py</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">get_config_dir</span><span class="p">())</span>
<span class="k">await</span> <span class="n">omicron</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">moving_average</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">win</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">win</span><span class="p">)</span><span class="o">/</span><span class="n">win</span><span class="p">,</span> <span class="s1">&#39;valid&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">left_padding</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">obj</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="n">padded</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span> <span class="o">*</span> <span class="n">count</span>
    <span class="n">padded</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">padded</span>

<span class="n">end</span> <span class="o">=</span> <span class="n">arrow</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">()</span>

<span class="c1"># 取start为end前60个交易日</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">day_shift</span><span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">)</span>

<span class="c1"># 得到k线数据</span>
<span class="n">bars</span> <span class="o">=</span> <span class="k">await</span> <span class="n">Security</span><span class="p">(</span><span class="s1">&#39;000001.XSHG&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load_bars</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">FrameType</span><span class="o">.</span><span class="n">DAY</span><span class="p">)</span>

<span class="c1"># data must be sequence of int, float, str or other simple object, not numpy types</span>
<span class="n">ochl</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">bars</span><span class="p">[[</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;high&#39;</span><span class="p">,</span> <span class="s1">&#39;low&#39;</span><span class="p">]]]</span>

<span class="c1"># datetime object is not supported</span>
<span class="n">dt</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">bars</span><span class="p">[</span><span class="s1">&#39;frame&#39;</span><span class="p">]]</span>


<span class="n">mas</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">win</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]:</span>
    <span class="c1"># 对均线数据，向左填充None，使得它们在绘制时能对齐k线</span>
    <span class="n">mas</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;ma</span><span class="si">{</span><span class="n">win</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">left_padding</span><span class="p">(</span><span class="n">moving_average</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">],</span> <span class="n">win</span><span class="p">),</span>
                                   <span class="n">win</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">k</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">Kline</span><span class="p">()</span>
    <span class="o">.</span><span class="n">add_xaxis</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add_yaxis</span><span class="p">(</span><span class="s1">&#39;kline&#39;</span><span class="p">,</span> <span class="n">ochl</span><span class="p">)</span>
    <span class="o">.</span><span class="n">set_global_opts</span><span class="p">(</span>
        <span class="n">yaxis_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">AxisOpts</span><span class="p">(</span><span class="n">is_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">xaxis_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">AxisOpts</span><span class="p">(</span><span class="n">is_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">title_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">TitleOpts</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;K线图&quot;</span><span class="p">),</span>
        <span class="n">datazoom_opts</span><span class="o">=</span><span class="p">[</span><span class="n">opts</span><span class="o">.</span><span class="n">DataZoomOpts</span><span class="p">()]</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">win</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;ma</span><span class="si">{</span><span class="n">win</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">mas</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">()</span>
    <span class="n">line</span><span class="o">.</span><span class="n">add_xaxis</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
    <span class="n">line</span><span class="o">.</span><span class="n">add_yaxis</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
                   <span class="n">label_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">LabelOpts</span><span class="p">(</span><span class="n">is_show</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
                   <span class="n">is_symbol_show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">k</span><span class="o">.</span><span class="n">overlap</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>


<span class="c1"># 显示在notebook的cell中。如果要生成网页，一般调用render()</span>
<span class="n">k</span><span class="o">.</span><span class="n">render_notebook</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ModuleNotFoundError</span>                       Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-1-9d801471b701&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-red-fg"># 导入omicron及相关核心组件</span>
<span class="ansi-green-fg">----&gt; 2</span><span class="ansi-red-fg"> </span><span class="ansi-green-fg">import</span> omicron
<span class="ansi-green-intense-fg ansi-bold">      3</span> <span class="ansi-green-fg">from</span> omicron<span class="ansi-blue-fg">.</span>core<span class="ansi-blue-fg">.</span>timeframe <span class="ansi-green-fg">import</span> tf
<span class="ansi-green-intense-fg ansi-bold">      4</span> <span class="ansi-green-fg">from</span> omicron<span class="ansi-blue-fg">.</span>core<span class="ansi-blue-fg">.</span>types <span class="ansi-green-fg">import</span> FrameType
<span class="ansi-green-intense-fg ansi-bold">      5</span> <span class="ansi-green-fg">from</span> omicron<span class="ansi-blue-fg">.</span>models<span class="ansi-blue-fg">.</span>security <span class="ansi-green-fg">import</span> Security

<span class="ansi-red-fg">ModuleNotFoundError</span>: No module named &#39;omicron&#39;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="matplotlib">Matplotlib<a class="headerlink" href="#matplotlib" title="Permanent link">&para;</a></h3>
<p>下面我们来介绍基于matplotlib的数据可视化方法。</p>
<p>matplotlib提供了可靠的Python接口，文档丰富，使用者众多，因此容易上手。matplotlib的主要不足是性能问题，在绘制k线图的过程中，绘制一张图可能需要2秒钟左右。如果我们在生产环境下，使用了matplotlib来制图（比如基于CNN的交易策略），显然就没有办法完成在很短的时间里，遍历全部证券品种。但是，在交易策略的探索过程中，以及我们的教程中，这个速度是足够了。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">matplotlib是一个2D图形绘制库</span><span class="err">，</span><span class="n">使用Numpy作为数据接口</span><span class="err">，</span><span class="n">是Python下最常用的图形绘制库之一</span><span class="err">。</span>

<span class="n">matplotlib的绘制对象是Figure</span><span class="p">,</span> <span class="n">每个Figure下</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">IPython</span> <span class="kn">import</span> <span class="n">display</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">jqdatasdk</span> <span class="k">as</span> <span class="nn">jq</span>

<span class="c1"># 请在环境变量中设置聚宽账号。账号可在jointquant.com上免费申请</span>
<span class="n">account</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;JQ_ACCOUNT&#39;</span><span class="p">)</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;JQ_PASSWORD&#39;</span><span class="p">)</span>
<span class="n">jq</span><span class="o">.</span><span class="n">auth</span><span class="p">(</span><span class="n">account</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">securities</span> <span class="o">=</span> <span class="n">jq</span><span class="o">.</span><span class="n">get_all_securities</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>尽管量化交易是机器执行的，我们仍然需要将数据可视化。比如，在使用CNN网络之前，我们需要把行情数据处理成图像数据（比如K线图）；也有可能你调制了一个绝妙的指标，能够很好地发现买卖点--但是眼见为实，这么好的指标，你最好是把它标注在K线图上，人工复核几遍才能够放心。</p>
<p>与交易相关的图中，可能最复杂的就是K线图了。对非定制化的、交互式的K线图，我们可以直接使用Pyecharts来绘制：</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">pyecharts</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">pyecharts</span> <span class="kn">import</span> <span class="n">options</span> <span class="k">as</span> <span class="n">opts</span>
<span class="kn">from</span> <span class="nn">pyecharts.charts</span> <span class="kn">import</span> <span class="n">Line</span><span class="p">,</span> <span class="n">Kline</span><span class="p">,</span> <span class="n">Bar</span>


<span class="k">def</span> <span class="nf">moving_average</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">win</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">win</span><span class="p">)</span><span class="o">/</span><span class="n">win</span><span class="p">,</span> <span class="s1">&#39;valid&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">left_padding</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">obj</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="n">padded</span> <span class="o">=</span> <span class="p">[</span><span class="n">obj</span><span class="p">]</span> <span class="o">*</span> <span class="n">count</span>
    <span class="n">padded</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">padded</span>

<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="s1">&#39;high&#39;</span><span class="p">,</span> <span class="s1">&#39;low&#39;</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;volume&#39;</span><span class="p">]</span>
<span class="n">bars</span> <span class="o">=</span> <span class="n">jq</span><span class="o">.</span><span class="n">get_bars</span><span class="p">(</span><span class="s1">&#39;000001.XSHG&#39;</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;1d&#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="n">fields</span><span class="p">)</span>

<span class="c1"># data must be sequence of int, float, str or other simple object</span>
<span class="n">ochl</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">bars</span><span class="p">[[</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;high&#39;</span><span class="p">,</span> <span class="s1">&#39;low&#39;</span><span class="p">]]]</span>

<span class="c1"># datetime object is not supported</span>
<span class="n">dt</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">bars</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]]</span>


<span class="n">mas</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">win</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]:</span>
    <span class="c1"># 对均线数据，向左填充None，使得它们在绘制时能对齐k线</span>
    <span class="n">mas</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;ma</span><span class="si">{</span><span class="n">win</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">left_padding</span><span class="p">(</span><span class="n">moving_average</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">],</span> <span class="n">win</span><span class="p">),</span>
                                   <span class="n">win</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="n">k</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">Kline</span><span class="p">()</span>
    <span class="o">.</span><span class="n">add_xaxis</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add_yaxis</span><span class="p">(</span><span class="s1">&#39;kline&#39;</span><span class="p">,</span> <span class="n">ochl</span><span class="p">)</span>
    <span class="o">.</span><span class="n">set_global_opts</span><span class="p">(</span>
        <span class="n">yaxis_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">AxisOpts</span><span class="p">(</span><span class="n">is_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">xaxis_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">AxisOpts</span><span class="p">(</span><span class="n">is_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
        <span class="n">title_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">TitleOpts</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;K线图&quot;</span><span class="p">),</span>
        <span class="n">datazoom_opts</span><span class="o">=</span><span class="p">[</span><span class="n">opts</span><span class="o">.</span><span class="n">DataZoomOpts</span><span class="p">()]</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">win</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;ma</span><span class="si">{</span><span class="n">win</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">mas</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">Line</span><span class="p">()</span>
    <span class="n">line</span><span class="o">.</span><span class="n">add_xaxis</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
    <span class="n">line</span><span class="o">.</span><span class="n">add_yaxis</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span>
                   <span class="n">label_opts</span><span class="o">=</span><span class="n">opts</span><span class="o">.</span><span class="n">LabelOpts</span><span class="p">(</span><span class="n">is_show</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
                   <span class="n">is_symbol_show</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">k</span><span class="o">.</span><span class="n">overlap</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># clean up PendingDeprecationWarning by pyechart</span>
<span class="n">display</span><span class="o">.</span><span class="n">clear_output</span><span class="p">()</span>

<span class="c1"># 显示在notebook的cell中。如果要生成网页，一般调用render()</span>
<span class="n">k</span><span class="o">.</span><span class="n">render_notebook</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_html rendered_html output_subarea output_execute_result">
<script>
    require.config({
        paths: {
            'echarts':'https://assets.pyecharts.org/assets/echarts.min'
        }
    });
</script>

        <div id="0618e944bfed4a2384c36b2e1e97dd27" style="width:900px; height:500px;"></div>
<script>
        require(['echarts'], function(echarts) {
                var chart_0618e944bfed4a2384c36b2e1e97dd27 = echarts.init(
                    document.getElementById('0618e944bfed4a2384c36b2e1e97dd27'), 'white', {renderer: 'canvas'});
                var option_0618e944bfed4a2384c36b2e1e97dd27 = {
    "animation": true,
    "animationThreshold": 2000,
    "animationDuration": 1000,
    "animationEasing": "cubicOut",
    "animationDelay": 0,
    "animationDurationUpdate": 300,
    "animationEasingUpdate": "cubicOut",
    "animationDelayUpdate": 0,
    "color": [
        "#c23531",
        "#2f4554",
        "#61a0a8",
        "#d48265",
        "#749f83",
        "#ca8622",
        "#bda29a",
        "#6e7074",
        "#546570",
        "#c4ccd3",
        "#f05b72",
        "#ef5b9c",
        "#f47920",
        "#905a3d",
        "#fab27b",
        "#2a5caa",
        "#444693",
        "#726930",
        "#b2d235",
        "#6d8346",
        "#ac6767",
        "#1d953f",
        "#6950a1",
        "#918597"
    ],
    "series": [
        {
            "type": "candlestick",
            "name": "kline",
            "data": [
                [
                    3214.4,
                    3214.13,
                    3252.78,
                    3181.27
                ],
                [
                    3243.91,
                    3314.15,
                    3314.15,
                    3220.68
                ],
                [
                    3330.55,
                    3320.89,
                    3336.68,
                    3300.57
                ],
                [
                    3315.18,
                    3333.16,
                    3381.98,
                    3311.79
                ],
                [
                    3306.15,
                    3325.11,
                    3336.3,
                    3257.83
                ],
                [
                    3310.64,
                    3196.77,
                    3319.13,
                    3184.96
                ],
                [
                    3210.39,
                    3205.23,
                    3221.98,
                    3174.66
                ],
                [
                    3226.13,
                    3227.96,
                    3245.3,
                    3208.49
                ],
                [
                    3221.99,
                    3294.55,
                    3294.55,
                    3209.99
                ],
                [
                    3299.57,
                    3286.82,
                    3312.45,
                    3282.16
                ],
                [
                    3280.8,
                    3310.01,
                    3333.79,
                    3261.61
                ],
                [
                    3332.18,
                    3367.97,
                    3368.1,
                    3327.68
                ],
                [
                    3376.44,
                    3371.69,
                    3391.07,
                    3352.5
                ],
                [
                    3363.33,
                    3377.56,
                    3383.64,
                    3333.88
                ],
                [
                    3380.76,
                    3386.46,
                    3392.7,
                    3334.33
                ],
                [
                    3370.59,
                    3354.04,
                    3374.13,
                    3307.71
                ],
                [
                    3341.53,
                    3379.25,
                    3399.93,
                    3335.04
                ],
                [
                    3379.49,
                    3340.29,
                    3409.06,
                    3336.09
                ],
                [
                    3327.49,
                    3319.27,
                    3335.73,
                    3263.27
                ],
                [
                    3328.18,
                    3320.73,
                    3338.15,
                    3309.46
                ],
                [
                    3315.67,
                    3360.1,
                    3362.03,
                    3302.74
                ],
                [
                    3373.9,
                    3438.8,
                    3450.9,
                    3369.37
                ],
                [
                    3441.93,
                    3451.09,
                    3456.72,
                    3432.64
                ],
                [
                    3444.56,
                    3408.13,
                    3454.46,
                    3406.16
                ],
                [
                    3385.96,
                    3363.9,
                    3394.56,
                    3352.78
                ],
                [
                    3380.23,
                    3380.68,
                    3393.92,
                    3358.0
                ],
                [
                    3391.11,
                    3385.64,
                    3396.57,
                    3368.03
                ],
                [
                    3392.88,
                    3373.58,
                    3408.87,
                    3364.16
                ],
                [
                    3371.81,
                    3329.74,
                    3382.6,
                    3320.14
                ],
                [
                    3333.49,
                    3350.11,
                    3351.83,
                    3312.99
                ],
                [
                    3346.29,
                    3403.81,
                    3405.88,
                    3339.65
                ],
                [
                    3416.55,
                    3395.68,
                    3442.74,
                    3395.47
                ],
                [
                    3389.74,
                    3410.61,
                    3410.61,
                    3381.71
                ],
                [
                    3420.47,
                    3404.8,
                    3421.4,
                    3377.21
                ],
                [
                    3404.03,
                    3384.98,
                    3425.63,
                    3374.26
                ],
                [
                    3336.41,
                    3355.37,
                    3360.11,
                    3328.55
                ],
                [
                    3349.92,
                    3292.59,
                    3368.24,
                    3285.63
                ],
                [
                    3301.22,
                    3316.42,
                    3324.39,
                    3276.44
                ],
                [
                    3281.0,
                    3254.63,
                    3289.61,
                    3238.56
                ],
                [
                    3282.23,
                    3234.82,
                    3285.47,
                    3227.64
                ],
                [
                    3225.78,
                    3260.35,
                    3262.5,
                    3220.54
                ],
                [
                    3275.92,
                    3278.81,
                    3283.53,
                    3261.15
                ],
                [
                    3277.13,
                    3295.68,
                    3297.69,
                    3263.75
                ],
                [
                    3293.17,
                    3283.92,
                    3302.46,
                    3271.08
                ],
                [
                    3277.32,
                    3270.44,
                    3290.41,
                    3248.5
                ],
                [
                    3270.91,
                    3338.09,
                    3338.32,
                    3268.53
                ],
                [
                    3348.9,
                    3316.94,
                    3350.59,
                    3313.07
                ],
                [
                    3290.67,
                    3274.3,
                    3320.23,
                    3265.7
                ],
                [
                    3278.84,
                    3279.71,
                    3289.76,
                    3264.89
                ],
                [
                    3262.88,
                    3223.18,
                    3265.35,
                    3221.24
                ],
                [
                    3234.3739,
                    3219.4179,
                    3239.4662,
                    3208.0349
                ],
                [
                    3224.9769,
                    3217.5346,
                    3238.1825,
                    3210.8925
                ],
                [
                    3231.86,
                    3224.36,
                    3242.79,
                    3219.79
                ],
                [
                    3232.71,
                    3218.05,
                    3244.91,
                    3202.34
                ],
                [
                    3262.61,
                    3272.08,
                    3280.51,
                    3260.19
                ],
                [
                    3287.33,
                    3358.47,
                    3359.15,
                    3286.11
                ],
                [
                    3353.12,
                    3359.75,
                    3361.83,
                    3334.5
                ],
                [
                    3353.62,
                    3340.78,
                    3353.62,
                    3332.96
                ],
                [
                    3342.92,
                    3332.18,
                    3354.58,
                    3330.0
                ],
                [
                    3334.46,
                    3336.36,
                    3348.95,
                    3319.11
                ]
            ]
        },
        {
            "type": "line",
            "name": "ma5",
            "connectNulls": false,
            "symbolSize": 4,
            "showSymbol": false,
            "smooth": false,
            "clip": true,
            "step": false,
            "data": [
                [
                    "2020-07-17",
                    null
                ],
                [
                    "2020-07-20",
                    null
                ],
                [
                    "2020-07-21",
                    null
                ],
                [
                    "2020-07-22",
                    null
                ],
                [
                    "2020-07-23",
                    null
                ],
                [
                    "2020-07-24",
                    3301.488
                ],
                [
                    "2020-07-27",
                    3298.0160000000005
                ],
                [
                    "2020-07-28",
                    3276.232
                ],
                [
                    "2020-07-29",
                    3257.646
                ],
                [
                    "2020-07-30",
                    3249.924
                ],
                [
                    "2020-07-31",
                    3242.266
                ],
                [
                    "2020-08-03",
                    3264.914
                ],
                [
                    "2020-08-04",
                    3297.4620000000004
                ],
                [
                    "2020-08-05",
                    3326.2080000000005
                ],
                [
                    "2020-08-06",
                    3342.8100000000004
                ],
                [
                    "2020-08-07",
                    3362.7380000000003
                ],
                [
                    "2020-08-10",
                    3371.5440000000003
                ],
                [
                    "2020-08-11",
                    3373.8
                ],
                [
                    "2020-08-12",
                    3367.52
                ],
                [
                    "2020-08-13",
                    3355.862
                ],
                [
                    "2020-08-14",
                    3342.716
                ],
                [
                    "2020-08-17",
                    3343.928
                ],
                [
                    "2020-08-18",
                    3355.838
                ],
                [
                    "2020-08-19",
                    3377.9980000000005
                ],
                [
                    "2020-08-20",
                    3395.7700000000004
                ],
                [
                    "2020-08-21",
                    3404.404000000001
                ],
                [
                    "2020-08-24",
                    3408.5200000000004
                ],
                [
                    "2020-08-25",
                    3397.8880000000004
                ],
                [
                    "2020-08-26",
                    3382.386
                ],
                [
                    "2020-08-27",
                    3366.708
                ],
                [
                    "2020-08-28",
                    3363.95
                ],
                [
                    "2020-08-31",
                    3368.576
                ],
                [
                    "2020-09-01",
                    3370.5840000000003
                ],
                [
                    "2020-09-02",
                    3377.99
                ],
                [
                    "2020-09-03",
                    3393.0020000000004
                ],
                [
                    "2020-09-04",
                    3399.9760000000006
                ],
                [
                    "2020-09-07",
                    3390.288
                ],
                [
                    "2020-09-08",
                    3369.67
                ],
                [
                    "2020-09-09",
                    3350.8320000000003
                ],
                [
                    "2020-09-10",
                    3320.7980000000002
                ],
                [
                    "2020-09-11",
                    3290.766
                ],
                [
                    "2020-09-14",
                    3271.762
                ],
                [
                    "2020-09-15",
                    3269.0060000000003
                ],
                [
                    "2020-09-16",
                    3264.858
                ],
                [
                    "2020-09-17",
                    3270.7160000000003
                ],
                [
                    "2020-09-18",
                    3277.8400000000006
                ],
                [
                    "2020-09-21",
                    3293.3880000000004
                ],
                [
                    "2020-09-22",
                    3301.014
                ],
                [
                    "2020-09-23",
                    3296.7380000000003
                ],
                [
                    "2020-09-24",
                    3295.896
                ],
                [
                    "2020-09-25",
                    3286.444
                ],
                [
                    "2020-09-28",
                    3262.70958
                ],
                [
                    "2020-09-29",
                    3242.8285000000005
                ],
                [
                    "2020-09-30",
                    3232.8405000000002
                ],
                [
                    "2020-10-09",
                    3220.5085000000004
                ],
                [
                    "2020-10-12",
                    3230.2885000000006
                ],
                [
                    "2020-10-13",
                    3258.0989200000004
                ],
                [
                    "2020-10-14",
                    3286.5420000000004
                ],
                [
                    "2020-10-15",
                    3309.826
                ],
                [
                    "2020-10-16",
                    3332.6520000000005
                ]
            ],
            "hoverAnimation": true,
            "label": {
                "show": false,
                "position": "top",
                "margin": 8
            },
            "lineStyle": {
                "show": true,
                "width": 1,
                "opacity": 1,
                "curveness": 0,
                "type": "solid"
            },
            "areaStyle": {
                "opacity": 0
            },
            "zlevel": 0,
            "z": 0
        },
        {
            "type": "line",
            "name": "ma10",
            "connectNulls": false,
            "symbolSize": 4,
            "showSymbol": false,
            "smooth": false,
            "clip": true,
            "step": false,
            "data": [
                [
                    "2020-07-17",
                    null
                ],
                [
                    "2020-07-20",
                    null
                ],
                [
                    "2020-07-21",
                    null
                ],
                [
                    "2020-07-22",
                    null
                ],
                [
                    "2020-07-23",
                    null
                ],
                [
                    "2020-07-24",
                    null
                ],
                [
                    "2020-07-27",
                    null
                ],
                [
                    "2020-07-28",
                    null
                ],
                [
                    "2020-07-29",
                    null
                ],
                [
                    "2020-07-30",
                    null
                ],
                [
                    "2020-07-31",
                    3271.8769999999995
                ],
                [
                    "2020-08-03",
                    3281.465
                ],
                [
                    "2020-08-04",
                    3286.847
                ],
                [
                    "2020-08-05",
                    3291.927
                ],
                [
                    "2020-08-06",
                    3296.3669999999997
                ],
                [
                    "2020-08-07",
                    3302.502
                ],
                [
                    "2020-08-10",
                    3318.2290000000003
                ],
                [
                    "2020-08-11",
                    3335.6310000000008
                ],
                [
                    "2020-08-12",
                    3346.8640000000005
                ],
                [
                    "2020-08-13",
                    3349.3360000000002
                ],
                [
                    "2020-08-14",
                    3352.7270000000003
                ],
                [
                    "2020-08-17",
                    3357.736
                ],
                [
                    "2020-08-18",
                    3364.8190000000004
                ],
                [
                    "2020-08-19",
                    3372.7589999999996
                ],
                [
                    "2020-08-20",
                    3375.8160000000003
                ],
                [
                    "2020-08-21",
                    3373.56
                ],
                [
                    "2020-08-24",
                    3376.224
                ],
                [
                    "2020-08-25",
                    3376.863
                ],
                [
                    "2020-08-26",
                    3380.1920000000005
                ],
                [
                    "2020-08-27",
                    3381.2390000000005
                ],
                [
                    "2020-08-28",
                    3384.1770000000006
                ],
                [
                    "2020-08-31",
                    3388.5480000000002
                ],
                [
                    "2020-09-01",
                    3384.236
                ],
                [
                    "2020-09-02",
                    3380.1879999999996
                ],
                [
                    "2020-09-03",
                    3379.8550000000005
                ],
                [
                    "2020-09-04",
                    3381.963
                ],
                [
                    "2020-09-07",
                    3379.432
                ],
                [
                    "2020-09-08",
                    3370.1270000000004
                ],
                [
                    "2020-09-09",
                    3364.411
                ],
                [
                    "2020-09-10",
                    3356.9
                ],
                [
                    "2020-09-11",
                    3345.3710000000005
                ],
                [
                    "2020-09-14",
                    3331.025
                ],
                [
                    "2020-09-15",
                    3319.3379999999997
                ],
                [
                    "2020-09-16",
                    3307.8450000000003
                ],
                [
                    "2020-09-17",
                    3295.7569999999996
                ],
                [
                    "2020-09-18",
                    3284.303
                ],
                [
                    "2020-09-21",
                    3282.575
                ],
                [
                    "2020-09-22",
                    3285.01
                ],
                [
                    "2020-09-23",
                    3280.7980000000007
                ],
                [
                    "2020-09-24",
                    3283.306
                ],
                [
                    "2020-09-25",
                    3282.142
                ],
                [
                    "2020-09-28",
                    3278.04879
                ],
                [
                    "2020-09-29",
                    3271.9212500000003
                ],
                [
                    "2020-09-30",
                    3264.7892500000003
                ],
                [
                    "2020-10-09",
                    3258.2022500000003
                ],
                [
                    "2020-10-12",
                    3258.3662500000005
                ],
                [
                    "2020-10-13",
                    3260.4042500000005
                ],
                [
                    "2020-10-14",
                    3264.685250000001
                ],
                [
                    "2020-10-15",
                    3271.3332499999997
                ],
                [
                    "2020-10-16",
                    3276.58025
                ]
            ],
            "hoverAnimation": true,
            "label": {
                "show": false,
                "position": "top",
                "margin": 8
            },
            "lineStyle": {
                "show": true,
                "width": 1,
                "opacity": 1,
                "curveness": 0,
                "type": "solid"
            },
            "areaStyle": {
                "opacity": 0
            },
            "zlevel": 0,
            "z": 0
        },
        {
            "type": "line",
            "name": "ma20",
            "connectNulls": false,
            "symbolSize": 4,
            "showSymbol": false,
            "smooth": false,
            "clip": true,
            "step": false,
            "data": [
                [
                    "2020-07-17",
                    null
                ],
                [
                    "2020-07-20",
                    null
                ],
                [
                    "2020-07-21",
                    null
                ],
                [
                    "2020-07-22",
                    null
                ],
                [
                    "2020-07-23",
                    null
                ],
                [
                    "2020-07-24",
                    null
                ],
                [
                    "2020-07-27",
                    null
                ],
                [
                    "2020-07-28",
                    null
                ],
                [
                    "2020-07-29",
                    null
                ],
                [
                    "2020-07-30",
                    null
                ],
                [
                    "2020-07-31",
                    null
                ],
                [
                    "2020-08-03",
                    null
                ],
                [
                    "2020-08-04",
                    null
                ],
                [
                    "2020-08-05",
                    null
                ],
                [
                    "2020-08-06",
                    null
                ],
                [
                    "2020-08-07",
                    null
                ],
                [
                    "2020-08-10",
                    null
                ],
                [
                    "2020-08-11",
                    null
                ],
                [
                    "2020-08-12",
                    null
                ],
                [
                    "2020-08-13",
                    null
                ],
                [
                    "2020-08-14",
                    3312.3020000000006
                ],
                [
                    "2020-08-17",
                    3319.6005000000005
                ],
                [
                    "2020-08-18",
                    3325.833
                ],
                [
                    "2020-08-19",
                    3332.3430000000008
                ],
                [
                    "2020-08-20",
                    3336.091500000001
                ],
                [
                    "2020-08-21",
                    3338.031000000001
                ],
                [
                    "2020-08-24",
                    3347.2265000000007
                ],
                [
                    "2020-08-25",
                    3356.2470000000008
                ],
                [
                    "2020-08-26",
                    3363.5280000000007
                ],
                [
                    "2020-08-27",
                    3365.287500000001
                ],
                [
                    "2020-08-28",
                    3368.452000000001
                ],
                [
                    "2020-08-31",
                    3373.142000000001
                ],
                [
                    "2020-09-01",
                    3374.527500000001
                ],
                [
                    "2020-09-02",
                    3376.4735000000005
                ],
                [
                    "2020-09-03",
                    3377.8355
                ],
                [
                    "2020-09-04",
                    3377.7614999999996
                ],
                [
                    "2020-09-07",
                    3377.8279999999995
                ],
                [
                    "2020-09-08",
                    3373.495
                ],
                [
                    "2020-09-09",
                    3372.3015000000005
                ],
                [
                    "2020-09-10",
                    3369.0695
                ],
                [
                    "2020-09-11",
                    3364.774
                ],
                [
                    "2020-09-14",
                    3359.7864999999997
                ],
                [
                    "2020-09-15",
                    3351.787
                ],
                [
                    "2020-09-16",
                    3344.0165
                ],
                [
                    "2020-09-17",
                    3337.806
                ],
                [
                    "2020-09-18",
                    3333.133
                ],
                [
                    "2020-09-21",
                    3331.0035
                ],
                [
                    "2020-09-22",
                    3327.5685000000003
                ],
                [
                    "2020-09-23",
                    3322.604500000001
                ],
                [
                    "2020-09-24",
                    3320.103000000001
                ],
                [
                    "2020-09-25",
                    3313.756500000001
                ],
                [
                    "2020-09-28",
                    3304.536895
                ],
                [
                    "2020-09-29",
                    3295.6296250000005
                ],
                [
                    "2020-09-30",
                    3286.317125
                ],
                [
                    "2020-10-09",
                    3276.979625
                ],
                [
                    "2020-10-12",
                    3271.334625
                ],
                [
                    "2020-10-13",
                    3271.489625
                ],
                [
                    "2020-10-14",
                    3274.8476250000003
                ],
                [
                    "2020-10-15",
                    3276.065625
                ],
                [
                    "2020-10-16",
                    3279.9431250000002
                ]
            ],
            "hoverAnimation": true,
            "label": {
                "show": false,
                "position": "top",
                "margin": 8
            },
            "lineStyle": {
                "show": true,
                "width": 1,
                "opacity": 1,
                "curveness": 0,
                "type": "solid"
            },
            "areaStyle": {
                "opacity": 0
            },
            "zlevel": 0,
            "z": 0
        }
    ],
    "legend": [
        {
            "data": [
                "kline",
                "ma5",
                "ma10",
                "ma20"
            ],
            "selected": {
                "kline": true,
                "ma5": true,
                "ma10": true,
                "ma20": true
            },
            "show": true,
            "padding": 5,
            "itemGap": 10,
            "itemWidth": 25,
            "itemHeight": 14
        }
    ],
    "tooltip": {
        "show": true,
        "trigger": "item",
        "triggerOn": "mousemove|click",
        "axisPointer": {
            "type": "line"
        },
        "showContent": true,
        "alwaysShowContent": false,
        "showDelay": 0,
        "hideDelay": 100,
        "textStyle": {
            "fontSize": 14
        },
        "borderWidth": 0,
        "padding": 5
    },
    "xAxis": [
        {
            "show": true,
            "scale": true,
            "nameLocation": "end",
            "nameGap": 15,
            "gridIndex": 0,
            "inverse": false,
            "offset": 0,
            "splitNumber": 5,
            "minInterval": 0,
            "splitLine": {
                "show": false,
                "lineStyle": {
                    "show": true,
                    "width": 1,
                    "opacity": 1,
                    "curveness": 0,
                    "type": "solid"
                }
            },
            "data": [
                "2020-07-17",
                "2020-07-20",
                "2020-07-21",
                "2020-07-22",
                "2020-07-23",
                "2020-07-24",
                "2020-07-27",
                "2020-07-28",
                "2020-07-29",
                "2020-07-30",
                "2020-07-31",
                "2020-08-03",
                "2020-08-04",
                "2020-08-05",
                "2020-08-06",
                "2020-08-07",
                "2020-08-10",
                "2020-08-11",
                "2020-08-12",
                "2020-08-13",
                "2020-08-14",
                "2020-08-17",
                "2020-08-18",
                "2020-08-19",
                "2020-08-20",
                "2020-08-21",
                "2020-08-24",
                "2020-08-25",
                "2020-08-26",
                "2020-08-27",
                "2020-08-28",
                "2020-08-31",
                "2020-09-01",
                "2020-09-02",
                "2020-09-03",
                "2020-09-04",
                "2020-09-07",
                "2020-09-08",
                "2020-09-09",
                "2020-09-10",
                "2020-09-11",
                "2020-09-14",
                "2020-09-15",
                "2020-09-16",
                "2020-09-17",
                "2020-09-18",
                "2020-09-21",
                "2020-09-22",
                "2020-09-23",
                "2020-09-24",
                "2020-09-25",
                "2020-09-28",
                "2020-09-29",
                "2020-09-30",
                "2020-10-09",
                "2020-10-12",
                "2020-10-13",
                "2020-10-14",
                "2020-10-15",
                "2020-10-16"
            ]
        }
    ],
    "yAxis": [
        {
            "show": true,
            "scale": true,
            "nameLocation": "end",
            "nameGap": 15,
            "gridIndex": 0,
            "inverse": false,
            "offset": 0,
            "splitNumber": 5,
            "minInterval": 0,
            "splitLine": {
                "show": false,
                "lineStyle": {
                    "show": true,
                    "width": 1,
                    "opacity": 1,
                    "curveness": 0,
                    "type": "solid"
                }
            }
        }
    ],
    "title": [
        {
            "text": "K\u7ebf\u56fe",
            "padding": 5,
            "itemGap": 10
        }
    ],
    "dataZoom": [
        {
            "show": true,
            "type": "slider",
            "realtime": true,
            "start": 20,
            "end": 80,
            "orient": "horizontal",
            "zoomLock": false,
            "filterMode": "filter"
        }
    ]
};
                chart_0618e944bfed4a2384c36b2e1e97dd27.setOption(option_0618e944bfed4a2384c36b2e1e97dd27);
        });
    </script>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>但在量化交易中，我们并不太需要上面这种交互式的K线图。特别是在为神经网络训练准备可视化数据时，我们很可能并不想使用传统的K线图，而是自己定制的某种图。另外，作为探索式编程的一部分，我们常常需要在jupyter notebook中把指标和方案可视化。因此，我们需要掌握一些基本的绘图知识。</p>
<p>下面，我们就以matplot绘图为例，介绍相关的绘制知识。</p>
<p>您可能已经注意到，在各章节配套的notebook开头，我们都有这样的语句：</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>在前面几章里，我们的进度有点快，这里我们放慢一点速度，对一些细节多提几句。</p>
<p>第一行是jupyter notebook魔法，它使得我们通过matplotlib.pyplot绘制的图形可以在notebook中的cell中显示出来。与之对应的，在pyechart，我们则是调用render_notebook来实现的。</p>
<p>第二行是导入matplot的python实现库pyplot。前面我们使用了pyplot中的这些方法：</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># 指定绘图区的大小。这里figsize是一个元组，分别指定绘图区</span>
<span class="c1"># 的宽和高（inch单位)。如果dpi设置为80的话，则下面的语句</span>
<span class="c1"># 指定了一个宽720,高720的绘图区</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>

<span class="c1"># 设置子绘图时使用的窗格，必须为一个三位的数字，第一位是</span>
<span class="c1"># 行数，第二位是列数，第三位是子图窗格的索引，起始值为1</span>
<span class="c1"># 下面的语句绘制了一个九宫格，并在图正中指定了其子图索引</span>

<span class="c1">#     ``&#39;.&#39;``          point marker</span>
<span class="c1">#     ``&#39;,&#39;``          pixel marker</span>
<span class="c1">#     ``&#39;o&#39;``          circle marker</span>
<span class="c1">#     ``&#39;v&#39;``          triangle_down marker</span>
<span class="c1">#     ``&#39;^&#39;``          triangle_up marker</span>
<span class="c1">#     ``&#39;&lt;&#39;``          triangle_left marker</span>
<span class="c1">#     ``&#39;&gt;&#39;``          triangle_right marker</span>
<span class="c1">#     ``&#39;1&#39;``          tri_down marker</span>
<span class="c1">#     ``&#39;2&#39;``          tri_up marker</span>
<span class="c1">#     ``&#39;3&#39;``          tri_left marker</span>
<span class="c1">#     ``&#39;4&#39;``          tri_right marker</span>
<span class="c1">#     ``&#39;s&#39;``          square marker</span>
<span class="c1">#     ``&#39;p&#39;``          pentagon marker</span>
<span class="c1">#     ``&#39;*&#39;``          star marker</span>
<span class="c1">#     ``&#39;h&#39;``          hexagon1 marker</span>
<span class="c1">#     ``&#39;H&#39;``          hexagon2 marker</span>
<span class="c1">#     ``&#39;+&#39;``          plus marker</span>
<span class="c1">#     ``&#39;x&#39;``          x marker</span>
<span class="c1">#     ``&#39;D&#39;``          diamond marker</span>
<span class="c1">#     ``&#39;d&#39;``          thin_diamond marker</span>
<span class="c1">#    ``&#39;|&#39;``          vline marker</span>
<span class="n">marks</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.&#39;</span><span class="p">,</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="s1">&#39;o&#39;</span><span class="p">,</span><span class="s1">&#39;^&#39;</span><span class="p">,</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;p&#39;</span><span class="p">,</span><span class="s1">&#39;*&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;33</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="c1"># 绘制文字</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="c1"># 绘制标记</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">marks</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>

<span class="c1"># 当前指定的子图仍为第9号子图。在其上绘制实线line</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="c1"># 绘制虚拟line</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;--&#39;</span><span class="p">)</span>

<span class="c1"># 给子图之间增加间距</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_subarea output_stream output_stderr output_text">
<pre>
<code>/home/userroot/miniconda3/envs/alpha/lib/python3.8/site-packages/ipykernel/ipkernel.py:287: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</code>
</pre>
</div>
</div>
<div class="output_area">
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>如果不指定子图，则会当成只有一个子图的情况。以上就是我们之前使用过的全部绘图方法。下面，我们来看应该如何绘制k线图。</p>
<p>K线（蜡烛）图是由一个实体和上下影线组成的。我们使用矩形(Rectangle对象）来绘制实体，线（Line2D)来绘制上下影线。绘制实际上很简单，只要给这些矩形和上下影线指定好参数，再添加到图形中就可以了。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">matplotlib.collections</span> <span class="kn">import</span> <span class="n">LineCollection</span><span class="p">,</span> <span class="n">PatchCollection</span>
<span class="kn">from</span> <span class="nn">matplotlib.lines</span> <span class="kn">import</span> <span class="n">Line2D</span>
<span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="kn">import</span> <span class="n">Rectangle</span>
<span class="k">def</span> <span class="nf">candle_stick_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">bars</span><span class="p">,</span> <span class="n">bw</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">lw</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">ma_groups</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="c1"># 上影线顶点坐标</span>
    <span class="n">vertex_top</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
    <span class="c1"># 下影线顶点坐标</span>
    <span class="n">vertex_bottom</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>

    <span class="n">rects</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># 线和实体边框的颜色</span>
    <span class="n">edge_color</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;open&#39;</span><span class="p">],</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">)</span>
    <span class="c1"># 实体的颜色，这里指定为白色，从而显示为空心矩形</span>
    <span class="n">face_color</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;w&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)):</span>
        <span class="n">o</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">bars</span><span class="p">[</span><span class="n">i</span><span class="p">][[</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="s1">&#39;close&#39;</span><span class="p">,</span> <span class="s1">&#39;low&#39;</span><span class="p">,</span> <span class="s1">&#39;high&#39;</span><span class="p">]]</span>
        <span class="c1"># 计算各上影线、下影线的绘制坐标</span>
        <span class="n">xi</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">lw</span><span class="o">/</span><span class="mf">2.0</span>
        <span class="k">if</span> <span class="n">o</span> <span class="o">&gt;=</span> <span class="n">c</span><span class="p">:</span>
            <span class="n">vertex_top</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">xi</span><span class="p">,</span> <span class="n">o</span><span class="p">],</span> <span class="p">[</span><span class="n">xi</span><span class="p">,</span> <span class="n">h</span><span class="p">]]</span>
            <span class="n">vertex_bottom</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">xi</span><span class="p">,</span> <span class="n">l</span><span class="p">],</span> <span class="p">[</span><span class="n">xi</span><span class="p">,</span> <span class="n">c</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">vertex_top</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">xi</span><span class="p">,</span> <span class="n">c</span><span class="p">],</span> <span class="p">[</span><span class="n">xi</span><span class="p">,</span> <span class="n">h</span><span class="p">]]</span>
            <span class="n">vertex_bottom</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[[</span><span class="n">xi</span><span class="p">,</span> <span class="n">l</span><span class="p">],</span> <span class="p">[</span><span class="n">xi</span><span class="p">,</span> <span class="n">o</span><span class="p">]]</span>

        <span class="c1"># 设置K线实体矩形的参数</span>
        <span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">((</span><span class="n">i</span> <span class="o">-</span> <span class="n">bw</span><span class="o">/</span><span class="mf">2.0</span> <span class="o">-</span> <span class="n">lw</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;close&#39;</span><span class="p">],</span> 
                        <span class="n">bars</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;open&#39;</span><span class="p">])),</span><span class="n">width</span><span class="o">=</span><span class="n">bw</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="n">lw</span><span class="p">,</span> 
                          <span class="n">height</span><span class="o">=</span><span class="nb">abs</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;open&#39;</span><span class="p">]</span><span class="o">-</span><span class="n">bars</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s1">&#39;close&#39;</span><span class="p">]))</span>

        <span class="n">rects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">vertex</span> <span class="ow">in</span> <span class="p">[</span><span class="n">vertex_top</span><span class="p">,</span> <span class="n">vertex_bottom</span><span class="p">]:</span>
        <span class="n">line_collection</span> <span class="o">=</span> <span class="n">LineCollection</span><span class="p">(</span><span class="n">vertex</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">edge_color</span><span class="p">,</span><span class="n">linewidths</span><span class="o">=</span><span class="n">lw</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">add_collection</span><span class="p">(</span><span class="n">line_collection</span><span class="p">)</span>

    <span class="n">rect_pc</span> <span class="o">=</span> <span class="n">PatchCollection</span><span class="p">(</span><span class="n">rects</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">face_color</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="n">edge_color</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">add_collection</span><span class="p">(</span><span class="n">rect_pc</span><span class="p">)</span>

    <span class="c1"># 叠加均线</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">win</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ma_groups</span> <span class="ow">or</span> <span class="p">[]):</span>
        <span class="n">ma</span> <span class="o">=</span> <span class="n">moving_average</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">],</span> <span class="n">win</span><span class="p">)</span>
        <span class="n">ma</span> <span class="o">=</span> <span class="n">left_padding</span><span class="p">(</span><span class="n">ma</span><span class="p">,</span> <span class="n">win</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">Line2D</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ma</span><span class="p">)),</span> <span class="n">ma</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;C</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">lw</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">add_line</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

    <span class="c1"># 设置x,y轴显示范围</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">])</span><span class="o">*</span><span class="mf">0.99</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">])</span><span class="o">*</span><span class="mf">1.01</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

    <span class="c1"># 隐藏下边的x轴标签</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_tick_params</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_tick_params</span><span class="p">(</span><span class="n">labelbottom</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">draw_volume_bars</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">bars</span><span class="p">,</span> <span class="n">bw</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">0.6</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)),</span> <span class="n">bars</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;open&#39;</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="n">bw</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bars</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">])</span><span class="o">*</span><span class="mf">0.99</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">bars</span><span class="p">[</span><span class="s1">&#39;volume&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mf">1.01</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="s2">&quot;top&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">kax</span><span class="p">,</span> <span class="n">vax</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">gridspec_kw</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;height_ratios&#39;</span><span class="p">:[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]},</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">hspace</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>
<span class="n">candle_stick_plot</span><span class="p">(</span><span class="n">kax</span><span class="p">,</span> <span class="n">bars</span><span class="p">,</span> <span class="n">ma_groups</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="n">draw_volume_bars</span><span class="p">(</span><span class="n">vax</span><span class="p">,</span> <span class="n">bars</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>这里出现了新的对象，即轴(ax)对象。到现在为止，我们见过了五个容易混淆的概念：plt, subplot, subplots, figure和ax。图上的每一个点和线，最终都是绑定到具体的轴(ax)的，每个ax下面还有xaxis和yaxis对象，但它们就不再拥有点、线这些绘图元素了。plt只是名字空间，它不拥有任何绘图元素；figure是绘图用的抽象画布，它下面有ax对象（即前面所说的子图）。subplot则是一个方法，用来指定当前使用哪一个子图(ax)来绘图。</p>
<p>关于fig与ax的关系，我们可以参考下图：</p>
<p><img alt="" src="https://matplotlib.org/1.5.1/_images/fig_map.png" /></p>
<p>当我们调用plt.plot时，并没有指定任何特别的对象；pyplot在背后指定了一个全局的figure，它有一个子图对象(ax)。所以，我们可以这样创建fig和子图：</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># 创建并返回两个ax对象</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">kax</span><span class="p">,</span> <span class="n">vax</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>也可以这样：</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>这里只创建并返回了一个ax对象。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>在上面的代码中，使用了LineCollection和PathCollection，这是性能优化的方法之一。上面的代码还有可以优化的地方，比如生成上下影线和实体矩形参数，是可以使用numpy来避免循环的。</p>
<p>但这里真正的瓶颈是matplotlib本身。在我的笔记本电脑上，类似于上面的K线图，它每秒只能生成2~3幅。与之相比，我们上面提到的优化循环部分就显得无足轻重了。因为这个原因，为了易读性考虑，我保留了代码中的循环。</p>
<p>如果只是为了进行一些探索，上面的函数提供的性能是能满足需要的；但当我们使用CNN来训练和预测交易时，上面的函数就显得力不从心了。那时候我们必须得寻求60fps以上的方案。这个性能其实并不难，只要使用opengl，就能轻松达到。</p>
<p>如果我们需要保存图像到文件，我们需要使用 <em>figure.savefig</em> 方法：</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">save_to</span>  <span class="o">=</span> <span class="s1">&#39;/tmp/test.png&#39;</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">save_to</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="mi">80</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>如果我们需要进一步处理图像数据，可以使用BytesIO来把图像直接读到内存：</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>

<span class="n">buf</span> <span class="o">=</span> <span class="n">BytesIO</span><span class="p">()</span>
<span class="c1"># 此时必须指定format</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">)</span>
<span class="c1"># 必须，否则buf无法读出</span>
<span class="n">buf</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>

</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="output_text output_subarea output_execute_result">
<pre>
<code>0</code>
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>
</code></pre></div></td></tr></table></div>

</div>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    <a href="https://www.zhihu.com/people/hbaaron" target="_blank" rel="noopener" title="知乎" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"/></svg>
    </a>
  
    
    
    <a href="https://github.com/zillionare" target="_blank" rel="noopener" title="Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    <a href="mailto: aaron_yang@jieyu.ai" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.tabs", "navigation.instant", "navigation.tabs.sticky"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>